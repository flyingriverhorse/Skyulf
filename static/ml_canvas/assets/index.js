var jF=Object.defineProperty;var NN=e=>{throw TypeError(e)};var kF=(e,t,r)=>t in e?jF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vu=(e,t,r)=>kF(e,typeof t!="symbol"?t+"":t,r),dx=(e,t,r)=>t.has(e)||NN("Cannot "+r);var Y=(e,t,r)=>(dx(e,t,"read from private field"),r?r.call(e):t.get(e)),Ce=(e,t,r)=>t.has(e)?NN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ye=(e,t,r,n)=>(dx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ze=(e,t,r)=>(dx(e,t,"access private method"),r);var jh=(e,t,r,n)=>({set _(a){ye(e,t,a,r)},get _(){return Y(e,t,n)}});function NF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var SF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RO={exports:{}},Eg={},zO={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=Symbol.for("react.element"),PF=Symbol.for("react.portal"),CF=Symbol.for("react.fragment"),EF=Symbol.for("react.strict_mode"),OF=Symbol.for("react.profiler"),AF=Symbol.for("react.provider"),TF=Symbol.for("react.context"),MF=Symbol.for("react.forward_ref"),IF=Symbol.for("react.suspense"),LF=Symbol.for("react.memo"),DF=Symbol.for("react.lazy"),SN=Symbol.iterator;function RF(e){return e===null||typeof e!="object"?null:(e=SN&&e[SN]||e["@@iterator"],typeof e=="function"?e:null)}var FO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$O=Object.assign,BO={};function Ic(e,t,r){this.props=e,this.context=t,this.refs=BO,this.updater=r||FO}Ic.prototype.isReactComponent={};Ic.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ic.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function UO(){}UO.prototype=Ic.prototype;function i_(e,t,r){this.props=e,this.context=t,this.refs=BO,this.updater=r||FO}var s_=i_.prototype=new UO;s_.constructor=i_;$O(s_,Ic.prototype);s_.isPureReactComponent=!0;var PN=Array.isArray,HO=Object.prototype.hasOwnProperty,o_={current:null},WO={key:!0,ref:!0,__self:!0,__source:!0};function VO(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)HO.call(t,n)&&!WO.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];a.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:rf,type:e,key:i,ref:o,props:a,_owner:o_.current}}function zF(e,t){return{$$typeof:rf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function l_(e){return typeof e=="object"&&e!==null&&e.$$typeof===rf}function FF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var CN=/\/+/g;function fx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?FF(""+e.key):t.toString(36)}function bm(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case rf:case PF:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+fx(o,0):n,PN(a)?(r="",e!=null&&(r=e.replace(CN,"$&/")+"/"),bm(a,t,r,"",function(d){return d})):a!=null&&(l_(a)&&(a=zF(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(CN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",PN(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+fx(i,l);o+=bm(i,t,r,u,a)}else if(u=RF(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+fx(i,l++),o+=bm(i,t,r,u,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function kh(e,t,r){if(e==null)return e;var n=[],a=0;return bm(e,n,"","",function(i){return t.call(r,i,a++)}),n}function $F(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rr={current:null},wm={transition:null},BF={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:wm,ReactCurrentOwner:o_};function KO(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:kh,forEach:function(e,t,r){kh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kh(e,function(){t++}),t},toArray:function(e){return kh(e,function(t){return t})||[]},only:function(e){if(!l_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=Ic;De.Fragment=CF;De.Profiler=OF;De.PureComponent=i_;De.StrictMode=EF;De.Suspense=IF;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BF;De.act=KO;De.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$O({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=o_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)HO.call(t,u)&&!WO.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:rf,type:e.type,key:a,ref:i,props:n,_owner:o}};De.createContext=function(e){return e={$$typeof:TF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AF,_context:e},e.Consumer=e};De.createElement=VO;De.createFactory=function(e){var t=VO.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:MF,render:e}};De.isValidElement=l_;De.lazy=function(e){return{$$typeof:DF,_payload:{_status:-1,_result:e},_init:$F}};De.memo=function(e,t){return{$$typeof:LF,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=wm.transition;wm.transition={};try{e()}finally{wm.transition=t}};De.unstable_act=KO;De.useCallback=function(e,t){return Rr.current.useCallback(e,t)};De.useContext=function(e){return Rr.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return Rr.current.useDeferredValue(e)};De.useEffect=function(e,t){return Rr.current.useEffect(e,t)};De.useId=function(){return Rr.current.useId()};De.useImperativeHandle=function(e,t,r){return Rr.current.useImperativeHandle(e,t,r)};De.useInsertionEffect=function(e,t){return Rr.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return Rr.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return Rr.current.useMemo(e,t)};De.useReducer=function(e,t,r){return Rr.current.useReducer(e,t,r)};De.useRef=function(e){return Rr.current.useRef(e)};De.useState=function(e){return Rr.current.useState(e)};De.useSyncExternalStore=function(e,t,r){return Rr.current.useSyncExternalStore(e,t,r)};De.useTransition=function(){return Rr.current.useTransition()};De.version="18.3.1";zO.exports=De;var x=zO.exports;const Sr=Wa(x),UF=NF({__proto__:null,default:Sr},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HF=x,WF=Symbol.for("react.element"),VF=Symbol.for("react.fragment"),KF=Object.prototype.hasOwnProperty,qF=HF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZF={key:!0,ref:!0,__self:!0,__source:!0};function qO(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)KF.call(t,n)&&!ZF.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:WF,type:e,key:i,ref:o,props:a,_owner:qF.current}}Eg.Fragment=VF;Eg.jsx=qO;Eg.jsxs=qO;RO.exports=Eg;var s=RO.exports,Sv={},ZO={exports:{}},jn={},YO={exports:{}},GO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,D){var B=M.length;M.push(D);e:for(;0<B;){var V=B-1>>>1,G=M[V];if(0<a(G,D))M[V]=D,M[B]=G,B=V;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var D=M[0],B=M.pop();if(B!==D){M[0]=B;e:for(var V=0,G=M.length,Z=G>>>1;V<Z;){var Q=2*(V+1)-1,ie=M[Q],se=Q+1,oe=M[se];if(0>a(ie,B))se<G&&0>a(oe,ie)?(M[V]=oe,M[se]=B,V=se):(M[V]=ie,M[Q]=B,V=Q);else if(se<G&&0>a(oe,B))M[V]=oe,M[se]=B,V=se;else break e}}return D}function a(M,D){var B=M.sortIndex-D.sortIndex;return B!==0?B:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,h=null,p=3,g=!1,y=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(M){for(var D=r(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=M)n(d),D.sortIndex=D.expirationTime,t(u,D);else break;D=r(d)}}function N(M){if(b=!1,j(M),!y)if(r(u)!==null)y=!0,H(P);else{var D=r(d);D!==null&&W(N,D.startTime-M)}}function P(M,D){y=!1,b&&(b=!1,w(O),O=-1),g=!0;var B=p;try{for(j(D),h=r(u);h!==null&&(!(h.expirationTime>D)||M&&!I());){var V=h.callback;if(typeof V=="function"){h.callback=null,p=h.priorityLevel;var G=V(h.expirationTime<=D);D=e.unstable_now(),typeof G=="function"?h.callback=G:h===r(u)&&n(u),j(D)}else n(u);h=r(u)}if(h!==null)var Z=!0;else{var Q=r(d);Q!==null&&W(N,Q.startTime-D),Z=!1}return Z}finally{h=null,p=B,g=!1}}var C=!1,A=null,O=-1,T=5,$=-1;function I(){return!(e.unstable_now()-$<T)}function z(){if(A!==null){var M=e.unstable_now();$=M;var D=!0;try{D=A(!0,M)}finally{D?U():(C=!1,A=null)}}else C=!1}var U;if(typeof k=="function")U=function(){k(z)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=z,U=function(){q.postMessage(null)}}else U=function(){_(z,0)};function H(M){A=M,C||(C=!0,U())}function W(M,D){O=_(function(){M(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,H(P))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(M){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var B=p;p=D;try{return M()}finally{p=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=p;p=M;try{return D()}finally{p=B}},e.unstable_scheduleCallback=function(M,D,B){var V=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?V+B:V):B=V,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,M={id:f++,callback:D,priorityLevel:M,startTime:B,expirationTime:G,sortIndex:-1},B>V?(M.sortIndex=B,t(d,M),r(u)===null&&M===r(d)&&(b?(w(O),O=-1):b=!0,W(N,B-V))):(M.sortIndex=G,t(u,M),y||g||(y=!0,H(P))),M},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(M){var D=p;return function(){var B=p;p=D;try{return M.apply(this,arguments)}finally{p=B}}}})(GO);YO.exports=GO;var YF=YO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GF=x,xn=YF;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XO=new Set,ld={};function Jo(e,t){sc(e,t),sc(e+"Capture",t)}function sc(e,t){for(ld[e]=t,e=0;e<t.length;e++)XO.add(t[e])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pv=Object.prototype.hasOwnProperty,XF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,EN={},ON={};function QF(e){return Pv.call(ON,e)?!0:Pv.call(EN,e)?!1:XF.test(e)?ON[e]=!0:(EN[e]=!0,!1)}function JF(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function e$(e,t,r,n){if(t===null||typeof t>"u"||JF(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zr(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new zr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vr[t]=new zr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new zr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new zr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new zr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new zr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new zr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new zr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new zr(e,5,!1,e.toLowerCase(),null,!1,!1)});var c_=/[\-:]([a-z])/g;function u_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(c_,u_);vr[t]=new zr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(c_,u_);vr[t]=new zr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(c_,u_);vr[t]=new zr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new zr(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new zr(e,1,!1,e.toLowerCase(),null,!0,!0)});function d_(e,t,r,n){var a=vr.hasOwnProperty(t)?vr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(e$(t,r,a,n)&&(r=null),n||a===null?QF(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Li=GF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nh=Symbol.for("react.element"),jl=Symbol.for("react.portal"),kl=Symbol.for("react.fragment"),f_=Symbol.for("react.strict_mode"),Cv=Symbol.for("react.profiler"),QO=Symbol.for("react.provider"),JO=Symbol.for("react.context"),h_=Symbol.for("react.forward_ref"),Ev=Symbol.for("react.suspense"),Ov=Symbol.for("react.suspense_list"),m_=Symbol.for("react.memo"),Qi=Symbol.for("react.lazy"),eA=Symbol.for("react.offscreen"),AN=Symbol.iterator;function bu(e){return e===null||typeof e!="object"?null:(e=AN&&e[AN]||e["@@iterator"],typeof e=="function"?e:null)}var Nt=Object.assign,hx;function Bu(e){if(hx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hx=t&&t[1]||""}return`
`+hx+e}var mx=!1;function px(e,t){if(!e||mx)return"";mx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var u=`
`+a[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{mx=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Bu(e):""}function t$(e){switch(e.tag){case 5:return Bu(e.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return e=px(e.type,!1),e;case 11:return e=px(e.type.render,!1),e;case 1:return e=px(e.type,!0),e;default:return""}}function Av(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kl:return"Fragment";case jl:return"Portal";case Cv:return"Profiler";case f_:return"StrictMode";case Ev:return"Suspense";case Ov:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JO:return(e.displayName||"Context")+".Consumer";case QO:return(e._context.displayName||"Context")+".Provider";case h_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case m_:return t=e.displayName||null,t!==null?t:Av(e.type)||"Memo";case Qi:t=e._payload,e=e._init;try{return Av(e(t))}catch{}}return null}function r$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Av(t);case 8:return t===f_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n$(e){var t=tA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sh(e){e._valueTracker||(e._valueTracker=n$(e))}function rA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=tA(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tv(e,t){var r=t.checked;return Nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function TN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ts(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nA(e,t){t=t.checked,t!=null&&d_(e,"checked",t,!1)}function Mv(e,t){nA(e,t);var r=Ts(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Iv(e,t.type,r):t.hasOwnProperty("defaultValue")&&Iv(e,t.type,Ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function MN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Iv(e,t,r){(t!=="number"||Zm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Uu=Array.isArray;function Fl(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ts(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Lv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function IN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(Uu(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ts(r)}}function aA(e,t){var r=Ts(t.value),n=Ts(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function LN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ph,sA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ph=Ph||document.createElement("div"),Ph.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ph.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a$=["Webkit","ms","Moz","O"];Object.keys(Gu).forEach(function(e){a$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gu[t]=Gu[e]})});function oA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gu.hasOwnProperty(e)&&Gu[e]?(""+t).trim():t+"px"}function lA(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=oA(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var i$=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rv(e,t){if(t){if(i$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function zv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fv=null;function p_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $v=null,$l=null,Bl=null;function DN(e){if(e=sf(e)){if(typeof $v!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=Ig(t),$v(e.stateNode,e.type,t))}}function cA(e){$l?Bl?Bl.push(e):Bl=[e]:$l=e}function uA(){if($l){var e=$l,t=Bl;if(Bl=$l=null,DN(e),t)for(e=0;e<t.length;e++)DN(t[e])}}function dA(e,t){return e(t)}function fA(){}var gx=!1;function hA(e,t,r){if(gx)return e(t,r);gx=!0;try{return dA(e,t,r)}finally{gx=!1,($l!==null||Bl!==null)&&(fA(),uA())}}function ud(e,t){var r=e.stateNode;if(r===null)return null;var n=Ig(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var Bv=!1;if(_i)try{var wu={};Object.defineProperty(wu,"passive",{get:function(){Bv=!0}}),window.addEventListener("test",wu,wu),window.removeEventListener("test",wu,wu)}catch{Bv=!1}function s$(e,t,r,n,a,i,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var Xu=!1,Ym=null,Gm=!1,Uv=null,o$={onError:function(e){Xu=!0,Ym=e}};function l$(e,t,r,n,a,i,o,l,u){Xu=!1,Ym=null,s$.apply(o$,arguments)}function c$(e,t,r,n,a,i,o,l,u){if(l$.apply(this,arguments),Xu){if(Xu){var d=Ym;Xu=!1,Ym=null}else throw Error(ue(198));Gm||(Gm=!0,Uv=d)}}function el(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function RN(e){if(el(e)!==e)throw Error(ue(188))}function u$(e){var t=e.alternate;if(!t){if(t=el(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return RN(a),e;if(i===n)return RN(a),t;i=i.sibling}throw Error(ue(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function pA(e){return e=u$(e),e!==null?gA(e):null}function gA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gA(e);if(t!==null)return t;e=e.sibling}return null}var yA=xn.unstable_scheduleCallback,zN=xn.unstable_cancelCallback,d$=xn.unstable_shouldYield,f$=xn.unstable_requestPaint,It=xn.unstable_now,h$=xn.unstable_getCurrentPriorityLevel,g_=xn.unstable_ImmediatePriority,xA=xn.unstable_UserBlockingPriority,Xm=xn.unstable_NormalPriority,m$=xn.unstable_LowPriority,vA=xn.unstable_IdlePriority,Og=null,Ia=null;function p$(e){if(Ia&&typeof Ia.onCommitFiberRoot=="function")try{Ia.onCommitFiberRoot(Og,e,void 0,(e.current.flags&128)===128)}catch{}}var da=Math.clz32?Math.clz32:x$,g$=Math.log,y$=Math.LN2;function x$(e){return e>>>=0,e===0?32:31-(g$(e)/y$|0)|0}var Ch=64,Eh=4194304;function Hu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Hu(l):(i&=o,i!==0&&(n=Hu(i)))}else o=r&~a,o!==0?n=Hu(o):i!==0&&(n=Hu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-da(t),a=1<<r,n|=e[r],t&=~a;return n}function v$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b$(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-da(i),l=1<<o,u=a[o];u===-1?(!(l&r)||l&n)&&(a[o]=v$(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Hv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bA(){var e=Ch;return Ch<<=1,!(Ch&4194240)&&(Ch=64),e}function yx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function nf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-da(t),e[t]=r}function w$(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-da(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function y_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-da(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Qe=0;function wA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _A,x_,jA,kA,NA,Wv=!1,Oh=[],ws=null,_s=null,js=null,dd=new Map,fd=new Map,rs=[],_$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FN(e,t){switch(e){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":dd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(t.pointerId)}}function _u(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=sf(t),t!==null&&x_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function j$(e,t,r,n,a){switch(t){case"focusin":return ws=_u(ws,e,t,r,n,a),!0;case"dragenter":return _s=_u(_s,e,t,r,n,a),!0;case"mouseover":return js=_u(js,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return dd.set(i,_u(dd.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,fd.set(i,_u(fd.get(i)||null,e,t,r,n,a)),!0}return!1}function SA(e){var t=lo(e.target);if(t!==null){var r=el(t);if(r!==null){if(t=r.tag,t===13){if(t=mA(r),t!==null){e.blockedOn=t,NA(e.priority,function(){jA(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _m(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Vv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fv=n,r.target.dispatchEvent(n),Fv=null}else return t=sf(r),t!==null&&x_(t),e.blockedOn=r,!1;t.shift()}return!0}function $N(e,t,r){_m(e)&&r.delete(t)}function k$(){Wv=!1,ws!==null&&_m(ws)&&(ws=null),_s!==null&&_m(_s)&&(_s=null),js!==null&&_m(js)&&(js=null),dd.forEach($N),fd.forEach($N)}function ju(e,t){e.blockedOn===t&&(e.blockedOn=null,Wv||(Wv=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,k$)))}function hd(e){function t(a){return ju(a,e)}if(0<Oh.length){ju(Oh[0],e);for(var r=1;r<Oh.length;r++){var n=Oh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ws!==null&&ju(ws,e),_s!==null&&ju(_s,e),js!==null&&ju(js,e),dd.forEach(t),fd.forEach(t),r=0;r<rs.length;r++)n=rs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<rs.length&&(r=rs[0],r.blockedOn===null);)SA(r),r.blockedOn===null&&rs.shift()}var Ul=Li.ReactCurrentBatchConfig,Jm=!0;function N$(e,t,r,n){var a=Qe,i=Ul.transition;Ul.transition=null;try{Qe=1,v_(e,t,r,n)}finally{Qe=a,Ul.transition=i}}function S$(e,t,r,n){var a=Qe,i=Ul.transition;Ul.transition=null;try{Qe=4,v_(e,t,r,n)}finally{Qe=a,Ul.transition=i}}function v_(e,t,r,n){if(Jm){var a=Vv(e,t,r,n);if(a===null)Px(e,t,n,ep,r),FN(e,n);else if(j$(a,e,t,r,n))n.stopPropagation();else if(FN(e,n),t&4&&-1<_$.indexOf(e)){for(;a!==null;){var i=sf(a);if(i!==null&&_A(i),i=Vv(e,t,r,n),i===null&&Px(e,t,n,ep,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Px(e,t,n,null,r)}}var ep=null;function Vv(e,t,r,n){if(ep=null,e=p_(n),e=lo(e),e!==null)if(t=el(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mA(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ep=e,null}function PA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h$()){case g_:return 1;case xA:return 4;case Xm:case m$:return 16;case vA:return 536870912;default:return 16}default:return 16}}var ms=null,b_=null,jm=null;function CA(){if(jm)return jm;var e,t=b_,r=t.length,n,a="value"in ms?ms.value:ms.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return jm=a.slice(e,1<n?1-n:void 0)}function km(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ah(){return!0}function BN(){return!1}function kn(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ah:BN,this.isPropagationStopped=BN,this}return Nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ah)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ah)},persist:function(){},isPersistent:Ah}),t}var Lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},w_=kn(Lc),af=Nt({},Lc,{view:0,detail:0}),P$=kn(af),xx,vx,ku,Ag=Nt({},af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:__,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ku&&(ku&&e.type==="mousemove"?(xx=e.screenX-ku.screenX,vx=e.screenY-ku.screenY):vx=xx=0,ku=e),xx)},movementY:function(e){return"movementY"in e?e.movementY:vx}}),UN=kn(Ag),C$=Nt({},Ag,{dataTransfer:0}),E$=kn(C$),O$=Nt({},af,{relatedTarget:0}),bx=kn(O$),A$=Nt({},Lc,{animationName:0,elapsedTime:0,pseudoElement:0}),T$=kn(A$),M$=Nt({},Lc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),I$=kn(M$),L$=Nt({},Lc,{data:0}),HN=kn(L$),D$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=z$[e])?!!t[e]:!1}function __(){return F$}var $$=Nt({},af,{key:function(e){if(e.key){var t=D$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=km(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?R$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:__,charCode:function(e){return e.type==="keypress"?km(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?km(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B$=kn($$),U$=Nt({},Ag,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WN=kn(U$),H$=Nt({},af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:__}),W$=kn(H$),V$=Nt({},Lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),K$=kn(V$),q$=Nt({},Ag,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z$=kn(q$),Y$=[9,13,27,32],j_=_i&&"CompositionEvent"in window,Qu=null;_i&&"documentMode"in document&&(Qu=document.documentMode);var G$=_i&&"TextEvent"in window&&!Qu,EA=_i&&(!j_||Qu&&8<Qu&&11>=Qu),VN=" ",KN=!1;function OA(e,t){switch(e){case"keyup":return Y$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nl=!1;function X$(e,t){switch(e){case"compositionend":return AA(t);case"keypress":return t.which!==32?null:(KN=!0,VN);case"textInput":return e=t.data,e===VN&&KN?null:e;default:return null}}function Q$(e,t){if(Nl)return e==="compositionend"||!j_&&OA(e,t)?(e=CA(),jm=b_=ms=null,Nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return EA&&t.locale!=="ko"?null:t.data;default:return null}}var J$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!J$[e.type]:t==="textarea"}function TA(e,t,r,n){cA(n),t=tp(t,"onChange"),0<t.length&&(r=new w_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ju=null,md=null;function e6(e){HA(e,0)}function Tg(e){var t=Cl(e);if(rA(t))return e}function t6(e,t){if(e==="change")return t}var MA=!1;if(_i){var wx;if(_i){var _x="oninput"in document;if(!_x){var ZN=document.createElement("div");ZN.setAttribute("oninput","return;"),_x=typeof ZN.oninput=="function"}wx=_x}else wx=!1;MA=wx&&(!document.documentMode||9<document.documentMode)}function YN(){Ju&&(Ju.detachEvent("onpropertychange",IA),md=Ju=null)}function IA(e){if(e.propertyName==="value"&&Tg(md)){var t=[];TA(t,md,e,p_(e)),hA(e6,t)}}function r6(e,t,r){e==="focusin"?(YN(),Ju=t,md=r,Ju.attachEvent("onpropertychange",IA)):e==="focusout"&&YN()}function n6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tg(md)}function a6(e,t){if(e==="click")return Tg(t)}function i6(e,t){if(e==="input"||e==="change")return Tg(t)}function s6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ma=typeof Object.is=="function"?Object.is:s6;function pd(e,t){if(ma(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Pv.call(t,a)||!ma(e[a],t[a]))return!1}return!0}function GN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function XN(e,t){var r=GN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=GN(r)}}function LA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?LA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function DA(){for(var e=window,t=Zm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zm(e.document)}return t}function k_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o6(e){var t=DA(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&LA(r.ownerDocument.documentElement,r)){if(n!==null&&k_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=XN(r,i);var o=XN(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var l6=_i&&"documentMode"in document&&11>=document.documentMode,Sl=null,Kv=null,ed=null,qv=!1;function QN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qv||Sl==null||Sl!==Zm(n)||(n=Sl,"selectionStart"in n&&k_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ed&&pd(ed,n)||(ed=n,n=tp(Kv,"onSelect"),0<n.length&&(t=new w_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Sl)))}function Th(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pl={animationend:Th("Animation","AnimationEnd"),animationiteration:Th("Animation","AnimationIteration"),animationstart:Th("Animation","AnimationStart"),transitionend:Th("Transition","TransitionEnd")},jx={},RA={};_i&&(RA=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Mg(e){if(jx[e])return jx[e];if(!Pl[e])return e;var t=Pl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in RA)return jx[e]=t[r];return e}var zA=Mg("animationend"),FA=Mg("animationiteration"),$A=Mg("animationstart"),BA=Mg("transitionend"),UA=new Map,JN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(e,t){UA.set(e,t),Jo(t,[e])}for(var kx=0;kx<JN.length;kx++){var Nx=JN[kx],c6=Nx.toLowerCase(),u6=Nx[0].toUpperCase()+Nx.slice(1);Rs(c6,"on"+u6)}Rs(zA,"onAnimationEnd");Rs(FA,"onAnimationIteration");Rs($A,"onAnimationStart");Rs("dblclick","onDoubleClick");Rs("focusin","onFocus");Rs("focusout","onBlur");Rs(BA,"onTransitionEnd");sc("onMouseEnter",["mouseout","mouseover"]);sc("onMouseLeave",["mouseout","mouseover"]);sc("onPointerEnter",["pointerout","pointerover"]);sc("onPointerLeave",["pointerout","pointerover"]);Jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function e2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,c$(n,t,void 0,e),e.currentTarget=null}function HA(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==i&&a.isPropagationStopped())break e;e2(a,l,d),i=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==i&&a.isPropagationStopped())break e;e2(a,l,d),i=u}}}if(Gm)throw e=Uv,Gm=!1,Uv=null,e}function st(e,t){var r=t[Qv];r===void 0&&(r=t[Qv]=new Set);var n=e+"__bubble";r.has(n)||(WA(t,e,2,!1),r.add(n))}function Sx(e,t,r){var n=0;t&&(n|=4),WA(r,e,n,t)}var Mh="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[Mh]){e[Mh]=!0,XO.forEach(function(r){r!=="selectionchange"&&(d6.has(r)||Sx(r,!1,e),Sx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mh]||(t[Mh]=!0,Sx("selectionchange",!1,t))}}function WA(e,t,r,n){switch(PA(t)){case 1:var a=N$;break;case 4:a=S$;break;default:a=v_}r=a.bind(null,t,r,e),a=void 0,!Bv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Px(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;o=o.return}for(;l!==null;){if(o=lo(l),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}l=l.parentNode}}n=n.return}hA(function(){var d=i,f=p_(r),h=[];e:{var p=UA.get(e);if(p!==void 0){var g=w_,y=e;switch(e){case"keypress":if(km(r)===0)break e;case"keydown":case"keyup":g=B$;break;case"focusin":y="focus",g=bx;break;case"focusout":y="blur",g=bx;break;case"beforeblur":case"afterblur":g=bx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=UN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=E$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=W$;break;case zA:case FA:case $A:g=T$;break;case BA:g=K$;break;case"scroll":g=P$;break;case"wheel":g=Z$;break;case"copy":case"cut":case"paste":g=I$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=WN}var b=(t&4)!==0,_=!b&&e==="scroll",w=b?p!==null?p+"Capture":null:p;b=[];for(var k=d,j;k!==null;){j=k;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,w!==null&&(N=ud(k,w),N!=null&&b.push(yd(k,N,j)))),_)break;k=k.return}0<b.length&&(p=new g(p,y,null,r,f),h.push({event:p,listeners:b}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&r!==Fv&&(y=r.relatedTarget||r.fromElement)&&(lo(y)||y[ji]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=d,y=y?lo(y):null,y!==null&&(_=el(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=d),g!==y)){if(b=UN,N="onMouseLeave",w="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(b=WN,N="onPointerLeave",w="onPointerEnter",k="pointer"),_=g==null?p:Cl(g),j=y==null?p:Cl(y),p=new b(N,k+"leave",g,r,f),p.target=_,p.relatedTarget=j,N=null,lo(f)===d&&(b=new b(w,k+"enter",y,r,f),b.target=j,b.relatedTarget=_,N=b),_=N,g&&y)t:{for(b=g,w=y,k=0,j=b;j;j=gl(j))k++;for(j=0,N=w;N;N=gl(N))j++;for(;0<k-j;)b=gl(b),k--;for(;0<j-k;)w=gl(w),j--;for(;k--;){if(b===w||w!==null&&b===w.alternate)break t;b=gl(b),w=gl(w)}b=null}else b=null;g!==null&&t2(h,p,g,b,!1),y!==null&&_!==null&&t2(h,_,y,b,!0)}}e:{if(p=d?Cl(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=t6;else if(qN(p))if(MA)P=i6;else{P=n6;var C=r6}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=a6);if(P&&(P=P(e,d))){TA(h,P,r,f);break e}C&&C(e,p,d),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Iv(p,"number",p.value)}switch(C=d?Cl(d):window,e){case"focusin":(qN(C)||C.contentEditable==="true")&&(Sl=C,Kv=d,ed=null);break;case"focusout":ed=Kv=Sl=null;break;case"mousedown":qv=!0;break;case"contextmenu":case"mouseup":case"dragend":qv=!1,QN(h,r,f);break;case"selectionchange":if(l6)break;case"keydown":case"keyup":QN(h,r,f)}var A;if(j_)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Nl?OA(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(EA&&r.locale!=="ko"&&(Nl||O!=="onCompositionStart"?O==="onCompositionEnd"&&Nl&&(A=CA()):(ms=f,b_="value"in ms?ms.value:ms.textContent,Nl=!0)),C=tp(d,O),0<C.length&&(O=new HN(O,e,null,r,f),h.push({event:O,listeners:C}),A?O.data=A:(A=AA(r),A!==null&&(O.data=A)))),(A=G$?X$(e,r):Q$(e,r))&&(d=tp(d,"onBeforeInput"),0<d.length&&(f=new HN("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:d}),f.data=A))}HA(h,t)})}function yd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tp(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ud(e,r),i!=null&&n.unshift(yd(e,i,a)),i=ud(e,t),i!=null&&n.push(yd(e,i,a))),e=e.return}return n}function gl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function t2(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,d=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&d!==null&&(l=d,a?(u=ud(r,i),u!=null&&o.unshift(yd(r,u,l))):a||(u=ud(r,i),u!=null&&o.push(yd(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var f6=/\r\n?/g,h6=/\u0000|\uFFFD/g;function r2(e){return(typeof e=="string"?e:""+e).replace(f6,`
`).replace(h6,"")}function Ih(e,t,r){if(t=r2(t),r2(e)!==t&&r)throw Error(ue(425))}function rp(){}var Zv=null,Yv=null;function Gv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xv=typeof setTimeout=="function"?setTimeout:void 0,m6=typeof clearTimeout=="function"?clearTimeout:void 0,n2=typeof Promise=="function"?Promise:void 0,p6=typeof queueMicrotask=="function"?queueMicrotask:typeof n2<"u"?function(e){return n2.resolve(null).then(e).catch(g6)}:Xv;function g6(e){setTimeout(function(){throw e})}function Cx(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),hd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);hd(t)}function ks(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function a2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Dc=Math.random().toString(36).slice(2),Ta="__reactFiber$"+Dc,xd="__reactProps$"+Dc,ji="__reactContainer$"+Dc,Qv="__reactEvents$"+Dc,y6="__reactListeners$"+Dc,x6="__reactHandles$"+Dc;function lo(e){var t=e[Ta];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ji]||r[Ta]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=a2(e);e!==null;){if(r=e[Ta])return r;e=a2(e)}return t}e=r,r=e.parentNode}return null}function sf(e){return e=e[Ta]||e[ji],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function Ig(e){return e[xd]||null}var Jv=[],El=-1;function zs(e){return{current:e}}function lt(e){0>El||(e.current=Jv[El],Jv[El]=null,El--)}function at(e,t){El++,Jv[El]=e.current,e.current=t}var Ms={},Pr=zs(Ms),tn=zs(!1),Lo=Ms;function oc(e,t){var r=e.type.contextTypes;if(!r)return Ms;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function rn(e){return e=e.childContextTypes,e!=null}function np(){lt(tn),lt(Pr)}function i2(e,t,r){if(Pr.current!==Ms)throw Error(ue(168));at(Pr,t),at(tn,r)}function VA(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ue(108,r$(e)||"Unknown",a));return Nt({},r,n)}function ap(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ms,Lo=Pr.current,at(Pr,e),at(tn,tn.current),!0}function s2(e,t,r){var n=e.stateNode;if(!n)throw Error(ue(169));r?(e=VA(e,t,Lo),n.__reactInternalMemoizedMergedChildContext=e,lt(tn),lt(Pr),at(Pr,e)):lt(tn),at(tn,r)}var si=null,Lg=!1,Ex=!1;function KA(e){si===null?si=[e]:si.push(e)}function v6(e){Lg=!0,KA(e)}function Fs(){if(!Ex&&si!==null){Ex=!0;var e=0,t=Qe;try{var r=si;for(Qe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}si=null,Lg=!1}catch(a){throw si!==null&&(si=si.slice(e+1)),yA(g_,Fs),a}finally{Qe=t,Ex=!1}}return null}var Ol=[],Al=0,ip=null,sp=0,Ln=[],Dn=0,Do=null,fi=1,hi="";function to(e,t){Ol[Al++]=sp,Ol[Al++]=ip,ip=e,sp=t}function qA(e,t,r){Ln[Dn++]=fi,Ln[Dn++]=hi,Ln[Dn++]=Do,Do=e;var n=fi;e=hi;var a=32-da(n)-1;n&=~(1<<a),r+=1;var i=32-da(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,fi=1<<32-da(t)+a|r<<a|n,hi=i+e}else fi=1<<i|r<<a|n,hi=e}function N_(e){e.return!==null&&(to(e,1),qA(e,1,0))}function S_(e){for(;e===ip;)ip=Ol[--Al],Ol[Al]=null,sp=Ol[--Al],Ol[Al]=null;for(;e===Do;)Do=Ln[--Dn],Ln[Dn]=null,hi=Ln[--Dn],Ln[Dn]=null,fi=Ln[--Dn],Ln[Dn]=null}var gn=null,mn=null,ht=!1,na=null;function ZA(e,t){var r=Rn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function o2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gn=e,mn=ks(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gn=e,mn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Do!==null?{id:fi,overflow:hi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Rn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gn=e,mn=null,!0):!1;default:return!1}}function eb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tb(e){if(ht){var t=mn;if(t){var r=t;if(!o2(e,t)){if(eb(e))throw Error(ue(418));t=ks(r.nextSibling);var n=gn;t&&o2(e,t)?ZA(n,r):(e.flags=e.flags&-4097|2,ht=!1,gn=e)}}else{if(eb(e))throw Error(ue(418));e.flags=e.flags&-4097|2,ht=!1,gn=e}}}function l2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gn=e}function Lh(e){if(e!==gn)return!1;if(!ht)return l2(e),ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gv(e.type,e.memoizedProps)),t&&(t=mn)){if(eb(e))throw YA(),Error(ue(418));for(;t;)ZA(e,t),t=ks(t.nextSibling)}if(l2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mn=ks(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mn=null}}else mn=gn?ks(e.stateNode.nextSibling):null;return!0}function YA(){for(var e=mn;e;)e=ks(e.nextSibling)}function lc(){mn=gn=null,ht=!1}function P_(e){na===null?na=[e]:na.push(e)}var b6=Li.ReactCurrentBatchConfig;function Nu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function Dh(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function c2(e){var t=e._init;return t(e._payload)}function GA(e){function t(w,k){if(e){var j=w.deletions;j===null?(w.deletions=[k],w.flags|=16):j.push(k)}}function r(w,k){if(!e)return null;for(;k!==null;)t(w,k),k=k.sibling;return null}function n(w,k){for(w=new Map;k!==null;)k.key!==null?w.set(k.key,k):w.set(k.index,k),k=k.sibling;return w}function a(w,k){return w=Cs(w,k),w.index=0,w.sibling=null,w}function i(w,k,j){return w.index=j,e?(j=w.alternate,j!==null?(j=j.index,j<k?(w.flags|=2,k):j):(w.flags|=2,k)):(w.flags|=1048576,k)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,k,j,N){return k===null||k.tag!==6?(k=Dx(j,w.mode,N),k.return=w,k):(k=a(k,j),k.return=w,k)}function u(w,k,j,N){var P=j.type;return P===kl?f(w,k,j.props.children,N,j.key):k!==null&&(k.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Qi&&c2(P)===k.type)?(N=a(k,j.props),N.ref=Nu(w,k,j),N.return=w,N):(N=Am(j.type,j.key,j.props,null,w.mode,N),N.ref=Nu(w,k,j),N.return=w,N)}function d(w,k,j,N){return k===null||k.tag!==4||k.stateNode.containerInfo!==j.containerInfo||k.stateNode.implementation!==j.implementation?(k=Rx(j,w.mode,N),k.return=w,k):(k=a(k,j.children||[]),k.return=w,k)}function f(w,k,j,N,P){return k===null||k.tag!==7?(k=Eo(j,w.mode,N,P),k.return=w,k):(k=a(k,j),k.return=w,k)}function h(w,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Dx(""+k,w.mode,j),k.return=w,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Nh:return j=Am(k.type,k.key,k.props,null,w.mode,j),j.ref=Nu(w,null,k),j.return=w,j;case jl:return k=Rx(k,w.mode,j),k.return=w,k;case Qi:var N=k._init;return h(w,N(k._payload),j)}if(Uu(k)||bu(k))return k=Eo(k,w.mode,j,null),k.return=w,k;Dh(w,k)}return null}function p(w,k,j,N){var P=k!==null?k.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return P!==null?null:l(w,k,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Nh:return j.key===P?u(w,k,j,N):null;case jl:return j.key===P?d(w,k,j,N):null;case Qi:return P=j._init,p(w,k,P(j._payload),N)}if(Uu(j)||bu(j))return P!==null?null:f(w,k,j,N,null);Dh(w,j)}return null}function g(w,k,j,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(j)||null,l(k,w,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Nh:return w=w.get(N.key===null?j:N.key)||null,u(k,w,N,P);case jl:return w=w.get(N.key===null?j:N.key)||null,d(k,w,N,P);case Qi:var C=N._init;return g(w,k,j,C(N._payload),P)}if(Uu(N)||bu(N))return w=w.get(j)||null,f(k,w,N,P,null);Dh(k,N)}return null}function y(w,k,j,N){for(var P=null,C=null,A=k,O=k=0,T=null;A!==null&&O<j.length;O++){A.index>O?(T=A,A=null):T=A.sibling;var $=p(w,A,j[O],N);if($===null){A===null&&(A=T);break}e&&A&&$.alternate===null&&t(w,A),k=i($,k,O),C===null?P=$:C.sibling=$,C=$,A=T}if(O===j.length)return r(w,A),ht&&to(w,O),P;if(A===null){for(;O<j.length;O++)A=h(w,j[O],N),A!==null&&(k=i(A,k,O),C===null?P=A:C.sibling=A,C=A);return ht&&to(w,O),P}for(A=n(w,A);O<j.length;O++)T=g(A,w,O,j[O],N),T!==null&&(e&&T.alternate!==null&&A.delete(T.key===null?O:T.key),k=i(T,k,O),C===null?P=T:C.sibling=T,C=T);return e&&A.forEach(function(I){return t(w,I)}),ht&&to(w,O),P}function b(w,k,j,N){var P=bu(j);if(typeof P!="function")throw Error(ue(150));if(j=P.call(j),j==null)throw Error(ue(151));for(var C=P=null,A=k,O=k=0,T=null,$=j.next();A!==null&&!$.done;O++,$=j.next()){A.index>O?(T=A,A=null):T=A.sibling;var I=p(w,A,$.value,N);if(I===null){A===null&&(A=T);break}e&&A&&I.alternate===null&&t(w,A),k=i(I,k,O),C===null?P=I:C.sibling=I,C=I,A=T}if($.done)return r(w,A),ht&&to(w,O),P;if(A===null){for(;!$.done;O++,$=j.next())$=h(w,$.value,N),$!==null&&(k=i($,k,O),C===null?P=$:C.sibling=$,C=$);return ht&&to(w,O),P}for(A=n(w,A);!$.done;O++,$=j.next())$=g(A,w,O,$.value,N),$!==null&&(e&&$.alternate!==null&&A.delete($.key===null?O:$.key),k=i($,k,O),C===null?P=$:C.sibling=$,C=$);return e&&A.forEach(function(z){return t(w,z)}),ht&&to(w,O),P}function _(w,k,j,N){if(typeof j=="object"&&j!==null&&j.type===kl&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Nh:e:{for(var P=j.key,C=k;C!==null;){if(C.key===P){if(P=j.type,P===kl){if(C.tag===7){r(w,C.sibling),k=a(C,j.props.children),k.return=w,w=k;break e}}else if(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Qi&&c2(P)===C.type){r(w,C.sibling),k=a(C,j.props),k.ref=Nu(w,C,j),k.return=w,w=k;break e}r(w,C);break}else t(w,C);C=C.sibling}j.type===kl?(k=Eo(j.props.children,w.mode,N,j.key),k.return=w,w=k):(N=Am(j.type,j.key,j.props,null,w.mode,N),N.ref=Nu(w,k,j),N.return=w,w=N)}return o(w);case jl:e:{for(C=j.key;k!==null;){if(k.key===C)if(k.tag===4&&k.stateNode.containerInfo===j.containerInfo&&k.stateNode.implementation===j.implementation){r(w,k.sibling),k=a(k,j.children||[]),k.return=w,w=k;break e}else{r(w,k);break}else t(w,k);k=k.sibling}k=Rx(j,w.mode,N),k.return=w,w=k}return o(w);case Qi:return C=j._init,_(w,k,C(j._payload),N)}if(Uu(j))return y(w,k,j,N);if(bu(j))return b(w,k,j,N);Dh(w,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,k!==null&&k.tag===6?(r(w,k.sibling),k=a(k,j),k.return=w,w=k):(r(w,k),k=Dx(j,w.mode,N),k.return=w,w=k),o(w)):r(w,k)}return _}var cc=GA(!0),XA=GA(!1),op=zs(null),lp=null,Tl=null,C_=null;function E_(){C_=Tl=lp=null}function O_(e){var t=op.current;lt(op),e._currentValue=t}function rb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hl(e,t){lp=e,C_=Tl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gr=!0),e.firstContext=null)}function Bn(e){var t=e._currentValue;if(C_!==e)if(e={context:e,memoizedValue:t,next:null},Tl===null){if(lp===null)throw Error(ue(308));Tl=e,lp.dependencies={lanes:0,firstContext:e}}else Tl=Tl.next=e;return t}var co=null;function A_(e){co===null?co=[e]:co.push(e)}function QA(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,A_(t)):(r.next=a.next,a.next=r),t.interleaved=r,ki(e,n)}function ki(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ji=!1;function T_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,He&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ki(e,r)}return a=n.interleaved,a===null?(t.next=t,A_(n)):(t.next=a.next,a.next=t),n.interleaved=t,ki(e,r)}function Nm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,y_(e,r)}}function u2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cp(e,t,r,n){var a=e.updateQueue;Ji=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=u))}if(i!==null){var h=a.baseState;o=0,f=d=u=null,l=i;do{var p=l.lane,g=l.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,b=l;switch(p=t,g=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){h=y.call(g,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,p=typeof y=="function"?y.call(g,h,p):y,p==null)break e;h=Nt({},h,p);break e;case 2:Ji=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=g,u=h):f=f.next=g,o|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(f===null&&(u=h),a.baseState=u,a.firstBaseUpdate=d,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);zo|=o,e.lanes=o,e.memoizedState=h}}function d2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ue(191,a));a.call(n)}}}var of={},La=zs(of),vd=zs(of),bd=zs(of);function uo(e){if(e===of)throw Error(ue(174));return e}function M_(e,t){switch(at(bd,t),at(vd,e),at(La,of),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dv(t,e)}lt(La),at(La,t)}function uc(){lt(La),lt(vd),lt(bd)}function eT(e){uo(bd.current);var t=uo(La.current),r=Dv(t,e.type);t!==r&&(at(vd,e),at(La,r))}function I_(e){vd.current===e&&(lt(La),lt(vd))}var wt=zs(0);function up(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ox=[];function L_(){for(var e=0;e<Ox.length;e++)Ox[e]._workInProgressVersionPrimary=null;Ox.length=0}var Sm=Li.ReactCurrentDispatcher,Ax=Li.ReactCurrentBatchConfig,Ro=0,_t=null,Wt=null,ar=null,dp=!1,td=!1,wd=0,w6=0;function br(){throw Error(ue(321))}function D_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ma(e[r],t[r]))return!1;return!0}function R_(e,t,r,n,a,i){if(Ro=i,_t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sm.current=e===null||e.memoizedState===null?N6:S6,e=r(n,a),td){i=0;do{if(td=!1,wd=0,25<=i)throw Error(ue(301));i+=1,ar=Wt=null,t.updateQueue=null,Sm.current=P6,e=r(n,a)}while(td)}if(Sm.current=fp,t=Wt!==null&&Wt.next!==null,Ro=0,ar=Wt=_t=null,dp=!1,t)throw Error(ue(300));return e}function z_(){var e=wd!==0;return wd=0,e}function Pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?_t.memoizedState=ar=e:ar=ar.next=e,ar}function Un(){if(Wt===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var t=ar===null?_t.memoizedState:ar.next;if(t!==null)ar=t,Wt=e;else{if(e===null)throw Error(ue(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},ar===null?_t.memoizedState=ar=e:ar=ar.next=e}return ar}function _d(e,t){return typeof t=="function"?t(e):t}function Tx(e){var t=Un(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=Wt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,u=null,d=i;do{var f=d.lane;if((Ro&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=h,o=n):u=u.next=h,_t.lanes|=f,zo|=f}d=d.next}while(d!==null&&d!==i);u===null?o=n:u.next=l,ma(n,t.memoizedState)||(Gr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,_t.lanes|=i,zo|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Mx(e){var t=Un(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ma(i,t.memoizedState)||(Gr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function tT(){}function rT(e,t){var r=_t,n=Un(),a=t(),i=!ma(n.memoizedState,a);if(i&&(n.memoizedState=a,Gr=!0),n=n.queue,F_(iT.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ar!==null&&ar.memoizedState.tag&1){if(r.flags|=2048,jd(9,aT.bind(null,r,n,a,t),void 0,null),sr===null)throw Error(ue(349));Ro&30||nT(r,t,a)}return a}function nT(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function aT(e,t,r,n){t.value=r,t.getSnapshot=n,sT(t)&&oT(e)}function iT(e,t,r){return r(function(){sT(t)&&oT(e)})}function sT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ma(e,r)}catch{return!0}}function oT(e){var t=ki(e,1);t!==null&&fa(t,e,1,-1)}function f2(e){var t=Pa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_d,lastRenderedState:e},t.queue=e,e=e.dispatch=k6.bind(null,_t,e),[t.memoizedState,e]}function jd(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function lT(){return Un().memoizedState}function Pm(e,t,r,n){var a=Pa();_t.flags|=e,a.memoizedState=jd(1|t,r,void 0,n===void 0?null:n)}function Dg(e,t,r,n){var a=Un();n=n===void 0?null:n;var i=void 0;if(Wt!==null){var o=Wt.memoizedState;if(i=o.destroy,n!==null&&D_(n,o.deps)){a.memoizedState=jd(t,r,i,n);return}}_t.flags|=e,a.memoizedState=jd(1|t,r,i,n)}function h2(e,t){return Pm(8390656,8,e,t)}function F_(e,t){return Dg(2048,8,e,t)}function cT(e,t){return Dg(4,2,e,t)}function uT(e,t){return Dg(4,4,e,t)}function dT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fT(e,t,r){return r=r!=null?r.concat([e]):null,Dg(4,4,dT.bind(null,t,e),r)}function $_(){}function hT(e,t){var r=Un();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&D_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mT(e,t){var r=Un();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&D_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function pT(e,t,r){return Ro&21?(ma(r,t)||(r=bA(),_t.lanes|=r,zo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gr=!0),e.memoizedState=r)}function _6(e,t){var r=Qe;Qe=r!==0&&4>r?r:4,e(!0);var n=Ax.transition;Ax.transition={};try{e(!1),t()}finally{Qe=r,Ax.transition=n}}function gT(){return Un().memoizedState}function j6(e,t,r){var n=Ps(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yT(e))xT(t,r);else if(r=QA(e,t,r,n),r!==null){var a=Lr();fa(r,e,n,a),vT(r,t,n)}}function k6(e,t,r){var n=Ps(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yT(e))xT(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,ma(l,o)){var u=t.interleaved;u===null?(a.next=a,A_(t)):(a.next=u.next,u.next=a),t.interleaved=a;return}}catch{}finally{}r=QA(e,t,a,n),r!==null&&(a=Lr(),fa(r,e,n,a),vT(r,t,n))}}function yT(e){var t=e.alternate;return e===_t||t!==null&&t===_t}function xT(e,t){td=dp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vT(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,y_(e,r)}}var fp={readContext:Bn,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},N6={readContext:Bn,useCallback:function(e,t){return Pa().memoizedState=[e,t===void 0?null:t],e},useContext:Bn,useEffect:h2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Pm(4194308,4,dT.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pm(4,2,e,t)},useMemo:function(e,t){var r=Pa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Pa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=j6.bind(null,_t,e),[n.memoizedState,e]},useRef:function(e){var t=Pa();return e={current:e},t.memoizedState=e},useState:f2,useDebugValue:$_,useDeferredValue:function(e){return Pa().memoizedState=e},useTransition:function(){var e=f2(!1),t=e[0];return e=_6.bind(null,e[1]),Pa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=_t,a=Pa();if(ht){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),sr===null)throw Error(ue(349));Ro&30||nT(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,h2(iT.bind(null,n,i,e),[e]),n.flags|=2048,jd(9,aT.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Pa(),t=sr.identifierPrefix;if(ht){var r=hi,n=fi;r=(n&~(1<<32-da(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=w6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},S6={readContext:Bn,useCallback:hT,useContext:Bn,useEffect:F_,useImperativeHandle:fT,useInsertionEffect:cT,useLayoutEffect:uT,useMemo:mT,useReducer:Tx,useRef:lT,useState:function(){return Tx(_d)},useDebugValue:$_,useDeferredValue:function(e){var t=Un();return pT(t,Wt.memoizedState,e)},useTransition:function(){var e=Tx(_d)[0],t=Un().memoizedState;return[e,t]},useMutableSource:tT,useSyncExternalStore:rT,useId:gT,unstable_isNewReconciler:!1},P6={readContext:Bn,useCallback:hT,useContext:Bn,useEffect:F_,useImperativeHandle:fT,useInsertionEffect:cT,useLayoutEffect:uT,useMemo:mT,useReducer:Mx,useRef:lT,useState:function(){return Mx(_d)},useDebugValue:$_,useDeferredValue:function(e){var t=Un();return Wt===null?t.memoizedState=e:pT(t,Wt.memoizedState,e)},useTransition:function(){var e=Mx(_d)[0],t=Un().memoizedState;return[e,t]},useMutableSource:tT,useSyncExternalStore:rT,useId:gT,unstable_isNewReconciler:!1};function Qn(e,t){if(e&&e.defaultProps){t=Nt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function nb(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Nt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rg={isMounted:function(e){return(e=e._reactInternals)?el(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Lr(),a=Ps(e),i=yi(n,a);i.payload=t,r!=null&&(i.callback=r),t=Ns(e,i,a),t!==null&&(fa(t,e,a,n),Nm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Lr(),a=Ps(e),i=yi(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ns(e,i,a),t!==null&&(fa(t,e,a,n),Nm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Lr(),n=Ps(e),a=yi(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ns(e,a,n),t!==null&&(fa(t,e,n,r),Nm(t,e,n))}};function m2(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!pd(r,n)||!pd(a,i):!0}function bT(e,t,r){var n=!1,a=Ms,i=t.contextType;return typeof i=="object"&&i!==null?i=Bn(i):(a=rn(t)?Lo:Pr.current,n=t.contextTypes,i=(n=n!=null)?oc(e,a):Ms),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function p2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Rg.enqueueReplaceState(t,t.state,null)}function ab(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},T_(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Bn(i):(i=rn(t)?Lo:Pr.current,a.context=oc(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(nb(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Rg.enqueueReplaceState(a,a.state,null),cp(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function dc(e,t){try{var r="",n=t;do r+=t$(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Ix(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ib(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var C6=typeof WeakMap=="function"?WeakMap:Map;function wT(e,t,r){r=yi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){mp||(mp=!0,pb=n),ib(e,t)},r}function _T(e,t,r){r=yi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ib(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ib(e,t),typeof n!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function g2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new C6;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=U6.bind(null,e,t,r),t.then(e,e))}function y2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function x2(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=yi(-1,1),t.tag=2,Ns(r,t,1))),r.lanes|=1),e)}var E6=Li.ReactCurrentOwner,Gr=!1;function Tr(e,t,r,n){t.child=e===null?XA(t,null,r,n):cc(t,e.child,r,n)}function v2(e,t,r,n,a){r=r.render;var i=t.ref;return Hl(t,a),n=R_(e,t,r,n,i,a),r=z_(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ni(e,t,a)):(ht&&r&&N_(t),t.flags|=1,Tr(e,t,n,a),t.child)}function b2(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Z_(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,jT(e,t,i,n,a)):(e=Am(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:pd,r(o,n)&&e.ref===t.ref)return Ni(e,t,a)}return t.flags|=1,e=Cs(i,n),e.ref=t.ref,e.return=t,t.child=e}function jT(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(pd(i,n)&&e.ref===t.ref)if(Gr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Gr=!0);else return t.lanes=e.lanes,Ni(e,t,a)}return sb(e,t,r,n,a)}function kT(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Il,un),un|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,at(Il,un),un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,at(Il,un),un|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,at(Il,un),un|=n;return Tr(e,t,a,r),t.child}function NT(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function sb(e,t,r,n,a){var i=rn(r)?Lo:Pr.current;return i=oc(t,i),Hl(t,a),r=R_(e,t,r,n,i,a),n=z_(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ni(e,t,a)):(ht&&n&&N_(t),t.flags|=1,Tr(e,t,r,a),t.child)}function w2(e,t,r,n,a){if(rn(r)){var i=!0;ap(t)}else i=!1;if(Hl(t,a),t.stateNode===null)Cm(e,t),bT(t,r,n),ab(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Bn(d):(d=rn(r)?Lo:Pr.current,d=oc(t,d));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==d)&&p2(t,o,n,d),Ji=!1;var p=t.memoizedState;o.state=p,cp(t,n,o,a),u=t.memoizedState,l!==n||p!==u||tn.current||Ji?(typeof f=="function"&&(nb(t,r,f,n),u=t.memoizedState),(l=Ji||m2(t,r,l,n,p,u,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,JA(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Qn(t.type,l),o.props=d,h=t.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Bn(u):(u=rn(r)?Lo:Pr.current,u=oc(t,u));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==u)&&p2(t,o,n,u),Ji=!1,p=t.memoizedState,o.state=p,cp(t,n,o,a);var y=t.memoizedState;l!==h||p!==y||tn.current||Ji?(typeof g=="function"&&(nb(t,r,g,n),y=t.memoizedState),(d=Ji||m2(t,r,d,n,p,y,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=u,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return ob(e,t,r,n,i,a)}function ob(e,t,r,n,a,i){NT(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&s2(t,r,!1),Ni(e,t,i);n=t.stateNode,E6.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=cc(t,e.child,null,i),t.child=cc(t,null,l,i)):Tr(e,t,l,i),t.memoizedState=n.state,a&&s2(t,r,!0),t.child}function ST(e){var t=e.stateNode;t.pendingContext?i2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&i2(e,t.context,!1),M_(e,t.containerInfo)}function _2(e,t,r,n,a){return lc(),P_(a),t.flags|=256,Tr(e,t,r,n),t.child}var lb={dehydrated:null,treeContext:null,retryLane:0};function cb(e){return{baseLanes:e,cachePool:null,transitions:null}}function PT(e,t,r){var n=t.pendingProps,a=wt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),at(wt,a&1),e===null)return tb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$g(o,n,0,null),e=Eo(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=cb(r),t.memoizedState=lb,e):B_(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return O6(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Cs(a,u),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Cs(l,i):(i=Eo(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?cb(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=lb,n}return i=e.child,e=i.sibling,n=Cs(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function B_(e,t){return t=$g({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rh(e,t,r,n){return n!==null&&P_(n),cc(t,e.child,null,r),e=B_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function O6(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ix(Error(ue(422))),Rh(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=$g({mode:"visible",children:n.children},a,0,null),i=Eo(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&cc(t,e.child,null,o),t.child.memoizedState=cb(o),t.memoizedState=lb,i);if(!(t.mode&1))return Rh(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ue(419)),n=Ix(i,n,void 0),Rh(e,t,o,n)}if(l=(o&e.childLanes)!==0,Gr||l){if(n=sr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ki(e,a),fa(n,e,a,-1))}return q_(),n=Ix(Error(ue(421))),Rh(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=H6.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,mn=ks(a.nextSibling),gn=t,ht=!0,na=null,e!==null&&(Ln[Dn++]=fi,Ln[Dn++]=hi,Ln[Dn++]=Do,fi=e.id,hi=e.overflow,Do=t),t=B_(t,n.children),t.flags|=4096,t)}function j2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rb(e.return,t,r)}function Lx(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function CT(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Tr(e,t,n.children,r),n=wt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&j2(e,r,t);else if(e.tag===19)j2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(at(wt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&up(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Lx(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&up(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Lx(t,!0,r,null,i);break;case"together":Lx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ni(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=Cs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Cs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function A6(e,t,r){switch(t.tag){case 3:ST(t),lc();break;case 5:eT(t);break;case 1:rn(t.type)&&ap(t);break;case 4:M_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;at(op,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(at(wt,wt.current&1),t.flags|=128,null):r&t.child.childLanes?PT(e,t,r):(at(wt,wt.current&1),e=Ni(e,t,r),e!==null?e.sibling:null);at(wt,wt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return CT(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),at(wt,wt.current),n)break;return null;case 22:case 23:return t.lanes=0,kT(e,t,r)}return Ni(e,t,r)}var ET,ub,OT,AT;ET=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ub=function(){};OT=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,uo(La.current);var i=null;switch(r){case"input":a=Tv(e,a),n=Tv(e,n),i=[];break;case"select":a=Nt({},a,{value:void 0}),n=Nt({},n,{value:void 0}),i=[];break;case"textarea":a=Lv(e,a),n=Lv(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=rp)}Rv(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ld.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var u=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(d,r)),r=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ld.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&st("scroll",e),i||l===u||(i=[])):(i=i||[]).push(d,u))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};AT=function(e,t,r,n){r!==n&&(t.flags|=4)};function Su(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function T6(e,t,r){var n=t.pendingProps;switch(S_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(t),null;case 1:return rn(t.type)&&np(),wr(t),null;case 3:return n=t.stateNode,uc(),lt(tn),lt(Pr),L_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Lh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,na!==null&&(xb(na),na=null))),ub(e,t),wr(t),null;case 5:I_(t);var a=uo(bd.current);if(r=t.type,e!==null&&t.stateNode!=null)OT(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return wr(t),null}if(e=uo(La.current),Lh(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ta]=t,n[xd]=i,e=(t.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(a=0;a<Wu.length;a++)st(Wu[a],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":TN(n,i),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},st("invalid",n);break;case"textarea":IN(n,i),st("invalid",n)}Rv(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ih(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ih(n.textContent,l,e),a=["children",""+l]):ld.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&st("scroll",n)}switch(r){case"input":Sh(n),MN(n,i,!0);break;case"textarea":Sh(n),LN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=rp)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iA(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ta]=t,e[xd]=n,ET(e,t,!1,!1),t.stateNode=e;e:{switch(o=zv(r,n),r){case"dialog":st("cancel",e),st("close",e),a=n;break;case"iframe":case"object":case"embed":st("load",e),a=n;break;case"video":case"audio":for(a=0;a<Wu.length;a++)st(Wu[a],e);a=n;break;case"source":st("error",e),a=n;break;case"img":case"image":case"link":st("error",e),st("load",e),a=n;break;case"details":st("toggle",e),a=n;break;case"input":TN(e,n),a=Tv(e,n),st("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Nt({},n,{value:void 0}),st("invalid",e);break;case"textarea":IN(e,n),a=Lv(e,n),st("invalid",e);break;default:a=n}Rv(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?lA(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&sA(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&cd(e,u):typeof u=="number"&&cd(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ld.hasOwnProperty(i)?u!=null&&i==="onScroll"&&st("scroll",e):u!=null&&d_(e,i,u,o))}switch(r){case"input":Sh(e),MN(e,n,!1);break;case"textarea":Sh(e),LN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ts(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Fl(e,!!n.multiple,i,!1):n.defaultValue!=null&&Fl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=rp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wr(t),null;case 6:if(e&&t.stateNode!=null)AT(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ue(166));if(r=uo(bd.current),uo(La.current),Lh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ta]=t,(i=n.nodeValue!==r)&&(e=gn,e!==null))switch(e.tag){case 3:Ih(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ih(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ta]=t,t.stateNode=n}return wr(t),null;case 13:if(lt(wt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ht&&mn!==null&&t.mode&1&&!(t.flags&128))YA(),lc(),t.flags|=98560,i=!1;else if(i=Lh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ue(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ue(317));i[Ta]=t}else lc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wr(t),i=!1}else na!==null&&(xb(na),na=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||wt.current&1?Kt===0&&(Kt=3):q_())),t.updateQueue!==null&&(t.flags|=4),wr(t),null);case 4:return uc(),ub(e,t),e===null&&gd(t.stateNode.containerInfo),wr(t),null;case 10:return O_(t.type._context),wr(t),null;case 17:return rn(t.type)&&np(),wr(t),null;case 19:if(lt(wt),i=t.memoizedState,i===null)return wr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Su(i,!1);else{if(Kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=up(e),o!==null){for(t.flags|=128,Su(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return at(wt,wt.current&1|2),t.child}e=e.sibling}i.tail!==null&&It()>fc&&(t.flags|=128,n=!0,Su(i,!1),t.lanes=4194304)}else{if(!n)if(e=up(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Su(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ht)return wr(t),null}else 2*It()-i.renderingStartTime>fc&&r!==1073741824&&(t.flags|=128,n=!0,Su(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=It(),t.sibling=null,r=wt.current,at(wt,n?r&1|2:r&1),t):(wr(t),null);case 22:case 23:return K_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?un&1073741824&&(wr(t),t.subtreeFlags&6&&(t.flags|=8192)):wr(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function M6(e,t){switch(S_(t),t.tag){case 1:return rn(t.type)&&np(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uc(),lt(tn),lt(Pr),L_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return I_(t),null;case 13:if(lt(wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));lc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(wt),null;case 4:return uc(),null;case 10:return O_(t.type._context),null;case 22:case 23:return K_(),null;case 24:return null;default:return null}}var zh=!1,jr=!1,I6=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Ml(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Et(e,t,n)}else r.current=null}function db(e,t,r){try{r()}catch(n){Et(e,t,n)}}var k2=!1;function L6(e,t){if(Zv=Jm,e=DA(),k_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,d=0,f=0,h=e,p=null;t:for(;;){for(var g;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===e)break t;if(p===r&&++d===a&&(l=o),p===i&&++f===n&&(u=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yv={focusedElem:e,selectionRange:r},Jm=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,_=y.memoizedState,w=t.stateNode,k=w.getSnapshotBeforeUpdate(t.elementType===t.type?b:Qn(t.type,b),_);w.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(N){Et(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return y=k2,k2=!1,y}function rd(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&db(t,r,i)}a=a.next}while(a!==n)}}function zg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function TT(e){var t=e.alternate;t!==null&&(e.alternate=null,TT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ta],delete t[xd],delete t[Qv],delete t[y6],delete t[x6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function MT(e){return e.tag===5||e.tag===3||e.tag===4}function N2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||MT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rp));else if(n!==4&&(e=e.child,e!==null))for(hb(e,t,r),e=e.sibling;e!==null;)hb(e,t,r),e=e.sibling}function mb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mb(e,t,r),e=e.sibling;e!==null;)mb(e,t,r),e=e.sibling}var pr=null,ta=!1;function Ki(e,t,r){for(r=r.child;r!==null;)IT(e,t,r),r=r.sibling}function IT(e,t,r){if(Ia&&typeof Ia.onCommitFiberUnmount=="function")try{Ia.onCommitFiberUnmount(Og,r)}catch{}switch(r.tag){case 5:jr||Ml(r,t);case 6:var n=pr,a=ta;pr=null,Ki(e,t,r),pr=n,ta=a,pr!==null&&(ta?(e=pr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pr.removeChild(r.stateNode));break;case 18:pr!==null&&(ta?(e=pr,r=r.stateNode,e.nodeType===8?Cx(e.parentNode,r):e.nodeType===1&&Cx(e,r),hd(e)):Cx(pr,r.stateNode));break;case 4:n=pr,a=ta,pr=r.stateNode.containerInfo,ta=!0,Ki(e,t,r),pr=n,ta=a;break;case 0:case 11:case 14:case 15:if(!jr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&db(r,t,o),a=a.next}while(a!==n)}Ki(e,t,r);break;case 1:if(!jr&&(Ml(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Et(r,t,l)}Ki(e,t,r);break;case 21:Ki(e,t,r);break;case 22:r.mode&1?(jr=(n=jr)||r.memoizedState!==null,Ki(e,t,r),jr=n):Ki(e,t,r);break;default:Ki(e,t,r)}}function S2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new I6),t.forEach(function(n){var a=W6.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Xn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:pr=l.stateNode,ta=!1;break e;case 3:pr=l.stateNode.containerInfo,ta=!0;break e;case 4:pr=l.stateNode.containerInfo,ta=!0;break e}l=l.return}if(pr===null)throw Error(ue(160));IT(i,o,a),pr=null,ta=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(d){Et(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)LT(t,e),t=t.sibling}function LT(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xn(t,e),Na(e),n&4){try{rd(3,e,e.return),zg(3,e)}catch(b){Et(e,e.return,b)}try{rd(5,e,e.return)}catch(b){Et(e,e.return,b)}}break;case 1:Xn(t,e),Na(e),n&512&&r!==null&&Ml(r,r.return);break;case 5:if(Xn(t,e),Na(e),n&512&&r!==null&&Ml(r,r.return),e.flags&32){var a=e.stateNode;try{cd(a,"")}catch(b){Et(e,e.return,b)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&nA(a,i),zv(l,o);var d=zv(l,i);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?lA(a,h):f==="dangerouslySetInnerHTML"?sA(a,h):f==="children"?cd(a,h):d_(a,f,h,d)}switch(l){case"input":Mv(a,i);break;case"textarea":aA(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Fl(a,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Fl(a,!!i.multiple,i.defaultValue,!0):Fl(a,!!i.multiple,i.multiple?[]:"",!1))}a[xd]=i}catch(b){Et(e,e.return,b)}}break;case 6:if(Xn(t,e),Na(e),n&4){if(e.stateNode===null)throw Error(ue(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){Et(e,e.return,b)}}break;case 3:if(Xn(t,e),Na(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hd(t.containerInfo)}catch(b){Et(e,e.return,b)}break;case 4:Xn(t,e),Na(e);break;case 13:Xn(t,e),Na(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(W_=It())),n&4&&S2(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(jr=(d=jr)||f,Xn(t,e),jr=d):Xn(t,e),Na(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(xe=e,f=e.child;f!==null;){for(h=xe=f;xe!==null;){switch(p=xe,g=p.child,p.tag){case 0:case 11:case 14:case 15:rd(4,p,p.return);break;case 1:Ml(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Et(n,r,b)}}break;case 5:Ml(p,p.return);break;case 22:if(p.memoizedState!==null){C2(h);continue}}g!==null?(g.return=p,xe=g):C2(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=oA("display",o))}catch(b){Et(e,e.return,b)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(b){Et(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xn(t,e),Na(e),n&4&&S2(e);break;case 21:break;default:Xn(t,e),Na(e)}}function Na(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(MT(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(cd(a,""),n.flags&=-33);var i=N2(e);mb(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=N2(e);hb(e,l,o);break;default:throw Error(ue(161))}}catch(u){Et(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function D6(e,t,r){xe=e,DT(e)}function DT(e,t,r){for(var n=(e.mode&1)!==0;xe!==null;){var a=xe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||zh;if(!o){var l=a.alternate,u=l!==null&&l.memoizedState!==null||jr;l=zh;var d=jr;if(zh=o,(jr=u)&&!d)for(xe=a;xe!==null;)o=xe,u=o.child,o.tag===22&&o.memoizedState!==null?E2(a):u!==null?(u.return=o,xe=u):E2(a);for(;i!==null;)xe=i,DT(i),i=i.sibling;xe=a,zh=l,jr=d}P2(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,xe=i):P2(e)}}function P2(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jr||zg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!jr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Qn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&d2(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}d2(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&hd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}jr||t.flags&512&&fb(t)}catch(p){Et(t,t.return,p)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function C2(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function E2(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zg(4,t)}catch(u){Et(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(u){Et(t,a,u)}}var i=t.return;try{fb(t)}catch(u){Et(t,i,u)}break;case 5:var o=t.return;try{fb(t)}catch(u){Et(t,o,u)}}}catch(u){Et(t,t.return,u)}if(t===e){xe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,xe=l;break}xe=t.return}}var R6=Math.ceil,hp=Li.ReactCurrentDispatcher,U_=Li.ReactCurrentOwner,Fn=Li.ReactCurrentBatchConfig,He=0,sr=null,Ft=null,xr=0,un=0,Il=zs(0),Kt=0,kd=null,zo=0,Fg=0,H_=0,nd=null,Yr=null,W_=0,fc=1/0,ii=null,mp=!1,pb=null,Ss=null,Fh=!1,ps=null,pp=0,ad=0,gb=null,Em=-1,Om=0;function Lr(){return He&6?It():Em!==-1?Em:Em=It()}function Ps(e){return e.mode&1?He&2&&xr!==0?xr&-xr:b6.transition!==null?(Om===0&&(Om=bA()),Om):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:PA(e.type)),e):1}function fa(e,t,r,n){if(50<ad)throw ad=0,gb=null,Error(ue(185));nf(e,r,n),(!(He&2)||e!==sr)&&(e===sr&&(!(He&2)&&(Fg|=r),Kt===4&&ns(e,xr)),nn(e,n),r===1&&He===0&&!(t.mode&1)&&(fc=It()+500,Lg&&Fs()))}function nn(e,t){var r=e.callbackNode;b$(e,t);var n=Qm(e,e===sr?xr:0);if(n===0)r!==null&&zN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&zN(r),t===1)e.tag===0?v6(O2.bind(null,e)):KA(O2.bind(null,e)),p6(function(){!(He&6)&&Fs()}),r=null;else{switch(wA(n)){case 1:r=g_;break;case 4:r=xA;break;case 16:r=Xm;break;case 536870912:r=vA;break;default:r=Xm}r=WT(r,RT.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function RT(e,t){if(Em=-1,Om=0,He&6)throw Error(ue(327));var r=e.callbackNode;if(Wl()&&e.callbackNode!==r)return null;var n=Qm(e,e===sr?xr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gp(e,n);else{t=n;var a=He;He|=2;var i=FT();(sr!==e||xr!==t)&&(ii=null,fc=It()+500,Co(e,t));do try{$6();break}catch(l){zT(e,l)}while(!0);E_(),hp.current=i,He=a,Ft!==null?t=0:(sr=null,xr=0,t=Kt)}if(t!==0){if(t===2&&(a=Hv(e),a!==0&&(n=a,t=yb(e,a))),t===1)throw r=kd,Co(e,0),ns(e,n),nn(e,It()),r;if(t===6)ns(e,n);else{if(a=e.current.alternate,!(n&30)&&!z6(a)&&(t=gp(e,n),t===2&&(i=Hv(e),i!==0&&(n=i,t=yb(e,i))),t===1))throw r=kd,Co(e,0),ns(e,n),nn(e,It()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ue(345));case 2:ro(e,Yr,ii);break;case 3:if(ns(e,n),(n&130023424)===n&&(t=W_+500-It(),10<t)){if(Qm(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Lr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Xv(ro.bind(null,e,Yr,ii),t);break}ro(e,Yr,ii);break;case 4:if(ns(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-da(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=It()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*R6(n/1960))-n,10<n){e.timeoutHandle=Xv(ro.bind(null,e,Yr,ii),n);break}ro(e,Yr,ii);break;case 5:ro(e,Yr,ii);break;default:throw Error(ue(329))}}}return nn(e,It()),e.callbackNode===r?RT.bind(null,e):null}function yb(e,t){var r=nd;return e.current.memoizedState.isDehydrated&&(Co(e,t).flags|=256),e=gp(e,t),e!==2&&(t=Yr,Yr=r,t!==null&&xb(t)),e}function xb(e){Yr===null?Yr=e:Yr.push.apply(Yr,e)}function z6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ma(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ns(e,t){for(t&=~H_,t&=~Fg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-da(t),n=1<<r;e[r]=-1,t&=~n}}function O2(e){if(He&6)throw Error(ue(327));Wl();var t=Qm(e,0);if(!(t&1))return nn(e,It()),null;var r=gp(e,t);if(e.tag!==0&&r===2){var n=Hv(e);n!==0&&(t=n,r=yb(e,n))}if(r===1)throw r=kd,Co(e,0),ns(e,t),nn(e,It()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ro(e,Yr,ii),nn(e,It()),null}function V_(e,t){var r=He;He|=1;try{return e(t)}finally{He=r,He===0&&(fc=It()+500,Lg&&Fs())}}function Fo(e){ps!==null&&ps.tag===0&&!(He&6)&&Wl();var t=He;He|=1;var r=Fn.transition,n=Qe;try{if(Fn.transition=null,Qe=1,e)return e()}finally{Qe=n,Fn.transition=r,He=t,!(He&6)&&Fs()}}function K_(){un=Il.current,lt(Il)}function Co(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,m6(r)),Ft!==null)for(r=Ft.return;r!==null;){var n=r;switch(S_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&np();break;case 3:uc(),lt(tn),lt(Pr),L_();break;case 5:I_(n);break;case 4:uc();break;case 13:lt(wt);break;case 19:lt(wt);break;case 10:O_(n.type._context);break;case 22:case 23:K_()}r=r.return}if(sr=e,Ft=e=Cs(e.current,null),xr=un=t,Kt=0,kd=null,H_=Fg=zo=0,Yr=nd=null,co!==null){for(t=0;t<co.length;t++)if(r=co[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}co=null}return e}function zT(e,t){do{var r=Ft;try{if(E_(),Sm.current=fp,dp){for(var n=_t.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}dp=!1}if(Ro=0,ar=Wt=_t=null,td=!1,wd=0,U_.current=null,r===null||r.return===null){Kt=1,kd=t,Ft=null;break}e:{var i=e,o=r.return,l=r,u=t;if(t=xr,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=y2(o);if(g!==null){g.flags&=-257,x2(g,o,l,i,t),g.mode&1&&g2(i,d,t),t=g,u=d;var y=t.updateQueue;if(y===null){var b=new Set;b.add(u),t.updateQueue=b}else y.add(u);break e}else{if(!(t&1)){g2(i,d,t),q_();break e}u=Error(ue(426))}}else if(ht&&l.mode&1){var _=y2(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),x2(_,o,l,i,t),P_(dc(u,l));break e}}i=u=dc(u,l),Kt!==4&&(Kt=2),nd===null?nd=[i]:nd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=wT(i,u,t);u2(i,w);break e;case 1:l=u;var k=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof k.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ss===null||!Ss.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=_T(i,l,t);u2(i,N);break e}}i=i.return}while(i!==null)}BT(r)}catch(P){t=P,Ft===r&&r!==null&&(Ft=r=r.return);continue}break}while(!0)}function FT(){var e=hp.current;return hp.current=fp,e===null?fp:e}function q_(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),sr===null||!(zo&268435455)&&!(Fg&268435455)||ns(sr,xr)}function gp(e,t){var r=He;He|=2;var n=FT();(sr!==e||xr!==t)&&(ii=null,Co(e,t));do try{F6();break}catch(a){zT(e,a)}while(!0);if(E_(),He=r,hp.current=n,Ft!==null)throw Error(ue(261));return sr=null,xr=0,Kt}function F6(){for(;Ft!==null;)$T(Ft)}function $6(){for(;Ft!==null&&!d$();)$T(Ft)}function $T(e){var t=HT(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?BT(e):Ft=t,U_.current=null}function BT(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=M6(r,t),r!==null){r.flags&=32767,Ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Kt=6,Ft=null;return}}else if(r=T6(r,t,un),r!==null){Ft=r;return}if(t=t.sibling,t!==null){Ft=t;return}Ft=t=e}while(t!==null);Kt===0&&(Kt=5)}function ro(e,t,r){var n=Qe,a=Fn.transition;try{Fn.transition=null,Qe=1,B6(e,t,r,n)}finally{Fn.transition=a,Qe=n}return null}function B6(e,t,r,n){do Wl();while(ps!==null);if(He&6)throw Error(ue(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(w$(e,i),e===sr&&(Ft=sr=null,xr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fh||(Fh=!0,WT(Xm,function(){return Wl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Fn.transition,Fn.transition=null;var o=Qe;Qe=1;var l=He;He|=4,U_.current=null,L6(e,r),LT(r,e),o6(Yv),Jm=!!Zv,Yv=Zv=null,e.current=r,D6(r),f$(),He=l,Qe=o,Fn.transition=i}else e.current=r;if(Fh&&(Fh=!1,ps=e,pp=a),i=e.pendingLanes,i===0&&(Ss=null),p$(r.stateNode),nn(e,It()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(mp)throw mp=!1,e=pb,pb=null,e;return pp&1&&e.tag!==0&&Wl(),i=e.pendingLanes,i&1?e===gb?ad++:(ad=0,gb=e):ad=0,Fs(),null}function Wl(){if(ps!==null){var e=wA(pp),t=Fn.transition,r=Qe;try{if(Fn.transition=null,Qe=16>e?16:e,ps===null)var n=!1;else{if(e=ps,ps=null,pp=0,He&6)throw Error(ue(331));var a=He;for(He|=4,xe=e.current;xe!==null;){var i=xe,o=i.child;if(xe.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(xe=d;xe!==null;){var f=xe;switch(f.tag){case 0:case 11:case 15:rd(8,f,i)}var h=f.child;if(h!==null)h.return=f,xe=h;else for(;xe!==null;){f=xe;var p=f.sibling,g=f.return;if(TT(f),f===d){xe=null;break}if(p!==null){p.return=g,xe=p;break}xe=g}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var _=b.sibling;b.sibling=null,b=_}while(b!==null)}}xe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,xe=o;else e:for(;xe!==null;){if(i=xe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rd(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,xe=w;break e}xe=i.return}}var k=e.current;for(xe=k;xe!==null;){o=xe;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,xe=j;else e:for(o=k;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zg(9,l)}}catch(P){Et(l,l.return,P)}if(l===o){xe=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,xe=N;break e}xe=l.return}}if(He=a,Fs(),Ia&&typeof Ia.onPostCommitFiberRoot=="function")try{Ia.onPostCommitFiberRoot(Og,e)}catch{}n=!0}return n}finally{Qe=r,Fn.transition=t}}return!1}function A2(e,t,r){t=dc(r,t),t=wT(e,t,1),e=Ns(e,t,1),t=Lr(),e!==null&&(nf(e,1,t),nn(e,t))}function Et(e,t,r){if(e.tag===3)A2(e,e,r);else for(;t!==null;){if(t.tag===3){A2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ss===null||!Ss.has(n))){e=dc(r,e),e=_T(t,e,1),t=Ns(t,e,1),e=Lr(),t!==null&&(nf(t,1,e),nn(t,e));break}}t=t.return}}function U6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Lr(),e.pingedLanes|=e.suspendedLanes&r,sr===e&&(xr&r)===r&&(Kt===4||Kt===3&&(xr&130023424)===xr&&500>It()-W_?Co(e,0):H_|=r),nn(e,t)}function UT(e,t){t===0&&(e.mode&1?(t=Eh,Eh<<=1,!(Eh&130023424)&&(Eh=4194304)):t=1);var r=Lr();e=ki(e,t),e!==null&&(nf(e,t,r),nn(e,r))}function H6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),UT(e,r)}function W6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(t),UT(e,r)}var HT;HT=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tn.current)Gr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gr=!1,A6(e,t,r);Gr=!!(e.flags&131072)}else Gr=!1,ht&&t.flags&1048576&&qA(t,sp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Cm(e,t),e=t.pendingProps;var a=oc(t,Pr.current);Hl(t,r),a=R_(null,t,n,e,a,r);var i=z_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rn(n)?(i=!0,ap(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,T_(t),a.updater=Rg,t.stateNode=a,a._reactInternals=t,ab(t,n,e,r),t=ob(null,t,n,!0,i,r)):(t.tag=0,ht&&i&&N_(t),Tr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Cm(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=K6(n),e=Qn(n,e),a){case 0:t=sb(null,t,n,e,r);break e;case 1:t=w2(null,t,n,e,r);break e;case 11:t=v2(null,t,n,e,r);break e;case 14:t=b2(null,t,n,Qn(n.type,e),r);break e}throw Error(ue(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),sb(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),w2(e,t,n,a,r);case 3:e:{if(ST(t),e===null)throw Error(ue(387));n=t.pendingProps,i=t.memoizedState,a=i.element,JA(e,t),cp(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=dc(Error(ue(423)),t),t=_2(e,t,n,r,a);break e}else if(n!==a){a=dc(Error(ue(424)),t),t=_2(e,t,n,r,a);break e}else for(mn=ks(t.stateNode.containerInfo.firstChild),gn=t,ht=!0,na=null,r=XA(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lc(),n===a){t=Ni(e,t,r);break e}Tr(e,t,n,r)}t=t.child}return t;case 5:return eT(t),e===null&&tb(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Gv(n,a)?o=null:i!==null&&Gv(n,i)&&(t.flags|=32),NT(e,t),Tr(e,t,o,r),t.child;case 6:return e===null&&tb(t),null;case 13:return PT(e,t,r);case 4:return M_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cc(t,null,n,r):Tr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),v2(e,t,n,a,r);case 7:return Tr(e,t,t.pendingProps,r),t.child;case 8:return Tr(e,t,t.pendingProps.children,r),t.child;case 12:return Tr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,at(op,n._currentValue),n._currentValue=o,i!==null)if(ma(i.value,o)){if(i.children===a.children&&!tn.current){t=Ni(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=yi(-1,r&-r),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),rb(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ue(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),rb(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Hl(t,r),a=Bn(a),n=n(a),t.flags|=1,Tr(e,t,n,r),t.child;case 14:return n=t.type,a=Qn(n,t.pendingProps),a=Qn(n.type,a),b2(e,t,n,a,r);case 15:return jT(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),Cm(e,t),t.tag=1,rn(n)?(e=!0,ap(t)):e=!1,Hl(t,r),bT(t,n,a),ab(t,n,a,r),ob(null,t,n,!0,e,r);case 19:return CT(e,t,r);case 22:return kT(e,t,r)}throw Error(ue(156,t.tag))};function WT(e,t){return yA(e,t)}function V6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,r,n){return new V6(e,t,r,n)}function Z_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function K6(e){if(typeof e=="function")return Z_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===h_)return 11;if(e===m_)return 14}return 2}function Cs(e,t){var r=e.alternate;return r===null?(r=Rn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Am(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Z_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case kl:return Eo(r.children,a,i,t);case f_:o=8,a|=8;break;case Cv:return e=Rn(12,r,t,a|2),e.elementType=Cv,e.lanes=i,e;case Ev:return e=Rn(13,r,t,a),e.elementType=Ev,e.lanes=i,e;case Ov:return e=Rn(19,r,t,a),e.elementType=Ov,e.lanes=i,e;case eA:return $g(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case QO:o=10;break e;case JO:o=9;break e;case h_:o=11;break e;case m_:o=14;break e;case Qi:o=16,n=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=Rn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Eo(e,t,r,n){return e=Rn(7,e,n,t),e.lanes=r,e}function $g(e,t,r,n){return e=Rn(22,e,n,t),e.elementType=eA,e.lanes=r,e.stateNode={isHidden:!1},e}function Dx(e,t,r){return e=Rn(6,e,null,t),e.lanes=r,e}function Rx(e,t,r){return t=Rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function q6(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yx(0),this.expirationTimes=yx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yx(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Y_(e,t,r,n,a,i,o,l,u){return e=new q6(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Rn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},T_(i),e}function Z6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function VT(e){if(!e)return Ms;e=e._reactInternals;e:{if(el(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(rn(r))return VA(e,r,t)}return t}function KT(e,t,r,n,a,i,o,l,u){return e=Y_(r,n,!0,e,a,i,o,l,u),e.context=VT(null),r=e.current,n=Lr(),a=Ps(r),i=yi(n,a),i.callback=t??null,Ns(r,i,a),e.current.lanes=a,nf(e,a,n),nn(e,n),e}function Bg(e,t,r,n){var a=t.current,i=Lr(),o=Ps(a);return r=VT(r),t.context===null?t.context=r:t.pendingContext=r,t=yi(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ns(a,t,o),e!==null&&(fa(e,a,o,i),Nm(e,a,o)),o}function yp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function T2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function G_(e,t){T2(e,t),(e=e.alternate)&&T2(e,t)}function Y6(){return null}var qT=typeof reportError=="function"?reportError:function(e){console.error(e)};function X_(e){this._internalRoot=e}Ug.prototype.render=X_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));Bg(e,t,null,null)};Ug.prototype.unmount=X_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fo(function(){Bg(null,e,null,null)}),t[ji]=null}};function Ug(e){this._internalRoot=e}Ug.prototype.unstable_scheduleHydration=function(e){if(e){var t=kA();e={blockedOn:null,target:e,priority:t};for(var r=0;r<rs.length&&t!==0&&t<rs[r].priority;r++);rs.splice(r,0,e),r===0&&SA(e)}};function Q_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function M2(){}function G6(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=yp(o);i.call(d)}}var o=KT(t,n,e,0,null,!1,!1,"",M2);return e._reactRootContainer=o,e[ji]=o.current,gd(e.nodeType===8?e.parentNode:e),Fo(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=yp(u);l.call(d)}}var u=Y_(e,0,!1,null,null,!1,!1,"",M2);return e._reactRootContainer=u,e[ji]=u.current,gd(e.nodeType===8?e.parentNode:e),Fo(function(){Bg(t,u,r,n)}),u}function Wg(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var u=yp(o);l.call(u)}}Bg(t,o,e,a)}else o=G6(r,t,e,a,n);return yp(o)}_A=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Hu(t.pendingLanes);r!==0&&(y_(t,r|1),nn(t,It()),!(He&6)&&(fc=It()+500,Fs()))}break;case 13:Fo(function(){var n=ki(e,1);if(n!==null){var a=Lr();fa(n,e,1,a)}}),G_(e,1)}};x_=function(e){if(e.tag===13){var t=ki(e,134217728);if(t!==null){var r=Lr();fa(t,e,134217728,r)}G_(e,134217728)}};jA=function(e){if(e.tag===13){var t=Ps(e),r=ki(e,t);if(r!==null){var n=Lr();fa(r,e,t,n)}G_(e,t)}};kA=function(){return Qe};NA=function(e,t){var r=Qe;try{return Qe=e,t()}finally{Qe=r}};$v=function(e,t,r){switch(t){case"input":if(Mv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ig(n);if(!a)throw Error(ue(90));rA(n),Mv(n,a)}}}break;case"textarea":aA(e,r);break;case"select":t=r.value,t!=null&&Fl(e,!!r.multiple,t,!1)}};dA=V_;fA=Fo;var X6={usingClientEntryPoint:!1,Events:[sf,Cl,Ig,cA,uA,V_]},Pu={findFiberByHostInstance:lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q6={bundleType:Pu.bundleType,version:Pu.version,rendererPackageName:Pu.rendererPackageName,rendererConfig:Pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pA(e),e===null?null:e.stateNode},findFiberByHostInstance:Pu.findFiberByHostInstance||Y6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{Og=$h.inject(Q6),Ia=$h}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X6;jn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Q_(t))throw Error(ue(200));return Z6(e,t,null,r)};jn.createRoot=function(e,t){if(!Q_(e))throw Error(ue(299));var r=!1,n="",a=qT;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Y_(e,1,!1,null,null,r,!1,n,a),e[ji]=t.current,gd(e.nodeType===8?e.parentNode:e),new X_(t)};jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=pA(t),e=e===null?null:e.stateNode,e};jn.flushSync=function(e){return Fo(e)};jn.hydrate=function(e,t,r){if(!Hg(t))throw Error(ue(200));return Wg(null,e,t,!0,r)};jn.hydrateRoot=function(e,t,r){if(!Q_(e))throw Error(ue(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=qT;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=KT(t,null,e,1,r??null,a,!1,i,o),e[ji]=t.current,gd(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ug(t)};jn.render=function(e,t,r){if(!Hg(t))throw Error(ue(200));return Wg(null,e,t,!1,r)};jn.unmountComponentAtNode=function(e){if(!Hg(e))throw Error(ue(40));return e._reactRootContainer?(Fo(function(){Wg(null,null,e,!1,function(){e._reactRootContainer=null,e[ji]=null})}),!0):!1};jn.unstable_batchedUpdates=V_;jn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hg(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return Wg(e,t,r,!1,n)};jn.version="18.3.1-next-f1338f8080-20240426";function ZT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZT)}catch(e){console.error(e)}}ZT(),ZO.exports=jn;var Rc=ZO.exports,I2=Rc;Sv.createRoot=I2.createRoot,Sv.hydrateRoot=I2.hydrateRoot;var lf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},J6={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ss,a_,PO,e8=(PO=class{constructor(){Ce(this,ss,J6);Ce(this,a_,!1)}setTimeoutProvider(e){ye(this,ss,e)}setTimeout(e,t){return Y(this,ss).setTimeout(e,t)}clearTimeout(e){Y(this,ss).clearTimeout(e)}setInterval(e,t){return Y(this,ss).setInterval(e,t)}clearInterval(e){Y(this,ss).clearInterval(e)}},ss=new WeakMap,a_=new WeakMap,PO),fo=new e8;function t8(e){setTimeout(e,0)}var $o=typeof window>"u"||"Deno"in globalThis;function Zr(){}function r8(e,t){return typeof e=="function"?e(t):e}function vb(e){return typeof e=="number"&&e>=0&&e!==1/0}function YT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Es(e,t){return typeof e=="function"?e(t):e}function In(e,t){return typeof e=="function"?e(t):e}function L2(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==J_(o,t.options))return!1}else if(!Sd(t.queryKey,o))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function D2(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Nd(t.options.mutationKey)!==Nd(i))return!1}else if(!Sd(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function J_(e,t){return((t==null?void 0:t.queryKeyHashFn)||Nd)(e)}function Nd(e){return JSON.stringify(e,(t,r)=>wb(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Sd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Sd(e[r],t[r])):!1}var n8=Object.prototype.hasOwnProperty;function GT(e,t){if(e===t)return e;const r=R2(e)&&R2(t);if(!r&&!(wb(e)&&wb(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let u=0;for(let d=0;d<o;d++){const f=r?d:i[d],h=e[f],p=t[f];if(h===p){l[f]=h,(r?d<a:n8.call(e,f))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){l[f]=p;continue}const g=GT(h,p);l[f]=g,g===h&&u++}return a===o&&u===a?e:l}function bb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function R2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wb(e){if(!z2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!z2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function z2(e){return Object.prototype.toString.call(e)==="[object Object]"}function a8(e){return new Promise(t=>{fo.setTimeout(t,e)})}function _b(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?GT(e,t):t}function i8(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function s8(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var e1=Symbol();function XT(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===e1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function o8(e,t){return typeof e=="function"?e(...t):!!e}var vo,os,Zl,CO,l8=(CO=class extends lf{constructor(){super();Ce(this,vo);Ce(this,os);Ce(this,Zl);ye(this,Zl,t=>{if(!$o&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Y(this,os)||this.setEventListener(Y(this,Zl))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,os))==null||t.call(this),ye(this,os,void 0))}setEventListener(t){var r;ye(this,Zl,t),(r=Y(this,os))==null||r.call(this),ye(this,os,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Y(this,vo)!==t&&(ye(this,vo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Y(this,vo)=="boolean"?Y(this,vo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},vo=new WeakMap,os=new WeakMap,Zl=new WeakMap,CO),t1=new l8;function jb(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var c8=t8;function u8(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=c8;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var gr=u8(),Yl,ls,Gl,EO,d8=(EO=class extends lf{constructor(){super();Ce(this,Yl,!0);Ce(this,ls);Ce(this,Gl);ye(this,Gl,t=>{if(!$o&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Y(this,ls)||this.setEventListener(Y(this,Gl))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,ls))==null||t.call(this),ye(this,ls,void 0))}setEventListener(t){var r;ye(this,Gl,t),(r=Y(this,ls))==null||r.call(this),ye(this,ls,t(this.setOnline.bind(this)))}setOnline(t){Y(this,Yl)!==t&&(ye(this,Yl,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Y(this,Yl)}},Yl=new WeakMap,ls=new WeakMap,Gl=new WeakMap,EO),xp=new d8;function f8(e){return Math.min(1e3*2**e,3e4)}function QT(e){return(e??"online")==="online"?xp.isOnline():!0}var kb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function JT(e){let t=!1,r=0,n;const a=jb(),i=()=>a.status!=="pending",o=b=>{var _;if(!i()){const w=new kb(b);p(w),(_=e.onCancel)==null||_.call(e,w)}},l=()=>{t=!0},u=()=>{t=!1},d=()=>t1.isFocused()&&(e.networkMode==="always"||xp.isOnline())&&e.canRun(),f=()=>QT(e.networkMode)&&e.canRun(),h=b=>{i()||(n==null||n(),a.resolve(b))},p=b=>{i()||(n==null||n(),a.reject(b))},g=()=>new Promise(b=>{var _;n=w=>{(i()||d())&&b(w)},(_=e.onPause)==null||_.call(e)}).then(()=>{var b;n=void 0,i()||(b=e.onContinue)==null||b.call(e)}),y=()=>{if(i())return;let b;const _=r===0?e.initialPromise:void 0;try{b=_??e.fn()}catch(w){b=Promise.reject(w)}Promise.resolve(b).then(h).catch(w=>{var C;if(i())return;const k=e.retry??($o?0:3),j=e.retryDelay??f8,N=typeof j=="function"?j(r,w):j,P=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,w);if(t||!P){p(w);return}r++,(C=e.onFail)==null||C.call(e,r,w),a8(N).then(()=>d()?void 0:g()).then(()=>{t?p(w):y()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:u,canStart:f,start:()=>(f()?y():g().then(y),a)}}var bo,OO,eM=(OO=class{constructor(){Ce(this,bo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vb(this.gcTime)&&ye(this,bo,fo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($o?1/0:5*60*1e3))}clearGcTimeout(){Y(this,bo)&&(fo.clearTimeout(Y(this,bo)),ye(this,bo,void 0))}},bo=new WeakMap,OO),wo,Xl,Mn,_o,rr,Xd,jo,Jn,ai,AO,h8=(AO=class extends eM{constructor(t){super();Ce(this,Jn);Ce(this,wo);Ce(this,Xl);Ce(this,Mn);Ce(this,_o);Ce(this,rr);Ce(this,Xd);Ce(this,jo);ye(this,jo,!1),ye(this,Xd,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,_o,t.client),ye(this,Mn,Y(this,_o).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,wo,$2(this.options)),this.state=t.state??Y(this,wo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Y(this,rr))==null?void 0:t.promise}setOptions(t){if(this.options={...Y(this,Xd),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=$2(this.options);r.data!==void 0&&(this.setState(F2(r.data,r.dataUpdatedAt)),ye(this,wo,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Mn).remove(this)}setData(t,r){const n=_b(this.state.data,t,this.options);return ze(this,Jn,ai).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ze(this,Jn,ai).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=Y(this,rr))==null?void 0:n.promise;return(a=Y(this,rr))==null||a.cancel(t),r?r.then(Zr).catch(Zr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,wo))}isActive(){return this.observers.some(t=>In(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===e1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Es(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!YT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,rr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,rr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Y(this,Mn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Y(this,rr)&&(Y(this,jo)?Y(this,rr).cancel({revert:!0}):Y(this,rr).cancelRetry()),this.scheduleGc()),Y(this,Mn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ze(this,Jn,ai).call(this,{type:"invalidate"})}async fetch(t,r){var u,d,f,h,p,g,y,b,_,w,k,j;if(this.state.fetchStatus!=="idle"&&((u=Y(this,rr))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,rr))return Y(this,rr).continueRetry(),Y(this,rr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(P=>P.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,a=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(ye(this,jo,!0),n.signal)})},i=()=>{const N=XT(this.options,r),C=(()=>{const A={client:Y(this,_o),queryKey:this.queryKey,meta:this.meta};return a(A),A})();return ye(this,jo,!1),this.options.persister?this.options.persister(N,C,this):N(C)},l=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,_o),state:this.state,fetchFn:i};return a(N),N})();(d=this.options.behavior)==null||d.onFetch(l,this),ye(this,Xl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&ze(this,Jn,ai).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),ye(this,rr,JT({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof kb&&N.revert&&this.setState({...Y(this,Xl),fetchStatus:"idle"}),n.abort()},onFail:(N,P)=>{ze(this,Jn,ai).call(this,{type:"failed",failureCount:N,error:P})},onPause:()=>{ze(this,Jn,ai).call(this,{type:"pause"})},onContinue:()=>{ze(this,Jn,ai).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await Y(this,rr).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(g=(p=Y(this,Mn).config).onSuccess)==null||g.call(p,N,this),(b=(y=Y(this,Mn).config).onSettled)==null||b.call(y,N,this.state.error,this),N}catch(N){if(N instanceof kb){if(N.silent)return Y(this,rr).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw ze(this,Jn,ai).call(this,{type:"error",error:N}),(w=(_=Y(this,Mn).config).onError)==null||w.call(_,N,this),(j=(k=Y(this,Mn).config).onSettled)==null||j.call(k,this.state.data,N,this),N}finally{this.scheduleGc()}}},wo=new WeakMap,Xl=new WeakMap,Mn=new WeakMap,_o=new WeakMap,rr=new WeakMap,Xd=new WeakMap,jo=new WeakMap,Jn=new WeakSet,ai=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tM(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...F2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ye(this,Xl,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),gr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Y(this,Mn).notify({query:this,type:"updated",action:t})})},AO);function tM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function F2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Kr,Fe,Qd,Or,ko,Ql,li,cs,Jd,Jl,ec,No,So,us,tc,Ye,Vu,Nb,Sb,Pb,Cb,Eb,Ob,Ab,rM,TO,m8=(TO=class extends lf{constructor(t,r){super();Ce(this,Ye);Ce(this,Kr);Ce(this,Fe);Ce(this,Qd);Ce(this,Or);Ce(this,ko);Ce(this,Ql);Ce(this,li);Ce(this,cs);Ce(this,Jd);Ce(this,Jl);Ce(this,ec);Ce(this,No);Ce(this,So);Ce(this,us);Ce(this,tc,new Set);this.options=r,ye(this,Kr,t),ye(this,cs,null),ye(this,li,jb()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Fe).addObserver(this),B2(Y(this,Fe),this.options)?ze(this,Ye,Vu).call(this):this.updateResult(),ze(this,Ye,Cb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Tb(Y(this,Fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Tb(Y(this,Fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ze(this,Ye,Eb).call(this),ze(this,Ye,Ob).call(this),Y(this,Fe).removeObserver(this)}setOptions(t){const r=this.options,n=Y(this,Fe);if(this.options=Y(this,Kr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof In(this.options.enabled,Y(this,Fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ze(this,Ye,Ab).call(this),Y(this,Fe).setOptions(this.options),r._defaulted&&!bb(this.options,r)&&Y(this,Kr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Fe),observer:this});const a=this.hasListeners();a&&U2(Y(this,Fe),n,this.options,r)&&ze(this,Ye,Vu).call(this),this.updateResult(),a&&(Y(this,Fe)!==n||In(this.options.enabled,Y(this,Fe))!==In(r.enabled,Y(this,Fe))||Es(this.options.staleTime,Y(this,Fe))!==Es(r.staleTime,Y(this,Fe)))&&ze(this,Ye,Nb).call(this);const i=ze(this,Ye,Sb).call(this);a&&(Y(this,Fe)!==n||In(this.options.enabled,Y(this,Fe))!==In(r.enabled,Y(this,Fe))||i!==Y(this,us))&&ze(this,Ye,Pb).call(this,i)}getOptimisticResult(t){const r=Y(this,Kr).getQueryCache().build(Y(this,Kr),t),n=this.createResult(r,t);return g8(this,n)&&(ye(this,Or,n),ye(this,Ql,this.options),ye(this,ko,Y(this,Fe).state)),n}getCurrentResult(){return Y(this,Or)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Y(this,li).status==="pending"&&Y(this,li).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){Y(this,tc).add(t)}getCurrentQuery(){return Y(this,Fe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Y(this,Kr).defaultQueryOptions(t),n=Y(this,Kr).getQueryCache().build(Y(this,Kr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ze(this,Ye,Vu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,Or)))}createResult(t,r){var T;const n=Y(this,Fe),a=this.options,i=Y(this,Or),o=Y(this,ko),l=Y(this,Ql),d=t!==n?t.state:Y(this,Qd),{state:f}=t;let h={...f},p=!1,g;if(r._optimisticResults){const $=this.hasListeners(),I=!$&&B2(t,r),z=$&&U2(t,n,r,a);(I||z)&&(h={...h,...tM(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:_}=h;g=h.data;let w=!1;if(r.placeholderData!==void 0&&g===void 0&&_==="pending"){let $;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?($=i.data,w=!0):$=typeof r.placeholderData=="function"?r.placeholderData((T=Y(this,ec))==null?void 0:T.state.data,Y(this,ec)):r.placeholderData,$!==void 0&&(_="success",g=_b(i==null?void 0:i.data,$,r),p=!0)}if(r.select&&g!==void 0&&!w)if(i&&g===(o==null?void 0:o.data)&&r.select===Y(this,Jd))g=Y(this,Jl);else try{ye(this,Jd,r.select),g=r.select(g),g=_b(i==null?void 0:i.data,g,r),ye(this,Jl,g),ye(this,cs,null)}catch($){ye(this,cs,$)}Y(this,cs)&&(y=Y(this,cs),g=Y(this,Jl),b=Date.now(),_="error");const k=h.fetchStatus==="fetching",j=_==="pending",N=_==="error",P=j&&k,C=g!==void 0,O={status:_,fetchStatus:h.fetchStatus,isPending:j,isSuccess:_==="success",isError:N,isInitialLoading:P,isLoading:P,data:g,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:k,isRefetching:k&&!j,isLoadingError:N&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:N&&C,isStale:r1(t,r),refetch:this.refetch,promise:Y(this,li),isEnabled:In(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=U=>{O.status==="error"?U.reject(O.error):O.data!==void 0&&U.resolve(O.data)},I=()=>{const U=ye(this,li,O.promise=jb());$(U)},z=Y(this,li);switch(z.status){case"pending":t.queryHash===n.queryHash&&$(z);break;case"fulfilled":(O.status==="error"||O.data!==z.value)&&I();break;case"rejected":(O.status!=="error"||O.error!==z.reason)&&I();break}}return O}updateResult(){const t=Y(this,Or),r=this.createResult(Y(this,Fe),this.options);if(ye(this,ko,Y(this,Fe).state),ye(this,Ql,this.options),Y(this,ko).data!==void 0&&ye(this,ec,Y(this,Fe)),bb(r,t))return;ye(this,Or,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Y(this,tc).size)return!0;const o=new Set(i??Y(this,tc));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,Or)).some(l=>{const u=l;return Y(this,Or)[u]!==t[u]&&o.has(u)})};ze(this,Ye,rM).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ze(this,Ye,Cb).call(this)}},Kr=new WeakMap,Fe=new WeakMap,Qd=new WeakMap,Or=new WeakMap,ko=new WeakMap,Ql=new WeakMap,li=new WeakMap,cs=new WeakMap,Jd=new WeakMap,Jl=new WeakMap,ec=new WeakMap,No=new WeakMap,So=new WeakMap,us=new WeakMap,tc=new WeakMap,Ye=new WeakSet,Vu=function(t){ze(this,Ye,Ab).call(this);let r=Y(this,Fe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Zr)),r},Nb=function(){ze(this,Ye,Eb).call(this);const t=Es(this.options.staleTime,Y(this,Fe));if($o||Y(this,Or).isStale||!vb(t))return;const n=YT(Y(this,Or).dataUpdatedAt,t)+1;ye(this,No,fo.setTimeout(()=>{Y(this,Or).isStale||this.updateResult()},n))},Sb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Fe)):this.options.refetchInterval)??!1},Pb=function(t){ze(this,Ye,Ob).call(this),ye(this,us,t),!($o||In(this.options.enabled,Y(this,Fe))===!1||!vb(Y(this,us))||Y(this,us)===0)&&ye(this,So,fo.setInterval(()=>{(this.options.refetchIntervalInBackground||t1.isFocused())&&ze(this,Ye,Vu).call(this)},Y(this,us)))},Cb=function(){ze(this,Ye,Nb).call(this),ze(this,Ye,Pb).call(this,ze(this,Ye,Sb).call(this))},Eb=function(){Y(this,No)&&(fo.clearTimeout(Y(this,No)),ye(this,No,void 0))},Ob=function(){Y(this,So)&&(fo.clearInterval(Y(this,So)),ye(this,So,void 0))},Ab=function(){const t=Y(this,Kr).getQueryCache().build(Y(this,Kr),this.options);if(t===Y(this,Fe))return;const r=Y(this,Fe);ye(this,Fe,t),ye(this,Qd,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},rM=function(t){gr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Y(this,Or))}),Y(this,Kr).getQueryCache().notify({query:Y(this,Fe),type:"observerResultsUpdated"})})},TO);function p8(e,t){return In(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function B2(e,t){return p8(e,t)||e.state.data!==void 0&&Tb(e,t,t.refetchOnMount)}function Tb(e,t,r){if(In(t.enabled,e)!==!1&&Es(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&r1(e,t)}return!1}function U2(e,t,r,n){return(e!==t||In(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&r1(e,r)}function r1(e,t){return In(t.enabled,e)!==!1&&e.isStaleByTime(Es(t.staleTime,e))}function g8(e,t){return!bb(e.getCurrentResult(),t)}function H2(e){return{onFetch:(t,r)=>{var f,h,p,g,y;const n=t.options,a=(p=(h=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let b=!1;const _=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},w=XT(t.options,t.fetchOptions),k=async(j,N,P)=>{if(b)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const A=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:N,direction:P?"backward":"forward",meta:t.options.meta};return _(I),I})(),O=await w(A),{maxPages:T}=t.options,$=P?s8:i8;return{pages:$(j.pages,O,T),pageParams:$(j.pageParams,N,T)}};if(a&&i.length){const j=a==="backward",N=j?y8:W2,P={pages:i,pageParams:o},C=N(n,P);l=await k(P,C,j)}else{const j=e??i.length;do{const N=u===0?o[0]??n.initialPageParam:W2(n,l);if(u>0&&N==null)break;l=await k(l,N),u++}while(u<j)}return l};t.options.persister?t.fetchFn=()=>{var b,_;return(_=(b=t.options).persister)==null?void 0:_.call(b,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function W2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function y8(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ef,Ca,Ar,Po,Ea,Gi,MO,x8=(MO=class extends eM{constructor(t){super();Ce(this,Ea);Ce(this,ef);Ce(this,Ca);Ce(this,Ar);Ce(this,Po);ye(this,ef,t.client),this.mutationId=t.mutationId,ye(this,Ar,t.mutationCache),ye(this,Ca,[]),this.state=t.state||v8(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Y(this,Ca).includes(t)||(Y(this,Ca).push(t),this.clearGcTimeout(),Y(this,Ar).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,Ca,Y(this,Ca).filter(r=>r!==t)),this.scheduleGc(),Y(this,Ar).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Y(this,Ca).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Ar).remove(this))}continue(){var t;return((t=Y(this,Po))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,u,d,f,h,p,g,y,b,_,w,k,j,N,P,C,A,O,T;const r=()=>{ze(this,Ea,Gi).call(this,{type:"continue"})},n={client:Y(this,ef),meta:this.options.meta,mutationKey:this.options.mutationKey};ye(this,Po,JT({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:($,I)=>{ze(this,Ea,Gi).call(this,{type:"failed",failureCount:$,error:I})},onPause:()=>{ze(this,Ea,Gi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Ar).canRun(this)}));const a=this.state.status==="pending",i=!Y(this,Po).canStart();try{if(a)r();else{ze(this,Ea,Gi).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=Y(this,Ar).config).onMutate)==null?void 0:l.call(o,t,this,n));const I=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t,n));I!==this.state.context&&ze(this,Ea,Gi).call(this,{type:"pending",context:I,variables:t,isPaused:i})}const $=await Y(this,Po).start();return await((h=(f=Y(this,Ar).config).onSuccess)==null?void 0:h.call(f,$,t,this.state.context,this,n)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,$,t,this.state.context,n)),await((b=(y=Y(this,Ar).config).onSettled)==null?void 0:b.call(y,$,null,this.state.variables,this.state.context,this,n)),await((w=(_=this.options).onSettled)==null?void 0:w.call(_,$,null,t,this.state.context,n)),ze(this,Ea,Gi).call(this,{type:"success",data:$}),$}catch($){try{throw await((j=(k=Y(this,Ar).config).onError)==null?void 0:j.call(k,$,t,this.state.context,this,n)),await((P=(N=this.options).onError)==null?void 0:P.call(N,$,t,this.state.context,n)),await((A=(C=Y(this,Ar).config).onSettled)==null?void 0:A.call(C,void 0,$,this.state.variables,this.state.context,this,n)),await((T=(O=this.options).onSettled)==null?void 0:T.call(O,void 0,$,t,this.state.context,n)),$}finally{ze(this,Ea,Gi).call(this,{type:"error",error:$})}}finally{Y(this,Ar).runNext(this)}}},ef=new WeakMap,Ca=new WeakMap,Ar=new WeakMap,Po=new WeakMap,Ea=new WeakSet,Gi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),gr.batch(()=>{Y(this,Ca).forEach(n=>{n.onMutationUpdate(t)}),Y(this,Ar).notify({mutation:this,type:"updated",action:t})})},MO);function v8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ci,ea,tf,IO,b8=(IO=class extends lf{constructor(t={}){super();Ce(this,ci);Ce(this,ea);Ce(this,tf);this.config=t,ye(this,ci,new Set),ye(this,ea,new Map),ye(this,tf,0)}build(t,r,n){const a=new x8({client:t,mutationCache:this,mutationId:++jh(this,tf)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){Y(this,ci).add(t);const r=Bh(t);if(typeof r=="string"){const n=Y(this,ea).get(r);n?n.push(t):Y(this,ea).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Y(this,ci).delete(t)){const r=Bh(t);if(typeof r=="string"){const n=Y(this,ea).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&Y(this,ea).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Bh(t);if(typeof r=="string"){const n=Y(this,ea).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Bh(t);if(typeof r=="string"){const a=(n=Y(this,ea).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gr.batch(()=>{Y(this,ci).forEach(t=>{this.notify({type:"removed",mutation:t})}),Y(this,ci).clear(),Y(this,ea).clear()})}getAll(){return Array.from(Y(this,ci))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>D2(r,n))}findAll(t={}){return this.getAll().filter(r=>D2(t,r))}notify(t){gr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return gr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Zr))))}},ci=new WeakMap,ea=new WeakMap,tf=new WeakMap,IO);function Bh(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Oa,LO,w8=(LO=class extends lf{constructor(t={}){super();Ce(this,Oa);this.config=t,ye(this,Oa,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??J_(a,r);let o=this.get(i);return o||(o=new h8({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Y(this,Oa).has(t.queryHash)||(Y(this,Oa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Y(this,Oa).get(t.queryHash);r&&(t.destroy(),r===t&&Y(this,Oa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Y(this,Oa).get(t)}getAll(){return[...Y(this,Oa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>L2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>L2(t,n)):r}notify(t){gr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){gr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){gr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Oa=new WeakMap,LO),Ct,ds,fs,rc,nc,hs,ac,ic,DO,_8=(DO=class{constructor(e={}){Ce(this,Ct);Ce(this,ds);Ce(this,fs);Ce(this,rc);Ce(this,nc);Ce(this,hs);Ce(this,ac);Ce(this,ic);ye(this,Ct,e.queryCache||new w8),ye(this,ds,e.mutationCache||new b8),ye(this,fs,e.defaultOptions||{}),ye(this,rc,new Map),ye(this,nc,new Map),ye(this,hs,0)}mount(){jh(this,hs)._++,Y(this,hs)===1&&(ye(this,ac,t1.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,Ct).onFocus())})),ye(this,ic,xp.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,Ct).onOnline())})))}unmount(){var e,t;jh(this,hs)._--,Y(this,hs)===0&&((e=Y(this,ac))==null||e.call(this),ye(this,ac,void 0),(t=Y(this,ic))==null||t.call(this),ye(this,ic,void 0))}isFetching(e){return Y(this,Ct).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Y(this,ds).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,Ct).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Y(this,Ct).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Es(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Y(this,Ct).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=Y(this,Ct).get(n.queryHash),i=a==null?void 0:a.state.data,o=r8(t,i);if(o!==void 0)return Y(this,Ct).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return gr.batch(()=>Y(this,Ct).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,Ct).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Y(this,Ct);gr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Y(this,Ct);return gr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=gr.batch(()=>Y(this,Ct).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Zr).catch(Zr)}invalidateQueries(e,t={}){return gr.batch(()=>(Y(this,Ct).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=gr.batch(()=>Y(this,Ct).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Zr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Zr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Y(this,Ct).build(this,t);return r.isStaleByTime(Es(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zr).catch(Zr)}fetchInfiniteQuery(e){return e.behavior=H2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zr).catch(Zr)}ensureInfiniteQueryData(e){return e.behavior=H2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xp.isOnline()?Y(this,ds).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Ct)}getMutationCache(){return Y(this,ds)}getDefaultOptions(){return Y(this,fs)}setDefaultOptions(e){ye(this,fs,e)}setQueryDefaults(e,t){Y(this,rc).set(Nd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Y(this,rc).values()],r={};return t.forEach(n=>{Sd(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Y(this,nc).set(Nd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Y(this,nc).values()],r={};return t.forEach(n=>{Sd(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Y(this,fs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=J_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===e1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Y(this,fs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Y(this,Ct).clear(),Y(this,ds).clear()}},Ct=new WeakMap,ds=new WeakMap,fs=new WeakMap,rc=new WeakMap,nc=new WeakMap,hs=new WeakMap,ac=new WeakMap,ic=new WeakMap,DO),nM=x.createContext(void 0),j8=e=>{const t=x.useContext(nM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},k8=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(nM.Provider,{value:e,children:t})),aM=x.createContext(!1),N8=()=>x.useContext(aM);aM.Provider;function S8(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var P8=x.createContext(S8()),C8=()=>x.useContext(P8),E8=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},O8=e=>{x.useEffect(()=>{e.clearReset()},[e])},A8=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||o8(r,[e.error,n])),T8=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},M8=(e,t)=>e.isLoading&&e.isFetching&&!t,I8=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,V2=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function L8(e,t,r){var h,p,g,y,b;const n=N8(),a=C8(),i=j8(),o=i.defaultQueryOptions(e);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",T8(o),E8(o,a),O8(a);const l=!i.getQueryCache().get(o.queryHash),[u]=x.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(_=>{const w=f?u.subscribe(gr.batchCalls(_)):Zr;return u.updateResult(),w},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),x.useEffect(()=>{u.setOptions(o)},[o,u]),I8(o,d))throw V2(o,u,a);if(A8({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((y=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||y.call(g,o,d),o.experimental_prefetchInRender&&!$o&&M8(d,n)){const _=l?V2(o,u,a):(b=i.getQueryCache().get(o.queryHash))==null?void 0:b.promise;_==null||_.catch(Zr).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function D8(e,t){return L8(e,m8)}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K2="popstate";function R8(e={}){function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Mb("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Pd(a)}return F8(t,r,null,e)}function jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z8(){return Math.random().toString(36).substring(2,10)}function q2(e,t){return{usr:e.state,key:e.key,idx:t}}function Mb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?zc(t):t,state:r,key:t&&t.key||n||z8()}}function Pd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function F8(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function h(){l="POP";let _=f(),w=_==null?null:_-d;d=_,u&&u({action:l,location:b.location,delta:w})}function p(_,w){l="PUSH";let k=Mb(b.location,_,w);d=f()+1;let j=q2(k,d),N=b.createHref(k);try{o.pushState(j,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(N)}i&&u&&u({action:l,location:b.location,delta:1})}function g(_,w){l="REPLACE";let k=Mb(b.location,_,w);d=f();let j=q2(k,d),N=b.createHref(k);o.replaceState(j,"",N),i&&u&&u({action:l,location:b.location,delta:0})}function y(_){return $8(_)}let b={get action(){return l},get location(){return e(a,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(K2,h),u=_,()=>{a.removeEventListener(K2,h),u=null}},createHref(_){return t(a,_)},createURL:y,encodeLocation(_){let w=y(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(_){return o.go(_)}};return b}function $8(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),jt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Pd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function iM(e,t,r="/"){return B8(e,t,r,!1)}function B8(e,t,r,n){let a=typeof t=="string"?zc(t):t,i=Si(a.pathname||"/",r);if(i==null)return null;let o=sM(e);U8(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=J8(i);l=X8(o[u],d,n)}return l}function sM(e,t=[],r=[],n="",a=!1){let i=(o,l,u=a,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&u)return;jt(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let h=xi([n,f.relativePath]),p=r.concat(f);o.children&&o.children.length>0&&(jt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),sM(o.children,t,p,h,u)),!(o.path==null&&!o.index)&&t.push({path:h,score:Y8(h,o.index),routesMeta:p})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let d of oM(o.path))i(o,l,!0,d)}),t}function oM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=oM(n.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),a&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function U8(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:G8(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var H8=/^:[\w-]+$/,W8=3,V8=2,K8=1,q8=10,Z8=-2,Z2=e=>e==="*";function Y8(e,t){let r=e.split("/"),n=r.length;return r.some(Z2)&&(n+=Z8),t&&(n+=V8),r.filter(a=>!Z2(a)).reduce((a,i)=>a+(H8.test(i)?W8:i===""?K8:q8),n)}function G8(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function X8(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=vp({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),p=u.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=vp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:xi([i,h.pathname]),pathnameBase:aB(xi([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=xi([i,h.pathnameBase]))}return o}function vp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Q8(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:h},p)=>{if(f==="*"){let y=l[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[p];return h&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Q8(e,t=!1,r=!0){Hn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function J8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Si(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var eB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tB=e=>eB.test(e);function rB(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?zc(e):e,i;if(r)if(tB(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Hn(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=Y2(r.substring(1),"/"):i=Y2(r,t)}else i=t;return{pathname:i,search:iB(n),hash:sB(a)}}function Y2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function zx(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lM(e){let t=nB(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function cM(e,t,r,n=!1){let a;typeof e=="string"?a=zc(e):(a={...e},jt(!a.pathname||!a.pathname.includes("?"),zx("?","pathname","search",a)),jt(!a.pathname||!a.pathname.includes("#"),zx("#","pathname","hash",a)),jt(!a.search||!a.search.includes("#"),zx("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;a.pathname=p.join("/")}l=h>=0?t[h]:"/"}let u=rB(a,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var xi=e=>e.join("/").replace(/\/\/+/g,"/"),aB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function lB(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uM=["POST","PUT","PATCH","DELETE"];new Set(uM);var cB=["GET",...uM];new Set(cB);var Fc=x.createContext(null);Fc.displayName="DataRouter";var Vg=x.createContext(null);Vg.displayName="DataRouterState";x.createContext(!1);var dM=x.createContext({isTransitioning:!1});dM.displayName="ViewTransition";var uB=x.createContext(new Map);uB.displayName="Fetchers";var dB=x.createContext(null);dB.displayName="Await";var xa=x.createContext(null);xa.displayName="Navigation";var cf=x.createContext(null);cf.displayName="Location";var Va=x.createContext({outlet:null,matches:[],isDataRoute:!1});Va.displayName="Route";var n1=x.createContext(null);n1.displayName="RouteError";function fB(e,{relative:t}={}){jt(uf(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(xa),{hash:a,pathname:i,search:o}=df(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:xi([r,i])),n.createHref({pathname:l,search:o,hash:a})}function uf(){return x.useContext(cf)!=null}function Di(){return jt(uf(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(cf).location}var fM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hM(e){x.useContext(xa).static||x.useLayoutEffect(e)}function Kg(){let{isDataRoute:e}=x.useContext(Va);return e?PB():hB()}function hB(){jt(uf(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Fc),{basename:t,navigator:r}=x.useContext(xa),{matches:n}=x.useContext(Va),{pathname:a}=Di(),i=JSON.stringify(lM(n)),o=x.useRef(!1);return hM(()=>{o.current=!0}),x.useCallback((u,d={})=>{if(Hn(o.current,fM),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=cM(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:xi([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,a,e])}var mB=x.createContext(null);function pB(e){let t=x.useContext(Va).outlet;return x.useMemo(()=>t&&x.createElement(mB.Provider,{value:e},t),[t,e])}function df(e,{relative:t}={}){let{matches:r}=x.useContext(Va),{pathname:n}=Di(),a=JSON.stringify(lM(r));return x.useMemo(()=>cM(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function gB(e,t){return mM(e,t)}function mM(e,t,r,n,a){var k;jt(uf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(xa),{matches:o}=x.useContext(Va),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",h=l&&l.route;{let j=h&&h.path||"";pM(d,!h||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let p=Di(),g;if(t){let j=typeof t=="string"?zc(t):t;jt(f==="/"||((k=j.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${j.pathname}" was given in the \`location\` prop.`),g=j}else g=p;let y=g.pathname||"/",b=y;if(f!=="/"){let j=f.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let _=iM(e,{pathname:b});Hn(h||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Hn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=wB(_&&_.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:xi([f,i.encodeLocation?i.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:xi([f,i.encodeLocation?i.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),o,r,n,a);return t&&w?x.createElement(cf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function yB(){let e=SB(),t=oB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,o)}var xB=x.createElement(yB,null),vB=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(Va.Provider,{value:this.props.routeContext},x.createElement(n1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bB({routeContext:e,match:t,children:r}){let n=x.useContext(Fc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Va.Provider,{value:e},r)}function wB(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let f=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);jt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,u=-1;if(r)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:g}=r,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let d=r&&n?(f,h)=>{var p,g;n(f,{location:r.location,params:((g=(p=r.matches)==null?void 0:p[0])==null?void 0:g.params)??{},unstable_pattern:lB(r.matches),errorInfo:h})}:void 0;return i.reduceRight((f,h,p)=>{let g,y=!1,b=null,_=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||xB,l&&(u<0&&p===0?(pM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):u===p&&(y=!0,_=h.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,p+1)),k=()=>{let j;return g?j=b:y?j=_:h.route.Component?j=x.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=f,x.createElement(bB,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:j})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?x.createElement(vB,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:d}):k()},null)}function a1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _B(e){let t=x.useContext(Fc);return jt(t,a1(e)),t}function jB(e){let t=x.useContext(Vg);return jt(t,a1(e)),t}function kB(e){let t=x.useContext(Va);return jt(t,a1(e)),t}function i1(e){let t=kB(e),r=t.matches[t.matches.length-1];return jt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function NB(){return i1("useRouteId")}function SB(){var n;let e=x.useContext(n1),t=jB("useRouteError"),r=i1("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function PB(){let{router:e}=_B("useNavigate"),t=i1("useNavigate"),r=x.useRef(!1);return hM(()=>{r.current=!0}),x.useCallback(async(a,i={})=>{Hn(r.current,fM),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var G2={};function pM(e,t,r){!t&&!G2[e]&&(G2[e]=!0,Hn(!1,r))}x.memo(CB);function CB({routes:e,future:t,state:r,unstable_onError:n}){return mM(e,void 0,r,n,t)}function EB(e){return pB(e.context)}function Xi(e){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OB({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){jt(!uf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[l,a,i,o]);typeof r=="string"&&(r=zc(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,y=x.useMemo(()=>{let b=Si(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:g},navigationType:n}},[l,d,f,h,p,g,n]);return Hn(y!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:x.createElement(xa.Provider,{value:u},x.createElement(cf.Provider,{children:t,value:y}))}function AB({children:e,location:t}){return gB(Ib(e),t)}function Ib(e,t=[]){let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){r.push.apply(r,Ib(n.props.children,i));return}jt(n.type===Xi,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ib(n.props.children,i)),r.push(o)}),r}var Tm="get",Mm="application/x-www-form-urlencoded";function qg(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function TB(e){return qg(e)&&e.tagName.toLowerCase()==="button"}function MB(e){return qg(e)&&e.tagName.toLowerCase()==="form"}function IB(e){return qg(e)&&e.tagName.toLowerCase()==="input"}function LB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function DB(e,t){return e.button===0&&(!t||t==="_self")&&!LB(e)}function Lb(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function RB(e,t){let r=Lb(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var Uh=null;function zB(){if(Uh===null)try{new FormData(document.createElement("form"),0),Uh=!1}catch{Uh=!0}return Uh}var FB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fx(e){return e!=null&&!FB.has(e)?(Hn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mm}"`),null):e}function $B(e,t){let r,n,a,i,o;if(MB(e)){let l=e.getAttribute("action");n=l?Si(l,t):null,r=e.getAttribute("method")||Tm,a=Fx(e.getAttribute("enctype"))||Mm,i=new FormData(e)}else if(TB(e)||IB(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(n=u?Si(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Tm,a=Fx(e.getAttribute("formenctype"))||Fx(l.getAttribute("enctype"))||Mm,i=new FormData(l,e),!zB()){let{name:d,type:f,value:h}=e;if(f==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,h)}}else{if(qg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Tm,n=null,a=Mm,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function s1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function BB(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Si(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function UB(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HB(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function WB(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await UB(i,r);return o.links?o.links():[]}return[]}));return ZB(n.flat(1).filter(HB).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function X2(e,t,r,n,a,i){let o=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,l=(u,d)=>{var f;return r[d].pathname!==u.pathname||((f=r[d].route.path)==null?void 0:f.endsWith("*"))&&r[d].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):i==="data"?t.filter((u,d)=>{var h;let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function VB(e,t,{includeHydrateFallback:r}={}){return KB(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function KB(e){return[...new Set(e)]}function qB(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function ZB(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(qB(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function gM(){let e=x.useContext(Fc);return s1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function YB(){let e=x.useContext(Vg);return s1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var o1=x.createContext(void 0);o1.displayName="FrameworkContext";function yM(){let e=x.useContext(o1);return s1(e,"You must render this element inside a <HydratedRouter> element"),e}function GB(e,t){let r=x.useContext(o1),[n,a]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:h}=t,p=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=w=>{w.forEach(k=>{o(k.isIntersecting)})},_=new IntersectionObserver(b,{threshold:.5});return p.current&&_.observe(p.current),()=>{_.disconnect()}}},[e]),x.useEffect(()=>{if(n){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[n]);let g=()=>{a(!0)},y=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:Cu(l,g),onBlur:Cu(u,y),onMouseEnter:Cu(d,g),onMouseLeave:Cu(f,y),onTouchStart:Cu(h,g)}]:[!1,p,{}]}function Cu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function XB({page:e,...t}){let{router:r}=gM(),n=x.useMemo(()=>iM(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?x.createElement(JB,{page:e,matches:n,...t}):null}function QB(e){let{manifest:t,routeModules:r}=yM(),[n,a]=x.useState([]);return x.useEffect(()=>{let i=!1;return WB(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function JB({page:e,matches:t,...r}){let n=Di(),{manifest:a,routeModules:i}=yM(),{basename:o}=gM(),{loaderData:l,matches:u}=YB(),d=x.useMemo(()=>X2(e,t,u,a,n,"data"),[e,t,u,a,n]),f=x.useMemo(()=>X2(e,t,u,a,n,"assets"),[e,t,u,a,n]),h=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,b=!1;if(t.forEach(w=>{var j;let k=a.routes[w.route.id];!k||!k.hasLoader||(!d.some(N=>N.route.id===w.route.id)&&w.route.id in l&&((j=i[w.route.id])!=null&&j.shouldRevalidate)||k.hasClientLoader?b=!0:y.add(w.route.id))}),y.size===0)return[];let _=BB(e,o,"data");return b&&y.size>0&&_.searchParams.set("_routes",t.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[_.pathname+_.search]},[o,l,n,a,d,t,e,i]),p=x.useMemo(()=>VB(f,a),[f,a]),g=QB(f);return x.createElement(x.Fragment,null,h.map(y=>x.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),p.map(y=>x.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),g.map(({key:y,link:b})=>x.createElement("link",{key:y,nonce:r.nonce,...b})))}function e7(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var xM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xM&&(window.__reactRouterVersion="7.10.1")}catch{}function t7({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=x.useRef();a.current==null&&(a.current=R8({window:n,v5Compat:!0}));let i=a.current,[o,l]=x.useState({action:i.action,location:i.location}),u=x.useCallback(d=>{r===!1?l(d):x.startTransition(()=>l(d))},[r]);return x.useLayoutEffect(()=>i.listen(u),[i,u]),x.createElement(OB,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r===!0})}var vM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zg=x.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:u,to:d,preventScrollReset:f,viewTransition:h,...p},g){let{basename:y,unstable_useTransitions:b}=x.useContext(xa),_=typeof d=="string"&&vM.test(d),w,k=!1;if(typeof d=="string"&&_&&(w=d,xM))try{let $=new URL(window.location.href),I=d.startsWith("//")?new URL($.protocol+d):new URL(d),z=Si(I.pathname,y);I.origin===$.origin&&z!=null?d=z+I.search+I.hash:k=!0}catch{Hn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=fB(d,{relative:a}),[N,P,C]=GB(n,p),A=i7(d,{replace:o,state:l,target:u,preventScrollReset:f,relative:a,viewTransition:h,unstable_useTransitions:b});function O($){t&&t($),$.defaultPrevented||A($)}let T=x.createElement("a",{...p,...C,href:w||j,onClick:k||i?t:O,ref:e7(g,P),target:u,"data-discover":!_&&r==="render"?"true":void 0});return N&&!_?x.createElement(x.Fragment,null,T,x.createElement(XB,{page:j})):T});Zg.displayName="Link";var r7=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:u,...d},f){let h=df(o,{relative:d.relative}),p=Di(),g=x.useContext(Vg),{navigator:y,basename:b}=x.useContext(xa),_=g!=null&&u7(h)&&l===!0,w=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,k=p.pathname,j=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(k=k.toLowerCase(),j=j?j.toLowerCase():null,w=w.toLowerCase()),j&&b&&(j=Si(j,b)||j);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let P=k===w||!a&&k.startsWith(w)&&k.charAt(N)==="/",C=j!=null&&(j===w||!a&&j.startsWith(w)&&j.charAt(w.length)==="/"),A={isActive:P,isPending:C,isTransitioning:_},O=P?t:void 0,T;typeof n=="function"?T=n(A):T=[n,P?"active":null,C?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(A):i;return x.createElement(Zg,{...d,"aria-current":O,className:T,ref:f,style:$,to:o,viewTransition:l},typeof u=="function"?u(A):u)});r7.displayName="NavLink";var n7=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=Tm,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:h,...p},g)=>{let{unstable_useTransitions:y}=x.useContext(xa),b=l7(),_=c7(l,{relative:d}),w=o.toLowerCase()==="get"?"get":"post",k=typeof l=="string"&&vM.test(l),j=N=>{if(u&&u(N),N.defaultPrevented)return;N.preventDefault();let P=N.nativeEvent.submitter,C=(P==null?void 0:P.getAttribute("formmethod"))||o,A=()=>b(P||N.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:a,state:i,relative:d,preventScrollReset:f,viewTransition:h});y&&r!==!1?x.startTransition(()=>A()):A()};return x.createElement("form",{ref:g,method:w,action:_,onSubmit:n?u:j,...p,"data-discover":!k&&e==="render"?"true":void 0})});n7.displayName="Form";function a7(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bM(e){let t=x.useContext(Fc);return jt(t,a7(e)),t}function i7(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_useTransitions:l}={}){let u=Kg(),d=Di(),f=df(e,{relative:i});return x.useCallback(h=>{if(DB(h,t)){h.preventDefault();let p=r!==void 0?r:Pd(d)===Pd(f),g=()=>u(e,{replace:p,state:n,preventScrollReset:a,relative:i,viewTransition:o});l?x.startTransition(()=>g()):g()}},[d,u,f,r,n,t,e,a,i,o,l])}function wM(e){Hn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(Lb(e)),r=x.useRef(!1),n=Di(),a=x.useMemo(()=>RB(n.search,r.current?null:t.current),[n.search]),i=Kg(),o=x.useCallback((l,u)=>{const d=Lb(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,i("?"+d,u)},[i,a]);return[a,o]}var s7=0,o7=()=>`__${String(++s7)}__`;function l7(){let{router:e}=bM("useSubmit"),{basename:t}=x.useContext(xa),r=NB(),n=e.fetch,a=e.navigate;return x.useCallback(async(i,o={})=>{let{action:l,method:u,encType:d,formData:f,body:h}=$B(i,t);if(o.navigate===!1){let p=o.fetcherKey||o7();await n(p,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await a(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,t,r])}function c7(e,{relative:t}={}){let{basename:r}=x.useContext(xa),n=x.useContext(Va);jt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...df(e||".",{relative:t})},o=Di();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(h=>h).forEach(h=>l.append("index",h));let f=l.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:xi([r,i.pathname])),Pd(i)}function u7(e,{relative:t}={}){let r=x.useContext(dM);jt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=bM("useViewTransitionState"),a=df(e,{relative:t});if(!r.isTransitioning)return!1;let i=Si(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Si(r.nextLocation.pathname,n)||r.nextLocation.pathname;return vp(a.pathname,o)!=null||vp(a.pathname,i)!=null}/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...d},f)=>x.createElement("svg",{ref:f,...d7,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${f7(e)}`,l].join(" "),...d},[...t.map(([h,p])=>x.createElement(h,p)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=de("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=de("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=de("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=de("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=de("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=de("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=de("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=de("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=de("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=de("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=de("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=de("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=de("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=de("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=de("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=de("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=de("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=de("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=de("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=de("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=de("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=de("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=de("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=de("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=de("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=de("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=de("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=de("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=de("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=de("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=de("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=de("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=de("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=de("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=de("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=de("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=de("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=de("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=de("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=de("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=de("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=de("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=de("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=de("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=de("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=de("ScatterChart",[["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}],["circle",{cx:"18.5",cy:"5.5",r:".5",fill:"currentColor",key:"lysivs"}],["circle",{cx:"11.5",cy:"11.5",r:".5",fill:"currentColor",key:"byv1b8"}],["circle",{cx:"7.5",cy:"16.5",r:".5",fill:"currentColor",key:"nkw3mc"}],["circle",{cx:"17.5",cy:"14.5",r:".5",fill:"currentColor",key:"1gjh6j"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=de("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=de("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=de("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=de("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=de("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=de("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=de("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=de("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=de("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=de("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=de("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=de("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Q7=()=>{const e=Di(),[t,r]=x.useState(!1);x.useEffect(()=>{document.documentElement.classList.contains("dark")?r(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),r(!0))},[]);const n=()=>{const o=!t;r(o),o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},a=o=>e.pathname===o,i=e.pathname==="/canvas";return s.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-200",children:[s.jsxs("aside",{className:`${i?"w-16":"w-64"} bg-slate-900 dark:bg-slate-950 text-white flex flex-col shrink-0 transition-all duration-200`,children:[s.jsxs("div",{className:`${i?"p-4":"p-6"} border-b border-slate-800 dark:border-slate-900 flex items-center ${i?"justify-center":"gap-3"}`,children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center font-bold text-lg shrink-0 shadow-lg shadow-blue-900/20",children:"S"}),!i&&s.jsx("h1",{className:"text-xl font-bold tracking-tight whitespace-nowrap bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Skyulf ML"})]}),s.jsxs("nav",{className:"flex-1 p-2 space-y-2",children:[s.jsx(yl,{to:"/",active:a("/"),icon:s.jsx(CM,{size:20}),collapsed:i,children:"Dashboard"}),s.jsx(yl,{to:"/canvas",active:a("/canvas"),icon:s.jsx(SM,{size:20}),collapsed:i,children:"ML Canvas"}),s.jsx(yl,{to:"/data",active:a("/data"),icon:s.jsx(za,{size:20}),collapsed:i,children:"Data Sources"}),s.jsx(yl,{to:"/eda",active:a("/eda"),icon:s.jsx(Cd,{size:20}),collapsed:i,children:"EDA"}),s.jsx(yl,{to:"/registry",active:a("/registry"),icon:s.jsx(Db,{size:20}),collapsed:i,children:"Model Registry"}),s.jsx(yl,{to:"/deployments",active:a("/deployments"),icon:s.jsx(Xg,{size:20}),collapsed:i,children:"Deployments"})]}),s.jsx("div",{className:`${i?"p-2":"p-4"} border-t border-slate-800 space-y-4`,children:s.jsxs("button",{onClick:n,className:`flex items-center ${i?"justify-center":"gap-3"} w-full ${i?"px-2":"px-4"} py-2 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-colors`,title:t?"Light Mode":"Dark Mode",children:[t?s.jsx(K7,{size:20}):s.jsx(L7,{size:20}),!i&&(t?"Light Mode":"Dark Mode")]})})]}),s.jsx("main",{className:"flex-1 overflow-auto",children:s.jsx(EB,{})})]})},yl=({to:e,children:t,active:r,icon:n,collapsed:a})=>s.jsxs(Zg,{to:e,className:`flex items-center ${a?"justify-center":"gap-3"} ${a?"px-2":"px-4"} py-3 rounded-md text-sm font-medium transition-colors ${r?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:a?t:void 0,children:[n,!a&&t]});function TM(e,t){return function(){return e.apply(t,arguments)}}const{toString:J7}=Object.prototype,{getPrototypeOf:f1}=Object,{iterator:Jg,toStringTag:MM}=Symbol,e0=(e=>t=>{const r=J7.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),va=e=>(e=e.toLowerCase(),t=>e0(t)===e),t0=e=>t=>typeof t===e,{isArray:$c}=Array,hc=t0("undefined");function hf(e){return e!==null&&!hc(e)&&e.constructor!==null&&!hc(e.constructor)&&sn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const IM=va("ArrayBuffer");function e9(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&IM(e.buffer),t}const t9=t0("string"),sn=t0("function"),LM=t0("number"),mf=e=>e!==null&&typeof e=="object",r9=e=>e===!0||e===!1,Im=e=>{if(e0(e)!=="object")return!1;const t=f1(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(MM in e)&&!(Jg in e)},n9=e=>{if(!mf(e)||hf(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},a9=va("Date"),i9=va("File"),s9=va("Blob"),o9=va("FileList"),l9=e=>mf(e)&&sn(e.pipe),c9=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||sn(e.append)&&((t=e0(e))==="formdata"||t==="object"&&sn(e.toString)&&e.toString()==="[object FormData]"))},u9=va("URLSearchParams"),[d9,f9,h9,m9]=["ReadableStream","Request","Response","Headers"].map(va),p9=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pf(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),$c(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(hf(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function DM(e,t){if(hf(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const ho=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RM=e=>!hc(e)&&e!==ho;function zb(){const{caseless:e,skipUndefined:t}=RM(this)&&this||{},r={},n=(a,i)=>{const o=e&&DM(r,i)||i;Im(r[o])&&Im(a)?r[o]=zb(r[o],a):Im(a)?r[o]=zb({},a):$c(a)?r[o]=a.slice():(!t||!hc(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&pf(arguments[a],n);return r}const g9=(e,t,r,{allOwnKeys:n}={})=>(pf(t,(a,i)=>{r&&sn(a)?e[i]=TM(a,r):e[i]=a},{allOwnKeys:n}),e),y9=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),x9=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},v9=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&f1(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},b9=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},w9=e=>{if(!e)return null;if($c(e))return e;let t=e.length;if(!LM(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},_9=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&f1(Uint8Array)),j9=(e,t)=>{const n=(e&&e[Jg]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},k9=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},N9=va("HTMLFormElement"),S9=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),aS=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),P9=va("RegExp"),zM=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};pf(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},C9=e=>{zM(e,(t,r)=>{if(sn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(sn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},E9=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return $c(e)?n(e):n(String(e).split(t)),r},O9=()=>{},A9=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function T9(e){return!!(e&&sn(e.append)&&e[MM]==="FormData"&&e[Jg])}const M9=e=>{const t=new Array(10),r=(n,a)=>{if(mf(n)){if(t.indexOf(n)>=0)return;if(hf(n))return n;if(!("toJSON"in n)){t[a]=n;const i=$c(n)?[]:{};return pf(n,(o,l)=>{const u=r(o,a+1);!hc(u)&&(i[l]=u)}),t[a]=void 0,i}}return n};return r(e,0)},I9=va("AsyncFunction"),L9=e=>e&&(mf(e)||sn(e))&&sn(e.then)&&sn(e.catch),FM=((e,t)=>e?setImmediate:t?((r,n)=>(ho.addEventListener("message",({source:a,data:i})=>{a===ho&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ho.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",sn(ho.postMessage)),D9=typeof queueMicrotask<"u"?queueMicrotask.bind(ho):typeof process<"u"&&process.nextTick||FM,R9=e=>e!=null&&sn(e[Jg]),ae={isArray:$c,isArrayBuffer:IM,isBuffer:hf,isFormData:c9,isArrayBufferView:e9,isString:t9,isNumber:LM,isBoolean:r9,isObject:mf,isPlainObject:Im,isEmptyObject:n9,isReadableStream:d9,isRequest:f9,isResponse:h9,isHeaders:m9,isUndefined:hc,isDate:a9,isFile:i9,isBlob:s9,isRegExp:P9,isFunction:sn,isStream:l9,isURLSearchParams:u9,isTypedArray:_9,isFileList:o9,forEach:pf,merge:zb,extend:g9,trim:p9,stripBOM:y9,inherits:x9,toFlatObject:v9,kindOf:e0,kindOfTest:va,endsWith:b9,toArray:w9,forEachEntry:j9,matchAll:k9,isHTMLForm:N9,hasOwnProperty:aS,hasOwnProp:aS,reduceDescriptors:zM,freezeMethods:C9,toObjectSet:E9,toCamelCase:S9,noop:O9,toFiniteNumber:A9,findKey:DM,global:ho,isContextDefined:RM,isSpecCompliantForm:T9,toJSONObject:M9,isAsyncFn:I9,isThenable:L9,setImmediate:FM,asap:D9,isIterable:R9};function Me(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ae.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const $M=Me.prototype,BM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{BM[e]={value:e}});Object.defineProperties(Me,BM);Object.defineProperty($M,"isAxiosError",{value:!0});Me.from=(e,t,r,n,a,i)=>{const o=Object.create($M);ae.toFlatObject(e,o,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return Me.call(o,l,u,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const z9=null;function Fb(e){return ae.isPlainObject(e)||ae.isArray(e)}function UM(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function iS(e,t,r){return e?e.concat(t).map(function(a,i){return a=UM(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function F9(e){return ae.isArray(e)&&!e.some(Fb)}const $9=ae.toFlatObject(ae,{},null,function(t){return/^is[A-Z]/.test(t)});function r0(e,t,r){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ae.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,_){return!ae.isUndefined(_[b])});const n=r.metaTokens,a=r.visitor||f,i=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(a))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(ae.isDate(y))return y.toISOString();if(ae.isBoolean(y))return y.toString();if(!u&&ae.isBlob(y))throw new Me("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(y)||ae.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,b,_){let w=y;if(y&&!_&&typeof y=="object"){if(ae.endsWith(b,"{}"))b=n?b:b.slice(0,-2),y=JSON.stringify(y);else if(ae.isArray(y)&&F9(y)||(ae.isFileList(y)||ae.endsWith(b,"[]"))&&(w=ae.toArray(y)))return b=UM(b),w.forEach(function(j,N){!(ae.isUndefined(j)||j===null)&&t.append(o===!0?iS([b],N,i):o===null?b:b+"[]",d(j))}),!1}return Fb(y)?!0:(t.append(iS(_,b,i),d(y)),!1)}const h=[],p=Object.assign($9,{defaultVisitor:f,convertValue:d,isVisitable:Fb});function g(y,b){if(!ae.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(y),ae.forEach(y,function(w,k){(!(ae.isUndefined(w)||w===null)&&a.call(t,w,ae.isString(k)?k.trim():k,b,p))===!0&&g(w,b?b.concat(k):[k])}),h.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return g(e),t}function sS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function h1(e,t){this._pairs=[],e&&r0(e,this,t)}const HM=h1.prototype;HM.append=function(t,r){this._pairs.push([t,r])};HM.toString=function(t){const r=t?function(n){return t.call(this,n,sS)}:sS;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function B9(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function WM(e,t,r){if(!t)return e;const n=r&&r.encode||B9;ae.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=ae.isURLSearchParams(t)?t.toString():new h1(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class oS{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ae.forEach(this.handlers,function(n){n!==null&&t(n)})}}const VM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},U9=typeof URLSearchParams<"u"?URLSearchParams:h1,H9=typeof FormData<"u"?FormData:null,W9=typeof Blob<"u"?Blob:null,V9={isBrowser:!0,classes:{URLSearchParams:U9,FormData:H9,Blob:W9},protocols:["http","https","file","blob","url","data"]},m1=typeof window<"u"&&typeof document<"u",$b=typeof navigator=="object"&&navigator||void 0,K9=m1&&(!$b||["ReactNative","NativeScript","NS"].indexOf($b.product)<0),q9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Z9=m1&&window.location.href||"http://localhost",Y9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:m1,hasStandardBrowserEnv:K9,hasStandardBrowserWebWorkerEnv:q9,navigator:$b,origin:Z9},Symbol.toStringTag,{value:"Module"})),Nr={...Y9,...V9};function G9(e,t){return r0(e,new Nr.classes.URLSearchParams,{visitor:function(r,n,a,i){return Nr.isNode&&ae.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function X9(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Q9(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function KM(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=r.length;return o=!o&&ae.isArray(a)?a.length:o,u?(ae.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!ae.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&ae.isArray(a[o])&&(a[o]=Q9(a[o])),!l)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const r={};return ae.forEachEntry(e,(n,a)=>{t(X9(n),a,r,0)}),r}return null}function J9(e,t,r){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const gf={transitional:VM,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=ae.isObject(t);if(i&&ae.isHTMLForm(t)&&(t=new FormData(t)),ae.isFormData(t))return a?JSON.stringify(KM(t)):t;if(ae.isArrayBuffer(t)||ae.isBuffer(t)||ae.isStream(t)||ae.isFile(t)||ae.isBlob(t)||ae.isReadableStream(t))return t;if(ae.isArrayBufferView(t))return t.buffer;if(ae.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return G9(t,this.formSerializer).toString();if((l=ae.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return r0(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),J9(t)):t}],transformResponse:[function(t){const r=this.transitional||gf.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ae.isResponse(t)||ae.isReadableStream(t))return t;if(t&&ae.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Me.from(l,Me.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nr.classes.FormData,Blob:Nr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{gf.headers[e]={}});const eU=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tU=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&eU[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},lS=Symbol("internals");function Eu(e){return e&&String(e).trim().toLowerCase()}function Lm(e){return e===!1||e==null?e:ae.isArray(e)?e.map(Lm):String(e)}function rU(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const nU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $x(e,t,r,n,a){if(ae.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!ae.isString(t)){if(ae.isString(n))return t.indexOf(n)!==-1;if(ae.isRegExp(n))return n.test(t)}}function aU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function iU(e,t){const r=ae.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let on=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,u,d){const f=Eu(u);if(!f)throw new Error("header name must be a non-empty string");const h=ae.findKey(a,f);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||u]=Lm(l))}const o=(l,u)=>ae.forEach(l,(d,f)=>i(d,f,u));if(ae.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(ae.isString(t)&&(t=t.trim())&&!nU(t))o(tU(t),r);else if(ae.isObject(t)&&ae.isIterable(t)){let l={},u,d;for(const f of t){if(!ae.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(u=l[d])?ae.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Eu(t),t){const n=ae.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return rU(a);if(ae.isFunction(r))return r.call(this,a,n);if(ae.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Eu(t),t){const n=ae.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||$x(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=Eu(o),o){const l=ae.findKey(n,o);l&&(!r||$x(n,n[l],l,r))&&(delete n[l],a=!0)}}return ae.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||$x(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return ae.forEach(this,(a,i)=>{const o=ae.findKey(n,i);if(o){r[o]=Lm(a),delete r[i];return}const l=t?aU(i):String(i).trim();l!==i&&delete r[i],r[l]=Lm(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ae.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&ae.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[lS]=this[lS]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Eu(o);n[l]||(iU(a,o),n[l]=!0)}return ae.isArray(t)?t.forEach(i):i(t),this}};on.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(on.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ae.freezeMethods(on);function Bx(e,t){const r=this||gf,n=t||r,a=on.from(n.headers);let i=n.data;return ae.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function qM(e){return!!(e&&e.__CANCEL__)}function Bc(e,t,r){Me.call(this,e??"canceled",Me.ERR_CANCELED,t,r),this.name="CanceledError"}ae.inherits(Bc,Me,{__CANCEL__:!0});function ZM(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Me("Request failed with status code "+r.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function sU(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function oU(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),f=n[i];o||(o=d),r[a]=u,n[a]=d;let h=i,p=0;for(;h!==a;)p+=r[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const g=f&&d-f;return g?Math.round(p*1e3/g):void 0}}function lU(e,t){let r=0,n=1e3/t,a,i;const o=(d,f=Date.now())=>{r=f,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),h=f-r;h>=n?o(d,f):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},n-h)))},()=>a&&o(a)]}const jp=(e,t,r=3)=>{let n=0;const a=oU(50,250);return lU(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-n,d=a(u),f=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},cS=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},uS=e=>(...t)=>ae.asap(()=>e(...t)),cU=Nr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Nr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Nr.origin),Nr.navigator&&/(msie|trident)/i.test(Nr.navigator.userAgent)):()=>!0,uU=Nr.hasStandardBrowserEnv?{write(e,t,r,n,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];ae.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),ae.isString(n)&&l.push(`path=${n}`),ae.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),ae.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function dU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function YM(e,t,r){let n=!dU(t);return e&&(n||r==!1)?fU(e,t):t}const dS=e=>e instanceof on?{...e}:e;function Uo(e,t){t=t||{};const r={};function n(d,f,h,p){return ae.isPlainObject(d)&&ae.isPlainObject(f)?ae.merge.call({caseless:p},d,f):ae.isPlainObject(f)?ae.merge({},f):ae.isArray(f)?f.slice():f}function a(d,f,h,p){if(ae.isUndefined(f)){if(!ae.isUndefined(d))return n(void 0,d,h,p)}else return n(d,f,h,p)}function i(d,f){if(!ae.isUndefined(f))return n(void 0,f)}function o(d,f){if(ae.isUndefined(f)){if(!ae.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function l(d,f,h){if(h in t)return n(d,f);if(h in e)return n(void 0,d)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,h)=>a(dS(d),dS(f),h,!0)};return ae.forEach(Object.keys({...e,...t}),function(f){const h=u[f]||a,p=h(e[f],t[f],f);ae.isUndefined(p)&&h!==l||(r[f]=p)}),r}const GM=e=>{const t=Uo({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=on.from(o),t.url=WM(YM(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ae.isFormData(r)){if(Nr.hasStandardBrowserEnv||Nr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ae.isFunction(r.getHeaders)){const u=r.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([f,h])=>{d.includes(f.toLowerCase())&&o.set(f,h)})}}if(Nr.hasStandardBrowserEnv&&(n&&ae.isFunction(n)&&(n=n(t)),n||n!==!1&&cU(t.url))){const u=a&&i&&uU.read(i);u&&o.set(a,u)}return t},hU=typeof XMLHttpRequest<"u",mU=hU&&function(e){return new Promise(function(r,n){const a=GM(e);let i=a.data;const o=on.from(a.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=a,f,h,p,g,y;function b(){g&&g(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let _=new XMLHttpRequest;_.open(a.method.toUpperCase(),a.url,!0),_.timeout=a.timeout;function w(){if(!_)return;const j=on.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),P={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:j,config:e,request:_};ZM(function(A){r(A),b()},function(A){n(A),b()},P),_=null}"onloadend"in _?_.onloadend=w:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(w)},_.onabort=function(){_&&(n(new Me("Request aborted",Me.ECONNABORTED,e,_)),_=null)},_.onerror=function(N){const P=N&&N.message?N.message:"Network Error",C=new Me(P,Me.ERR_NETWORK,e,_);C.event=N||null,n(C),_=null},_.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const P=a.transitional||VM;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),n(new Me(N,P.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,e,_)),_=null},i===void 0&&o.setContentType(null),"setRequestHeader"in _&&ae.forEach(o.toJSON(),function(N,P){_.setRequestHeader(P,N)}),ae.isUndefined(a.withCredentials)||(_.withCredentials=!!a.withCredentials),l&&l!=="json"&&(_.responseType=a.responseType),d&&([p,y]=jp(d,!0),_.addEventListener("progress",p)),u&&_.upload&&([h,g]=jp(u),_.upload.addEventListener("progress",h),_.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(f=j=>{_&&(n(!j||j.type?new Bc(null,e,_):j),_.abort(),_=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const k=sU(a.url);if(k&&Nr.protocols.indexOf(k)===-1){n(new Me("Unsupported protocol "+k+":",Me.ERR_BAD_REQUEST,e));return}_.send(i||null)})},pU=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(d){if(!a){a=!0,l();const f=d instanceof Error?d:this.reason;n.abort(f instanceof Me?f:new Bc(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new Me(`timeout ${t} of ms exceeded`,Me.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>ae.asap(l),u}},gU=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},yU=async function*(e,t){for await(const r of xU(e))yield*gU(r,t)},xU=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},fS=(e,t,r,n)=>{const a=yU(e,t);let i=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await a.next();if(d){l(),u.close();return}let h=f.byteLength;if(r){let p=i+=h;r(p)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),a.return()}},{highWaterMark:2})},hS=64*1024,{isFunction:Hh}=ae,vU=(({Request:e,Response:t})=>({Request:e,Response:t}))(ae.global),{ReadableStream:mS,TextEncoder:pS}=ae.global,gS=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bU=e=>{e=ae.merge.call({skipUndefined:!0},vU,e);const{fetch:t,Request:r,Response:n}=e,a=t?Hh(t):typeof fetch=="function",i=Hh(r),o=Hh(n);if(!a)return!1;const l=a&&Hh(mS),u=a&&(typeof pS=="function"?(y=>b=>y.encode(b))(new pS):async y=>new Uint8Array(await new r(y).arrayBuffer())),d=i&&l&&gS(()=>{let y=!1;const b=new r(Nr.origin,{body:new mS,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),f=o&&l&&gS(()=>ae.isReadableStream(new n("").body)),h={stream:f&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!h[y]&&(h[y]=(b,_)=>{let w=b&&b[y];if(w)return w.call(b);throw new Me(`Response type '${y}' is not supported`,Me.ERR_NOT_SUPPORT,_)})});const p=async y=>{if(y==null)return 0;if(ae.isBlob(y))return y.size;if(ae.isSpecCompliantForm(y))return(await new r(Nr.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(y)||ae.isArrayBuffer(y))return y.byteLength;if(ae.isURLSearchParams(y)&&(y=y+""),ae.isString(y))return(await u(y)).byteLength},g=async(y,b)=>{const _=ae.toFiniteNumber(y.getContentLength());return _??p(b)};return async y=>{let{url:b,method:_,data:w,signal:k,cancelToken:j,timeout:N,onDownloadProgress:P,onUploadProgress:C,responseType:A,headers:O,withCredentials:T="same-origin",fetchOptions:$}=GM(y),I=t||fetch;A=A?(A+"").toLowerCase():"text";let z=pU([k,j&&j.toAbortSignal()],N),U=null;const F=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let q;try{if(C&&d&&_!=="get"&&_!=="head"&&(q=await g(O,w))!==0){let V=new r(b,{method:"POST",body:w,duplex:"half"}),G;if(ae.isFormData(w)&&(G=V.headers.get("content-type"))&&O.setContentType(G),V.body){const[Z,Q]=cS(q,jp(uS(C)));w=fS(V.body,hS,Z,Q)}}ae.isString(T)||(T=T?"include":"omit");const H=i&&"credentials"in r.prototype,W={...$,signal:z,method:_.toUpperCase(),headers:O.normalize().toJSON(),body:w,duplex:"half",credentials:H?T:void 0};U=i&&new r(b,W);let M=await(i?I(U,$):I(b,W));const D=f&&(A==="stream"||A==="response");if(f&&(P||D&&F)){const V={};["status","statusText","headers"].forEach(ie=>{V[ie]=M[ie]});const G=ae.toFiniteNumber(M.headers.get("content-length")),[Z,Q]=P&&cS(G,jp(uS(P),!0))||[];M=new n(fS(M.body,hS,Z,()=>{Q&&Q(),F&&F()}),V)}A=A||"text";let B=await h[ae.findKey(h,A)||"text"](M,y);return!D&&F&&F(),await new Promise((V,G)=>{ZM(V,G,{data:B,headers:on.from(M.headers),status:M.status,statusText:M.statusText,config:y,request:U})})}catch(H){throw F&&F(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,y,U),{cause:H.cause||H}):Me.from(H,H&&H.code,y,U)}}},wU=new Map,XM=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let o=i.length,l=o,u,d,f=wU;for(;l--;)u=i[l],d=f.get(u),d===void 0&&f.set(u,d=l?new Map:bU(t)),f=d;return d};XM();const p1={http:z9,xhr:mU,fetch:{get:XM}};ae.forEach(p1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const yS=e=>`- ${e}`,_U=e=>ae.isFunction(e)||e===null||e===!1;function jU(e,t){e=ae.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!_U(n)&&(a=p1[(l=String(n)).toLowerCase()],a===void 0))throw new Me(`Unknown adapter '${l}'`);if(a&&(ae.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(yS).join(`
`):" "+yS(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const QM={getAdapter:jU,adapters:p1};function Ux(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Bc(null,e)}function xS(e){return Ux(e),e.headers=on.from(e.headers),e.data=Bx.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),QM.getAdapter(e.adapter||gf.adapter,e)(e).then(function(n){return Ux(e),n.data=Bx.call(e,e.transformResponse,n),n.headers=on.from(n.headers),n},function(n){return qM(n)||(Ux(e),n&&n.response&&(n.response.data=Bx.call(e,e.transformResponse,n.response),n.response.headers=on.from(n.response.headers))),Promise.reject(n)})}const JM="1.13.2",n0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{n0[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const vS={};n0.transitional=function(t,r,n){function a(i,o){return"[Axios v"+JM+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new Me(a(o," has been removed"+(r?" in "+r:"")),Me.ERR_DEPRECATED);return r&&!vS[o]&&(vS[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};n0.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function kU(e,t,r){if(typeof e!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new Me("option "+i+" must be "+u,Me.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Me("Unknown option "+i,Me.ERR_BAD_OPTION)}}const Dm={assertOptions:kU,validators:n0},Sa=Dm.validators;let Oo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new oS,response:new oS}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Uo(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&Dm.assertOptions(n,{silentJSONParsing:Sa.transitional(Sa.boolean),forcedJSONParsing:Sa.transitional(Sa.boolean),clarifyTimeoutError:Sa.transitional(Sa.boolean)},!1),a!=null&&(ae.isFunction(a)?r.paramsSerializer={serialize:a}:Dm.assertOptions(a,{encode:Sa.function,serialize:Sa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Dm.assertOptions(r,{baseUrl:Sa.spelling("baseURL"),withXsrfToken:Sa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&ae.merge(i.common,i[r.method]);i&&ae.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=on.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(u=u&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let f,h=0,p;if(!u){const y=[xS.bind(this),void 0];for(y.unshift(...l),y.push(...d),p=y.length,f=Promise.resolve(r);h<p;)f=f.then(y[h++],y[h++]);return f}p=l.length;let g=r;for(;h<p;){const y=l[h++],b=l[h++];try{g=y(g)}catch(_){b.call(this,_);break}}try{f=xS.call(this,g)}catch(y){return Promise.reject(y)}for(h=0,p=d.length;h<p;)f=f.then(d[h++],d[h++]);return f}getUri(t){t=Uo(this.defaults,t);const r=YM(t.baseURL,t.url,t.allowAbsoluteUrls);return WM(r,t.params,t.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(t){Oo.prototype[t]=function(r,n){return this.request(Uo(n||{},{method:t,url:r,data:(n||{}).data}))}});ae.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Uo(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Oo.prototype[t]=r(),Oo.prototype[t+"Form"]=r(!0)});let NU=class eI{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Bc(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new eI(function(a){t=a}),cancel:t}}};function SU(e){return function(r){return e.apply(null,r)}}function PU(e){return ae.isObject(e)&&e.isAxiosError===!0}const Bb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Bb).forEach(([e,t])=>{Bb[t]=e});function tI(e){const t=new Oo(e),r=TM(Oo.prototype.request,t);return ae.extend(r,Oo.prototype,t,{allOwnKeys:!0}),ae.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return tI(Uo(e,a))},r}const ct=tI(gf);ct.Axios=Oo;ct.CanceledError=Bc;ct.CancelToken=NU;ct.isCancel=qM;ct.VERSION=JM;ct.toFormData=r0;ct.AxiosError=Me;ct.Cancel=ct.CanceledError;ct.all=function(t){return Promise.all(t)};ct.spread=SU;ct.isAxiosError=PU;ct.mergeConfig=Uo;ct.AxiosHeaders=on;ct.formToJSON=e=>KM(ae.isHTMLForm(e)?new FormData(e):e);ct.getAdapter=QM.getAdapter;ct.HttpStatusCode=Bb;ct.default=ct;const{Axios:Mge,AxiosError:Ige,CanceledError:Lge,isCancel:Dge,CancelToken:Rge,VERSION:zge,all:Fge,Cancel:$ge,isAxiosError:Bge,spread:Uge,toFormData:Hge,AxiosHeaders:Wge,HttpStatusCode:Vge,formToJSON:Kge,getAdapter:qge,mergeConfig:Zge}=ct,CU="/api",Ot=ct.create({baseURL:CU,headers:{"Content-Type":"application/json"}}),EU=async e=>(await Ot.post("/pipeline/preview",e)).data,OU=async e=>(await Ot.get(`/pipeline/datasets/${e}/schema`)).data,AU=async(e,t)=>(await Ot.post(`/pipeline/save/${e}`,t)).data,TU=async e=>{const t=await Ot.get(`/pipeline/load/${e}`);return t.data?t.data:null},ir={runPipeline:async e=>(await Ot.post("/pipeline/run",e)).data,getJob:async e=>(await Ot.get(`/pipeline/jobs/${e}`)).data,cancelJob:async e=>{await Ot.post(`/pipeline/jobs/${e}/cancel`)},getJobs:async(e=10,t=0,r)=>{const n={limit:e,skip:t};return r&&(n.job_type=r),(await Ot.get("/pipeline/jobs",{params:n})).data},getHyperparameters:async e=>(await Ot.get(`/pipeline/hyperparameters/${e}`)).data,getDefaultSearchSpace:async e=>(await Ot.get(`/pipeline/hyperparameters/${e}/defaults`)).data,getLatestTuningJob:async e=>(await Ot.get(`/pipeline/jobs/tuning/latest/${e}`)).data,getBestTuningJob:async e=>(await Ot.get(`/pipeline/jobs/tuning/best/${e}`)).data,getTuningHistory:async e=>(await Ot.get(`/pipeline/jobs/tuning/history/${e}`)).data},bS=e=>typeof e=="object"&&e!==null,MU=()=>{const[e,t]=x.useState(null),[r,n]=x.useState([]),[a,i]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const[l,u]=await Promise.all([Ot.get("/pipeline/stats"),ir.getJobs(5,0,"training")]);t(l.data),n(u.map(d=>({id:d.job_id,status:d.status,model_type:d.model_type||"Unknown",created_at:d.start_time||d.created_at||new Date().toISOString(),metrics:(()=>{const f=d.metrics??(bS(d.result)?d.result.metrics:void 0);return bS(f)?f:void 0})()})))}catch(l){console.error("Failed to fetch dashboard data:",l)}finally{i(!1)}})()},[]),s.jsxs("div",{className:"p-8 space-y-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Dashboard"}),s.jsx(Zg,{to:"/canvas",className:"text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:"New Experiment"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Hx,{title:"Total Jobs",value:(e==null?void 0:e.total_jobs)??"-",loading:a,subtext:`${(e==null?void 0:e.training_jobs)??0} Training, ${(e==null?void 0:e.tuning_jobs)??0} Tuning`}),s.jsx(Hx,{title:"Active Deployments",value:(e==null?void 0:e.active_deployments)??"-",loading:a,color:"text-green-600 dark:text-green-400"}),s.jsx(Hx,{title:"Data Sources",value:(e==null?void 0:e.data_sources)??"-",loading:a})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-900 dark:text-slate-100",children:"Recent Activity"}),a?s.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Loading..."}):r.length===0?s.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No recent jobs found."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Job ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:r.map(o=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",title:o.id,children:[o.id.substring(0,8),"..."]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:o.model_type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o.status==="succeeded"?"bg-green-100 text-green-800":o.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(o.created_at).toLocaleString()})]},o.id))})]})})]})]})},Hx=({title:e,value:t,loading:r,subtext:n,color:a="text-slate-900 dark:text-slate-100"})=>s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),s.jsx("div",{className:`mt-2 text-3xl font-bold ${a}`,children:r?"...":t}),n&&s.jsx("div",{className:"mt-1 text-xs text-slate-400 dark:text-slate-500",children:n})]}),Ou="/data/api",Wh="/api/ingestion",$n={getAll:async()=>{const e=await fetch(`${Ou}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getUsable:async()=>{const e=await fetch(`${Ou}/sources/usable`);if(!e.ok)throw new Error("Failed to fetch usable datasets");return(await e.json()).sources||[]},upload:async e=>{const t=new FormData;t.append("file",e);const r=await fetch(`${Wh}/upload`,{method:"POST",body:t});if(!r.ok){const n=await r.json();throw new Error(n.detail||"Failed to upload file")}return await r.json()},createSource:async e=>{const t=await fetch(`${Wh}/database`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to create data source")}return await t.json()},getIngestionStatus:async e=>{const t=await fetch(`${Wh}/${encodeURIComponent(e)}/status`);if(!t.ok)throw new Error("Failed to fetch ingestion status");return await t.json()},cancelIngestion:async e=>{const t=await fetch(`${Wh}/${encodeURIComponent(e)}/cancel`,{method:"POST"});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to cancel ingestion")}},getById:async e=>{const t=await fetch(`${Ou}/sources/${encodeURIComponent(e)}`);if(!t.ok)throw new Error("Failed to fetch dataset");return(await t.json()).source},getSample:async(e,t=1)=>{const r=new URLSearchParams({limit:t.toString()}),n=await fetch(`${Ou}/sources/${encodeURIComponent(e)}/sample?${r.toString()}`);if(!n.ok)throw new Error("Failed to fetch dataset sample");return(await n.json()).data},getProfile:async e=>{const t=await fetch(`/api/pipeline/datasets/${encodeURIComponent(e)}/schema`);if(!t.ok)throw new Error("Failed to fetch dataset profile");const r=await t.json(),n=Object.values(r.columns).map(o=>{const l=o;return{name:l.name,dtype:l.dtype,missing_count:l.missing_count||0,missing_percentage:(l.missing_ratio||0)*100,distinct_count:l.unique_count||0,numeric_summary:l.column_type==="numeric"?{mean:l.mean_value,std:l.std_value,minimum:l.min_value,maximum:l.max_value}:void 0}}),a=r.row_count*r.column_count,i=n.reduce((o,l)=>o+l.missing_count,0);return{metrics:{row_count:r.row_count,column_count:r.column_count,missing_cells:i,missing_percentage:a>0?Number((i/a*100).toFixed(2)):0},columns:n}},delete:async e=>{if(!(await fetch(`${Ou}/sources/${encodeURIComponent(e)}`,{method:"DELETE"})).ok)throw new Error("Failed to delete dataset")}},rI=({onUploadComplete:e,onCancel:t})=>{const[r,n]=x.useState(!1),[a,i]=x.useState(!1),[o,l]=x.useState(null),[u,d]=x.useState(0),f=x.useCallback(y=>{y.preventDefault(),y.stopPropagation(),y.type==="dragenter"||y.type==="dragover"?n(!0):y.type==="dragleave"&&n(!1)},[]),h=x.useCallback(y=>{y.preventDefault(),y.stopPropagation(),n(!1),y.dataTransfer.files&&y.dataTransfer.files[0]&&g(y.dataTransfer.files[0])},[]),p=y=>{y.preventDefault(),y.target.files&&y.target.files[0]&&g(y.target.files[0])},g=async y=>{i(!0),l(null),d(0);try{const b=await $n.upload(y);e(b.job_id,y.name)}catch(b){console.error("Upload failed:",b),l(b.message||"Failed to upload file. Please try again.")}finally{i(!1)}};return s.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-900 dark:border-slate-700 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-2 right-2 p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full text-slate-500 dark:text-slate-400",children:s.jsx(lr,{size:16})}),s.jsxs("h3",{className:"font-medium mb-4 flex items-center gap-2 text-slate-900 dark:text-slate-100",children:[s.jsx(G7,{size:18,className:"text-blue-600 dark:text-blue-400"}),"Upload New Dataset"]}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-slate-300 dark:border-slate-700 hover:border-slate-400 dark:hover:border-slate-600"}`,onDragEnter:f,onDragLeave:f,onDragOver:f,onDrop:h,children:a?s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${u}%`}})}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Uploading... ",u,"%"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(j7,{className:"w-10 h-10 text-slate-400 dark:text-slate-500 mx-auto mb-3"}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:["Drag and drop your file here, or"," ",s.jsxs("label",{className:"text-blue-600 dark:text-blue-400 hover:underline cursor-pointer font-medium",children:["browse",s.jsx("input",{type:"file",className:"hidden",accept:".csv,.xlsx,.parquet,.json",onChange:p})]})]}),s.jsx("p",{className:"text-xs text-slate-400",children:"Supports CSV, Excel, Parquet, JSON"})]})}),o&&s.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 text-sm rounded-md flex items-start gap-2",children:[s.jsx(an,{size:16,className:"mt-0.5 shrink-0"}),s.jsx("span",{children:o})]})]})},nI=(e,t=2)=>{if(!+e)return"0 Bytes";const r=1024,n=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,i)).toFixed(n))} ${a[i]}`},IU=({dataset:e,isOpen:t,onClose:r})=>{const[n,a]=x.useState([]),[i,o]=x.useState(null),[l,u]=x.useState(!1),[d,f]=x.useState(null),[h,p]=x.useState("sample"),[g,y]=x.useState(100);x.useEffect(()=>{t&&e?b(100):(a([]),o(null),f(null),p("sample"),y(100))},[t,e]);const b=async P=>{if(e){u(!0),f(null);try{const[C,A]=await Promise.all([$n.getSample(e.id,P),$n.getProfile(e.id)]);a(C),o(A)}catch(C){console.error("Failed to fetch data:",C),f("Failed to load dataset preview.")}finally{u(!1)}}},_=()=>{const P=g+500;y(P),b(P)};if(!t||!e)return null;const w=n.length>0?Object.keys(n[0]):[],k=(i==null?void 0:i.metrics.row_count)??e.rows??0,j=(i==null?void 0:i.metrics.column_count)??e.columns??0,N=e.size_bytes??0;return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400",children:s.jsx(za,{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:e.name}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 dark:text-slate-400 mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Gg,{size:14})," ",e.format||"CSV"]}),s.jsx("span",{children:""}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(h7,{size:14})," ",k.toLocaleString()," rows"]}),s.jsx("span",{children:""}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(v7,{size:14})," ",j," columns"]}),s.jsx("span",{children:""}),s.jsx("span",{children:nI(N)})]})]})]}),s.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:s.jsx(lr,{size:20})})]}),s.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-6",children:[s.jsx("button",{onClick:()=>{p("sample")},className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${h==="sample"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Data Sample"}),s.jsx("button",{onClick:()=>{p("stats")},className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${h==="stats"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Statistics"})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),s.jsx("p",{children:"Loading preview data..."})]}):d?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[s.jsx("p",{children:d}),s.jsx("button",{onClick:()=>{b(g)},className:"mt-4 px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 rounded-md text-sm font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Retry"})]}):h==="sample"?n.length===0?s.jsx("div",{className:"text-center py-12 text-slate-500",children:"No data available to preview."}):w.length===0?s.jsx("div",{className:"text-center py-12 text-slate-500",children:"Data loaded but no columns found."}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10",children:s.jsx("tr",{children:w.map(P=>s.jsx("th",{className:"px-4 py-3 font-semibold whitespace-nowrap bg-slate-50 dark:bg-slate-800",children:P},P))})}),s.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n.map((P,C)=>s.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:w.map(A=>s.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700 dark:text-slate-300",children:String(P[A]??"")},`${C}-${A}`))},C))})]})})}),s.jsxs("div",{className:"flex justify-center items-center gap-4",children:[s.jsx("button",{onClick:_,className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"Load More (+500 rows)"}),s.jsxs("span",{className:"text-xs text-slate-500",children:["Showing first ",n.length," rows"]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Vh,{label:"Total Rows",value:i==null?void 0:i.metrics.row_count.toLocaleString()}),s.jsx(Vh,{label:"Total Columns",value:i==null?void 0:i.metrics.column_count}),s.jsx(Vh,{label:"Missing Cells",value:i==null?void 0:i.metrics.missing_cells.toLocaleString()}),s.jsx(Vh,{label:"Missing %",value:`${i==null?void 0:i.metrics.missing_percentage}%`})]}),s.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Column"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Type"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Missing"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Unique"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Min"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Max"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Mean"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Std Dev"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:i==null?void 0:i.columns.map(P=>{var C,A,O,T;return s.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3 font-medium text-slate-900 dark:text-slate-100",children:P.name}),s.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-500",children:P.dtype}),s.jsxs("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:[P.missing_count," ",s.jsxs("span",{className:"text-xs text-slate-400",children:["(",P.missing_percentage,"%)"]})]}),s.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:P.distinct_count}),s.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((C=P.numeric_summary)==null?void 0:C.minimum.toFixed(2))??"-"}),s.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((A=P.numeric_summary)==null?void 0:A.maximum.toFixed(2))??"-"}),s.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((O=P.numeric_summary)==null?void 0:O.mean.toFixed(2))??"-"}),s.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((T=P.numeric_summary)==null?void 0:T.std.toFixed(2))??"-"})]},P.name)})})]})})]})}),s.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 flex justify-end rounded-b-xl",children:s.jsx("button",{onClick:r,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})},Vh=({label:e,value:t})=>s.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:e}),s.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mt-1",children:t??"-"})]}),LU=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=x.useState("database"),[i,o]=x.useState(""),[l,u]=x.useState(""),[d,f]=x.useState(""),[h,p]=x.useState(""),[g,y]=x.useState("GET"),[b,_]=x.useState(""),[w,k]=x.useState(!1),[j,N]=x.useState(!1),[P,C]=x.useState(null);if(!e)return null;const A=async O=>{var T,$,I;O.preventDefault(),N(!0),C(null);try{const z={};if(n==="database")z.connection_string=l,z.query=d;else if(n==="s3"){z.path=b;const q=O.target,H=(T=q.elements.namedItem("aws_access_key_id"))==null?void 0:T.value,W=($=q.elements.namedItem("aws_secret_access_key"))==null?void 0:$.value,M=(I=q.elements.namedItem("region_name"))==null?void 0:I.value;H&&W&&(z.storage_options={aws_access_key_id:H,aws_secret_access_key:W,region:M||void 0})}else z.url=h,z.method=g;const U={name:i,type:n,config:z,description:`Imported from ${n}`},F=await $n.createSource(U);r(F.job_id),t()}catch(z){C(z.message||"Failed to create source")}finally{N(!1)}};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md flex flex-col max-h-[90vh] border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700 shrink-0",children:[s.jsx("h3",{className:"font-semibold text-lg text-slate-900 dark:text-slate-100",children:"Add Data Source"}),s.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:s.jsx(lr,{size:20})})]}),s.jsxs("div",{className:"p-4 overflow-y-auto",children:[s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsxs("button",{onClick:()=>{a("database")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="database"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[s.jsx(za,{size:16})," Database"]}),s.jsxs("button",{onClick:()=>{a("s3")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="s3"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[s.jsx(kM,{size:16})," S3"]}),s.jsxs("button",{onClick:()=>{a("api")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="api"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[s.jsx(E7,{size:16})," API"]})]}),s.jsxs("form",{onSubmit:O=>{A(O)},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name"}),s.jsx("input",{type:"text",required:!0,value:i,onChange:O=>{o(O.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"My Dataset"})]}),n==="database"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Connection String"}),s.jsx("input",{type:"text",required:!0,value:l,onChange:O=>{u(O.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"postgresql://user:pass@localhost:5432/db"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"SQL Query"}),s.jsx("textarea",{required:!0,value:d,onChange:O=>{f(O.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 h-24",placeholder:"SELECT * FROM users"})]})]}),n==="s3"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S3 Path"}),s.jsx("input",{type:"text",required:!0,value:b,onChange:O=>{_(O.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"s3://my-bucket/path/to/data.parquet"})]}),s.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-md overflow-hidden",children:[s.jsxs("button",{type:"button",onClick:()=>k(!w),className:"w-full flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Credentials (Optional)"})}),w?s.jsx(or,{size:16,className:"text-slate-500"}):s.jsx(Ra,{size:16,className:"text-slate-500"})]}),w&&s.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700",children:[s.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"If your bucket is private, provide credentials here. They will be stored securely. Leave blank if using backend's IAM role."}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Access Key ID"}),s.jsx("input",{type:"text",name:"aws_access_key_id",className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"AKIA..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Secret Access Key"}),s.jsx("input",{type:"password",name:"aws_secret_access_key",className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"Secret..."})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Region"}),s.jsx("input",{type:"text",name:"region_name",className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"us-east-1"})]})]})]})]})]}),n==="api"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"API URL"}),s.jsx("input",{type:"url",required:!0,value:h,onChange:O=>{p(O.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"https://api.example.com/data"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Method"}),s.jsxs("select",{value:g,onChange:O=>{y(O.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"GET",children:"GET"}),s.jsx("option",{value:"POST",children:"POST"})]})]})]}),P&&s.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-md",children:P}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-md",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center gap-2 disabled:opacity-50",children:j?"Creating...":s.jsxs(s.Fragment,{children:[s.jsx(Ed,{size:16})," Create Source"]})})]})]})]})]})})},DU=({isOpen:e,onClose:t,datasets:r,onRefresh:n})=>{const[a,i]=x.useState(null);if(!e)return null;const o=async u=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){i(u);try{await $n.cancelIngestion(u),n&&n()}catch(d){console.error("Failed to cancel ingestion:",d),alert("Failed to cancel ingestion")}finally{i(null)}}},l=r.map(u=>{var d,f,h,p,g,y;return{id:u.id,name:u.name,status:((f=(d=u.source_metadata)==null?void 0:d.ingestion_status)==null?void 0:f.status)||"completed",created_at:u.created_at,message:((p=(h=u.source_metadata)==null?void 0:h.ingestion_status)==null?void 0:p.error)||(((y=(g=u.source_metadata)==null?void 0:g.ingestion_status)==null?void 0:y.status)==="cancelled"?"Ingestion cancelled":"Ingestion completed successfully")}}).sort((u,d)=>new Date(d.created_at).getTime()-new Date(u.created_at).getTime());return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Data Ingestion Jobs"}),s.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300",children:s.jsx(lr,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l.length===0?s.jsx("div",{className:"text-center text-slate-500 py-8",children:"No ingestion jobs found."}):s.jsx("div",{className:"space-y-4",children:l.map(u=>s.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:[s.jsx("div",{className:"mt-1",children:u.status==="processing"||u.status==="pending"?s.jsx(Xr,{className:"text-blue-500 animate-spin",size:20}):u.status==="failed"?s.jsx(u1,{className:"text-red-500",size:20}):u.status==="cancelled"?s.jsx(Q2,{className:"text-slate-500",size:20}):s.jsx(pa,{className:"text-green-500",size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:u.name}),s.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[s.jsx(Yg,{size:12}),new Date(u.created_at).toLocaleString()]})]}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Status: ",s.jsx("span",{className:"capitalize",children:u.status})]}),(u.status==="failed"||u.status==="cancelled")&&s.jsx("p",{className:`text-sm mt-1 p-2 rounded ${u.status==="failed"?"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/10":"text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-800"}`,children:u.message})]}),(u.status==="processing"||u.status==="pending")&&s.jsx("button",{onClick:()=>{o(u.id)},disabled:a===u.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:a===u.id?s.jsx(Xr,{className:"animate-spin",size:20}):s.jsx(Q2,{size:20})})]},u.id))})})]})})},RU=()=>{const e=Kg(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(null),[g,y]=x.useState(null),[b,_]=x.useState(null),[w,k]=x.useState("completed"),j=t.filter(I=>{var U,F;const z=((F=(U=I.source_metadata)==null?void 0:U.ingestion_status)==null?void 0:F.status)||"completed";return w==="all"?!0:w==="active"?["processing","pending"].includes(z):z===w}),N=async()=>{t.length===0&&a(!0);try{const I=await $n.getAll();r(I)}catch(I){console.error("Failed to fetch datasets:",I)}finally{a(!1)}};x.useEffect(()=>{N()},[]),x.useEffect(()=>{const I=setInterval(()=>{t.some(U=>{var F,q,H,W;return((q=(F=U.source_metadata)==null?void 0:F.ingestion_status)==null?void 0:q.status)==="pending"||((W=(H=U.source_metadata)==null?void 0:H.ingestion_status)==null?void 0:W.status)==="processing"})&&N()},5e3);return()=>{clearInterval(I)}},[t]);const P=async I=>{if(window.confirm("Are you sure you want to delete this dataset?")){p(I);try{await $n.delete(I),r(t.filter(z=>z.id!==I))}catch(z){console.error("Failed to delete dataset:",z),alert("Failed to delete dataset")}finally{p(null)}}},C=async I=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){y(I);try{await $n.cancelIngestion(I),N()}catch(z){console.error("Failed to cancel ingestion:",z),alert("Failed to cancel ingestion")}finally{y(null)}}},A=I=>{e(`/canvas?source_id=${I}`)},O=()=>{o(!1),N()},T=()=>{u(!1),N()},$=I=>{var U,F;const z=(F=(U=I.source_metadata)==null?void 0:U.ingestion_status)==null?void 0:F.status;return!z||z==="completed"?null:z==="failed"?s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Failed"}):z==="cancelled"?s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-400",children:"Cancelled"}):s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:[s.jsx(Xr,{size:12,className:"animate-spin"}),z==="processing"?"Processing...":"Pending..."]})};return s.jsxs("div",{className:"p-8 space-y-6 max-w-7xl mx-auto",children:[s.jsx(IU,{dataset:b,isOpen:!!b,onClose:()=>{_(null)}}),s.jsx(LU,{isOpen:l,onClose:()=>{u(!1)},onSuccess:T}),s.jsx(DU,{isOpen:d,onClose:()=>{f(!1)},datasets:t,onRefresh:N}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Data Sources"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your uploaded datasets and use them in experiments."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>{f(!0)},className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-slate-700 dark:text-slate-200",children:[s.jsx(wp,{size:18}),"Ingestion Jobs"]}),s.jsxs("button",{onClick:()=>{u(!0)},className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-600 px-4 py-2 rounded-md shadow-sm transition-all hover:bg-slate-50 dark:hover:bg-slate-700",children:[s.jsx(za,{size:18}),"Add Source"]}),s.jsxs("button",{onClick:()=>{o(!i)},className:"flex items-center gap-2 text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:[s.jsx(tl,{size:18}),i?"Cancel Upload":"Upload File"]})]})]}),i&&s.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm animate-in fade-in slide-in-from-top-4",children:s.jsx(rI,{onUploadComplete:O,onCancel:()=>{o(!1)}})}),s.jsx("div",{className:"flex items-center gap-2 mb-4 overflow-x-auto pb-2 scrollbar-hide",children:["all","active","completed","failed","cancelled"].map(I=>s.jsx("button",{onClick:()=>{k(I)},className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${w===I?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-white dark:bg-slate-800 text-slate-600 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:I.charAt(0).toUpperCase()+I.slice(1)},I))}),s.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Dataset Name"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Format"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Size"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Created"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n&&t.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500 dark:text-slate-400",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),"Loading datasets..."]})})}):j.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:t.length===0?s.jsxs(s.Fragment,{children:[s.jsx(za,{className:"w-12 h-12 mx-auto text-slate-300 dark:text-slate-600 mb-3"}),s.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets found"}),s.jsx("p",{className:"text-sm",children:"Upload a dataset to get started with your analysis."})]}):s.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets match the selected filter"})})}):j.map(I=>{var z,U,F,q,H,W,M;return s.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-blue-600 dark:text-blue-400",children:s.jsx(Gg,{size:18})}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[I.name,$(I)]}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono mt-0.5",title:"Dataset ID",children:I.source_id||I.id})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 uppercase border border-slate-200 dark:border-slate-700",children:I.format||"CSV"})}),s.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:nI(I.size_bytes||0)}),s.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:[((z=I.rows)==null?void 0:z.toLocaleString())||"-"," rows  ",I.columns||"-"," cols"]})]})}),s.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wp,{size:14,className:"text-slate-400 dark:text-slate-500"}),new Date(I.created_at).toLocaleDateString()]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[((F=(U=I.source_metadata)==null?void 0:U.ingestion_status)==null?void 0:F.status)==="completed"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{_(I)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Preview Dataset",children:s.jsx(_7,{size:16})}),s.jsxs("button",{onClick:()=>{A(I.id)},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Use in Canvas",children:[s.jsx($s,{size:16}),"Canvas"]}),s.jsxs("button",{onClick:()=>{e(`/eda?dataset_id=${I.id}`)},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-md transition-colors",title:"Analyze with EDA",children:[s.jsx(Cd,{size:16}),"EDA"]})]}),(((H=(q=I.source_metadata)==null?void 0:q.ingestion_status)==null?void 0:H.status)==="pending"||((M=(W=I.source_metadata)==null?void 0:W.ingestion_status)==null?void 0:M.status)==="processing")&&s.jsx("button",{onClick:()=>{C(I.id)},disabled:g===I.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:g===I.id?s.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}):s.jsx(u1,{size:16})}),s.jsx("button",{onClick:()=>{P(I.id)},disabled:h===I.id,className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors disabled:opacity-50",title:"Delete Dataset",children:h===I.id?s.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):s.jsx(Us,{size:16})})]})})]},I.id)})})]})})})]})},oo=class oo{constructor(){vu(this,"nodes",new Map)}static getInstance(){return oo.instance||(oo.instance=new oo),oo.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(r=>{t[r.category]||(t[r.category]=[]),t[r.category].push(r)}),t}};vu(oo,"instance");let Ub=oo;const Ke=Ub.getInstance(),zU={},wS=e=>{let t;const r=new Set,n=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const g=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(y=>y(t,g))}},a=()=>t,u={setState:n,getState:a,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(zU?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(n,a,u);return u},aI=e=>e?wS(e):wS;var iI={exports:{}},sI={},oI={exports:{}},lI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=x;function FU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $U=typeof Object.is=="function"?Object.is:FU,BU=mc.useState,UU=mc.useEffect,HU=mc.useLayoutEffect,WU=mc.useDebugValue;function VU(e,t){var r=t(),n=BU({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return HU(function(){a.value=r,a.getSnapshot=t,Wx(a)&&i({inst:a})},[e,r,t]),UU(function(){return Wx(a)&&i({inst:a}),e(function(){Wx(a)&&i({inst:a})})},[e]),WU(r),r}function Wx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$U(e,r)}catch{return!0}}function KU(e,t){return t()}var qU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KU:VU;lI.useSyncExternalStore=mc.useSyncExternalStore!==void 0?mc.useSyncExternalStore:qU;oI.exports=lI;var ZU=oI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=x,YU=ZU;function GU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XU=typeof Object.is=="function"?Object.is:GU,QU=YU.useSyncExternalStore,JU=a0.useRef,eH=a0.useEffect,tH=a0.useMemo,rH=a0.useDebugValue;sI.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=JU(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=tH(function(){function u(g){if(!d){if(d=!0,f=g,g=n(g),a!==void 0&&o.hasValue){var y=o.value;if(a(y,g))return h=y}return h=g}if(y=h,XU(f,g))return y;var b=n(g);return a!==void 0&&a(y,b)?(f=g,y):(f=g,h=b)}var d=!1,f,h,p=r===void 0?null:r;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,r,n,a]);var l=QU(e,i[0],i[1]);return eH(function(){o.hasValue=!0,o.value=l},[l]),rH(l),l};iI.exports=sI;var cI=iI.exports;const uI=Wa(cI),dI={},{useDebugValue:nH}=Sr,{useSyncExternalStoreWithSelector:aH}=uI;let _S=!1;const iH=e=>e;function sH(e,t=iH,r){(dI?"production":void 0)!=="production"&&r&&!_S&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),_S=!0);const n=aH(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return nH(n),n}const jS=e=>{(dI?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?aI(e):e,r=(n,a)=>sH(t,n,a);return Object.assign(r,t),r},g1=e=>e?jS(e):jS;function Bt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=Bt(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var oH={value:()=>{}};function i0(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Rm(r)}function Rm(e){this._=e}function lH(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Rm.prototype=i0.prototype={constructor:Rm,on:function(e,t){var r=this._,n=lH(e+"",r),a,i=-1,o=n.length;if(arguments.length<2){for(;++i<o;)if((a=(e=n[i]).type)&&(a=cH(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=n[i]).type)r[a]=kS(r[a],e.name,t);else if(t==null)for(a in r)r[a]=kS(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Rm(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,i;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,i=n.length;a<i;++a)n[a].value.apply(t,r)}};function cH(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function kS(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=oH,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Hb="http://www.w3.org/1999/xhtml";const NS={svg:"http://www.w3.org/2000/svg",xhtml:Hb,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function s0(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),NS.hasOwnProperty(t)?{space:NS[t],local:e}:e}function uH(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Hb&&t.documentElement.namespaceURI===Hb?t.createElement(e):t.createElementNS(r,e)}}function dH(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fI(e){var t=s0(e);return(t.local?dH:uH)(t)}function fH(){}function y1(e){return e==null?fH:function(){return this.querySelector(e)}}function hH(e){typeof e!="function"&&(e=y1(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,l=n[a]=new Array(o),u,d,f=0;f<o;++f)(u=i[f])&&(d=e.call(u,u.__data__,f,i))&&("__data__"in u&&(d.__data__=u.__data__),l[f]=d);return new vn(n,this._parents)}function mH(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function pH(){return[]}function hI(e){return e==null?pH:function(){return this.querySelectorAll(e)}}function gH(e){return function(){return mH(e.apply(this,arguments))}}function yH(e){typeof e=="function"?e=gH(e):e=hI(e);for(var t=this._groups,r=t.length,n=[],a=[],i=0;i<r;++i)for(var o=t[i],l=o.length,u,d=0;d<l;++d)(u=o[d])&&(n.push(e.call(u,u.__data__,d,o)),a.push(u));return new vn(n,a)}function mI(e){return function(){return this.matches(e)}}function pI(e){return function(t){return t.matches(e)}}var xH=Array.prototype.find;function vH(e){return function(){return xH.call(this.children,e)}}function bH(){return this.firstElementChild}function wH(e){return this.select(e==null?bH:vH(typeof e=="function"?e:pI(e)))}var _H=Array.prototype.filter;function jH(){return Array.from(this.children)}function kH(e){return function(){return _H.call(this.children,e)}}function NH(e){return this.selectAll(e==null?jH:kH(typeof e=="function"?e:pI(e)))}function SH(e){typeof e!="function"&&(e=mI(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,l=n[a]=[],u,d=0;d<o;++d)(u=i[d])&&e.call(u,u.__data__,d,i)&&l.push(u);return new vn(n,this._parents)}function gI(e){return new Array(e.length)}function PH(){return new vn(this._enter||this._groups.map(gI),this._parents)}function kp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}kp.prototype={constructor:kp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function CH(e){return function(){return e}}function EH(e,t,r,n,a,i){for(var o=0,l,u=t.length,d=i.length;o<d;++o)(l=t[o])?(l.__data__=i[o],n[o]=l):r[o]=new kp(e,i[o]);for(;o<u;++o)(l=t[o])&&(a[o]=l)}function OH(e,t,r,n,a,i,o){var l,u,d=new Map,f=t.length,h=i.length,p=new Array(f),g;for(l=0;l<f;++l)(u=t[l])&&(p[l]=g=o.call(u,u.__data__,l,t)+"",d.has(g)?a[l]=u:d.set(g,u));for(l=0;l<h;++l)g=o.call(e,i[l],l,i)+"",(u=d.get(g))?(n[l]=u,u.__data__=i[l],d.delete(g)):r[l]=new kp(e,i[l]);for(l=0;l<f;++l)(u=t[l])&&d.get(p[l])===u&&(a[l]=u)}function AH(e){return e.__data__}function TH(e,t){if(!arguments.length)return Array.from(this,AH);var r=t?OH:EH,n=this._parents,a=this._groups;typeof e!="function"&&(e=CH(e));for(var i=a.length,o=new Array(i),l=new Array(i),u=new Array(i),d=0;d<i;++d){var f=n[d],h=a[d],p=h.length,g=MH(e.call(f,f&&f.__data__,d,n)),y=g.length,b=l[d]=new Array(y),_=o[d]=new Array(y),w=u[d]=new Array(p);r(f,h,b,_,w,g,t);for(var k=0,j=0,N,P;k<y;++k)if(N=b[k]){for(k>=j&&(j=k+1);!(P=_[j])&&++j<y;);N._next=P||null}}return o=new vn(o,n),o._enter=l,o._exit=u,o}function MH(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IH(){return new vn(this._exit||this._groups.map(gI),this._parents)}function LH(e,t,r){var n=this.enter(),a=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?i.remove():r(i),n&&a?n.merge(a).order():a}function DH(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,i=n.length,o=Math.min(a,i),l=new Array(a),u=0;u<o;++u)for(var d=r[u],f=n[u],h=d.length,p=l[u]=new Array(h),g,y=0;y<h;++y)(g=d[y]||f[y])&&(p[y]=g);for(;u<a;++u)l[u]=r[u];return new vn(l,this._parents)}function RH(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,i=n[a],o;--a>=0;)(o=n[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function zH(e){e||(e=FH);function t(h,p){return h&&p?e(h.__data__,p.__data__):!h-!p}for(var r=this._groups,n=r.length,a=new Array(n),i=0;i<n;++i){for(var o=r[i],l=o.length,u=a[i]=new Array(l),d,f=0;f<l;++f)(d=o[f])&&(u[f]=d);u.sort(t)}return new vn(a,this._parents).order()}function FH(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function $H(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function BH(){return Array.from(this)}function UH(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length;a<i;++a){var o=n[a];if(o)return o}return null}function HH(){let e=0;for(const t of this)++e;return e}function WH(){return!this.node()}function VH(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],i=0,o=a.length,l;i<o;++i)(l=a[i])&&e.call(l,l.__data__,i,a);return this}function KH(e){return function(){this.removeAttribute(e)}}function qH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ZH(e,t){return function(){this.setAttribute(e,t)}}function YH(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function GH(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function XH(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function QH(e,t){var r=s0(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?qH:KH:typeof t=="function"?r.local?XH:GH:r.local?YH:ZH)(r,t))}function yI(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function JH(e){return function(){this.style.removeProperty(e)}}function eW(e,t,r){return function(){this.style.setProperty(e,t,r)}}function tW(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function rW(e,t,r){return arguments.length>1?this.each((t==null?JH:typeof t=="function"?tW:eW)(e,t,r??"")):pc(this.node(),e)}function pc(e,t){return e.style.getPropertyValue(t)||yI(e).getComputedStyle(e,null).getPropertyValue(t)}function nW(e){return function(){delete this[e]}}function aW(e,t){return function(){this[e]=t}}function iW(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function sW(e,t){return arguments.length>1?this.each((t==null?nW:typeof t=="function"?iW:aW)(e,t)):this.node()[e]}function xI(e){return e.trim().split(/^|\s+/)}function x1(e){return e.classList||new vI(e)}function vI(e){this._node=e,this._names=xI(e.getAttribute("class")||"")}vI.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function bI(e,t){for(var r=x1(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function wI(e,t){for(var r=x1(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function oW(e){return function(){bI(this,e)}}function lW(e){return function(){wI(this,e)}}function cW(e,t){return function(){(t.apply(this,arguments)?bI:wI)(this,e)}}function uW(e,t){var r=xI(e+"");if(arguments.length<2){for(var n=x1(this.node()),a=-1,i=r.length;++a<i;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?cW:t?oW:lW)(r,t))}function dW(){this.textContent=""}function fW(e){return function(){this.textContent=e}}function hW(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function mW(e){return arguments.length?this.each(e==null?dW:(typeof e=="function"?hW:fW)(e)):this.node().textContent}function pW(){this.innerHTML=""}function gW(e){return function(){this.innerHTML=e}}function yW(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function xW(e){return arguments.length?this.each(e==null?pW:(typeof e=="function"?yW:gW)(e)):this.node().innerHTML}function vW(){this.nextSibling&&this.parentNode.appendChild(this)}function bW(){return this.each(vW)}function wW(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _W(){return this.each(wW)}function jW(e){var t=typeof e=="function"?e:fI(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function kW(){return null}function NW(e,t){var r=typeof e=="function"?e:fI(e),n=t==null?kW:typeof t=="function"?t:y1(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function SW(){var e=this.parentNode;e&&e.removeChild(this)}function PW(){return this.each(SW)}function CW(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function EW(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function OW(e){return this.select(e?EW:CW)}function AW(e){return arguments.length?this.property("__data__",e):this.node().__data__}function TW(e){return function(t){e.call(this,t,this.__data__)}}function MW(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function IW(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,i;r<a;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function LW(e,t,r){return function(){var n=this.__on,a,i=TW(t);if(n){for(var o=0,l=n.length;o<l;++o)if((a=n[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=r),a.value=t;return}}this.addEventListener(e.type,i,r),a={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(a):this.__on=[a]}}function DW(e,t,r){var n=MW(e+""),a,i=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,d=l.length,f;u<d;++u)for(a=0,f=l[u];a<i;++a)if((o=n[a]).type===f.type&&o.name===f.name)return f.value}return}for(l=t?LW:IW,a=0;a<i;++a)this.each(l(n[a],t,r));return this}function _I(e,t,r){var n=yI(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function RW(e,t){return function(){return _I(this,e,t)}}function zW(e,t){return function(){return _I(this,e,t.apply(this,arguments))}}function FW(e,t){return this.each((typeof t=="function"?zW:RW)(e,t))}function*$W(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length,o;a<i;++a)(o=n[a])&&(yield o)}var jI=[null];function vn(e,t){this._groups=e,this._parents=t}function yf(){return new vn([[document.documentElement]],jI)}function BW(){return this}vn.prototype=yf.prototype={constructor:vn,select:hH,selectAll:yH,selectChild:wH,selectChildren:NH,filter:SH,data:TH,enter:PH,exit:IH,join:LH,merge:DH,selection:BW,order:RH,sort:zH,call:$H,nodes:BH,node:UH,size:HH,empty:WH,each:VH,attr:QH,style:rW,property:sW,classed:uW,text:mW,html:xW,raise:bW,lower:_W,append:jW,insert:NW,remove:PW,clone:OW,datum:AW,on:DW,dispatch:FW,[Symbol.iterator]:$W};function fn(e){return typeof e=="string"?new vn([[document.querySelector(e)]],[document.documentElement]):new vn([[e]],jI)}function UW(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ra(e,t){if(e=UW(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const HW={passive:!1},Od={capture:!0,passive:!1};function Vx(e){e.stopImmediatePropagation()}function Vl(e){e.preventDefault(),e.stopImmediatePropagation()}function kI(e){var t=e.document.documentElement,r=fn(e).on("dragstart.drag",Vl,Od);"onselectstart"in t?r.on("selectstart.drag",Vl,Od):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function NI(e,t){var r=e.document.documentElement,n=fn(e).on("dragstart.drag",null);t&&(n.on("click.drag",Vl,Od),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Kh=e=>()=>e;function Wb(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:i,x:o,y:l,dx:u,dy:d,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:f}})}Wb.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function WW(e){return!e.ctrlKey&&!e.button}function VW(){return this.parentNode}function KW(e,t){return t??{x:e.x,y:e.y}}function qW(){return navigator.maxTouchPoints||"ontouchstart"in this}function SI(){var e=WW,t=VW,r=KW,n=qW,a={},i=i0("start","drag","end"),o=0,l,u,d,f,h=0;function p(N){N.on("mousedown.drag",g).filter(n).on("touchstart.drag",_).on("touchmove.drag",w,HW).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(N,P){if(!(f||!e.call(this,N,P))){var C=j(this,t.call(this,N,P),N,P,"mouse");C&&(fn(N.view).on("mousemove.drag",y,Od).on("mouseup.drag",b,Od),kI(N.view),Vx(N),d=!1,l=N.clientX,u=N.clientY,C("start",N))}}function y(N){if(Vl(N),!d){var P=N.clientX-l,C=N.clientY-u;d=P*P+C*C>h}a.mouse("drag",N)}function b(N){fn(N.view).on("mousemove.drag mouseup.drag",null),NI(N.view,d),Vl(N),a.mouse("end",N)}function _(N,P){if(e.call(this,N,P)){var C=N.changedTouches,A=t.call(this,N,P),O=C.length,T,$;for(T=0;T<O;++T)($=j(this,A,N,P,C[T].identifier,C[T]))&&(Vx(N),$("start",N,C[T]))}}function w(N){var P=N.changedTouches,C=P.length,A,O;for(A=0;A<C;++A)(O=a[P[A].identifier])&&(Vl(N),O("drag",N,P[A]))}function k(N){var P=N.changedTouches,C=P.length,A,O;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),A=0;A<C;++A)(O=a[P[A].identifier])&&(Vx(N),O("end",N,P[A]))}function j(N,P,C,A,O,T){var $=i.copy(),I=ra(T||C,P),z,U,F;if((F=r.call(N,new Wb("beforestart",{sourceEvent:C,target:p,identifier:O,active:o,x:I[0],y:I[1],dx:0,dy:0,dispatch:$}),A))!=null)return z=F.x-I[0]||0,U=F.y-I[1]||0,function q(H,W,M){var D=I,B;switch(H){case"start":a[O]=q,B=o++;break;case"end":delete a[O],--o;case"drag":I=ra(M||W,P),B=o;break}$.call(H,N,new Wb(H,{sourceEvent:W,subject:F,target:p,identifier:O,active:B,x:I[0]+z,y:I[1]+U,dx:I[0]-D[0],dy:I[1]-D[1],dispatch:$}),A)}}return p.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Kh(!!N),p):e},p.container=function(N){return arguments.length?(t=typeof N=="function"?N:Kh(N),p):t},p.subject=function(N){return arguments.length?(r=typeof N=="function"?N:Kh(N),p):r},p.touchable=function(N){return arguments.length?(n=typeof N=="function"?N:Kh(!!N),p):n},p.on=function(){var N=i.on.apply(i,arguments);return N===i?p:N},p.clickDistance=function(N){return arguments.length?(h=(N=+N)*N,p):Math.sqrt(h)},p}function v1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function PI(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function xf(){}var Ad=.7,Np=1/Ad,Kl="\\s*([+-]?\\d+)\\s*",Td="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZW=/^#([0-9a-f]{3,8})$/,YW=new RegExp(`^rgb\\(${Kl},${Kl},${Kl}\\)$`),GW=new RegExp(`^rgb\\(${Da},${Da},${Da}\\)$`),XW=new RegExp(`^rgba\\(${Kl},${Kl},${Kl},${Td}\\)$`),QW=new RegExp(`^rgba\\(${Da},${Da},${Da},${Td}\\)$`),JW=new RegExp(`^hsl\\(${Td},${Da},${Da}\\)$`),eV=new RegExp(`^hsla\\(${Td},${Da},${Da},${Td}\\)$`),SS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};v1(xf,Ho,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PS,formatHex:PS,formatHex8:tV,formatHsl:rV,formatRgb:CS,toString:CS});function PS(){return this.rgb().formatHex()}function tV(){return this.rgb().formatHex8()}function rV(){return CI(this).formatHsl()}function CS(){return this.rgb().formatRgb()}function Ho(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ZW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ES(t):r===3?new Qr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=YW.exec(e))?new Qr(t[1],t[2],t[3],1):(t=GW.exec(e))?new Qr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=XW.exec(e))?qh(t[1],t[2],t[3],t[4]):(t=QW.exec(e))?qh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JW.exec(e))?TS(t[1],t[2]/100,t[3]/100,1):(t=eV.exec(e))?TS(t[1],t[2]/100,t[3]/100,t[4]):SS.hasOwnProperty(e)?ES(SS[e]):e==="transparent"?new Qr(NaN,NaN,NaN,0):null}function ES(e){return new Qr(e>>16&255,e>>8&255,e&255,1)}function qh(e,t,r,n){return n<=0&&(e=t=r=NaN),new Qr(e,t,r,n)}function nV(e){return e instanceof xf||(e=Ho(e)),e?(e=e.rgb(),new Qr(e.r,e.g,e.b,e.opacity)):new Qr}function Vb(e,t,r,n){return arguments.length===1?nV(e):new Qr(e,t,r,n??1)}function Qr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}v1(Qr,Vb,PI(xf,{brighter(e){return e=e==null?Np:Math.pow(Np,e),new Qr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ad:Math.pow(Ad,e),new Qr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qr(Ao(this.r),Ao(this.g),Ao(this.b),Sp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OS,formatHex:OS,formatHex8:aV,formatRgb:AS,toString:AS}));function OS(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}`}function aV(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}${mo((isNaN(this.opacity)?1:this.opacity)*255)}`}function AS(){const e=Sp(this.opacity);return`${e===1?"rgb(":"rgba("}${Ao(this.r)}, ${Ao(this.g)}, ${Ao(this.b)}${e===1?")":`, ${e})`}`}function Sp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ao(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mo(e){return e=Ao(e),(e<16?"0":"")+e.toString(16)}function TS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ia(e,t,r,n)}function CI(e){if(e instanceof ia)return new ia(e.h,e.s,e.l,e.opacity);if(e instanceof xf||(e=Ho(e)),!e)return new ia;if(e instanceof ia)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,u=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?i+a:2-i-a,o*=60):l=u>0&&u<1?0:o,new ia(o,l,u,e.opacity)}function iV(e,t,r,n){return arguments.length===1?CI(e):new ia(e,t,r,n??1)}function ia(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}v1(ia,iV,PI(xf,{brighter(e){return e=e==null?Np:Math.pow(Np,e),new ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ad:Math.pow(Ad,e),new ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Qr(Kx(e>=240?e-240:e+120,a,n),Kx(e,a,n),Kx(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ia(MS(this.h),Zh(this.s),Zh(this.l),Sp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sp(this.opacity);return`${e===1?"hsl(":"hsla("}${MS(this.h)}, ${Zh(this.s)*100}%, ${Zh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function MS(e){return e=(e||0)%360,e<0?e+360:e}function Zh(e){return Math.max(0,Math.min(1,e||0))}function Kx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const b1=e=>()=>e;function sV(e,t){return function(r){return e+r*t}}function oV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function lV(e){return(e=+e)==1?EI:function(t,r){return r-t?oV(t,r,e):b1(isNaN(t)?r:t)}}function EI(e,t){var r=t-e;return r?sV(e,r):b1(isNaN(e)?t:e)}const Pp=function e(t){var r=lV(t);function n(a,i){var o=r((a=Vb(a)).r,(i=Vb(i)).r),l=r(a.g,i.g),u=r(a.b,i.b),d=EI(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=u(f),a.opacity=d(f),a+""}}return n.gamma=e,n}(1);function cV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function uV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=vi(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function fV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function aa(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function hV(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=vi(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Kb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qx=new RegExp(Kb.source,"g");function mV(e){return function(){return e}}function pV(e){return function(t){return e(t)+""}}function OI(e,t){var r=Kb.lastIndex=qx.lastIndex=0,n,a,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=Kb.exec(e))&&(a=qx.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:aa(n,a)})),r=qx.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?pV(u[0].x):mV(t):(t=u.length,function(d){for(var f=0,h;f<t;++f)l[(h=u[f]).i]=h.x(d);return l.join("")})}function vi(e,t){var r=typeof t,n;return t==null||r==="boolean"?b1(t):(r==="number"?aa:r==="string"?(n=Ho(t))?(t=n,Pp):OI:t instanceof Ho?Pp:t instanceof Date?fV:uV(t)?cV:Array.isArray(t)?dV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hV:aa)(e,t)}function w1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var IS=180/Math.PI,qb={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function AI(e,t,r,n,a,i){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,u/=l),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*IS,skewX:Math.atan(u)*IS,scaleX:o,scaleY:l}}var Yh;function gV(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?qb:AI(t.a,t.b,t.c,t.d,t.e,t.f)}function yV(e){return e==null||(Yh||(Yh=document.createElementNS("http://www.w3.org/2000/svg","g")),Yh.setAttribute("transform",e),!(e=Yh.transform.baseVal.consolidate()))?qb:(e=e.matrix,AI(e.a,e.b,e.c,e.d,e.e,e.f))}function TI(e,t,r,n){function a(d){return d.length?d.pop()+" ":""}function i(d,f,h,p,g,y){if(d!==h||f!==p){var b=g.push("translate(",null,t,null,r);y.push({i:b-4,x:aa(d,h)},{i:b-2,x:aa(f,p)})}else(h||p)&&g.push("translate("+h+t+p+r)}function o(d,f,h,p){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),p.push({i:h.push(a(h)+"rotate(",null,n)-2,x:aa(d,f)})):f&&h.push(a(h)+"rotate("+f+n)}function l(d,f,h,p){d!==f?p.push({i:h.push(a(h)+"skewX(",null,n)-2,x:aa(d,f)}):f&&h.push(a(h)+"skewX("+f+n)}function u(d,f,h,p,g,y){if(d!==h||f!==p){var b=g.push(a(g)+"scale(",null,",",null,")");y.push({i:b-4,x:aa(d,h)},{i:b-2,x:aa(f,p)})}else(h!==1||p!==1)&&g.push(a(g)+"scale("+h+","+p+")")}return function(d,f){var h=[],p=[];return d=e(d),f=e(f),i(d.translateX,d.translateY,f.translateX,f.translateY,h,p),o(d.rotate,f.rotate,h,p),l(d.skewX,f.skewX,h,p),u(d.scaleX,d.scaleY,f.scaleX,f.scaleY,h,p),d=f=null,function(g){for(var y=-1,b=p.length,_;++y<b;)h[(_=p[y]).i]=_.x(g);return h.join("")}}}var xV=TI(gV,"px, ","px)","deg)"),vV=TI(yV,", ",")",")"),bV=1e-12;function LS(e){return((e=Math.exp(e))+1/e)/2}function wV(e){return((e=Math.exp(e))-1/e)/2}function _V(e){return((e=Math.exp(2*e))-1)/(e+1)}const zm=function e(t,r,n){function a(i,o){var l=i[0],u=i[1],d=i[2],f=o[0],h=o[1],p=o[2],g=f-l,y=h-u,b=g*g+y*y,_,w;if(b<bV)w=Math.log(p/d)/t,_=function(A){return[l+A*g,u+A*y,d*Math.exp(t*A*w)]};else{var k=Math.sqrt(b),j=(p*p-d*d+n*b)/(2*d*r*k),N=(p*p-d*d-n*b)/(2*p*r*k),P=Math.log(Math.sqrt(j*j+1)-j),C=Math.log(Math.sqrt(N*N+1)-N);w=(C-P)/t,_=function(A){var O=A*w,T=LS(P),$=d/(r*k)*(T*_V(t*O+P)-wV(P));return[l+$*g,u+$*y,d*T/LS(t*O+P)]}}return _.duration=w*1e3*t/Math.SQRT2,_}return a.rho=function(i){var o=Math.max(.001,+i),l=o*o,u=l*l;return e(o,l,u)},a}(Math.SQRT2,2,4);function jV(e,t){t===void 0&&(t=e,e=vi);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}var gc=0,Ku=0,Au=0,MI=1e3,Cp,qu,Ep=0,Wo=0,o0=0,Md=typeof performance=="object"&&performance.now?performance:Date,II=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _1(){return Wo||(II(kV),Wo=Md.now()+o0)}function kV(){Wo=0}function Op(){this._call=this._time=this._next=null}Op.prototype=LI.prototype={constructor:Op,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?_1():+r)+(t==null?0:+t),!this._next&&qu!==this&&(qu?qu._next=this:Cp=this,qu=this),this._call=e,this._time=r,Zb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zb())}};function LI(e,t,r){var n=new Op;return n.restart(e,t,r),n}function NV(){_1(),++gc;for(var e=Cp,t;e;)(t=Wo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--gc}function DS(){Wo=(Ep=Md.now())+o0,gc=Ku=0;try{NV()}finally{gc=0,PV(),Wo=0}}function SV(){var e=Md.now(),t=e-Ep;t>MI&&(o0-=t,Ep=e)}function PV(){for(var e,t=Cp,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Cp=r);qu=e,Zb(n)}function Zb(e){if(!gc){Ku&&(Ku=clearTimeout(Ku));var t=e-Wo;t>24?(e<1/0&&(Ku=setTimeout(DS,e-Md.now()-o0)),Au&&(Au=clearInterval(Au))):(Au||(Ep=Md.now(),Au=setInterval(SV,MI)),gc=1,II(DS))}}function RS(e,t,r){var n=new Op;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var CV=i0("start","end","cancel","interrupt"),EV=[],DI=0,zS=1,Yb=2,Fm=3,FS=4,Gb=5,$m=6;function l0(e,t,r,n,a,i){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;OV(e,r,{name:t,index:n,group:a,on:CV,tween:EV,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:DI})}function j1(e,t){var r=ba(e,t);if(r.state>DI)throw new Error("too late; already scheduled");return r}function Ka(e,t){var r=ba(e,t);if(r.state>Fm)throw new Error("too late; already running");return r}function ba(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function OV(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=LI(i,0,r.time);function i(d){r.state=zS,r.timer.restart(o,r.delay,r.time),r.delay<=d&&o(d-r.delay)}function o(d){var f,h,p,g;if(r.state!==zS)return u();for(f in n)if(g=n[f],g.name===r.name){if(g.state===Fm)return RS(o);g.state===FS?(g.state=$m,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete n[f]):+f<t&&(g.state=$m,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete n[f])}if(RS(function(){r.state===Fm&&(r.state=FS,r.timer.restart(l,r.delay,r.time),l(d))}),r.state=Yb,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Yb){for(r.state=Fm,a=new Array(p=r.tween.length),f=0,h=-1;f<p;++f)(g=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(a[++h]=g);a.length=h+1}}function l(d){for(var f=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(u),r.state=Gb,1),h=-1,p=a.length;++h<p;)a[h].call(e,f);r.state===Gb&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=$m,r.timer.stop(),delete n[t];for(var d in n)return;delete e.__transition}}function Bm(e,t){var r=e.__transition,n,a,i=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){i=!1;continue}a=n.state>Yb&&n.state<Gb,n.state=$m,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}i&&delete e.__transition}}function AV(e){return this.each(function(){Bm(this,e)})}function TV(e,t){var r,n;return function(){var a=Ka(this,e),i=a.tween;if(i!==r){n=r=i;for(var o=0,l=n.length;o<l;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}a.tween=n}}function MV(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var i=Ka(this,e),o=i.tween;if(o!==n){a=(n=o).slice();for(var l={name:t,value:r},u=0,d=a.length;u<d;++u)if(a[u].name===t){a[u]=l;break}u===d&&a.push(l)}i.tween=a}}function IV(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ba(this.node(),r).tween,a=0,i=n.length,o;a<i;++a)if((o=n[a]).name===e)return o.value;return null}return this.each((t==null?TV:MV)(r,e,t))}function k1(e,t,r){var n=e._id;return e.each(function(){var a=Ka(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return ba(a,n).value[t]}}function RI(e,t){var r;return(typeof t=="number"?aa:t instanceof Ho?Pp:(r=Ho(t))?(t=r,Pp):OI)(e,t)}function LV(e){return function(){this.removeAttribute(e)}}function DV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function RV(e,t,r){var n,a=r+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===n?i:i=t(n=o,r)}}function zV(e,t,r){var n,a=r+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?i:i=t(n=o,r)}}function FV(e,t,r){var n,a,i;return function(){var o,l=r(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,l)))}}function $V(e,t,r){var n,a,i;return function(){var o,l=r(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,l)))}}function BV(e,t){var r=s0(e),n=r==="transform"?vV:RI;return this.attrTween(e,typeof t=="function"?(r.local?$V:FV)(r,n,k1(this,"attr."+e,t)):t==null?(r.local?DV:LV)(r):(r.local?zV:RV)(r,n,t))}function UV(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function HV(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function WV(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&HV(e,i)),r}return a._value=t,a}function VV(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&UV(e,i)),r}return a._value=t,a}function KV(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=s0(e);return this.tween(r,(n.local?WV:VV)(n,t))}function qV(e,t){return function(){j1(this,e).delay=+t.apply(this,arguments)}}function ZV(e,t){return t=+t,function(){j1(this,e).delay=t}}function YV(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?qV:ZV)(t,e)):ba(this.node(),t).delay}function GV(e,t){return function(){Ka(this,e).duration=+t.apply(this,arguments)}}function XV(e,t){return t=+t,function(){Ka(this,e).duration=t}}function QV(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?GV:XV)(t,e)):ba(this.node(),t).duration}function JV(e,t){if(typeof t!="function")throw new Error;return function(){Ka(this,e).ease=t}}function eK(e){var t=this._id;return arguments.length?this.each(JV(t,e)):ba(this.node(),t).ease}function tK(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Ka(this,e).ease=r}}function rK(e){if(typeof e!="function")throw new Error;return this.each(tK(this._id,e))}function nK(e){typeof e!="function"&&(e=mI(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,l=n[a]=[],u,d=0;d<o;++d)(u=i[d])&&e.call(u,u.__data__,d,i)&&l.push(u);return new Pi(n,this._parents,this._name,this._id)}function aK(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,i=Math.min(n,a),o=new Array(n),l=0;l<i;++l)for(var u=t[l],d=r[l],f=u.length,h=o[l]=new Array(f),p,g=0;g<f;++g)(p=u[g]||d[g])&&(h[g]=p);for(;l<n;++l)o[l]=t[l];return new Pi(o,this._parents,this._name,this._id)}function iK(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function sK(e,t,r){var n,a,i=iK(t)?j1:Ka;return function(){var o=i(this,e),l=o.on;l!==n&&(a=(n=l).copy()).on(t,r),o.on=a}}function oK(e,t){var r=this._id;return arguments.length<2?ba(this.node(),r).on.on(e):this.each(sK(r,e,t))}function lK(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function cK(){return this.on("end.remove",lK(this._id))}function uK(e){var t=this._name,r=this._id;typeof e!="function"&&(e=y1(e));for(var n=this._groups,a=n.length,i=new Array(a),o=0;o<a;++o)for(var l=n[o],u=l.length,d=i[o]=new Array(u),f,h,p=0;p<u;++p)(f=l[p])&&(h=e.call(f,f.__data__,p,l))&&("__data__"in f&&(h.__data__=f.__data__),d[p]=h,l0(d[p],t,r,p,d,ba(f,r)));return new Pi(i,this._parents,t,r)}function dK(e){var t=this._name,r=this._id;typeof e!="function"&&(e=hI(e));for(var n=this._groups,a=n.length,i=[],o=[],l=0;l<a;++l)for(var u=n[l],d=u.length,f,h=0;h<d;++h)if(f=u[h]){for(var p=e.call(f,f.__data__,h,u),g,y=ba(f,r),b=0,_=p.length;b<_;++b)(g=p[b])&&l0(g,t,r,b,p,y);i.push(p),o.push(f)}return new Pi(i,o,t,r)}var fK=yf.prototype.constructor;function hK(){return new fK(this._groups,this._parents)}function mK(e,t){var r,n,a;return function(){var i=pc(this,e),o=(this.style.removeProperty(e),pc(this,e));return i===o?null:i===r&&o===n?a:a=t(r=i,n=o)}}function zI(e){return function(){this.style.removeProperty(e)}}function pK(e,t,r){var n,a=r+"",i;return function(){var o=pc(this,e);return o===a?null:o===n?i:i=t(n=o,r)}}function gK(e,t,r){var n,a,i;return function(){var o=pc(this,e),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),pc(this,e))),o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,l))}}function yK(e,t){var r,n,a,i="style."+t,o="end."+i,l;return function(){var u=Ka(this,e),d=u.on,f=u.value[i]==null?l||(l=zI(t)):void 0;(d!==r||a!==f)&&(n=(r=d).copy()).on(o,a=f),u.on=n}}function xK(e,t,r){var n=(e+="")=="transform"?xV:RI;return t==null?this.styleTween(e,mK(e,n)).on("end.style."+e,zI(e)):typeof t=="function"?this.styleTween(e,gK(e,n,k1(this,"style."+e,t))).each(yK(this._id,e)):this.styleTween(e,pK(e,n,t),r).on("end.style."+e,null)}function vK(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function bK(e,t,r){var n,a;function i(){var o=t.apply(this,arguments);return o!==a&&(n=(a=o)&&vK(e,o,r)),n}return i._value=t,i}function wK(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,bK(e,t,r??""))}function _K(e){return function(){this.textContent=e}}function jK(e){return function(){var t=e(this);this.textContent=t??""}}function kK(e){return this.tween("text",typeof e=="function"?jK(k1(this,"text",e)):_K(e==null?"":e+""))}function NK(e){return function(t){this.textContent=e.call(this,t)}}function SK(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&NK(a)),t}return n._value=e,n}function PK(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,SK(e))}function CK(){for(var e=this._name,t=this._id,r=FI(),n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],l=o.length,u,d=0;d<l;++d)if(u=o[d]){var f=ba(u,t);l0(u,e,r,d,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Pi(n,this._parents,e,r)}function EK(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(i,o){var l={value:o},u={value:function(){--a===0&&i()}};r.each(function(){var d=Ka(this,n),f=d.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),d.on=t}),a===0&&i()})}var OK=0;function Pi(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function FI(){return++OK}var ri=yf.prototype;Pi.prototype={constructor:Pi,select:uK,selectAll:dK,selectChild:ri.selectChild,selectChildren:ri.selectChildren,filter:nK,merge:aK,selection:hK,transition:CK,call:ri.call,nodes:ri.nodes,node:ri.node,size:ri.size,empty:ri.empty,each:ri.each,on:oK,attr:BV,attrTween:KV,style:xK,styleTween:wK,text:kK,textTween:PK,remove:cK,tween:IV,delay:YV,duration:QV,ease:eK,easeVarying:rK,end:EK,[Symbol.iterator]:ri[Symbol.iterator]};function AK(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var TK={time:null,delay:0,duration:250,ease:AK};function MK(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function IK(e){var t,r;e instanceof Pi?(t=e._id,e=e._name):(t=FI(),(r=TK).time=_1(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],l=o.length,u,d=0;d<l;++d)(u=o[d])&&l0(u,e,t,d,o,r||MK(u,t));return new Pi(n,this._parents,e,t)}yf.prototype.interrupt=AV;yf.prototype.transition=IK;const Gh=e=>()=>e;function LK(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function mi(e,t,r){this.k=e,this.x=t,this.y=r}mi.prototype={constructor:mi,scale:function(e){return e===1?this:new mi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new mi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var c0=new mi(1,0,0);$I.prototype=mi.prototype;function $I(e){for(;!e.__zoom;)if(!(e=e.parentNode))return c0;return e.__zoom}function Zx(e){e.stopImmediatePropagation()}function Tu(e){e.preventDefault(),e.stopImmediatePropagation()}function DK(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function RK(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function $S(){return this.__zoom||c0}function zK(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function FK(){return navigator.maxTouchPoints||"ontouchstart"in this}function $K(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function BI(){var e=DK,t=RK,r=$K,n=zK,a=FK,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=zm,d=i0("start","zoom","end"),f,h,p,g=500,y=150,b=0,_=10;function w(F){F.property("__zoom",$S).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",$).filter(a).on("touchstart.zoom",I).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(F,q,H,W){var M=F.selection?F.selection():F;M.property("__zoom",$S),F!==M?P(F,q,H,W):M.interrupt().each(function(){C(this,arguments).event(W).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},w.scaleBy=function(F,q,H,W){w.scaleTo(F,function(){var M=this.__zoom.k,D=typeof q=="function"?q.apply(this,arguments):q;return M*D},H,W)},w.scaleTo=function(F,q,H,W){w.transform(F,function(){var M=t.apply(this,arguments),D=this.__zoom,B=H==null?N(M):typeof H=="function"?H.apply(this,arguments):H,V=D.invert(B),G=typeof q=="function"?q.apply(this,arguments):q;return r(j(k(D,G),B,V),M,o)},H,W)},w.translateBy=function(F,q,H,W){w.transform(F,function(){return r(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof H=="function"?H.apply(this,arguments):H),t.apply(this,arguments),o)},null,W)},w.translateTo=function(F,q,H,W,M){w.transform(F,function(){var D=t.apply(this,arguments),B=this.__zoom,V=W==null?N(D):typeof W=="function"?W.apply(this,arguments):W;return r(c0.translate(V[0],V[1]).scale(B.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof H=="function"?-H.apply(this,arguments):-H),D,o)},W,M)};function k(F,q){return q=Math.max(i[0],Math.min(i[1],q)),q===F.k?F:new mi(q,F.x,F.y)}function j(F,q,H){var W=q[0]-H[0]*F.k,M=q[1]-H[1]*F.k;return W===F.x&&M===F.y?F:new mi(F.k,W,M)}function N(F){return[(+F[0][0]+ +F[1][0])/2,(+F[0][1]+ +F[1][1])/2]}function P(F,q,H,W){F.on("start.zoom",function(){C(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(W).end()}).tween("zoom",function(){var M=this,D=arguments,B=C(M,D).event(W),V=t.apply(M,D),G=H==null?N(V):typeof H=="function"?H.apply(M,D):H,Z=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),Q=M.__zoom,ie=typeof q=="function"?q.apply(M,D):q,se=u(Q.invert(G).concat(Z/Q.k),ie.invert(G).concat(Z/ie.k));return function(oe){if(oe===1)oe=ie;else{var le=se(oe),X=Z/le[2];oe=new mi(X,G[0]-le[0]*X,G[1]-le[1]*X)}B.zoom(null,oe)}})}function C(F,q,H){return!H&&F.__zooming||new A(F,q)}function A(F,q){this.that=F,this.args=q,this.active=0,this.sourceEvent=null,this.extent=t.apply(F,q),this.taps=0}A.prototype={event:function(F){return F&&(this.sourceEvent=F),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(F,q){return this.mouse&&F!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&F!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&F!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(F){var q=fn(this.that).datum();d.call(F,this.that,new LK(F,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:d}),q)}};function O(F,...q){if(!e.apply(this,arguments))return;var H=C(this,q).event(F),W=this.__zoom,M=Math.max(i[0],Math.min(i[1],W.k*Math.pow(2,n.apply(this,arguments)))),D=ra(F);if(H.wheel)(H.mouse[0][0]!==D[0]||H.mouse[0][1]!==D[1])&&(H.mouse[1]=W.invert(H.mouse[0]=D)),clearTimeout(H.wheel);else{if(W.k===M)return;H.mouse=[D,W.invert(D)],Bm(this),H.start()}Tu(F),H.wheel=setTimeout(B,y),H.zoom("mouse",r(j(k(W,M),H.mouse[0],H.mouse[1]),H.extent,o));function B(){H.wheel=null,H.end()}}function T(F,...q){if(p||!e.apply(this,arguments))return;var H=F.currentTarget,W=C(this,q,!0).event(F),M=fn(F.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",Z,!0),D=ra(F,H),B=F.clientX,V=F.clientY;kI(F.view),Zx(F),W.mouse=[D,this.__zoom.invert(D)],Bm(this),W.start();function G(Q){if(Tu(Q),!W.moved){var ie=Q.clientX-B,se=Q.clientY-V;W.moved=ie*ie+se*se>b}W.event(Q).zoom("mouse",r(j(W.that.__zoom,W.mouse[0]=ra(Q,H),W.mouse[1]),W.extent,o))}function Z(Q){M.on("mousemove.zoom mouseup.zoom",null),NI(Q.view,W.moved),Tu(Q),W.event(Q).end()}}function $(F,...q){if(e.apply(this,arguments)){var H=this.__zoom,W=ra(F.changedTouches?F.changedTouches[0]:F,this),M=H.invert(W),D=H.k*(F.shiftKey?.5:2),B=r(j(k(H,D),W,M),t.apply(this,q),o);Tu(F),l>0?fn(this).transition().duration(l).call(P,B,W,F):fn(this).call(w.transform,B,W,F)}}function I(F,...q){if(e.apply(this,arguments)){var H=F.touches,W=H.length,M=C(this,q,F.changedTouches.length===W).event(F),D,B,V,G;for(Zx(F),B=0;B<W;++B)V=H[B],G=ra(V,this),G=[G,this.__zoom.invert(G),V.identifier],M.touch0?!M.touch1&&M.touch0[2]!==G[2]&&(M.touch1=G,M.taps=0):(M.touch0=G,D=!0,M.taps=1+!!f);f&&(f=clearTimeout(f)),D&&(M.taps<2&&(h=G[0],f=setTimeout(function(){f=null},g)),Bm(this),M.start())}}function z(F,...q){if(this.__zooming){var H=C(this,q).event(F),W=F.changedTouches,M=W.length,D,B,V,G;for(Tu(F),D=0;D<M;++D)B=W[D],V=ra(B,this),H.touch0&&H.touch0[2]===B.identifier?H.touch0[0]=V:H.touch1&&H.touch1[2]===B.identifier&&(H.touch1[0]=V);if(B=H.that.__zoom,H.touch1){var Z=H.touch0[0],Q=H.touch0[1],ie=H.touch1[0],se=H.touch1[1],oe=(oe=ie[0]-Z[0])*oe+(oe=ie[1]-Z[1])*oe,le=(le=se[0]-Q[0])*le+(le=se[1]-Q[1])*le;B=k(B,Math.sqrt(oe/le)),V=[(Z[0]+ie[0])/2,(Z[1]+ie[1])/2],G=[(Q[0]+se[0])/2,(Q[1]+se[1])/2]}else if(H.touch0)V=H.touch0[0],G=H.touch0[1];else return;H.zoom("touch",r(j(B,V,G),H.extent,o))}}function U(F,...q){if(this.__zooming){var H=C(this,q).event(F),W=F.changedTouches,M=W.length,D,B;for(Zx(F),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),D=0;D<M;++D)B=W[D],H.touch0&&H.touch0[2]===B.identifier?delete H.touch0:H.touch1&&H.touch1[2]===B.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(B=ra(B,this),Math.hypot(h[0]-B[0],h[1]-B[1])<_)){var V=fn(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return w.wheelDelta=function(F){return arguments.length?(n=typeof F=="function"?F:Gh(+F),w):n},w.filter=function(F){return arguments.length?(e=typeof F=="function"?F:Gh(!!F),w):e},w.touchable=function(F){return arguments.length?(a=typeof F=="function"?F:Gh(!!F),w):a},w.extent=function(F){return arguments.length?(t=typeof F=="function"?F:Gh([[+F[0][0],+F[0][1]],[+F[1][0],+F[1][1]]]),w):t},w.scaleExtent=function(F){return arguments.length?(i[0]=+F[0],i[1]=+F[1],w):[i[0],i[1]]},w.translateExtent=function(F){return arguments.length?(o[0][0]=+F[0][0],o[1][0]=+F[1][0],o[0][1]=+F[0][1],o[1][1]=+F[1][1],w):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},w.constrain=function(F){return arguments.length?(r=F,w):r},w.duration=function(F){return arguments.length?(l=+F,w):l},w.interpolate=function(F){return arguments.length?(u=F,w):u},w.on=function(){var F=d.on.apply(d,arguments);return F===d?w:F},w.clickDistance=function(F){return arguments.length?(b=(F=+F)*F,w):Math.sqrt(b)},w.tapDistance=function(F){return arguments.length?(_=+F,w):_},w}const Fa={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:n}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Id=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],UI=["Enter"," ","Escape"],HI={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var yc;(function(e){e.Strict="strict",e.Loose="loose"})(yc||(yc={}));var To;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(To||(To={}));var Ld;(function(e){e.Partial="partial",e.Full="full"})(Ld||(Ld={}));const WI={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var as;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(as||(as={}));var Ap;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ap||(Ap={}));var Se;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Se||(Se={}));const BS={[Se.Left]:Se.Right,[Se.Right]:Se.Left,[Se.Top]:Se.Bottom,[Se.Bottom]:Se.Top};function VI(e){return e===null?null:e?"valid":"invalid"}const KI=e=>"id"in e&&"source"in e&&"target"in e,BK=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),N1=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),rl=(e,t,r)=>{if(!e.id)return[];const n=new Set;return r.forEach(a=>{a.target===e.id&&n.add(a.source)}),t.filter(a=>n.has(a.id))},vf=(e,t=[0,0])=>{const{width:r,height:n}=Ri(e),a=e.origin??t,i=r*a[0],o=n*a[1];return{x:e.position.x-i,y:e.position.y-o}},UK=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const i=typeof a=="string";let o=!t.nodeLookup&&!i?a:void 0;t.nodeLookup&&(o=i?t.nodeLookup.get(a):N1(a)?a:t.nodeLookup.get(a.id));const l=o?Tp(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return u0(n,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return d0(r)},bf=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},n=!1;return e.forEach(a=>{(t.filter===void 0||t.filter(a))&&(r=u0(r,Tp(a)),n=!0)}),n?d0(r):{x:0,y:0,width:0,height:0}},S1=(e,t,[r,n,a]=[0,0,1],i=!1,o=!1)=>{const l={..._f(t,[r,n,a]),width:t.width/a,height:t.height/a},u=[];for(const d of e.values()){const{measured:f,selectable:h=!0,hidden:p=!1}=d;if(o&&!h||p)continue;const g=f.width??d.width??d.initialWidth??null,y=f.height??d.height??d.initialHeight??null,b=Dd(l,vc(d)),_=(g??0)*(y??0),w=i&&b>0;(!d.internals.handleBounds||w||b>=_||d.dragging)&&u.push(d)}return u},HK=(e,t)=>{const r=new Set;return e.forEach(n=>{r.add(n.id)}),t.filter(n=>r.has(n.source)||r.has(n.target))};function WK(e,t){const r=new Map,n=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!n||n.has(a.id))&&r.set(a.id,a)}),r}async function VK({nodes:e,width:t,height:r,panZoom:n,minZoom:a,maxZoom:i},o){if(e.size===0)return Promise.resolve(!0);const l=WK(e,o),u=bf(l),d=P1(u,t,r,(o==null?void 0:o.minZoom)??a,(o==null?void 0:o.maxZoom)??i,(o==null?void 0:o.padding)??.1);return await n.setViewport(d,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function qI({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:a,onError:i}){const o=r.get(e),l=o.parentId?r.get(o.parentId):void 0,{x:u,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},f=o.origin??n;let h=o.extent||a;if(o.extent==="parent"&&!o.expandParent)if(!l)i==null||i("005",Fa.error005());else{const g=l.measured.width,y=l.measured.height;g&&y&&(h=[[u,d],[u+g,d+y]])}else l&&bc(o.extent)&&(h=[[o.extent[0][0]+u,o.extent[0][1]+d],[o.extent[1][0]+u,o.extent[1][1]+d]]);const p=bc(h)?Vo(t,h,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(i==null||i("015",Fa.error015())),{position:{x:p.x-u+(o.measured.width??0)*f[0],y:p.y-d+(o.measured.height??0)*f[1]},positionAbsolute:p}}async function KK({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:n,onBeforeDelete:a}){const i=new Set(e.map(p=>p.id)),o=[];for(const p of r){if(p.deletable===!1)continue;const g=i.has(p.id),y=!g&&p.parentId&&o.find(b=>b.id===p.parentId);(g||y)&&o.push(p)}const l=new Set(t.map(p=>p.id)),u=n.filter(p=>p.deletable!==!1),f=HK(o,u);for(const p of u)l.has(p.id)&&!f.find(y=>y.id===p.id)&&f.push(p);if(!a)return{edges:f,nodes:o};const h=await a({nodes:o,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:o}:{edges:[],nodes:[]}:h}const xc=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Vo=(e={x:0,y:0},t,r)=>({x:xc(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:xc(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function ZI(e,t,r){const{width:n,height:a}=Ri(r),{x:i,y:o}=r.internals.positionAbsolute;return Vo(e,[[i,o],[i+n,o+a]],t)}const US=(e,t,r)=>e<t?xc(Math.abs(e-t),1,t)/t:e>r?-xc(Math.abs(e-r),1,t)/t:0,YI=(e,t,r=15,n=40)=>{const a=US(e.x,n,t.width-n)*r,i=US(e.y,n,t.height-n)*r;return[a,i]},u0=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Xb=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),d0=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),vc=(e,t=[0,0])=>{var a,i;const{x:r,y:n}=N1(e)?e.internals.positionAbsolute:vf(e,t);return{x:r,y:n,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Tp=(e,t=[0,0])=>{var a,i;const{x:r,y:n}=N1(e)?e.internals.positionAbsolute:vf(e,t);return{x:r,y:n,x2:r+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:n+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},GI=(e,t)=>d0(u0(Xb(e),Xb(t))),Dd=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},HS=e=>ca(e.width)&&ca(e.height)&&ca(e.x)&&ca(e.y),ca=e=>!isNaN(e)&&isFinite(e),qK=(e,t)=>{},wf=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),_f=({x:e,y:t},[r,n,a],i=!1,o=[1,1])=>{const l={x:(e-r)/a,y:(t-n)/a};return i?wf(l,o):l},Mp=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n});function xl(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function ZK(e,t,r){if(typeof e=="string"||typeof e=="number"){const n=xl(e,r),a=xl(e,t);return{top:n,right:a,bottom:n,left:a,x:a*2,y:n*2}}if(typeof e=="object"){const n=xl(e.top??e.y??0,r),a=xl(e.bottom??e.y??0,r),i=xl(e.left??e.x??0,t),o=xl(e.right??e.x??0,t);return{top:n,right:o,bottom:a,left:i,x:i+o,y:n+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function YK(e,t,r,n,a,i){const{x:o,y:l}=Mp(e,[t,r,n]),{x:u,y:d}=Mp({x:e.x+e.width,y:e.y+e.height},[t,r,n]),f=a-u,h=i-d;return{left:Math.floor(o),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(h)}}const P1=(e,t,r,n,a,i)=>{const o=ZK(i,t,r),l=(t-o.x)/e.width,u=(r-o.y)/e.height,d=Math.min(l,u),f=xc(d,n,a),h=e.x+e.width/2,p=e.y+e.height/2,g=t/2-h*f,y=r/2-p*f,b=YK(e,g,y,f,t,r),_={left:Math.min(b.left-o.left,0),top:Math.min(b.top-o.top,0),right:Math.min(b.right-o.right,0),bottom:Math.min(b.bottom-o.bottom,0)};return{x:g-_.left+_.right,y:y-_.top+_.bottom,zoom:f}},Rd=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function bc(e){return e!=null&&e!=="parent"}function Ri(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function XI(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function QI(e,t={width:0,height:0},r,n,a){const i={...e},o=n.get(r);if(o){const l=o.origin||a;i.x+=o.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=o.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function WS(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function GK(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}function XK(e){return{...HI,...e||{}}}function id(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:n,containerBounds:a}){const{x:i,y:o}=ua(e),l=_f({x:i-((a==null?void 0:a.left)??0),y:o-((a==null?void 0:a.top)??0)},n),{x:u,y:d}=r?wf(l,t):l;return{xSnapped:u,ySnapped:d,...l}}const C1=e=>({width:e.offsetWidth,height:e.offsetHeight}),JI=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},QK=["INPUT","SELECT","TEXTAREA"];function eL(e){var n,a;const t=((a=(n=e.composedPath)==null?void 0:n.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:QK.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const tL=e=>"clientX"in e,ua=(e,t)=>{var i,o;const r=tL(e),n=r?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,a=r?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},VS=(e,t,r,n,a)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:a,position:o.getAttribute("data-handlepos"),x:(l.left-r.left)/n,y:(l.top-r.top)/n,...C1(o)}})};function rL({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:i,targetControlX:o,targetControlY:l}){const u=e*.125+a*.375+o*.375+r*.125,d=t*.125+i*.375+l*.375+n*.125,f=Math.abs(u-e),h=Math.abs(d-t);return[u,d,f,h]}function Xh(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function KS({pos:e,x1:t,y1:r,x2:n,y2:a,c:i}){switch(e){case Se.Left:return[t-Xh(t-n,i),r];case Se.Right:return[t+Xh(n-t,i),r];case Se.Top:return[t,r-Xh(r-a,i)];case Se.Bottom:return[t,r+Xh(a-r,i)]}}function nL({sourceX:e,sourceY:t,sourcePosition:r=Se.Bottom,targetX:n,targetY:a,targetPosition:i=Se.Top,curvature:o=.25}){const[l,u]=KS({pos:r,x1:e,y1:t,x2:n,y2:a,c:o}),[d,f]=KS({pos:i,x1:n,y1:a,x2:e,y2:t,c:o}),[h,p,g,y]=rL({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:f});return[`M${e},${t} C${l},${u} ${d},${f} ${n},${a}`,h,p,g,y]}function aL({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,i=r<e?r+a:r-a,o=Math.abs(n-t)/2,l=n<t?n+o:n-o;return[i,l,a,o]}function JK({sourceNode:e,targetNode:t,selected:r=!1,zIndex:n=0,elevateOnSelect:a=!1,zIndexMode:i="basic"}){if(i==="manual")return n;const o=a&&r?n+1e3:n,l=Math.max(e.parentId||a&&e.selected?e.internals.z:0,t.parentId||a&&t.selected?t.internals.z:0);return o+l}function eq({sourceNode:e,targetNode:t,width:r,height:n,transform:a}){const i=u0(Tp(e),Tp(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const o={x:-a[0]/a[2],y:-a[1]/a[2],width:r/a[2],height:n/a[2]};return Dd(o,d0(i))>0}const tq=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`xy-edge__${e}${t||""}-${r}${n||""}`,rq=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),iL=(e,t,r={})=>{if(!e.source||!e.target)return t;const n=r.getEdgeId||tq;let a;return KI(e)?a={...e}:a={...e,id:n(e)},rq(a,t)?t:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,t.concat(a))};function sL({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,i,o,l]=aL({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,i,o,l]}const qS={[Se.Left]:{x:-1,y:0},[Se.Right]:{x:1,y:0},[Se.Top]:{x:0,y:-1},[Se.Bottom]:{x:0,y:1}},nq=({source:e,sourcePosition:t=Se.Bottom,target:r})=>t===Se.Left||t===Se.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},ZS=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function aq({source:e,sourcePosition:t=Se.Bottom,target:r,targetPosition:n=Se.Top,center:a,offset:i,stepPosition:o}){const l=qS[t],u=qS[n],d={x:e.x+l.x*i,y:e.y+l.y*i},f={x:r.x+u.x*i,y:r.y+u.y*i},h=nq({source:d,sourcePosition:t,target:f}),p=h.x!==0?"x":"y",g=h[p];let y=[],b,_;const w={x:0,y:0},k={x:0,y:0},[,,j,N]=aL({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[p]*u[p]===-1){p==="x"?(b=a.x??d.x+(f.x-d.x)*o,_=a.y??(d.y+f.y)/2):(b=a.x??(d.x+f.x)/2,_=a.y??d.y+(f.y-d.y)*o);const C=[{x:b,y:d.y},{x:b,y:f.y}],A=[{x:d.x,y:_},{x:f.x,y:_}];l[p]===g?y=p==="x"?C:A:y=p==="x"?A:C}else{const C=[{x:d.x,y:f.y}],A=[{x:f.x,y:d.y}];if(p==="x"?y=l.x===g?A:C:y=l.y===g?C:A,t===n){const z=Math.abs(e[p]-r[p]);if(z<=i){const U=Math.min(i-1,i-z);l[p]===g?w[p]=(d[p]>e[p]?-1:1)*U:k[p]=(f[p]>r[p]?-1:1)*U}}if(t!==n){const z=p==="x"?"y":"x",U=l[p]===u[z],F=d[z]>f[z],q=d[z]<f[z];(l[p]===1&&(!U&&F||U&&q)||l[p]!==1&&(!U&&q||U&&F))&&(y=p==="x"?C:A)}const O={x:d.x+w.x,y:d.y+w.y},T={x:f.x+k.x,y:f.y+k.y},$=Math.max(Math.abs(O.x-y[0].x),Math.abs(T.x-y[0].x)),I=Math.max(Math.abs(O.y-y[0].y),Math.abs(T.y-y[0].y));$>=I?(b=(O.x+T.x)/2,_=y[0].y):(b=y[0].x,_=(O.y+T.y)/2)}return[[e,{x:d.x+w.x,y:d.y+w.y},...y,{x:f.x+k.x,y:f.y+k.y},r],b,_,j,N]}function iq(e,t,r,n){const a=Math.min(ZS(e,t)/2,ZS(t,r)/2,n),{x:i,y:o}=t;if(e.x===i&&i===r.x||e.y===o&&o===r.y)return`L${i} ${o}`;if(e.y===o){const d=e.x<r.x?-1:1,f=e.y<r.y?1:-1;return`L ${i+a*d},${o}Q ${i},${o} ${i},${o+a*f}`}const l=e.x<r.x?1:-1,u=e.y<r.y?-1:1;return`L ${i},${o+a*u}Q ${i},${o} ${i+a*l},${o}`}function Ip({sourceX:e,sourceY:t,sourcePosition:r=Se.Bottom,targetX:n,targetY:a,targetPosition:i=Se.Top,borderRadius:o=5,centerX:l,centerY:u,offset:d=20,stepPosition:f=.5}){const[h,p,g,y,b]=aq({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:i,center:{x:l,y:u},offset:d,stepPosition:f});return[h.reduce((w,k,j)=>{let N="";return j>0&&j<h.length-1?N=iq(h[j-1],k,h[j+1],o):N=`${j===0?"M":"L"}${k.x} ${k.y}`,w+=N,w},""),p,g,y,b]}function YS(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function sq(e){var h;const{sourceNode:t,targetNode:r}=e;if(!YS(t)||!YS(r))return null;const n=t.internals.handleBounds||GS(t.handles),a=r.internals.handleBounds||GS(r.handles),i=XS((n==null?void 0:n.source)??[],e.sourceHandle),o=XS(e.connectionMode===yc.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!i||!o)return(h=e.onError)==null||h.call(e,"008",Fa.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||Se.Bottom,u=(o==null?void 0:o.position)||Se.Top,d=Ko(t,i,l),f=Ko(r,o,u);return{sourceX:d.x,sourceY:d.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:u}}function GS(e){if(!e)return null;const t=[],r=[];for(const n of e)n.width=n.width??1,n.height=n.height??1,n.type==="source"?t.push(n):n.type==="target"&&r.push(n);return{source:t,target:r}}function Ko(e,t,r=Se.Left,n=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:l}=t??Ri(e);if(n)return{x:a+o/2,y:i+l/2};switch((t==null?void 0:t.position)??r){case Se.Top:return{x:a+o/2,y:i};case Se.Right:return{x:a+o,y:i+l/2};case Se.Bottom:return{x:a+o/2,y:i+l};case Se.Left:return{x:a,y:i+l/2}}}function XS(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function Qb(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`:""}function oq(e,{id:t,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:a}){const i=new Set;return e.reduce((o,l)=>([l.markerStart||n,l.markerEnd||a].forEach(u=>{if(u&&typeof u=="object"){const d=Qb(u,t);i.has(d)||(o.push({id:d,color:u.color||r,...u}),i.add(d))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const oL=1e3,lq=10,E1={nodeOrigin:[0,0],nodeExtent:Id,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},cq={...E1,checkEquality:!0};function O1(e,t){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}function uq(e,t,r){const n=O1(E1,r);for(const a of e.values())if(a.parentId)T1(a,e,t,n);else{const i=vf(a,n.nodeOrigin),o=bc(a.extent)?a.extent:n.nodeExtent,l=Vo(i,o,Ri(a));a.internals.positionAbsolute=l}}function dq(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const r=[],n=[];for(const a of e.handles){const i={id:a.id,width:a.width??1,height:a.height??1,nodeId:e.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?r.push(i):a.type==="target"&&n.push(i)}return{source:r,target:n}}function A1(e){return e==="manual"}function Jb(e,t,r,n={}){var d,f;const a=O1(cq,n),i={i:0},o=new Map(t),l=a!=null&&a.elevateNodesOnSelect&&!A1(a.zIndexMode)?oL:0;let u=e.length>0;t.clear(),r.clear();for(const h of e){let p=o.get(h.id);if(a.checkEquality&&h===(p==null?void 0:p.internals.userNode))t.set(h.id,p);else{const g=vf(h,a.nodeOrigin),y=bc(h.extent)?h.extent:a.nodeExtent,b=Vo(g,y,Ri(h));p={...a.defaults,...h,measured:{width:(d=h.measured)==null?void 0:d.width,height:(f=h.measured)==null?void 0:f.height},internals:{positionAbsolute:b,handleBounds:dq(h,p),z:lL(h,l,a.zIndexMode),userNode:h}},t.set(h.id,p)}(p.measured===void 0||p.measured.width===void 0||p.measured.height===void 0)&&!p.hidden&&(u=!1),h.parentId&&T1(p,t,r,n,i)}return u}function fq(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function T1(e,t,r,n,a){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:l,zIndexMode:u}=O1(E1,n),d=e.parentId,f=t.get(d);if(!f){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}fq(e,r),a&&!f.parentId&&f.internals.rootParentIndex===void 0&&u==="auto"&&(f.internals.rootParentIndex=++a.i,f.internals.z=f.internals.z+a.i*lq),a&&f.internals.rootParentIndex!==void 0&&(a.i=f.internals.rootParentIndex);const h=i&&!A1(u)?oL:0,{x:p,y:g,z:y}=hq(e,f,o,l,h,u),{positionAbsolute:b}=e.internals,_=p!==b.x||g!==b.y;(_||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:_?{x:p,y:g}:b,z:y}})}function lL(e,t,r){const n=ca(e.zIndex)?e.zIndex:0;return A1(r)?n:n+(e.selected?t:0)}function hq(e,t,r,n,a,i){const{x:o,y:l}=t.internals.positionAbsolute,u=Ri(e),d=vf(e,r),f=bc(e.extent)?Vo(d,e.extent,u):d;let h=Vo({x:o+f.x,y:l+f.y},n,u);e.extent==="parent"&&(h=ZI(h,u,t));const p=lL(e,a,i),g=t.internals.z??0;return{x:h.x,y:h.y,z:g>=p?g+1:p}}function M1(e,t,r,n=[0,0]){var o;const a=[],i=new Map;for(const l of e){const u=t.get(l.parentId);if(!u)continue;const d=((o=i.get(l.parentId))==null?void 0:o.expandedRect)??vc(u),f=GI(d,l.rect);i.set(l.parentId,{expandedRect:f,parent:u})}return i.size>0&&i.forEach(({expandedRect:l,parent:u},d)=>{var j;const f=u.internals.positionAbsolute,h=Ri(u),p=u.origin??n,g=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,y=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,b=Math.max(h.width,Math.round(l.width)),_=Math.max(h.height,Math.round(l.height)),w=(b-h.width)*p[0],k=(_-h.height)*p[1];(g>0||y>0||w||k)&&(a.push({id:d,type:"position",position:{x:u.position.x-g+w,y:u.position.y-y+k}}),(j=r.get(d))==null||j.forEach(N=>{e.some(P=>P.id===N.id)||a.push({id:N.id,type:"position",position:{x:N.position.x+g,y:N.position.y+y}})})),(h.width<l.width||h.height<l.height||g||y)&&a.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:b+(g?p[0]*g-w:0),height:_+(y?p[1]*y-k:0)}})}),a}function mq(e,t,r,n,a,i,o){const l=n==null?void 0:n.querySelector(".xyflow__viewport");let u=!1;if(!l)return{changes:[],updatedInternals:u};const d=[],f=window.getComputedStyle(l),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=[];for(const g of e.values()){const y=t.get(g.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),u=!0;continue}const b=C1(g.nodeElement),_=y.measured.width!==b.width||y.measured.height!==b.height;if(!!(b.width&&b.height&&(_||!y.internals.handleBounds||g.force))){const k=g.nodeElement.getBoundingClientRect(),j=bc(y.extent)?y.extent:i;let{positionAbsolute:N}=y.internals;y.parentId&&y.extent==="parent"?N=ZI(N,b,t.get(y.parentId)):j&&(N=Vo(N,j,b));const P={...y,measured:b,internals:{...y.internals,positionAbsolute:N,handleBounds:{source:VS("source",g.nodeElement,k,h,y.id),target:VS("target",g.nodeElement,k,h,y.id)}}};t.set(y.id,P),y.parentId&&T1(P,t,r,{nodeOrigin:a,zIndexMode:o}),u=!0,_&&(d.push({id:y.id,type:"dimensions",dimensions:b}),y.expandParent&&y.parentId&&p.push({id:y.id,parentId:y.parentId,rect:vc(P,a)}))}}if(p.length>0){const g=M1(p,t,r,a);d.push(...g)}return{changes:d,updatedInternals:u}}async function pq({delta:e,panZoom:t,transform:r,translateExtent:n,width:a,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[a,i]],n),l=!!o&&(o.x!==r[0]||o.y!==r[1]||o.k!==r[2]);return Promise.resolve(l)}function QS(e,t,r,n,a,i){let o=a;const l=n.get(o)||new Map;n.set(o,l.set(r,t)),o=`${a}-${e}`;const u=n.get(o)||new Map;if(n.set(o,u.set(r,t)),i){o=`${a}-${e}-${i}`;const d=n.get(o)||new Map;n.set(o,d.set(r,t))}}function cL(e,t,r){e.clear(),t.clear();for(const n of r){const{source:a,target:i,sourceHandle:o=null,targetHandle:l=null}=n,u={edgeId:n.id,source:a,target:i,sourceHandle:o,targetHandle:l},d=`${a}-${o}--${i}-${l}`,f=`${i}-${l}--${a}-${o}`;QS("source",u,f,e,a,o),QS("target",u,d,e,i,l),t.set(n.id,n)}}function uL(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:uL(r,t):!1}function JS(e,t,r){var a;let n=e;do{if((a=n==null?void 0:n.matches)!=null&&a.call(n,t))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function gq(e,t,r,n){const a=new Map;for(const[i,o]of e)if((o.selected||o.id===n)&&(!o.parentId||!uL(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const l=e.get(i);l&&a.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function Yx({nodeId:e,dragItems:t,nodeLookup:r,dragging:n=!0}){var o,l,u;const a=[];for(const[d,f]of t){const h=(o=r.get(d))==null?void 0:o.internals.userNode;h&&a.push({...h,position:f.position,dragging:n})}if(!e)return[a[0],a];const i=(l=r.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((u=t.get(e))==null?void 0:u.position)||i.position,dragging:n}:a[0],a]}function yq({dragItems:e,snapGrid:t,x:r,y:n}){const a=e.values().next().value;if(!a)return null;const i={x:r-a.distance.x,y:n-a.distance.y},o=wf(i,t);return{x:o.x-i.x,y:o.y-i.y}}function xq({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:n,onDragStop:a}){let i={x:null,y:null},o=0,l=new Map,u=!1,d={x:0,y:0},f=null,h=!1,p=null,g=!1,y=!1,b=null;function _({noDragClassName:k,handleSelector:j,domNode:N,isSelectable:P,nodeId:C,nodeClickDistance:A=0}){p=fn(N);function O({x:z,y:U}){const{nodeLookup:F,nodeExtent:q,snapGrid:H,snapToGrid:W,nodeOrigin:M,onNodeDrag:D,onSelectionDrag:B,onError:V,updateNodePositions:G}=t();i={x:z,y:U};let Z=!1;const Q=l.size>1,ie=Q&&q?Xb(bf(l)):null,se=Q&&W?yq({dragItems:l,snapGrid:H,x:z,y:U}):null;for(const[oe,le]of l){if(!F.has(oe))continue;let X={x:z-le.distance.x,y:U-le.distance.y};W&&(X=se?{x:Math.round(X.x+se.x),y:Math.round(X.y+se.y)}:wf(X,H));let me=null;if(Q&&q&&!le.extent&&ie){const{positionAbsolute:pe}=le.internals,we=pe.x-ie.x+q[0][0],Oe=pe.x+le.measured.width-ie.x2+q[1][0],Pe=pe.y-ie.y+q[0][1],Ve=pe.y+le.measured.height-ie.y2+q[1][1];me=[[we,Pe],[Oe,Ve]]}const{position:fe,positionAbsolute:te}=qI({nodeId:oe,nextPosition:X,nodeLookup:F,nodeExtent:me||q,nodeOrigin:M,onError:V});Z=Z||le.position.x!==fe.x||le.position.y!==fe.y,le.position=fe,le.internals.positionAbsolute=te}if(y=y||Z,!!Z&&(G(l,!0),b&&(n||D||!C&&B))){const[oe,le]=Yx({nodeId:C,dragItems:l,nodeLookup:F});n==null||n(b,l,oe,le),D==null||D(b,oe,le),C||B==null||B(b,le)}}async function T(){if(!f)return;const{transform:z,panBy:U,autoPanSpeed:F,autoPanOnNodeDrag:q}=t();if(!q){u=!1,cancelAnimationFrame(o);return}const[H,W]=YI(d,f,F);(H!==0||W!==0)&&(i.x=(i.x??0)-H/z[2],i.y=(i.y??0)-W/z[2],await U({x:H,y:W})&&O(i)),o=requestAnimationFrame(T)}function $(z){var Q;const{nodeLookup:U,multiSelectionActive:F,nodesDraggable:q,transform:H,snapGrid:W,snapToGrid:M,selectNodesOnDrag:D,onNodeDragStart:B,onSelectionDragStart:V,unselectNodesAndEdges:G}=t();h=!0,(!D||!P)&&!F&&C&&((Q=U.get(C))!=null&&Q.selected||G()),P&&D&&C&&(e==null||e(C));const Z=id(z.sourceEvent,{transform:H,snapGrid:W,snapToGrid:M,containerBounds:f});if(i=Z,l=gq(U,q,Z,C),l.size>0&&(r||B||!C&&V)){const[ie,se]=Yx({nodeId:C,dragItems:l,nodeLookup:U});r==null||r(z.sourceEvent,l,ie,se),B==null||B(z.sourceEvent,ie,se),C||V==null||V(z.sourceEvent,se)}}const I=SI().clickDistance(A).on("start",z=>{const{domNode:U,nodeDragThreshold:F,transform:q,snapGrid:H,snapToGrid:W}=t();f=(U==null?void 0:U.getBoundingClientRect())||null,g=!1,y=!1,b=z.sourceEvent,F===0&&$(z),i=id(z.sourceEvent,{transform:q,snapGrid:H,snapToGrid:W,containerBounds:f}),d=ua(z.sourceEvent,f)}).on("drag",z=>{const{autoPanOnNodeDrag:U,transform:F,snapGrid:q,snapToGrid:H,nodeDragThreshold:W,nodeLookup:M}=t(),D=id(z.sourceEvent,{transform:F,snapGrid:q,snapToGrid:H,containerBounds:f});if(b=z.sourceEvent,(z.sourceEvent.type==="touchmove"&&z.sourceEvent.touches.length>1||C&&!M.has(C))&&(g=!0),!g){if(!u&&U&&h&&(u=!0,T()),!h){const B=ua(z.sourceEvent,f),V=B.x-d.x,G=B.y-d.y;Math.sqrt(V*V+G*G)>W&&$(z)}(i.x!==D.xSnapped||i.y!==D.ySnapped)&&l&&h&&(d=ua(z.sourceEvent,f),O(D))}}).on("end",z=>{if(!(!h||g)&&(u=!1,h=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:U,updateNodePositions:F,onNodeDragStop:q,onSelectionDragStop:H}=t();if(y&&(F(l,!1),y=!1),a||q||!C&&H){const[W,M]=Yx({nodeId:C,dragItems:l,nodeLookup:U,dragging:!1});a==null||a(z.sourceEvent,l,W,M),q==null||q(z.sourceEvent,W,M),C||H==null||H(z.sourceEvent,M)}}}).filter(z=>{const U=z.target;return!z.button&&(!k||!JS(U,`.${k}`,N))&&(!j||JS(U,j,N))});p.call(I)}function w(){p==null||p.on(".drag",null)}return{update:_,destroy:w}}function vq(e,t,r){const n=[],a={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const i of t.values())Dd(a,vc(i))>0&&n.push(i);return n}const bq=250;function wq(e,t,r,n){var l,u;let a=[],i=1/0;const o=vq(e,r,t+bq);for(const d of o){const f=[...((l=d.internals.handleBounds)==null?void 0:l.source)??[],...((u=d.internals.handleBounds)==null?void 0:u.target)??[]];for(const h of f){if(n.nodeId===h.nodeId&&n.type===h.type&&n.id===h.id)continue;const{x:p,y:g}=Ko(d,h,h.position,!0),y=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(g-e.y,2));y>t||(y<i?(a=[{...h,x:p,y:g}],i=y):y===i&&a.push({...h,x:p,y:g}))}}if(!a.length)return null;if(a.length>1){const d=n.type==="source"?"target":"source";return a.find(f=>f.type===d)??a[0]}return a[0]}function dL(e,t,r,n,a,i=!1){var d,f,h;const o=n.get(e);if(!o)return null;const l=a==="strict"?(d=o.internals.handleBounds)==null?void 0:d[t]:[...((f=o.internals.handleBounds)==null?void 0:f.source)??[],...((h=o.internals.handleBounds)==null?void 0:h.target)??[]],u=(r?l==null?void 0:l.find(p=>p.id===r):l==null?void 0:l[0])??null;return u&&i?{...u,...Ko(o,u,u.position,!0)}:u}function fL(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function _q(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const hL=()=>!0;function jq(e,{connectionMode:t,connectionRadius:r,handleId:n,nodeId:a,edgeUpdaterType:i,isTarget:o,domNode:l,nodeLookup:u,lib:d,autoPanOnConnect:f,flowId:h,panBy:p,cancelConnection:g,onConnectStart:y,onConnect:b,onConnectEnd:_,isValidConnection:w=hL,onReconnectEnd:k,updateConnection:j,getTransform:N,getFromHandle:P,autoPanSpeed:C,dragThreshold:A=1,handleDomNode:O}){const T=JI(e.target);let $=0,I;const{x:z,y:U}=ua(e),F=fL(i,O),q=l==null?void 0:l.getBoundingClientRect();let H=!1;if(!q||!F)return;const W=dL(a,F,n,u,t);if(!W)return;let M=ua(e,q),D=!1,B=null,V=!1,G=null;function Z(){if(!f||!q)return;const[fe,te]=YI(M,q,C);p({x:fe,y:te}),$=requestAnimationFrame(Z)}const Q={...W,nodeId:a,type:F,position:W.position},ie=u.get(a);let oe={inProgress:!0,isValid:null,from:Ko(ie,Q,Se.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:ie,to:M,toHandle:null,toPosition:BS[Q.position],toNode:null,pointer:M};function le(){H=!0,j(oe),y==null||y(e,{nodeId:a,handleId:n,handleType:F})}A===0&&le();function X(fe){if(!H){const{x:Ve,y:Ht}=ua(fe),Br=Ve-z,ee=Ht-U;if(!(Br*Br+ee*ee>A*A))return;le()}if(!P()||!Q){me(fe);return}const te=N();M=ua(fe,q),I=wq(_f(M,te,!1,[1,1]),r,u,Q),D||(Z(),D=!0);const pe=mL(fe,{handle:I,connectionMode:t,fromNodeId:a,fromHandleId:n,fromType:o?"target":"source",isValidConnection:w,doc:T,lib:d,flowId:h,nodeLookup:u});G=pe.handleDomNode,B=pe.connection,V=_q(!!I,pe.isValid);const we=u.get(a),Oe=we?Ko(we,Q,Se.Left,!0):oe.from,Pe={...oe,from:Oe,isValid:V,to:pe.toHandle&&V?Mp({x:pe.toHandle.x,y:pe.toHandle.y},te):M,toHandle:pe.toHandle,toPosition:V&&pe.toHandle?pe.toHandle.position:BS[Q.position],toNode:pe.toHandle?u.get(pe.toHandle.nodeId):null,pointer:M};j(Pe),oe=Pe}function me(fe){if(!("touches"in fe&&fe.touches.length>0)){if(H){(I||G)&&B&&V&&(b==null||b(B));const{inProgress:te,...pe}=oe,we={...pe,toPosition:oe.toHandle?oe.toPosition:null};_==null||_(fe,we),i&&(k==null||k(fe,we))}g(),cancelAnimationFrame($),D=!1,V=!1,B=null,G=null,T.removeEventListener("mousemove",X),T.removeEventListener("mouseup",me),T.removeEventListener("touchmove",X),T.removeEventListener("touchend",me)}}T.addEventListener("mousemove",X),T.addEventListener("mouseup",me),T.addEventListener("touchmove",X),T.addEventListener("touchend",me)}function mL(e,{handle:t,connectionMode:r,fromNodeId:n,fromHandleId:a,fromType:i,doc:o,lib:l,flowId:u,isValidConnection:d=hL,nodeLookup:f}){const h=i==="target",p=t?o.querySelector(`.${l}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y}=ua(e),b=o.elementFromPoint(g,y),_=b!=null&&b.classList.contains(`${l}-flow__handle`)?b:p,w={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const k=fL(void 0,_),j=_.getAttribute("data-nodeid"),N=_.getAttribute("data-handleid"),P=_.classList.contains("connectable"),C=_.classList.contains("connectableend");if(!j||!k)return w;const A={source:h?j:n,sourceHandle:h?N:a,target:h?n:j,targetHandle:h?a:N};w.connection=A;const T=P&&C&&(r===yc.Strict?h&&k==="source"||!h&&k==="target":j!==n||N!==a);w.isValid=T&&d(A),w.toHandle=dL(j,k,N,f,r,!0)}return w}const ew={onPointerDown:jq,isValid:mL};function kq({domNode:e,panZoom:t,getTransform:r,getViewScale:n}){const a=fn(e);function i({translateExtent:l,width:u,height:d,zoomStep:f=1,pannable:h=!0,zoomable:p=!0,inversePan:g=!1}){const y=j=>{if(j.sourceEvent.type!=="wheel"||!t)return;const N=r(),P=j.sourceEvent.ctrlKey&&Rd()?10:1,C=-j.sourceEvent.deltaY*(j.sourceEvent.deltaMode===1?.05:j.sourceEvent.deltaMode?1:.002)*f,A=N[2]*Math.pow(2,C*P);t.scaleTo(A)};let b=[0,0];const _=j=>{(j.sourceEvent.type==="mousedown"||j.sourceEvent.type==="touchstart")&&(b=[j.sourceEvent.clientX??j.sourceEvent.touches[0].clientX,j.sourceEvent.clientY??j.sourceEvent.touches[0].clientY])},w=j=>{const N=r();if(j.sourceEvent.type!=="mousemove"&&j.sourceEvent.type!=="touchmove"||!t)return;const P=[j.sourceEvent.clientX??j.sourceEvent.touches[0].clientX,j.sourceEvent.clientY??j.sourceEvent.touches[0].clientY],C=[P[0]-b[0],P[1]-b[1]];b=P;const A=n()*Math.max(N[2],Math.log(N[2]))*(g?-1:1),O={x:N[0]-C[0]*A,y:N[1]-C[1]*A},T=[[0,0],[u,d]];t.setViewportConstrained({x:O.x,y:O.y,zoom:N[2]},T,l)},k=BI().on("start",_).on("zoom",h?w:null).on("zoom.wheel",p?y:null);a.call(k,{})}function o(){a.on("zoom",null)}return{update:i,destroy:o,pointer:ra}}const f0=e=>({x:e.x,y:e.y,zoom:e.k}),Gx=({x:e,y:t,zoom:r})=>c0.translate(e,t).scale(r),Ll=(e,t)=>e.target.closest(`.${t}`),pL=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Nq=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Xx=(e,t=0,r=Nq,n=()=>{})=>{const a=typeof t=="number"&&t>0;return a||n(),a?e.transition().duration(t).ease(r).on("end",n):e},gL=e=>{const t=e.ctrlKey&&Rd()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Sq({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:n,panOnScrollMode:a,panOnScrollSpeed:i,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:u,onPanZoomEnd:d}){return f=>{if(Ll(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const h=r.property("__zoom").k||1;if(f.ctrlKey&&o){const _=ra(f),w=gL(f),k=h*Math.pow(2,w);n.scaleTo(r,k,_,f);return}const p=f.deltaMode===1?20:1;let g=a===To.Vertical?0:f.deltaX*p,y=a===To.Horizontal?0:f.deltaY*p;!Rd()&&f.shiftKey&&a!==To.Vertical&&(g=f.deltaY*p,y=0),n.translateBy(r,-(g/h)*i,-(y/h)*i,{internal:!0});const b=f0(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(f,b),e.panScrollTimeout=setTimeout(()=>{d==null||d(f,b),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(f,b))}}function Pq({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(n,a){const i=n.type==="wheel",o=!t&&i&&!n.ctrlKey,l=Ll(n,e);if(n.ctrlKey&&i&&l&&n.preventDefault(),o||l)return null;n.preventDefault(),r.call(this,n,a)}}function Cq({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return n=>{var i,o,l;if((i=n.sourceEvent)!=null&&i.internal)return;const a=f0(n.transform);e.mouseButton=((o=n.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((l=n.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),r&&(r==null||r(n.sourceEvent,a))}}function Eq({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:n,onPanZoom:a}){return i=>{var o,l;e.usedRightMouseButton=!!(r&&pL(t,e.mouseButton??0)),(o=i.sourceEvent)!=null&&o.sync||n([i.transform.x,i.transform.y,i.transform.k]),a&&!((l=i.sourceEvent)!=null&&l.internal)&&(a==null||a(i.sourceEvent,f0(i.transform)))}}function Oq({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:a,onPaneContextMenu:i}){return o=>{var l;if(!((l=o.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&pL(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&i(o.sourceEvent),e.usedRightMouseButton=!1,n(!1),a)){const u=f0(o.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(o.sourceEvent,u)},r?150:0)}}}function Aq({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:n,panOnScroll:a,zoomOnDoubleClick:i,userSelectionActive:o,noWheelClassName:l,noPanClassName:u,lib:d,connectionInProgress:f}){return h=>{var _;const p=e||t,g=r&&h.ctrlKey,y=h.type==="wheel";if(h.button===1&&h.type==="mousedown"&&(Ll(h,`${d}-flow__node`)||Ll(h,`${d}-flow__edge`)))return!0;if(!n&&!p&&!a&&!i&&!r||o||f&&!y||Ll(h,l)&&y||Ll(h,u)&&(!y||a&&y&&!e)||!r&&h.ctrlKey&&y)return!1;if(!r&&h.type==="touchstart"&&((_=h.touches)==null?void 0:_.length)>1)return h.preventDefault(),!1;if(!p&&!a&&!g&&y||!n&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(n)&&!n.includes(h.button)&&h.type==="mousedown")return!1;const b=Array.isArray(n)&&n.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||y)&&b}}function Tq({domNode:e,minZoom:t,maxZoom:r,translateExtent:n,viewport:a,onPanZoom:i,onPanZoomStart:o,onPanZoomEnd:l,onDraggingChange:u}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),h=BI().scaleExtent([t,r]).translateExtent(n),p=fn(e).call(h);k({x:a.x,y:a.y,zoom:xc(a.zoom,t,r)},[[0,0],[f.width,f.height]],n);const g=p.on("wheel.zoom"),y=p.on("dblclick.zoom");h.wheelDelta(gL);function b(I,z){return p?new Promise(U=>{h==null||h.interpolate((z==null?void 0:z.interpolate)==="linear"?vi:zm).transform(Xx(p,z==null?void 0:z.duration,z==null?void 0:z.ease,()=>U(!0)),I)}):Promise.resolve(!1)}function _({noWheelClassName:I,noPanClassName:z,onPaneContextMenu:U,userSelectionActive:F,panOnScroll:q,panOnDrag:H,panOnScrollMode:W,panOnScrollSpeed:M,preventScrolling:D,zoomOnPinch:B,zoomOnScroll:V,zoomOnDoubleClick:G,zoomActivationKeyPressed:Z,lib:Q,onTransformChange:ie,connectionInProgress:se,paneClickDistance:oe,selectionOnDrag:le}){F&&!d.isZoomingOrPanning&&w();const X=q&&!Z&&!F;h.clickDistance(le?1/0:!ca(oe)||oe<0?0:oe);const me=X?Sq({zoomPanValues:d,noWheelClassName:I,d3Selection:p,d3Zoom:h,panOnScrollMode:W,panOnScrollSpeed:M,zoomOnPinch:B,onPanZoomStart:o,onPanZoom:i,onPanZoomEnd:l}):Pq({noWheelClassName:I,preventScrolling:D,d3ZoomHandler:g});if(p.on("wheel.zoom",me,{passive:!1}),!F){const te=Cq({zoomPanValues:d,onDraggingChange:u,onPanZoomStart:o});h.on("start",te);const pe=Eq({zoomPanValues:d,panOnDrag:H,onPaneContextMenu:!!U,onPanZoom:i,onTransformChange:ie});h.on("zoom",pe);const we=Oq({zoomPanValues:d,panOnDrag:H,panOnScroll:q,onPaneContextMenu:U,onPanZoomEnd:l,onDraggingChange:u});h.on("end",we)}const fe=Aq({zoomActivationKeyPressed:Z,panOnDrag:H,zoomOnScroll:V,panOnScroll:q,zoomOnDoubleClick:G,zoomOnPinch:B,userSelectionActive:F,noPanClassName:z,noWheelClassName:I,lib:Q,connectionInProgress:se});h.filter(fe),G?p.on("dblclick.zoom",y):p.on("dblclick.zoom",null)}function w(){h.on("zoom",null)}async function k(I,z,U){const F=Gx(I),q=h==null?void 0:h.constrain()(F,z,U);return q&&await b(q),new Promise(H=>H(q))}async function j(I,z){const U=Gx(I);return await b(U,z),new Promise(F=>F(U))}function N(I){if(p){const z=Gx(I),U=p.property("__zoom");(U.k!==I.zoom||U.x!==I.x||U.y!==I.y)&&(h==null||h.transform(p,z,null,{sync:!0}))}}function P(){const I=p?$I(p.node()):{x:0,y:0,k:1};return{x:I.x,y:I.y,zoom:I.k}}function C(I,z){return p?new Promise(U=>{h==null||h.interpolate((z==null?void 0:z.interpolate)==="linear"?vi:zm).scaleTo(Xx(p,z==null?void 0:z.duration,z==null?void 0:z.ease,()=>U(!0)),I)}):Promise.resolve(!1)}function A(I,z){return p?new Promise(U=>{h==null||h.interpolate((z==null?void 0:z.interpolate)==="linear"?vi:zm).scaleBy(Xx(p,z==null?void 0:z.duration,z==null?void 0:z.ease,()=>U(!0)),I)}):Promise.resolve(!1)}function O(I){h==null||h.scaleExtent(I)}function T(I){h==null||h.translateExtent(I)}function $(I){const z=!ca(I)||I<0?0:I;h==null||h.clickDistance(z)}return{update:_,destroy:w,setViewport:j,setViewportConstrained:k,getViewport:P,scaleTo:C,scaleBy:A,setScaleExtent:O,setTranslateExtent:T,syncViewport:N,setClickDistance:$}}var wc;(function(e){e.Line="line",e.Handle="handle"})(wc||(wc={}));function Mq({width:e,prevWidth:t,height:r,prevHeight:n,affectsX:a,affectsY:i}){const o=e-t,l=r-n,u=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&a&&(u[0]=u[0]*-1),l&&i&&(u[1]=u[1]*-1),u}function eP(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),n=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:n,affectsY:a}}function qi(e,t){return Math.max(0,t-e)}function Zi(e,t){return Math.max(0,e-t)}function Qh(e,t,r){return Math.max(0,t-e,e-r)}function tP(e,t){return e?!t:t}function Iq(e,t,r,n,a,i,o,l){let{affectsX:u,affectsY:d}=t;const{isHorizontal:f,isVertical:h}=t,p=f&&h,{xSnapped:g,ySnapped:y}=r,{minWidth:b,maxWidth:_,minHeight:w,maxHeight:k}=n,{x:j,y:N,width:P,height:C,aspectRatio:A}=e;let O=Math.floor(f?g-e.pointerX:0),T=Math.floor(h?y-e.pointerY:0);const $=P+(u?-O:O),I=C+(d?-T:T),z=-i[0]*P,U=-i[1]*C;let F=Qh($,b,_),q=Qh(I,w,k);if(o){let M=0,D=0;u&&O<0?M=qi(j+O+z,o[0][0]):!u&&O>0&&(M=Zi(j+$+z,o[1][0])),d&&T<0?D=qi(N+T+U,o[0][1]):!d&&T>0&&(D=Zi(N+I+U,o[1][1])),F=Math.max(F,M),q=Math.max(q,D)}if(l){let M=0,D=0;u&&O>0?M=Zi(j+O,l[0][0]):!u&&O<0&&(M=qi(j+$,l[1][0])),d&&T>0?D=Zi(N+T,l[0][1]):!d&&T<0&&(D=qi(N+I,l[1][1])),F=Math.max(F,M),q=Math.max(q,D)}if(a){if(f){const M=Qh($/A,w,k)*A;if(F=Math.max(F,M),o){let D=0;!u&&!d||u&&!d&&p?D=Zi(N+U+$/A,o[1][1])*A:D=qi(N+U+(u?O:-O)/A,o[0][1])*A,F=Math.max(F,D)}if(l){let D=0;!u&&!d||u&&!d&&p?D=qi(N+$/A,l[1][1])*A:D=Zi(N+(u?O:-O)/A,l[0][1])*A,F=Math.max(F,D)}}if(h){const M=Qh(I*A,b,_)/A;if(q=Math.max(q,M),o){let D=0;!u&&!d||d&&!u&&p?D=Zi(j+I*A+z,o[1][0])/A:D=qi(j+(d?T:-T)*A+z,o[0][0])/A,q=Math.max(q,D)}if(l){let D=0;!u&&!d||d&&!u&&p?D=qi(j+I*A,l[1][0])/A:D=Zi(j+(d?T:-T)*A,l[0][0])/A,q=Math.max(q,D)}}}T=T+(T<0?q:-q),O=O+(O<0?F:-F),a&&(p?$>I*A?T=(tP(u,d)?-O:O)/A:O=(tP(u,d)?-T:T)*A:f?(T=O/A,d=u):(O=T*A,u=d));const H=u?j+O:j,W=d?N+T:N;return{width:P+(u?-O:O),height:C+(d?-T:T),x:i[0]*O*(u?-1:1)+H,y:i[1]*T*(d?-1:1)+W}}const yL={width:0,height:0,x:0,y:0},Lq={...yL,pointerX:0,pointerY:0,aspectRatio:1};function Dq(e){return[[0,0],[e.measured.width,e.measured.height]]}function Rq(e,t,r){const n=t.position.x+e.position.x,a=t.position.y+e.position.y,i=e.measured.width??0,o=e.measured.height??0,l=r[0]*i,u=r[1]*o;return[[n-l,a-u],[n+i-l,a+o-u]]}function zq({domNode:e,nodeId:t,getStoreItems:r,onChange:n,onEnd:a}){const i=fn(e);let o={controlDirection:eP("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:d,boundaries:f,keepAspectRatio:h,resizeDirection:p,onResizeStart:g,onResize:y,onResizeEnd:b,shouldResize:_}){let w={...yL},k={...Lq};o={boundaries:f,resizeDirection:p,keepAspectRatio:h,controlDirection:eP(d)};let j,N=null,P=[],C,A,O,T=!1;const $=SI().on("start",I=>{const{nodeLookup:z,transform:U,snapGrid:F,snapToGrid:q,nodeOrigin:H,paneDomNode:W}=r();if(j=z.get(t),!j)return;N=(W==null?void 0:W.getBoundingClientRect())??null;const{xSnapped:M,ySnapped:D}=id(I.sourceEvent,{transform:U,snapGrid:F,snapToGrid:q,containerBounds:N});w={width:j.measured.width??0,height:j.measured.height??0,x:j.position.x??0,y:j.position.y??0},k={...w,pointerX:M,pointerY:D,aspectRatio:w.width/w.height},C=void 0,j.parentId&&(j.extent==="parent"||j.expandParent)&&(C=z.get(j.parentId),A=C&&j.extent==="parent"?Dq(C):void 0),P=[],O=void 0;for(const[B,V]of z)if(V.parentId===t&&(P.push({id:B,position:{...V.position},extent:V.extent}),V.extent==="parent"||V.expandParent)){const G=Rq(V,j,V.origin??H);O?O=[[Math.min(G[0][0],O[0][0]),Math.min(G[0][1],O[0][1])],[Math.max(G[1][0],O[1][0]),Math.max(G[1][1],O[1][1])]]:O=G}g==null||g(I,{...w})}).on("drag",I=>{const{transform:z,snapGrid:U,snapToGrid:F,nodeOrigin:q}=r(),H=id(I.sourceEvent,{transform:z,snapGrid:U,snapToGrid:F,containerBounds:N}),W=[];if(!j)return;const{x:M,y:D,width:B,height:V}=w,G={},Z=j.origin??q,{width:Q,height:ie,x:se,y:oe}=Iq(k,o.controlDirection,H,o.boundaries,o.keepAspectRatio,Z,A,O),le=Q!==B,X=ie!==V,me=se!==M&&le,fe=oe!==D&&X;if(!me&&!fe&&!le&&!X)return;if((me||fe||Z[0]===1||Z[1]===1)&&(G.x=me?se:w.x,G.y=fe?oe:w.y,w.x=G.x,w.y=G.y,P.length>0)){const Oe=se-M,Pe=oe-D;for(const Ve of P)Ve.position={x:Ve.position.x-Oe+Z[0]*(Q-B),y:Ve.position.y-Pe+Z[1]*(ie-V)},W.push(Ve)}if((le||X)&&(G.width=le&&(!o.resizeDirection||o.resizeDirection==="horizontal")?Q:w.width,G.height=X&&(!o.resizeDirection||o.resizeDirection==="vertical")?ie:w.height,w.width=G.width,w.height=G.height),C&&j.expandParent){const Oe=Z[0]*(G.width??0);G.x&&G.x<Oe&&(w.x=Oe,k.x=k.x-(G.x-Oe));const Pe=Z[1]*(G.height??0);G.y&&G.y<Pe&&(w.y=Pe,k.y=k.y-(G.y-Pe))}const te=Mq({width:w.width,prevWidth:B,height:w.height,prevHeight:V,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),pe={...w,direction:te};(_==null?void 0:_(I,pe))!==!1&&(T=!0,y==null||y(I,pe),n(G,W))}).on("end",I=>{T&&(b==null||b(I,{...w}),a==null||a({...w}),T=!1)});i.call($)}function u(){i.on(".drag",null)}return{update:l,destroy:u}}const{useDebugValue:Fq}=Sr,{useSyncExternalStoreWithSelector:$q}=uI,Bq=e=>e;function xL(e,t=Bq,r){const n=$q(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Fq(n),n}const rP=(e,t)=>{const r=aI(e),n=(a,i=t)=>xL(r,a,i);return Object.assign(n,r),n},Uq=(e,t)=>e?rP(e,t):rP;function pt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const h0=x.createContext(null),Hq=h0.Provider,vL=Fa.error001();function $e(e,t){const r=x.useContext(h0);if(r===null)throw new Error(vL);return xL(r,e,t)}function gt(){const e=x.useContext(h0);if(e===null)throw new Error(vL);return x.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const nP={display:"none"},Wq={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},bL="react-flow__node-desc",wL="react-flow__edge-desc",Vq="react-flow__aria-live",Kq=e=>e.ariaLiveMessage,qq=e=>e.ariaLabelConfig;function Zq({rfId:e}){const t=$e(Kq);return s.jsx("div",{id:`${Vq}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Wq,children:t})}function Yq({rfId:e,disableKeyboardA11y:t}){const r=$e(qq);return s.jsxs(s.Fragment,{children:[s.jsx("div",{id:`${bL}-${e}`,style:nP,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),s.jsx("div",{id:`${wL}-${e}`,style:nP,children:r["edge.a11yDescription.default"]}),!t&&s.jsx(Zq,{rfId:e})]})}const m0=x.forwardRef(({position:e="top-left",children:t,className:r,style:n,...a},i)=>{const o=`${e}`.split("-");return s.jsx("div",{className:Bt(["react-flow__panel",r,...o]),style:n,ref:i,...a,children:t})});m0.displayName="Panel";function Gq({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:s.jsx(m0,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:s.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Xq=e=>{const t=[],r=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,n]of e.edgeLookup)n.selected&&r.push(n);return{selectedNodes:t,selectedEdges:r}},Jh=e=>e.id;function Qq(e,t){return pt(e.selectedNodes.map(Jh),t.selectedNodes.map(Jh))&&pt(e.selectedEdges.map(Jh),t.selectedEdges.map(Jh))}function Jq({onSelectionChange:e}){const t=gt(),{selectedNodes:r,selectedEdges:n}=$e(Xq,Qq);return x.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(i=>i(a))},[r,n,e]),null}const eZ=e=>!!e.onSelectionChangeHandlers;function tZ({onSelectionChange:e}){const t=$e(eZ);return e||t?s.jsx(Jq,{onSelectionChange:e}):null}const _L=[0,0],rZ={x:0,y:0,zoom:1},nZ=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],aP=[...nZ,"rfId"],aZ=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),iP={translateExtent:Id,nodeOrigin:_L,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function iZ(e){const{setNodes:t,setEdges:r,setMinZoom:n,setMaxZoom:a,setTranslateExtent:i,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:u}=$e(aZ,pt),d=gt();x.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{f.current=iP,l()}),[]);const f=x.useRef(iP);return x.useEffect(()=>{for(const h of aP){const p=e[h],g=f.current[h];p!==g&&(typeof e[h]>"u"||(h==="nodes"?t(p):h==="edges"?r(p):h==="minZoom"?n(p):h==="maxZoom"?a(p):h==="translateExtent"?i(p):h==="nodeExtent"?o(p):h==="ariaLabelConfig"?d.setState({ariaLabelConfig:XK(p)}):h==="fitView"?d.setState({fitViewQueued:p}):h==="fitViewOptions"?d.setState({fitViewOptions:p}):d.setState({[h]:p})))}f.current=e},aP.map(h=>e[h])),null}function sP(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function sZ(e){var n;const[t,r]=x.useState(e==="system"?null:e);return x.useEffect(()=>{if(e!=="system"){r(e);return}const a=sP(),i=()=>r(a!=null&&a.matches?"dark":"light");return i(),a==null||a.addEventListener("change",i),()=>{a==null||a.removeEventListener("change",i)}},[e]),t!==null?t:(n=sP())!=null&&n.matches?"dark":"light"}const oP=typeof document<"u"?document:null;function zd(e=null,t={target:oP,actInsideInputWithModifier:!0}){const[r,n]=x.useState(!1),a=x.useRef(!1),i=x.useRef(new Set([])),[o,l]=x.useMemo(()=>{if(e!==null){const d=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=d.reduce((h,p)=>h.concat(...p),[]);return[d,f]}return[[],[]]},[e]);return x.useEffect(()=>{const u=(t==null?void 0:t.target)??oP,d=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=g=>{var _,w;if(a.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!a.current||a.current&&!d)&&eL(g))return!1;const b=cP(g.code,l);if(i.current.add(g[b]),lP(o,i.current,!1)){const k=((w=(_=g.composedPath)==null?void 0:_.call(g))==null?void 0:w[0])||g.target,j=(k==null?void 0:k.nodeName)==="BUTTON"||(k==null?void 0:k.nodeName)==="A";t.preventDefault!==!1&&(a.current||!j)&&g.preventDefault(),n(!0)}},h=g=>{const y=cP(g.code,l);lP(o,i.current,!0)?(n(!1),i.current.clear()):i.current.delete(g[y]),g.key==="Meta"&&i.current.clear(),a.current=!1},p=()=>{i.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",f),u==null||u.addEventListener("keyup",h),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{u==null||u.removeEventListener("keydown",f),u==null||u.removeEventListener("keyup",h),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[e,n]),r}function lP(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function cP(e,t){return t.includes(e)?"code":"key"}const oZ=()=>{const e=gt();return x.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:n}=e.getState();return n?n.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[n,a,i],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??n,y:t.y??a,zoom:t.zoom??i},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,n]=e.getState().transform;return{x:t,y:r,zoom:n}},setCenter:async(t,r,n)=>e.getState().setCenter(t,r,n),fitBounds:async(t,r)=>{const{width:n,height:a,minZoom:i,maxZoom:o,panZoom:l}=e.getState(),u=P1(t,n,a,i,o,(r==null?void 0:r.padding)??.1);return l?(await l.setViewport(u,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:n,snapGrid:a,snapToGrid:i,domNode:o}=e.getState();if(!o)return t;const{x:l,y:u}=o.getBoundingClientRect(),d={x:t.x-l,y:t.y-u},f=r.snapGrid??a,h=r.snapToGrid??i;return _f(d,n,h,f)},flowToScreenPosition:t=>{const{transform:r,domNode:n}=e.getState();if(!n)return t;const{x:a,y:i}=n.getBoundingClientRect(),o=Mp(t,r);return{x:o.x+a,y:o.y+i}}}),[])};function jL(e,t){const r=[],n=new Map,a=[];for(const i of e)if(i.type==="add"){a.push(i);continue}else if(i.type==="remove"||i.type==="replace")n.set(i.id,[i]);else{const o=n.get(i.id);o?o.push(i):n.set(i.id,[i])}for(const i of t){const o=n.get(i.id);if(!o){r.push(i);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){r.push({...o[0].item});continue}const l={...i};for(const u of o)lZ(u,l);r.push(l)}return a.length&&a.forEach(i=>{i.index!==void 0?r.splice(i.index,0,{...i.item}):r.push({...i.item})}),r}function lZ(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function kL(e,t){return jL(e,t)}function NL(e,t){return jL(e,t)}function no(e,t){return{id:e,type:"select",selected:t}}function Dl(e,t=new Set,r=!1){const n=[];for(const[a,i]of e){const o=t.has(a);!(i.selected===void 0&&!o)&&i.selected!==o&&(r&&(i.selected=o),n.push(no(i.id,o)))}return n}function uP({items:e=[],lookup:t}){var a;const r=[],n=new Map(e.map(i=>[i.id,i]));for(const[i,o]of e.entries()){const l=t.get(o.id),u=((a=l==null?void 0:l.internals)==null?void 0:a.userNode)??l;u!==void 0&&u!==o&&r.push({id:o.id,item:o,type:"replace"}),u===void 0&&r.push({item:o,type:"add",index:i})}for(const[i]of t)n.get(i)===void 0&&r.push({id:i,type:"remove"});return r}function dP(e){return{id:e.id,type:"remove"}}const fP=e=>BK(e),cZ=e=>KI(e);function SL(e){return x.forwardRef(e)}const uZ=typeof window<"u"?x.useLayoutEffect:x.useEffect;function hP(e){const[t,r]=x.useState(BigInt(0)),[n]=x.useState(()=>dZ(()=>r(a=>a+BigInt(1))));return uZ(()=>{const a=n.get();a.length&&(e(a),n.reset())},[t]),n}function dZ(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const PL=x.createContext(null);function fZ({children:e}){const t=gt(),r=x.useCallback(l=>{const{nodes:u=[],setNodes:d,hasDefaultNodes:f,onNodesChange:h,nodeLookup:p,fitViewQueued:g,onNodesChangeMiddlewareMap:y}=t.getState();let b=u;for(const w of l)b=typeof w=="function"?w(b):w;let _=uP({items:b,lookup:p});for(const w of y.values())_=w(_);f&&d(b),_.length>0?h==null||h(_):g&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:k,setNodes:j}=t.getState();w&&j(k)})},[]),n=hP(r),a=x.useCallback(l=>{const{edges:u=[],setEdges:d,hasDefaultEdges:f,onEdgesChange:h,edgeLookup:p}=t.getState();let g=u;for(const y of l)g=typeof y=="function"?y(g):y;f?d(g):h&&h(uP({items:g,lookup:p}))},[]),i=hP(a),o=x.useMemo(()=>({nodeQueue:n,edgeQueue:i}),[]);return s.jsx(PL.Provider,{value:o,children:e})}function hZ(){const e=x.useContext(PL);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const mZ=e=>!!e.panZoom;function Uc(){const e=oZ(),t=gt(),r=hZ(),n=$e(mZ),a=x.useMemo(()=>{const i=h=>t.getState().nodeLookup.get(h),o=h=>{r.nodeQueue.push(h)},l=h=>{r.edgeQueue.push(h)},u=h=>{var w,k;const{nodeLookup:p,nodeOrigin:g}=t.getState(),y=fP(h)?h:p.get(h.id),b=y.parentId?QI(y.position,y.measured,y.parentId,p,g):y.position,_={...y,position:b,width:((w=y.measured)==null?void 0:w.width)??y.width,height:((k=y.measured)==null?void 0:k.height)??y.height};return vc(_)},d=(h,p,g={replace:!1})=>{o(y=>y.map(b=>{if(b.id===h){const _=typeof p=="function"?p(b):p;return g.replace&&fP(_)?_:{...b,..._}}return b}))},f=(h,p,g={replace:!1})=>{l(y=>y.map(b=>{if(b.id===h){const _=typeof p=="function"?p(b):p;return g.replace&&cZ(_)?_:{...b,..._}}return b}))};return{getNodes:()=>t.getState().nodes.map(h=>({...h})),getNode:h=>{var p;return(p=i(h))==null?void 0:p.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:h=[]}=t.getState();return h.map(p=>({...p}))},getEdge:h=>t.getState().edgeLookup.get(h),setNodes:o,setEdges:l,addNodes:h=>{const p=Array.isArray(h)?h:[h];r.nodeQueue.push(g=>[...g,...p])},addEdges:h=>{const p=Array.isArray(h)?h:[h];r.edgeQueue.push(g=>[...g,...p])},toObject:()=>{const{nodes:h=[],edges:p=[],transform:g}=t.getState(),[y,b,_]=g;return{nodes:h.map(w=>({...w})),edges:p.map(w=>({...w})),viewport:{x:y,y:b,zoom:_}}},deleteElements:async({nodes:h=[],edges:p=[]})=>{const{nodes:g,edges:y,onNodesDelete:b,onEdgesDelete:_,triggerNodeChanges:w,triggerEdgeChanges:k,onDelete:j,onBeforeDelete:N}=t.getState(),{nodes:P,edges:C}=await KK({nodesToRemove:h,edgesToRemove:p,nodes:g,edges:y,onBeforeDelete:N}),A=C.length>0,O=P.length>0;if(A){const T=C.map(dP);_==null||_(C),k(T)}if(O){const T=P.map(dP);b==null||b(P),w(T)}return(O||A)&&(j==null||j({nodes:P,edges:C})),{deletedNodes:P,deletedEdges:C}},getIntersectingNodes:(h,p=!0,g)=>{const y=HS(h),b=y?h:u(h),_=g!==void 0;return b?(g||t.getState().nodes).filter(w=>{const k=t.getState().nodeLookup.get(w.id);if(k&&!y&&(w.id===h.id||!k.internals.positionAbsolute))return!1;const j=vc(_?w:k),N=Dd(j,b);return p&&N>0||N>=j.width*j.height||N>=b.width*b.height}):[]},isNodeIntersecting:(h,p,g=!0)=>{const b=HS(h)?h:u(h);if(!b)return!1;const _=Dd(b,p);return g&&_>0||_>=p.width*p.height||_>=b.width*b.height},updateNode:d,updateNodeData:(h,p,g={replace:!1})=>{d(h,y=>{const b=typeof p=="function"?p(y):p;return g.replace?{...y,data:b}:{...y,data:{...y.data,...b}}},g)},updateEdge:f,updateEdgeData:(h,p,g={replace:!1})=>{f(h,y=>{const b=typeof p=="function"?p(y):p;return g.replace?{...y,data:b}:{...y,data:{...y.data,...b}}},g)},getNodesBounds:h=>{const{nodeLookup:p,nodeOrigin:g}=t.getState();return UK(h,{nodeLookup:p,nodeOrigin:g})},getHandleConnections:({type:h,id:p,nodeId:g})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${g}-${h}${p?`-${p}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:h,handleId:p,nodeId:g})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${g}${h?p?`-${h}-${p}`:`-${h}`:""}`))==null?void 0:y.values())??[])},fitView:async h=>{const p=t.getState().fitViewResolver??GK();return t.setState({fitViewQueued:!0,fitViewOptions:h,fitViewResolver:p}),r.nodeQueue.push(g=>[...g]),p.promise}}},[]);return x.useMemo(()=>({...a,...e,viewportInitialized:n}),[n])}const mP=e=>e.selected,pZ=typeof window<"u"?window:void 0;function gZ({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=gt(),{deleteElements:n}=Uc(),a=zd(e,{actInsideInputWithModifier:!1}),i=zd(t,{target:pZ});x.useEffect(()=>{if(a){const{edges:o,nodes:l}=r.getState();n({nodes:l.filter(mP),edges:o.filter(mP)}),r.setState({nodesSelectionActive:!1})}},[a]),x.useEffect(()=>{r.setState({multiSelectionActive:i})},[i])}function yZ(e){const t=gt();x.useEffect(()=>{const r=()=>{var a,i,o,l;if(!e.current||!(((i=(a=e.current).checkVisibility)==null?void 0:i.call(a))??!0))return!1;const n=C1(e.current);(n.height===0||n.width===0)&&((l=(o=t.getState()).onError)==null||l.call(o,"004",Fa.error004())),t.setState({width:n.width||500,height:n.height||500})};if(e.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}}},[])}const p0={position:"absolute",width:"100%",height:"100%",top:0,left:0},xZ=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function vZ({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:a=.5,panOnScrollMode:i=To.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:u,translateExtent:d,minZoom:f,maxZoom:h,zoomActivationKeyCode:p,preventScrolling:g=!0,children:y,noWheelClassName:b,noPanClassName:_,onViewportChange:w,isControlledViewport:k,paneClickDistance:j,selectionOnDrag:N}){const P=gt(),C=x.useRef(null),{userSelectionActive:A,lib:O,connectionInProgress:T}=$e(xZ,pt),$=zd(p),I=x.useRef();yZ(C);const z=x.useCallback(U=>{w==null||w({x:U[0],y:U[1],zoom:U[2]}),k||P.setState({transform:U})},[w,k]);return x.useEffect(()=>{if(C.current){I.current=Tq({domNode:C.current,minZoom:f,maxZoom:h,translateExtent:d,viewport:u,onDraggingChange:H=>P.setState({paneDragging:H}),onPanZoomStart:(H,W)=>{const{onViewportChangeStart:M,onMoveStart:D}=P.getState();D==null||D(H,W),M==null||M(W)},onPanZoom:(H,W)=>{const{onViewportChange:M,onMove:D}=P.getState();D==null||D(H,W),M==null||M(W)},onPanZoomEnd:(H,W)=>{const{onViewportChangeEnd:M,onMoveEnd:D}=P.getState();D==null||D(H,W),M==null||M(W)}});const{x:U,y:F,zoom:q}=I.current.getViewport();return P.setState({panZoom:I.current,transform:[U,F,q],domNode:C.current.closest(".react-flow")}),()=>{var H;(H=I.current)==null||H.destroy()}}},[]),x.useEffect(()=>{var U;(U=I.current)==null||U.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:a,panOnScrollMode:i,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:$,preventScrolling:g,noPanClassName:_,userSelectionActive:A,noWheelClassName:b,lib:O,onTransformChange:z,connectionInProgress:T,selectionOnDrag:N,paneClickDistance:j})},[e,t,r,n,a,i,o,l,$,g,_,A,b,O,z,T,N,j]),s.jsx("div",{className:"react-flow__renderer",ref:C,style:p0,children:y})}const bZ=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function wZ(){const{userSelectionActive:e,userSelectionRect:t}=$e(bZ,pt);return e&&t?s.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Qx=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},_Z=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function jZ({isSelecting:e,selectionKeyPressed:t,selectionMode:r=Ld.Full,panOnDrag:n,paneClickDistance:a,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:l,onPaneClick:u,onPaneContextMenu:d,onPaneScroll:f,onPaneMouseEnter:h,onPaneMouseMove:p,onPaneMouseLeave:g,children:y}){const b=gt(),{userSelectionActive:_,elementsSelectable:w,dragging:k,connectionInProgress:j}=$e(_Z,pt),N=w&&(e||_),P=x.useRef(null),C=x.useRef(),A=x.useRef(new Set),O=x.useRef(new Set),T=x.useRef(!1),$=M=>{if(T.current||j){T.current=!1;return}u==null||u(M),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},I=M=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){M.preventDefault();return}d==null||d(M)},z=f?M=>f(M):void 0,U=M=>{T.current&&(M.stopPropagation(),T.current=!1)},F=M=>{var ie,se;const{domNode:D}=b.getState();if(C.current=D==null?void 0:D.getBoundingClientRect(),!C.current)return;const B=M.target===P.current;if(!B&&!!M.target.closest(".nokey")||!e||!(i&&B||t)||M.button!==0||!M.isPrimary)return;(se=(ie=M.target)==null?void 0:ie.setPointerCapture)==null||se.call(ie,M.pointerId),T.current=!1;const{x:Z,y:Q}=ua(M.nativeEvent,C.current);b.setState({userSelectionRect:{width:0,height:0,startX:Z,startY:Q,x:Z,y:Q}}),B||(M.stopPropagation(),M.preventDefault())},q=M=>{const{userSelectionRect:D,transform:B,nodeLookup:V,edgeLookup:G,connectionLookup:Z,triggerNodeChanges:Q,triggerEdgeChanges:ie,defaultEdgeOptions:se,resetSelectedElements:oe}=b.getState();if(!C.current||!D)return;const{x:le,y:X}=ua(M.nativeEvent,C.current),{startX:me,startY:fe}=D;if(!T.current){const Pe=t?0:a;if(Math.hypot(le-me,X-fe)<=Pe)return;oe(),o==null||o(M)}T.current=!0;const te={startX:me,startY:fe,x:le<me?le:me,y:X<fe?X:fe,width:Math.abs(le-me),height:Math.abs(X-fe)},pe=A.current,we=O.current;A.current=new Set(S1(V,te,B,r===Ld.Partial,!0).map(Pe=>Pe.id)),O.current=new Set;const Oe=(se==null?void 0:se.selectable)??!0;for(const Pe of A.current){const Ve=Z.get(Pe);if(Ve)for(const{edgeId:Ht}of Ve.values()){const Br=G.get(Ht);Br&&(Br.selectable??Oe)&&O.current.add(Ht)}}if(!WS(pe,A.current)){const Pe=Dl(V,A.current,!0);Q(Pe)}if(!WS(we,O.current)){const Pe=Dl(G,O.current);ie(Pe)}b.setState({userSelectionRect:te,userSelectionActive:!0,nodesSelectionActive:!1})},H=M=>{var D,B;M.button===0&&((B=(D=M.target)==null?void 0:D.releasePointerCapture)==null||B.call(D,M.pointerId),!_&&M.target===P.current&&b.getState().userSelectionRect&&($==null||$(M)),b.setState({userSelectionActive:!1,userSelectionRect:null}),T.current&&(l==null||l(M),b.setState({nodesSelectionActive:A.current.size>0})))},W=n===!0||Array.isArray(n)&&n.includes(0);return s.jsxs("div",{className:Bt(["react-flow__pane",{draggable:W,dragging:k,selection:e}]),onClick:N?void 0:Qx($,P),onContextMenu:Qx(I,P),onWheel:Qx(z,P),onPointerEnter:N?void 0:h,onPointerMove:N?q:p,onPointerUp:N?H:void 0,onPointerDownCapture:N?F:void 0,onClickCapture:N?U:void 0,onPointerLeave:g,ref:P,style:p0,children:[y,s.jsx(wZ,{})]})}function tw({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:i,multiSelectionActive:o,nodeLookup:l,onError:u}=t.getState(),d=l.get(e);if(!d){u==null||u("012",Fa.error012(e));return}t.setState({nodesSelectionActive:!1}),d.selected?(r||d.selected&&o)&&(i({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var f;return(f=n==null?void 0:n.current)==null?void 0:f.blur()})):a([e])}function CL({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:i,nodeClickDistance:o}){const l=gt(),[u,d]=x.useState(!1),f=x.useRef();return x.useEffect(()=>{f.current=xq({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{tw({id:h,store:l,nodeRef:e})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),x.useEffect(()=>{var h,p;if(t)(h=f.current)==null||h.destroy();else if(e.current)return(p=f.current)==null||p.update({noDragClassName:r,handleSelector:n,domNode:e.current,isSelectable:i,nodeId:a,nodeClickDistance:o}),()=>{var g;(g=f.current)==null||g.destroy()}},[r,n,t,i,e,a]),u}const kZ=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function EL(){const e=gt();return x.useCallback(r=>{const{nodeExtent:n,snapToGrid:a,snapGrid:i,nodesDraggable:o,onError:l,updateNodePositions:u,nodeLookup:d,nodeOrigin:f}=e.getState(),h=new Map,p=kZ(o),g=a?i[0]:5,y=a?i[1]:5,b=r.direction.x*g*r.factor,_=r.direction.y*y*r.factor;for(const[,w]of d){if(!p(w))continue;let k={x:w.internals.positionAbsolute.x+b,y:w.internals.positionAbsolute.y+_};a&&(k=wf(k,i));const{position:j,positionAbsolute:N}=qI({nodeId:w.id,nextPosition:k,nodeLookup:d,nodeExtent:n,nodeOrigin:f,onError:l});w.position=j,w.internals.positionAbsolute=N,h.set(w.id,w)}u(h)},[])}const I1=x.createContext(null),NZ=I1.Provider;I1.Consumer;const OL=()=>x.useContext(I1),SZ=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),PZ=(e,t,r)=>n=>{const{connectionClickStartHandle:a,connectionMode:i,connection:o}=n,{fromHandle:l,toHandle:u,isValid:d}=o,f=(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===r;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===r,connectingTo:f,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,isPossibleEndHandle:i===yc.Strict?(l==null?void 0:l.type)!==r:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:f&&d}};function CZ({type:e="source",position:t=Se.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:u,className:d,onMouseDown:f,onTouchStart:h,...p},g){var q,H;const y=o||null,b=e==="target",_=gt(),w=OL(),{connectOnClick:k,noPanClassName:j,rfId:N}=$e(SZ,pt),{connectingFrom:P,connectingTo:C,clickConnecting:A,isPossibleEndHandle:O,connectionInProcess:T,clickConnectionInProcess:$,valid:I}=$e(PZ(w,y,e),pt);w||(H=(q=_.getState()).onError)==null||H.call(q,"010",Fa.error010());const z=W=>{const{defaultEdgeOptions:M,onConnect:D,hasDefaultEdges:B}=_.getState(),V={...M,...W};if(B){const{edges:G,setEdges:Z}=_.getState();Z(iL(V,G))}D==null||D(V),l==null||l(V)},U=W=>{if(!w)return;const M=tL(W.nativeEvent);if(a&&(M&&W.button===0||!M)){const D=_.getState();ew.onPointerDown(W.nativeEvent,{handleDomNode:W.currentTarget,autoPanOnConnect:D.autoPanOnConnect,connectionMode:D.connectionMode,connectionRadius:D.connectionRadius,domNode:D.domNode,nodeLookup:D.nodeLookup,lib:D.lib,isTarget:b,handleId:y,nodeId:w,flowId:D.rfId,panBy:D.panBy,cancelConnection:D.cancelConnection,onConnectStart:D.onConnectStart,onConnectEnd:D.onConnectEnd,updateConnection:D.updateConnection,onConnect:z,isValidConnection:r||D.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:D.autoPanSpeed,dragThreshold:D.connectionDragThreshold})}M?f==null||f(W):h==null||h(W)},F=W=>{const{onClickConnectStart:M,onClickConnectEnd:D,connectionClickStartHandle:B,connectionMode:V,isValidConnection:G,lib:Z,rfId:Q,nodeLookup:ie,connection:se}=_.getState();if(!w||!B&&!a)return;if(!B){M==null||M(W.nativeEvent,{nodeId:w,handleId:y,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:w,type:e,id:y}});return}const oe=JI(W.target),le=r||G,{connection:X,isValid:me}=ew.isValid(W.nativeEvent,{handle:{nodeId:w,id:y,type:e},connectionMode:V,fromNodeId:B.nodeId,fromHandleId:B.id||null,fromType:B.type,isValidConnection:le,flowId:Q,doc:oe,lib:Z,nodeLookup:ie});me&&X&&z(X);const fe=structuredClone(se);delete fe.inProgress,fe.toPosition=fe.toHandle?fe.toHandle.position:null,D==null||D(W,fe),_.setState({connectionClickStartHandle:null})};return s.jsx("div",{"data-handleid":y,"data-nodeid":w,"data-handlepos":t,"data-id":`${N}-${w}-${y}-${e}`,className:Bt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",j,d,{source:!b,target:b,connectable:n,connectablestart:a,connectableend:i,clickconnecting:A,connectingfrom:P,connectingto:C,valid:I,connectionindicator:n&&(!T||O)&&(T||$?i:a)}]),onMouseDown:U,onTouchStart:U,onClick:k?F:void 0,ref:g,...p,children:u})}const _c=x.memo(SL(CZ));function EZ({data:e,isConnectable:t,sourcePosition:r=Se.Bottom}){return s.jsxs(s.Fragment,{children:[e==null?void 0:e.label,s.jsx(_c,{type:"source",position:r,isConnectable:t})]})}function OZ({data:e,isConnectable:t,targetPosition:r=Se.Top,sourcePosition:n=Se.Bottom}){return s.jsxs(s.Fragment,{children:[s.jsx(_c,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,s.jsx(_c,{type:"source",position:n,isConnectable:t})]})}function AZ(){return null}function TZ({data:e,isConnectable:t,targetPosition:r=Se.Top}){return s.jsxs(s.Fragment,{children:[s.jsx(_c,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const Lp={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},pP={input:EZ,default:OZ,output:TZ,group:AZ};function MZ(e){var t,r,n,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((n=e.style)==null?void 0:n.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const IZ=e=>{const{width:t,height:r,x:n,y:a}=bf(e.nodeLookup,{filter:i=>!!i.selected});return{width:ca(t)?t:null,height:ca(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${n}px,${a}px)`}};function LZ({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=gt(),{width:a,height:i,transformString:o,userSelectionActive:l}=$e(IZ,pt),u=EL(),d=x.useRef(null);if(x.useEffect(()=>{var p;r||(p=d.current)==null||p.focus({preventScroll:!0})},[r]),CL({nodeRef:d}),l||!a||!i)return null;const f=e?p=>{const g=n.getState().nodes.filter(y=>y.selected);e(p,g)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(Lp,p.key)&&(p.preventDefault(),u({direction:Lp[p.key],factor:p.shiftKey?4:1}))};return s.jsx("div",{className:Bt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:s.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:r?void 0:-1,onKeyDown:r?void 0:h,style:{width:a,height:i}})})}const gP=typeof window<"u"?window:void 0,DZ=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function AL({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:u,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:_,elementsSelectable:w,zoomOnScroll:k,zoomOnPinch:j,panOnScroll:N,panOnScrollSpeed:P,panOnScrollMode:C,zoomOnDoubleClick:A,panOnDrag:O,defaultViewport:T,translateExtent:$,minZoom:I,maxZoom:z,preventScrolling:U,onSelectionContextMenu:F,noWheelClassName:q,noPanClassName:H,disableKeyboardA11y:W,onViewportChange:M,isControlledViewport:D}){const{nodesSelectionActive:B,userSelectionActive:V}=$e(DZ,pt),G=zd(d,{target:gP}),Z=zd(b,{target:gP}),Q=Z||O,ie=Z||N,se=f&&Q!==!0,oe=G||V||se;return gZ({deleteKeyCode:u,multiSelectionKeyCode:y}),s.jsx(vZ,{onPaneContextMenu:i,elementsSelectable:w,zoomOnScroll:k,zoomOnPinch:j,panOnScroll:ie,panOnScrollSpeed:P,panOnScrollMode:C,zoomOnDoubleClick:A,panOnDrag:!G&&Q,defaultViewport:T,translateExtent:$,minZoom:I,maxZoom:z,zoomActivationKeyCode:_,preventScrolling:U,noWheelClassName:q,noPanClassName:H,onViewportChange:M,isControlledViewport:D,paneClickDistance:l,selectionOnDrag:se,children:s.jsxs(jZ,{onSelectionStart:p,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:Q,isSelecting:!!oe,selectionMode:h,selectionKeyPressed:G,paneClickDistance:l,selectionOnDrag:se,children:[e,B&&s.jsx(LZ,{onSelectionContextMenu:F,noPanClassName:H,disableKeyboardA11y:W})]})})}AL.displayName="FlowRenderer";const RZ=x.memo(AL),zZ=e=>t=>e?S1(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function FZ(e){return $e(x.useCallback(zZ(e),[e]),pt)}const $Z=e=>e.updateNodeInternals;function BZ(){const e=$e($Z),[t]=x.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(a=>{const i=a.target.getAttribute("data-id");n.set(i,{id:i,nodeElement:a.target,force:!0})}),e(n)}));return x.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function UZ({node:e,nodeType:t,hasDimensions:r,resizeObserver:n}){const a=gt(),i=x.useRef(null),o=x.useRef(null),l=x.useRef(e.sourcePosition),u=x.useRef(e.targetPosition),d=x.useRef(t),f=r&&!!e.internals.handleBounds;return x.useEffect(()=>{i.current&&!e.hidden&&(!f||o.current!==i.current)&&(o.current&&(n==null||n.unobserve(o.current)),n==null||n.observe(i.current),o.current=i.current)},[f,e.hidden]),x.useEffect(()=>()=>{o.current&&(n==null||n.unobserve(o.current),o.current=null)},[]),x.useEffect(()=>{if(i.current){const h=d.current!==t,p=l.current!==e.sourcePosition,g=u.current!==e.targetPosition;(h||p||g)&&(d.current=t,l.current=e.sourcePosition,u.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function HZ({id:e,onClick:t,onMouseEnter:r,onMouseMove:n,onMouseLeave:a,onContextMenu:i,onDoubleClick:o,nodesDraggable:l,elementsSelectable:u,nodesConnectable:d,nodesFocusable:f,resizeObserver:h,noDragClassName:p,noPanClassName:g,disableKeyboardA11y:y,rfId:b,nodeTypes:_,nodeClickDistance:w,onError:k}){const{node:j,internals:N,isParent:P}=$e(le=>{const X=le.nodeLookup.get(e),me=le.parentLookup.has(e);return{node:X,internals:X.internals,isParent:me}},pt);let C=j.type||"default",A=(_==null?void 0:_[C])||pP[C];A===void 0&&(k==null||k("003",Fa.error003(C)),C="default",A=(_==null?void 0:_.default)||pP.default);const O=!!(j.draggable||l&&typeof j.draggable>"u"),T=!!(j.selectable||u&&typeof j.selectable>"u"),$=!!(j.connectable||d&&typeof j.connectable>"u"),I=!!(j.focusable||f&&typeof j.focusable>"u"),z=gt(),U=XI(j),F=UZ({node:j,nodeType:C,hasDimensions:U,resizeObserver:h}),q=CL({nodeRef:F,disabled:j.hidden||!O,noDragClassName:p,handleSelector:j.dragHandle,nodeId:e,isSelectable:T,nodeClickDistance:w}),H=EL();if(j.hidden)return null;const W=Ri(j),M=MZ(j),D=T||O||t||r||n||a,B=r?le=>r(le,{...N.userNode}):void 0,V=n?le=>n(le,{...N.userNode}):void 0,G=a?le=>a(le,{...N.userNode}):void 0,Z=i?le=>i(le,{...N.userNode}):void 0,Q=o?le=>o(le,{...N.userNode}):void 0,ie=le=>{const{selectNodesOnDrag:X,nodeDragThreshold:me}=z.getState();T&&(!X||!O||me>0)&&tw({id:e,store:z,nodeRef:F}),t&&t(le,{...N.userNode})},se=le=>{if(!(eL(le.nativeEvent)||y)){if(UI.includes(le.key)&&T){const X=le.key==="Escape";tw({id:e,store:z,unselect:X,nodeRef:F})}else if(O&&j.selected&&Object.prototype.hasOwnProperty.call(Lp,le.key)){le.preventDefault();const{ariaLabelConfig:X}=z.getState();z.setState({ariaLiveMessage:X["node.a11yDescription.ariaLiveMessage"]({direction:le.key.replace("Arrow","").toLowerCase(),x:~~N.positionAbsolute.x,y:~~N.positionAbsolute.y})}),H({direction:Lp[le.key],factor:le.shiftKey?4:1})}}},oe=()=>{var we;if(y||!((we=F.current)!=null&&we.matches(":focus-visible")))return;const{transform:le,width:X,height:me,autoPanOnNodeFocus:fe,setCenter:te}=z.getState();if(!fe)return;S1(new Map([[e,j]]),{x:0,y:0,width:X,height:me},le,!0).length>0||te(j.position.x+W.width/2,j.position.y+W.height/2,{zoom:le[2]})};return s.jsx("div",{className:Bt(["react-flow__node",`react-flow__node-${C}`,{[g]:O},j.className,{selected:j.selected,selectable:T,parent:P,draggable:O,dragging:q}]),ref:F,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:D?"all":"none",visibility:U?"visible":"hidden",...j.style,...M},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:B,onMouseMove:V,onMouseLeave:G,onContextMenu:Z,onClick:ie,onDoubleClick:Q,onKeyDown:I?se:void 0,tabIndex:I?0:void 0,onFocus:I?oe:void 0,role:j.ariaRole??(I?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${bL}-${b}`,"aria-label":j.ariaLabel,...j.domAttributes,children:s.jsx(NZ,{value:e,children:s.jsx(A,{id:e,data:j.data,type:C,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:j.selected??!1,selectable:T,draggable:O,deletable:j.deletable??!0,isConnectable:$,sourcePosition:j.sourcePosition,targetPosition:j.targetPosition,dragging:q,dragHandle:j.dragHandle,zIndex:N.z,parentId:j.parentId,...W})})})}var WZ=x.memo(HZ);const VZ=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function TL(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,onError:i}=$e(VZ,pt),o=FZ(e.onlyRenderVisibleElements),l=BZ();return s.jsx("div",{className:"react-flow__nodes",style:p0,children:o.map(u=>s.jsx(WZ,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:i},u))})}TL.displayName="NodeRenderer";const KZ=x.memo(TL);function qZ(e){return $e(x.useCallback(r=>{if(!e)return r.edges.map(a=>a.id);const n=[];if(r.width&&r.height)for(const a of r.edges){const i=r.nodeLookup.get(a.source),o=r.nodeLookup.get(a.target);i&&o&&eq({sourceNode:i,targetNode:o,width:r.width,height:r.height,transform:r.transform})&&n.push(a.id)}return n},[e]),pt)}const ZZ=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return s.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},YZ=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return s.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},yP={[Ap.Arrow]:ZZ,[Ap.ArrowClosed]:YZ};function GZ(e){const t=gt();return x.useMemo(()=>{var a,i;return Object.prototype.hasOwnProperty.call(yP,e)?yP[e]:((i=(a=t.getState()).onError)==null||i.call(a,"009",Fa.error009(e)),null)},[e])}const XZ=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const u=GZ(t);return u?s.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:s.jsx(u,{color:r,strokeWidth:o})}):null},ML=({defaultColor:e,rfId:t})=>{const r=$e(i=>i.edges),n=$e(i=>i.defaultEdgeOptions),a=x.useMemo(()=>oq(r,{id:t,defaultColor:e,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,t,e]);return a.length?s.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:s.jsx("defs",{children:a.map(i=>s.jsx(XZ,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};ML.displayName="MarkerDefinitions";var QZ=x.memo(ML);function IL({x:e,y:t,label:r,labelStyle:n,labelShowBg:a=!0,labelBgStyle:i,labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:u,className:d,...f}){const[h,p]=x.useState({x:1,y:0,width:0,height:0}),g=Bt(["react-flow__edge-textwrapper",d]),y=x.useRef(null);return x.useEffect(()=>{if(y.current){const b=y.current.getBBox();p({x:b.x,y:b.y,width:b.width,height:b.height})}},[r]),r?s.jsxs("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:g,visibility:h.width?"visible":"hidden",...f,children:[a&&s.jsx("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),s.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:y,style:n,children:r}),u]}):null}IL.displayName="EdgeText";const JZ=x.memo(IL);function jc({path:e,labelX:t,labelY:r,label:n,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,interactionWidth:d=20,...f}){return s.jsxs(s.Fragment,{children:[s.jsx("path",{...f,d:e,fill:"none",className:Bt(["react-flow__edge-path",f.className])}),d?s.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}):null,n&&ca(t)&&ca(r)?s.jsx(JZ,{x:t,y:r,label:n,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null]})}function xP({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===Se.Left||e===Se.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function LL({sourceX:e,sourceY:t,sourcePosition:r=Se.Bottom,targetX:n,targetY:a,targetPosition:i=Se.Top}){const[o,l]=xP({pos:r,x1:e,y1:t,x2:n,y2:a}),[u,d]=xP({pos:i,x1:n,y1:a,x2:e,y2:t}),[f,h,p,g]=rL({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${e},${t} C${o},${l} ${u},${d} ${n},${a}`,f,h,p,g]}function DL(e){return x.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,sourcePosition:o,targetPosition:l,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:_,interactionWidth:w})=>{const[k,j,N]=LL({sourceX:r,sourceY:n,sourcePosition:o,targetX:a,targetY:i,targetPosition:l}),P=e.isInternal?void 0:t;return s.jsx(jc,{id:P,path:k,labelX:j,labelY:N,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:_,interactionWidth:w})})}const eY=DL({isInternal:!1}),RL=DL({isInternal:!0});eY.displayName="SimpleBezierEdge";RL.displayName="SimpleBezierEdgeInternal";function zL(e){return x.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,sourcePosition:g=Se.Bottom,targetPosition:y=Se.Top,markerEnd:b,markerStart:_,pathOptions:w,interactionWidth:k})=>{const[j,N,P]=Ip({sourceX:r,sourceY:n,sourcePosition:g,targetX:a,targetY:i,targetPosition:y,borderRadius:w==null?void 0:w.borderRadius,offset:w==null?void 0:w.offset,stepPosition:w==null?void 0:w.stepPosition}),C=e.isInternal?void 0:t;return s.jsx(jc,{id:C,path:j,labelX:N,labelY:P,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:b,markerStart:_,interactionWidth:k})})}const FL=zL({isInternal:!1}),$L=zL({isInternal:!0});FL.displayName="SmoothStepEdge";$L.displayName="SmoothStepEdgeInternal";function BL(e){return x.memo(({id:t,...r})=>{var a;const n=e.isInternal?void 0:t;return s.jsx(FL,{...r,id:n,pathOptions:x.useMemo(()=>{var i;return{borderRadius:0,offset:(i=r.pathOptions)==null?void 0:i.offset}},[(a=r.pathOptions)==null?void 0:a.offset])})})}const tY=BL({isInternal:!1}),UL=BL({isInternal:!0});tY.displayName="StepEdge";UL.displayName="StepEdgeInternal";function HL(e){return x.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:y,interactionWidth:b})=>{const[_,w,k]=sL({sourceX:r,sourceY:n,targetX:a,targetY:i}),j=e.isInternal?void 0:t;return s.jsx(jc,{id:j,path:_,labelX:w,labelY:k,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:y,interactionWidth:b})})}const rY=HL({isInternal:!1}),WL=HL({isInternal:!0});rY.displayName="StraightEdge";WL.displayName="StraightEdgeInternal";function VL(e){return x.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,sourcePosition:o=Se.Bottom,targetPosition:l=Se.Top,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:_,pathOptions:w,interactionWidth:k})=>{const[j,N,P]=nL({sourceX:r,sourceY:n,sourcePosition:o,targetX:a,targetY:i,targetPosition:l,curvature:w==null?void 0:w.curvature}),C=e.isInternal?void 0:t;return s.jsx(jc,{id:C,path:j,labelX:N,labelY:P,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:_,interactionWidth:k})})}const nY=VL({isInternal:!1}),KL=VL({isInternal:!0});nY.displayName="BezierEdge";KL.displayName="BezierEdgeInternal";const vP={default:KL,straight:WL,step:UL,smoothstep:$L,simplebezier:RL},bP={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},aY=(e,t,r)=>r===Se.Left?e-t:r===Se.Right?e+t:e,iY=(e,t,r)=>r===Se.Top?e-t:r===Se.Bottom?e+t:e,wP="react-flow__edgeupdater";function _P({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:i,onMouseOut:o,type:l}){return s.jsx("circle",{onMouseDown:a,onMouseEnter:i,onMouseOut:o,className:Bt([wP,`${wP}-${l}`]),cx:aY(t,n,e),cy:iY(r,n,e),r:n,stroke:"transparent",fill:"transparent"})}function sY({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:n,sourceY:a,targetX:i,targetY:o,sourcePosition:l,targetPosition:u,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,setReconnecting:p,setUpdateHover:g}){const y=gt(),b=(N,P)=>{if(N.button!==0)return;const{autoPanOnConnect:C,domNode:A,isValidConnection:O,connectionMode:T,connectionRadius:$,lib:I,onConnectStart:z,onConnectEnd:U,cancelConnection:F,nodeLookup:q,rfId:H,panBy:W,updateConnection:M}=y.getState(),D=P.type==="target",B=(Z,Q)=>{p(!1),h==null||h(Z,r,P.type,Q)},V=Z=>d==null?void 0:d(r,Z),G=(Z,Q)=>{p(!0),f==null||f(N,r,P.type),z==null||z(Z,Q)};ew.onPointerDown(N.nativeEvent,{autoPanOnConnect:C,connectionMode:T,connectionRadius:$,domNode:A,handleId:P.id,nodeId:P.nodeId,nodeLookup:q,isTarget:D,edgeUpdaterType:P.type,lib:I,flowId:H,cancelConnection:F,panBy:W,isValidConnection:O,onConnect:V,onConnectStart:G,onConnectEnd:U,onReconnectEnd:B,updateConnection:M,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold,handleDomNode:N.currentTarget})},_=N=>b(N,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),w=N=>b(N,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),k=()=>g(!0),j=()=>g(!1);return s.jsxs(s.Fragment,{children:[(e===!0||e==="source")&&s.jsx(_P,{position:l,centerX:n,centerY:a,radius:t,onMouseDown:_,onMouseEnter:k,onMouseOut:j,type:"source"}),(e===!0||e==="target")&&s.jsx(_P,{position:u,centerX:i,centerY:o,radius:t,onMouseDown:w,onMouseEnter:k,onMouseOut:j,type:"target"})]})}function oY({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:n,onClick:a,onDoubleClick:i,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,reconnectRadius:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:g,rfId:y,edgeTypes:b,noPanClassName:_,onError:w,disableKeyboardA11y:k}){let j=$e(te=>te.edgeLookup.get(e));const N=$e(te=>te.defaultEdgeOptions);j=N?{...N,...j}:j;let P=j.type||"default",C=(b==null?void 0:b[P])||vP[P];C===void 0&&(w==null||w("011",Fa.error011(P)),P="default",C=(b==null?void 0:b.default)||vP.default);const A=!!(j.focusable||t&&typeof j.focusable>"u"),O=typeof h<"u"&&(j.reconnectable||r&&typeof j.reconnectable>"u"),T=!!(j.selectable||n&&typeof j.selectable>"u"),$=x.useRef(null),[I,z]=x.useState(!1),[U,F]=x.useState(!1),q=gt(),{zIndex:H,sourceX:W,sourceY:M,targetX:D,targetY:B,sourcePosition:V,targetPosition:G}=$e(x.useCallback(te=>{const pe=te.nodeLookup.get(j.source),we=te.nodeLookup.get(j.target);if(!pe||!we)return{zIndex:j.zIndex,...bP};const Oe=sq({id:e,sourceNode:pe,targetNode:we,sourceHandle:j.sourceHandle||null,targetHandle:j.targetHandle||null,connectionMode:te.connectionMode,onError:w});return{zIndex:JK({selected:j.selected,zIndex:j.zIndex,sourceNode:pe,targetNode:we,elevateOnSelect:te.elevateEdgesOnSelect,zIndexMode:te.zIndexMode}),...Oe||bP}},[j.source,j.target,j.sourceHandle,j.targetHandle,j.selected,j.zIndex]),pt),Z=x.useMemo(()=>j.markerStart?`url('#${Qb(j.markerStart,y)}')`:void 0,[j.markerStart,y]),Q=x.useMemo(()=>j.markerEnd?`url('#${Qb(j.markerEnd,y)}')`:void 0,[j.markerEnd,y]);if(j.hidden||W===null||M===null||D===null||B===null)return null;const ie=te=>{var Pe;const{addSelectedEdges:pe,unselectNodesAndEdges:we,multiSelectionActive:Oe}=q.getState();T&&(q.setState({nodesSelectionActive:!1}),j.selected&&Oe?(we({nodes:[],edges:[j]}),(Pe=$.current)==null||Pe.blur()):pe([e])),a&&a(te,j)},se=i?te=>{i(te,{...j})}:void 0,oe=o?te=>{o(te,{...j})}:void 0,le=l?te=>{l(te,{...j})}:void 0,X=u?te=>{u(te,{...j})}:void 0,me=d?te=>{d(te,{...j})}:void 0,fe=te=>{var pe;if(!k&&UI.includes(te.key)&&T){const{unselectNodesAndEdges:we,addSelectedEdges:Oe}=q.getState();te.key==="Escape"?((pe=$.current)==null||pe.blur(),we({edges:[j]})):Oe([e])}};return s.jsx("svg",{style:{zIndex:H},children:s.jsxs("g",{className:Bt(["react-flow__edge",`react-flow__edge-${P}`,j.className,_,{selected:j.selected,animated:j.animated,inactive:!T&&!a,updating:I,selectable:T}]),onClick:ie,onDoubleClick:se,onContextMenu:oe,onMouseEnter:le,onMouseMove:X,onMouseLeave:me,onKeyDown:A?fe:void 0,tabIndex:A?0:void 0,role:j.ariaRole??(A?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":j.ariaLabel===null?void 0:j.ariaLabel||`Edge from ${j.source} to ${j.target}`,"aria-describedby":A?`${wL}-${y}`:void 0,ref:$,...j.domAttributes,children:[!U&&s.jsx(C,{id:e,source:j.source,target:j.target,type:j.type,selected:j.selected,animated:j.animated,selectable:T,deletable:j.deletable??!0,label:j.label,labelStyle:j.labelStyle,labelShowBg:j.labelShowBg,labelBgStyle:j.labelBgStyle,labelBgPadding:j.labelBgPadding,labelBgBorderRadius:j.labelBgBorderRadius,sourceX:W,sourceY:M,targetX:D,targetY:B,sourcePosition:V,targetPosition:G,data:j.data,style:j.style,sourceHandleId:j.sourceHandle,targetHandleId:j.targetHandle,markerStart:Z,markerEnd:Q,pathOptions:"pathOptions"in j?j.pathOptions:void 0,interactionWidth:j.interactionWidth}),O&&s.jsx(sY,{edge:j,isReconnectable:O,reconnectRadius:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:g,sourceX:W,sourceY:M,targetX:D,targetY:B,sourcePosition:V,targetPosition:G,setUpdateHover:z,setReconnecting:F})]})})}var lY=x.memo(oY);const cY=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function qL({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:n,noPanClassName:a,onReconnect:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:f,reconnectRadius:h,onEdgeDoubleClick:p,onReconnectStart:g,onReconnectEnd:y,disableKeyboardA11y:b}){const{edgesFocusable:_,edgesReconnectable:w,elementsSelectable:k,onError:j}=$e(cY,pt),N=qZ(t);return s.jsxs("div",{className:"react-flow__edges",children:[s.jsx(QZ,{defaultColor:e,rfId:r}),N.map(P=>s.jsx(lY,{id:P,edgesFocusable:_,edgesReconnectable:w,elementsSelectable:k,noPanClassName:a,onReconnect:i,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:f,reconnectRadius:h,onDoubleClick:p,onReconnectStart:g,onReconnectEnd:y,rfId:r,onError:j,edgeTypes:n,disableKeyboardA11y:b},P))]})}qL.displayName="EdgeRenderer";const uY=x.memo(qL),dY=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function fY({children:e}){const t=$e(dY);return s.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function hY(e){const t=Uc(),r=x.useRef(!1);x.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const mY=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function pY(e){const t=$e(mY),r=gt();return x.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function gY(e){return e.connection.inProgress?{...e.connection,to:_f(e.connection.to,e.transform)}:{...e.connection}}function yY(e){return gY}function xY(e){const t=yY();return $e(t,pt)}const vY=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function bY({containerStyle:e,style:t,type:r,component:n}){const{nodesConnectable:a,width:i,height:o,isValid:l,inProgress:u}=$e(vY,pt);return!(i&&a&&u)?null:s.jsx("svg",{style:e,width:i,height:o,className:"react-flow__connectionline react-flow__container",children:s.jsx("g",{className:Bt(["react-flow__connection",VI(l)]),children:s.jsx(ZL,{style:t,type:r,CustomComponent:n,isValid:l})})})}const ZL=({style:e,type:t=as.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:a,from:i,fromNode:o,fromHandle:l,fromPosition:u,to:d,toNode:f,toHandle:h,toPosition:p,pointer:g}=xY();if(!a)return;if(r)return s.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:l,fromX:i.x,fromY:i.y,toX:d.x,toY:d.y,fromPosition:u,toPosition:p,connectionStatus:VI(n),toNode:f,toHandle:h,pointer:g});let y="";const b={sourceX:i.x,sourceY:i.y,sourcePosition:u,targetX:d.x,targetY:d.y,targetPosition:p};switch(t){case as.Bezier:[y]=nL(b);break;case as.SimpleBezier:[y]=LL(b);break;case as.Step:[y]=Ip({...b,borderRadius:0});break;case as.SmoothStep:[y]=Ip(b);break;default:[y]=sL(b)}return s.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};ZL.displayName="ConnectionLine";const wY={};function jP(e=wY){x.useRef(e),gt(),x.useEffect(()=>{},[e])}function _Y(){gt(),x.useRef(!1),x.useEffect(()=>{},[])}function YL({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:n,onEdgeClick:a,onNodeDoubleClick:i,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:p,onSelectionEnd:g,connectionLineType:y,connectionLineStyle:b,connectionLineComponent:_,connectionLineContainerStyle:w,selectionKeyCode:k,selectionOnDrag:j,selectionMode:N,multiSelectionKeyCode:P,panActivationKeyCode:C,zoomActivationKeyCode:A,deleteKeyCode:O,onlyRenderVisibleElements:T,elementsSelectable:$,defaultViewport:I,translateExtent:z,minZoom:U,maxZoom:F,preventScrolling:q,defaultMarkerColor:H,zoomOnScroll:W,zoomOnPinch:M,panOnScroll:D,panOnScrollSpeed:B,panOnScrollMode:V,zoomOnDoubleClick:G,panOnDrag:Z,onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:se,onPaneMouseLeave:oe,onPaneScroll:le,onPaneContextMenu:X,paneClickDistance:me,nodeClickDistance:fe,onEdgeContextMenu:te,onEdgeMouseEnter:pe,onEdgeMouseMove:we,onEdgeMouseLeave:Oe,reconnectRadius:Pe,onReconnect:Ve,onReconnectStart:Ht,onReconnectEnd:Br,noDragClassName:ee,noWheelClassName:he,noPanClassName:Ne,disableKeyboardA11y:_e,nodeExtent:Re,rfId:dt,viewport:Qt,onViewportChange:St}){return jP(e),jP(t),_Y(),hY(r),pY(Qt),s.jsx(RZ,{onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:se,onPaneMouseLeave:oe,onPaneContextMenu:X,onPaneScroll:le,paneClickDistance:me,deleteKeyCode:O,selectionKeyCode:k,selectionOnDrag:j,selectionMode:N,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:P,panActivationKeyCode:C,zoomActivationKeyCode:A,elementsSelectable:$,zoomOnScroll:W,zoomOnPinch:M,zoomOnDoubleClick:G,panOnScroll:D,panOnScrollSpeed:B,panOnScrollMode:V,panOnDrag:Z,defaultViewport:I,translateExtent:z,minZoom:U,maxZoom:F,onSelectionContextMenu:h,preventScrolling:q,noDragClassName:ee,noWheelClassName:he,noPanClassName:Ne,disableKeyboardA11y:_e,onViewportChange:St,isControlledViewport:!!Qt,children:s.jsxs(fY,{children:[s.jsx(uY,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:o,onReconnect:Ve,onReconnectStart:Ht,onReconnectEnd:Br,onlyRenderVisibleElements:T,onEdgeContextMenu:te,onEdgeMouseEnter:pe,onEdgeMouseMove:we,onEdgeMouseLeave:Oe,reconnectRadius:Pe,defaultMarkerColor:H,noPanClassName:Ne,disableKeyboardA11y:_e,rfId:dt}),s.jsx(bY,{style:b,type:y,component:_,containerStyle:w}),s.jsx("div",{className:"react-flow__edgelabel-renderer"}),s.jsx(KZ,{nodeTypes:e,onNodeClick:n,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:fe,onlyRenderVisibleElements:T,noPanClassName:Ne,noDragClassName:ee,disableKeyboardA11y:_e,nodeExtent:Re,rfId:dt}),s.jsx("div",{className:"react-flow__viewport-portal"})]})})}YL.displayName="GraphView";const jY=x.memo(YL),kP=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:o,fitViewOptions:l,minZoom:u=.5,maxZoom:d=2,nodeOrigin:f,nodeExtent:h,zIndexMode:p="basic"}={})=>{const g=new Map,y=new Map,b=new Map,_=new Map,w=n??t??[],k=r??e??[],j=f??[0,0],N=h??Id;cL(b,_,w);const P=Jb(k,g,y,{nodeOrigin:j,nodeExtent:N,zIndexMode:p});let C=[0,0,1];if(o&&a&&i){const A=bf(g,{filter:I=>!!((I.width||I.initialWidth)&&(I.height||I.initialHeight))}),{x:O,y:T,zoom:$}=P1(A,a,i,u,d,(l==null?void 0:l.padding)??.1);C=[O,T,$]}return{rfId:"1",width:a??0,height:i??0,transform:C,nodes:k,nodesInitialized:P,nodeLookup:g,parentLookup:y,edges:w,edgeLookup:_,connectionLookup:b,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:u,maxZoom:d,translateExtent:Id,nodeExtent:N,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:yc.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:j,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:l,fitViewResolver:null,connection:{...WI},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:qK,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:HI,zIndexMode:p,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},kY=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:o,fitViewOptions:l,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:p})=>Uq((g,y)=>{async function b(){const{nodeLookup:_,panZoom:w,fitViewOptions:k,fitViewResolver:j,width:N,height:P,minZoom:C,maxZoom:A}=y();w&&(await VK({nodes:_,width:N,height:P,panZoom:w,minZoom:C,maxZoom:A},k),j==null||j.resolve(!0),g({fitViewResolver:null}))}return{...kP({nodes:e,edges:t,width:a,height:i,fitView:o,fitViewOptions:l,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:h,defaultNodes:r,defaultEdges:n,zIndexMode:p}),setNodes:_=>{const{nodeLookup:w,parentLookup:k,nodeOrigin:j,elevateNodesOnSelect:N,fitViewQueued:P,zIndexMode:C}=y(),A=Jb(_,w,k,{nodeOrigin:j,nodeExtent:h,elevateNodesOnSelect:N,checkEquality:!0,zIndexMode:C});P&&A?(b(),g({nodes:_,nodesInitialized:A,fitViewQueued:!1,fitViewOptions:void 0})):g({nodes:_,nodesInitialized:A})},setEdges:_=>{const{connectionLookup:w,edgeLookup:k}=y();cL(w,k,_),g({edges:_})},setDefaultNodesAndEdges:(_,w)=>{if(_){const{setNodes:k}=y();k(_),g({hasDefaultNodes:!0})}if(w){const{setEdges:k}=y();k(w),g({hasDefaultEdges:!0})}},updateNodeInternals:_=>{const{triggerNodeChanges:w,nodeLookup:k,parentLookup:j,domNode:N,nodeOrigin:P,nodeExtent:C,debug:A,fitViewQueued:O,zIndexMode:T}=y(),{changes:$,updatedInternals:I}=mq(_,k,j,N,P,C,T);I&&(uq(k,j,{nodeOrigin:P,nodeExtent:C,zIndexMode:T}),O?(b(),g({fitViewQueued:!1,fitViewOptions:void 0})):g({}),($==null?void 0:$.length)>0&&(A&&console.log("React Flow: trigger node changes",$),w==null||w($)))},updateNodePositions:(_,w=!1)=>{const k=[];let j=[];const{nodeLookup:N,triggerNodeChanges:P,connection:C,updateConnection:A,onNodesChangeMiddlewareMap:O}=y();for(const[T,$]of _){const I=N.get(T),z=!!(I!=null&&I.expandParent&&(I!=null&&I.parentId)&&($!=null&&$.position)),U={id:T,type:"position",position:z?{x:Math.max(0,$.position.x),y:Math.max(0,$.position.y)}:$.position,dragging:w};if(I&&C.inProgress&&C.fromNode.id===I.id){const F=Ko(I,C.fromHandle,Se.Left,!0);A({...C,from:F})}z&&I.parentId&&k.push({id:T,parentId:I.parentId,rect:{...$.internals.positionAbsolute,width:$.measured.width??0,height:$.measured.height??0}}),j.push(U)}if(k.length>0){const{parentLookup:T,nodeOrigin:$}=y(),I=M1(k,N,T,$);j.push(...I)}for(const T of O.values())j=T(j);P(j)},triggerNodeChanges:_=>{const{onNodesChange:w,setNodes:k,nodes:j,hasDefaultNodes:N,debug:P}=y();if(_!=null&&_.length){if(N){const C=kL(_,j);k(C)}P&&console.log("React Flow: trigger node changes",_),w==null||w(_)}},triggerEdgeChanges:_=>{const{onEdgesChange:w,setEdges:k,edges:j,hasDefaultEdges:N,debug:P}=y();if(_!=null&&_.length){if(N){const C=NL(_,j);k(C)}P&&console.log("React Flow: trigger edge changes",_),w==null||w(_)}},addSelectedNodes:_=>{const{multiSelectionActive:w,edgeLookup:k,nodeLookup:j,triggerNodeChanges:N,triggerEdgeChanges:P}=y();if(w){const C=_.map(A=>no(A,!0));N(C);return}N(Dl(j,new Set([..._]),!0)),P(Dl(k))},addSelectedEdges:_=>{const{multiSelectionActive:w,edgeLookup:k,nodeLookup:j,triggerNodeChanges:N,triggerEdgeChanges:P}=y();if(w){const C=_.map(A=>no(A,!0));P(C);return}P(Dl(k,new Set([..._]))),N(Dl(j,new Set,!0))},unselectNodesAndEdges:({nodes:_,edges:w}={})=>{const{edges:k,nodes:j,nodeLookup:N,triggerNodeChanges:P,triggerEdgeChanges:C}=y(),A=_||j,O=w||k,T=A.map(I=>{const z=N.get(I.id);return z&&(z.selected=!1),no(I.id,!1)}),$=O.map(I=>no(I.id,!1));P(T),C($)},setMinZoom:_=>{const{panZoom:w,maxZoom:k}=y();w==null||w.setScaleExtent([_,k]),g({minZoom:_})},setMaxZoom:_=>{const{panZoom:w,minZoom:k}=y();w==null||w.setScaleExtent([k,_]),g({maxZoom:_})},setTranslateExtent:_=>{var w;(w=y().panZoom)==null||w.setTranslateExtent(_),g({translateExtent:_})},resetSelectedElements:()=>{const{edges:_,nodes:w,triggerNodeChanges:k,triggerEdgeChanges:j,elementsSelectable:N}=y();if(!N)return;const P=w.reduce((A,O)=>O.selected?[...A,no(O.id,!1)]:A,[]),C=_.reduce((A,O)=>O.selected?[...A,no(O.id,!1)]:A,[]);k(P),j(C)},setNodeExtent:_=>{const{nodes:w,nodeLookup:k,parentLookup:j,nodeOrigin:N,elevateNodesOnSelect:P,nodeExtent:C,zIndexMode:A}=y();_[0][0]===C[0][0]&&_[0][1]===C[0][1]&&_[1][0]===C[1][0]&&_[1][1]===C[1][1]||(Jb(w,k,j,{nodeOrigin:N,nodeExtent:_,elevateNodesOnSelect:P,checkEquality:!1,zIndexMode:A}),g({nodeExtent:_}))},panBy:_=>{const{transform:w,width:k,height:j,panZoom:N,translateExtent:P}=y();return pq({delta:_,panZoom:N,transform:w,translateExtent:P,width:k,height:j})},setCenter:async(_,w,k)=>{const{width:j,height:N,maxZoom:P,panZoom:C}=y();if(!C)return Promise.resolve(!1);const A=typeof(k==null?void 0:k.zoom)<"u"?k.zoom:P;return await C.setViewport({x:j/2-_*A,y:N/2-w*A,zoom:A},{duration:k==null?void 0:k.duration,ease:k==null?void 0:k.ease,interpolate:k==null?void 0:k.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{g({connection:{...WI}})},updateConnection:_=>{g({connection:_})},reset:()=>g({...kP()})}},Object.is);function GL({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:n,initialWidth:a,initialHeight:i,initialMinZoom:o,initialMaxZoom:l,initialFitViewOptions:u,fitView:d,nodeOrigin:f,nodeExtent:h,zIndexMode:p,children:g}){const[y]=x.useState(()=>kY({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:d,minZoom:o,maxZoom:l,fitViewOptions:u,nodeOrigin:f,nodeExtent:h,zIndexMode:p}));return s.jsx(Hq,{value:y,children:s.jsx(fZ,{children:g})})}function NY({children:e,nodes:t,edges:r,defaultNodes:n,defaultEdges:a,width:i,height:o,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:h,nodeExtent:p,zIndexMode:g}){return x.useContext(h0)?s.jsx(s.Fragment,{children:e}):s.jsx(GL,{initialNodes:t,initialEdges:r,defaultNodes:n,defaultEdges:a,initialWidth:i,initialHeight:o,fitView:l,initialFitViewOptions:u,initialMinZoom:d,initialMaxZoom:f,nodeOrigin:h,nodeExtent:p,zIndexMode:g,children:e})}const SY={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function PY({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:i,edgeTypes:o,onNodeClick:l,onEdgeClick:u,onInit:d,onMove:f,onMoveStart:h,onMoveEnd:p,onConnect:g,onConnectStart:y,onConnectEnd:b,onClickConnectStart:_,onClickConnectEnd:w,onNodeMouseEnter:k,onNodeMouseMove:j,onNodeMouseLeave:N,onNodeContextMenu:P,onNodeDoubleClick:C,onNodeDragStart:A,onNodeDrag:O,onNodeDragStop:T,onNodesDelete:$,onEdgesDelete:I,onDelete:z,onSelectionChange:U,onSelectionDragStart:F,onSelectionDrag:q,onSelectionDragStop:H,onSelectionContextMenu:W,onSelectionStart:M,onSelectionEnd:D,onBeforeDelete:B,connectionMode:V,connectionLineType:G=as.Bezier,connectionLineStyle:Z,connectionLineComponent:Q,connectionLineContainerStyle:ie,deleteKeyCode:se="Backspace",selectionKeyCode:oe="Shift",selectionOnDrag:le=!1,selectionMode:X=Ld.Full,panActivationKeyCode:me="Space",multiSelectionKeyCode:fe=Rd()?"Meta":"Control",zoomActivationKeyCode:te=Rd()?"Meta":"Control",snapToGrid:pe,snapGrid:we,onlyRenderVisibleElements:Oe=!1,selectNodesOnDrag:Pe,nodesDraggable:Ve,autoPanOnNodeFocus:Ht,nodesConnectable:Br,nodesFocusable:ee,nodeOrigin:he=_L,edgesFocusable:Ne,edgesReconnectable:_e,elementsSelectable:Re=!0,defaultViewport:dt=rZ,minZoom:Qt=.5,maxZoom:St=2,translateExtent:Ur=Id,preventScrolling:Dt=!0,nodeExtent:Pt,defaultMarkerColor:Hr="#b1b1b7",zoomOnScroll:Ya=!0,zoomOnPinch:Tt=!0,panOnScroll:Nn=!1,panOnScrollSpeed:Jf=.5,panOnScrollMode:by=To.Free,zoomOnDoubleClick:qs=!0,panOnDrag:wy=!0,onPaneClick:_y,onPaneMouseEnter:eh,onPaneMouseMove:th,onPaneMouseLeave:rh,onPaneScroll:jy,onPaneContextMenu:ky,paneClickDistance:Ny=1,nodeClickDistance:Sy=0,children:Py,onReconnect:Cy,onReconnectStart:tu,onReconnectEnd:Ey,onEdgeContextMenu:Oy,onEdgeDoubleClick:Ay,onEdgeMouseEnter:Ty,onEdgeMouseMove:Sn,onEdgeMouseLeave:ke,reconnectRadius:nh=10,onNodesChange:ah,onEdgesChange:ih,noDragClassName:sh="nodrag",noWheelClassName:ru="nowheel",noPanClassName:nu="nopan",fitView:Ga,fitViewOptions:au,connectOnClick:My,attributionPosition:Iy,proOptions:Ly,defaultEdgeOptions:Dy,elevateNodesOnSelect:oh=!0,elevateEdgesOnSelect:Ry=!1,disableKeyboardA11y:Zs=!1,autoPanOnConnect:zy,autoPanOnNodeDrag:Fy,autoPanSpeed:$y,connectionRadius:By,isValidConnection:Uy,onError:iu,style:Ys,id:su,nodeDragThreshold:lh,connectionDragThreshold:Gs,viewport:Be,onViewportChange:it,width:sl,height:Ui,colorMode:Hi="light",debug:ou,onScroll:Ae,ariaLabelConfig:vt,zIndexMode:ol="basic",...ll},Wr){const lu=su||"1",cl=sZ(Hi),Xa=x.useCallback(bt=>{bt.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ae==null||Ae(bt)},[Ae]);return s.jsx("div",{"data-testid":"rf__wrapper",...ll,onScroll:Xa,style:{...Ys,...SY},ref:Wr,className:Bt(["react-flow",a,cl]),id:su,role:"application",children:s.jsxs(NY,{nodes:e,edges:t,width:sl,height:Ui,fitView:Ga,fitViewOptions:au,minZoom:Qt,maxZoom:St,nodeOrigin:he,nodeExtent:Pt,zIndexMode:ol,children:[s.jsx(jY,{onInit:d,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:k,onNodeMouseMove:j,onNodeMouseLeave:N,onNodeContextMenu:P,onNodeDoubleClick:C,nodeTypes:i,edgeTypes:o,connectionLineType:G,connectionLineStyle:Z,connectionLineComponent:Q,connectionLineContainerStyle:ie,selectionKeyCode:oe,selectionOnDrag:le,selectionMode:X,deleteKeyCode:se,multiSelectionKeyCode:fe,panActivationKeyCode:me,zoomActivationKeyCode:te,onlyRenderVisibleElements:Oe,defaultViewport:dt,translateExtent:Ur,minZoom:Qt,maxZoom:St,preventScrolling:Dt,zoomOnScroll:Ya,zoomOnPinch:Tt,zoomOnDoubleClick:qs,panOnScroll:Nn,panOnScrollSpeed:Jf,panOnScrollMode:by,panOnDrag:wy,onPaneClick:_y,onPaneMouseEnter:eh,onPaneMouseMove:th,onPaneMouseLeave:rh,onPaneScroll:jy,onPaneContextMenu:ky,paneClickDistance:Ny,nodeClickDistance:Sy,onSelectionContextMenu:W,onSelectionStart:M,onSelectionEnd:D,onReconnect:Cy,onReconnectStart:tu,onReconnectEnd:Ey,onEdgeContextMenu:Oy,onEdgeDoubleClick:Ay,onEdgeMouseEnter:Ty,onEdgeMouseMove:Sn,onEdgeMouseLeave:ke,reconnectRadius:nh,defaultMarkerColor:Hr,noDragClassName:sh,noWheelClassName:ru,noPanClassName:nu,rfId:lu,disableKeyboardA11y:Zs,nodeExtent:Pt,viewport:Be,onViewportChange:it}),s.jsx(iZ,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:g,onConnectStart:y,onConnectEnd:b,onClickConnectStart:_,onClickConnectEnd:w,nodesDraggable:Ve,autoPanOnNodeFocus:Ht,nodesConnectable:Br,nodesFocusable:ee,edgesFocusable:Ne,edgesReconnectable:_e,elementsSelectable:Re,elevateNodesOnSelect:oh,elevateEdgesOnSelect:Ry,minZoom:Qt,maxZoom:St,nodeExtent:Pt,onNodesChange:ah,onEdgesChange:ih,snapToGrid:pe,snapGrid:we,connectionMode:V,translateExtent:Ur,connectOnClick:My,defaultEdgeOptions:Dy,fitView:Ga,fitViewOptions:au,onNodesDelete:$,onEdgesDelete:I,onDelete:z,onNodeDragStart:A,onNodeDrag:O,onNodeDragStop:T,onSelectionDrag:q,onSelectionDragStart:F,onSelectionDragStop:H,onMove:f,onMoveStart:h,onMoveEnd:p,noPanClassName:nu,nodeOrigin:he,rfId:lu,autoPanOnConnect:zy,autoPanOnNodeDrag:Fy,autoPanSpeed:$y,onError:iu,connectionRadius:By,isValidConnection:Uy,selectNodesOnDrag:Pe,nodeDragThreshold:lh,connectionDragThreshold:Gs,onBeforeDelete:B,debug:ou,ariaLabelConfig:vt,zIndexMode:ol}),s.jsx(tZ,{onSelectionChange:U}),Py,s.jsx(Gq,{proOptions:Ly,position:Iy}),s.jsx(Yq,{rfId:lu,disableKeyboardA11y:Zs})]})})}var CY=SL(PY);const EY=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function OY({children:e}){const t=$e(EY);return t?Rc.createPortal(e,t):null}function AY({dimensions:e,lineWidth:t,variant:r,className:n}){return s.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Bt(["react-flow__background-pattern",r,n])})}function TY({radius:e,className:t}){return s.jsx("circle",{cx:e,cy:e,r:e,className:Bt(["react-flow__background-pattern","dots",t])})}var Os;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Os||(Os={}));const MY={[Os.Dots]:1,[Os.Lines]:1,[Os.Cross]:6},IY=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function XL({id:e,variant:t=Os.Dots,gap:r=20,size:n,lineWidth:a=1,offset:i=0,color:o,bgColor:l,style:u,className:d,patternClassName:f}){const h=x.useRef(null),{transform:p,patternId:g}=$e(IY,pt),y=n||MY[t],b=t===Os.Dots,_=t===Os.Cross,w=Array.isArray(r)?r:[r,r],k=[w[0]*p[2]||1,w[1]*p[2]||1],j=y*p[2],N=Array.isArray(i)?i:[i,i],P=_?[j,j]:k,C=[N[0]*p[2]||1+P[0]/2,N[1]*p[2]||1+P[1]/2],A=`${g}${e||""}`;return s.jsxs("svg",{className:Bt(["react-flow__background",d]),style:{...u,...p0,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:h,"data-testid":"rf__background",children:[s.jsx("pattern",{id:A,x:p[0]%k[0],y:p[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`,children:b?s.jsx(TY,{radius:j/2,className:f}):s.jsx(AY,{dimensions:P,lineWidth:a,variant:t,className:f})}),s.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${A})`})]})}XL.displayName="Background";const LY=x.memo(XL);function DY(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:s.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function RY(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:s.jsx("path",{d:"M0 0h32v4.2H0z"})})}function zY(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:s.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function FY(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function $Y(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function em({children:e,className:t,...r}){return s.jsx("button",{type:"button",className:Bt(["react-flow__controls-button",t]),...r,children:e})}const BY=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function QL({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:u,className:d,children:f,position:h="bottom-left",orientation:p="vertical","aria-label":g}){const y=gt(),{isInteractive:b,minZoomReached:_,maxZoomReached:w,ariaLabelConfig:k}=$e(BY,pt),{zoomIn:j,zoomOut:N,fitView:P}=Uc(),C=()=>{j(),i==null||i()},A=()=>{N(),o==null||o()},O=()=>{P(a),l==null||l()},T=()=>{y.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),u==null||u(!b)},$=p==="horizontal"?"horizontal":"vertical";return s.jsxs(m0,{className:Bt(["react-flow__controls",$,d]),position:h,style:e,"data-testid":"rf__controls","aria-label":g??k["controls.ariaLabel"],children:[t&&s.jsxs(s.Fragment,{children:[s.jsx(em,{onClick:C,className:"react-flow__controls-zoomin",title:k["controls.zoomIn.ariaLabel"],"aria-label":k["controls.zoomIn.ariaLabel"],disabled:w,children:s.jsx(DY,{})}),s.jsx(em,{onClick:A,className:"react-flow__controls-zoomout",title:k["controls.zoomOut.ariaLabel"],"aria-label":k["controls.zoomOut.ariaLabel"],disabled:_,children:s.jsx(RY,{})})]}),r&&s.jsx(em,{className:"react-flow__controls-fitview",onClick:O,title:k["controls.fitView.ariaLabel"],"aria-label":k["controls.fitView.ariaLabel"],children:s.jsx(zY,{})}),n&&s.jsx(em,{className:"react-flow__controls-interactive",onClick:T,title:k["controls.interactive.ariaLabel"],"aria-label":k["controls.interactive.ariaLabel"],children:b?s.jsx($Y,{}):s.jsx(FY,{})}),f]})}QL.displayName="Controls";const UY=x.memo(QL);function HY({id:e,x:t,y:r,width:n,height:a,style:i,color:o,strokeColor:l,strokeWidth:u,className:d,borderRadius:f,shapeRendering:h,selected:p,onClick:g}){const{background:y,backgroundColor:b}=i||{},_=o||y||b;return s.jsx("rect",{className:Bt(["react-flow__minimap-node",{selected:p},d]),x:t,y:r,rx:f,ry:f,width:n,height:a,style:{fill:_,stroke:l,strokeWidth:u},shapeRendering:h,onClick:g?w=>g(w,e):void 0})}const WY=x.memo(HY),VY=e=>e.nodes.map(t=>t.id),Jx=e=>e instanceof Function?e:()=>e;function KY({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:a,nodeComponent:i=WY,onClick:o}){const l=$e(VY,pt),u=Jx(t),d=Jx(e),f=Jx(r),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return s.jsx(s.Fragment,{children:l.map(p=>s.jsx(ZY,{id:p,nodeColorFunc:u,nodeStrokeColorFunc:d,nodeClassNameFunc:f,nodeBorderRadius:n,nodeStrokeWidth:a,NodeComponent:i,onClick:o,shapeRendering:h},p))})}function qY({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:a,nodeStrokeWidth:i,shapeRendering:o,NodeComponent:l,onClick:u}){const{node:d,x:f,y:h,width:p,height:g}=$e(y=>{const{internals:b}=y.nodeLookup.get(e),_=b.userNode,{x:w,y:k}=b.positionAbsolute,{width:j,height:N}=Ri(_);return{node:_,x:w,y:k,width:j,height:N}},pt);return!d||d.hidden||!XI(d)?null:s.jsx(l,{x:f,y:h,width:p,height:g,style:d.style,selected:!!d.selected,className:n(d),color:t(d),borderRadius:a,strokeColor:r(d),strokeWidth:i,shapeRendering:o,onClick:u,id:d.id})}const ZY=x.memo(qY);var YY=x.memo(KY);const GY=200,XY=150,QY=e=>!e.hidden,JY=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?GI(bf(e.nodeLookup,{filter:QY}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},eG="react-flow__minimap-desc";function JL({style:e,className:t,nodeStrokeColor:r,nodeColor:n,nodeClassName:a="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:u,maskColor:d,maskStrokeColor:f,maskStrokeWidth:h,position:p="bottom-right",onClick:g,onNodeClick:y,pannable:b=!1,zoomable:_=!1,ariaLabel:w,inversePan:k,zoomStep:j=1,offsetScale:N=5}){const P=gt(),C=x.useRef(null),{boundingRect:A,viewBB:O,rfId:T,panZoom:$,translateExtent:I,flowWidth:z,flowHeight:U,ariaLabelConfig:F}=$e(JY,pt),q=(e==null?void 0:e.width)??GY,H=(e==null?void 0:e.height)??XY,W=A.width/q,M=A.height/H,D=Math.max(W,M),B=D*q,V=D*H,G=N*D,Z=A.x-(B-A.width)/2-G,Q=A.y-(V-A.height)/2-G,ie=B+G*2,se=V+G*2,oe=`${eG}-${T}`,le=x.useRef(0),X=x.useRef();le.current=D,x.useEffect(()=>{if(C.current&&$)return X.current=kq({domNode:C.current,panZoom:$,getTransform:()=>P.getState().transform,getViewScale:()=>le.current}),()=>{var pe;(pe=X.current)==null||pe.destroy()}},[$]),x.useEffect(()=>{var pe;(pe=X.current)==null||pe.update({translateExtent:I,width:z,height:U,inversePan:k,pannable:b,zoomStep:j,zoomable:_})},[b,_,k,j,I,z,U]);const me=g?pe=>{var Pe;const[we,Oe]=((Pe=X.current)==null?void 0:Pe.pointer(pe))||[0,0];g(pe,{x:we,y:Oe})}:void 0,fe=y?x.useCallback((pe,we)=>{const Oe=P.getState().nodeLookup.get(we).internals.userNode;y(pe,Oe)},[]):void 0,te=w??F["minimap.ariaLabel"];return s.jsx(m0,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*D:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Bt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:s.jsxs("svg",{width:q,height:H,viewBox:`${Z} ${Q} ${ie} ${se}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":oe,ref:C,onClick:me,children:[te&&s.jsx("title",{id:oe,children:te}),s.jsx(YY,{onClick:fe,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:i,nodeClassName:a,nodeStrokeWidth:o,nodeComponent:l}),s.jsx("path",{className:"react-flow__minimap-mask",d:`M${Z-G},${Q-G}h${ie+G*2}v${se+G*2}h${-ie-G*2}z
        M${O.x},${O.y}h${O.width}v${O.height}h${-O.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}JL.displayName="MiniMap";x.memo(JL);const tG=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,rG={[wc.Line]:"right",[wc.Handle]:"bottom-right"};function nG({nodeId:e,position:t,variant:r=wc.Handle,className:n,style:a=void 0,children:i,color:o,minWidth:l=10,minHeight:u=10,maxWidth:d=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:h=!1,resizeDirection:p,autoScale:g=!0,shouldResize:y,onResizeStart:b,onResize:_,onResizeEnd:w}){const k=OL(),j=typeof e=="string"?e:k,N=gt(),P=x.useRef(null),C=r===wc.Handle,A=$e(x.useCallback(tG(C&&g),[C,g]),pt),O=x.useRef(null),T=t??rG[r];x.useEffect(()=>{if(!(!P.current||!j))return O.current||(O.current=zq({domNode:P.current,nodeId:j,getStoreItems:()=>{const{nodeLookup:I,transform:z,snapGrid:U,snapToGrid:F,nodeOrigin:q,domNode:H}=N.getState();return{nodeLookup:I,transform:z,snapGrid:U,snapToGrid:F,nodeOrigin:q,paneDomNode:H}},onChange:(I,z)=>{const{triggerNodeChanges:U,nodeLookup:F,parentLookup:q,nodeOrigin:H}=N.getState(),W=[],M={x:I.x,y:I.y},D=F.get(j);if(D&&D.expandParent&&D.parentId){const B=D.origin??H,V=I.width??D.measured.width??0,G=I.height??D.measured.height??0,Z={id:D.id,parentId:D.parentId,rect:{width:V,height:G,...QI({x:I.x??D.position.x,y:I.y??D.position.y},{width:V,height:G},D.parentId,F,B)}},Q=M1([Z],F,q,H);W.push(...Q),M.x=I.x?Math.max(B[0]*V,I.x):void 0,M.y=I.y?Math.max(B[1]*G,I.y):void 0}if(M.x!==void 0&&M.y!==void 0){const B={id:j,type:"position",position:{...M}};W.push(B)}if(I.width!==void 0&&I.height!==void 0){const V={id:j,type:"dimensions",resizing:!0,setAttributes:p?p==="horizontal"?"width":"height":!0,dimensions:{width:I.width,height:I.height}};W.push(V)}for(const B of z){const V={...B,type:"position"};W.push(V)}U(W)},onEnd:({width:I,height:z})=>{const U={id:j,type:"dimensions",resizing:!1,dimensions:{width:I,height:z}};N.getState().triggerNodeChanges([U])}})),O.current.update({controlPosition:T,boundaries:{minWidth:l,minHeight:u,maxWidth:d,maxHeight:f},keepAspectRatio:h,resizeDirection:p,onResizeStart:b,onResize:_,onResizeEnd:w,shouldResize:y}),()=>{var I;(I=O.current)==null||I.destroy()}},[T,l,u,d,f,h,b,_,w,y]);const $=T.split("-");return s.jsx("div",{className:Bt(["react-flow__resize-control","nodrag",...$,r,n]),ref:P,style:{...a,scale:A,...o&&{[C?"backgroundColor":"borderColor"]:o}},children:i})}x.memo(nG);const hr=[];for(let e=0;e<256;++e)hr.push((e+256).toString(16).slice(1));function aG(e,t=0){return(hr[e[t+0]]+hr[e[t+1]]+hr[e[t+2]]+hr[e[t+3]]+"-"+hr[e[t+4]]+hr[e[t+5]]+"-"+hr[e[t+6]]+hr[e[t+7]]+"-"+hr[e[t+8]]+hr[e[t+9]]+"-"+hr[e[t+10]]+hr[e[t+11]]+hr[e[t+12]]+hr[e[t+13]]+hr[e[t+14]]+hr[e[t+15]]).toLowerCase()}let ev;const iG=new Uint8Array(16);function sG(){if(!ev){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ev=crypto.getRandomValues.bind(crypto)}return ev(iG)}const oG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),NP={randomUUID:oG};function lG(e,t,r){var a;e=e||{};const n=e.random??((a=e.rng)==null?void 0:a.call(e))??sG();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,aG(n)}function e4(e,t,r){return NP.randomUUID&&!e?NP.randomUUID():lG(e)}const Ie=g1((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:r=>e({executionResult:r}),setGraph:(r,n)=>e({nodes:r,edges:n}),onNodesChange:r=>{e({nodes:kL(r,t().nodes)})},onEdgesChange:r=>{e({edges:NL(r,t().edges)})},onConnect:r=>{const n=t().nodes,a=t().edges,i=n.find(l=>l.id===r.source),o=n.find(l=>l.id===r.target);if(i&&o&&i.data.definitionType==="feature_target_split"){let u=o.data.definitionType==="TrainTestSplitter";if(!u){const d=[i.id],f=new Set;for(;d.length>0;){const h=d.shift();if(f.has(h))continue;f.add(h);const p=n.find(y=>y.id===h);if((p==null?void 0:p.data.definitionType)==="TrainTestSplitter"){u=!0;break}const g=a.filter(y=>y.target===h);for(const y of g)d.push(y.source)}}u||alert(`Warning: You are using an X/Y Split without a prior Train-Test Split.

Any processing or modeling done on this data will use 100% of the dataset (Data Leakage).

Recommended: Add a "Train-Test Split" node BEFORE the "Feature-Target Split" node.`)}e({edges:iL(r,t().edges)})},addNode:(r,n,a={})=>{const i=Ke.get(r);if(!i)return console.error(`Node type ${r} not found in registry`),"";const o=`${r}-${e4()}`,l={id:o,type:"custom",position:n,data:{definitionType:r,catalogType:r,...i.getDefaultConfig(),...a}};return e({nodes:[...t().nodes,l]}),o},updateNodeData:(r,n)=>{e({nodes:t().nodes.map(a=>a.id===r?{...a,data:{...a.data,...n}}:a)})},validateGraph:async()=>{const{nodes:r,edges:n}=t();if(r.length===0)return!1;for(const a of r){const i=Ke.get(a.data.definitionType);if(i){const o=i.validate(a.data);if(!o.isValid)return console.warn(`Node ${a.id} validation failed: ${o.message}`),!1}}for(const a of r){const i=Ke.get(a.data.definitionType);if(i&&i.inputs.length>0&&!n.some(l=>l.target===a.id))return console.warn(`Node ${a.id} (${i.label}) is disconnected.`),!1}return!0}})),Hc=g1(e=>({activeView:"canvas",setView:t=>e({activeView:t}),isSidebarOpen:!0,setSidebarOpen:t=>e({isSidebarOpen:t}),isPropertiesPanelExpanded:!1,setPropertiesPanelExpanded:t=>e({isPropertiesPanelExpanded:t}),isResultsPanelExpanded:!0,setResultsPanelExpanded:t=>e({isResultsPanelExpanded:t})})),cG=()=>{const e=Ke.getAll(),t=Ie(d=>d.addNode),{isSidebarOpen:r,setSidebarOpen:n}=Hc(),[a,i]=x.useState(""),o=(d,f)=>{d.dataTransfer.setData("application/reactflow",f),d.dataTransfer.effectAllowed="move"};if(!r)return s.jsx("div",{className:"absolute left-4 top-4 z-50",children:s.jsx("button",{onClick:()=>n(!0),className:"p-2 bg-background border shadow-md rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Expand Components",children:s.jsx(z7,{className:"w-5 h-5"})})});const l=e.filter(d=>d.label.toLowerCase().includes(a.toLowerCase())||d.category.toLowerCase().includes(a.toLowerCase())),u=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return s.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10 transition-all duration-300",children:[s.jsxs("div",{className:"p-4 border-b space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),s.jsx("button",{onClick:()=>n(!1),className:"p-1 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Collapse Sidebar",children:s.jsx(R7,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Bs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:a,onChange:d=>{i(d.target.value)}})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:u.map(d=>{const f=l.filter(h=>h.category===d);return f.length===0?null:s.jsxs("div",{children:[s.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:d}),s.jsx("div",{className:"space-y-2",children:f.map(h=>s.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:p=>{o(p,h.type)},onClick:()=>t(h.type,{x:100,y:100}),children:[s.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:h.icon&&s.jsx(h.icon,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium truncate",children:h.label}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:h.description})]})]},h.type))})]},d)})})]})};function uG(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const{useRef:dG}=Sr;function fG(e){const t=dG();return r=>{const n=e(r);return uG(t.current,n)?t.current:t.current=n}}const hG=x.memo(({id:e,data:t,selected:r})=>{var d;const n=t.definitionType,a=Ke.get(n),{deleteElements:i}=Uc(),o=Ie(f=>f.executionResult),l=(d=o==null?void 0:o.node_results)==null?void 0:d[e],u=f=>{f.stopPropagation(),i({nodes:[{id:e}]})};return a?s.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${r?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[s.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:a.icon&&s.jsx(a.icon,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-sm font-bold",children:a.label}),l&&s.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${l.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:l.status==="success"?s.jsx(x7,{size:10}):s.jsx(u1,{size:10})})]}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:a.category})]}),s.jsx("button",{onClick:u,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:s.jsx(lr,{size:14})})]}),s.jsx("div",{className:"p-3",children:a.component?s.jsx(a.component,{data:t}):s.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),a.inputs.map((f,h)=>s.jsx(_c,{type:"target",position:Se.Left,id:f.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(h+1)*100/(a.inputs.length+1)}%`},children:s.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:f.label})},`input-${f.id}`)),a.outputs.map((f,h)=>s.jsx(_c,{type:"source",position:Se.Right,id:f.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(h+1)*100/(a.outputs.length+1)}%`},children:s.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:f.label})},`output-${f.id}`))]}):s.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[s.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[s.jsx(an,{size:16}),s.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),s.jsxs("div",{className:"text-xs mt-1",children:["Type: ",n]})]})}),mG=({id:e,sourceX:t,sourceY:r,targetX:n,targetY:a,sourcePosition:i,targetPosition:o,style:l={},markerEnd:u})=>{const{deleteElements:d}=Uc(),[f,h,p]=Ip({sourceX:t,sourceY:r,sourcePosition:i,targetX:n,targetY:a,targetPosition:o,borderRadius:24}),g=y=>{y.stopPropagation(),d({edges:[{id:e}]})};return s.jsxs(s.Fragment,{children:[s.jsx(jc,{path:f,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),s.jsx(jc,{path:f,markerEnd:u,style:{...l,strokeWidth:2},className:"react-flow__edge-path"}),s.jsx(OY,{children:s.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${h}px,${p}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:s.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:g,title:"Remove Connection",children:s.jsx(lr,{size:10})})})})]})},pG={custom:hG},gG={custom:mG},yG=()=>{const e=x.useRef(null),{screenToFlowPosition:t}=Uc(),{nodes:r,edges:n,onNodesChange:a,onEdgesChange:i,onConnect:o,addNode:l,executionResult:u}=Ie(fG(p=>({nodes:p.nodes,edges:p.edges,onNodesChange:p.onNodesChange,onEdgesChange:p.onEdgesChange,onConnect:p.onConnect,addNode:p.addNode,executionResult:p.executionResult}))),{isResultsPanelExpanded:d}=Hc(),f=x.useCallback(p=>{p.preventDefault(),p.dataTransfer.dropEffect="move"},[]),h=x.useCallback(p=>{p.preventDefault();const g=p.dataTransfer.getData("application/reactflow");if(typeof g>"u"||!g)return;const y=t({x:p.clientX,y:p.clientY});l(g,y)},[t,l]);return s.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:s.jsxs(CY,{nodes:r,edges:n,onNodesChange:a,onEdgesChange:i,onConnect:o,nodeTypes:pG,onDragOver:f,onDrop:h,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:gG,deleteKeyCode:["Backspace","Delete"],children:[s.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"edge-gradient",children:[s.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),s.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),s.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),s.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[s.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),s.jsxs("feMerge",{children:[s.jsx("feMergeNode",{in:"coloredBlur"}),s.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),s.jsx(LY,{}),s.jsx(UY,{position:"bottom-left",style:u&&!d?{marginBottom:"40px",transition:"margin-bottom 0.3s ease-in-out"}:{transition:"margin-bottom 0.3s ease-in-out"}})]})})},xG=()=>s.jsx(GL,{children:s.jsx(yG,{})}),vG=()=>{const e=Ie(o=>o.nodes),{isSidebarOpen:t,isPropertiesPanelExpanded:r,setPropertiesPanelExpanded:n}=Hc(),a=e.find(o=>o.selected);Sr.useEffect(()=>{a||n(!1)},[a,n]);const i=t?"w-[calc(100vw-300px)]":"w-[calc(100vw-50px)]";return s.jsx("aside",{className:`border-l bg-background shrink-0 transition-all duration-300 ease-in-out overflow-hidden ${a?r?`${i} opacity-100`:"w-80 opacity-100":"w-0 opacity-0"}`,children:a&&s.jsx(bG,{selectedNode:a,isExpanded:r,toggleExpand:()=>n(!r)})})},bG=({selectedNode:e,isExpanded:t,toggleExpand:r})=>{const n=Ie(d=>d.updateNodeData),a=Ie(d=>d.onNodesChange),i=()=>{a([{id:e.id,type:"select",selected:!1}])},o=e.data.definitionType,l=Ke.get(o);if(!l)return s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[s.jsx(lr,{className:"w-4 h-4"}),"Error: Node definition '",o,"' not found."]})});const u=l.settings;return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:s.jsx(d1,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold text-sm",children:String(e.data.label||l.label)}),s.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",e.id]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:r,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:t?s.jsx(I7,{className:"w-4 h-4"}):s.jsx(M7,{className:"w-4 h-4"})}),s.jsx("button",{onClick:i,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:s.jsx(lr,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.jsx("div",{className:"space-y-6",children:s.jsx(u,{config:e.data,onChange:d=>n(e.id,d),nodeId:e.id})})})]})},wG=3e3,Yi=50,Wc=g1((e,t)=>{let r=null;return{jobs:[],isLoading:!1,isDrawerOpen:!1,activeTab:"training",hasMore:!0,skip:0,fetchJobs:async()=>{e({isLoading:!0,skip:0});try{const n=await ir.getJobs(Yi,0);e({jobs:n,isLoading:!1,hasMore:n.length===Yi})}catch(n){console.error("Failed to fetch jobs:",n),e({isLoading:!1})}},loadMoreJobs:async()=>{const{skip:n,jobs:a,isLoading:i,hasMore:o}=t();if(i||!o)return;const l=n+Yi;e({isLoading:!0});try{const u=await ir.getJobs(Yi,l);e({jobs:[...a,...u],isLoading:!1,skip:l,hasMore:u.length===Yi})}catch(u){console.error("Failed to load more jobs:",u),e({isLoading:!1})}},submitJob:async n=>{try{const a=await ir.runPipeline(n);return await t().fetchJobs(),t().startPolling(),a.job_id}catch(a){throw console.error("Failed to submit job:",a),a}},cancelJob:async n=>{try{await ir.cancelJob(n),await t().fetchJobs()}catch(a){throw console.error("Failed to cancel job:",a),a}},toggleDrawer:n=>{const a=t().isDrawerOpen,i=n!==void 0?n:!a;e({isDrawerOpen:i}),i?(t().fetchJobs(),t().startPolling()):t().jobs.some(l=>l.status==="running"||l.status==="queued")||t().stopPolling()},setTab:n=>e({activeTab:n}),startPolling:()=>{r||(r=setInterval(()=>{(async()=>{try{const n=await ir.getJobs(Yi,0);e(i=>i.jobs.length<=Yi?{jobs:n}:{jobs:[...n,...i.jobs.slice(Yi)]}),!n.some(i=>i.status==="running"||i.status==="queued")&&!t().isDrawerOpen&&t().stopPolling()}catch(n){console.error("Polling error:",n)}})()},wG))},stopPolling:()=>{r&&(clearInterval(r),r=null)}}}),g0=(e,t)=>{const r=[],n=new Set,a=[],i=e.find(l=>l.data.definitionType==="dataset_node"),o=i==null?void 0:i.data.datasetId;for(i&&a.push(i.id);a.length>0;){const l=a.shift();if(!l||n.has(l))continue;n.add(l);const u=e.find(y=>y.id===l);if(!u)continue;let d="unknown",f={};const p=t.filter(y=>y.target===l).map(y=>y.source);if(u.data.definitionType==="dataset_node")d="data_loader",f={dataset_id:u.data.datasetId};else if(u.data.definitionType==="imputation_node"){const y=u.data.method||"simple";y==="knn"?(d="KNNImputer",f={columns:u.data.columns,n_neighbors:u.data.n_neighbors,weights:u.data.weights}):y==="iterative"?(d="IterativeImputer",f={columns:u.data.columns,max_iter:u.data.max_iter,estimator:u.data.estimator,random_state:0}):(d="SimpleImputer",f={columns:u.data.columns,strategy:u.data.strategy,fill_value:u.data.fill_value})}else if(u.data.definitionType==="simple_imputer")d="SimpleImputer",f=u.data||{};else if(u.data.definitionType==="drop_missing_columns"||u.data.definitionType==="DropMissingColumns")d="DropMissingColumns",f={columns:u.data.columns||[],missing_threshold:u.data.missing_threshold};else if(u.data.definitionType==="drop_missing_rows"||u.data.definitionType==="DropMissingRows")d="DropMissingRows",f={missing_threshold:u.data.missing_threshold,drop_if_any_missing:u.data.drop_if_any_missing};else if(u.data.definitionType==="deduplicate"||u.data.definitionType==="Deduplicate")d="Deduplicate",f={subset:u.data.subset,keep:u.data.keep};else if(u.data.definitionType==="casting"||u.data.definitionType==="Casting")d="Casting",f={column_types:u.data.column_types};else if(u.data.definitionType==="MissingIndicator"||u.data.definitionType==="missing_indicator")d="MissingIndicator",f={columns:u.data.columns,flag_suffix:u.data.flag_suffix};else if(u.data.definitionType==="scale_numeric_features"){const y=u.data&&typeof u.data=="object"?u.data:{},b=y.method||"standard";b==="minmax"?d="MinMaxScaler":b==="maxabs"?d="MaxAbsScaler":b==="robust"?d="RobustScaler":d="StandardScaler",f=y}else if(u.data.definitionType==="encoding"){const y=u.data.method;y==="onehot"?d="OneHotEncoder":y==="dummy"?(d="DummyEncoder",f={...u.data,drop_first:!0}):y==="label"?d="LabelEncoder":y==="ordinal"?d="OrdinalEncoder":y==="target"?d="TargetEncoder":y==="hash"?d="HashEncoder":d="OneHotEncoder",d!=="DummyEncoder"&&(f=u.data)}else if(u.data.definitionType==="TrainTestSplitter")d="TrainTestSplitter",f=u.data||{};else if(u.data.definitionType==="label_encoding")d="LabelEncoder",f=u.data||{};else if(u.data.definitionType==="feature_target_split")d="feature_target_split",f=u.data||{};else if(u.data.definitionType==="feature_selection")d="feature_selection",f=u.data||{};else if(u.data.definitionType==="outlier"){const y=u.data.method||"iqr";y==="iqr"?d="IQR":y==="zscore"?d="ZScore":y==="winsorize"?d="Winsorize":y==="elliptic_envelope"?d="EllipticEnvelope":d="IQR",f=u.data}else if(u.data.definitionType==="TransformationNode"){d="GeneralTransformation";const y=u.data.transformations||[],b=[];for(const _ of y){const w=_;if(w.columns&&Array.isArray(w.columns))for(const k of w.columns)b.push({column:k,method:w.method,...w.params})}f={transformations:b}}else u.data.definitionType==="BinningNode"?(d="GeneralBinning",f={columns:u.data.columns,strategy:u.data.strategy,n_bins:u.data.n_bins,label_format:u.data.label_format,output_suffix:u.data.output_suffix,drop_original:u.data.drop_original,custom_bins:u.data.custom_bins,custom_labels:u.data.custom_labels}):u.data.definitionType==="ResamplingNode"?((u.data.type||"oversampling")==="oversampling"?d="Oversampling":d="Undersampling",f=u.data):u.data.definitionType==="FeatureGenerationNode"?(d="FeatureMath",f={operations:u.data.operations}):u.data.definitionType==="PolynomialFeaturesNode"?(d="PolynomialFeatures",f={columns:u.data.columns,degree:u.data.degree,interaction_only:u.data.interaction_only,include_bias:u.data.include_bias,output_prefix:u.data.output_prefix,include_input_features:u.data.include_input_features}):u.data.definitionType==="TextCleaning"?(d="TextCleaning",f=u.data):u.data.definitionType==="ValueReplacement"?(d="ValueReplacement",f=u.data):u.data.definitionType==="AliasReplacement"?(d="AliasReplacement",f=u.data):u.data.definitionType==="InvalidValueReplacement"?(d="InvalidValueReplacement",f=u.data):u.data.definitionType==="model_training"?(d="model_training",f={target_column:u.data.target_column,model_type:u.data.model_type,hyperparameters:u.data.hyperparameters,cv_enabled:u.data.cv_enabled,cv_folds:u.data.cv_folds,cv_type:u.data.cv_type,cv_shuffle:u.data.cv_shuffle,cv_random_state:u.data.cv_random_state}):u.data.definitionType==="hyperparameter_tuning"?(d="model_tuning",f={target_column:u.data.target_column,algorithm:u.data.model_type,tuning_config:{strategy:u.data.search_strategy,metric:u.data.metric,n_trials:u.data.n_trials,search_space:u.data.search_space,cv_enabled:u.data.cv_enabled,cv_folds:u.data.cv_folds,cv_type:u.data.cv_type,cv_shuffle:u.data.cv_shuffle,cv_random_state:u.data.cv_random_state,random_state:u.data.random_state}}):u.data.definitionType==="data_preview"?(d="data_preview",f={}):(console.warn(`Unknown node type: ${u.data.definitionType}`),d="Unknown",f=u.data&&typeof u.data=="object"?u.data:{});r.push({node_id:u.id,step_type:d,params:f,inputs:p}),t.filter(y=>y.source===l).forEach(y=>a.push(y.target))}return{pipeline_id:`preview_${e4()}`,nodes:r,metadata:{dataset_source_id:o}}},_G=()=>{const e=Ie(b=>b.nodes),t=Ie(b=>b.edges),r=Ie(b=>b.setExecutionResult),n=Ie(b=>b.setGraph),{toggleDrawer:a}=Wc(),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(!1),h=()=>({nodes:e.map(b=>({id:b.id,type:b.type,position:b.position,data:{...b.data,catalogType:b.data.catalogType||b.data.definitionType}})),edges:t.map(b=>({id:b.id,source:b.source,target:b.target,sourceHandle:b.sourceHandle,targetHandle:b.targetHandle,type:b.type,data:b.data}))}),p=async()=>{const b=e.find(w=>w.data.definitionType==="dataset_node"),_=b==null?void 0:b.data.datasetId;if(!_){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}u(!0);try{await AU(_,{name:"My Pipeline",description:"Saved from Canvas",graph:h()}),alert("Pipeline saved successfully!")}catch(w){console.error("Save failed:",w),alert("Failed to save pipeline.")}finally{u(!1)}},g=async()=>{const b=e.find(w=>w.data.definitionType==="dataset_node"),_=b==null?void 0:b.data.datasetId;if(!_){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){f(!0);try{const w=await TU(_);if(w){const k=Array.isArray(w.graph.nodes)?w.graph.nodes:[],j=Array.isArray(w.graph.edges)?w.graph.edges:[];n(k,j),alert("Pipeline loaded successfully!")}else alert("No saved pipeline found for this dataset.")}catch(w){console.error("Load failed:",w),alert("Failed to load pipeline.")}finally{f(!1)}}},y=async()=>{const b=e.find(w=>w.data.definitionType==="dataset_node");if(!(b==null?void 0:b.data.datasetId)){alert("No dataset node found!");return}o(!0),r(null);try{const w=g0(e,t),k=await EU(w);r(k)}catch(w){console.error("Pipeline failed:",w),alert("Pipeline execution failed. Check console for details.")}finally{o(!1)}};return s.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[s.jsxs("button",{onClick:()=>a(),className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors",children:[s.jsx(A7,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Jobs"})]}),s.jsxs("button",{onClick:()=>{g()},disabled:d||i,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[d?s.jsx(Xr,{className:"w-4 h-4 animate-spin"}):s.jsx(P7,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:d?"Loading...":"Load"})]}),s.jsxs("button",{onClick:()=>{p()},disabled:l||i,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[l?s.jsx(Xr,{className:"w-4 h-4 animate-spin"}):s.jsx(B7,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:l?"Saving...":"Save"})]}),s.jsxs("button",{onClick:()=>{y()},disabled:i,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[i?s.jsx(Xr,{className:"w-4 h-4 animate-spin"}):s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:i?"Running...":"Run Preview"})]})]})},jG=()=>{var g;const e=Ie(y=>y.executionResult),{isResultsPanelExpanded:t,setResultsPanelExpanded:r}=Hc(),[n,a]=x.useState(null),i=x.useMemo(()=>{const y=e==null?void 0:e.preview_data;return y?Array.isArray(y)?{Result:y}:typeof y=="object"?y:{}:{}},[e]),o=Object.keys(i);if(Sr.useEffect(()=>{o.length>0&&(!n||!o.includes(n))&&(o.includes("train")?a("train"):o.includes("X")?a("X"):a(o[0]))},[o,n]),!e)return null;const l=n&&i[n]?i[n]:[],u=l.length>0?Object.keys(l[0]??{}):[],d=e.node_results?Object.keys(e.node_results):[],f=e.node_results||{},h=Object.keys(f).find(y=>{const b=f[y];return(b==null?void 0:b.status)==="failed"}),p=h?(g=f[h])==null?void 0:g.error:null;return s.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>r(!t),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(AM,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[l.length," rows shown"]}),e.status==="failed"&&s.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),s.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?s.jsx(or,{className:"w-4 h-4"}):s.jsx(ff,{className:"w-4 h-4"})})]}),t&&s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&s.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[s.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),s.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:p||"Unknown error occurred during execution."})]}),o.length>1&&s.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[s.jsx(T7,{className:"w-3 h-3 text-muted-foreground mr-1"}),o.map(y=>s.jsx("button",{onClick:()=>{a(y)},className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${n===y?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:y},y))]}),d.length>0&&e.status!=="failed"&&s.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:d.map((y,b)=>s.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:y},b))}),s.jsxs("div",{className:"flex-1 overflow-auto",children:[s.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[s.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:s.jsx("tr",{children:u.map(y=>s.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:y},y))})}),s.jsx("tbody",{children:l.map((y,b)=>s.jsx("tr",{className:"border-b hover:bg-muted/10",children:u.map(_=>s.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:y[_]!==null?String(y[_]):s.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${b}-${_}`))},b))})]}),l.length===0&&s.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",n?`for ${n}`:""]})]})]})]})},kG=()=>{const{activeView:e,setView:t}=Hc();return s.jsx("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-center shrink-0 relative",children:s.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>t("canvas"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="canvas"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[s.jsx(SM,{className:"w-4 h-4"}),"Canvas"]}),s.jsxs("button",{onClick:()=>t("experiments"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="experiments"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[s.jsx(Cd,{className:"w-4 h-4"}),"Experiments"]}),s.jsxs("button",{onClick:()=>t("inference"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="inference"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[s.jsx(Xg,{className:"w-4 h-4"}),"Inference"]})]})})},NG=()=>{const{isDrawerOpen:e,toggleDrawer:t,jobs:r,isLoading:n,activeTab:a,setTab:i,fetchJobs:o,hasMore:l,loadMoreJobs:u}=Wc(),[d,f]=x.useState(null);if(!e)return null;const h=r.filter(p=>p.job_type===a);return s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),s.jsx("div",{className:"relative w-[900px] h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-lg flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden transition-all",children:d?s.jsx(SG,{job:d,onBack:()=>{f(null)},onClose:()=>t(!1)}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[s.jsx("h2",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Job History"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>o(),className:`p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 ${n?"animate-spin":""}`,title:"Refresh",children:s.jsx(la,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>t(!1),className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:s.jsx(lr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[s.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="tuning"?"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-50/50 dark:bg-purple-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>i("tuning"),children:"Model Optimization"}),s.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="training"?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>i("training"),children:"Standard Training"})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-2 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[s.jsx("div",{className:"col-span-2",children:"Status"}),s.jsx("div",{className:"col-span-2",children:"Dataset / Model"}),s.jsx("div",{className:"col-span-3",children:"Job ID"}),s.jsx("div",{className:"col-span-2",children:"Started"}),s.jsx("div",{className:"col-span-1",children:"Duration"}),s.jsx("div",{className:"col-span-1",children:"Ready"}),s.jsx("div",{className:"col-span-1",children:"Result"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-gray-50/30 dark:bg-gray-900/30",children:h.length===0?s.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500 text-sm",children:["No ",a==="tuning"?"optimization":"training"," jobs found."]}):s.jsxs(s.Fragment,{children:[h.map(p=>s.jsx(PG,{job:p,onClick:()=>{f(p)}},p.job_id)),l&&s.jsx("div",{className:"flex justify-center pt-2 pb-4",children:s.jsxs("button",{onClick:()=>u(),disabled:n,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[n?s.jsx(la,{className:"w-3 h-3 animate-spin"}):s.jsx(or,{className:"w-3 h-3"}),"Load More History"]})})]})})]})})]})},SG=({job:e,onBack:t,onClose:r})=>{const{cancelJob:n}=Wc(),[a,i]=x.useState(e),[o,l]=x.useState("overview"),[u,d]=x.useState(!1),f=x.useRef(null);x.useEffect(()=>{let p;const g=async()=>{try{const y=await ir.getJob(e.job_id);i(y)}catch(y){console.error("Failed to fetch job details",y)}};return g(),(a.status==="running"||a.status==="queued")&&(p=setInterval(()=>{g()},2e3)),()=>{p&&clearInterval(p)}},[e.job_id,a.status]),x.useEffect(()=>{o==="logs"&&f.current&&f.current.scrollIntoView({behavior:"smooth"})},[a.logs,o]);const h=async()=>{if(confirm("Are you sure you want to stop this job?")){d(!0);try{await n(a.job_id)}catch{alert("Failed to cancel job")}finally{d(!1)}}};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-500",children:s.jsx(p7,{className:"w-4 h-4"})}),s.jsx("div",{children:s.jsxs("h2",{className:"font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:["Job Details",s.jsx("span",{className:"text-xs font-normal text-gray-500 font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:a.job_id.slice(0,8)})]})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[(a.status==="running"||a.status==="queued")&&s.jsxs("button",{onClick:()=>{h()},disabled:u,className:"flex items-center gap-1 px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 rounded text-xs font-medium transition-colors border border-red-200 dark:border-red-800",children:[s.jsx(V7,{className:"w-3 h-3 fill-current"}),u?"Stopping...":"Stop Job"]}),s.jsx("button",{onClick:r,className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:s.jsx(lr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 px-4",children:[s.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${o==="overview"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>{l("overview")},children:[s.jsx(CM,{className:"w-4 h-4"}),"Overview"]}),s.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${o==="logs"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>{l("logs")},children:[s.jsx(Gg,{className:"w-4 h-4"}),"Live Logs",a.status==="running"&&s.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o==="overview"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),s.jsx("div",{className:"font-medium capitalize flex items-center gap-2 text-gray-800 dark:text-gray-200",children:a.status})]}),s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Dataset"}),s.jsxs("div",{className:"font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[s.jsx(za,{className:"w-3 h-3 text-gray-400"}),a.dataset_name||a.dataset_id||"Unknown"]})]}),s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Duration"}),s.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200 font-mono",children:a.start_time&&a.end_time?`${Math.round((new Date(a.end_time).getTime()-new Date(a.start_time).getTime())/1e3)}s`:"-"})]})]}),a.error&&s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg",children:[s.jsxs("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300 mb-2 flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4"}),"Error Log"]}),s.jsx("pre",{className:"text-xs text-red-700 dark:text-red-400 whitespace-pre-wrap font-mono",children:a.error})]}),a.result&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[s.jsx(Z7,{className:"w-4 h-4"}),"Execution Results"]}),a.status==="completed"&&s.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 font-medium",children:[s.jsx(pa,{className:"w-3 h-3"})," Model Ready"]})]}),a.job_type==="training"&&!!a.result.metrics&&s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).map(([p,g])=>s.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:p.replace(/_/g," ")}),s.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof g=="number"?g.toFixed(4):String(g)})]},p))}),a.job_type==="tuning"&&s.jsxs("div",{className:"space-y-4",children:[a.result.best_score!==void 0&&s.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg w-fit",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Best Score"}),s.jsx("div",{className:"font-mono font-bold text-lg text-purple-600 dark:text-purple-400",children:Number(a.result.best_score).toFixed(4)})]}),!!a.result.metrics&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Evaluation Metrics"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).filter(([p])=>!["best_score","best_params","trials"].includes(p)).map(([p,g])=>s.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:p.replace(/_/g," ")}),s.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof g=="number"?g.toFixed(4):String(g)})]},p))})]}),!!a.result.best_params&&s.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-xs overflow-x-auto",children:[s.jsx("div",{className:"text-gray-500 mb-2",children:"# Best Hyperparameters"}),s.jsx("pre",{children:JSON.stringify(a.result.best_params,null,2)})]})]})]})]}):s.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 min-h-[400px] font-mono text-xs text-gray-300 overflow-x-auto",children:[a.logs&&a.logs.length>0?a.logs.map((p,g)=>s.jsx("div",{className:"mb-1 border-b border-gray-800 pb-1 last:border-0",children:p},g)):s.jsx("div",{className:"text-gray-500 italic",children:"No logs available yet..."}),s.jsx("div",{ref:f})]})})]})},PG=({job:e,onClick:t})=>{var o;const r=l=>{switch(l){case"completed":case"succeeded":return s.jsx(pa,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return s.jsx(an,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"running":return s.jsx(la,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 animate-spin"});default:return s.jsx(Yg,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}},n=l=>{switch(l){case"completed":return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50";case"failed":return"bg-red-50/30 dark:bg-red-900/10 border-red-100 dark:border-red-900/30 hover:bg-red-50/50 dark:hover:bg-red-900/20";case"running":return"bg-blue-50/30 dark:bg-blue-900/10 border-blue-100 dark:border-blue-900/30 hover:bg-blue-50/50 dark:hover:bg-blue-900/20";default:return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}},a=l=>l?new Date(l).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",i=(l,u)=>{if(!l||!u)return"-";const d=new Date(u).getTime()-new Date(l).getTime(),f=Math.floor(d/1e3);return f<60?`${f}s`:`${Math.floor(f/60)}m ${f%60}s`};return s.jsxs("div",{onClick:t,className:`grid grid-cols-12 gap-4 p-3 rounded-lg border text-sm items-center transition-colors cursor-pointer ${n(e.status)}`,children:[s.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[r(e.status),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300 capitalize truncate",children:e.status})]}),s.jsxs("div",{className:"col-span-2 flex flex-col justify-center text-xs text-gray-600 dark:text-gray-400 truncate",children:[s.jsxs("div",{className:"flex items-center gap-1",title:e.dataset_name||e.dataset_id,children:[s.jsx(za,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:e.dataset_name||e.dataset_id||"-"})]}),s.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] text-gray-500",children:[s.jsx("span",{className:"font-medium truncate",children:e.model_type||"Unknown Model"}),e.job_type==="tuning"&&!!e.config&&!!e.config.tuning&&s.jsxs("span",{className:"text-gray-400 truncate",children:["(",(o=e.config.tuning)==null?void 0:o.strategy,")"]})]})]}),s.jsx("div",{className:"col-span-3 font-mono text-xs text-gray-500 dark:text-gray-400 break-all",title:e.job_id,children:e.job_id}),s.jsx("div",{className:"col-span-2 text-gray-600 dark:text-gray-400 text-xs",children:a(e.start_time)}),s.jsx("div",{className:"col-span-1 text-gray-600 dark:text-gray-400 text-xs font-mono",children:i(e.start_time,e.end_time)}),s.jsx("div",{className:"col-span-1",children:e.status==="completed"&&s.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 w-fit",children:s.jsx(pa,{className:"w-3 h-3"})})}),s.jsx("div",{className:"col-span-1",children:e.error?s.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs truncate block",title:e.error,children:"Error"}):e.status==="completed"&&e.result?e.job_type==="training"&&e.result.metrics?s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.result.metrics).slice(0,1).map(([l,u])=>s.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 truncate max-w-full",children:[l,": ",Number(u).toFixed(3)]},l))}):e.job_type==="tuning"?s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.result.best_score!==void 0&&s.jsxs("span",{className:"text-[10px] bg-purple-50 dark:bg-purple-900/20 px-1.5 py-0.5 rounded text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800 truncate",children:["Score: ",Number(e.result.best_score).toFixed(4)]}),!e.result.best_score&&!!e.result.best_params&&s.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:"Params found"})]}):s.jsx("span",{className:"text-gray-400 text-xs",children:"-"}):s.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]})};function t4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=t4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=t4(e))&&(n&&(n+=" "),n+=t);return n}var CG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function L1(e){if(typeof e!="string")return!1;var t=CG;return t.includes(e)}var EG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OG=new Set(EG);function r4(e){return typeof e!="string"?!1:OG.has(e)}function n4(e){return typeof e=="string"&&e.startsWith("data-")}function bn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r4(r)||n4(r))&&(t[r]=e[r]);return t}function Vc(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return bn(t)}return typeof e=="object"&&!Array.isArray(e)?bn(e):null}function Cr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r4(r)||n4(r)||L1(r))&&(t[r]=e[r]);return t}function AG(e){return e==null?null:x.isValidElement(e)?Cr(e.props):typeof e=="object"&&!Array.isArray(e)?Cr(e):null}var TG=["children","width","height","viewBox","className","style","title","desc"];function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(null,arguments)}function MG(e,t){if(e==null)return{};var r,n,a=IG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var D1=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:u,desc:d}=e,f=MG(e,TG),h=i||{width:n,height:a,x:0,y:0},p=qe("recharts-surface",o);return x.createElement("svg",rw({},Cr(f),{className:p,width:n,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),x.createElement("title",null,u),x.createElement("desc",null,d),r)}),LG=["children","className"];function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(null,arguments)}function DG(e,t){if(e==null)return{};var r,n,a=RG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cr=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=DG(e,LG),i=qe("recharts-layer",n);return x.createElement("g",nw({className:i},Cr(a),{ref:t}),r)}),a4=x.createContext(null),zG=()=>x.useContext(a4);function rt(e){return function(){return e}}const i4=Math.cos,Dp=Math.sin,wa=Math.sqrt,Rp=Math.PI,y0=2*Rp,aw=Math.PI,iw=2*aw,ao=1e-6,FG=iw-ao;function s4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $G(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return s4;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class BG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?s4:$G(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=n-t,d=a-r,f=o-t,h=l-r,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>ao)if(!(Math.abs(h*u-d*f)>ao)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,y=a-l,b=u*u+d*d,_=g*g+y*y,w=Math.sqrt(b),k=Math.sqrt(p),j=i*Math.tan((aw-Math.acos((b+p-_)/(2*w*k)))/2),N=j/k,P=j/w;Math.abs(N-1)>ao&&this._append`L${t+N*f},${r+N*h}`,this._append`A${i},${i},0,0,${+(h*g>f*y)},${this._x1=t+P*u},${this._y1=r+P*d}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),d=t+l,f=r+u,h=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>ao||Math.abs(this._y1-f)>ao)&&this._append`L${d},${f}`,n&&(p<0&&(p=p%iw+iw),p>FG?this._append`A${n},${n},0,1,${h},${t-l},${r-u}A${n},${n},0,1,${h},${this._x1=d},${this._y1=f}`:p>ao&&this._append`A${n},${n},0,${+(p>=aw)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function R1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new BG(t)}function z1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o4(e){this._context=e}o4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function x0(e){return new o4(e)}function l4(e){return e[0]}function c4(e){return e[1]}function u4(e,t){var r=rt(!0),n=null,a=x0,i=null,o=R1(l);e=typeof e=="function"?e:e===void 0?l4:rt(e),t=typeof t=="function"?t:t===void 0?c4:rt(t);function l(u){var d,f=(u=z1(u)).length,h,p=!1,g;for(n==null&&(i=a(g=o())),d=0;d<=f;++d)!(d<f&&r(h=u[d],d,u))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(h,d,u),+t(h,d,u));if(g)return i=null,g+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:rt(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:rt(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:rt(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),l):n},l}function tm(e,t,r){var n=null,a=rt(!0),i=null,o=x0,l=null,u=R1(d);e=typeof e=="function"?e:e===void 0?l4:rt(+e),t=typeof t=="function"?t:rt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?c4:rt(+r);function d(h){var p,g,y,b=(h=z1(h)).length,_,w=!1,k,j=new Array(b),N=new Array(b);for(i==null&&(l=o(k=u())),p=0;p<=b;++p){if(!(p<b&&a(_=h[p],p,h))===w)if(w=!w)g=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=g;--y)l.point(j[y],N[y]);l.lineEnd(),l.areaEnd()}w&&(j[p]=+e(_,p,h),N[p]=+t(_,p,h),l.point(n?+n(_,p,h):j[p],r?+r(_,p,h):N[p]))}if(k)return l=null,k+""||null}function f(){return u4().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:rt(+h),n=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:rt(+h),d):e},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:rt(+h),d):n},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:rt(+h),r=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:rt(+h),d):t},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:rt(+h),d):r},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(r)},d.lineX1=function(){return f().x(n).y(t)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:rt(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class d4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function UG(e){return new d4(e,!0)}function HG(e){return new d4(e,!1)}const F1={draw(e,t){const r=wa(t/Rp);e.moveTo(r,0),e.arc(0,0,r,0,y0)}},WG={draw(e,t){const r=wa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},f4=wa(1/3),VG=f4*2,KG={draw(e,t){const r=wa(t/VG),n=r*f4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},qG={draw(e,t){const r=wa(t),n=-r/2;e.rect(n,n,r,r)}},ZG=.8908130915292852,h4=Dp(Rp/10)/Dp(7*Rp/10),YG=Dp(y0/10)*h4,GG=-i4(y0/10)*h4,XG={draw(e,t){const r=wa(t*ZG),n=YG*r,a=GG*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=y0*i/5,l=i4(o),u=Dp(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},tv=wa(3),QG={draw(e,t){const r=-wa(t/(tv*3));e.moveTo(0,r*2),e.lineTo(-tv*r,-r),e.lineTo(tv*r,-r),e.closePath()}},En=-.5,On=wa(3)/2,sw=1/wa(12),JG=(sw/2+1)*3,eX={draw(e,t){const r=wa(t/JG),n=r/2,a=r*sw,i=n,o=r*sw+r,l=-i,u=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,u),e.lineTo(En*n-On*a,On*n+En*a),e.lineTo(En*i-On*o,On*i+En*o),e.lineTo(En*l-On*u,On*l+En*u),e.lineTo(En*n+On*a,En*a-On*n),e.lineTo(En*i+On*o,En*o-On*i),e.lineTo(En*l+On*u,En*u-On*l),e.closePath()}};function tX(e,t){let r=null,n=R1(a);e=typeof e=="function"?e:rt(e||F1),t=typeof t=="function"?t:rt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:rt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:rt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function zp(){}function Fp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function m4(e){this._context=e}m4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rX(e){return new m4(e)}function p4(e){this._context=e}p4.prototype={areaStart:zp,areaEnd:zp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nX(e){return new p4(e)}function g4(e){this._context=e}g4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aX(e){return new g4(e)}function y4(e){this._context=e}y4.prototype={areaStart:zp,areaEnd:zp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function iX(e){return new y4(e)}function SP(e){return e<0?-1:1}function PP(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(SP(i)+SP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function CP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function $p(e){this._context=e}$p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rv(this,this._t0,CP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rv(this,CP(this,r=PP(this,e,t)),r);break;default:rv(this,this._t0,r=PP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function x4(e){this._context=new v4(e)}(x4.prototype=Object.create($p.prototype)).point=function(e,t){$p.prototype.point.call(this,t,e)};function v4(e){this._context=e}v4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function sX(e){return new $p(e)}function oX(e){return new x4(e)}function b4(e){this._context=e}b4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=EP(e),a=EP(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function EP(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function lX(e){return new b4(e)}function v0(e,t){this._context=e,this._t=t}v0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function cX(e){return new v0(e,.5)}function uX(e){return new v0(e,0)}function dX(e){return new v0(e,1)}function kc(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ow(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function fX(e,t){return e[t]}function hX(e){const t=[];return t.key=e,t}function mX(){var e=rt([]),t=ow,r=kc,n=fX;function a(i){var o=Array.from(e.apply(this,arguments),hX),l,u=o.length,d=-1,f;for(const h of i)for(l=0,++d;l<u;++l)(o[l][d]=[0,+n(h,o[l].key,d,i)]).data=h;for(l=0,f=z1(t(o));l<u;++l)o[f[l]].index=l;return r(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:rt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:rt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?ow:typeof i=="function"?i:rt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??kc,a):r},a}function pX(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}kc(e,t)}}function gX(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}kc(e,t)}}function yX(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,u=0,d=0;l<o;++l){for(var f=e[t[l]],h=f[n][1]||0,p=f[n-1][1]||0,g=(h-p)/2,y=0;y<l;++y){var b=e[t[y]],_=b[n][1]||0,w=b[n-1][1]||0;g+=_-w}u+=h,d+=g*h}a[n-1][1]+=a[n-1][0]=r,u&&(r-=d/u)}a[n-1][1]+=a[n-1][0]=r,kc(e,t)}}var b0={},w4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(w4);var $1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})($1);var w0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(w0);var _0={},_4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(_4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_4,r=w0;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,u="",d="",f=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const h=a[l];d?h==="\\"&&l+1<o?(l++,u+=a[l]):h===d?d="":u+=h:f?h==='"'||h==="'"?d=h:h==="]"?(f=!1,i.push(u),u=""):u+=h:h==="["?(f=!0,u&&(i.push(u),u="")):h==="."?u&&(i.push(u),u=""):u+=h,l++}return u&&i.push(u),i}e.toPath=n})(_0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w4,r=$1,n=w0,a=_0;function i(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?r.isDeepKey(u)?i(l,a.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const f=l[u];return f===void 0?d:f}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?d:f}}}function o(l,u,d){if(u.length===0)return d;let f=l;for(let h=0;h<u.length;h++){if(f==null||t.isUnsafeProperty(u[h]))return d;f=f[u[h]]}return f===void 0?d:f}e.get=i})(b0);var xX=b0.get;const Nc=Wa(xX);var Jr=e=>e===0?0:e>0?1:-1,wn=e=>typeof e=="number"&&e!=+e,Ci=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,je=e=>(typeof e=="number"||e instanceof Number)&&!wn(e),Wn=e=>je(e)||typeof e=="string",vX=0,Fd=e=>{var t=++vX;return"".concat(e||"").concat(t)},ga=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&typeof t!="string")return n;var i;if(Ci(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return wn(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},j4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function nt(e,t,r){return je(e)&&je(t)?e+r*(t-e):t}function k4(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Nc(n,t))===r)}var bX=e=>{for(var t=e.length,r=0,n=0,a=0,i=0,o=1/0,l=-1/0,u=0,d=0,f=0;f<t;f++)u=e[f].cx||0,d=e[f].cy||0,r+=u,n+=d,a+=u*d,i+=u*u,o=Math.min(o,u),l=Math.max(l,u);var h=t*i!==r*r?(t*a-r*n)/(t*i-r*r):0;return{xmin:o,xmax:l,a:h,b:(n-h*r)/t}},Xe=e=>e===null||typeof e>"u",jf=e=>Xe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function wX(e){return e!=null}function kf(){}var _X=["type","size","sizeType"];function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(null,arguments)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){jX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jX(e,t,r){return(t=kX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SX(e,t){if(e==null)return{};var r,n,a=PX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var N4={symbolCircle:F1,symbolCross:WG,symbolDiamond:KG,symbolSquare:qG,symbolStar:XG,symbolTriangle:QG,symbolWye:eX},CX=Math.PI/180,EX=e=>{var t="symbol".concat(jf(e));return N4[t]||F1},OX=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*CX;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},AX=(e,t)=>{N4["symbol".concat(jf(e))]=t},j0=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=SX(e,_X),i=AP(AP({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var p=EX(o),g=tX().type(p).size(OX(r,n,o)),y=g();if(y!==null)return y},{className:u,cx:d,cy:f}=i,h=Cr(i);return je(d)&&je(f)&&je(r)?x.createElement("path",lw({},h,{className:qe("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};j0.registerSymbol=AX;var S4=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,B1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{L1(a)&&(n[a]=i=>r[a](r,i))}),n},TX=(e,t,r)=>n=>(e(t,r,n),null),Nf=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];L1(a)&&typeof i=="function"&&(n||(n={}),n[a]=TX(i,t,r))}),n},MX=e=>Array.isArray(e)&&e.length>0;function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){LX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LX(e,t,r){return(t=DX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DX(e){var t=RX(e,"string");return typeof t=="symbol"?t:t+""}function RX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e,t){var r=IX({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bp.apply(null,arguments)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){FX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FX(e,t,r){return(t=$X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $X(e){var t=BX(e,"string");return typeof t=="symbol"?t:t+""}function BX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tn=32,UX={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function HX(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Tn/2,i=Tn/6,o=Tn/3,l=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline"){var d;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:a,x2:Tn,y2:a,className:"recharts-legend-icon"})}if(u==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Tn,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return x.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Tn/8,"h").concat(Tn,"v").concat(Tn*3/4,"h").concat(-Tn,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var f=zX({},t);return delete f.legendIcon,x.cloneElement(t.legendIcon,f)}return x.createElement(j0,{fill:l,cx:a,cy:a,size:Tn,sizeType:"diameter",type:u})}function WX(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=e,l={x:0,y:0,width:Tn,height:Tn},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,h)=>{var p=f.formatter||a,g=qe({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:f.inactive});if(f.type==="none")return null;var y=f.inactive?i:f.color,b=p?p(f.value,f,h):f.value;return x.createElement("li",Bp({className:g,style:u,key:"legend-item-".concat(h)},Nf(e,f,h)),x.createElement(D1,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(b," legend icon")},x.createElement(HX,{data:f,iconType:o,inactiveColor:i})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b))})}var VX=e=>{var t=Ut(e,UX),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},x.createElement(WX,Bp({},t,{payload:r})))},P4={},C4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(C4);var U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(U1);var E4={},k0={},O4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(O4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O4;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(k0);var A4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(A4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k0,r=A4;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(E4);var T4={},M4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0;function r(n){return function(a){return t.get(a,n)}}e.property=r})(M4);var I4={},H1={},L4={},W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(W1);var V1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(V1);var K1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(K1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1,r=V1,n=K1;function a(f,h,p){return typeof p!="function"?a(f,h,()=>{}):i(f,h,function g(y,b,_,w,k,j){const N=p(y,b,_,w,k,j);return N!==void 0?!!N:i(y,b,g,j)},new Map)}function i(f,h,p,g){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,p,g);case"function":return Object.keys(h).length>0?i(f,{...h},p,g):n.eq(f,h);default:return t.isObject(f)?typeof h=="string"?h==="":!0:n.eq(f,h)}}function o(f,h,p,g){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,g);if(h instanceof Map)return l(f,h,p,g);if(h instanceof Set)return d(f,h,p,g);const y=Object.keys(h);if(f==null)return y.length===0;if(y.length===0)return!0;if(g!=null&&g.has(h))return g.get(h)===f;g==null||g.set(h,f);try{for(let b=0;b<y.length;b++){const _=y[b];if(!r.isPrimitive(f)&&!(_ in f)||h[_]===void 0&&f[_]!==void 0||h[_]===null&&f[_]!==null||!p(f[_],h[_],_,f,h,g))return!1}return!0}finally{g==null||g.delete(h)}}function l(f,h,p,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[y,b]of h.entries()){const _=f.get(y);if(p(_,b,y,f,h,g)===!1)return!1}return!0}function u(f,h,p,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const y=new Set;for(let b=0;b<h.length;b++){const _=h[b];let w=!1;for(let k=0;k<f.length;k++){if(y.has(k))continue;const j=f[k];let N=!1;if(p(j,_,b,f,h,g)&&(N=!0),N){y.add(k),w=!0;break}}if(!w)return!1}return!0}function d(f,h,p,g){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,g):!1}e.isMatchWith=a,e.isSetMatch=d})(L4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L4;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(H1);var D4={},q1={},R4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(R4);var Z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Z1);var Y1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",h="[object Function]",p="[object ArrayBuffer]",g="[object Object]",y="[object Error]",b="[object DataView]",_="[object Uint8Array]",w="[object Uint8ClampedArray]",k="[object Uint16Array]",j="[object Uint32Array]",N="[object BigUint64Array]",P="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",O="[object BigInt64Array]",T="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=f,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=N,e.booleanTag=a,e.dataViewTag=b,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=T,e.float64ArrayTag=$,e.functionTag=h,e.int16ArrayTag=C,e.int32ArrayTag=A,e.int8ArrayTag=P,e.mapTag=u,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=k,e.uint32ArrayTag=j,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=w})(Y1);var z4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(z4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R4,r=Z1,n=Y1,a=V1,i=z4;function o(f,h){return l(f,void 0,f,new Map,h)}function l(f,h,p,g=new Map,y=void 0){const b=y==null?void 0:y(f,h,p,g);if(b!==void 0)return b;if(a.isPrimitive(f))return f;if(g.has(f))return g.get(f);if(Array.isArray(f)){const _=new Array(f.length);g.set(f,_);for(let w=0;w<f.length;w++)_[w]=l(f[w],w,p,g,y);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;g.set(f,_);for(const[w,k]of f)_.set(w,l(k,w,p,g,y));return _}if(f instanceof Set){const _=new Set;g.set(f,_);for(const w of f)_.add(l(w,void 0,p,g,y));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(i.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);g.set(f,_);for(let w=0;w<f.length;w++)_[w]=l(f[w],w,p,g,y);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return g.set(f,_),u(_,f,p,g,y),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return g.set(f,_),u(_,f,p,g,y),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return g.set(f,_),u(_,f,p,g,y),_}if(f instanceof Error){const _=new f.constructor;return g.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,u(_,f,p,g,y),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return g.set(f,_),u(_,f,p,g,y),_}if(f instanceof Number){const _=new Number(f.valueOf());return g.set(f,_),u(_,f,p,g,y),_}if(f instanceof String){const _=new String(f.valueOf());return g.set(f,_),u(_,f,p,g,y),_}if(typeof f=="object"&&d(f)){const _=Object.create(Object.getPrototypeOf(f));return g.set(f,_),u(_,f,p,g,y),_}return f}function u(f,h,p=f,g,y){const b=[...Object.keys(h),...t.getSymbols(h)];for(let _=0;_<b.length;_++){const w=b[_],k=Object.getOwnPropertyDescriptor(f,w);(k==null||k.writable)&&(f[w]=l(h[w],w,p,g,y))}}function d(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(q1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(D4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,r=D4;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(I4);var F4={},$4={},B4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1,r=Y1;function n(a,i){return t.cloneDeepWith(a,(o,l,u,d)=>{const f=i==null?void 0:i(o,l,u,d);if(f!==void 0)return f;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}})}e.cloneDeepWith=n})(B4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B4;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})($4);var U4={},G1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(G1);var H4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z1;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(H4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1,r=G1,n=H4,a=_0;function i(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=a.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let f=0;f<u.length;f++){const h=u[f];if((d==null||!Object.hasOwn(d,h))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(h)&&h<d.length))return!1;d=d[h]}return!0}e.has=i})(U4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,r=w0,n=$4,a=b0,i=U4;function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(d){const f=a.get(d,l);return f===void 0?i.has(d,l):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=o})(F4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1,r=M4,n=I4,a=F4;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(T4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C4,r=U1,n=E4,a=T4;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(P4);var KX=P4.uniqBy;const IP=Wa(KX);function W4(e,t,r){return t===!0?IP(e,r):typeof t=="function"?IP(e,t):e}var X1=x.createContext(null),qX=e=>e,yt=()=>{var e=x.useContext(X1);return e?e.store.dispatch:qX},Um=()=>{},ZX=()=>Um,YX=(e,t)=>e===t;function ve(e){var t=x.useContext(X1);return cI.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ZX,t?t.store.getState:Um,t?t.store.getState:Um,t?e:Um,YX)}function GX(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function XX(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function QX(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var LP=e=>Array.isArray(e)?e:[e];function JX(e){const t=Array.isArray(e[0])?e[0]:e;return QX(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function eQ(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var tQ=class{constructor(e){this.value=e}deref(){return this.value}},rQ=typeof WeakRef<"u"?WeakRef:tQ,nQ=0,DP=1;function rm(){return{s:nQ,v:void 0,o:null,p:null}}function V4(e,t={}){let r=rm();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var h;let l=r;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const _=b.get(y);_===void 0?(l=rm(),b.set(y,l)):l=_}else{let b=l.p;b===null&&(l.p=b=new Map);const _=b.get(y);_===void 0?(l=rm(),b.set(y,l)):l=_}}const d=l;let f;if(l.s===DP)f=l.v;else if(f=e.apply(null,arguments),i++,n){const p=((h=a==null?void 0:a.deref)==null?void 0:h.call(a))??a;p!=null&&n(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new rQ(f):f}return d.s=DP,d.v=f,f}return o.clearCache=()=>{r=rm(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function aQ(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,u={},d=a.pop();typeof d=="object"&&(u=d,d=a.pop()),GX(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...r,...u},{memoize:h,memoizeOptions:p=[],argsMemoize:g=V4,argsMemoizeOptions:y=[]}=f,b=LP(p),_=LP(y),w=JX(a),k=h(function(){return i++,d.apply(null,arguments)},...b),j=g(function(){o++;const P=eQ(w,arguments);return l=k.apply(null,P),l},..._);return Object.assign(j,{resultFunc:d,memoizedResultFunc:k,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var re=aQ(V4),iQ=Object.assign((e,t=re)=>{XX(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,u)=>(o[r[u]]=l,o),{}))},{withTypes:()=>iQ}),K4={},q4={},Z4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(Z4);var Y4={},Q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Q1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q1,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(Y4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z4,r=Y4,n=_0;function a(i,o,l,u){if(i==null)return[];l=u?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(g=>String(g));const d=(g,y)=>{let b=g;for(let _=0;_<y.length&&b!=null;++_)b=b[y[_]];return b},f=(g,y)=>y==null||g==null?y:typeof g=="object"&&"key"in g?Object.hasOwn(y,g.key)?y[g.key]:d(y,g.path):typeof g=="function"?g(y):Array.isArray(g)?d(y,g):typeof y=="object"?y[g]:y,h=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return i.map(g=>({original:g,criteria:h.map(y=>f(y,g))})).slice().sort((g,y)=>{for(let b=0;b<h.length;b++){const _=t.compareValues(g.criteria[b],y.criteria[b],l[b]);if(_!==0)return _}return 0}).map(g=>g.original)}e.orderBy=a})(q4);var G4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,u)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&u<i?o(f,u+1):a.push(f)}};return o(r,0),a}e.flatten=t})(G4);var J1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G1,r=k0,n=W1,a=K1;function i(o,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?a.eq(u[l],o):!1}e.isIterateeCall=i})(J1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q4,r=G4,n=J1;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(K4);var sQ=K4.sortBy;const N0=Wa(sQ);var X4=e=>e.legend.settings,oQ=e=>e.legend.size,lQ=e=>e.legend.payload,cQ=re([lQ,X4],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?N0(n,r):n});function uQ(){return ve(cQ)}var nm=1;function Q4(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>nm||Math.abs(o.left-t.left)>nm||Math.abs(o.top-t.top)>nm||Math.abs(o.width-t.width)>nm)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function mr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",RP=dQ,nv=()=>Math.random().toString(36).substring(7).split("").join("."),fQ={INIT:`@@redux/INIT${nv()}`,REPLACE:`@@redux/REPLACE${nv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nv()}`},Up=fQ;function ej(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function J4(e,t,r){if(typeof e!="function")throw new Error(mr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(mr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(mr(1));return r(J4)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,u=!1;function d(){o===i&&(o=new Map,i.forEach((_,w)=>{o.set(w,_)}))}function f(){if(u)throw new Error(mr(3));return a}function h(_){if(typeof _!="function")throw new Error(mr(4));if(u)throw new Error(mr(5));let w=!0;d();const k=l++;return o.set(k,_),function(){if(w){if(u)throw new Error(mr(6));w=!1,d(),o.delete(k),i=null}}}function p(_){if(!ej(_))throw new Error(mr(7));if(typeof _.type>"u")throw new Error(mr(8));if(typeof _.type!="string")throw new Error(mr(17));if(u)throw new Error(mr(9));try{u=!0,a=n(a,_)}finally{u=!1}return(i=o).forEach(k=>{k()}),_}function g(_){if(typeof _!="function")throw new Error(mr(10));n=_,p({type:Up.REPLACE})}function y(){const _=h;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(mr(11));function k(){const N=w;N.next&&N.next(f())}return k(),{unsubscribe:_(k)}},[RP](){return this}}}return p({type:Up.INIT}),{dispatch:p,subscribe:h,getState:f,replaceReducer:g,[RP]:y}}function hQ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Up.INIT})>"u")throw new Error(mr(12));if(typeof r(void 0,{type:Up.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mr(13))})}function eD(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{hQ(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let u=!1;const d={};for(let f=0;f<n.length;f++){const h=n[f],p=r[h],g=o[h],y=p(g,l);if(typeof y>"u")throw l&&l.type,new Error(mr(14));d[h]=y,u=u||y!==g}return u=u||n.length!==Object.keys(o).length,u?d:o}}function Hp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function mQ(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(mr(15))};const o={getState:a.getState,dispatch:(u,...d)=>i(u,...d)},l=e.map(u=>u(o));return i=Hp(...l)(a.dispatch),{...a,dispatch:i}}}function tD(e){return ej(e)&&"type"in e&&typeof e.type=="string"}var rD=Symbol.for("immer-nothing"),zP=Symbol.for("immer-draftable"),Dr=Symbol.for("immer-state");function sa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var pn=Object,Sc=pn.getPrototypeOf,Wp="constructor",S0="prototype",cw="configurable",Vp="enumerable",Hm="writable",$d="value",Ei=e=>!!e&&!!e[Dr];function ya(e){var t;return e?nD(e)||P0(e)||!!e[zP]||!!((t=e[Wp])!=null&&t[zP])||C0(e)||E0(e):!1}var pQ=pn[S0][Wp].toString(),FP=new WeakMap;function nD(e){if(!e||!tj(e))return!1;const t=Sc(e);if(t===null||t===pn[S0])return!0;const r=pn.hasOwnProperty.call(t,Wp)&&t[Wp];if(r===Object)return!0;if(!_l(r))return!1;let n=FP.get(r);return n===void 0&&(n=Function.toString.call(r),FP.set(r,n)),n===pQ}function Sf(e,t,r=!0){Pf(e)===0?(r?Reflect.ownKeys(e):pn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Pf(e){const t=e[Dr];return t?t.type_:P0(e)?1:C0(e)?2:E0(e)?3:0}var $P=(e,t,r=Pf(e))=>r===2?e.has(t):pn[S0].hasOwnProperty.call(e,t),uw=(e,t,r=Pf(e))=>r===2?e.get(t):e[t],Kp=(e,t,r,n=Pf(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function gQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var P0=Array.isArray,C0=e=>e instanceof Map,E0=e=>e instanceof Set,tj=e=>typeof e=="object",_l=e=>typeof e=="function",av=e=>typeof e=="boolean",oi=e=>e.copy_||e.base_,rj=e=>e.modified_?e.copy_:e.base_;function dw(e,t){if(C0(e))return new Map(e);if(E0(e))return new Set(e);if(P0(e))return Array[S0].slice.call(e);const r=nD(e);if(t===!0||t==="class_only"&&!r){const n=pn.getOwnPropertyDescriptors(e);delete n[Dr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l[Hm]===!1&&(l[Hm]=!0,l[cw]=!0),(l.get||l.set)&&(n[o]={[cw]:!0,[Hm]:!0,[Vp]:l[Vp],[$d]:e[o]})}return pn.create(Sc(e),n)}else{const n=Sc(e);if(n!==null&&r)return{...e};const a=pn.create(n);return pn.assign(a,e)}}function nj(e,t=!1){return O0(e)||Ei(e)||!ya(e)||(Pf(e)>1&&pn.defineProperties(e,{set:am,add:am,clear:am,delete:am}),pn.freeze(e),t&&Sf(e,(r,n)=>{nj(n,!0)},!1)),e}function yQ(){sa(2)}var am={[$d]:yQ};function O0(e){return e===null||!tj(e)?!0:pn.isFrozen(e)}var qp="MapSet",fw="Patches",aD={};function Pc(e){const t=aD[e];return t||sa(0,e),t}var xQ=e=>!!aD[e],Bd,iD=()=>Bd,vQ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:xQ(qp)?Pc(qp):void 0});function BP(e,t){t&&(e.patchPlugin_=Pc(fw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hw(e){mw(e),e.drafts_.forEach(bQ),e.drafts_=null}function mw(e){e===Bd&&(Bd=e.parent_)}var UP=e=>Bd=vQ(Bd,e);function bQ(e){const t=e[Dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Dr].modified_&&(hw(t),sa(4)),ya(e)&&(e=WP(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Dr].base_,e,t)}else e=WP(t,r);return wQ(t,e,!0),hw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rD?e:void 0}function WP(e,t){if(O0(t))return t;const r=t[Dr];if(!r)return aj(t,e.handledSet_,e);if(!A0(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);lD(r,e)}return r.copy_}function wQ(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nj(t,r)}function sD(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var A0=(e,t)=>e.scope_===t,_Q=[];function oD(e,t,r,n){const a=oi(e),i=e.type_;if(n!==void 0&&uw(a,n,i)===t){Kp(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Sf(a,(u,d)=>{if(Ei(d)){const f=l.get(d)||[];f.push(u),l.set(d,f)}})}const o=e.draftLocations_.get(t)??_Q;for(const l of o)Kp(a,l,r,i)}function jQ(e,t,r){e.callbacks_.push(function(a){var l;const i=t;if(!i||!A0(i,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(i);const o=rj(i);oD(e,i.draft_??i,o,r),lD(i,a)})}function lD(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}sD(e)}}function kQ(e,t,r){const{scope_:n}=e;if(Ei(r)){const a=r[Dr];A0(a,n)&&a.callbacks_.push(function(){Wm(e);const o=rj(a);oD(e,r,o,t)})}else ya(r)&&e.callbacks_.push(function(){const i=oi(e);uw(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&aj(uw(e.copy_,t,e.type_),n.handledSet_,n)})}function aj(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ei(e)||t.has(e)||!ya(e)||O0(e)||(t.add(e),Sf(e,(n,a)=>{if(Ei(a)){const i=a[Dr];if(A0(i,r)){const o=rj(i);Kp(e,n,o,e.type_),sD(i)}}else ya(a)&&aj(a,t,r)})),e}function NQ(e,t){const r=P0(e),n={type_:r?1:0,scope_:t?t.scope_:iD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=ij;r&&(a=[n],i=Ud);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,[l,n]}var ij={get(e,t){if(t===Dr)return e;const r=oi(e);if(!$P(r,t,e.type_))return SQ(e,r,t);const n=r[t];if(e.finalized_||!ya(n))return n;if(n===iv(e.base_,t)){Wm(e);const a=e.type_===1?+t:t,i=gw(e.scope_,n,e,a);return e.copy_[a]=i}return n},has(e,t){return t in oi(e)},ownKeys(e){return Reflect.ownKeys(oi(e))},set(e,t,r){const n=cD(oi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=iv(oi(e),t),i=a==null?void 0:a[Dr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(gQ(r,a)&&(r!==void 0||$P(e.base_,t,e.type_)))return!0;Wm(e),pw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),kQ(e,t,r)),!0},deleteProperty(e,t){return Wm(e),iv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),pw(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=oi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Hm]:!0,[cw]:e.type_!==1||t!=="length",[Vp]:n[Vp],[$d]:r[t]}},defineProperty(){sa(11)},getPrototypeOf(e){return Sc(e.base_)},setPrototypeOf(){sa(12)}},Ud={};Sf(ij,(e,t)=>{Ud[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Ud.deleteProperty=function(e,t){return Ud.set.call(this,e,t,void 0)};Ud.set=function(e,t,r){return ij.set.call(this,e[0],t,r,e[0])};function iv(e,t){const r=e[Dr];return(r?oi(r):e)[t]}function SQ(e,t,r){var a;const n=cD(t,r);return n?$d in n?n[$d]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function cD(e,t){if(!(t in e))return;let r=Sc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Sc(r)}}function pw(e){e.modified_||(e.modified_=!0,e.parent_&&pw(e.parent_))}function Wm(e){e.copy_||(e.assigned_=new Map,e.copy_=dw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var PQ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(_l(r)&&!_l(n)){const o=n;n=r;const l=this;return function(d=o,...f){return l.produce(d,h=>n.call(this,h,...f))}}_l(n)||sa(6),a!==void 0&&!_l(a)&&sa(7);let i;if(ya(r)){const o=UP(this),l=gw(o,r,void 0);let u=!0;try{i=n(l),u=!1}finally{u?hw(o):mw(o)}return BP(o,a),HP(i,o)}else if(!r||!tj(r)){if(i=n(r),i===void 0&&(i=r),i===rD&&(i=void 0),this.autoFreeze_&&nj(i,!0),a){const o=[],l=[];Pc(fw).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),a(o,l)}return i}else sa(1,r)},this.produceWithPatches=(r,n)=>{if(_l(r))return(l,...u)=>this.produceWithPatches(l,d=>r(d,...u));let a,i;return[this.produce(r,n,(l,u)=>{a=l,i=u}),a,i]},av(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),av(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),av(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ya(t)||sa(8),Ei(t)&&(t=ha(t));const r=UP(this),n=gw(r,t,void 0);return n[Dr].isManual_=!0,mw(r),n}finishDraft(t,r){const n=t&&t[Dr];(!n||!n.isManual_)&&sa(9);const{scope_:a}=n;return BP(a,r),HP(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Pc(fw).applyPatches_;return Ei(t)?a(t,r):this.produce(t,i=>a(i,r))}};function gw(e,t,r,n){const[a,i]=C0(t)?Pc(qp).proxyMap_(t,r):E0(t)?Pc(qp).proxySet_(t,r):NQ(t,r);return((r==null?void 0:r.scope_)??iD()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?jQ(r,i,n):i.callbacks_.push(function(u){var f;(f=u.mapSetPlugin_)==null||f.fixSetContents(i);const{patchPlugin_:d}=u;i.modified_&&d&&d.generatePatches_(i,[],u)}),a}function ha(e){return Ei(e)||sa(10,e),uD(e)}function uD(e){if(!ya(e)||O0(e))return e;const t=e[Dr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=dw(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=dw(e,!0);return Sf(r,(a,i)=>{Kp(r,a,uD(i))},n),t&&(t.finalized_=!1),r}var CQ=new PQ,dD=CQ.produce;function fD(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var EQ=fD(),OQ=fD,AQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hp:Hp.apply(null,arguments)};function Vn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(yn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>tD(n)&&n.type===e,r}var hD=class Zu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Zu.prototype)}static get[Symbol.species](){return Zu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Zu(...t[0].concat(this)):new Zu(...t.concat(this))}};function VP(e){return ya(e)?dD(e,()=>{}):e}function im(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function TQ(e){return typeof e=="boolean"}var MQ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new hD;return r&&(TQ(r)?o.push(EQ):o.push(OQ(r.extraArgument))),o},mD="RTK_autoBatch",ft=()=>e=>({payload:e,meta:{[mD]:!0}}),KP=e=>t=>{setTimeout(t,e)},pD=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:KP(10):e.type==="callback"?e.queueNotification:KP(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const h=()=>a&&f(),p=n.subscribe(h);return l.add(f),()=>{p(),l.delete(f)}},dispatch(f){var h;try{return a=!((h=f==null?void 0:f.meta)!=null&&h[mD]),i=!a,i&&(o||(o=!0,u(d))),n.dispatch(f)}finally{a=!0}}})},IQ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new hD(e);return n&&a.push(pD(typeof n=="object"?n:void 0)),a};function LQ(e){const t=MQ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(ej(r))l=eD(r);else throw new Error(yn(1));let u;typeof n=="function"?u=n(t):u=t();let d=Hp;a&&(d=AQ({trace:!1,...typeof a=="object"&&a}));const f=mQ(...u),h=IQ(f);let p=typeof o=="function"?o(h):h();const g=d(...p);return J4(l,i,g)}function gD(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(yn(28));if(l in t)throw new Error(yn(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function DQ(e){return typeof e=="function"}function RQ(e,t){let[r,n,a]=gD(t),i;if(DQ(e))i=()=>VP(e());else{const l=VP(e);i=()=>l}function o(l=i(),u){let d=[r[u.type],...n.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[a]),d.reduce((f,h)=>{if(h)if(Ei(f)){const g=h(f,u);return g===void 0?f:g}else{if(ya(f))return dD(f,p=>h(p,u));{const p=h(f,u);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},l)}return o.getInitialState=i,o}var zQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",FQ=(e=21)=>{let t="",r=e;for(;r--;)t+=zQ[Math.random()*64|0];return t},$Q=Symbol.for("rtk-slice-createasyncthunk");function BQ(e,t){return`${e}/${t}`}function UQ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[$Q];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(yn(11));const l=(typeof a.reducers=="function"?a.reducers(WQ()):a.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(N,P){const C=typeof N=="string"?N:N.type;if(!C)throw new Error(yn(12));if(C in d.sliceCaseReducersByType)throw new Error(yn(13));return d.sliceCaseReducersByType[C]=P,f},addMatcher(N,P){return d.sliceMatchers.push({matcher:N,reducer:P}),f},exposeAction(N,P){return d.actionCreators[N]=P,f},exposeCaseReducer(N,P){return d.sliceCaseReducersByName[N]=P,f}};u.forEach(N=>{const P=l[N],C={reducerName:N,type:BQ(i,N),createNotation:typeof a.reducers=="function"};KQ(P)?ZQ(C,P,f,t):VQ(C,P,f)});function h(){const[N={},P=[],C=void 0]=typeof a.extraReducers=="function"?gD(a.extraReducers):[a.extraReducers],A={...N,...d.sliceCaseReducersByType};return RQ(a.initialState,O=>{for(let T in A)O.addCase(T,A[T]);for(let T of d.sliceMatchers)O.addMatcher(T.matcher,T.reducer);for(let T of P)O.addMatcher(T.matcher,T.reducer);C&&O.addDefaultCase(C)})}const p=N=>N,g=new Map,y=new WeakMap;let b;function _(N,P){return b||(b=h()),b(N,P)}function w(){return b||(b=h()),b.getInitialState()}function k(N,P=!1){function C(O){let T=O[N];return typeof T>"u"&&P&&(T=im(y,C,w)),T}function A(O=p){const T=im(g,P,()=>new WeakMap);return im(T,O,()=>{const $={};for(const[I,z]of Object.entries(a.selectors??{}))$[I]=HQ(z,O,()=>im(y,O,w),P);return $})}return{reducerPath:N,getSelectors:A,get selectors(){return A(C)},selectSlice:C}}const j={name:i,reducer:_,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:w,...k(o),injectInto(N,{reducerPath:P,...C}={}){const A=P??o;return N.inject({reducerPath:A,reducer:_},C),{...j,...k(A,!0)}}};return j}}function HQ(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var cn=UQ();function WQ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function VQ({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!qQ(n))throw new Error(yn(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Vn(e,o):Vn(e))}function KQ(e){return e._reducerDefinitionType==="asyncThunk"}function qQ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ZQ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(yn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:u,settled:d,options:f}=r,h=a(e,i,f);n.exposeAction(t,h),o&&n.addCase(h.fulfilled,o),l&&n.addCase(h.pending,l),u&&n.addCase(h.rejected,u),d&&n.addMatcher(h.settled,d),n.exposeCaseReducer(t,{fulfilled:o||sm,pending:l||sm,rejected:u||sm,settled:d||sm})}function sm(){}var YQ="task",yD="listener",xD="completed",sj="cancelled",GQ=`task-${sj}`,XQ=`task-${xD}`,yw=`${yD}-${sj}`,QQ=`${yD}-${xD}`,T0=class{constructor(e){vu(this,"name","TaskAbortError");vu(this,"message");this.code=e,this.message=`${YQ} ${sj} (reason: ${e})`}},oj=(e,t)=>{if(typeof e!="function")throw new TypeError(yn(32))},Zp=()=>{},vD=(e,t=Zp)=>(e.catch(t),e),bD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Mo=e=>{if(e.aborted)throw new T0(e.reason)};function wD(e,t){let r=Zp;return new Promise((n,a)=>{const i=()=>a(new T0(e.reason));if(e.aborted){i();return}r=bD(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Zp})}var JQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof T0?"cancelled":"rejected",error:r}}finally{t==null||t()}},Yp=e=>t=>vD(wD(e,t).then(r=>(Mo(e),r))),_D=e=>{const t=Yp(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ql}=Object,qP={},M0="listenerMiddleware",eJ=(e,t)=>{const r=n=>bD(e,()=>n.abort(e.reason));return(n,a)=>{oj(n);const i=new AbortController;r(i);const o=JQ(async()=>{Mo(e),Mo(i.signal);const l=await n({pause:Yp(i.signal),delay:_D(i.signal),signal:i.signal});return Mo(i.signal),l},()=>i.abort(XQ));return a!=null&&a.autoJoin&&t.push(o.catch(Zp)),{result:Yp(e)(o),cancel(){i.abort(GQ)}}}},tJ=(e,t)=>{const r=async(n,a)=>{Mo(t);let i=()=>{};const l=[new Promise((u,d)=>{let f=e({predicate:n,effect:(h,p)=>{p.unsubscribe(),u([h,p.getState(),p.getOriginalState()])}});i=()=>{f(),d()}})];a!=null&&l.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await wD(t,Promise.race(l));return Mo(t),u}finally{i()}};return(n,a)=>vD(r(n,a))},jD=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Vn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(yn(21));return oj(i),{predicate:a,type:t,effect:i}},kD=ql(e=>{const{type:t,predicate:r,effect:n}=jD(e);return{id:FQ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(yn(22))}}},{withTypes:()=>kD}),ZP=(e,t)=>{const{type:r,effect:n,predicate:a}=jD(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},xw=e=>{e.pending.forEach(t=>{t.abort(yw)})},rJ=(e,t)=>()=>{for(const r of t.keys())xw(r);e.clear()},YP=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},ND=ql(Vn(`${M0}/add`),{withTypes:()=>ND}),nJ=Vn(`${M0}/removeAll`),SD=ql(Vn(`${M0}/remove`),{withTypes:()=>SD}),aJ=(...e)=>{console.error(`${M0}/error`,...e)},Cf=(e={})=>{const t=new Map,r=new Map,n=g=>{const y=r.get(g)??0;r.set(g,y+1)},a=g=>{const y=r.get(g)??1;y===1?r.delete(g):r.set(g,y-1)},{extra:i,onError:o=aJ}=e;oj(o);const l=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),y=>{g.unsubscribe(),y!=null&&y.cancelActive&&xw(g)}),u=g=>{const y=ZP(t,g)??kD(g);return l(y)};ql(u,{withTypes:()=>u});const d=g=>{const y=ZP(t,g);return y&&(y.unsubscribe(),g.cancelActive&&xw(y)),!!y};ql(d,{withTypes:()=>d});const f=async(g,y,b,_)=>{const w=new AbortController,k=tJ(u,w.signal),j=[];try{g.pending.add(w),n(g),await Promise.resolve(g.effect(y,ql({},b,{getOriginalState:_,condition:(N,P)=>k(N,P).then(Boolean),take:k,delay:_D(w.signal),pause:Yp(w.signal),extra:i,signal:w.signal,fork:eJ(w.signal,j),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((N,P,C)=>{N!==w&&(N.abort(yw),C.delete(N))})},cancel:()=>{w.abort(yw),g.pending.delete(w)},throwIfCancelled:()=>{Mo(w.signal)}})))}catch(N){N instanceof T0||YP(o,N,{raisedBy:"effect"})}finally{await Promise.all(j),w.abort(QQ),a(g),g.pending.delete(w)}},h=rJ(t,r);return{middleware:g=>y=>b=>{if(!tD(b))return y(b);if(ND.match(b))return u(b.payload);if(nJ.match(b)){h();return}if(SD.match(b))return d(b.payload);let _=g.getState();const w=()=>{if(_===qP)throw new Error(yn(23));return _};let k;try{if(k=y(b),t.size>0){const j=g.getState(),N=Array.from(t.values());for(const P of N){let C=!1;try{C=P.predicate(b,j,_)}catch(A){C=!1,YP(o,A,{raisedBy:"predicate"})}C&&f(P,b,g,w)}}}finally{_=qP}return k},startListening:u,stopListening:d,clearListeners:h}};function yn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},PD=cn({name:"chartLayout",initialState:iJ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:sJ,setLayout:oJ,setChartSize:lJ,setScale:cJ}=PD.actions,uJ=PD.reducer;function CD(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){dJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dJ(e,t,r){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kt(e,t,r){return Xe(e)||Xe(t)?r:Wn(t)?Nc(e,t,r):typeof t=="function"?t(e):r}var mJ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&je(e[i]))return Rl(Rl({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&je(e[o]))return Rl(Rl({},e),{},{[o]:e[o]+(a||0)})}return e},Hs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ED=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},OD=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:h,niceTicks:p,axisType:g}=e;if(!o)return null;var y=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=a==="category"&&o.bandwidth?o.bandwidth()/y:0;if(b=g==="angleAxis"&&i&&i.length>=2?Jr(i[0]-i[1])*2*b:b,h||p){var _=(h||p||[]).map((w,k)=>{var j=n?n.indexOf(w):w;return{coordinate:o(j)+b,value:w,offset:b,index:k}});return _.filter(w=>!wn(w.coordinate))}return u&&d?d.map((w,k)=>({coordinate:o(w)+b,value:w,index:k,offset:b})):o.ticks&&f!=null?o.ticks(f).map((w,k)=>({coordinate:o(w)+b,value:w,offset:b,index:k})):o.domain().map((w,k)=>({coordinate:o(w)+b,value:n?n[w]:w,index:k,offset:b}))},XP=1e-4,pJ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-XP,i=Math.max(n[0],n[1])+XP,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},gJ=(e,t)=>{if(!t||t.length!==2||!je(t[0])||!je(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!je(e[0])||e[0]<r)&&(a[0]=r),(!je(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},yJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=wn(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},xJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=wn(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},vJ={sign:yJ,expand:pX,none:kc,silhouette:gX,wiggle:yX,positive:xJ},bJ=(e,t,r)=>{var n=vJ[r],a=mX().keys(t).value((i,o)=>Number(kt(i,o,0))).order(ow).offset(n);return a(e)};function wJ(e){return e==null?void 0:String(e)}function Gp(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Xe(a[t.dataKey])){var l=k4(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=kt(a,Xe(o)?t.dataKey:o);return Xe(u)?null:t.scale(u)}var QP=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=kt(i,t.dataKey,t.scale.domain()[o]);return Xe(l)?null:t.scale(l)-a/2+n},_J=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},jJ=e=>{var t=e.flat(2).filter(je);return[Math.min(...t),Math.max(...t)]},kJ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],NJ=(e,t,r)=>{if(e!=null)return kJ(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((u,d)=>{var f=CD(d,t,r),h=jJ(f);return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},JP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=N0(t,f=>f.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var u=a[o],d=a[o-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function tC(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Rl(Rl({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Kc(e,t){if(e)return String(e);if(typeof t=="string")return t}var SJ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},PJ=(e,t)=>t==="centric"?e.angle:e.radius,zi=e=>e.layout.width,Fi=e=>e.layout.height,CJ=e=>e.layout.scale,AD=e=>e.layout.margin,I0=re(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),L0=re(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),TD="data-recharts-item-index",MD="data-recharts-item-data-key",Ef=60;function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){EJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EJ(e,t,r){return(t=OJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OJ(e){var t=AJ(e,"string");return typeof t=="symbol"?t:t+""}function AJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TJ=e=>e.brush.height;function MJ(e){var t=L0(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ef;return r+a}return r},0)}function IJ(e){var t=L0(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ef;return r+a}return r},0)}function LJ(e){var t=I0(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function DJ(e){var t=I0(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ur=re([zi,Fi,AD,TJ,MJ,IJ,LJ,DJ,X4,oQ],(e,t,r,n,a,i,o,l,u,d)=>{var f={left:(r.left||0)+a,right:(r.right||0)+i},h={top:(r.top||0)+o,bottom:(r.bottom||0)+l},p=om(om({},h),f),g=p.bottom;p.bottom+=n,p=mJ(p,u,d);var y=e-p.left-p.right,b=t-p.top-p.bottom;return om(om({brushBottom:g},p),{},{width:Math.max(y,0),height:Math.max(b,0)})}),RJ=re(ur,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),lj=re(zi,Fi,(e,t)=>({x:0,y:0,width:e,height:t})),zJ=x.createContext(null),qt=()=>x.useContext(zJ)!=null,D0=e=>e.brush,R0=re([D0,ur,AD],(e,t,r)=>({height:e.height,x:je(e.x)?e.x:t.left,y:je(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:je(e.width)?e.width:t.width})),ID={},LD={},DD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const u=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),f=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},h=()=>{d&&f(),b()};let p=null;const g=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,h()},n)},y=()=>{p!==null&&(clearTimeout(p),p=null)},b=()=>{y(),o=void 0,l=null},_=()=>{f()},w=function(...k){if(a!=null&&a.aborted)return;o=this,l=k;const j=p==null;g(),u&&j&&f()};return w.schedule=g,w.cancel=b,w.flush=_,a==null||a.addEventListener("abort",b,{once:!0}),w}e.debounce=t})(DD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DD;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:u}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let f,h=null;const p=t.debounce(function(...b){f=n.apply(this,b),h=null},a,{edges:d}),g=function(...b){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(f=n.apply(this,b),h=Date.now(),p.cancel(),p.schedule(),f):(p.apply(this,b),f)},y=()=>(p.flush(),f);return g.cancel=p.cancel,g.flush=y,g}e.debounce=r})(LD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LD;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(ID);var FJ=ID.throttle;const $J=Wa(FJ);var Xp=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},RD=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=Ci(n)?e:Number(n),u=Ci(a)?t:Number(a);return i&&i>0&&(l?u=l/i:u&&(l=u*i),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},BJ={width:0,height:0,overflow:"visible"},UJ={width:0,overflowX:"visible"},HJ={height:0,overflowY:"visible"},WJ={},VJ=e=>{var{width:t,height:r}=e,n=Ci(t),a=Ci(r);return n&&a?BJ:n?UJ:a?HJ:WJ};function KJ(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function ut(e){return Number.isFinite(e)}function $a(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vw.apply(null,arguments)}function nC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(r),!0).forEach(function(n){qJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qJ(e,t,r){return(t=ZJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZJ(e){var t=YJ(e,"string");return typeof t=="symbol"?t:t+""}function YJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zD=x.createContext({width:-1,height:-1});function GJ(e){return $a(e.width)&&$a(e.height)}function FD(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return GJ(a)?x.createElement(zD.Provider,{value:a},t):null}var cj=()=>x.useContext(zD),XJ=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:f=0,id:h,className:p,onResize:g,style:y={}}=e,b=x.useRef(null),_=x.useRef();_.current=g,x.useImperativeHandle(t,()=>b.current);var[w,k]=x.useState({containerWidth:n.width,containerHeight:n.height}),j=x.useCallback((O,T)=>{k($=>{var I=Math.round(O),z=Math.round(T);return $.containerWidth===I&&$.containerHeight===z?$:{containerWidth:I,containerHeight:z}})},[]);x.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return kf;var O=z=>{var U,{width:F,height:q}=z[0].contentRect;j(F,q),(U=_.current)===null||U===void 0||U.call(_,F,q)};f>0&&(O=$J(O,f,{trailing:!0,leading:!1}));var T=new ResizeObserver(O),{width:$,height:I}=b.current.getBoundingClientRect();return j($,I),T.observe(b.current),()=>{T.disconnect()}},[j,f]);var{containerWidth:N,containerHeight:P}=w;Xp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:C,calculatedHeight:A}=RD(N,P,{width:a,height:i,aspect:r,maxHeight:u});return Xp(C!=null&&C>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,A,a,i,o,l,r),x.createElement("div",{id:h?"".concat(h):void 0,className:qe("recharts-responsive-container",p),style:aC(aC({},y),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:u}),ref:b},x.createElement("div",{style:VJ({width:a,height:i})},x.createElement(FD,{width:C,height:A},d)))}),gs=x.forwardRef((e,t)=>{var r=cj();if($a(r.width)&&$a(r.height))return e.children;var{width:n,height:a}=KJ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=RD(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return je(i)&&je(o)?x.createElement(FD,{width:i,height:o},e.children):x.createElement(XJ,vw({},e,{width:n,height:a,ref:t}))});function $D(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var qc=()=>{var e,t=qt(),r=ve(RJ),n=ve(R0),a=(e=ve(D0))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},QJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BD=()=>{var e;return(e=ve(ur))!==null&&e!==void 0?e:QJ},uj=()=>ve(zi),dj=()=>ve(Fi),JJ=()=>ve(e=>e.layout.margin),Ze=e=>e.layout.layoutType,Of=()=>ve(Ze),eee=()=>{var e=Of();return e!==void 0},z0=e=>{var t=yt(),r=qt(),{width:n,height:a}=e,i=cj(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),x.useEffect(()=>{!r&&$a(o)&&$a(l)&&t(lJ({width:o,height:l}))},[t,r,o,l]),null},UD=Symbol.for("immer-nothing"),iC=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function oa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Hd=Object.getPrototypeOf;function Ec(e){return!!e&&!!e[_n]}function qo(e){var t;return e?HD(e)||Array.isArray(e)||!!e[iC]||!!((t=e.constructor)!=null&&t[iC])||Af(e)||$0(e):!1}var tee=Object.prototype.constructor.toString(),sC=new WeakMap;function HD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=sC.get(r);return n===void 0&&(n=Function.toString.call(r),sC.set(r,n)),n===tee}function Qp(e,t,r=!0){F0(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function F0(e){const t=e[_n];return t?t.type_:Array.isArray(e)?1:Af(e)?2:$0(e)?3:0}function bw(e,t){return F0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function WD(e,t,r){const n=F0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ree(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Af(e){return e instanceof Map}function $0(e){return e instanceof Set}function io(e){return e.copy_||e.base_}function ww(e,t){if(Af(e))return new Map(e);if($0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=HD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[_n];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Hd(e),n)}else{const n=Hd(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function fj(e,t=!1){return B0(e)||Ec(e)||!qo(e)||(F0(e)>1&&Object.defineProperties(e,{set:lm,add:lm,clear:lm,delete:lm}),Object.freeze(e),t&&Object.values(e).forEach(r=>fj(r,!0))),e}function nee(){oa(2)}var lm={value:nee};function B0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var aee={};function Zo(e){const t=aee[e];return t||oa(0,e),t}var Wd;function VD(){return Wd}function iee(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oC(e,t){t&&(Zo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _w(e){jw(e),e.drafts_.forEach(see),e.drafts_=null}function jw(e){e===Wd&&(Wd=e.parent_)}function lC(e){return Wd=iee(Wd,e)}function see(e){const t=e[_n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function cC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[_n].modified_&&(_w(t),oa(4)),qo(e)&&(e=Jp(t,e),t.parent_||eg(t,e)),t.patches_&&Zo("Patches").generateReplacementPatches_(r[_n].base_,e,t.patches_,t.inversePatches_)):e=Jp(t,r,[]),_w(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==UD?e:void 0}function Jp(e,t,r){if(B0(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[_n];if(!a)return Qp(t,(i,o)=>uC(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return eg(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),Qp(o,(u,d)=>uC(e,a,i,u,d,r,l),n),eg(e,i,!1),r&&e.patches_&&Zo("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function uC(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=B0(a);if(!(l&&!o)){if(Ec(a)){const u=i&&t&&t.type_!==3&&!bw(t.assigned_,n)?i.concat(n):void 0,d=Jp(e,a,u);if(WD(r,n,d),Ec(d))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(qo(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Jp(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Af(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&eg(e,a)}}}function eg(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fj(t,r)}function oee(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:VD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=hj;r&&(a=[n],i=Vd);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var hj={get(e,t){if(t===_n)return e;const r=io(e);if(!bw(r,t))return lee(e,r,t);const n=r[t];return e.finalized_||!qo(n)?n:n===sv(e.base_,t)?(ov(e),e.copy_[t]=Nw(n,e)):n},has(e,t){return t in io(e)},ownKeys(e){return Reflect.ownKeys(io(e))},set(e,t,r){const n=KD(io(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=sv(io(e),t),i=a==null?void 0:a[_n];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ree(r,a)&&(r!==void 0||bw(e.base_,t)))return!0;ov(e),kw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return sv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ov(e),kw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=io(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){oa(11)},getPrototypeOf(e){return Hd(e.base_)},setPrototypeOf(){oa(12)}},Vd={};Qp(hj,(e,t)=>{Vd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Vd.deleteProperty=function(e,t){return Vd.set.call(this,e,t,void 0)};Vd.set=function(e,t,r){return hj.set.call(this,e[0],t,r,e[0])};function sv(e,t){const r=e[_n];return(r?io(r):e)[t]}function lee(e,t,r){var a;const n=KD(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function KD(e,t){if(!(t in e))return;let r=Hd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Hd(r)}}function kw(e){e.modified_||(e.modified_=!0,e.parent_&&kw(e.parent_))}function ov(e){e.copy_||(e.copy_=ww(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(u=i,...d){return o.produce(u,f=>r.call(this,f,...d))}}typeof r!="function"&&oa(6),n!==void 0&&typeof n!="function"&&oa(7);let a;if(qo(t)){const i=lC(this),o=Nw(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?_w(i):jw(i)}return oC(i,n),cC(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===UD&&(a=void 0),this.autoFreeze_&&fj(a,!0),n){const i=[],o=[];Zo("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else oa(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){qo(e)||oa(8),Ec(e)&&(e=uee(e));const t=lC(this),r=Nw(e,void 0);return r[_n].isManual_=!0,jw(t),r}finishDraft(e,t){const r=e&&e[_n];(!r||!r.isManual_)&&oa(9);const{scope_:n}=r;return oC(n,t),cC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Zo("Patches").applyPatches_;return Ec(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Nw(e,t){const r=Af(e)?Zo("MapSet").proxyMap_(e,t):$0(e)?Zo("MapSet").proxySet_(e,t):oee(e,t);return(t?t.scope_:VD()).drafts_.push(r),r}function uee(e){return Ec(e)||oa(10,e),qD(e)}function qD(e){if(!qo(e)||B0(e))return e;const t=e[_n];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ww(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ww(e,!0);return Qp(r,(a,i)=>{WD(r,a,qD(i))},n),t&&(t.finalized_=!1),r}var dee=new cee;dee.produce;var fee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ZD=cn({name:"legend",initialState:fee,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ft()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ha(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:ft()},removeLegendPayload:{reducer(e,t){var r=ha(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ft()}}}),{setLegendSize:dC,setLegendSettings:hee,addLegendPayload:mee,replaceLegendPayload:pee,removeLegendPayload:gee}=ZD.actions,yee=ZD.reducer,xee=["contextPayload"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sw.apply(null,arguments)}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){vee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vee(e,t,r){return(t=bee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bee(e){var t=wee(e,"string");return typeof t=="symbol"?t:t+""}function wee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ee(e,t){if(e==null)return{};var r,n,a=jee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kee(e){return e.value}function Nee(e){var{contextPayload:t}=e,r=_ee(e,xee),n=W4(t,e.payloadUniqBy,kee),a=Oc(Oc({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,a):typeof e.content=="function"?x.createElement(e.content,a):x.createElement(VX,a)}function See(e,t,r,n,a,i){var{layout:o,align:l,verticalAlign:u}=t,d,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?d={left:((n||0)-i.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?f={top:((a||0)-i.height)/2}:f=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Oc(Oc({},d),f)}function Pee(e){var t=yt();return x.useEffect(()=>{t(hee(e))},[t,e]),null}function Cee(e){var t=yt();return x.useEffect(()=>(t(dC(e)),()=>{t(dC({width:0,height:0}))}),[t,e]),null}function Eee(e,t,r,n){return e==="vertical"&&je(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var Oee={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function mj(e){var t=Ut(e,Oee),r=uQ(),n=zG(),a=JJ(),{width:i,height:o,wrapperStyle:l,portal:u}=t,[d,f]=Q4([r]),h=uj(),p=dj();if(h==null||p==null)return null;var g=h-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),y=Eee(t.layout,o,i,g),b=u?l:Oc(Oc({position:"absolute",width:(y==null?void 0:y.width)||i||"auto",height:(y==null?void 0:y.height)||o||"auto"},See(l,t,a,h,p,d)),l),_=u??n;if(_==null||r==null)return null;var w=x.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},x.createElement(Pee,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&x.createElement(Cee,{width:d.width,height:d.height}),x.createElement(Nee,Sw({},t,y,{margin:a,chartWidth:h,chartHeight:p,contextPayload:r})));return Rc.createPortal(w,_)}mj.displayName="Legend";function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pw.apply(null,arguments)}function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(r),!0).forEach(function(n){Aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aee(e,t,r){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tee(e){var t=Mee(e,"string");return typeof t=="symbol"?t:t+""}function Mee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iee(e){return Array.isArray(e)&&Wn(e[0])&&Wn(e[1])?e.join(" ~ "):e}var Lee=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:h,accessibilityLayer:p=!1}=e,g=()=>{if(i&&i.length){var P={padding:0,margin:0},C=(l?N0(i,l):i).map((A,O)=>{if(A.type==="none")return null;var T=A.formatter||o||Iee,{value:$,name:I}=A,z=$,U=I;if(T){var F=T($,I,A,O,i);if(Array.isArray(F))[z,U]=F;else if(F!=null)z=F;else return null}var q=lv({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:q},Wn(U)?x.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Wn(U)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},z),x.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:P},C)}return null},y=lv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=lv({margin:0},a),_=!Xe(f),w=_?f:"",k=qe("recharts-default-tooltip",u),j=qe("recharts-tooltip-label",d);_&&h&&i!==void 0&&i!==null&&(w=h(f,i));var N=p?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Pw({className:k,style:y},N),x.createElement("p",{className:j,style:b},x.isValidElement(w)?w:"".concat(w)),g())},Mu="recharts-tooltip-wrapper",Dee={visibility:"hidden"};function Ree(e){var{coordinate:t,translateX:r,translateY:n}=e;return qe(Mu,{["".concat(Mu,"-right")]:je(r)&&t&&je(t.x)&&r>=t.x,["".concat(Mu,"-left")]:je(r)&&t&&je(t.x)&&r<t.x,["".concat(Mu,"-bottom")]:je(n)&&t&&je(t.y)&&n>=t.y,["".concat(Mu,"-top")]:je(n)&&t&&je(t.y)&&n<t.y})}function mC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(i&&je(i[n]))return i[n];var f=r[n]-l-(a>0?a:0),h=r[n]+a;if(t[n])return o[n]?f:h;var p=u[n];if(p==null)return 0;if(o[n]){var g=f,y=p;return g<y?Math.max(h,p):Math.max(f,p)}if(d==null)return 0;var b=h+l,_=p+d;return b>_?Math.max(f,p):Math.max(h,p)}function zee(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Fee(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,d,f,h;return o.height>0&&o.width>0&&r?(f=mC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=mC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=zee({translateX:f,translateY:h,useTranslate3d:l})):d=Dee,{cssProperties:d,cssClasses:Ree({translateX:f,translateY:h,coordinate:r})}}function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){Cw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cw(e,t,r){return(t=$ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Uee extends x.PureComponent{constructor(){super(...arguments),Cw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Cw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:f,reverseDirection:h,useTranslate3d:p,viewBox:g,wrapperStyle:y,lastBoundingBox:b,innerRef:_,hasPortalFromProps:w}=this.props,{cssClasses:k,cssProperties:j}=Fee({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:f,reverseDirection:h,tooltipBox:{height:b.height,width:b.width},useTranslate3d:p,viewBox:g}),N=w?{}:cm(cm({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),P=cm(cm({},N),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:P,ref:_},i)}}var YD=()=>{var e;return(e=ve(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ew.apply(null,arguments)}function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){Hee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hee(e,t,r){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wee(e){var t=Vee(e,"string");return typeof t=="symbol"?t:t+""}function Vee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xC={curveBasisClosed:nX,curveBasisOpen:aX,curveBasis:rX,curveBumpX:UG,curveBumpY:HG,curveLinearClosed:iX,curveLinear:x0,curveMonotoneX:sX,curveMonotoneY:oX,curveNatural:lX,curveStep:cX,curveStepAfter:dX,curveStepBefore:uX},tg=e=>ut(e.x)&&ut(e.y),vC=e=>e.base!=null&&tg(e.base)&&tg(e),Iu=e=>e.x,Lu=e=>e.y,Kee=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(jf(e));return(r==="curveMonotone"||r==="curveBump")&&t?xC["".concat(r).concat(t==="vertical"?"Y":"X")]:xC[r]||x0},qee=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=Kee(t,a),l=i?r.filter(tg):r,u;if(Array.isArray(n)){var d=r.map((g,y)=>yC(yC({},g),{},{base:n[y]}));a==="vertical"?u=tm().y(Lu).x1(Iu).x0(g=>g.base.x):u=tm().x(Iu).y1(Lu).y0(g=>g.base.y);var f=u.defined(vC).curve(o),h=i?d.filter(vC):d;return f(h)}a==="vertical"&&je(n)?u=tm().y(Lu).x1(Iu).x0(n):je(n)?u=tm().x(Iu).y1(Lu).y0(n):u=u4().x(Iu).y(Lu);var p=u.defined(tg).curve(o);return p(l)},pj=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?qee(e):n;return x.createElement("path",Ew({},bn(e),B1(e),{className:qe("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Zee=["x","y","top","left","width","height","className"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(null,arguments)}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){Gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gee(e,t,r){return(t=Xee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xee(e){var t=Qee(e,"string");return typeof t=="symbol"?t:t+""}function Qee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jee(e,t){if(e==null)return{};var r,n,a=ete(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ete(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tte=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),rte=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,u=Jee(e,Zee),d=Yee({x:t,y:r,top:n,left:a,width:i,height:o},u);return!je(t)||!je(r)||!je(i)||!je(o)||!je(n)||!je(a)?null:x.createElement("path",Ow({},Cr(d),{className:qe("recharts-cross",l),d:tte(t,r,i,o,n,a)}))};function nte(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function wC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(r),!0).forEach(function(n){ate(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ate(e,t,r){return(t=ite(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ite(e){var t=ste(e,"string");return typeof t=="symbol"?t:t+""}function ste(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ote=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),GD=(e,t,r)=>e.map(n=>"".concat(ote(n)," ").concat(t,"ms ").concat(r)).join(","),lte=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Kd=(e,t)=>Object.keys(t).reduce((r,n)=>_C(_C({},r),{},{[n]:e(n,t[n])}),{});function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){cte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cte(e,t,r){return(t=ute(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ute(e){var t=dte(e,"string");return typeof t=="symbol"?t:t+""}function dte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rg=(e,t,r)=>e+(t-e)*r,Aw=e=>{var{from:t,to:r}=e;return t!==r},XD=(e,t,r)=>{var n=Kd((a,i)=>{if(Aw(i)){var[o,l]=e(i.from,i.to,i.velocity);return Vt(Vt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Kd((a,i)=>Aw(i)?Vt(Vt({},i),{},{velocity:rg(i.velocity,n[a].velocity,r),from:rg(i.from,n[a].from,r)}):i,t):XD(e,n,r-1)};function fte(e,t,r,n,a,i){var o,l=n.reduce((p,g)=>Vt(Vt({},p),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),u=()=>Kd((p,g)=>g.from,l),d=()=>!Object.values(l).filter(Aw).length,f=null,h=p=>{o||(o=p);var g=p-o,y=g/r.dt;l=XD(r,l,y),a(Vt(Vt(Vt({},e),t),u())),o=p,d()||(f=i.setTimeout(h))};return()=>(f=i.setTimeout(h),()=>{var p;(p=f)===null||p===void 0||p()})}function hte(e,t,r,n,a,i,o){var l=null,u=a.reduce((h,p)=>Vt(Vt({},h),{},{[p]:[e[p],t[p]]}),{}),d,f=h=>{d||(d=h);var p=(h-d)/n,g=Kd((b,_)=>rg(..._,r(p)),u);if(i(Vt(Vt(Vt({},e),t),g)),p<1)l=o.setTimeout(f);else{var y=Kd((b,_)=>rg(..._,r(1)),u);i(Vt(Vt(Vt({},e),t),y))}};return()=>(l=o.setTimeout(f),()=>{var h;(h=l)===null||h===void 0||h()})}const mte=(e,t,r,n,a,i)=>{var o=lte(e,t);return r==null?()=>(a(Vt(Vt({},e),t)),()=>{}):r.isStepper===!0?fte(e,t,r,o,a,i):hte(e,t,r,n,o,a,i)};var ng=1e-4,QD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],JD=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),kC=(e,t)=>r=>{var n=QD(e,t);return JD(n,r)},pte=(e,t)=>r=>{var n=QD(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return JD(a,r)},gte=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((a=i[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var o=i[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},yte=(e,t,r,n)=>{var a=kC(e,r),i=kC(t,n),o=pte(e,r),l=d=>d>1?1:d<0?0:d,u=d=>{for(var f=d>1?1:d,h=f,p=0;p<8;++p){var g=a(h)-f,y=o(h);if(Math.abs(g-f)<ng||y<ng)return i(h);h=l(h-g/y)}return i(h)};return u.isStepper=!1,u},NC=function(){return yte(...gte(...arguments))},xte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,u)=>{var d=-(o-l)*r,f=u*n,h=u+(d-f)*a/1e3,p=u*a/1e3+o;return Math.abs(p-l)<ng&&Math.abs(h)<ng?[l,0]:[p,h]};return i.isStepper=!0,i.dt=a,i},vte=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NC(e);case"spring":return xte();default:if(e.split("(")[0]==="cubic-bezier")return NC(e)}return typeof e=="function"?e:null};function bte(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){a=e.setTimeout(i.bind(null,d),u);return}i(u),a=e.setTimeout(i.bind(null,d));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class wte{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function _te(){return bte(new wte)}var jte=x.createContext(_te);function kte(e,t){var r=x.useContext(jte);return x.useMemo(()=>t??r(e),[e,t,r])}var Nte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Tf={devToolsEnabled:!1,isSsr:Nte()},Ste={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SC={t:0},cv={t:1};function Mf(e){var t=Ut(e,Ste),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=t,f=r==="auto"?!Tf.isSsr:r,h=kte(t.animationId,t.animationManager),[p,g]=x.useState(f?SC:cv),y=x.useRef(null);return x.useEffect(()=>{f||g(cv)},[f]),x.useEffect(()=>{if(!f||!n)return kf;var b=mte(SC,cv,vte(i),a,g,h.getTimeoutController()),_=()=>{y.current=b()};return h.start([u,o,_,a,l]),()=>{h.stop(),y.current&&y.current(),l()}},[f,n,a,i,o,u,l,h]),d(p.t)}function If(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Fd(t)),n=x.useRef(e);return n.current!==e&&(r.current=Fd(t),n.current=e),r.current}var Pte=["radius"],Cte=["radius"];function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){Ete(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ete(e,t,r){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ote(e){var t=Ate(e,"string");return typeof t=="symbol"?t:t+""}function Ate(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(null,arguments)}function EC(e,t){if(e==null)return{};var r,n,a=Tte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OC=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>i?i:a[h];d="M".concat(e,",").concat(t+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(t)),d+="L ".concat(e+r-l*f[1],",").concat(t),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+o*f[1])),d+="L ".concat(e+r,",").concat(t+n-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(t+n)),d+="L ".concat(e+l*f[3],",").concat(t+n),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-o*f[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var g=Math.min(i,a);d="M ".concat(e,",").concat(t+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(t,`
            L `).concat(e+r-l*g,",").concat(t,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(t+o*g,`
            L `).concat(e+r,",").concat(t+n-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(t+n,`
            L `).concat(e+l*g,",").concat(t+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(t+n-o*g," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},AC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},e5=e=>{var t=Ut(e,AC),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var W=r.current.getTotalLength();W&&a(W)}catch{}},[]);var{x:i,y:o,width:l,height:u,radius:d,className:f}=t,{animationEasing:h,animationDuration:p,animationBegin:g,isAnimationActive:y,isUpdateAnimationActive:b}=t,_=x.useRef(l),w=x.useRef(u),k=x.useRef(i),j=x.useRef(o),N=x.useMemo(()=>({x:i,y:o,width:l,height:u,radius:d}),[i,o,l,u,d]),P=If(N,"rectangle-");if(i!==+i||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var C=qe("recharts-rectangle",f);if(!b){var A=Cr(t),{radius:O}=A,T=EC(A,Pte);return x.createElement("path",ag({},T,{radius:typeof d=="number"?d:void 0,className:C,d:OC(i,o,l,u,d)}))}var $=_.current,I=w.current,z=k.current,U=j.current,F="0px ".concat(n===-1?1:n,"px"),q="".concat(n,"px 0px"),H=GD(["strokeDasharray"],p,typeof h=="string"?h:AC.animationEasing);return x.createElement(Mf,{animationId:P,key:P,canBegin:n>0,duration:p,easing:h,isActive:b,begin:g},W=>{var M=nt($,l,W),D=nt(I,u,W),B=nt(z,i,W),V=nt(U,o,W);r.current&&(_.current=M,w.current=D,k.current=B,j.current=V);var G;y?W>0?G={transition:H,strokeDasharray:q}:G={strokeDasharray:F}:G={strokeDasharray:q};var Z=Cr(t),{radius:Q}=Z,ie=EC(Z,Cte);return x.createElement("path",ag({},ie,{radius:typeof d=="number"?d:void 0,className:C,d:OC(B,V,M,D,d),ref:r,style:CC(CC({},G),t.style)}))})};function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){Mte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mte(e,t,r){return(t=Ite(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ite(e){var t=Lte(e,"string");return typeof t=="symbol"?t:t+""}function Lte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ig=Math.PI/180,Dte=e=>e*180/Math.PI,yr=(e,t,r,n)=>({x:e+Math.cos(-ig*n)*r,y:t+Math.sin(-ig*n)*r}),Rte=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},zte=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},Fte=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=zte({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,u=Math.acos(l);return n>i&&(u=2*Math.PI-u),{radius:o,angle:Dte(u),angleInRadian:u}},$te=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},Bte=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},Ute=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=Fte({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:u,endAngle:d}=$te(t),f=i,h;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;h=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;h=f>=d&&f<=u}return h?MC(MC({},t),{},{radius:a,angle:Bte(f,t)}):null};function t5(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=yr(t,r,n,a),l=yr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(null,arguments)}var Hte=(e,t)=>{var r=Jr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},um=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,d=l*(o?1:-1)+n,f=Math.asin(l/d)/ig,h=u?a:a+i*f,p=yr(t,r,d,h),g=yr(t,r,n,h),y=u?a-i*f:a,b=yr(t,r,d*Math.cos(f*ig),y);return{center:p,circleTangency:g,lineTangency:b,theta:f}},r5=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=Hte(i,o),u=i+l,d=yr(t,r,a,i),f=yr(t,r,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var p=yr(t,r,n,i),g=yr(t,r,n,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(t,",").concat(r," Z");return h},Wte=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=e,f=Jr(d-u),{circleTangency:h,lineTangency:p,theta:g}=um({cx:t,cy:r,radius:a,angle:u,sign:f,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:b,theta:_}=um({cx:t,cy:r,radius:a,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:l}),w=l?Math.abs(u-d):Math.abs(u-d)-g-_;if(w<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):r5({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:d});var k="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:N,theta:P}=um({cx:t,cy:r,radius:n,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:C,lineTangency:A,theta:O}=um({cx:t,cy:r,radius:n,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),T=l?Math.abs(u-d):Math.abs(u-d)-P-O;if(T<0&&i===0)return"".concat(k,"L").concat(t,",").concat(r,"Z");k+="L".concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(T>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else k+="L".concat(t,",").concat(r,"Z");return k},Vte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},n5=e=>{var t=Ut(e,Vte),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f,className:h}=t;if(i<a||d===f)return null;var p=qe("recharts-sector",h),g=i-a,y=ga(o,g,0,!0),b;return y>0&&Math.abs(d-f)<360?b=Wte({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):b=r5({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:f}),x.createElement("path",Tw({},Cr(t),{className:p,d:b}))};function Kte(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(S4(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:l}=t,u=yr(n,a,i,l),d=yr(n,a,o,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return t5(t)}}var a5={},i5={},s5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q1;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(s5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s5;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(i5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J1,r=i5;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=a,a+=o;return u}e.range=n})(a5);var qte=a5.range;const o5=Wa(qte);function As(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zte(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gj(e){let t,r,n;e.length!==2?(t=As,r=(l,u)=>As(e(l),u),n=(l,u)=>e(l)-u):(t=e===As||e===Zte?e:Yte,r=e,n=e);function a(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const h=d+f>>>1;r(l[h],u)<0?d=h+1:f=h}while(d<f)}return d}function i(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const h=d+f>>>1;r(l[h],u)<=0?d=h+1:f=h}while(d<f)}return d}function o(l,u,d=0,f=l.length){const h=a(l,u,d,f-1);return h>d&&n(l[h-1],u)>-n(l[h],u)?h-1:h}return{left:a,center:o,right:i}}function Yte(){return 0}function l5(e){return e===null?NaN:+e}function*Gte(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Xte=gj(As),Lf=Xte.right;gj(l5).center;class IC extends Map{constructor(t,r=ere){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(LC(this,t))}has(t){return super.has(LC(this,t))}set(t,r){return super.set(Qte(this,t),r)}delete(t){return super.delete(Jte(this,t))}}function LC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Qte({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Jte({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function ere(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tre(e=As){if(e===As)return c5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function c5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rre=Math.sqrt(50),nre=Math.sqrt(10),are=Math.sqrt(2);function sg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=rre?10:i>=nre?5:i>=are?2:1;let l,u,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=r&&r<2?sg(e,t,r*2):[l,u,d]}function Mw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?sg(t,e,r):sg(e,t,r);if(!(i>=a))return[];const l=i-a+1,u=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)u[d]=(i-d)/-o;else for(let d=0;d<l;++d)u[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(a+d)/-o;else for(let d=0;d<l;++d)u[d]=(a+d)*o;return u}function Iw(e,t,r){return t=+t,e=+e,r=+r,sg(e,t,r)[2]}function Lw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Iw(t,e,r):Iw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function DC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function RC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function u5(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?c5:tre(a);n>r;){if(n-r>600){const u=n-r+1,d=t-r+1,f=Math.log(u),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(u-h)/u)*(d-u/2<0?-1:1),g=Math.max(r,Math.floor(t-d*h/u+p)),y=Math.min(n,Math.floor(t+(u-d)*h/u+p));u5(e,t,g,y,a)}const i=e[t];let o=r,l=n;for(Du(e,r,t),a(e[n],i)>0&&Du(e,r,n);o<l;){for(Du(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Du(e,r,l):(++l,Du(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Du(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ire(e,t,r){if(e=Float64Array.from(Gte(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return RC(e);if(t>=1)return DC(e);var n,a=(n-1)*t,i=Math.floor(a),o=DC(u5(e,i).subarray(0,i+1)),l=RC(e.subarray(i+1));return o+(l-o)*(a-i)}}function sre(e,t,r=l5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function ore(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function qn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function $i(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Dw=Symbol("implicit");function yj(){var e=new IC,t=[],r=[],n=Dw;function a(i){let o=e.get(i);if(o===void 0){if(n!==Dw)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new IC;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return yj(t,r).unknown(n)},qn.apply(a,arguments),a}function xj(){var e=yj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,u=0,d=0,f=.5;delete e.unknown;function h(){var p=t().length,g=a<n,y=g?a:n,b=g?n:a;i=(b-y)/Math.max(1,p-u+d*2),l&&(i=Math.floor(i)),y+=(b-y-i*(p-u))*f,o=i*(1-u),l&&(y=Math.round(y),o=Math.round(o));var _=ore(p).map(function(w){return y+i*w});return r(g?_.reverse():_)}return e.domain=function(p){return arguments.length?(t(p),h()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,h()):l},e.padding=function(p){return arguments.length?(u=Math.min(1,d=+p),h()):u},e.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),h()):u},e.paddingOuter=function(p){return arguments.length?(d=+p,h()):d},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},e.copy=function(){return xj(t(),[n,a]).round(l).paddingInner(u).paddingOuter(d).align(f)},qn.apply(h(),arguments)}function d5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return d5(t())},e}function lre(){return d5(xj.apply(null,arguments).paddingInner(1))}function cre(e){return function(){return e}}function og(e){return+e}var zC=[0,1];function Ir(e){return e}function Rw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:cre(isNaN(t)?NaN:.5)}function ure(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function dre(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Rw(a,n),i=r(o,i)):(n=Rw(n,a),i=r(i,o)),function(l){return i(n(l))}}function fre(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Rw(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var u=Lf(e,l,1,n)-1;return i[u](a[u](l))}}function Df(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function U0(){var e=zC,t=zC,r=vi,n,a,i,o=Ir,l,u,d;function f(){var p=Math.min(e.length,t.length);return o!==Ir&&(o=ure(e[0],e[p-1])),l=p>2?fre:dre,u=d=null,h}function h(p){return p==null||isNaN(p=+p)?i:(u||(u=l(e.map(n),t,r)))(n(o(p)))}return h.invert=function(p){return o(a((d||(d=l(t,e.map(n),aa)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,og),f()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),r=w1,f()},h.clamp=function(p){return arguments.length?(o=p?!0:Ir,f()):o!==Ir},h.interpolate=function(p){return arguments.length?(r=p,f()):r},h.unknown=function(p){return arguments.length?(i=p,h):i},function(p,g){return n=p,a=g,f()}}function vj(){return U0()(Ir,Ir)}function hre(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ac(e){return e=lg(Math.abs(e)),e?e[1]:NaN}function mre(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),i.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function pre(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var gre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qd(e){if(!(t=gre.exec(e)))throw new Error("invalid format: "+e);var t;return new bj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qd.prototype=bj.prototype;function bj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yre(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var f5;function xre(e,t){var r=lg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(f5=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+lg(e,Math.max(0,t+i-1))[0]}function FC(e,t){var r=lg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const $C={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hre,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FC(e*100,t),r:FC,s:xre,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BC(e){return e}var UC=Array.prototype.map,HC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vre(e){var t=e.grouping===void 0||e.thousands===void 0?BC:mre(UC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?BC:pre(UC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(h){h=qd(h);var p=h.fill,g=h.align,y=h.sign,b=h.symbol,_=h.zero,w=h.width,k=h.comma,j=h.precision,N=h.trim,P=h.type;P==="n"?(k=!0,P="g"):$C[P]||(j===void 0&&(j=12),N=!0,P="g"),(_||p==="0"&&g==="=")&&(_=!0,p="0",g="=");var C=b==="$"?r:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",A=b==="$"?n:/[%p]/.test(P)?o:"",O=$C[P],T=/[defgprs%]/.test(P);j=j===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function $(I){var z=C,U=A,F,q,H;if(P==="c")U=O(I)+U,I="";else{I=+I;var W=I<0||1/I<0;if(I=isNaN(I)?u:O(Math.abs(I),j),N&&(I=yre(I)),W&&+I==0&&y!=="+"&&(W=!1),z=(W?y==="("?y:l:y==="-"||y==="("?"":y)+z,U=(P==="s"?HC[8+f5/3]:"")+U+(W&&y==="("?")":""),T){for(F=-1,q=I.length;++F<q;)if(H=I.charCodeAt(F),48>H||H>57){U=(H===46?a+I.slice(F+1):I.slice(F))+U,I=I.slice(0,F);break}}}k&&!_&&(I=t(I,1/0));var M=z.length+I.length+U.length,D=M<w?new Array(w-M+1).join(p):"";switch(k&&_&&(I=t(D+I,D.length?w-U.length:1/0),D=""),g){case"<":I=z+I+U+D;break;case"=":I=z+D+I+U;break;case"^":I=D.slice(0,M=D.length>>1)+z+I+U+D.slice(M);break;default:I=D+z+I+U;break}return i(I)}return $.toString=function(){return h+""},$}function f(h,p){var g=d((h=qd(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Ac(p)/3)))*3,b=Math.pow(10,-y),_=HC[8+y/3];return function(w){return g(b*w)+_}}return{format:d,formatPrefix:f}}var dm,wj,h5;bre({thousands:",",grouping:[3],currency:["$",""]});function bre(e){return dm=vre(e),wj=dm.format,h5=dm.formatPrefix,dm}function wre(e){return Math.max(0,-Ac(Math.abs(e)))}function _re(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ac(t)/3)))*3-Ac(Math.abs(e)))}function jre(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ac(t)-Ac(e))+1}function m5(e,t,r,n){var a=Lw(e,t,r),i;switch(n=qd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=_re(a,o))&&(n.precision=i),h5(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=jre(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=wre(a))&&(n.precision=i-(n.type==="%")*2);break}}return wj(n)}function Ws(e){var t=e.domain;return e.ticks=function(r){var n=t();return Mw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return m5(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],u,d,f=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);f-- >0;){if(d=Iw(o,l,r),d===u)return n[a]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function p5(){var e=vj();return e.copy=function(){return Df(e,p5())},qn.apply(e,arguments),Ws(e)}function g5(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,og),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return g5(e).unknown(t)},e=arguments.length?Array.from(e,og):[0,1],Ws(r)}function y5(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function WC(e){return Math.log(e)}function VC(e){return Math.exp(e)}function kre(e){return-Math.log(-e)}function Nre(e){return-Math.exp(-e)}function Sre(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Pre(e){return e===10?Sre:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Cre(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KC(e){return(t,r)=>-e(-t,r)}function _j(e){const t=e(WC,VC),r=t.domain;let n=10,a,i;function o(){return a=Cre(n),i=Pre(n),r()[0]<0?(a=KC(a),i=KC(i),e(kre,Nre)):e(WC,VC),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let d=u[0],f=u[u.length-1];const h=f<d;h&&([d,f]=[f,d]);let p=a(d),g=a(f),y,b;const _=l==null?10:+l;let w=[];if(!(n%1)&&g-p<_){if(p=Math.floor(p),g=Math.ceil(g),d>0){for(;p<=g;++p)for(y=1;y<n;++y)if(b=p<0?y/i(-p):y*i(p),!(b<d)){if(b>f)break;w.push(b)}}else for(;p<=g;++p)for(y=n-1;y>=1;--y)if(b=p>0?y/i(-p):y*i(p),!(b<d)){if(b>f)break;w.push(b)}w.length*2<_&&(w=Mw(d,f,_))}else w=Mw(p,g,Math.min(g-p,_)).map(i);return h?w.reverse():w},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=qd(u)).precision==null&&(u.trim=!0),u=wj(u)),l===1/0)return u;const d=Math.max(1,n*l/t.ticks().length);return f=>{let h=f/i(Math.round(a(f)));return h*n<n-.5&&(h*=n),h<=d?u(f):""}},t.nice=()=>r(y5(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function x5(){const e=_j(U0()).domain([1,10]);return e.copy=()=>Df(e,x5()).base(e.base()),qn.apply(e,arguments),e}function qC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ZC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jj(e){var t=1,r=e(qC(t),ZC(t));return r.constant=function(n){return arguments.length?e(qC(t=+n),ZC(t)):t},Ws(r)}function v5(){var e=jj(U0());return e.copy=function(){return Df(e,v5()).constant(e.constant())},qn.apply(e,arguments)}function YC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ere(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ore(e){return e<0?-e*e:e*e}function kj(e){var t=e(Ir,Ir),r=1;function n(){return r===1?e(Ir,Ir):r===.5?e(Ere,Ore):e(YC(r),YC(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ws(t)}function Nj(){var e=kj(U0());return e.copy=function(){return Df(e,Nj()).exponent(e.exponent())},qn.apply(e,arguments),e}function Are(){return Nj.apply(null,arguments).exponent(.5)}function GC(e){return Math.sign(e)*e*e}function Tre(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function b5(){var e=vj(),t=[0,1],r=!1,n;function a(i){var o=Tre(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(GC(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,og)).map(GC)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return b5(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},qn.apply(a,arguments),Ws(a)}function w5(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=sre(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Lf(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(As),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return w5().domain(e).range(t).unknown(n)},qn.apply(i,arguments)}function _5(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(u){return u!=null&&u<=u?a[Lf(n,u,0,r)]:i}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},o.invertExtent=function(u){var d=a.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return _5().domain([e,t]).range(a).unknown(i)},qn.apply(Ws(o),arguments)}function j5(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Lf(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return j5().domain(e).range(t).unknown(r)},qn.apply(a,arguments)}const uv=new Date,dv=new Date;function Zt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const u=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let d;do u.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return u},a.filter=i=>Zt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(uv.setTime(+i),dv.setTime(+o),e(uv),e(dv),Math.floor(r(uv,dv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const cg=Zt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);cg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):cg);cg.range;const pi=1e3,zn=pi*60,gi=zn*60,Oi=gi*24,Sj=Oi*7,XC=Oi*30,fv=Oi*365,po=Zt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getUTCSeconds());po.range;const Pj=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pi)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getMinutes());Pj.range;const Cj=Zt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getUTCMinutes());Cj.range;const Ej=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pi-e.getMinutes()*zn)},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getHours());Ej.range;const Oj=Zt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getUTCHours());Oj.range;const Rf=Zt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zn)/Oi,e=>e.getDate()-1);Rf.range;const H0=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oi,e=>e.getUTCDate()-1);H0.range;const k5=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oi,e=>Math.floor(e/Oi));k5.range;function nl(e){return Zt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*zn)/Sj)}const W0=nl(0),ug=nl(1),Mre=nl(2),Ire=nl(3),Tc=nl(4),Lre=nl(5),Dre=nl(6);W0.range;ug.range;Mre.range;Ire.range;Tc.range;Lre.range;Dre.range;function al(e){return Zt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Sj)}const V0=al(0),dg=al(1),Rre=al(2),zre=al(3),Mc=al(4),Fre=al(5),$re=al(6);V0.range;dg.range;Rre.range;zre.range;Mc.range;Fre.range;$re.range;const Aj=Zt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Aj.range;const Tj=Zt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Tj.range;const Ai=Zt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ai.range;const Ti=Zt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ti.range;function N5(e,t,r,n,a,i){const o=[[po,1,pi],[po,5,5*pi],[po,15,15*pi],[po,30,30*pi],[i,1,zn],[i,5,5*zn],[i,15,15*zn],[i,30,30*zn],[a,1,gi],[a,3,3*gi],[a,6,6*gi],[a,12,12*gi],[n,1,Oi],[n,2,2*Oi],[r,1,Sj],[t,1,XC],[t,3,3*XC],[e,1,fv]];function l(d,f,h){const p=f<d;p&&([d,f]=[f,d]);const g=h&&typeof h.range=="function"?h:u(d,f,h),y=g?g.range(d,+f+1):[];return p?y.reverse():y}function u(d,f,h){const p=Math.abs(f-d)/h,g=gj(([,,_])=>_).right(o,p);if(g===o.length)return e.every(Lw(d/fv,f/fv,h));if(g===0)return cg.every(Math.max(Lw(d,f,h),1));const[y,b]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return y.every(b)}return[l,u]}const[Bre,Ure]=N5(Ti,Tj,V0,k5,Oj,Cj),[Hre,Wre]=N5(Ai,Aj,W0,Rf,Ej,Pj);function hv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ru(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Vre(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=zu(a),f=Fu(a),h=zu(i),p=Fu(i),g=zu(o),y=Fu(o),b=zu(l),_=Fu(l),w=zu(u),k=Fu(u),j={a:W,A:M,b:D,B,c:null,d:nE,e:nE,f:mne,g:kne,G:Sne,H:dne,I:fne,j:hne,L:S5,m:pne,M:gne,p:V,q:G,Q:sE,s:oE,S:yne,u:xne,U:vne,V:bne,w:wne,W:_ne,x:null,X:null,y:jne,Y:Nne,Z:Pne,"%":iE},N={a:Z,A:Q,b:ie,B:se,c:null,d:aE,e:aE,f:Ane,g:Bne,G:Hne,H:Cne,I:Ene,j:One,L:C5,m:Tne,M:Mne,p:oe,q:le,Q:sE,s:oE,S:Ine,u:Lne,U:Dne,V:Rne,w:zne,W:Fne,x:null,X:null,y:$ne,Y:Une,Z:Wne,"%":iE},P={a:$,A:I,b:z,B:U,c:F,d:tE,e:tE,f:one,g:eE,G:JC,H:rE,I:rE,j:nne,L:sne,m:rne,M:ane,p:T,q:tne,Q:cne,s:une,S:ine,u:Gre,U:Xre,V:Qre,w:Yre,W:Jre,x:q,X:H,y:eE,Y:JC,Z:ene,"%":lne};j.x=C(r,j),j.X=C(n,j),j.c=C(t,j),N.x=C(r,N),N.X=C(n,N),N.c=C(t,N);function C(X,me){return function(fe){var te=[],pe=-1,we=0,Oe=X.length,Pe,Ve,Ht;for(fe instanceof Date||(fe=new Date(+fe));++pe<Oe;)X.charCodeAt(pe)===37&&(te.push(X.slice(we,pe)),(Ve=QC[Pe=X.charAt(++pe)])!=null?Pe=X.charAt(++pe):Ve=Pe==="e"?" ":"0",(Ht=me[Pe])&&(Pe=Ht(fe,Ve)),te.push(Pe),we=pe+1);return te.push(X.slice(we,pe)),te.join("")}}function A(X,me){return function(fe){var te=Ru(1900,void 0,1),pe=O(te,X,fe+="",0),we,Oe;if(pe!=fe.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(me&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(we=mv(Ru(te.y,0,1)),Oe=we.getUTCDay(),we=Oe>4||Oe===0?dg.ceil(we):dg(we),we=H0.offset(we,(te.V-1)*7),te.y=we.getUTCFullYear(),te.m=we.getUTCMonth(),te.d=we.getUTCDate()+(te.w+6)%7):(we=hv(Ru(te.y,0,1)),Oe=we.getDay(),we=Oe>4||Oe===0?ug.ceil(we):ug(we),we=Rf.offset(we,(te.V-1)*7),te.y=we.getFullYear(),te.m=we.getMonth(),te.d=we.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Oe="Z"in te?mv(Ru(te.y,0,1)).getUTCDay():hv(Ru(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Oe+5)%7:te.w+te.U*7-(Oe+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,mv(te)):hv(te)}}function O(X,me,fe,te){for(var pe=0,we=me.length,Oe=fe.length,Pe,Ve;pe<we;){if(te>=Oe)return-1;if(Pe=me.charCodeAt(pe++),Pe===37){if(Pe=me.charAt(pe++),Ve=P[Pe in QC?me.charAt(pe++):Pe],!Ve||(te=Ve(X,fe,te))<0)return-1}else if(Pe!=fe.charCodeAt(te++))return-1}return te}function T(X,me,fe){var te=d.exec(me.slice(fe));return te?(X.p=f.get(te[0].toLowerCase()),fe+te[0].length):-1}function $(X,me,fe){var te=g.exec(me.slice(fe));return te?(X.w=y.get(te[0].toLowerCase()),fe+te[0].length):-1}function I(X,me,fe){var te=h.exec(me.slice(fe));return te?(X.w=p.get(te[0].toLowerCase()),fe+te[0].length):-1}function z(X,me,fe){var te=w.exec(me.slice(fe));return te?(X.m=k.get(te[0].toLowerCase()),fe+te[0].length):-1}function U(X,me,fe){var te=b.exec(me.slice(fe));return te?(X.m=_.get(te[0].toLowerCase()),fe+te[0].length):-1}function F(X,me,fe){return O(X,t,me,fe)}function q(X,me,fe){return O(X,r,me,fe)}function H(X,me,fe){return O(X,n,me,fe)}function W(X){return o[X.getDay()]}function M(X){return i[X.getDay()]}function D(X){return u[X.getMonth()]}function B(X){return l[X.getMonth()]}function V(X){return a[+(X.getHours()>=12)]}function G(X){return 1+~~(X.getMonth()/3)}function Z(X){return o[X.getUTCDay()]}function Q(X){return i[X.getUTCDay()]}function ie(X){return u[X.getUTCMonth()]}function se(X){return l[X.getUTCMonth()]}function oe(X){return a[+(X.getUTCHours()>=12)]}function le(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var me=C(X+="",j);return me.toString=function(){return X},me},parse:function(X){var me=A(X+="",!1);return me.toString=function(){return X},me},utcFormat:function(X){var me=C(X+="",N);return me.toString=function(){return X},me},utcParse:function(X){var me=A(X+="",!0);return me.toString=function(){return X},me}}}var QC={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,Kre=/^%/,qre=/[\\^$*+?|[\]().{}]/g;function We(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Zre(e){return e.replace(qre,"\\$&")}function zu(e){return new RegExp("^(?:"+e.map(Zre).join("|")+")","i")}function Fu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Yre(e,t,r){var n=dr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Gre(e,t,r){var n=dr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Xre(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Qre(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Jre(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function JC(e,t,r){var n=dr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function eE(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ene(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function tne(e,t,r){var n=dr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function rne(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function tE(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function nne(e,t,r){var n=dr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function rE(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ane(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ine(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function sne(e,t,r){var n=dr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function one(e,t,r){var n=dr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function lne(e,t,r){var n=Kre.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function cne(e,t,r){var n=dr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function une(e,t,r){var n=dr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function nE(e,t){return We(e.getDate(),t,2)}function dne(e,t){return We(e.getHours(),t,2)}function fne(e,t){return We(e.getHours()%12||12,t,2)}function hne(e,t){return We(1+Rf.count(Ai(e),e),t,3)}function S5(e,t){return We(e.getMilliseconds(),t,3)}function mne(e,t){return S5(e,t)+"000"}function pne(e,t){return We(e.getMonth()+1,t,2)}function gne(e,t){return We(e.getMinutes(),t,2)}function yne(e,t){return We(e.getSeconds(),t,2)}function xne(e){var t=e.getDay();return t===0?7:t}function vne(e,t){return We(W0.count(Ai(e)-1,e),t,2)}function P5(e){var t=e.getDay();return t>=4||t===0?Tc(e):Tc.ceil(e)}function bne(e,t){return e=P5(e),We(Tc.count(Ai(e),e)+(Ai(e).getDay()===4),t,2)}function wne(e){return e.getDay()}function _ne(e,t){return We(ug.count(Ai(e)-1,e),t,2)}function jne(e,t){return We(e.getFullYear()%100,t,2)}function kne(e,t){return e=P5(e),We(e.getFullYear()%100,t,2)}function Nne(e,t){return We(e.getFullYear()%1e4,t,4)}function Sne(e,t){var r=e.getDay();return e=r>=4||r===0?Tc(e):Tc.ceil(e),We(e.getFullYear()%1e4,t,4)}function Pne(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+We(t/60|0,"0",2)+We(t%60,"0",2)}function aE(e,t){return We(e.getUTCDate(),t,2)}function Cne(e,t){return We(e.getUTCHours(),t,2)}function Ene(e,t){return We(e.getUTCHours()%12||12,t,2)}function One(e,t){return We(1+H0.count(Ti(e),e),t,3)}function C5(e,t){return We(e.getUTCMilliseconds(),t,3)}function Ane(e,t){return C5(e,t)+"000"}function Tne(e,t){return We(e.getUTCMonth()+1,t,2)}function Mne(e,t){return We(e.getUTCMinutes(),t,2)}function Ine(e,t){return We(e.getUTCSeconds(),t,2)}function Lne(e){var t=e.getUTCDay();return t===0?7:t}function Dne(e,t){return We(V0.count(Ti(e)-1,e),t,2)}function E5(e){var t=e.getUTCDay();return t>=4||t===0?Mc(e):Mc.ceil(e)}function Rne(e,t){return e=E5(e),We(Mc.count(Ti(e),e)+(Ti(e).getUTCDay()===4),t,2)}function zne(e){return e.getUTCDay()}function Fne(e,t){return We(dg.count(Ti(e)-1,e),t,2)}function $ne(e,t){return We(e.getUTCFullYear()%100,t,2)}function Bne(e,t){return e=E5(e),We(e.getUTCFullYear()%100,t,2)}function Une(e,t){return We(e.getUTCFullYear()%1e4,t,4)}function Hne(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Mc(e):Mc.ceil(e),We(e.getUTCFullYear()%1e4,t,4)}function Wne(){return"+0000"}function iE(){return"%"}function sE(e){return+e}function oE(e){return Math.floor(+e/1e3)}var vl,O5,A5;Vne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Vne(e){return vl=Vre(e),O5=vl.format,vl.parse,A5=vl.utcFormat,vl.utcParse,vl}function Kne(e){return new Date(e)}function qne(e){return e instanceof Date?+e:+new Date(+e)}function Mj(e,t,r,n,a,i,o,l,u,d){var f=vj(),h=f.invert,p=f.domain,g=d(".%L"),y=d(":%S"),b=d("%I:%M"),_=d("%I %p"),w=d("%a %d"),k=d("%b %d"),j=d("%B"),N=d("%Y");function P(C){return(u(C)<C?g:l(C)<C?y:o(C)<C?b:i(C)<C?_:n(C)<C?a(C)<C?w:k:r(C)<C?j:N)(C)}return f.invert=function(C){return new Date(h(C))},f.domain=function(C){return arguments.length?p(Array.from(C,qne)):p().map(Kne)},f.ticks=function(C){var A=p();return e(A[0],A[A.length-1],C??10)},f.tickFormat=function(C,A){return A==null?P:d(A)},f.nice=function(C){var A=p();return(!C||typeof C.range!="function")&&(C=t(A[0],A[A.length-1],C??10)),C?p(y5(A,C)):f},f.copy=function(){return Df(f,Mj(e,t,r,n,a,i,o,l,u,d))},f}function Zne(){return qn.apply(Mj(Hre,Wre,Ai,Aj,W0,Rf,Ej,Pj,po,O5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yne(){return qn.apply(Mj(Bre,Ure,Ti,Tj,V0,H0,Oj,Cj,po,A5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function K0(){var e=0,t=1,r,n,a,i,o=Ir,l=!1,u;function d(h){return h==null||isNaN(h=+h)?u:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function f(h){return function(p){var g,y;return arguments.length?([g,y]=p,o=h(g,y),d):[o(0),o(1)]}}return d.range=f(vi),d.rangeRound=f(w1),d.unknown=function(h){return arguments.length?(u=h,d):u},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),d}}function Vs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function T5(){var e=Ws(K0()(Ir));return e.copy=function(){return Vs(e,T5())},$i.apply(e,arguments)}function M5(){var e=_j(K0()).domain([1,10]);return e.copy=function(){return Vs(e,M5()).base(e.base())},$i.apply(e,arguments)}function I5(){var e=jj(K0());return e.copy=function(){return Vs(e,I5()).constant(e.constant())},$i.apply(e,arguments)}function Ij(){var e=kj(K0());return e.copy=function(){return Vs(e,Ij()).exponent(e.exponent())},$i.apply(e,arguments)}function Gne(){return Ij.apply(null,arguments).exponent(.5)}function L5(){var e=[],t=Ir;function r(n){if(n!=null&&!isNaN(n=+n))return t((Lf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(As),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>ire(e,i/n))},r.copy=function(){return L5(t).domain(e)},$i.apply(r,arguments)}function q0(){var e=0,t=.5,r=1,n=1,a,i,o,l,u,d=Ir,f,h=!1,p;function g(b){return isNaN(b=+b)?p:(b=.5+((b=+f(b))-i)*(n*b<n*i?l:u),d(h?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([e,t,r]=b,a=f(e=+e),i=f(t=+t),o=f(r=+r),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,g):[e,t,r]},g.clamp=function(b){return arguments.length?(h=!!b,g):h},g.interpolator=function(b){return arguments.length?(d=b,g):d};function y(b){return function(_){var w,k,j;return arguments.length?([w,k,j]=_,d=jV(b,[w,k,j]),g):[d(0),d(.5),d(1)]}}return g.range=y(vi),g.rangeRound=y(w1),g.unknown=function(b){return arguments.length?(p=b,g):p},function(b){return f=b,a=b(e),i=b(t),o=b(r),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,g}}function D5(){var e=Ws(q0()(Ir));return e.copy=function(){return Vs(e,D5())},$i.apply(e,arguments)}function R5(){var e=_j(q0()).domain([.1,1,10]);return e.copy=function(){return Vs(e,R5()).base(e.base())},$i.apply(e,arguments)}function z5(){var e=jj(q0());return e.copy=function(){return Vs(e,z5()).constant(e.constant())},$i.apply(e,arguments)}function Lj(){var e=kj(q0());return e.copy=function(){return Vs(e,Lj()).exponent(e.exponent())},$i.apply(e,arguments)}function Xne(){return Lj.apply(null,arguments).exponent(.5)}const Yu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xj,scaleDiverging:D5,scaleDivergingLog:R5,scaleDivergingPow:Lj,scaleDivergingSqrt:Xne,scaleDivergingSymlog:z5,scaleIdentity:g5,scaleImplicit:Dw,scaleLinear:p5,scaleLog:x5,scaleOrdinal:yj,scalePoint:lre,scalePow:Nj,scaleQuantile:w5,scaleQuantize:_5,scaleRadial:b5,scaleSequential:T5,scaleSequentialLog:M5,scaleSequentialPow:Ij,scaleSequentialQuantile:L5,scaleSequentialSqrt:Gne,scaleSequentialSymlog:I5,scaleSqrt:Are,scaleSymlog:v5,scaleThreshold:j5,scaleTime:Zne,scaleUtc:Yne,tickFormat:m5},Symbol.toStringTag,{value:"Module"}));var Ks=e=>e.chartData,Qne=re([Ks],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),zf=(e,t,r,n)=>n?Qne(e):Ks(e);function Is(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ut(t)&&ut(r))return!0}return!1}function lE(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function F5(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(ut(r))a=r;else if(typeof r=="function")return;if(ut(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Is(o))return o}}function Jne(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Is(n))return lE(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(je(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&JP.test(a)){var u=JP.exec(a);if(u==null||t==null)o=void 0;else{var d=+u[1];o=t[0]-d}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(je(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&eC.test(i)){var f=eC.exec(i);if(f==null||t==null)l=void 0;else{var h=+f[1];l=t[1]+h}}else l=t==null?void 0:t[1];var p=[o,l];if(Is(p))return t==null?p:lE(p,t,r)}}}var Zc=1e9,eae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Rj,mt=!0,Kn="[DecimalError] ",Io=Kn+"Invalid argument: ",Dj=Kn+"Exponent out of range: ",Yc=Math.floor,so=Math.pow,tae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hn,nr=1e7,ot=7,$5=9007199254740991,fg=Yc($5/ot),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(e){return bi(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,r=t.constructor;return Je(bi(t,new r(e),0,1),r.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return $t(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(hn))throw Error(Kn+"NaN");if(r.s<1)throw Error(Kn+(r.s?"NaN":"-Infinity"));return r.eq(hn)?new n(0):(mt=!1,t=bi(Zd(r,i),Zd(e,i),i),mt=!0,Je(t,a))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?H5(t,e):B5(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Kn+"NaN");return r.s?(mt=!1,t=bi(r,e,0,1).times(e),mt=!0,r.minus(t)):Je(new n(r),a)};be.naturalExponential=be.exp=function(){return U5(this)};be.naturalLogarithm=be.ln=function(){return Zd(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?B5(t,e):H5(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Io+e);if(t=$t(a)+1,n=a.d.length-1,r=n*ot+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};be.squareRoot=be.sqrt=function(){var e,t,r,n,a,i,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Kn+"NaN")}for(e=$t(l),mt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ma(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Yc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=o=r+3;;)if(i=n,n=i.plus(bi(l,i,o+2)).times(.5),Ma(i.d).slice(0,o)===(t=Ma(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Je(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return mt=!0,Je(n,r)};be.times=be.mul=function(e){var t,r,n,a,i,o,l,u,d,f=this,h=f.constructor,p=f.d,g=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,r=f.e+e.e,u=p.length,d=g.length,u<d&&(i=p,p=g,g=i,o=u,u=d,d=o),i=[],o=u+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=u+n;a>n;)l=i[a]+g[n]*p[a-n-1]+t,i[a--]=l%nr|0,t=l/nr|0;i[a]=(i[a]+t)%nr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,mt?Je(e,h.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ba(e,0,Zc),t===void 0?t=n.rounding:Ba(t,0,8),Je(r,e+$t(r)+1,t))};be.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Yo(n,!0):(Ba(e,0,Zc),t===void 0?t=a.rounding:Ba(t,0,8),n=Je(new a(n),e+1,t),r=Yo(n,!0,e+1)),r};be.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Yo(a):(Ba(e,0,Zc),t===void 0?t=i.rounding:Ba(t,0,8),n=Je(new i(a),e+$t(a)+1,t),r=Yo(n.abs(),!1,e+$t(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return Je(new t(e),$t(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,r,n,a,i,o,l=this,u=l.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(hn);if(l=new u(l),!l.s){if(e.s<1)throw Error(Kn+"Infinity");return l}if(l.eq(hn))return l;if(n=u.precision,e.eq(hn))return Je(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=$5){for(a=new u(hn),t=Math.ceil(n/ot+4),mt=!1;r%2&&(a=a.times(l),uE(a.d,t)),r=Yc(r/2),r!==0;)l=l.times(l),uE(l.d,t);return mt=!0,e.s<0?new u(hn).div(a):Je(a,n)}}else if(i<0)throw Error(Kn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,mt=!1,a=e.times(Zd(l,n+d)),mt=!0,a=U5(a),a.s=i,a};be.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=$t(a),n=Yo(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ba(e,1,Zc),t===void 0?t=i.rounding:Ba(t,0,8),a=Je(new i(a),e,t),r=$t(a),n=Yo(a,e<=r||r<=i.toExpNeg,e)),n};be.toSignificantDigits=be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ba(e,1,Zc),t===void 0?t=n.rounding:Ba(t,0,8)),Je(new n(r),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$t(e),r=e.constructor;return Yo(e,t<=r.toExpNeg||t>=r.toExpPos)};function B5(e,t){var r,n,a,i,o,l,u,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),mt?Je(t,h):t;if(u=e.d,d=t.d,o=e.e,a=t.e,u=u.slice(),i=o-a,i){for(i<0?(n=u,i=-i,l=d.length):(n=d,a=o,l=u.length),o=Math.ceil(h/ot),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=u.length,i=d.length,l-i<0&&(i=l,n=d,d=u,u=n),r=0;i;)r=(u[--i]=u[i]+d[i]+r)/nr|0,u[i]%=nr;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,mt?Je(t,h):t}function Ba(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Io+e)}function Ma(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=ot-n.length,r&&(i+=es(r)),i+=n;o=e[t],n=o+"",r=ot-n.length,r&&(i+=es(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var bi=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%nr|0,o=i/nr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,u;if(i!=o)u=i>o?1:-1;else for(l=u=0;l<i;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*nr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,u,d,f,h,p,g,y,b,_,w,k,j,N,P,C,A,O,T=n.constructor,$=n.s==a.s?1:-1,I=n.d,z=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Kn+"Division by zero");for(u=n.e-a.e,A=z.length,P=I.length,g=new T($),y=g.d=[],d=0;z[d]==(I[d]||0);)++d;if(z[d]>(I[d]||0)&&--u,i==null?k=i=T.precision:o?k=i+($t(n)-$t(a))+1:k=i,k<0)return new T(0);if(k=k/ot+2|0,d=0,A==1)for(f=0,z=z[0],k++;(d<P||f)&&k--;d++)j=f*nr+(I[d]||0),y[d]=j/z|0,f=j%z|0;else{for(f=nr/(z[0]+1)|0,f>1&&(z=e(z,f),I=e(I,f),A=z.length,P=I.length),N=A,b=I.slice(0,A),_=b.length;_<A;)b[_++]=0;O=z.slice(),O.unshift(0),C=z[0],z[1]>=nr/2&&++C;do f=0,l=t(z,b,A,_),l<0?(w=b[0],A!=_&&(w=w*nr+(b[1]||0)),f=w/C|0,f>1?(f>=nr&&(f=nr-1),h=e(z,f),p=h.length,_=b.length,l=t(h,b,p,_),l==1&&(f--,r(h,A<p?O:z,p))):(f==0&&(l=f=1),h=z.slice()),p=h.length,p<_&&h.unshift(0),r(b,h,_),l==-1&&(_=b.length,l=t(z,b,A,_),l<1&&(f++,r(b,A<_?O:z,_))),_=b.length):l===0&&(f++,b=[0]),y[d++]=f,l&&b[0]?b[_++]=I[N]||0:(b=[I[N]],_=1);while((N++<P||b[0]!==void 0)&&k--)}return y[0]||y.shift(),g.e=u,Je(g,o?i+$t(g)+1:i)}}();function U5(e,t){var r,n,a,i,o,l,u=0,d=0,f=e.constructor,h=f.precision;if($t(e)>16)throw Error(Dj+$t(e));if(!e.s)return new f(hn);for(mt=!1,l=h,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(so(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new f(hn),f.precision=l;;){if(a=Je(a.times(e),l),r=r.times(++u),o=i.plus(bi(a,r,l)),Ma(o.d).slice(0,l)===Ma(i.d).slice(0,l)){for(;d--;)i=Je(i.times(i),l);return f.precision=h,t==null?(mt=!0,Je(i,h)):i}i=o}}function $t(e){for(var t=e.e*ot,r=e.d[0];r>=10;r/=10)t++;return t}function pv(e,t,r){if(t>e.LN10.sd())throw mt=!0,r&&(e.precision=r),Error(Kn+"LN10 precision limit exceeded");return Je(new e(e.LN10),t)}function es(e){for(var t="";e--;)t+="0";return t}function Zd(e,t){var r,n,a,i,o,l,u,d,f,h=1,p=10,g=e,y=g.d,b=g.constructor,_=b.precision;if(g.s<1)throw Error(Kn+(g.s?"NaN":"-Infinity"));if(g.eq(hn))return new b(0);if(t==null?(mt=!1,d=_):d=t,g.eq(10))return t==null&&(mt=!0),pv(b,d);if(d+=p,b.precision=d,r=Ma(y),n=r.charAt(0),i=$t(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Ma(g.d),n=r.charAt(0),h++;i=$t(g),n>1?(g=new b("0."+r),i++):g=new b(n+"."+r.slice(1))}else return u=pv(b,d+2,_).times(i+""),g=Zd(new b(n+"."+r.slice(1)),d-p).plus(u),b.precision=_,t==null?(mt=!0,Je(g,_)):g;for(l=o=g=bi(g.minus(hn),g.plus(hn),d),f=Je(g.times(g),d),a=3;;){if(o=Je(o.times(f),d),u=l.plus(bi(o,new b(a),d)),Ma(u.d).slice(0,d)===Ma(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(pv(b,d+2,_).times(i+""))),l=bi(l,new b(h),d),b.precision=_,t==null?(mt=!0,Je(l,_)):l;l=u,a+=2}}function cE(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Yc(r/ot),e.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ot;n<a;)e.d.push(+t.slice(n,n+=ot));t=t.slice(n),n=ot-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),mt&&(e.e>fg||e.e<-fg))throw Error(Dj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Je(e,t,r){var n,a,i,o,l,u,d,f,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=ot,a=t,d=h[f=0];else{if(f=Math.ceil((n+1)/ot),i=h.length,f>=i)return e;for(d=i=h[f],o=1;i>=10;i/=10)o++;n%=ot,a=n-ot+o}if(r!==void 0&&(i=so(10,o-a-1),l=d/i%10|0,u=t<0||h[f+1]!==void 0||d%i,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?d/so(10,o-a):0:h[f-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return u?(i=$t(e),h.length=1,t=t-i-1,h[0]=so(10,(ot-t%ot)%ot),e.e=Yc(-t/ot)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=f,i=1,f--):(h.length=f+1,i=so(10,ot-n),h[f]=a>0?(d/so(10,o-a)%so(10,a)|0)*i:0),u)for(;;)if(f==0){(h[0]+=i)==nr&&(h[0]=1,++e.e);break}else{if(h[f]+=i,h[f]!=nr)break;h[f--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(mt&&(e.e>fg||e.e<-fg))throw Error(Dj+$t(e));return e}function H5(e,t){var r,n,a,i,o,l,u,d,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),mt?Je(t,g):t;if(u=e.d,h=t.d,n=t.e,d=e.e,u=u.slice(),o=d-n,o){for(f=o<0,f?(r=u,o=-o,l=h.length):(r=h,n=d,l=u.length),a=Math.max(Math.ceil(g/ot),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=h.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(u[a]!=h[a]){f=u[a]<h[a];break}o=0}for(f&&(r=u,u=h,h=r,t.s=-t.s),l=u.length,a=h.length-l;a>0;--a)u[l++]=0;for(a=h.length;a>o;){if(u[--a]<h[a]){for(i=a;i&&u[--i]===0;)u[i]=nr-1;--u[i],u[a]+=nr}u[a]-=h[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,mt?Je(t,g):t):new p(0)}function Yo(e,t,r){var n,a=$t(e),i=Ma(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+es(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+es(-a-1)+i,r&&(n=r-o)>0&&(i+=es(n))):a>=o?(i+=es(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+es(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=es(n))),e.s<0?"-"+i:i}function uE(e,t){if(e.length>t)return e.length=t,!0}function W5(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Io+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return cE(o,i.toString())}else if(typeof i!="string")throw Error(Io+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,tae.test(i))cE(o,i);else throw Error(Io+i)}if(a.prototype=be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=W5,a.config=a.set=rae,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function rae(e){if(!e||typeof e!="object")throw Error(Kn+"Object expected");var t,r,n,a=["precision",1,Zc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Yc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Io+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Io+r+": "+n);return this}var Rj=W5(eae);hn=new Rj(1);const Ge=Rj;var nae=e=>e,V5={},K5=e=>e===V5,dE=e=>function t(){return arguments.length===0||arguments.length===1&&K5(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},q5=(e,t)=>e===1?t:dE(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==V5).length;return i>=e?t(...n):q5(e-i,dE(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=n.map(f=>K5(f)?l.shift():f);return t(...d,...l)}))}),aae=e=>q5(e.length,e),zw=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},iae=aae((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),sae=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return nae;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,u)=>u(l),i(...arguments))}},Fw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function Z5(e){var t;return e===0?t=1:t=Math.floor(new Ge(e).abs().log(10).toNumber())+1,t}function Y5(e,t,r){for(var n=new Ge(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var G5=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},X5=(e,t,r)=>{if(e.lte(0))return new Ge(0);var n=Z5(e.toNumber()),a=new Ge(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Ge(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=l.mul(a);return t?new Ge(u.toNumber()):new Ge(Math.ceil(u.toNumber()))},oae=(e,t,r)=>{var n=new Ge(1),a=new Ge(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ge(10).pow(Z5(e)-1),a=new Ge(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ge(Math.floor(e)))}else e===0?a=new Ge(Math.floor((t-1)/2)):r||(a=new Ge(Math.floor(e)));var o=Math.floor((t-1)/2),l=sae(iae(u=>a.add(new Ge(u-o).mul(n)).toNumber()),zw);return l(0,t)},Q5=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ge(0),tickMin:new Ge(0),tickMax:new Ge(0)};var o=X5(new Ge(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new Ge(0):(l=new Ge(t).add(r).div(2),l=l.sub(new Ge(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new Ge(r).sub(l).div(o).toNumber()),f=u+d+1;return f>n?Q5(t,r,n,a,i+1):(f<n&&(d=r>0?d+(n-f):d,u=r>0?u:u+(n-f)),{step:o,tickMin:l.sub(new Ge(u).mul(o)),tickMax:l.add(new Ge(d).mul(o))})},lae=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,u]=G5([r,n]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...zw(0,a-1).map(()=>1/0)]:[...zw(0,a-1).map(()=>-1/0),u];return r>n?Fw(d):d}if(l===u)return oae(l,a,i);var{step:f,tickMin:h,tickMax:p}=Q5(l,u,o,i,0),g=Y5(h,p.add(new Ge(.1).mul(f)),f);return r>n?Fw(g):g},cae=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=G5([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var u=Math.max(r,2),d=X5(new Ge(l).sub(o).div(u-1),i,0),f=[...Y5(new Ge(o),new Ge(l),d),l];return i===!1&&(f=f.map(h=>Math.round(h))),n>a?Fw(f):f},J5=e=>e.rootProps.maxBarSize,uae=e=>e.rootProps.barGap,e3=e=>e.rootProps.barCategoryGap,dae=e=>e.rootProps.barSize,Z0=e=>e.rootProps.stackOffset,t3=e=>e.rootProps.reverseStackOrder,zj=e=>e.options.chartName,Fj=e=>e.rootProps.syncId,r3=e=>e.rootProps.syncMethod,$j=e=>e.options.eventEmitter,Lt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ui={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},dn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Y0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},fae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ui.angleAxisId,includeHidden:!1,name:void 0,reversed:ui.reversed,scale:ui.scale,tick:ui.tick,tickCount:void 0,ticks:void 0,type:ui.type,unit:void 0},hae={allowDataOverflow:dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dn.scale,tick:dn.tick,tickCount:dn.tickCount,ticks:void 0,type:dn.type,unit:void 0},mae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ui.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ui.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ui.scale,tick:ui.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},pae={allowDataOverflow:dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dn.scale,tick:dn.tick,tickCount:dn.tickCount,ticks:void 0,type:"category",unit:void 0},Bj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?mae:fae,Uj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?pae:hae,G0=e=>e.polarOptions,Hj=re([zi,Fi,ur],Rte),n3=re([G0,Hj],(e,t)=>{if(e!=null)return ga(e.innerRadius,t,0)}),a3=re([G0,Hj],(e,t)=>{if(e!=null)return ga(e.outerRadius,t,t*.8)}),gae=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},i3=re([G0],gae);re([Bj,i3],Y0);var s3=re([Hj,n3,a3],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});re([Uj,s3],Y0);var o3=re([Ze,G0,n3,a3,zi,Fi],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=t;return{cx:ga(o,a,a/2),cy:ga(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:d,clockWise:!1}}}),Yt=(e,t)=>t,X0=(e,t,r)=>r;function Wj(e){return e==null?void 0:e.id}function l3(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:n;if(!(d==null||d.length===0)){var f=Wj(l);d.forEach((h,p)=>{var g=i==null||a?p:String(kt(h,i,null)),y=kt(h,l.dataKey,0),b;o.has(g)?b=o.get(g):b={},Object.assign(b,{[f]:y}),o.set(g,b)})}}),Array.from(o.values())}function Q0(e){return e.stackId!=null&&e.dataKey!=null}var J0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ey(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function yae(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Gt=e=>{var t=Ze(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Gc=e=>e.tooltip.settings.axisId;function fE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(r),!0).forEach(function(n){xae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xae(e,t,r){return(t=vae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vae(e){var t=bae(e,"string");return typeof t=="symbol"?t:t+""}function bae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $w=[0,"auto"],er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},c3=(e,t)=>e.cartesianAxis.xAxis[t],qa=(e,t)=>{var r=c3(e,t);return r??er},tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$w,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ef},u3=(e,t)=>e.cartesianAxis.yAxis[t],Za=(e,t)=>{var r=u3(e,t);return r??tr},d3={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Vj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??d3},Fr=(e,t,r)=>{switch(t){case"xAxis":return qa(e,r);case"yAxis":return Za(e,r);case"zAxis":return Vj(e,r);case"angleAxis":return Bj(e,r);case"radiusAxis":return Uj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},wae=(e,t,r)=>{switch(t){case"xAxis":return qa(e,r);case"yAxis":return Za(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ff=(e,t,r)=>{switch(t){case"xAxis":return qa(e,r);case"yAxis":return Za(e,r);case"angleAxis":return Bj(e,r);case"radiusAxis":return Uj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},f3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function h3(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var $f=e=>e.graphicalItems.cartesianItems,_ae=re([Yt,X0],h3),m3=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Bf=re([$f,Fr,_ae],m3,{memoizeOptions:{resultEqualityCheck:ey}}),p3=re([Bf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Q0)),g3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),jae=re([Bf],g3),y3=e=>e.map(t=>t.data).filter(Boolean).flat(1),kae=re([Bf],y3,{memoizeOptions:{resultEqualityCheck:ey}}),x3=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Kj=re([kae,zf],x3),v3=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:kt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:kt(a,n)}))):e.map(n=>({value:n})),ty=re([Kj,Fr,Bf],v3);function b3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Vm(e){if(Wn(e)||e instanceof Date){var t=Number(e);if(ut(t))return t}}function hE(e){if(Array.isArray(e)){var t=[Vm(e[0]),Vm(e[1])];return Is(t)?t:void 0}var r=Vm(e);if(r!=null)return[r,r]}function Mi(e){return e.map(Vm).filter(wX)}function Nae(e,t,r){return!r||typeof t!="number"||wn(t)?[]:r.length?Mi(r.flatMap(n=>{var a=kt(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!ut(i)||!ut(o)))return[t-i,t+o]})):[]}var Xt=e=>{var t=Gt(e),r=Gc(e);return Ff(e,t,r)},Uf=re([Xt],e=>e==null?void 0:e.dataKey),Sae=re([p3,zf,Xt],l3),w3=(e,t,r,n)=>{var a={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),a);return Object.fromEntries(Object.entries(i).map(o=>{var[l,u]=o,d=n?[...u].reverse():u,f=d.map(Wj);return[l,{stackedData:bJ(e,f,r),graphicalItems:d}]}))},Bw=re([Sae,p3,Z0,t3],w3),_3=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=NJ(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Pae=re([Fr],e=>e.allowDataOverflow),qj=e=>{var t;if(e==null||!("domain"in e))return $w;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Mi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:$w},j3=re([Fr],qj),k3=re([j3,Pae],F5),Cae=re([Bw,Ks,Yt,k3],_3,{memoizeOptions:{resultEqualityCheck:J0}}),Zj=e=>e.errorBars,Eae=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>b3(r,n)),mg=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},N3=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var d,f,h=(d=n[u.id])===null||d===void 0?void 0:d.filter(w=>b3(a,w)),p=kt(l,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),g=Nae(l,p,h);if(g.length>=2){var y=Math.min(...g),b=Math.max(...g);(i==null||y<i)&&(i=y),(o==null||b>o)&&(o=b)}var _=hE(p);_!=null&&(i=i==null?_[0]:Math.min(i,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=hE(kt(l,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),ut(i)&&ut(o))return[i,o]},Oae=re([Kj,Fr,jae,Zj,Yt],N3,{memoizeOptions:{resultEqualityCheck:J0}});function Aae(e){var{value:t}=e;if(Wn(t)||t instanceof Date)return t}var Tae=(e,t,r)=>{var n=e.map(Aae).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&j4(n))?o5(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},S3=e=>e.referenceElements.dots,Xc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Mae=re([S3,Yt,X0],Xc),P3=e=>e.referenceElements.areas,Iae=re([P3,Yt,X0],Xc),C3=e=>e.referenceElements.lines,Lae=re([C3,Yt,X0],Xc),E3=(e,t)=>{var r=Mi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Dae=re(Mae,Yt,E3),O3=(e,t)=>{var r=Mi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Rae=re([Iae,Yt],O3);function zae(e){var t;if(e.x!=null)return Mi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Mi(r)}function Fae(e){var t;if(e.y!=null)return Mi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Mi(r)}var A3=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?zae(n):Fae(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},$ae=re([Lae,Yt],A3),Bae=re(Dae,$ae,Rae,(e,t,r)=>mg(e,r,t)),T3=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=u?mg(n,i,a):mg(i,a);return Jne(t,d,e.allowDataOverflow)},Uae=re([Fr,j3,k3,Cae,Oae,Bae,Ze,Yt],T3,{memoizeOptions:{resultEqualityCheck:J0}}),Hae=[0,1],M3=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,d=Hs(t,i);if(d&&l==null){var f;return o5(0,(f=r==null?void 0:r.length)!==null&&f!==void 0?f:0)}return u==="category"?Tae(n,e,d):a==="expand"?Hae:o}},Yj=re([Fr,Ze,Kj,ty,Z0,Yt,Uae],M3),I3=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(jf(i));return l in Yu?l:"point"}}},Hf=re([Fr,Ze,f3,zj,Yt],I3);function Wae(e){if(e!=null){if(e in Yu)return Yu[e]();var t="scale".concat(jf(e));if(t in Yu)return Yu[t]()}}function Gj(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Wae(t);if(a!=null){var i=a.domain(r).range(n);return pJ(i),i}}}var L3=(e,t,r)=>{var n=qj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Is(e))return lae(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Is(e))return cae(e,t.tickCount,t.allowDecimals)}},Xj=re([Yj,Ff,Hf],L3),D3=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Is(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},Vae=re([Fr,Yj,Xj,Yt],D3),Kae=re(ty,Fr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Mi(e.map(l=>l.value))).sort((l,u)=>l-u);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),R3=re(Kae,Ze,e3,ur,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!ut(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=ga(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),qae=(e,t)=>{var r=qa(e,t);return r==null||typeof r.padding!="string"?0:R3(e,"xAxis",t,r.padding)},Zae=(e,t)=>{var r=Za(e,t);return r==null||typeof r.padding!="string"?0:R3(e,"yAxis",t,r.padding)},Yae=re(qa,qae,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Gae=re(Za,Zae,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Xae=re([ur,Yae,R0,D0,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Qae=re([ur,Ze,Gae,R0,D0,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Wf=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Xae(e,r,n);case"yAxis":return Qae(e,r,n);case"zAxis":return(a=Vj(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return i3(e);case"radiusAxis":return s3(e,r);default:return}},z3=re([Fr,Wf],Y0),Ls=re([Fr,Hf,Vae,z3],Gj);re([Bf,Zj,Yt],Eae);function F3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ry=(e,t)=>t,ny=(e,t,r)=>r,Jae=re(I0,ry,ny,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(F3)),eie=re(L0,ry,ny,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(F3)),$3=(e,t)=>({width:e.width,height:t.height}),tie=(e,t)=>{var r=typeof t.width=="number"?t.width:Ef;return{width:r,height:e.height}},B3=re(ur,qa,$3),rie=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},nie=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},aie=re(Fi,ur,Jae,ry,ny,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var u=$3(t,l);o==null&&(o=rie(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),i}),iie=re(zi,ur,eie,ry,ny,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var u=tie(t,l);o==null&&(o=nie(t,n,e));var d=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),i}),sie=(e,t)=>{var r=qa(e,t);if(r!=null)return aie(e,r.orientation,r.mirror)},oie=re([ur,qa,sie,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),lie=(e,t)=>{var r=Za(e,t);if(r!=null)return iie(e,r.orientation,r.mirror)},cie=re([ur,Za,lie,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),U3=re(ur,Za,(e,t)=>{var r=typeof t.width=="number"?t.width:Ef;return{width:r,height:e.height}}),mE=(e,t,r)=>{switch(t){case"xAxis":return B3(e,r).width;case"yAxis":return U3(e,r).height;default:return}},H3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=Hs(e,n),u=t.map(d=>d.value);if(o&&l&&i==="category"&&a&&j4(u))return u}},Qj=re([Ze,ty,Fr,Yt],H3),W3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Hs(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},Jj=re([Ze,ty,Ff,Yt],W3),pE=re([Ze,wae,Hf,Ls,Qj,Jj,Wf,Xj,Yt],(e,t,r,n,a,i,o,l,u)=>{if(t!=null){var d=Hs(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:n}}}),uie=(e,t,r,n,a,i,o,l,u)=>{if(!(t==null||n==null)){var d=Hs(e,u),{type:f,ticks:h,tickCount:p}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=f==="category"&&n.bandwidth?n.bandwidth()/g:0;y=u==="angleAxis"&&i!=null&&i.length>=2?Jr(i[0]-i[1])*2*y:y;var b=h||a;if(b){var _=b.map((w,k)=>{var j=o?o.indexOf(w):w;return{index:k,coordinate:n(j)+y,value:w,offset:y}});return _.filter(w=>ut(w.coordinate))}return d&&l?l.map((w,k)=>({coordinate:n(w)+y,value:w,index:k,offset:y})).filter(w=>ut(w.coordinate)):n.ticks?n.ticks(p).map(w=>({coordinate:n(w)+y,value:w,offset:y})):n.domain().map((w,k)=>({coordinate:n(w)+y,value:o?o[w]:w,index:k,offset:y}))}},V3=re([Ze,Ff,Hf,Ls,Xj,Wf,Qj,Jj,Yt],uie),die=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Hs(e,o),{tickCount:u}=t,d=0;return d=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Jr(n[0]-n[1])*2*d:d,l&&i?i.map((f,h)=>({coordinate:r(f)+d,value:f,index:h,offset:d})):r.ticks?r.ticks(u).map(f=>({coordinate:r(f)+d,value:f,offset:d})):r.domain().map((f,h)=>({coordinate:r(f)+d,value:a?a[f]:f,index:h,offset:d}))}},Ua=re([Ze,Ff,Ls,Wf,Qj,Jj,Yt],die),Ha=re(Fr,Ls,(e,t)=>{if(!(e==null||t==null))return hg(hg({},e),{},{scale:t})}),fie=re([Fr,Hf,Yj,z3],Gj),hie=re((e,t,r)=>Vj(e,r),fie,(e,t)=>{if(!(e==null||t==null))return hg(hg({},e),{},{scale:t})}),mie=re([Ze,I0,L0],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),K3=e=>e.options.defaultTooltipEventType,q3=e=>e.options.validateTooltipEventTypes;function Z3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function ek(e,t){var r=K3(e),n=q3(e);return Z3(t,r,n)}function pie(e){return ve(t=>ek(t,e))}var Y3=(e,t)=>{var r,n=Number(t);if(!(wn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},gie=e=>e.tooltip.settings,is={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},yie={itemInteraction:{click:is,hover:is},axisInteraction:{click:is,hover:is},keyboardInteraction:is,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},G3=cn({name:"tooltip",initialState:yie,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ft()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ha(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:ft()},removeTooltipEntrySettings:{reducer(e,t){var r=ha(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ft()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:xie,replaceTooltipEntrySettings:vie,removeTooltipEntrySettings:bie,setTooltipSettingsState:wie,setActiveMouseOverItemIndex:X3,mouseLeaveItem:_ie,mouseLeaveChart:Q3,setActiveClickItemIndex:jie,setMouseOverAxisIndex:J3,setMouseClickAxisIndex:kie,setSyncInteraction:Uw,setKeyboardInteraction:Hw}=G3.actions,Nie=G3.reducer;function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){Sie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sie(e,t,r){return(t=Pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pie(e){var t=Cie(e,"string");return typeof t=="symbol"?t:t+""}function Cie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eie(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Oie(e){return e.index!=null}var eR=(e,t,r,n)=>{if(t==null)return is;var a=Eie(e,t,r);if(a==null)return is;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Oie(a)){if(i)return fm(fm({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return fm(fm({},is),{},{coordinate:a.coordinate})};function Aie(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Tie(e,t){var r=Aie(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function Mie(e,t,r){if(r==null||t==null)return!0;var n=kt(e,t);return n==null||!Is(r)?!0:Tie(n,r)}var tk=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!ut(i))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(i,l)),d=t[u];return d==null||Mie(d,r,n)?String(u):null},tR=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,i);if(d!=null)return d;var f=a==null?void 0:a[Number(i)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:f.coordinate}}}},rR=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},Vf=e=>e.options.tooltipPayloadSearcher,Qc=e=>e.tooltip;function yE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(r),!0).forEach(function(n){Iie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iie(e,t,r){return(t=Lie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lie(e){var t=Die(e,"string");return typeof t=="symbol"?t:t+""}function Die(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rie(e,t){return e??t}var nR=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:f}=r,h=[];return e.reduce((p,g)=>{var y,{dataDefinedOnItem:b,settings:_}=g,w=Rie(b,l),k=Array.isArray(w)?CD(w,d,f):w,j=(y=_==null?void 0:_.dataKey)!==null&&y!==void 0?y:n,N=_==null?void 0:_.nameKey,P;if(n&&Array.isArray(k)&&!Array.isArray(k[0])&&o==="axis"?P=k4(k,n,a):P=i(k,t,u,N),Array.isArray(P))P.forEach(A=>{var O=xE(xE({},_),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});p.push(tC({tooltipEntrySettings:O,dataKey:A.dataKey,payload:A.payload,value:kt(A.payload,A.dataKey),name:A.name}))});else{var C;p.push(tC({tooltipEntrySettings:_,dataKey:j,payload:P,value:kt(P,j),name:(C=kt(P,N))!==null&&C!==void 0?C:_==null?void 0:_.name}))}return p},h)}},rk=re([Xt,Ze,f3,zj,Gt],I3),zie=re([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Fie=re([Gt,Gc],h3),Kf=re([zie,Xt,Fie],m3,{memoizeOptions:{resultEqualityCheck:ey}}),$ie=re([Kf],e=>e.filter(Q0)),Bie=re([Kf],y3,{memoizeOptions:{resultEqualityCheck:ey}}),Jc=re([Bie,Ks],x3),Uie=re([$ie,Ks,Xt],l3),nk=re([Jc,Xt,Kf],v3),aR=re([Xt],qj),Hie=re([Xt],e=>e.allowDataOverflow),iR=re([aR,Hie],F5),Wie=re([Kf],e=>e.filter(Q0)),Vie=re([Uie,Wie,Z0,t3],w3),Kie=re([Vie,Ks,Gt,iR],_3),qie=re([Kf],g3),Zie=re([Jc,Xt,qie,Zj,Gt],N3,{memoizeOptions:{resultEqualityCheck:J0}}),Yie=re([S3,Gt,Gc],Xc),Gie=re([Yie,Gt],E3),Xie=re([P3,Gt,Gc],Xc),Qie=re([Xie,Gt],O3),Jie=re([C3,Gt,Gc],Xc),ese=re([Jie,Gt],A3),tse=re([Gie,ese,Qie],mg),rse=re([Xt,aR,iR,Kie,Zie,tse,Ze,Gt],T3),qf=re([Xt,Ze,Jc,nk,Z0,Gt,rse],M3),nse=re([qf,Xt,rk],L3),ase=re([Xt,qf,nse,Gt],D3),sR=e=>{var t=Gt(e),r=Gc(e),n=!1;return Wf(e,t,r,n)},oR=re([Xt,sR],Y0),lR=re([Xt,rk,ase,oR],Gj),ise=re([Ze,nk,Xt,Gt],H3),sse=re([Ze,nk,Xt,Gt],W3),ose=(e,t,r,n,a,i,o,l)=>{if(t){var{type:u}=t,d=Hs(e,l);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=u==="category"&&n.bandwidth?n.bandwidth()/f:0;return h=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Jr(a[0]-a[1])*2*h:h,d&&o?o.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}}},Bi=re([Ze,Xt,rk,lR,sR,ise,sse,Gt],ose),ak=re([K3,q3,gie],(e,t,r)=>Z3(r.shared,e,t)),cR=e=>e.tooltip.settings.trigger,ik=e=>e.tooltip.settings.defaultIndex,Zf=re([Qc,ak,cR,ik],eR),Ds=re([Zf,Jc,Uf,qf],tk),uR=re([Bi,Ds],Y3),dR=re([Zf],e=>{if(e)return e.dataKey});re([Zf],e=>{if(e)return e.graphicalItemId});var fR=re([Qc,ak,cR,ik],rR),lse=re([zi,Fi,Ze,ur,Bi,ik,fR,Vf],tR),cse=re([Zf,lse],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),use=re([Zf],e=>e.active),dse=re([fR,Ds,Ks,Uf,uR,Vf,ak],nR),fse=re([dse],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){hse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hse(e,t,r){return(t=mse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mse(e){var t=pse(e,"string");return typeof t=="symbol"?t:t+""}function pse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gse=()=>ve(Xt),yse=()=>{var e=gse(),t=ve(Bi),r=ve(lR);return Cc(!e||!r?void 0:bE(bE({},e),{},{scale:r}),t)};function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(n){xse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xse(e,t,r){return(t=vse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vse(e){var t=bse(e,"string");return typeof t=="symbol"?t:t+""}function bse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wse=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},_se=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return bl(bl(bl({},n),yr(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:u}=n;return bl(bl(bl({},n),yr(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function jse(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var hR=(e,t,r,n,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?r[u-1].coordinate:r[l-1].coordinate,f=r[u].coordinate,h=u>=l-1?r[0].coordinate:r[u+1].coordinate,p=void 0;if(Jr(f-d)!==Jr(h-f)){var g=[];if(Jr(h-f)===Jr(a[1]-a[0])){p=h;var y=f+a[1]-a[0];g[0]=Math.min(y,(y+d)/2),g[1]=Math.max(y,(y+d)/2)}else{p=d;var b=h+a[1]-a[0];g[0]=Math.min(f,(b+f)/2),g[1]=Math.max(f,(b+f)/2)}var _=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){({index:o}=r[u]);break}}else{var w=Math.min(d,h),k=Math.max(d,h);if(e>(w+f)/2&&e<=(k+f)/2){({index:o}=r[u]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},kse=()=>ve(zj),sk=(e,t)=>t,mR=(e,t,r)=>r,ok=(e,t,r,n)=>n,Nse=re(Bi,e=>N0(e,t=>t.coordinate)),lk=re([Qc,sk,mR,ok],eR),ck=re([lk,Jc,Uf,qf],tk),Sse=(e,t,r)=>{if(t!=null){var n=Qc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},pR=re([Qc,sk,mR,ok],rR),pg=re([zi,Fi,Ze,ur,Bi,ok,pR,Vf],tR),Pse=re([lk,pg],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),gR=re([Bi,ck],Y3),Cse=re([pR,ck,Ks,Uf,gR,Vf,sk],nR),Ese=re([lk,ck],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Ose=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&jse(e,o)){var l=SJ(e,t),u=hR(l,i,a,r,n),d=wse(t,a,u,e);return{activeIndex:String(u),activeCoordinate:d}}},Ase=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var l=Ute(e,r);if(l){var u=PJ(l,t),d=hR(u,o,i,n,a),f=_se(t,i,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},Tse=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?Ose(e,t,n,a,i,o,l):Ase(e,t,r,n,a,i,o)},Mse=re(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Ise=re(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Lt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:yae}});function _E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(r),!0).forEach(function(n){Lse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lse(e,t,r){return(t=Dse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dse(e){var t=Rse(e,"string");return typeof t=="symbol"?t:t+""}function Rse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zse={},Fse={zIndexMap:Object.values(Lt).reduce((e,t)=>jE(jE({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),zse)},$se=new Set(Object.values(Lt));function Bse(e){return $se.has(e)}var yR=cn({name:"zIndex",initialState:Fse,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:ft()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Bse(r)&&delete e.zIndexMap[r])},prepare:ft()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:ft()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:ft()}}}),{registerZIndexPortal:Use,unregisterZIndexPortal:Hse,registerZIndexPortalId:Wse,unregisterZIndexPortalId:Vse}=yR.actions,Kse=yR.reducer;function $r(e){var{zIndex:t,children:r}=e,n=eee(),a=n&&t!==void 0&&t!==0,i=qt(),o=yt();x.useLayoutEffect(()=>a?(o(Use({zIndex:t})),()=>{o(Hse({zIndex:t}))}):kf,[o,t,a]);var l=ve(d=>Mse(d,t,i));if(!a)return r;if(!l)return null;var u=document.getElementById(l);return u?Rc.createPortal(r,u):null}function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ww.apply(null,arguments)}function kE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(r),!0).forEach(function(n){qse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qse(e,t,r){return(t=Zse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zse(e){var t=Yse(e,"string");return typeof t=="symbol"?t:t+""}function Yse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gse(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function Xse(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:f}=e,h=r,p=n,g=a;if(!u||!h||f!=="ScatterChart"&&d!=="axis")return null;var y,b,_;if(f==="ScatterChart")y=h,b=rte,_=Lt.cursorLine;else if(f==="BarChart")y=nte(l,h,i,o),b=e5,_=Lt.cursorRectangle;else if(l==="radial"&&S4(h)){var{cx:w,cy:k,radius:j,startAngle:N,endAngle:P}=t5(h);y={cx:w,cy:k,startAngle:N,endAngle:P,innerRadius:j,outerRadius:j},b=n5,_=Lt.cursorLine}else y={points:Kte(l,h,i)},b=pj,_=Lt.cursorLine;var C=typeof u=="object"&&"className"in u?u.className:void 0,A=hm(hm(hm(hm({stroke:"#ccc",pointerEvents:"none"},i),y),Vc(u)),{},{payload:p,payloadIndex:g,className:qe("recharts-tooltip-cursor",C)});return x.createElement($r,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},x.createElement(Gse,{cursor:u,cursorComp:b,cursorProps:A}))}function Qse(e){var t=yse(),r=BD(),n=Of(),a=kse();return t==null||r==null||n==null||a==null?null:x.createElement(Xse,Ww({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var xR=x.createContext(null),Jse=()=>x.useContext(xR),vR={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function i(u,d,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new a(f,h||u,p),y=r?r+d:d;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],g]:u._events[y].push(g):(u._events[y]=g,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new n:delete u._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)t.call(f,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,y=new Array(g);p<g;p++)y[p]=h[p].fn;return y},l.prototype.listenerCount=function(d){var f=r?r+d:d,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,f,h,p,g,y){var b=r?r+d:d;if(!this._events[b])return!1;var _=this._events[b],w=arguments.length,k,j;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),w){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,h),!0;case 4:return _.fn.call(_.context,f,h,p),!0;case 5:return _.fn.call(_.context,f,h,p,g),!0;case 6:return _.fn.call(_.context,f,h,p,g,y),!0}for(j=1,k=new Array(w-1);j<w;j++)k[j-1]=arguments[j];_.fn.apply(_.context,k)}else{var N=_.length,P;for(j=0;j<N;j++)switch(_[j].once&&this.removeListener(d,_[j].fn,void 0,!0),w){case 1:_[j].fn.call(_[j].context);break;case 2:_[j].fn.call(_[j].context,f);break;case 3:_[j].fn.call(_[j].context,f,h);break;case 4:_[j].fn.call(_[j].context,f,h,p);break;default:if(!k)for(P=1,k=new Array(w-1);P<w;P++)k[P-1]=arguments[P];_[j].fn.apply(_[j].context,k)}}return!0},l.prototype.on=function(d,f,h){return i(this,d,f,h,!1)},l.prototype.once=function(d,f,h){return i(this,d,f,h,!0)},l.prototype.removeListener=function(d,f,h,p){var g=r?r+d:d;if(!this._events[g])return this;if(!f)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===f&&(!p||y.once)&&(!h||y.context===h)&&o(this,g);else{for(var b=0,_=[],w=y.length;b<w;b++)(y[b].fn!==f||p&&!y[b].once||h&&y[b].context!==h)&&_.push(y[b]);_.length?this._events[g]=_.length===1?_[0]:_:o(this,g)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(vR);var eoe=vR.exports;const toe=Wa(eoe);var Yd=new toe,Vw="recharts.syncEvent.tooltip",NE="recharts.syncEvent.brush";function uk(e,t){if(t){var r=Number.parseInt(t,10);if(!wn(r))return e==null?void 0:e[r]}}var roe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},bR=cn({name:"options",initialState:roe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),noe=bR.reducer,{createEventEmitter:aoe}=bR.actions;function ioe(e){return e.tooltip.syncInteraction}var soe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},wR=cn({name:"chartData",initialState:soe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:SE,setDataStartEndIndexes:ooe,setComputedData:Gge}=wR.actions,loe=wR.reducer,coe=["x","y"];function PE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(r),!0).forEach(function(n){uoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uoe(e,t,r){return(t=doe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function doe(e){var t=foe(e,"string");return typeof t=="symbol"?t:t+""}function foe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hoe(e,t){if(e==null)return{};var r,n,a=moe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function moe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function poe(){var e=ve(Fj),t=ve($j),r=yt(),n=ve(r3),a=ve(Bi),i=Of(),o=qc(),l=ve(u=>u.rootProps.className);x.useEffect(()=>{if(e==null)return kf;var u=(d,f,h)=>{if(t!==h&&e===d){if(n==="index"){var p;if(o&&f!==null&&f!==void 0&&(p=f.payload)!==null&&p!==void 0&&p.coordinate&&f.payload.sourceViewBox){var g=f.payload.coordinate,{x:y,y:b}=g,_=hoe(g,coe),{x:w,y:k,width:j,height:N}=f.payload.sourceViewBox,P=wl(wl({},_),{},{x:o.x+(j?(y-w)/j:0)*o.width,y:o.y+(N?(b-k)/N:0)*o.height});r(wl(wl({},f),{},{payload:wl(wl({},f.payload),{},{coordinate:P})}))}else r(f);return}if(a!=null){var C;if(typeof n=="function"){var A={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},O=n(a,A);C=a[O]}else n==="value"&&(C=a.find(H=>String(H.value)===f.payload.label));var{coordinate:T}=f.payload;if(C==null||f.payload.active===!1||T==null||o==null){r(Uw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:$,y:I}=T,z=Math.min($,o.x+o.width),U=Math.min(I,o.y+o.height),F={x:i==="horizontal"?C.coordinate:z,y:i==="horizontal"?U:C.coordinate},q=Uw({active:f.payload.active,coordinate:F,dataKey:f.payload.dataKey,index:String(C.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});r(q)}}};return Yd.on(Vw,u),()=>{Yd.off(Vw,u)}},[l,r,t,e,n,a,i,o])}function goe(){var e=ve(Fj),t=ve($j),r=yt();x.useEffect(()=>{if(e==null)return kf;var n=(a,i,o)=>{t!==o&&e===a&&r(ooe(i))};return Yd.on(NE,n),()=>{Yd.off(NE,n)}},[r,t,e])}function yoe(){var e=yt();x.useEffect(()=>{e(aoe())},[e]),poe(),goe()}function xoe(e,t,r,n,a,i){var o=ve(g=>Sse(g,e,t)),l=ve($j),u=ve(Fj),d=ve(r3),f=ve(ioe),h=f==null?void 0:f.active,p=qc();x.useEffect(()=>{if(!h&&u!=null&&l!=null){var g=Uw({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});Yd.emit(Vw,u,g,l)}},[h,r,o,a,n,l,u,d,i,p])}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(n){voe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function voe(e,t,r){return(t=boe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function boe(e){var t=woe(e,"string");return typeof t=="symbol"?t:t+""}function woe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _oe(e){return e.dataKey}function joe(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(Lee,t)}var OE=[],koe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function go(e){var t,r,n=Ut(e,koe),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:u,filterNull:d,isAnimationActive:f,offset:h,payloadUniqBy:p,position:g,reverseDirection:y,useTranslate3d:b,wrapperStyle:_,cursor:w,shared:k,trigger:j,defaultIndex:N,portal:P,axisId:C}=n,A=yt(),O=typeof N=="number"?String(N):N;x.useEffect(()=>{A(wie({shared:k,trigger:j,axisId:C,active:a,defaultIndex:O}))},[A,k,j,C,a,O]);var T=qc(),$=YD(),I=pie(k),{activeIndex:z,isActive:U}=(t=ve(oe=>Ese(oe,I,j,O)))!==null&&t!==void 0?t:{},F=ve(oe=>Cse(oe,I,j,O)),q=ve(oe=>gR(oe,I,j,O)),H=ve(oe=>Pse(oe,I,j,O)),W=F,M=Jse(),D=(r=a??U)!==null&&r!==void 0?r:!1,[B,V]=Q4([W,D]),G=I==="axis"?q:void 0;xoe(I,j,H,G,z,D);var Z=P??M;if(Z==null||T==null||I==null)return null;var Q=W??OE;D||(Q=OE),d&&Q.length&&(Q=W4(Q.filter(oe=>oe.value!=null&&(oe.hide!==!0||n.includeHidden)),p,_oe));var ie=Q.length>0,se=x.createElement(Uee,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:f,active:D,coordinate:H,hasPayload:ie,offset:h,position:g,reverseDirection:y,useTranslate3d:b,viewBox:T,wrapperStyle:_,lastBoundingBox:B,innerRef:V,hasPortalFromProps:!!P},joe(u,EE(EE({},n),{},{payload:Q,label:G,active:D,activeIndex:z,coordinate:H,accessibilityLayer:$})));return x.createElement(x.Fragment,null,Rc.createPortal(se,Z),D&&x.createElement(Qse,{cursor:w,tooltipEventType:I,coordinate:H,payload:Q,index:z}))}var ay=e=>null;ay.displayName="Cell";function Noe(e,t,r){return(t=Soe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Soe(e){var t=Poe(e,"string");return typeof t=="symbol"?t:t+""}function Poe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Coe{constructor(t){Noe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function AE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eoe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(r),!0).forEach(function(n){Ooe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ooe(e,t,r){return(t=Aoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aoe(e){var t=Toe(e,"string");return typeof t=="symbol"?t:t+""}function Toe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Moe={cacheSize:2e3,enableCache:!0},_R=Eoe({},Moe),TE=new Coe(_R.cacheSize),Ioe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ME="recharts_measurement_span";function Loe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var IE=(e,t)=>{try{var r=document.getElementById(ME);r||(r=document.createElement("span"),r.setAttribute("id",ME),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Ioe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},sd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Tf.isSsr)return{width:0,height:0};if(!_R.enableCache)return IE(t,r);var n=Loe(t,r),a=TE.get(n);if(a)return a;var i=IE(t,r);return TE.set(n,i),i},LE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Doe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Roe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zoe=Object.keys(jR),zl="NaN";function Foe(e,t){return e*jR[t]}class qr{static parse(t){var r,[,n,a]=(r=Roe.exec(t))!==null&&r!==void 0?r:[];return new qr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,wn(t)&&(this.unit=""),r!==""&&!Doe.test(r)&&(this.num=NaN,this.unit=""),zoe.includes(r)&&(this.num=Foe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new qr(NaN,""):new qr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new qr(NaN,""):new qr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new qr(NaN,""):new qr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new qr(NaN,""):new qr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wn(this.num)}}function kR(e){if(e.includes(zl))return zl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=LE.exec(t))!==null&&r!==void 0?r:[],o=qr.parse(n??""),l=qr.parse(i??""),u=a==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return zl;t=t.replace(LE,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,h,p]=(d=DE.exec(t))!==null&&d!==void 0?d:[],g=qr.parse(f??""),y=qr.parse(p??""),b=h==="+"?g.add(y):g.subtract(y);if(b.isNaN())return zl;t=t.replace(DE,b.toString())}return t}var RE=/\(([^()]*)\)/;function $oe(e){for(var t=e,r;(r=RE.exec(t))!=null;){var[,n]=r;t=t.replace(RE,kR(n))}return t}function Boe(e){var t=e.replace(/\s+/g,"");return t=$oe(t),t=kR(t),t}function Uoe(e){try{return Boe(e)}catch{return zl}}function gv(e){var t=Uoe(e.slice(5,-1));return t===zl?"":t}var Hoe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Woe=["dx","dy","angle","className","breakAll"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kw.apply(null,arguments)}function zE(e,t){if(e==null)return{};var r,n,a=Voe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Voe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NR=/[ \f\n\r\t\v\u2028\u2029]+/,SR=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Xe(t)||(r?a=t.toString().split(""):a=t.toString().split(NR));var i=a.map(l=>({word:l,width:sd(l,n).width})),o=r?0:sd("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function Koe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var PR=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:l}=i,u=a[a.length-1];if(u&&l!=null&&(t==null||n||u.width+l+r<Number(t)))u.words.push(o),u.width+=l+r;else{var d={words:[o],width:l};a.push(d)}return a},[]),CR=e=>e.reduce((t,r)=>t.width>r.width?t:r),qoe="",FE=(e,t,r,n,a,i,o,l)=>{var u=e.slice(0,t),d=SR({breakAll:r,style:n,children:u+qoe});if(!d)return[!1,[]];var f=PR(d.wordsWithComputedWidth,i,o,l),h=f.length>a||CR(f).width>Number(i);return[h,f]},Zoe=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:u}=e,d=je(i),f=String(o),h=PR(t,n,r,a);if(!d||a)return h;var p=h.length>i||CR(h).width>Number(n);if(!p)return h;for(var g=0,y=f.length-1,b=0,_;g<=y&&b<=f.length-1;){var w=Math.floor((g+y)/2),k=w-1,[j,N]=FE(f,k,u,l,i,n,r,a),[P]=FE(f,w,u,l,i,n,r,a);if(!j&&!P&&(g=w+1),j&&P&&(y=w-1),!j&&P){_=N;break}b++}return _||h},$E=e=>{var t=Xe(e)?[]:e.toString().split(NR);return[{words:t,width:void 0}]},Yoe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Tf.isSsr){var l,u,d=SR({breakAll:i,children:n,style:a});if(d){var{wordsWithComputedWidth:f,spaceWidth:h}=d;l=f,u=h}else return $E(n);return Zoe({breakAll:i,children:n,maxLines:o,style:a},l,u,t,!!r)}return $E(n)},ER="#808080",Goe={angle:0,breakAll:!1,capHeight:"0.71em",fill:ER,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},dk=x.forwardRef((e,t)=>{var r=Ut(e,Goe),{x:n,y:a,lineHeight:i,capHeight:o,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:f}=r,h=zE(r,Hoe),p=x.useMemo(()=>Yoe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:g,dy:y,angle:b,className:_,breakAll:w}=h,k=zE(h,Woe);if(!Wn(n)||!Wn(a)||p.length===0)return null;var j=Number(n)+(je(g)?g:0),N=Number(a)+(je(y)?y:0);if(!ut(j)||!ut(N))return null;var P;switch(f){case"start":P=gv("calc(".concat(o,")"));break;case"middle":P=gv("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:P=gv("calc(".concat(p.length-1," * -").concat(i,")"));break}var C=[];if(u){var A=p[0].width,{width:O}=h;C.push("scale(".concat(je(O)&&je(A)?O/A:1,")"))}return b&&C.push("rotate(".concat(b,", ").concat(j,", ").concat(N,")")),C.length&&(k.transform=C.join(" ")),x.createElement("text",Kw({},Cr(k),{ref:t,x:j,y:N,className:qe("recharts-text",_),textAnchor:d,fill:l.includes("url")?ER:l}),p.map((T,$)=>{var I=T.words.join(w?"":" ");return x.createElement("tspan",{x:j,dy:$===0?P:i,key:"".concat(I,"-").concat($)},I)}))});dk.displayName="Text";var Xoe=["labelRef"];function Qoe(e,t){if(e==null)return{};var r,n,a=Joe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Joe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){ele(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ele(e,t,r){return(t=tle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tle(e){var t=rle(e,"string");return typeof t=="symbol"?t:t+""}function rle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(null,arguments)}var OR=x.createContext(null),AR=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:l}=e,u=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return x.createElement(OR.Provider,{value:u},l)},TR=()=>{var e=x.useContext(OR),t=qc();return e||$D(t)},nle=x.createContext(null),ale=()=>{var e=x.useContext(nle),t=ve(o3);return e||t},ile=e=>{var{value:t,formatter:r}=e,n=Xe(e.children)?t:e.children;return typeof r=="function"?r(n):n},fk=e=>e!=null&&typeof e=="function",sle=(e,t)=>{var r=Jr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},ole=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:u,innerRadius:d,outerRadius:f,startAngle:h,endAngle:p,clockWise:g}=a,y=(d+f)/2,b=sle(h,p),_=b>=0?1:-1,w,k;switch(t){case"insideStart":w=h+_*i,k=g;break;case"insideEnd":w=p-_*i,k=!g;break;case"end":w=p+_*i,k=g;break;default:throw new Error("Unsupported position ".concat(t))}k=b<=0?k:!k;var j=yr(l,u,y,w),N=yr(l,u,y,w+(k?1:-1)*359),P="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(k?0:1,`,
    `).concat(N.x,",").concat(N.y),C=Xe(e.id)?Fd("recharts-radial-line-"):e.id;return x.createElement("text",di({},n,{dominantBaseline:"central",className:qe("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:C,d:P})),x.createElement("textPath",{xlinkHref:"#".concat(C)},r))},lle=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(r==="outside"){var{x:f,y:h}=yr(n,a,o+t,d);return{x:f,y:h,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:g,y}=yr(n,a,p,d);return{x:g,y,textAnchor:"middle",verticalAnchor:"middle"}},qw=e=>"cx"in e&&je(e.cx),cle=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!qw(r)&&(i=r);var{x:o,y:l,upperWidth:u,lowerWidth:d,height:f}=t,h=o,p=o+(u-d)/2,g=(h+p)/2,y=(u+d)/2,b=h+u/2,_=f>=0?1:-1,w=_*n,k=_>0?"end":"start",j=_>0?"start":"end",N=u>=0?1:-1,P=N*n,C=N>0?"end":"start",A=N>0?"start":"end";if(a==="top"){var O={x:h+u/2,y:l-w,textAnchor:"middle",verticalAnchor:k};return Mt(Mt({},O),i?{height:Math.max(l-i.y,0),width:u}:{})}if(a==="bottom"){var T={x:p+d/2,y:l+f+w,textAnchor:"middle",verticalAnchor:j};return Mt(Mt({},T),i?{height:Math.max(i.y+i.height-(l+f),0),width:d}:{})}if(a==="left"){var $={x:g-P,y:l+f/2,textAnchor:C,verticalAnchor:"middle"};return Mt(Mt({},$),i?{width:Math.max($.x-i.x,0),height:f}:{})}if(a==="right"){var I={x:g+y+P,y:l+f/2,textAnchor:A,verticalAnchor:"middle"};return Mt(Mt({},I),i?{width:Math.max(i.x+i.width-I.x,0),height:f}:{})}var z=i?{width:y,height:f}:{};return a==="insideLeft"?Mt({x:g+P,y:l+f/2,textAnchor:A,verticalAnchor:"middle"},z):a==="insideRight"?Mt({x:g+y-P,y:l+f/2,textAnchor:C,verticalAnchor:"middle"},z):a==="insideTop"?Mt({x:h+u/2,y:l+w,textAnchor:"middle",verticalAnchor:j},z):a==="insideBottom"?Mt({x:p+d/2,y:l+f-w,textAnchor:"middle",verticalAnchor:k},z):a==="insideTopLeft"?Mt({x:h+P,y:l+w,textAnchor:A,verticalAnchor:j},z):a==="insideTopRight"?Mt({x:h+u-P,y:l+w,textAnchor:C,verticalAnchor:j},z):a==="insideBottomLeft"?Mt({x:p+P,y:l+f-w,textAnchor:A,verticalAnchor:k},z):a==="insideBottomRight"?Mt({x:p+d-P,y:l+f-w,textAnchor:C,verticalAnchor:k},z):a&&typeof a=="object"&&(je(a.x)||Ci(a.x))&&(je(a.y)||Ci(a.y))?Mt({x:o+ga(a.x,y),y:l+ga(a.y,f),textAnchor:"end",verticalAnchor:"end"},z):Mt({x:b,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},z)},ule={angle:0,offset:5,zIndex:Lt.label,position:"middle",textBreakAll:!1};function ts(e){var t=Ut(e,ule),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:u,labelRef:d}=t,f=ale(),h=TR(),p=n==="center"?h:f??h,g,y,b;if(r==null?g=p:qw(r)?g=r:g=$D(r),!g||Xe(a)&&Xe(i)&&!x.isValidElement(o)&&typeof o!="function")return null;var _=Mt(Mt({},t),{},{viewBox:g});if(x.isValidElement(o)){var{labelRef:w}=_,k=Qoe(_,Xoe);return x.cloneElement(o,k)}if(typeof o=="function"){if(y=x.createElement(o,_),x.isValidElement(y))return y}else y=ile(t);var j=Cr(t);if(qw(g)){if(n==="insideStart"||n==="insideEnd"||n==="end")return ole(t,n,y,j,g);b=lle(g,t.offset,t.position)}else b=cle(t,g);return x.createElement($r,{zIndex:t.zIndex},x.createElement(dk,di({ref:d,className:qe("recharts-label",l)},j,b,{textAnchor:Koe(j.textAnchor)?j.textAnchor:b.textAnchor,breakAll:u}),y))}ts.displayName="Label";var dle=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(ts,di({key:"label-implicit"},n)):Wn(e)?x.createElement(ts,di({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===ts?x.cloneElement(e,Mt({key:"label-implicit"},n)):x.createElement(ts,di({key:"label-implicit",content:e},n)):fk(e)?x.createElement(ts,di({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(ts,di({},e,{key:"label-implicit"},n)):null};function MR(e){var{label:t,labelRef:r}=e,n=TR();return dle(t,n,r)||null}var IR={},LR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(LR);var DR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(DR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LR,r=DR,n=k0;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(IR);var fle=IR.last;const hle=Wa(fle);var mle=["valueAccessor"],ple=["dataKey","clockWise","id","textBreakAll","zIndex"];function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(null,arguments)}function UE(e,t){if(e==null)return{};var r,n,a=gle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yle=e=>Array.isArray(e.value)?hle(e.value):e.value,RR=x.createContext(void 0),hk=RR.Provider,zR=x.createContext(void 0);zR.Provider;function xle(){return x.useContext(RR)}function vle(){return x.useContext(zR)}function Km(e){var{valueAccessor:t=yle}=e,r=UE(e,mle),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:l}=r,u=UE(r,ple),d=xle(),f=vle(),h=d||f;return!h||!h.length?null:x.createElement($r,{zIndex:l??Lt.label},x.createElement(cr,{className:"recharts-label-list"},h.map((p,g)=>{var y,b=Xe(n)?t(p,g):kt(p&&p.payload,n),_=Xe(i)?{}:{id:"".concat(i,"-").concat(g)};return x.createElement(ts,gg({key:"label-".concat(g)},Cr(p),u,_,{fill:(y=r.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:o,viewBox:p.viewBox,index:g,zIndex:0}))})))}Km.displayName="LabelList";function mk(e){var{label:t}=e;return t?t===!0?x.createElement(Km,{key:"labelList-implicit"}):x.isValidElement(t)||fk(t)?x.createElement(Km,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Km,gg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zw.apply(null,arguments)}var FR=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=qe("recharts-dot",a);return je(t)&&je(r)&&je(n)?x.createElement("circle",Zw({},bn(e),B1(e),{className:i,cx:t,cy:r,r:n})):null},ble={radiusAxis:{},angleAxis:{}},$R=cn({name:"polarAxis",initialState:ble,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Xge,removeRadiusAxis:Qge,addAngleAxis:Jge,removeAngleAxis:e0e}=$R.actions,wle=$R.reducer,BR={exports:{}},et={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pk=Symbol.for("react.transitional.element"),gk=Symbol.for("react.portal"),iy=Symbol.for("react.fragment"),sy=Symbol.for("react.strict_mode"),oy=Symbol.for("react.profiler"),ly=Symbol.for("react.consumer"),cy=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),dy=Symbol.for("react.suspense"),fy=Symbol.for("react.suspense_list"),hy=Symbol.for("react.memo"),my=Symbol.for("react.lazy"),_le=Symbol.for("react.view_transition"),jle=Symbol.for("react.client.reference");function Zn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pk:switch(e=e.type,e){case iy:case oy:case sy:case dy:case fy:case _le:return e;default:switch(e=e&&e.$$typeof,e){case cy:case uy:case my:case hy:return e;case ly:return e;default:return t}}case gk:return t}}}et.ContextConsumer=ly;et.ContextProvider=cy;et.Element=pk;et.ForwardRef=uy;et.Fragment=iy;et.Lazy=my;et.Memo=hy;et.Portal=gk;et.Profiler=oy;et.StrictMode=sy;et.Suspense=dy;et.SuspenseList=fy;et.isContextConsumer=function(e){return Zn(e)===ly};et.isContextProvider=function(e){return Zn(e)===cy};et.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pk};et.isForwardRef=function(e){return Zn(e)===uy};et.isFragment=function(e){return Zn(e)===iy};et.isLazy=function(e){return Zn(e)===my};et.isMemo=function(e){return Zn(e)===hy};et.isPortal=function(e){return Zn(e)===gk};et.isProfiler=function(e){return Zn(e)===oy};et.isStrictMode=function(e){return Zn(e)===sy};et.isSuspense=function(e){return Zn(e)===dy};et.isSuspenseList=function(e){return Zn(e)===fy};et.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===iy||e===oy||e===sy||e===dy||e===fy||typeof e=="object"&&e!==null&&(e.$$typeof===my||e.$$typeof===hy||e.$$typeof===cy||e.$$typeof===ly||e.$$typeof===uy||e.$$typeof===jle||e.getModuleId!==void 0)};et.typeOf=Zn;BR.exports=et;var kle=BR.exports,HE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",WE=null,yv=null,UR=e=>{if(e===WE&&Array.isArray(yv))return yv;var t=[];return x.Children.forEach(e,r=>{Xe(r)||(kle.isFragment(r)?t=t.concat(UR(r.props.children)):t.push(r))}),yv=t,WE=e,t};function HR(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>HE(a)):n=[HE(t)],UR(e).forEach(a=>{var i=Nc(a,"type.displayName")||Nc(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var WR=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,VR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(VR);var Nle=VR.isPlainObject;const Sle=Wa(Nle);function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){Ple(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ple(e,t,r){return(t=Cle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cle(e){var t=Ele(e,"string");return typeof t=="symbol"?t:t+""}function Ele(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(null,arguments)}var qE=(e,t,r,n,a)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},Ole={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ale=e=>{var t=Ut(e,Ole),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:u,animationDuration:d,animationBegin:f,isUpdateAnimationActive:h}=t,p=x.useRef(null),[g,y]=x.useState(-1),b=x.useRef(a),_=x.useRef(i),w=x.useRef(o),k=x.useRef(r),j=x.useRef(n),N=If(e,"trapezoid-");if(x.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var F=p.current.getTotalLength();F&&y(F)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var P=qe("recharts-trapezoid",l);if(!h)return x.createElement("g",null,x.createElement("path",yg({},Cr(t),{className:P,d:qE(r,n,a,i,o)})));var C=b.current,A=_.current,O=w.current,T=k.current,$=j.current,I="0px ".concat(g===-1?1:g,"px"),z="".concat(g,"px 0px"),U=GD(["strokeDasharray"],d,u);return x.createElement(Mf,{animationId:N,key:N,canBegin:g>0,duration:d,easing:u,isActive:h,begin:f},F=>{var q=nt(C,a,F),H=nt(A,i,F),W=nt(O,o,F),M=nt(T,r,F),D=nt($,n,F);p.current&&(b.current=q,_.current=H,w.current=W,k.current=M,j.current=D);var B=F>0?{transition:U,strokeDasharray:z}:{strokeDasharray:I};return x.createElement("path",yg({},Cr(t),{className:P,d:qE(M,D,q,H,W),ref:p,style:KE(KE({},B),t.style)}))})},Tle=["option","shapeType","propTransformer","activeClassName"];function Mle(e,t){if(e==null)return{};var r,n,a=Ile(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ile(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(n){Lle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lle(e,t,r){return(t=Dle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dle(e){var t=Rle(e,"string");return typeof t=="symbol"?t:t+""}function Rle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zle(e,t){return xg(xg({},t),e)}function Fle(e,t){return e==="symbols"}function YE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(e5,r);case"trapezoid":return x.createElement(Ale,r);case"sector":return x.createElement(n5,r);case"symbols":if(Fle(t))return x.createElement(j0,r);break;case"curve":return x.createElement(pj,r);default:return null}}function $le(e){return x.isValidElement(e)?e.props:e}function vg(e){var{option:t,shapeType:r,propTransformer:n=zle,activeClassName:a="recharts-active-shape"}=e,i=Mle(e,Tle),o;if(x.isValidElement(t))o=x.cloneElement(t,xg(xg({},i),$le(t)));else if(typeof t=="function")o=t(i,i.index);else if(Sle(t)&&typeof t!="boolean"){var l=n(t,i);o=x.createElement(YE,{shapeType:r,elementProps:l})}else{var u=i;o=x.createElement(YE,{shapeType:r,elementProps:u})}return i.isActive?x.createElement(cr,{className:a},o):o}var yk=(e,t,r)=>{var n=yt();return(a,i)=>o=>{e==null||e(a,i,o),n(X3({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},xk=e=>{var t=yt();return(r,n)=>a=>{e==null||e(r,n,a),t(_ie())}},vk=(e,t,r)=>{var n=yt();return(a,i)=>o=>{e==null||e(a,i,o),n(jie({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function bk(e){var{tooltipEntrySettings:t}=e,r=yt(),n=qt(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(xie(t)):a.current!==t&&r(vie({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(bie(a.current)),a.current=null)},[r]),null}function wk(e){var{legendPayload:t}=e,r=yt(),n=qt(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(mee(t)):a.current!==t&&r(pee({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(gee(a.current)),a.current=null)},[r]),null}var xv,Ble=()=>{var[e]=x.useState(()=>Fd("uid-"));return e},Ule=(xv=UF.useId)!==null&&xv!==void 0?xv:Ble;function KR(e,t){var r=Ule();return t||(e?"".concat(e,"-").concat(r):r)}var Hle=x.createContext(void 0),_k=e=>{var{id:t,type:r,children:n}=e,a=KR("recharts-".concat(r),t);return x.createElement(Hle.Provider,{value:a},n(a))},Wle={cartesianItems:[],polarItems:[]},qR=cn({name:"graphicalItems",initialState:Wle,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ft()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ha(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:ft()},removeCartesianGraphicalItem:{reducer(e,t){var r=ha(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ft()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ft()},removePolarGraphicalItem:{reducer(e,t){var r=ha(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ft()}}}),{addCartesianGraphicalItem:Vle,replaceCartesianGraphicalItem:Kle,removeCartesianGraphicalItem:qle,addPolarGraphicalItem:t0e,removePolarGraphicalItem:r0e}=qR.actions,Zle=qR.reducer,Yle=e=>{var t=yt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(Vle(e)):r.current!==e&&t(Kle({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(qle(r.current)),r.current=null)},[t]),null},jk=x.memo(Yle),Gle=["points"];function GE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(r),!0).forEach(function(n){Xle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xle(e,t,r){return(t=Qle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qle(e){var t=Jle(e,"string");return typeof t=="symbol"?t:t+""}function Jle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(null,arguments)}function ece(e,t){if(e==null)return{};var r,n,a=tce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rce(e){var{option:t,dotProps:r,className:n}=e;if(x.isValidElement(t))return x.cloneElement(t,r);if(typeof t=="function")return t(r);var a=qe(n,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,l=ece(i,Gle);return x.createElement(FR,bg({},l,{className:a}))}function nce(e,t){return e==null?!1:t?!0:e.length===1}function ace(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:o,needClip:l,clipPathId:u,zIndex:d=Lt.scatter}=e;if(!nce(t,r))return null;var f=WR(r),h=AG(r),p=t.map((y,b)=>{var _,w,k=vv(vv(vv({r:3},o),h),{},{index:b,cx:(_=y.x)!==null&&_!==void 0?_:void 0,cy:(w=y.y)!==null&&w!==void 0?w:void 0,dataKey:i,value:y.value,payload:y.payload,points:t});return x.createElement(rce,{key:"dot-".concat(b),option:r,dotProps:k,className:a})}),g={};return l&&u!=null&&(g.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),x.createElement($r,{zIndex:d},x.createElement(cr,bg({className:n},g),p))}function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(n){ice(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ice(e,t,r){return(t=sce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sce(e){var t=oce(e,"string");return typeof t=="symbol"?t:t+""}function oce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lce={xAxis:{},yAxis:{},zAxis:{}},ZR=cn({name:"cartesianAxis",initialState:lce,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ft()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:ft()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ft()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ft()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:ft()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ft()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ft()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:ft()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ft()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=QE(QE({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:cce,replaceXAxis:uce,removeXAxis:dce,addYAxis:fce,replaceYAxis:hce,removeYAxis:mce,addZAxis:n0e,replaceZAxis:a0e,removeZAxis:i0e,updateYAxisWidth:pce}=ZR.actions,gce=ZR.reducer,yce=re([ur],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),xce=re([yce,zi,Fi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),kk=()=>ve(xce),vce=()=>ve(fse);function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){bce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bce(e,t,r){return(t=wce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wce(e){var t=_ce(e,"string");return typeof t=="symbol"?t:t+""}function _ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jce=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=bv(bv(bv({},l),Vc(a)),B1(a)),d;return x.isValidElement(a)?d=x.cloneElement(a,u):typeof a=="function"?d=a(u):d=x.createElement(FR,u),x.createElement(cr,{className:"recharts-active-dot",clipPath:o},d)};function kce(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:o=Lt.activeDot}=e,l=ve(Ds),u=vce();if(t==null||u==null)return null;var d=t.find(f=>u.includes(f.payload));return Xe(d)?null:x.createElement($r,{zIndex:o},x.createElement(jce,{point:d,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var Nce="Invariant failed";function Sce(e,t){throw new Error(Nce)}var Pce=["x","y"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yw.apply(null,arguments)}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){Cce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cce(e,t,r){return(t=Ece(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ece(e){var t=Oce(e,"string");return typeof t=="symbol"?t:t+""}function Oce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ace(e,t){if(e==null)return{};var r,n,a=Tce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mce(e,t){var{x:r,y:n}=e,a=Ace(e,Pce),i="".concat(r),o=parseInt(i,10),l="".concat(n),u=parseInt(l,10),d="".concat(t.height||a.height),f=parseInt(d,10),h="".concat(t.width||a.width),p=parseInt(h,10);return $u($u($u($u($u({},t),a),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:p,name:t.name,radius:t.radius})}function wg(e){return x.createElement(vg,Yw({shapeType:"rectangle",propTransformer:Mce,activeClassName:"recharts-active-bar"},e))}var Ice=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(je(t))return t;var i=je(n)||Xe(n);return i?t(n,a):(i||Sce(),r)}},Lce={},YR=cn({name:"errorBars",initialState:Lce,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:s0e,replaceErrorBar:o0e,removeErrorBar:l0e}=YR.actions,Dce=YR.reducer,Rce=["children"];function zce(e,t){if(e==null)return{};var r,n,a=Fce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $ce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Bce=x.createContext($ce);function Nk(e){var{children:t}=e,r=zce(e,Rce);return x.createElement(Bce.Provider,{value:r},t)}function py(e,t){var r,n,a=ve(d=>qa(d,e)),i=ve(d=>Za(d,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:er.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:tr.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function Sk(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=kk(),{needClipX:i,needClipY:o,needClip:l}=py(t,r);if(!l||!a)return null;var{x:u,y:d,width:f,height:h}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:i?u:u-f/2,y:o?d:d-h/2,width:i?f:f*2,height:o?h:h*2}))}function Uce(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ut(e.zIndex)?e.zIndex:t}var Hce={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=x;function Wce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vce=typeof Object.is=="function"?Object.is:Wce,Kce=Yf.useSyncExternalStore,qce=Yf.useRef,Zce=Yf.useEffect,Yce=Yf.useMemo,Gce=Yf.useDebugValue;Hce.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=qce(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Yce(function(){function u(g){if(!d){if(d=!0,f=g,g=n(g),a!==void 0&&o.hasValue){var y=o.value;if(a(y,g))return h=y}return h=g}if(y=h,Vce(f,g))return y;var b=n(g);return a!==void 0&&a(y,b)?(f=g,y):(f=g,h=b)}var d=!1,f,h,p=r===void 0?null:r;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,r,n,a]);var l=Kce(e,i[0],i[1]);return Zce(function(){o.hasValue=!0,o.value=l},[l]),Gce(l),l};function Xce(e){e()}function Qce(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Xce(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var tO={notify(){},get:()=>[]};function Jce(e,t){let r,n=tO,a=0,i=!1;function o(b){f();const _=n.subscribe(b);let w=!1;return()=>{w||(w=!0,_(),h())}}function l(){n.notify()}function u(){y.onStateChange&&y.onStateChange()}function d(){return i}function f(){a++,r||(r=e.subscribe(u),n=Qce())}function h(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=tO)}function p(){i||(i=!0,f())}function g(){i&&(i=!1,h())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>n};return y}var eue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tue=eue(),rue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",nue=rue(),aue=()=>tue||nue?x.useLayoutEffect:x.useEffect,iue=aue();function rO(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function sue(e,t){if(rO(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!rO(e[r[a]],t[r[a]]))return!1;return!0}var wv=Symbol.for("react-redux-context"),_v=typeof globalThis<"u"?globalThis:{};function oue(){if(!x.createContext)return{};const e=_v[wv]??(_v[wv]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var lue=oue();function cue(e){const{children:t,context:r,serverState:n,store:a}=e,i=x.useMemo(()=>{const u=Jce(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),o=x.useMemo(()=>a.getState(),[a]);iue(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const l=r||lue;return x.createElement(l.Provider,{value:i},t)}var uue=cue,due=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function fue(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Gf(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(due.has(n)){if(e[n]==null&&t[n]==null)continue;if(!sue(e[n],t[n]))return!1}else if(!fue(e[n],t[n]))return!1;return!0}var hue=["onMouseEnter","onMouseLeave","onClick"],mue=["value","background","tooltipPosition"],pue=["id"],gue=["onMouseEnter","onClick","onMouseLeave"];function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ii.apply(null,arguments)}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){yue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yue(e,t,r){return(t=xue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xue(e){var t=vue(e,"string");return typeof t=="symbol"?t:t+""}function vue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _g(e,t){if(e==null)return{};var r,n,a=bue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wue=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Kc(r,t),payload:e}]},_ue=x.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l,tooltipType:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Kc(i,t),hide:o,type:u,color:a,unit:l}};return x.createElement(bk,{tooltipEntrySettings:d})});function jue(e){var t=ve(Ds),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:u}=i,d=_g(i,hue),f=yk(o,n),h=xk(l),p=vk(u,n);if(!a||r==null)return null;var g=Vc(a);return x.createElement($r,{zIndex:Uce(a,Lt.barBackground)},r.map((y,b)=>{var{value:_,background:w,tooltipPosition:k}=y,j=_g(y,mue);if(!w)return null;var N=f(y,b),P=h(y,b),C=p(y,b),A=Mr(Mr(Mr(Mr(Mr({option:a,isActive:String(b)===t},j),{},{fill:"#eee"},w),g),Nf(d,y,b)),{},{onMouseEnter:N,onMouseLeave:P,onClick:C,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return x.createElement(wg,Ii({key:"background-bar-".concat(b)},A))}))}function kue(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Mr(Mr({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return x.createElement(hk,{value:t?a:void 0},r)}function Nue(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=ve(Ds),u=ve(dR),d=r&&String(i)===l&&(u==null||o===u),f=d?r:t;return d?x.createElement($r,{zIndex:Lt.activeBar},x.createElement(wg,Ii({},n,{name:String(n.name)},a,{isActive:d,option:f,index:i,dataKey:o}))):x.createElement(wg,Ii({},n,{name:String(n.name)},a,{isActive:d,option:f,index:i,dataKey:o}))}function Sue(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return x.createElement(wg,Ii({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function Pue(e){var t,{data:r,props:n}=e,a=(t=bn(n))!==null&&t!==void 0?t:{},{id:i}=a,o=_g(a,pue),{shape:l,dataKey:u,activeBar:d}=n,{onMouseEnter:f,onClick:h,onMouseLeave:p}=n,g=_g(n,gue),y=yk(f,u),b=xk(p),_=vk(h,u);return r?x.createElement(x.Fragment,null,r.map((w,k)=>x.createElement(cr,Ii({key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(k),className:"recharts-bar-rectangle"},Nf(g,w,k),{onMouseEnter:y(w,k),onMouseLeave:b(w,k),onClick:_(w,k)}),d?x.createElement(Nue,{shape:l,activeBar:d,baseProps:o,entry:w,index:k,dataKey:u}):x.createElement(Sue,{shape:l,baseProps:o,entry:w,index:k,dataKey:u})))):null}function Cue(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:f}=t,h=r.current,p=If(t,"recharts-bar-"),[g,y]=x.useState(!1),b=!g,_=x.useCallback(()=>{typeof d=="function"&&d(),y(!1)},[d]),w=x.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return x.createElement(kue,{showLabels:b,rects:n},x.createElement(Mf,{animationId:p,begin:o,duration:l,isActive:i,easing:u,onAnimationEnd:_,onAnimationStart:w,key:p},k=>{var j=k===1?n:n==null?void 0:n.map((N,P)=>{var C=h&&h[P];if(C)return Mr(Mr({},N),{},{x:nt(C.x,N.x,k),y:nt(C.y,N.y,k),width:nt(C.width,N.width,k),height:nt(C.height,N.height,k)});if(a==="horizontal"){var A=nt(0,N.height,k),O=nt(N.stackedBarStart,N.y,k);return Mr(Mr({},N),{},{y:O,height:A})}var T=nt(0,N.width,k),$=nt(N.stackedBarStart,N.x,k);return Mr(Mr({},N),{},{width:T,x:$})});return k>0&&(r.current=j??null),j==null?null:x.createElement(cr,null,x.createElement(Pue,{props:t,data:j}))}),x.createElement(mk,{label:t.label}),t.children)}function Eue(e){var t=x.useRef(null);return x.createElement(Cue,{previousRectanglesRef:t,props:e})}var GR=0,Oue=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:kt(e,t)}};class Aue extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:u,id:d}=this.props;if(t||r==null)return null;var f=qe("recharts-bar",a),h=d;return x.createElement(cr,{className:f,id:d},l&&x.createElement("defs",null,x.createElement(Sk,{clipPathId:h,xAxisId:i,yAxisId:o})),x.createElement(cr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},x.createElement(jue,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),x.createElement(Eue,this.props)))}}var Tue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:GR,xAxisId:0,yAxisId:0,zIndex:Lt.bar};function Mue(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f}=e,{needClip:h}=py(t,r),p=Of(),g=qt(),y=HR(e.children,ay),b=ve(k=>ode(k,t,r,g,e.id,y));if(p!=="vertical"&&p!=="horizontal")return null;var _,w=b==null?void 0:b[0];return w==null||w.height==null||w.width==null?_=0:_=p==="vertical"?w.height/2:w.width/2,x.createElement(Nk,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:Oue,errorBarOffset:_},x.createElement(Aue,Ii({},e,{layout:p,needClip:h,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f})))}function Iue(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:f,displayedData:h,offset:p,cells:g,parentViewBox:y,dataStartIndex:b}=e,_=t==="horizontal"?l:o,w=f?_.scale.domain():null,k=_J({numericAxis:_}),j=_.scale(k);return h.map((N,P)=>{var C,A,O,T,$,I;f?C=gJ(f[P+b],w):(C=kt(N,r),Array.isArray(C)||(C=[k,C]));var z=Ice(n,GR)(C[1],P);if(t==="horizontal"){var U,[F,q]=[l.scale(C[0]),l.scale(C[1])];A=QP({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:N,index:P}),O=(U=q??F)!==null&&U!==void 0?U:void 0,T=a.size;var H=F-q;if($=wn(H)?0:H,I={x:A,y:p.top,width:T,height:p.height},Math.abs(z)>0&&Math.abs($)<Math.abs(z)){var W=Jr($||z)*(Math.abs(z)-Math.abs($));O-=W,$+=W}}else{var[M,D]=[o.scale(C[0]),o.scale(C[1])];if(A=M,O=QP({axis:l,ticks:d,bandSize:i,offset:a.offset,entry:N,index:P}),T=D-M,$=a.size,I={x:p.left,y:O,width:p.width,height:$},Math.abs(z)>0&&Math.abs(T)<Math.abs(z)){var B=Jr(T||z)*(Math.abs(z)-Math.abs(T));T+=B}}if(A==null||O==null||T==null||$==null)return null;var V=Mr(Mr({},N),{},{stackedBarStart:j,x:A,y:O,width:T,height:$,value:f?C:C[1],payload:N,background:I,tooltipPosition:{x:A+T/2,y:O+$/2},parentViewBox:y},g&&g[P]&&g[P].props);return V}).filter(Boolean)}function Lue(e){var t=Ut(e,Tue),r=qt();return x.createElement(_k,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(wk,{legendPayload:wue(t)}),x.createElement(_ue,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(jk,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:wJ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement($r,{zIndex:t.zIndex},x.createElement(Mue,Ii({},t,{id:n})))))}var Xf=x.memo(Lue,Gf);Xf.displayName="Bar";function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(n){Due(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Due(e,t,r){return(t=Rue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rue(e){var t=zue(e,"string");return typeof t=="symbol"?t:t+""}function zue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fue=(e,t)=>t,$ue=(e,t,r)=>r,Bue=(e,t,r,n)=>n,Uue=(e,t,r,n,a)=>a,Qf=re([$f,Uue],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Hue=re([Qf],e=>e==null?void 0:e.maxBarSize),Wue=(e,t,r,n,a,i)=>i,iO=(e,t,r)=>{var n=r??e;if(!Xe(n))return ga(n,t,0)},Vue=re([Ze,$f,Fue,$ue,Bue],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Kue=(e,t,r,n)=>{var a=Ze(e);return a==="horizontal"?Bw(e,"yAxis",r,n):Bw(e,"xAxis",t,n)},que=(e,t,r)=>{var n=Ze(e);return n==="horizontal"?mE(e,"xAxis",t):mE(e,"yAxis",r)},Zue=(e,t,r)=>{var n={},a=e.filter(Q0),i=e.filter(d=>d.stackId==null),o=a.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),n),l=Object.entries(o).map(d=>{var[f,h]=d,p=h.map(y=>y.dataKey),g=iO(t,r,h[0].barSize);return{stackId:f,dataKeys:p,barSize:g}}),u=i.map(d=>{var f=[d.dataKey].filter(p=>p!=null),h=iO(t,r,d.barSize);return{stackId:void 0,dataKeys:f,barSize:h}});return[...l,...u]},Yue=re([Vue,dae,que],Zue),Gue=(e,t,r,n,a)=>{var i,o,l=Qf(e,t,r,n,a);if(l!=null){var u=Ze(e),d=J5(e),{maxBarSize:f}=l,h=Xe(f)?d:f,p,g;return u==="horizontal"?(p=Ha(e,"xAxis",t,n),g=Ua(e,"xAxis",t,n)):(p=Ha(e,"yAxis",r,n),g=Ua(e,"yAxis",r,n)),(i=(o=Cc(p,g,!0))!==null&&o!==void 0?o:h)!==null&&i!==void 0?i:0}},XR=(e,t,r,n)=>{var a=Ze(e),i,o;return a==="horizontal"?(i=Ha(e,"xAxis",t,n),o=Ua(e,"xAxis",t,n)):(i=Ha(e,"yAxis",r,n),o=Ua(e,"yAxis",r,n)),Cc(i,o)};function Xue(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=ga(e,r,0,!0),l,u=[];if(ut(n[0].barSize)){var d=!1,f=r/i,h=n.reduce((w,k)=>w+(k.barSize||0),0);h+=(i-1)*o,h>=r&&(h-=(i-1)*o,o=0),h>=r&&f>0&&(d=!0,f*=.9,h=i*f);var p=(r-h)/2>>0,g={offset:p-o,size:0};l=n.reduce((w,k)=>{var j,N={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:g.offset+g.size+o,size:d?f:(j=k.barSize)!==null&&j!==void 0?j:0}},P=[...w,N];return g=P[P.length-1].position,P},u)}else{var y=ga(t,r,0,!0);r-2*y-(i-1)*o<=0&&(o=0);var b=(r-2*y-(i-1)*o)/i;b>1&&(b>>=0);var _=ut(a)?Math.min(b,a):b;l=n.reduce((w,k,j)=>[...w,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:y+(b+o)*j+(b-_)/2,size:_}}],u)}return l}}var Que=(e,t,r,n,a,i,o)=>{var l=Xe(o)?t:o,u=Xue(r,n,a!==i?a:i,e,l);return a!==i&&u!=null&&(u=u.map(d=>mm(mm({},d),{},{position:mm(mm({},d.position),{},{offset:d.position.offset-a/2})}))),u},Jue=re([Yue,J5,uae,e3,Gue,XR,Hue],Que),ede=(e,t,r,n)=>Ha(e,"xAxis",t,n),tde=(e,t,r,n)=>Ha(e,"yAxis",r,n),rde=(e,t,r,n)=>Ua(e,"xAxis",t,n),nde=(e,t,r,n)=>Ua(e,"yAxis",r,n),ade=re([Jue,Qf],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),ide=(e,t)=>{var r=Wj(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},sde=re([Kue,Qf],ide),ode=re([ur,lj,ede,tde,rde,nde,ade,Ze,zf,XR,sde,Qf,Wue],(e,t,r,n,a,i,o,l,u,d,f,h,p)=>{var{chartData:g,dataStartIndex:y,dataEndIndex:b}=u;if(!(h==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||d==null)){var{data:_}=h,w;if(_!=null&&_.length>0?w=_:w=g==null?void 0:g.slice(y,b+1),w!=null)return Iue({layout:l,barSettings:h,pos:o,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:f,displayedData:w,offset:e,cells:p,dataStartIndex:y})}}),lde=e=>{var{chartData:t}=e,r=yt(),n=qt();return x.useEffect(()=>n?()=>{}:(r(SE(t)),()=>{r(SE(void 0))}),[t,r,n]),null},sO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},QR=cn({name:"brush",initialState:sO,reducers:{setBrushSettings(e,t){return t.payload==null?sO:t.payload}}}),{setBrushSettings:c0e}=QR.actions,cde=QR.reducer;function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(n){JR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JR(e,t,r){return(t=ude(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ude(e){var t=dde(e,"string");return typeof t=="symbol"?t:t+""}function dde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fde=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},hde=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return fde({x:t,y:r},{x:n,y:a})};class gy{static create(t){return new gy(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}JR(gy,"EPS",1e-4);var mde=e=>{var t=Object.keys(e).reduce((r,n)=>pm(pm({},r),{},{[n]:gy.create(e[n])}),{});return pm(pm({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(i=>{var[o,l]=i;return[o,t[o].apply(l,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function pde(e){return(e%180+180)%180}var gde=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=pde(a),o=i*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},yde={dots:[],areas:[],lines:[]},ez=cn({name:"referenceElements",initialState:yde,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ha(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ha(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ha(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:u0e,removeDot:d0e,addArea:f0e,removeArea:h0e,addLine:xde,removeLine:vde}=ez.actions,bde=ez.reducer,tz=x.createContext(void 0),wde=e=>{var{children:t}=e,[r]=x.useState("".concat(Fd("recharts"),"-clip")),n=kk();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return x.createElement(tz.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:i,height:l,width:o}))),t)},_de=()=>x.useContext(tz);function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){jde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jde(e,t,r){return(t=kde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kde(e){var t=Nde(e,"string");return typeof t=="symbol"?t:t+""}function Nde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jg.apply(null,arguments)}var Sde=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!ut(t.x1)||!ut(t.y1)||!ut(t.x2)||!ut(t.y2))return null;r=x.createElement("line",jg({},t,{className:"recharts-reference-line-line"}))}return r},Pde=(e,t,r,n,a,i)=>{var{x:o,width:l}=i,u=a.y.apply(e,{position:r});if(wn(u)||t==="discard"&&!a.y.isInRange(u))return null;var d=[{x:o+l,y:u},{x:o,y:u}];return n==="left"?d.reverse():d},Cde=(e,t,r,n,a,i)=>{var{y:o,height:l}=i,u=a.x.apply(e,{position:r});if(wn(u)||t==="discard"&&!a.x.isInRange(u))return null;var d=[{x:u,y:o+l},{x:u,y:o}];return n==="top"?d.reverse():d},Ede=(e,t,r,n)=>{var a=e.map(i=>n.apply(i,{position:r}));return t==="discard"&&a.some(i=>!n.isInRange(i))?null:a},Ode=(e,t,r,n,a,i)=>{var{x:o,y:l,segment:u,ifOverflow:d}=i,f=Wn(o),h=Wn(l);return h?Pde(l,d,r,a,e,t):f?Cde(o,d,r,n,e,t):u!=null&&u.length===2?Ede(u,d,r,e):null};function Ade(e){var t=yt();return x.useEffect(()=>(t(xde(e)),()=>{t(vde(e))})),null}function Tde(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:i}=e,o=qt(),l=_de(),u=ve(C=>qa(C,t)),d=ve(C=>Za(C,r)),f=ve(C=>Ls(C,"xAxis",t,o)),h=ve(C=>Ls(C,"yAxis",r,o)),p=qc();if(!l||!p||u==null||d==null||f==null||h==null)return null;var g=mde({x:f,y:h}),y=Ode(g,p,e.position,u.orientation,d.orientation,e);if(!y)return null;var[{x:b,y:_},{x:w,y:k}]=y,j=i==="hidden"?"url(#".concat(l,")"):void 0,N=cO(cO({clipPath:j},Cr(e)),{},{x1:b,y1:_,x2:w,y2:k}),P=hde({x1:b,y1:_,x2:w,y2:k});return x.createElement($r,{zIndex:e.zIndex},x.createElement(cr,{className:qe("recharts-reference-line",a)},Sde(n,N),x.createElement(AR,jg({},P,{lowerWidth:P.width,upperWidth:P.width}),x.createElement(MR,{label:e.label}),e.children)))}var Mde={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Lt.line};function Pk(e){var t=Ut(e,Mde);return x.createElement(x.Fragment,null,x.createElement(Ade,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),x.createElement(Tde,t))}Pk.displayName="ReferenceLine";function rz(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function Ide(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return gde(n,r)}function Lde(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function kg(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Dde(e,t){return rz(e,t+1)}function Rde(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,u=0,d=1,f=o,h=function(){var y=n==null?void 0:n[u];if(y===void 0)return{v:rz(n,d)};var b=u,_,w=()=>(_===void 0&&(_=r(y,b)),_),k=y.coordinate,j=u===0||kg(e,k,w,f,l);j||(u=0,f=o,d+=1),j&&(f=k+e*(w()/2+a),u+=d)},p;d<=i.length;)if(p=h(),p)return p.v;return[]}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){zde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zde(e,t,r){return(t=Fde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fde(e){var t=$de(e,"string");return typeof t=="symbol"?t:t+""}function $de(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bde(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:u}=t,d=function(p){var g=i[p],y,b=()=>(y===void 0&&(y=r(g,p)),y);if(p===o-1){var _=e*(g.coordinate+e*b()/2-u);i[p]=g=_r(_r({},g),{},{tickCoord:_>0?g.coordinate-_*e:g.coordinate})}else i[p]=g=_r(_r({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var w=kg(e,g.tickCoord,b,l,u);w&&(u=g.tickCoord-e*(b()/2+a),i[p]=_r(_r({},g),{},{isShow:!0}))}},f=o-1;f>=0;f--)d(f);return i}function Ude(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:u,end:d}=t;if(i){var f=n[l-1],h=r(f,l-1),p=e*(f.coordinate+e*h/2-d);if(o[l-1]=f=_r(_r({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate}),f.tickCoord!=null){var g=kg(e,f.tickCoord,()=>h,u,d);g&&(d=f.tickCoord-e*(h/2+a),o[l-1]=_r(_r({},f),{},{isShow:!0}))}}for(var y=i?l-1:l,b=function(k){var j=o[k],N,P=()=>(N===void 0&&(N=r(j,k)),N);if(k===0){var C=e*(j.coordinate-e*P()/2-u);o[k]=j=_r(_r({},j),{},{tickCoord:C<0?j.coordinate-C*e:j.coordinate})}else o[k]=j=_r(_r({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var A=kg(e,j.tickCoord,P,u,d);A&&(u=j.tickCoord+e*(P()/2+a),o[k]=_r(_r({},j),{},{isShow:!0}))}},_=0;_<y;_++)b(_);return o}function Ck(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:f,angle:h}=e;if(!a||!a.length||!n)return[];if(je(u)||Tf.isSsr){var p;return(p=Dde(a,je(u)?u:0))!==null&&p!==void 0?p:[]}var g=[],y=l==="top"||l==="bottom"?"width":"height",b=f&&y==="width"?sd(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(j,N)=>{var P=typeof d=="function"?d(j.value,N):j.value;return y==="width"?Ide(sd(P,{fontSize:t,letterSpacing:r}),b,h):sd(P,{fontSize:t,letterSpacing:r})[y]},w=a.length>=2?Jr(a[1].coordinate-a[0].coordinate):1,k=Lde(i,w,y);return u==="equidistantPreserveStart"?Rde(w,k,_,a,o):(u==="preserveStart"||u==="preserveStartEnd"?g=Ude(w,k,_,a,o,u==="preserveStartEnd"):g=Bde(w,k,_,a,o),g.filter(j=>j.isShow))}var Hde=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>o&&(o=h.width)}});var l=r?r.getBoundingClientRect().width:0,u=a+i,d=o+u+l+(r?n:0);return Math.round(d)}return 0},Wde=["axisLine","width","height","className","hide","ticks","axisType"];function Vde(e,t){if(e==null)return{};var r,n,a=Kde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Go.apply(null,arguments)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){qde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qde(e,t,r){return(t=Zde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zde(e){var t=Yde(e,"string");return typeof t=="symbol"?t:t+""}function Yde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Lt.axis};function Gde(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=zt(zt(zt({},u),bn(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var f=+(i==="top"&&!o||i==="bottom"&&o);d=zt(zt({},d),{},{x1:t,y1:r+f*a,x2:t+n,y2:r+f*a})}else{var h=+(i==="left"&&!o||i==="right"&&o);d=zt(zt({},d),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+a})}return x.createElement("line",Go({},d,{className:qe("recharts-cartesian-axis-line",Nc(l,"className"))}))}function Xde(e,t,r,n,a,i,o,l,u){var d,f,h,p,g,y,b=l?-1:1,_=e.tickSize||o,w=je(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=f=e.coordinate,p=r+ +!l*a,h=p-b*_,y=h-b*u,g=w;break;case"left":h=p=e.coordinate,f=t+ +!l*n,d=f-b*_,g=d-b*u,y=w;break;case"right":h=p=e.coordinate,f=t+ +l*n,d=f+b*_,g=d+b*u,y=w;break;default:d=f=e.coordinate,p=r+ +l*a,h=p+b*_,y=h+b*u,g=w;break}return{line:{x1:d,y1:h,x2:f,y2:p},tick:{x:g,y}}}function Qde(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Jde(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function efe(e){var{option:t,tickProps:r,value:n}=e,a,i=qe(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,zt(zt({},r),{},{className:i}));else if(typeof t=="function")a=t(zt(zt({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=qe(o,t==null?void 0:t.className)),a=x.createElement(dk,Go({},r,{className:o}),n)}return a}var tfe=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:h,x:p,y:g,width:y,height:b,tickSize:_,tickMargin:w,fontSize:k,letterSpacing:j,getTicksConfig:N,events:P,axisType:C}=e,A=Ck(zt(zt({},N),{},{ticks:r}),k,j),O=Qde(f,h),T=Jde(f,h),$=bn(N),I=Vc(n),z={};typeof a=="object"&&(z=a);var U=zt(zt({},$),{},{fill:"none"},z),F=A.map(W=>zt({entry:W},Xde(W,p,g,y,b,f,_,h,w))),q=F.map(W=>{var{entry:M,line:D}=W;return x.createElement(cr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},a&&x.createElement("line",Go({},U,D,{className:qe("recharts-cartesian-axis-tick-line",Nc(a,"className"))})))}),H=F.map((W,M)=>{var{entry:D,tick:B}=W,V=zt(zt(zt(zt({textAnchor:O,verticalAnchor:T},$),{},{stroke:"none",fill:i},I),B),{},{index:M,payload:D,visibleTicksCount:A.length,tickFormatter:o,padding:u},d);return x.createElement(cr,Go({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Nf(P,D,M)),n&&x.createElement(efe,{option:n,tickProps:V,value:"".concat(typeof o=="function"?o(D.value,M):D.value).concat(l||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},H.length>0&&x.createElement($r,{zIndex:Lt.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:t},H)),q.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},q))}),rfe=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l,axisType:u}=e,d=Vde(e,Wde),[f,h]=x.useState(""),[p,g]=x.useState(""),y=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return Hde({ticks:y.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=x.useCallback(_=>{if(_){var w=_.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=w;var k=w[0];if(k){var j=window.getComputedStyle(k),N=j.fontSize,P=j.letterSpacing;(N!==f||P!==p)&&(h(N),g(P))}}},[f,p]);return o||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement($r,{zIndex:e.zIndex},x.createElement(cr,{className:qe("recharts-cartesian-axis",i)},x.createElement(Gde,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:bn(e)}),x.createElement(tfe,{ref:b,axisType:u,events:d,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(AR,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(MR,{label:e.label,labelRef:e.labelRef}),e.children)))}),Ek=x.forwardRef((e,t)=>{var r=Ut(e,wi);return x.createElement(rfe,Go({},r,{ref:t}))});Ek.displayName="CartesianAxis";var nfe=["x1","y1","x2","y2","key"],afe=["offset"],ife=["xAxisId","yAxisId"],sfe=["xAxisId","yAxisId"];function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){ofe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ofe(e,t,r){return(t=lfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lfe(e){var t=cfe(e,"string");return typeof t=="symbol"?t:t+""}function cfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yo.apply(null,arguments)}function Ng(e,t){if(e==null)return{};var r,n,a=ufe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ufe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dfe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return x.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function nz(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:l,y2:u,key:d}=r,f=Ng(r,nfe),h=(a=bn(f))!==null&&a!==void 0?a:{},{offset:p}=h,g=Ng(h,afe);n=x.createElement("line",yo({},g,{x1:i,y1:o,x2:l,y2:u,fill:"none",key:d}))}return n}function ffe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Ng(e,ife),u=a.map((d,f)=>{var h=kr(kr({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(f),index:f});return x.createElement(nz,{key:"line-".concat(f),option:n,lineItemProps:h})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function hfe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Ng(e,sfe),u=a.map((d,f)=>{var h=kr(kr({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(f),index:f});return x.createElement(nz,{option:n,lineItemProps:h,key:"line-".concat(f)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function mfe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(h=>Math.round(h+a-a)).sort((h,p)=>h-p);a!==d[0]&&d.unshift(0);var f=d.map((h,p)=>{var g=!d[p+1],y=g?a+o-h:d[p+1]-h;if(y<=0)return null;var b=p%t.length;return x.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function pfe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var d=u.map(h=>Math.round(h+a-a)).sort((h,p)=>h-p);a!==d[0]&&d.unshift(0);var f=d.map((h,p)=>{var g=!d[p+1],y=g?a+o-h:d[p+1]-h;if(y<=0)return null;var b=p%r.length;return x.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var gfe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return ED(Ck(kr(kr(kr({},wi),r),{},{ticks:OD(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},yfe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return ED(Ck(kr(kr(kr({},wi),r),{},{ticks:OD(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},xfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Lt.grid};function ys(e){var t=uj(),r=dj(),n=BD(),a=kr(kr({},Ut(e,xfe)),{},{x:je(e.x)?e.x:n.left,y:je(e.y)?e.y:n.top,width:je(e.width)?e.width:n.width,height:je(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:u,width:d,height:f,syncWithTicks:h,horizontalValues:p,verticalValues:g}=a,y=qt(),b=ve(T=>pE(T,"xAxis",i,y)),_=ve(T=>pE(T,"yAxis",o,y));if(!$a(d)||!$a(f)||!je(l)||!je(u))return null;var w=a.verticalCoordinatesGenerator||gfe,k=a.horizontalCoordinatesGenerator||yfe,{horizontalPoints:j,verticalPoints:N}=a;if((!j||!j.length)&&typeof k=="function"){var P=p&&p.length,C=k({yAxis:_?kr(kr({},_),{},{ticks:P?p:_.ticks}):void 0,width:t??d,height:r??f,offset:n},P?!0:h);Xp(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(j=C)}if((!N||!N.length)&&typeof w=="function"){var A=g&&g.length,O=w({xAxis:b?kr(kr({},b),{},{ticks:A?g:b.ticks}):void 0,width:t??d,height:r??f,offset:n},A?!0:h);Xp(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(N=O)}return x.createElement($r,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(dfe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(mfe,yo({},a,{horizontalPoints:j})),x.createElement(pfe,yo({},a,{verticalPoints:N})),x.createElement(ffe,yo({},a,{offset:n,horizontalPoints:j,xAxis:b,yAxis:_})),x.createElement(hfe,yo({},a,{offset:n,verticalPoints:N,xAxis:b,yAxis:_}))))}ys.displayName="CartesianGrid";var az=(e,t,r,n)=>Ha(e,"xAxis",t,n),iz=(e,t,r,n)=>Ua(e,"xAxis",t,n),sz=(e,t,r,n)=>Ha(e,"yAxis",r,n),oz=(e,t,r,n)=>Ua(e,"yAxis",r,n),vfe=re([Ze,az,sz,iz,oz],(e,t,r,n,a)=>Hs(e,"xAxis")?Cc(t,n,!1):Cc(r,a,!1)),bfe=(e,t,r,n,a)=>a;function wfe(e){return e.type==="line"}var _fe=re([$f,bfe],(e,t)=>e.filter(wfe).find(r=>r.id===t)),jfe=re([Ze,az,sz,iz,oz,_fe,vfe,zf],(e,t,r,n,a,i,o,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:h,data:p}=i,g;if(p!=null&&p.length>0?g=p:g=u==null?void 0:u.slice(d,f+1),g!=null)return Wfe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:h,bandSize:o,displayedData:g})}});function kfe(e){var t=Vc(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),l=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var Nfe=["id"],Sfe=["type","layout","connectNulls","needClip","shape"],Pfe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(null,arguments)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){Cfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cfe(e,t,r){return(t=Efe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Efe(e){var t=Ofe(e,"string");return typeof t=="symbol"?t:t+""}function Ofe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ok(e,t){if(e==null)return{};var r,n,a=Afe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Afe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tfe=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Kc(r,t),payload:e}]},Mfe=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:u,tooltipType:d}=e,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Kc(o,t),hide:l,type:d,color:n,unit:u}};return x.createElement(bk,{tooltipEntrySettings:f})}),lz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Ife(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Lfe=(e,t,r)=>{var n=r.reduce((h,p)=>h+p);if(!n)return lz(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],u=0,d=0;u<r.length;d+=r[u],++u)if(d+r[u]>i){l=[...r.slice(0,u),i-d];break}var f=l.length%2===0?[0,o]:[o];return[...Ife(r,a),...l,...f].map(h=>"".concat(h,"px")).join(", ")};function Dfe(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n,{id:l}=n,u=Ok(n,Nfe),d=bn(u);return x.createElement(ace,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:d,needClip:o,clipPathId:t})}function Rfe(e){var{showLabels:t,children:r,points:n}=e,a=x.useMemo(()=>n==null?void 0:n.map(i=>{var o,l,u={x:(o=i.x)!==null&&o!==void 0?o:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Aa(Aa({},u),{},{value:i.value,payload:i.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(hk,{value:t?a:void 0},r)}function mO(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:u,needClip:d,shape:f}=i,h=Ok(i,Sfe),p=Aa(Aa({},Cr(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(vg,Gd({shapeType:"curve",option:f},p,{pathRef:r})),x.createElement(Dfe,{points:n,clipPathId:t,props:i}))}function zfe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Ffe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:h,animateNewValues:p,width:g,height:y,onAnimationEnd:b,onAnimationStart:_}=r,w=a.current,k=If(o,"recharts-line-"),j=x.useRef(k),[N,P]=x.useState(!1),C=!N,A=x.useCallback(()=>{typeof b=="function"&&b(),P(!1)},[b]),O=x.useCallback(()=>{typeof _=="function"&&_(),P(!0)},[_]),T=zfe(n.current),$=x.useRef(0);j.current!==k&&($.current=i.current,j.current=k);var I=$.current;return x.createElement(Rfe,{points:o,showLabels:C},r.children,x.createElement(Mf,{animationId:k,begin:d,duration:f,isActive:u,easing:h,onAnimationEnd:A,onAnimationStart:O,key:k},z=>{var U=nt(I,T+I,z),F=Math.min(U,T),q;if(u)if(l){var H="".concat(l).split(/[,\s]+/gim).map(D=>parseFloat(D));q=Lfe(F,T,H)}else q=lz(T,F);else q=l==null?void 0:String(l);if(z>0&&T>0&&(a.current=o,i.current=Math.max(i.current,F)),w){var W=w.length/o.length,M=z===1?o:o.map((D,B)=>{var V=Math.floor(B*W);if(w[V]){var G=w[V];return Aa(Aa({},D),{},{x:nt(G.x,D.x,z),y:nt(G.y,D.y,z)})}return p?Aa(Aa({},D),{},{x:nt(g*2,D.x,z),y:nt(y/2,D.y,z)}):Aa(Aa({},D),{},{x:D.x,y:D.y})});return a.current=M,x.createElement(mO,{props:r,points:M,clipPathId:t,pathRef:n,strokeDasharray:q})}return x.createElement(mO,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:q})}),x.createElement(mk,{label:r.label}))}function $fe(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),a=x.useRef(0),i=x.useRef(null);return x.createElement(Ffe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Bfe=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:kt(e.payload,t)}};class Ufe extends x.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:o,top:l,left:u,width:d,height:f,id:h,needClip:p,zIndex:g}=this.props;if(t)return null;var y=qe("recharts-line",a),b=h,{r:_,strokeWidth:w}=kfe(r),k=WR(r),j=_*2+w,N=p?"url(#clipPath-".concat(k?"":"dots-").concat(b,")"):void 0;return x.createElement($r,{zIndex:g},x.createElement(cr,{className:y},p&&x.createElement("defs",null,x.createElement(Sk,{clipPathId:b,xAxisId:i,yAxisId:o}),!k&&x.createElement("clipPath",{id:"clipPath-dots-".concat(b)},x.createElement("rect",{x:u-j/2,y:l-j/2,width:d+j,height:f+j}))),x.createElement(Nk,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:Bfe,errorBarOffset:0},x.createElement($fe,{props:this.props,clipPathId:b}))),x.createElement(kce,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var cz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Lt.line,type:"linear"};function Hfe(e){var t=Ut(e,cz),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:u,hide:d,isAnimationActive:f,label:h,legendType:p,xAxisId:g,yAxisId:y,id:b}=t,_=Ok(t,Pfe),{needClip:w}=py(g,y),k=kk(),j=Of(),N=qt(),P=ve($=>jfe($,g,y,N,b));if(j!=="horizontal"&&j!=="vertical"||P==null||k==null)return null;var{height:C,width:A,x:O,y:T}=k;return x.createElement(Ufe,Gd({},_,{id:b,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:f,hide:d,label:h,legendType:p,xAxisId:g,yAxisId:y,points:P,layout:j,height:C,width:A,left:O,top:T,needClip:w}))}function Wfe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:u}=e;return u.map((d,f)=>{var h=kt(d,o);if(t==="horizontal"){var p=Gp({axis:r,ticks:a,bandSize:l,entry:d,index:f}),g=Xe(h)?null:n.scale(h);return{x:p,y:g,value:h,payload:d}}var y=Xe(h)?null:r.scale(h),b=Gp({axis:n,ticks:i,bandSize:l,entry:d,index:f});return y==null||b==null?null:{x:y,y:b,value:h,payload:d}}).filter(Boolean)}function Vfe(e){var t=Ut(e,cz),r=qt();return x.createElement(_k,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(wk,{legendPayload:Tfe(t)}),x.createElement(Mfe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(jk,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(Hfe,Gd({},t,{id:n}))))}var qm=x.memo(Vfe,Gf);qm.displayName="Line";var Kfe=["option","isActive"];function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(null,arguments)}function qfe(e,t){if(e==null)return{};var r,n,a=Zfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yfe(e){var{option:t,isActive:r}=e,n=qfe(e,Kfe);return typeof t=="string"?x.createElement(vg,od({option:x.createElement(j0,od({type:t},n)),isActive:r,shapeType:"symbols"},n)):x.createElement(vg,od({option:t,isActive:r,shapeType:"symbols"},n))}var Gfe=(e,t,r,n,a,i,o)=>Ha(e,"xAxis",t,o),Xfe=(e,t,r,n,a,i,o)=>Ua(e,"xAxis",t,o),Qfe=(e,t,r,n,a,i,o)=>Ha(e,"yAxis",r,o),Jfe=(e,t,r,n,a,i,o)=>Ua(e,"yAxis",r,o),ehe=(e,t,r,n)=>hie(e,"zAxis",n,!1),the=(e,t,r,n,a)=>a,rhe=(e,t,r,n,a,i)=>i,nhe=(e,t,r,n,a,i,o)=>zf(e,t,r,o),ahe=re([$f,the],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),ihe=re([nhe,Gfe,Xfe,Qfe,Jfe,ehe,ahe,rhe],(e,t,r,n,a,i,o,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=e;if(o!=null){var h;if((o==null?void 0:o.data)!=null&&o.data.length>0?h=o.data:h=u==null?void 0:u.slice(d,f+1),!(h==null||t==null||n==null||r==null||a==null||(r==null?void 0:r.length)===0||(a==null?void 0:a.length)===0))return vhe({displayedData:h,xAxis:t,yAxis:n,zAxis:i,scatterSettings:o,xAxisTicks:r,yAxisTicks:a,cells:l})}}),she=["onMouseEnter","onClick","onMouseLeave"],ohe=["id"],lhe=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Gw(e,t){if(e==null)return{};var r,n,a=che(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function che(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xo.apply(null,arguments)}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){uhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uhe(e,t,r){return(t=dhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dhe(e){var t=fhe(e,"string");return typeof t=="symbol"?t:t+""}function fhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hhe=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Kc(r,t),payload:e}]},mhe=x.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,tooltipType:u}=e,d={dataDefinedOnItem:r==null?void 0:r.map(f=>f.tooltipPayload),positions:r==null?void 0:r.map(f=>f.tooltipPosition),settings:{stroke:n,strokeWidth:a,fill:i,nameKey:void 0,dataKey:t,name:Kc(o,t),hide:l,type:u,color:i,unit:""}};return x.createElement(bk,{tooltipEntrySettings:d})});function phe(e){var{points:t,props:r}=e,{line:n,lineType:a,lineJointType:i}=r;if(!n)return null;var o=bn(r),l=Vc(n),u,d;if(a==="joint")u=t.map(_=>{var w,k;return{x:(w=_.cx)!==null&&w!==void 0?w:null,y:(k=_.cy)!==null&&k!==void 0?k:null}});else if(a==="fitting"){var{xmin:f,xmax:h,a:p,b:g}=bX(t),y=_=>p*_+g;u=[{x:f,y:y(f)},{x:h,y:y(h)}]}var b=en(en(en({},o),{},{fill:"none",stroke:o&&o.fill},l),{},{points:u});return x.isValidElement(n)?d=x.cloneElement(n,b):typeof n=="function"?d=n(b):d=x.createElement(pj,Xo({},b,{type:i})),x.createElement(cr,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}function ghe(e){var{showLabels:t,points:r,children:n}=e,a=qc(),i=x.useMemo(()=>r==null?void 0:r.map(o=>{var l,u,d={x:(l=o.x)!==null&&l!==void 0?l:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:o.width,height:o.height,lowerWidth:o.width,upperWidth:o.width};return en(en({},d),{},{value:void 0,payload:o.payload,viewBox:d,parentViewBox:a,fill:void 0})}),[a,r]);return x.createElement(hk,{value:t?i:void 0},n)}function yhe(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:a,dataKey:i}=r,o=ve(Ds),{onMouseEnter:l,onClick:u,onMouseLeave:d}=r,f=Gw(r,she),h=yk(l,r.dataKey),p=xk(d),g=vk(u,r.dataKey);if(!MX(t))return null;var{id:y}=r,b=Gw(r,ohe),_=bn(b);return x.createElement(x.Fragment,null,x.createElement(phe,{points:t,props:b}),t.map((w,k)=>{var j=a!=null&&a!==!1,N=j&&o===String(k),P=j&&N?a:n,C=en(en(en({},_),w),{},{[TD]:k,[MD]:String(i)});return x.createElement($r,{key:"symbol-".concat(w==null?void 0:w.cx,"-").concat(w==null?void 0:w.cy,"-").concat(w==null?void 0:w.size,"-").concat(k),zIndex:N?Lt.activeDot:void 0},x.createElement(cr,Xo({className:"recharts-scatter-symbol"},Nf(f,w,k),{onMouseEnter:h(w,k),onMouseLeave:p(w,k),onClick:g(w,k)}),x.createElement(Yfe,Xo({option:P,isActive:N},C))))}))}function xhe(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l}=r,u=t.current,d=If(r,"recharts-scatter-"),[f,h]=x.useState(!1),p=x.useCallback(()=>{h(!1)},[]),g=x.useCallback(()=>{h(!0)},[]),y=!f;return x.createElement(ghe,{showLabels:y,points:n},r.children,x.createElement(Mf,{animationId:d,begin:i,duration:o,isActive:a,easing:l,onAnimationEnd:p,onAnimationStart:g,key:d},b=>{var _=b===1?n:n==null?void 0:n.map((w,k)=>{var j=u&&u[k];return j?en(en({},w),{},{cx:w.cx==null?void 0:nt(j.cx,w.cx,b),cy:w.cy==null?void 0:nt(j.cy,w.cy,b),size:nt(j.size,w.size,b)}):en(en({},w),{},{size:nt(0,w.size,b)})});return b>0&&(t.current=_),x.createElement(cr,null,x.createElement(yhe,{points:_,allOtherScatterProps:r,showLabels:y}))}),x.createElement(mk,{label:r.label}))}function vhe(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:a,scatterSettings:i,xAxisTicks:o,yAxisTicks:l,cells:u}=e,d=Xe(r.dataKey)?i.dataKey:r.dataKey,f=Xe(n.dataKey)?i.dataKey:n.dataKey,h=a&&a.dataKey,p=a?a.range:d3.range,g=p&&p[0],y=r.scale.bandwidth?r.scale.bandwidth():0,b=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((_,w)=>{var k=kt(_,d),j=kt(_,f),N=!Xe(h)&&kt(_,h)||"-",P=[{name:Xe(r.dataKey)?i.name:r.name||String(r.dataKey),unit:r.unit||"",value:k,payload:_,dataKey:d,type:i.tooltipType},{name:Xe(n.dataKey)?i.name:n.name||String(n.dataKey),unit:n.unit||"",value:j,payload:_,dataKey:f,type:i.tooltipType}];N!=="-"&&P.push({name:a.name||a.dataKey,unit:a.unit||"",value:N,payload:_,dataKey:h,type:i.tooltipType});var C=Gp({axis:r,ticks:o,bandSize:y,entry:_,index:w,dataKey:d}),A=Gp({axis:n,ticks:l,bandSize:b,entry:_,index:w,dataKey:f}),O=N!=="-"?a.scale(N):g,T=Math.sqrt(Math.max(O,0)/Math.PI);return en(en({},_),{},{cx:C,cy:A,x:C==null?void 0:C-T,y:A==null?void 0:A-T,width:2*T,height:2*T,size:O,node:{x:k,y:j,z:N},tooltipPayload:P,tooltipPosition:{x:C,y:A},payload:_},u&&u[w]&&u[w].props)})}var bhe=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:kt(e,t)});function whe(e){var{hide:t,points:r,className:n,needClip:a,xAxisId:i,yAxisId:o,id:l}=e,u=x.useRef(null);if(t)return null;var d=qe("recharts-scatter",n),f=l;return x.createElement($r,{zIndex:e.zIndex},x.createElement(cr,{className:d,clipPath:a?"url(#clipPath-".concat(f,")"):void 0,id:l},a&&x.createElement("defs",null,x.createElement(Sk,{clipPathId:f,xAxisId:i,yAxisId:o})),x.createElement(Nk,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:bhe,errorBarOffset:0},x.createElement(cr,{key:"recharts-scatter-symbols"},x.createElement(xhe,{props:e,previousPointsRef:u})))))}var uz={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:Lt.scatter};function _he(e){var t=Ut(e,uz),{animationBegin:r,animationDuration:n,animationEasing:a,hide:i,isAnimationActive:o,legendType:l,lineJointType:u,lineType:d,shape:f,xAxisId:h,yAxisId:p,zAxisId:g}=t,y=Gw(t,lhe),{needClip:b}=py(h,p),_=x.useMemo(()=>HR(e.children,ay),[e.children]),w=qt(),k=ve(j=>ihe(j,h,p,g,e.id,_,w));return b==null||k==null?null:x.createElement(x.Fragment,null,x.createElement(mhe,{dataKey:e.dataKey,points:k,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),x.createElement(whe,Xo({},y,{xAxisId:h,yAxisId:p,zAxisId:g,lineType:d,lineJointType:u,legendType:l,shape:f,hide:i,isAnimationActive:o,animationBegin:r,animationDuration:n,animationEasing:a,points:k,needClip:b})))}function jhe(e){var t=Ut(e,uz),r=qt();return x.createElement(_k,{id:t.id,type:"scatter"},n=>x.createElement(x.Fragment,null,x.createElement(wk,{legendPayload:hhe(t)}),x.createElement(jk,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),x.createElement(_he,Xo({},t,{id:n}))))}var Sg=x.memo(jhe,Gf);Sg.displayName="Scatter";var khe=["domain","range"],Nhe=["domain","range"];function gO(e,t){if(e==null)return{};var r,n,a=She(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function She(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yO(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function dz(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=gO(e,khe),{domain:i,range:o}=t,l=gO(t,Nhe);return!yO(r,i)||!yO(n,o)?!1:Gf(a,l)}var Phe=["dangerouslySetInnerHTML","ticks"],Che=["id"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xw.apply(null,arguments)}function xO(e,t){if(e==null)return{};var r,n,a=Ehe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ehe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ohe(e){var t=yt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(cce(e)):r.current!==e&&t(uce({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(dce(r.current)),r.current=null)},[t]),null}var Ahe=e=>{var{xAxisId:t,className:r}=e,n=ve(lj),a=qt(),i="xAxis",o=ve(_=>Ls(_,i,t,a)),l=ve(_=>V3(_,i,t,a)),u=ve(_=>B3(_,t)),d=ve(_=>oie(_,t)),f=ve(_=>c3(_,t));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p}=e,g=xO(e,Phe),{id:y}=f,b=xO(f,Che);return x.createElement(Ek,Xw({},g,b,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:qe("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l,axisType:i}))},The={allowDataOverflow:er.allowDataOverflow,allowDecimals:er.allowDecimals,allowDuplicatedCategory:er.allowDuplicatedCategory,angle:er.angle,axisLine:wi.axisLine,height:er.height,hide:!1,includeHidden:er.includeHidden,interval:er.interval,minTickGap:er.minTickGap,mirror:er.mirror,orientation:er.orientation,padding:er.padding,reversed:er.reversed,scale:er.scale,tick:er.tick,tickCount:er.tickCount,tickLine:wi.tickLine,tickSize:wi.tickSize,type:er.type,xAxisId:0},Mhe=e=>{var t=Ut(e,The);return x.createElement(x.Fragment,null,x.createElement(Ohe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(Ahe,t))},xs=x.memo(Mhe,dz);xs.displayName="XAxis";var Ihe=["dangerouslySetInnerHTML","ticks"],Lhe=["id"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qw.apply(null,arguments)}function vO(e,t){if(e==null)return{};var r,n,a=Dhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rhe(e){var t=yt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(fce(e)):r.current!==e&&t(hce({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(mce(r.current)),r.current=null)},[t]),null}var zhe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=x.useRef(null),o=x.useRef(null),l=ve(lj),u=qt(),d=yt(),f="yAxis",h=ve(P=>Ls(P,f,t,u)),p=ve(P=>U3(P,t)),g=ve(P=>cie(P,t)),y=ve(P=>V3(P,f,t,u)),b=ve(P=>u3(P,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!p||fk(a)||x.isValidElement(a)||b==null)){var P=i.current;if(P){var C=P.getCalculatedWidth();Math.round(p.width)!==Math.round(C)&&d(pce({id:t,width:C}))}}},[y,p,d,a,t,n,b]),p==null||g==null||b==null)return null;var{dangerouslySetInnerHTML:_,ticks:w}=e,k=vO(e,Ihe),{id:j}=b,N=vO(b,Lhe);return x.createElement(Ek,Qw({},k,N,{ref:i,labelRef:o,scale:h,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:qe("recharts-".concat(f," ").concat(f),r),viewBox:l,ticks:y,axisType:f}))},Fhe={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,angle:tr.angle,axisLine:wi.axisLine,hide:!1,includeHidden:tr.includeHidden,interval:tr.interval,minTickGap:tr.minTickGap,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,tickLine:wi.tickLine,tickSize:wi.tickSize,type:tr.type,width:tr.width,yAxisId:0},$he=e=>{var t=Ut(e,Fhe);return x.createElement(x.Fragment,null,x.createElement(Rhe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(zhe,t))},vs=x.memo($he,dz);vs.displayName="YAxis";var Bhe=(e,t)=>t,Ak=re([Bhe,Ze,o3,Gt,oR,Bi,Nse,ur],Tse),Tk=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},fz=Vn("mouseClick"),hz=Cf();hz.startListening({actionCreator:fz,effect:(e,t)=>{var r=e.payload,n=Ak(t.getState(),Tk(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(kie({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Jw=Vn("mouseMove"),mz=Cf(),gm=null;mz.startListening({actionCreator:Jw,effect:(e,t)=>{var r=e.payload;gm!==null&&cancelAnimationFrame(gm);var n=Tk(r);gm=requestAnimationFrame(()=>{var a=t.getState(),i=ek(a,a.tooltip.settings.shared);if(i==="axis"){var o=Ak(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(J3({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(Q3())}gm=null})}});var bO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},pz=cn({name:"rootProps",initialState:bO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:bO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Uhe=pz.reducer,{updateOptions:Hhe}=pz.actions,gz=cn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:m0e}=gz.actions,Whe=gz.reducer,yz=Vn("keyDown"),xz=Vn("focus"),Mk=Cf();Mk.startListening({actionCreator:yz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=tk(a,Jc(r),Uf(r),qf(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=Bi(r);if(i==="Enter"){var d=pg(r,"axis","hover",String(a.index));t.dispatch(Hw({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var f=mie(r),h=f==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,g=l+p*h;if(!(u==null||g>=u.length||g<0)){var y=pg(r,"axis","hover",String(g));t.dispatch(Hw({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}}});Mk.startListening({actionCreator:xz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=pg(r,"axis","hover",String(i));t.dispatch(Hw({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var An=Vn("externalEvent"),vz=Cf(),jv=new Map;vz.startListening({actionCreator:An,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=jv.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:cse(l),activeDataKey:dR(l),activeIndex:Ds(l),activeLabel:uR(l),activeTooltipIndex:Ds(l),isTooltipActive:use(l)};r(u,n)}finally{jv.delete(a)}});jv.set(a,o)}}});var Vhe=re([Qc],e=>e.tooltipItemPayloads),Khe=re([Vhe,Vf,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),bz=Vn("touchMove"),wz=Cf();wz.startListening({actionCreator:bz,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=ek(n,n.tooltip.settings.shared);if(a==="axis"){var i=Ak(n,Tk({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(J3({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(TD),f=(o=u.getAttribute(MD))!==null&&o!==void 0?o:void 0,h=Khe(t.getState(),d,f);t.dispatch(X3({activeDataKey:f,activeIndex:d,activeCoordinate:h}))}}}});var qhe=eD({brush:cde,cartesianAxis:gce,chartData:loe,errorBars:Dce,graphicalItems:Zle,layout:uJ,legend:yee,options:noe,polarAxis:wle,polarOptions:Whe,referenceElements:bde,rootProps:Uhe,tooltip:Nie,zIndex:Kse}),Zhe=function(t){return LQ({reducer:qhe,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([hz.middleware,mz.middleware,Mk.middleware,vz.middleware,wz.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(pD({type:"raf"}))},devTools:Tf.devToolsEnabled})};function Yhe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=qt(),i=x.useRef(null);if(a)return r;i.current==null&&(i.current=Zhe(t));var o=X1;return x.createElement(uue,{context:o,store:i.current},r)}function Ghe(e){var{layout:t,margin:r}=e,n=yt(),a=qt();return x.useEffect(()=>{a||(n(oJ(t)),n(sJ(r)))},[n,a,t,r]),null}var Xhe=x.memo(Ghe,Gf);function Qhe(e){var t=yt();return x.useEffect(()=>{t(Hhe(e))},[t,e]),null}function wO(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=KR("".concat(n).concat(t)),i=yt();return x.useLayoutEffect(()=>(i(Wse({zIndex:t,elementId:a,isPanorama:r})),()=>{i(Vse({zIndex:t,isPanorama:r}))}),[i,t,a,r]),x.createElement("g",{tabIndex:-1,id:a})}function _O(e){var{children:t,isPanorama:r}=e,n=ve(Ise);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return x.createElement(x.Fragment,null,a.map(o=>x.createElement(wO,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>x.createElement(wO,{key:o,zIndex:o,isPanorama:r})))}var Jhe=["children"];function eme(e,t){if(e==null)return{};var r,n,a=tme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pg.apply(null,arguments)}var rme={width:"100%",height:"100%",display:"block"},nme=x.forwardRef((e,t)=>{var r=uj(),n=dj(),a=YD();if(!$a(r)||!$a(n))return null;var{children:i,otherAttributes:o,title:l,desc:u}=e,d,f;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=a?0:void 0,typeof o.role=="string"?f=o.role:f=a?"application":void 0),x.createElement(D1,Pg({},o,{title:l,desc:u,role:f,tabIndex:d,width:r,height:n,style:rme,ref:t}),i)}),ame=e=>{var{children:t}=e,r=ve(R0);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return x.createElement(D1,{width:n,height:a,x:o,y:i},t)},jO=x.forwardRef((e,t)=>{var{children:r}=e,n=eme(e,Jhe),a=qt();return a?x.createElement(ame,null,x.createElement(_O,{isPanorama:!0},r)):x.createElement(nme,Pg({ref:t},n),x.createElement(_O,{isPanorama:!1},r))});function ime(){var e=yt(),[t,r]=x.useState(null),n=ve(CJ);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;ut(i)&&i!==n&&e(cJ(i))}},[t,e,n]),r}function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sme(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){ome(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ome(e,t,r){return(t=lme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lme(e){var t=cme(e,"string");return typeof t=="symbol"?t:t+""}function cme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(null,arguments)}var ume=()=>(yoe(),null);function Cg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var dme=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[i,o]=x.useState({containerWidth:Cg((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Cg((n=e.style)===null||n===void 0?void 0:n.height)}),l=x.useCallback((d,f)=>{o(h=>{var p=Math.round(d),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),u=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=d.getBoundingClientRect();l(f,h);var p=y=>{var{width:b,height:_}=y[0].contentRect;l(b,_)},g=new ResizeObserver(p);g.observe(d),a.current=g}},[t,l]);return x.useEffect(()=>()=>{var d=a.current;d!=null&&d.disconnect()},[l]),x.createElement(x.Fragment,null,x.createElement(z0,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Qo({ref:u},e)))}),fme=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=x.useState({containerWidth:Cg(r),containerHeight:Cg(n)}),o=x.useCallback((u,d)=>{i(f=>{var h=Math.round(u),p=Math.round(d);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),l=x.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();o(d,f)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(z0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Qo({ref:l},e)))}),hme=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(z0,{width:r,height:n}),x.createElement("div",Qo({ref:t},e)))}),mme=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return Ci(r)||Ci(n)?x.createElement(fme,Qo({},e,{ref:t})):x.createElement(hme,Qo({},e,{ref:t}))});function pme(e){return e===!0?dme:mme}var gme=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:h,onMouseUp:p,onTouchEnd:g,onTouchMove:y,onTouchStart:b,style:_,width:w,responsive:k,dispatchTouchEvents:j=!0}=e,N=x.useRef(null),P=yt(),[C,A]=x.useState(null),[O,T]=x.useState(null),$=ime(),I=cj(),z=(I==null?void 0:I.width)>0?I.width:w,U=(I==null?void 0:I.height)>0?I.height:a,F=x.useCallback(X=>{$(X),typeof t=="function"&&t(X),A(X),T(X),X!=null&&(N.current=X)},[$,t,A,T]),q=x.useCallback(X=>{P(fz(X)),P(An({handler:i,reactEvent:X}))},[P,i]),H=x.useCallback(X=>{P(Jw(X)),P(An({handler:d,reactEvent:X}))},[P,d]),W=x.useCallback(X=>{P(Q3()),P(An({handler:f,reactEvent:X}))},[P,f]),M=x.useCallback(X=>{P(Jw(X)),P(An({handler:h,reactEvent:X}))},[P,h]),D=x.useCallback(()=>{P(xz())},[P]),B=x.useCallback(X=>{P(yz(X.key))},[P]),V=x.useCallback(X=>{P(An({handler:o,reactEvent:X}))},[P,o]),G=x.useCallback(X=>{P(An({handler:l,reactEvent:X}))},[P,l]),Z=x.useCallback(X=>{P(An({handler:u,reactEvent:X}))},[P,u]),Q=x.useCallback(X=>{P(An({handler:p,reactEvent:X}))},[P,p]),ie=x.useCallback(X=>{P(An({handler:b,reactEvent:X}))},[P,b]),se=x.useCallback(X=>{j&&P(bz(X)),P(An({handler:y,reactEvent:X}))},[P,j,y]),oe=x.useCallback(X=>{P(An({handler:g,reactEvent:X}))},[P,g]),le=pme(k);return x.createElement(xR.Provider,{value:C},x.createElement(a4.Provider,{value:O},x.createElement(le,{width:z??(_==null?void 0:_.width),height:U??(_==null?void 0:_.height),className:qe("recharts-wrapper",n),style:sme({position:"relative",cursor:"default",width:z,height:U},_),onClick:q,onContextMenu:V,onDoubleClick:G,onFocus:D,onKeyDown:B,onMouseDown:Z,onMouseEnter:H,onMouseLeave:W,onMouseMove:M,onMouseUp:Q,onTouchEnd:oe,onTouchMove:se,onTouchStart:ie,ref:F},x.createElement(ume,null),r)))}),yme=["width","height","responsive","children","className","style","compact","title","desc"];function xme(e,t){if(e==null)return{};var r,n,a=vme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bme=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:u,title:d,desc:f}=e,h=xme(e,yme),p=bn(h);return u?x.createElement(x.Fragment,null,x.createElement(z0,{width:r,height:n}),x.createElement(jO,{otherAttributes:p,title:d,desc:f},i)):x.createElement(gme,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(jO,{otherAttributes:p,title:d,desc:f,ref:t},x.createElement(wde,null,i)))});function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(null,arguments)}var wme={top:5,right:5,bottom:5,left:5},_me={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:wme,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ik=x.forwardRef(function(t,r){var n,a=Ut(t.categoricalChartProps,_me),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,f={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return x.createElement(Yhe,{preloadedState:{options:f},reduxStoreName:(n=d.id)!==null&&n!==void 0?n:i},x.createElement(lde,{chartData:d.data}),x.createElement(Xhe,{layout:a.layout,margin:a.margin}),x.createElement(Qhe,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(bme,e_({},a,{ref:r})))}),jme=["axis"],kme=x.forwardRef((e,t)=>x.createElement(Ik,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jme,tooltipPayloadSearcher:uk,categoricalChartProps:e,ref:t})),Nme=["axis","item"],yy=x.forwardRef((e,t)=>x.createElement(Ik,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Nme,tooltipPayloadSearcher:uk,categoricalChartProps:e,ref:t})),Sme=["item"],t_=x.forwardRef((e,t)=>x.createElement(Ik,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Sme,tooltipPayloadSearcher:uk,categoricalChartProps:e,ref:t}));const bs={deployModel:async e=>(await Ot.post(`/deployment/deploy/${e}`)).data,getActive:async()=>{try{return(await Ot.get("/deployment/active")).data}catch(e){const t=e;if(t.response&&t.response.status===404)return null;throw e}},getHistory:async(e=50,t=0)=>(await Ot.get("/deployment/history",{params:{limit:e,skip:t}})).data,deactivate:async()=>{await Ot.post("/deployment/deactivate")},predict:async e=>(await Ot.post("/deployment/predict",{data:e})).data},Pme=()=>{var Pe,Ve,Ht,Br;const{jobs:e,fetchJobs:t,hasMore:r,loadMoreJobs:n,isLoading:a}=Wc(),[i,o]=x.useState([]),[l,u]=x.useState("all"),[d,f]=x.useState([]),[h,p]=x.useState("all"),[g,y]=x.useState(null),[b,_]=x.useState(!0),[w,k]=x.useState(!0),[j,N]=x.useState(!0),[P,C]=x.useState(!0),[A,O]=x.useState(!0),[T,$]=x.useState("charts"),[I,z]=x.useState(null),[U,F]=x.useState(!1),[q,H]=x.useState(null),[W,M]=x.useState(null),[D,B]=x.useState(null);x.useEffect(()=>{t(),V()},[t]),x.useEffect(()=>{var ee,he,Ne;if((he=(ee=I==null?void 0:I.splits.train)==null?void 0:ee.y_proba)!=null&&he.classes&&I.splits.train.y_proba.classes.length>0){const _e=I.splits.train.y_proba,Re=((Ne=_e.labels)==null?void 0:Ne[0])??_e.classes[0];B(String(Re))}},[I]);const V=async()=>{try{const ee=await Ot.get("/pipeline/datasets/list");f(ee.data)}catch(ee){console.error("Failed to fetch datasets",ee)}},G=async(ee,he)=>{if(ee.stopPropagation(),!!confirm("Are you sure you want to deploy this model to production?"))try{await bs.deployModel(he),alert("Model deployed successfully!")}catch(Ne){alert("Failed to deploy model"),console.error(Ne)}},Z=async ee=>{var he,Ne;F(!0),z(null),H(null),M(ee);try{const _e=await Ot.get(`/pipeline/jobs/${ee}/evaluation`);z(_e.data)}catch(_e){console.error("Failed to fetch evaluation data",_e),H(((Ne=(he=_e.response)==null?void 0:he.data)==null?void 0:Ne.detail)||"Failed to fetch evaluation data")}finally{F(!1)}},Q=(ee,he,Ne)=>{const _e=Ne&&Ne.length>0?[...Ne]:Array.from(new Set([...ee,...he])).sort((dt,Qt)=>String(dt).localeCompare(String(Qt))),Re=_e.map(dt=>_e.map(Qt=>ee.reduce((St,Ur,Dt)=>{const Pt=he[Dt];return String(Ur)===String(dt)&&String(Pt)===String(Qt)?St+1:St},0)));return{classes:_e,matrix:Re}},ie=(ee,he,Ne)=>{const _e=String(Ne),dt=((he.labels&&he.labels.length===he.classes.length?he.labels:void 0)??he.classes).findIndex(Tt=>String(Tt)===_e);if(dt===-1)return null;const St=he.values.map(Tt=>Tt[dt]).map((Tt,Nn)=>({score:Tt,actual:String(ee[Nn])===_e?1:0}));St.sort((Tt,Nn)=>Nn.score-Tt.score);const Ur=[];let Dt=0,Pt=0;const Hr=St.filter(Tt=>Tt.actual===1).length,Ya=St.length-Hr;if(Hr===0||Ya===0)return null;Ur.push({fpr:0,tpr:0});for(let Tt=0;Tt<St.length;Tt++)St[Tt].actual===1?Dt++:Pt++,Ur.push({fpr:Pt/Ya,tpr:Dt/Hr});return Ur};x.useEffect(()=>{T==="evaluation"&&(!W&&i.length>0||W&&!i.includes(W)&&i.length>0?Z(i[0]):i.length===0&&(z(null),M(null)))},[T,i,W]);const se=e.filter(ee=>{const he=l==="all"||ee.job_type===l,Ne=h==="all"||ee.dataset_id===h,_e=ee.status==="completed";return he&&Ne&&_e}),oe=e.filter(ee=>i.includes(ee.job_id)),le=ee=>{o(he=>he.includes(ee)?he.filter(Ne=>Ne!==ee):[...he,ee])},X=oe.map(ee=>{var Ne;const he=ee.metrics||((Ne=ee.result)==null?void 0:Ne.metrics)||{};return{name:ee.job_id,...he}}),me=Array.from(new Set(oe.flatMap(ee=>{var Ne;const he=ee.metrics||((Ne=ee.result)==null?void 0:Ne.metrics)||{};return Object.keys(he).filter(_e=>{const Re=he[_e];return typeof Re=="number"&&!isNaN(Re)})}))).filter(ee=>!(ee.startsWith("train_")&&!b||ee.startsWith("test_")&&!w||ee.startsWith("val_")&&!j)),fe=(ee,he)=>{if(!ee||!he)return"-";const Ne=new Date(he).getTime()-new Date(ee).getTime(),_e=Math.floor(Ne/1e3);return _e<60?`${_e}s`:`${Math.floor(_e/60)}m ${_e%60}s`},te=ee=>ee==="best_score"?{type:"val",base:"best_score"}:ee.startsWith("train_")?{type:"train",base:ee.replace("train_","")}:ee.startsWith("test_")?{type:"test",base:ee.replace("test_","")}:ee.startsWith("val_")?{type:"val",base:ee.replace("val_","")}:{type:"other",base:ee},pe=new Map;me.forEach(ee=>{var Ne;const{base:he}=te(ee);pe.has(he)||pe.set(he,[]),(Ne=pe.get(he))==null||Ne.push(ee)}),pe.forEach((ee,he)=>{pe.set(he,ee.sort())});const we=Array.from(pe.keys()).sort(),Oe=g&&we.includes(g)?g:we[0]||null;return s.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Experiments & Comparison"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Compare metrics and parameters across multiple runs"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:h,onChange:ee=>{p(ee.target.value)},children:[s.jsx("option",{value:"all",children:"All Datasets"}),d.map(ee=>s.jsx("option",{value:ee.id,children:ee.name},ee.id))]}),s.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:l,onChange:ee=>{u(ee.target.value)},children:[s.jsx("option",{value:"all",children:"All Experiments"}),s.jsx("option",{value:"tuning",children:"Model Optimization"}),s.jsx("option",{value:"training",children:"Standard Training"})]})]})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsxs("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 text-xs font-medium text-gray-500 uppercase",children:["Select Runs to Compare (",i.length,")"]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[se.map(ee=>{var he,Ne;return s.jsxs("div",{onClick:()=>{le(ee.job_id)},className:`p-3 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${i.includes(ee.job_id)?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"border-l-4 border-l-transparent"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("span",{className:"font-mono text-xs font-semibold text-gray-700 dark:text-gray-300 break-all",children:["#",ee.version," - ",ee.job_id]}),s.jsxs("div",{className:"flex items-center gap-2",children:[ee.status==="completed"&&(ee.job_type==="training"||ee.job_type==="tuning")&&s.jsx("button",{onClick:_e=>{G(_e,ee.job_id)},className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600 dark:text-blue-400",title:"Deploy to Test",children:s.jsx(Xg,{className:"w-3 h-3"})}),s.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded capitalize ${ee.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":ee.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:ee.status})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[ee.model_type,"  ",ee.dataset_name||"Unknown Dataset",ee.job_type==="tuning"&&(ee.search_strategy||((he=ee.config.tuning)==null?void 0:he.strategy))&&s.jsxs("span",{className:"ml-1 text-gray-400",children:["(",ee.search_strategy||((Ne=ee.config.tuning)==null?void 0:Ne.strategy),")"]})]}),s.jsxs("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:[s.jsx("span",{children:new Date(ee.start_time||ee.created_at).toLocaleString()}),s.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300",children:fe(ee.start_time,ee.end_time)})]})]},ee.job_id)}),r&&s.jsx("div",{className:"p-2 flex justify-center border-t border-gray-100 dark:border-gray-700",children:s.jsxs("button",{onClick:()=>n(),disabled:a,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[a?s.jsx(la,{className:"w-3 h-3 animate-spin"}):s.jsx(or,{className:"w-3 h-3"}),"Load More"]})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:oe.length===0?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[s.jsx(NM,{className:"w-12 h-12 mb-4 opacity-20"}),s.jsx("p",{children:"Select runs from the sidebar to compare them."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[s.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${T==="charts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{$("charts")},children:"Visual Comparison"}),s.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${T==="table"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{$("table")},children:"Detailed Metrics & Params"}),s.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${T==="evaluation"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{$("evaluation")},children:"Model Evaluation"})]}),T==="charts"&&s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Metrics Comparison"}),s.jsxs("div",{className:"flex gap-4 text-sm",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:b,onChange:ee=>{_(ee.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:w,onChange:ee=>{k(ee.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:j,onChange:ee=>{N(ee.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]})]}),we.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:we.map(ee=>s.jsx("button",{onClick:()=>{y(ee)},className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${Oe===ee?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:ee.toUpperCase()},ee))}),Oe&&pe.has(Oe)&&s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(gs,{width:"100%",height:"100%",children:s.jsxs(yy,{data:X,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(ys,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),s.jsx(xs,{dataKey:"name",stroke:"#6B7280",fontSize:12}),s.jsx(vs,{stroke:"#6B7280",fontSize:12}),s.jsx(go,{shared:!1,cursor:{fill:"rgba(107, 114, 128, 0.1)"},contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"}}),s.jsx(mj,{}),(Pe=pe.get(Oe))==null?void 0:Pe.map(ee=>{const{type:he}=te(ee);let Ne="#8884d8";return he==="train"&&(Ne="#3b82f6"),he==="test"&&(Ne="#22c55e"),he==="val"&&(Ne="#f97316"),he==="other"&&(Ne="#a855f7"),s.jsx(Xf,{dataKey:ee,fill:Ne,name:`${he} (${Oe})`},ee)})]})})})})]}),T==="table"&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in duration-300",children:[s.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Detailed Comparison"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-xs text-left",children:[s.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-900/50 dark:text-gray-400",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2",children:"Parameter / Metric"}),oe.map(ee=>s.jsx("th",{className:"px-4 py-2 font-mono break-all min-w-[100px]",children:ee.job_id},ee.job_id))]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[s.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100",children:"Model Type"}),oe.map(ee=>s.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:ee.model_type},ee.job_id))]}),s.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>{C(!P)},children:s.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:oe.length+1,children:[P?s.jsx(or,{className:"w-3 h-3"}):s.jsx(Ra,{className:"w-3 h-3"}),"Key Metrics"]})}),P&&me.map(ee=>s.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[s.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:ee}),oe.map(he=>{var Re;const _e=(he.metrics||((Re=he.result)==null?void 0:Re.metrics)||{})[ee];return s.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:typeof _e=="number"?_e.toFixed(4):"-"},he.job_id)})]},ee)),s.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>{O(!A)},children:s.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:oe.length+1,children:[A?s.jsx(or,{className:"w-3 h-3"}):s.jsx(Ra,{className:"w-3 h-3"}),"Hyperparameters"]})}),A&&Array.from(new Set(oe.flatMap(ee=>Object.keys(ee.hyperparameters||{})))).map(ee=>s.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[s.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:ee}),oe.map(he=>{var Ne;return s.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:String(((Ne=he.hyperparameters)==null?void 0:Ne[ee])??"-")},he.job_id)})]},ee))]})]})})]}),T==="evaluation"&&s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[i.length>1&&s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:i.map(ee=>s.jsx("button",{onClick:()=>{Z(ee)},className:`px-3 py-1 text-xs font-mono rounded border whitespace-nowrap ${W===ee?"bg-blue-100 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700 dark:text-blue-300":"bg-white border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"}`,children:ee},ee))}),U?s.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400",children:[s.jsx(ln,{className:"w-6 h-6 animate-spin mr-2"}),"Loading evaluation data..."]}):q?s.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[s.jsx("p",{className:"font-medium",children:"Error loading evaluation data"}),s.jsx("p",{className:"text-sm mt-2 opacity-80",children:q})]}):I?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-2 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-4 text-sm",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:b,onChange:ee=>{_(ee.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:w,onChange:ee=>{k(ee.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:j,onChange:ee=>{N(ee.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]}),I.problem_type==="classification"&&((Ve=I.splits.train)==null?void 0:Ve.y_proba)&&(()=>{const ee=I.splits.train.y_proba;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Target Class (ROC):"}),s.jsx("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-1.5",value:D||"",onChange:he=>{B(he.target.value)},children:ee.classes.map((he,Ne)=>{var Re;const _e=((Re=ee.labels)==null?void 0:Re[Ne])??he;return s.jsx("option",{value:String(_e),children:String(_e)},String(he))})})]})})()]}),I.problem_type==="classification"&&((Br=(Ht=I.splits.train)==null?void 0:Ht.y_proba)==null?void 0:Br.labels)&&(()=>{const ee=I.splits.train.y_proba;return s.jsxs("div",{className:"w-full text-xs text-gray-500 dark:text-gray-400",children:["Mapping: ",ee.classes.map((he,Ne)=>{var _e;return`${String(he)}${String(((_e=ee.labels)==null?void 0:_e[Ne])??he)}`}).join(", ")]})})()]}),s.jsx("div",{className:"flex flex-col gap-6",children:Object.entries(I.splits).filter(([ee])=>!(ee==="train"&&!b||ee==="test"&&!w||ee==="validation"&&!j)).map(([ee,he])=>{const Ne=he.y_true.map((_e,Re)=>({x:_e,y:he.y_pred[Re]}));return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4 capitalize",children:[ee," Set"]}),I.problem_type==="regression"?s.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[s.jsxs("div",{className:"h-[300px]",children:[s.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Actual vs Predicted"}),s.jsx(gs,{width:"100%",height:"100%",children:s.jsxs(t_,{margin:{top:20,right:20,bottom:20,left:20},children:[s.jsx(ys,{strokeDasharray:"3 3",opacity:.2}),s.jsx(xs,{type:"number",dataKey:"x",name:"Actual",unit:"",label:{value:"Actual Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),s.jsx(vs,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),s.jsx(go,{cursor:{strokeDasharray:"3 3"},content:({active:_e,payload:Re})=>{if(_e&&Re&&Re.length){const dt=Re[0].payload;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[s.jsxs("p",{className:"font-medium",children:["Actual: ",dt.x.toFixed(4)]}),s.jsxs("p",{className:"font-medium",children:["Predicted: ",dt.y.toFixed(4)]}),s.jsxs("p",{className:"text-gray-500",children:["Error: ",(dt.y-dt.x).toFixed(4)]})]})}return null}}),s.jsx(qm,{dataKey:"x",stroke:"#ccc",strokeDasharray:"3 3",dot:!1,activeDot:!1,legendType:"none",isAnimationActive:!1}),s.jsx(Sg,{name:"Predictions",data:Ne,fill:"#8884d8",fillOpacity:.6})]})})]}),s.jsxs("div",{className:"h-[300px]",children:[s.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Residuals vs Predicted"}),s.jsx(gs,{width:"100%",height:"100%",children:s.jsxs(t_,{margin:{top:20,right:20,bottom:20,left:20},children:[s.jsx(ys,{strokeDasharray:"3 3",opacity:.2}),s.jsx(xs,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),s.jsx(vs,{type:"number",dataKey:"residual",name:"Residual",unit:"",label:{value:"Residuals (Actual - Predicted)",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),s.jsx(go,{cursor:{strokeDasharray:"3 3"},content:({active:_e,payload:Re})=>{if(_e&&Re&&Re.length){const dt=Re[0].payload;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[s.jsxs("p",{className:"font-medium",children:["Predicted: ",dt.y.toFixed(4)]}),s.jsxs("p",{className:"font-medium",children:["Residual: ",dt.residual.toFixed(4)]})]})}return null}}),s.jsx(Pk,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),s.jsx(Sg,{name:"Residuals",data:Ne.map(_e=>{const Re=_e;return{...Re,residual:Re.x-Re.y}}),fill:"#82ca9d",fillOpacity:.6})]})})]})]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"h-[300px] flex flex-col items-center justify-center",children:(()=>{const _e=he.y_proba,Re=_e==null?void 0:_e.classes;let dt=he.y_true,Qt=he.y_pred;if(_e!=null&&_e.labels&&_e.labels.length===_e.classes.length){const Dt=new Map;_e.labels.forEach((Pt,Hr)=>{Dt.set(String(Pt),_e.classes[Hr])}),dt=he.y_true.map(Pt=>Dt.get(String(Pt))??Pt),Qt=he.y_pred.map(Pt=>Dt.get(String(Pt))??Pt)}const{classes:St,matrix:Ur}=Q(dt,Qt,Re);return s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-8"})," ",s.jsxs("div",{className:"flex ml-2",children:[" ",St.map(Dt=>s.jsxs("div",{className:"w-16 text-center text-xs font-medium text-gray-500 dark:text-gray-400 pb-2",children:["Pred ",String(Dt)]},String(Dt)))]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex flex-col justify-center mr-2",children:St.map(Dt=>s.jsxs("div",{className:"h-16 flex items-center justify-end text-xs font-medium text-gray-500 dark:text-gray-400 pr-2",children:["True ",String(Dt)]},String(Dt)))}),s.jsx("div",{className:"border border-gray-200 dark:border-gray-700",children:Ur.map((Dt,Pt)=>s.jsx("div",{className:"flex",children:Dt.map((Hr,Ya)=>{const Tt=Math.max(...Ur.flat()),Nn=Tt>0?Hr/Tt:0;return s.jsx("div",{className:"w-16 h-16 flex items-center justify-center text-sm font-mono border border-gray-100 dark:border-gray-800",style:{backgroundColor:`rgba(59, 130, 246, ${Nn*.8+.1})`,color:Nn>.5?"white":"inherit"},title:`True: ${St[Pt]}, Pred: ${St[Ya]}, Count: ${Hr}`,children:Hr},Ya)})},Pt))})]}),s.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"Confusion Matrix"})]})})()}),he.y_proba&&s.jsxs("div",{className:"h-[300px] w-full",children:[s.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"ROC Curve"}),(()=>{if(!D)return s.jsx("div",{className:"text-center text-xs text-gray-400",children:"Select a class"});const _e=ie(he.y_true,he.y_proba,D);return _e?s.jsx(gs,{width:"100%",height:"100%",children:s.jsxs(kme,{data:_e,margin:{top:5,right:20,bottom:20,left:20},children:[s.jsx(ys,{strokeDasharray:"3 3",opacity:.1}),s.jsx(xs,{type:"number",dataKey:"fpr",domain:[0,1],label:{value:"False Positive Rate",position:"bottom",offset:0,fontSize:12}}),s.jsx(vs,{type:"number",dataKey:"tpr",domain:[0,1],label:{value:"True Positive Rate",angle:-90,position:"left",fontSize:12}}),s.jsx(go,{}),s.jsx(qm,{type:"monotone",dataKey:"tpr",stroke:"#8884d8",dot:!1,strokeWidth:2}),s.jsx(qm,{dataKey:"fpr",stroke:"#ccc",strokeDasharray:"3 3",dot:!1})]})}):s.jsx("div",{className:"text-center text-xs text-gray-400",children:"ROC not available (multiclass or missing proba)"})})()]})]})]},ee)})})]}):s.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400 italic text-center",children:[s.jsx("p",{children:"Select a completed job to view evaluation details."}),s.jsx("p",{className:"text-xs mt-2 opacity-70",children:"(Note: Only jobs run after this update have evaluation artifacts)"})]})]})]})})]})]})},Cme=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(`[
  {
    "feature1": 0.5,
    "feature2": 1.2
  }
]`),[a,i]=x.useState(null),[o,l]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(null);x.useEffect(()=>{p()},[]);const p=async()=>{try{const b=await bs.getActive();if(t(b),b){let _={},w=!1;if(b.input_schema&&b.input_schema.length>0&&(b.input_schema.forEach(k=>{_[k.name]=0}),w=!0,h(`Schema loaded from artifacts (${b.input_schema.length} features)`)),b.job_id)try{const k=await ir.getJob(b.job_id);if(k.dataset_id){const j=await $n.getSample(k.dataset_id,1);if(j.length>0){const N=j[0];if(w)Object.keys(_).forEach(P=>{P in N&&(_[P]=N[P])});else{const P=k.target_column,C=k.dropped_columns||[],A={...N};typeof P=="string"&&P in A&&Reflect.deleteProperty(A,P),C.forEach(T=>{typeof T=="string"&&T in A&&Reflect.deleteProperty(A,T)}),_=A;const O=[];P&&O.push(`Target: ${P}`),C.length>0&&O.push(`Dropped: ${C.length} cols`),O.length>0&&h(`Auto-filtered from dataset: ${O.join(", ")}`)}}}}catch(k){console.warn("Failed to fetch dataset sample",k)}Object.keys(_).length>0&&n(JSON.stringify([_],null,2))}}catch{t(null)}},g=async()=>{if(confirm("Are you sure you want to undeploy the current model?"))try{await bs.deactivate(),t(null),i(null)}catch(b){console.error("Failed to deactivate",b)}},y=async()=>{l(!0),d(null),i(null);try{const b=JSON.parse(r);if(!Array.isArray(b))throw new Error("Input must be a JSON array of objects");const _=await bs.predict(b);i(_.predictions)}catch(b){d(b.message||"Prediction failed")}finally{l(!1)}};return s.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 p-6 overflow-hidden",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6 shrink-0",children:"Model Inference"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Input Data (JSON)"}),f&&s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded border border-amber-200 dark:border-amber-800",children:f}),s.jsx("span",{className:"text-[10px] text-gray-400 mt-1",children:"Please verify fields before running"})]})]}),s.jsx("textarea",{className:"flex-1 w-full p-4 font-mono text-sm bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none",value:r,onChange:b=>{n(b.target.value)},placeholder:'[{"col1": 1, "col2": "A"}]'}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx("button",{onClick:()=>{y()},disabled:!e||o,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${!e||o?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-800 dark:text-gray-600":"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"}`,children:o?"Running...":s.jsxs(s.Fragment,{children:[s.jsx($s,{className:"w-4 h-4"})," Run Prediction"]})})})]}),s.jsxs("div",{className:"flex flex-col gap-6 h-full min-h-0",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 shrink-0",children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bp,{className:"w-5 h-5 text-blue-500"}),"Active Deployment"]}),e&&s.jsxs("button",{onClick:()=>{g()},className:"flex items-center gap-1 text-xs px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50 transition-colors",title:"Undeploy Model",children:[s.jsx(Rb,{className:"w-3 h-3"}),"Undeploy"]})]}),e?s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Model Type"}),s.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:e.model_type})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Job ID"}),s.jsx("div",{className:"font-mono text-sm text-gray-800 dark:text-gray-200 break-all",children:e.job_id})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Deployed At"}),s.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:new Date(e.created_at).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),s.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-medium text-sm",children:[s.jsx(pa,{className:"w-4 h-4"})," Active"]})]})]}):s.jsxs("div",{className:"text-gray-500 dark:text-gray-400 italic flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4"}),"No model is currently deployed. Go to Experiments page to deploy one."]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col flex-1 min-h-0",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Prediction Results"}),s.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4 overflow-auto",children:u?s.jsxs("div",{className:"text-red-600 dark:text-red-400 flex items-start gap-2",children:[s.jsx(an,{className:"w-5 h-5 shrink-0 mt-0.5"}),s.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm",children:u})]}):a?s.jsx("div",{className:"space-y-2",children:a.map((b,_)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-800 rounded border border-gray-100 dark:border-gray-700",children:[s.jsxs("span",{className:"text-xs text-gray-500 w-8",children:["#",_+1]}),s.jsx("span",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof b=="object"?JSON.stringify(b):String(b)})]},_))}):s.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm italic",children:"Run a prediction to see results here..."})})]})]})]})]})},Eme=()=>{const{activeView:e,isPropertiesPanelExpanded:t}=Hc();return s.jsxs("div",{className:"flex h-full w-full bg-background overflow-hidden flex-col",children:[s.jsx(NG,{}),s.jsx(kG,{}),e==="canvas"?s.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[s.jsx(cG,{}),s.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[!t&&s.jsx(_G,{}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(xG,{}),s.jsx(jG,{})]})]}),s.jsx(vG,{})]}):e==="experiments"?s.jsx(Pme,{}):s.jsx(Cme,{})]})},Ome=()=>{const e=Ie(i=>i.addNode),t=Ie(i=>i.nodes),[r,n]=wM(),a=x.useRef(!1);return x.useEffect(()=>{const i=r.get("source_id");if(i){if(a.current)return;if(t.some(u=>{var d;return u.type==="dataset_node"&&((d=u.data)==null?void 0:d.datasetId)===i})){const u=new URLSearchParams(r);u.delete("source_id"),n(u,{replace:!0});return}a.current=!0,e("dataset_node",{x:100,y:100},{datasetId:i});const l=new URLSearchParams(r);l.delete("source_id"),n(l,{replace:!0})}},[r,e,t,n]),s.jsx(Eme,{})},Ame=()=>{const e=Kg(),[t,r]=x.useState(null),[n,a]=x.useState([]),[i,o]=x.useState(!1),[l,u]=x.useState(null),[d,f]=x.useState(null),[h,p]=x.useState(null),[g,y]=x.useState(null),[b,_]=x.useState(null),[w,k]=x.useState(!1),[j,N]=x.useState(0),[P,C]=x.useState(!0),A=10,[O,T]=x.useState(""),[$,I]=x.useState(""),[z,U]=x.useState(()=>{try{const Z=localStorage.getItem("skyulf_manual_deployments");return Z?JSON.parse(Z):{}}catch{return{}}}),F=Z=>{U(Q=>{const ie={...Q,[Z]:!Q[Z]};return localStorage.setItem("skyulf_manual_deployments",JSON.stringify(ie)),ie})},q=async Z=>{y(Z),k(!0),_(null);try{const Q=await fetch(`/api/registry/artifacts/${Z}`);if(Q.ok){const ie=await Q.json();_(ie)}else{const ie=await Q.json();_({storage_type:"error",base_uri:"",files:[`Failed to load artifacts: ${ie.detail||"Unknown error"}`]})}}catch{_({storage_type:"error",base_uri:"",files:["Error loading artifacts"]})}finally{k(!1)}},H=async()=>{try{const Z=await fetch("/api/registry/stats");if(Z.ok){const Q=await Z.json();r(Q)}}catch(Z){console.error("Failed to fetch stats",Z)}},W=async(Z,Q=!1)=>{if(!i)try{o(!0);const ie=Z*A,se=new URLSearchParams({skip:ie.toString(),limit:A.toString()}),oe=await fetch(`/api/registry/models?${se.toString()}`);if(!oe.ok)throw new Error("Failed to fetch models");const le=await oe.json();return le.length<A?C(!1):C(!0),a(X=>Q?le:[...X,...le]),le}catch(ie){return u(ie.message),null}finally{o(!1)}};x.useEffect(()=>{H(),W(0,!0)},[]),x.useEffect(()=>{const Z=ie=>{const se=ie.target;se.scrollTop+se.clientHeight>=se.scrollHeight-100&&!i&&P&&N(oe=>oe+1)},Q=document.querySelector("main");return Q?(Q.addEventListener("scroll",Z),()=>{Q.removeEventListener("scroll",Z)}):(window.addEventListener("scroll",Z),()=>{window.removeEventListener("scroll",Z)})},[i,P]),x.useEffect(()=>{j>0&&W(j,!1)},[j]);const M=async Z=>{if(confirm("Are you sure you want to deploy this model version? This will replace the currently active deployment."))try{p(Z);const Q=await fetch(`/api/deployment/deploy/${Z}`,{method:"POST"});if(!Q.ok){const se=await Q.json();throw new Error(se.detail||"Deployment failed")}N(0);const ie=await W(0,!0);if(d&&ie){const se=ie.find(oe=>oe.model_type===d.model_type&&oe.dataset_id===d.dataset_id);se&&f(se)}confirm("Model deployed successfully! Do you want to go to the inference page?")&&e("/deployments")}catch(Q){alert(`Error deploying model: ${Q.message}`)}finally{p(null)}},D=Z=>{switch(Z.toLowerCase()){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"running":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-slate-700 dark:text-slate-300"}},B=Z=>{const Q=Z.score||Z.accuracy||Z.f1_score||Z.rmse||Z.mse;if(Q!==void 0)return typeof Q=="number"?Q.toFixed(4):String(Q);const ie=Object.keys(Z);if(ie.length>0){const se=Z[ie[0]];return`${ie[0]}: ${typeof se=="number"?se.toFixed(4):se}`}return"-"},V=Z=>Z.toLowerCase()==="tuning"?"Advanced Training":Z.toLowerCase()==="training"?"Standard Training":Z.charAt(0).toUpperCase()+Z.slice(1),G=n.filter(Z=>{const Q=(Z.dataset_name||"").toLowerCase().includes(O.toLowerCase())||(Z.dataset_id||"").toLowerCase().includes(O.toLowerCase()),ie=Z.model_type.toLowerCase().includes($.toLowerCase());return Q&&ie});return i&&!t&&n.length===0?s.jsxs("div",{className:"p-8 flex justify-center items-center h-full text-slate-500 dark:text-slate-400",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"Loading registry..."]}):l?s.jsxs("div",{className:"p-8 text-center text-red-600 dark:text-red-400",children:["Error: ",l]}):s.jsxs("div",{className:"p-8 min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors duration-200",children:[s.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Model Registry"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage versions, track metrics, and deploy your best models."})]}),s.jsx("button",{onClick:()=>{N(0),W(0,!0),H()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm",children:"Refresh"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(kv,{title:"Total Versions",value:(t==null?void 0:t.total_versions)||0,icon:s.jsx(bp,{className:"text-blue-500"})}),s.jsx(kv,{title:"Active Deployments",value:(t==null?void 0:t.active_deployments)||0,icon:s.jsx(Tme,{className:"text-green-500"}),valueColor:"text-green-600 dark:text-green-400"}),s.jsx(kv,{title:"Model Types",value:n.length,icon:s.jsx(Db,{className:"text-purple-500"}),valueColor:"text-purple-600 dark:text-purple-400"})]}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Model Type"}),s.jsx("input",{type:"text",placeholder:"e.g. RandomForest",value:$,onChange:Z=>{I(Z.target.value)},className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Dataset"}),s.jsx("input",{type:"text",placeholder:"e.g. Iris Dataset",value:O,onChange:Z=>{T(Z.target.value)},className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Db,{size:20,className:"text-slate-400"}),"Registered Models"]}),s.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Showing ",G.length," of ",n.length," models"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[s.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Dataset"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Latest Version"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Source"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Deployments"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:G.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(bp,{size:48,className:"mb-4 opacity-20"}),s.jsx("p",{children:"No models found matching your filters."})]})})}):G.map(Z=>{const Q=Z.latest_version;if(!Q)return null;const ie=`${Z.model_type}-${Z.dataset_id}`,se=Z.deployment_count>0,oe=z[ie]||!1,le=se||oe;return s.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:Z.model_type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:s.jsx("div",{className:"flex flex-col",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:Z.dataset_name}),Z.dataset_type&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-slate-600 uppercase",children:Z.dataset_type})]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:s.jsxs("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-xs",children:["v",Q.version]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:V(Q.source)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(Q.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${D(Q.status)}`,children:Q.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",onClick:X=>{X.stopPropagation()},children:[s.jsx("input",{type:"checkbox",checked:le,onChange:()=>{F(ie)},disabled:se,className:`w-4 h-4 rounded border-gray-300 focus:ring-green-500 ${se?"text-green-600 opacity-50 cursor-not-allowed":"text-blue-600 cursor-pointer"}`}),le?s.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400 font-medium bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded-full text-xs",children:[s.jsx(pa,{size:12})," ",se?"Active":"Manual"]}):s.jsx("span",{className:"text-slate-400 dark:text-slate-600 text-xs",children:"None"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("button",{onClick:()=>{f(Z)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 flex items-center justify-end gap-1 ml-auto",children:["View Versions ",s.jsx(Ra,{size:16})]})})]},ie)})})]})})]}),i&&n.length>0&&s.jsxs("div",{className:"py-4 flex justify-center text-slate-500 dark:text-slate-400",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-2"}),"Loading more models..."]}),d&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>{f(null)},children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-700",onClick:Z=>{Z.stopPropagation()},children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:d.model_type}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Version History"})]}),s.jsx("button",{onClick:()=>{f(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:s.jsx(lr,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Version"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Date"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Metrics"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Status"}),s.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:d.versions.map(Z=>s.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/30 ${Z.is_deployed?"bg-green-50/50 dark:bg-green-900/10":""}`,children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-mono",children:["v",Z.version]}),Z.is_deployed&&s.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-1.5 py-0.5 rounded border border-green-200 dark:border-green-800",children:"Deployed"})]})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(Z.created_at).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300 font-mono",children:B(Z.metrics)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${D(Z.status)}`,children:Z.status})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>{q(Z.job_id)},className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",title:"View Artifacts",children:s.jsx(eS,{size:16})}),Z.status==="completed"&&!Z.is_deployed&&s.jsxs("button",{onClick:()=>{M(Z.job_id)},disabled:h===Z.job_id,className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 disabled:opacity-50 flex items-center gap-1",children:[h===Z.job_id?s.jsx("span",{className:"animate-spin h-3 w-3 border-b-2 border-current rounded-full"}):s.jsx($s,{size:14}),"Deploy"]}),Z.is_deployed&&s.jsxs("span",{className:"text-green-600 dark:text-green-400 text-xs flex items-center gap-1",children:[s.jsx(pa,{size:14})," Active"]})]})})]},Z.job_id))})]})}),s.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:s.jsx("button",{onClick:()=>{f(null)},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})}),g&&s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>{y(null)},children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-700",onClick:Z=>{Z.stopPropagation()},children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[s.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[s.jsx(eS,{size:20,className:"text-blue-500"}),"Artifacts"]}),s.jsx("button",{onClick:()=>{y(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:s.jsx(lr,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:w?s.jsxs("div",{className:"flex justify-center py-8 text-slate-500 dark:text-slate-400",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-2"}),"Loading artifacts..."]}):!b||b.files.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"No artifacts found."}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[b.storage_type==="s3"?s.jsx(kM,{size:20,className:"text-blue-600 dark:text-blue-400 flex-shrink-0"}):s.jsx(O7,{size:20,className:"text-slate-600 dark:text-slate-400 flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-blue-700 dark:text-blue-300",children:b.storage_type==="s3"?"S3 Bucket Storage":"Local Storage"}),s.jsx("span",{className:"text-xs font-mono text-slate-600 dark:text-slate-400 truncate",title:b.base_uri,children:b.base_uri})]})]}),s.jsx("ul",{className:"space-y-2",children:b.files.map((Z,Q)=>s.jsxs("li",{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-50 dark:bg-slate-700/30 border border-slate-100 dark:border-slate-700",children:[s.jsx(Gg,{size:18,className:"text-slate-400"}),s.jsx("span",{className:"text-sm font-mono text-slate-700 dark:text-slate-300 break-all",children:Z})]},Q))})]})}),s.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:s.jsx("button",{onClick:()=>{y(null)},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})]})},kv=({title:e,value:t,icon:r,valueColor:n="text-slate-900 dark:text-white"})=>s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),s.jsx("div",{className:`mt-2 text-3xl font-bold ${n}`,children:t})]}),s.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:r})]}),Tme=({className:e})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}),s.jsx("path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}),s.jsx("path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}),s.jsx("path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"})]}),Mme=()=>{const[e,t]=x.useState(null),[r,n]=x.useState([]),[a,i]=x.useState(!1),[o,l]=x.useState(null),u=async()=>{i(!0),l(null);try{const[h,p]=await Promise.all([bs.getActive(),bs.getHistory(50,0)]);t(h),n(p)}catch(h){console.error("Failed to load deployments",h),l("Failed to load deployment data.")}finally{i(!1)}};x.useEffect(()=>{u()},[]);const d=async()=>{if(confirm("Are you sure you want to deactivate the current deployment?"))try{await bs.deactivate(),await u()}catch(h){console.error("Failed to deactivate",h),alert("Failed to deactivate deployment.")}},f=async h=>{if(confirm(`Are you sure you want to redeploy job ${h}?`))try{await bs.deployModel(h),await u()}catch(p){console.error("Failed to redeploy",p),alert("Failed to redeploy model.")}};return s.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Model Deployments"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage active models and view deployment history"})]}),s.jsx("button",{onClick:()=>{u()},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:s.jsx(la,{className:`w-5 h-5 ${a?"animate-spin":""}`})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[o&&s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg border border-red-200 dark:border-red-800 flex items-center gap-2",children:[s.jsx(an,{className:"w-5 h-5"}),o]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[s.jsx(Xg,{className:"w-5 h-5 text-green-500"}),"Active Deployment"]}),e?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-green-200 dark:border-green-900 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx(bp,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:e.model_type}),s.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[s.jsx(pa,{className:"w-3 h-3"})," Active"]})]}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:["Job ID: ",e.job_id]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Deployed: ",new Date(e.created_at).toLocaleString()]})]})]}),s.jsxs("button",{onClick:()=>{d()},className:"flex items-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 dark:bg-red-900/20 dark:hover:bg-red-900/30 dark:text-red-400 rounded-lg transition-colors text-sm font-medium",children:[s.jsx(Rb,{className:"w-4 h-4"}),"Deactivate"]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-xs font-mono text-gray-500 dark:text-gray-400 break-all",children:["Artifact URI: ",e.artifact_uri]})]}):s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-dashed border-gray-300 dark:border-gray-700 p-8 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Rb,{className:"w-6 h-6 text-gray-400"})}),s.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-medium",children:"No Active Model"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Deploy a model from the Experiments page to see it here."})]})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[s.jsx(Yg,{className:"w-5 h-5 text-blue-500"}),"Deployment History"]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/50 text-gray-500 dark:text-gray-400 font-medium border-b border-gray-200 dark:border-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3",children:"Status"}),s.jsx("th",{className:"px-6 py-3",children:"Model Type"}),s.jsx("th",{className:"px-6 py-3",children:"Job ID"}),s.jsx("th",{className:"px-6 py-3",children:"Deployed At"}),s.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No deployment history found."})}):r.map(h=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:h.is_active?s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"Active"]}):s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"}),"Inactive"]})}),s.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-gray-100",children:h.model_type}),s.jsxs("td",{className:"px-6 py-4 font-mono text-xs text-gray-500 dark:text-gray-400",children:[h.job_id.slice(0,8),"..."]}),s.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:new Date(h.created_at).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 text-right",children:!h.is_active&&s.jsx("button",{onClick:()=>{f(h.job_id)},className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-xs",children:"Redeploy"})})]},h.id))})]})})})]})]})]})},ym="/api/eda",xm={analyze:async(e,t)=>(await ct.post(`${ym}/${e}/analyze`,{target_col:t})).data,getLatestReport:async e=>(await ct.get(`${ym}/${e}/latest`)).data,getReport:async e=>(await ct.get(`${ym}/reports/${e}`)).data,getHistory:async e=>(await ct.get(`${ym}/${e}/history`)).data},Ime=({profile:e,onClick:t})=>{const r=()=>{switch(e.dtype){case"Numeric":return s.jsx(PM,{className:"w-4 h-4 text-blue-500"});case"Categorical":return s.jsx(m7,{className:"w-4 h-4 text-purple-500"});case"DateTime":return s.jsx(wp,{className:"w-4 h-4 text-green-500"});default:return s.jsx(Y7,{className:"w-4 h-4 text-gray-500"})}},n=e.histogram?e.histogram.map(a=>({name:a.start.toFixed(1),count:a.count})):[];return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:t,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[r(),s.jsx("h3",{className:"font-medium text-sm truncate max-w-[120px]",title:e.name,children:e.name})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.dtype})]}),s.jsxs("div",{className:"flex justify-between items-end mt-2",children:[s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.missing_percentage>0&&s.jsxs("div",{className:"flex items-center text-amber-600",children:[s.jsx(Qg,{className:"w-3 h-3 mr-1"}),e.missing_percentage.toFixed(1),"% null"]}),e.is_unique&&s.jsx("div",{className:"text-blue-500",children:"Unique ID"}),e.is_constant&&s.jsx("div",{className:"text-red-500",children:"Constant"}),!e.is_unique&&!e.is_constant&&e.missing_percentage===0&&s.jsx("div",{className:"text-green-600",children:"Healthy"})]}),e.dtype==="Numeric"&&n.length>0&&s.jsx("div",{className:"h-12 w-24",children:s.jsx(gs,{width:"100%",height:"100%",children:s.jsx(yy,{data:n,children:s.jsx(Xf,{dataKey:"count",fill:"#3b82f6",radius:[2,2,0,0]})})})})]})]})},Lme=({data:e})=>{if(!e||!e.columns)return s.jsx("div",{children:"No correlation data available"});const t=20,r=e.columns.slice(0,t),n=e.values.slice(0,t).map(o=>o.slice(0,t)),a=e.columns.length>t,i=o=>{if(o===null)return"rgba(243, 244, 246, 1)";const l=Math.abs(o);return o>0?`rgba(239, 68, 68, ${l})`:`rgba(59, 130, 246, ${l})`};return s.jsxs("div",{className:"overflow-x-auto p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a&&s.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 text-sm rounded-md",children:["Showing top ",t," columns. Full heatmap is too large to render."]}),s.jsx("div",{className:"inline-block min-w-full",children:s.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:`100px repeat(${r.length}, minmax(50px, 1fr))`},children:[s.jsx("div",{className:"p-2"}),r.map((o,l)=>s.jsx("div",{className:"p-2 text-xs font-medium truncate text-center",title:o,children:o.length>8?o.substring(0,8)+"...":o},l)),r.map((o,l)=>s.jsxs(Sr.Fragment,{children:[s.jsx("div",{className:"p-2 text-xs font-medium truncate text-right pr-4",title:o,children:o}),n[l].map((u,d)=>s.jsx("div",{className:"h-10 w-full flex items-center justify-center text-[10px] text-gray-900 dark:text-gray-100 rounded-sm cursor-help",style:{backgroundColor:i(u)},title:`${o} vs ${r[d]}: ${u.toFixed(3)}`,children:Math.abs(u)>.3?u.toFixed(1):""},d))]},l))]})})]})},Dme=({profile:e})=>{var n;if(!e)return null;let t=[];const r=e.dtype;if(r==="Numeric"&&e.histogram)t=e.histogram.map(a=>({name:`${Number(a.start).toFixed(2)}`,fullName:`${Number(a.start).toFixed(2)} - ${Number(a.end).toFixed(2)}`,count:a.count}));else if(r==="Categorical"&&((n=e.categorical_stats)!=null&&n.top_k))t=e.categorical_stats.top_k.map(a=>({name:String(a.value).substring(0,15)+(String(a.value).length>15?"...":""),fullName:String(a.value),count:a.count}));else return s.jsx("div",{className:"text-gray-500 text-sm italic p-4 text-center",children:"No distribution data available for this type"});return t.length===0?s.jsx("div",{className:"text-gray-500 text-sm italic p-4 text-center",children:"No data points"}):s.jsx("div",{className:"h-64 w-full",children:s.jsx(gs,{width:"100%",height:"100%",children:s.jsxs(yy,{data:t,margin:{top:5,right:30,left:20,bottom:30},children:[s.jsx(ys,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),s.jsx(xs,{dataKey:"name",tick:{fontSize:11,fill:"#6b7280"},interval:"preserveStartEnd",angle:-45,textAnchor:"end"}),s.jsx(vs,{tick:{fontSize:11,fill:"#6b7280"}}),s.jsx(go,{content:({active:a,payload:i})=>{if(a&&i&&i.length){const o=i[0].payload;return s.jsxs("div",{className:"bg-gray-800 text-white text-xs p-2 rounded shadow-lg",children:[s.jsx("p",{className:"font-semibold mb-1",children:o.fullName}),s.jsxs("p",{children:["Count: ",o.count]})]})}return null}}),s.jsx(Xf,{dataKey:"count",radius:[4,4,0,0],children:t.map((a,i)=>s.jsx(ay,{fill:r==="Numeric"?"#3b82f6":"#8b5cf6"},`cell-${i}`))})]})})})};function _z(e,t){const r=x.useRef(t);x.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}function Rme(e,t,r){t.center!==r.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==r.radius&&e.setRadius(t.radius)}const zme=1;function Fme(e){return Object.freeze({__version:zme,map:e})}function $me(e,t){return Object.freeze({...e,...t})}const jz=x.createContext(null),kz=jz.Provider;function Lk(){const e=x.useContext(jz);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Bme(e){function t(r,n){const{instance:a,context:i}=e(r).current;return x.useImperativeHandle(n,()=>a),r.children==null?null:Sr.createElement(kz,{value:i},r.children)}return x.forwardRef(t)}function Ume(e){function t(r,n){const[a,i]=x.useState(!1),{instance:o}=e(r,i).current;x.useImperativeHandle(n,()=>o),x.useEffect(function(){a&&o.update()},[o,a,r.children]);const l=o._contentNode;return l?Rc.createPortal(r.children,l):null}return x.forwardRef(t)}function Hme(e){function t(r,n){const{instance:a}=e(r).current;return x.useImperativeHandle(n,()=>a),null}return x.forwardRef(t)}function Dk(e,t){const r=x.useRef();x.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function xy(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}function Wme(e,t){return function(n,a){const i=Lk(),o=e(xy(n,i),i);return _z(i.map,n.attribution),Dk(o.current,n.eventHandlers),t(o.current,i,n,a),o}}var r_={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,n){n(t)})(SF,function(r){var n="1.9.4";function a(c){var m,v,S,E;for(v=1,S=arguments.length;v<S;v++){E=arguments[v];for(m in E)c[m]=E[m]}return c}var i=Object.create||function(){function c(){}return function(m){return c.prototype=m,new c}}();function o(c,m){var v=Array.prototype.slice;if(c.bind)return c.bind.apply(c,v.call(arguments,1));var S=v.call(arguments,2);return function(){return c.apply(m,S.length?S.concat(v.call(arguments)):arguments)}}var l=0;function u(c){return"_leaflet_id"in c||(c._leaflet_id=++l),c._leaflet_id}function d(c,m,v){var S,E,R,K;return K=function(){S=!1,E&&(R.apply(v,E),E=!1)},R=function(){S?E=arguments:(c.apply(v,arguments),setTimeout(K,m),S=!0)},R}function f(c,m,v){var S=m[1],E=m[0],R=S-E;return c===S&&v?c:((c-E)%R+R)%R+E}function h(){return!1}function p(c,m){if(m===!1)return c;var v=Math.pow(10,m===void 0?6:m);return Math.round(c*v)/v}function g(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function y(c){return g(c).split(/\s+/)}function b(c,m){Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?i(c.options):{});for(var v in m)c.options[v]=m[v];return c.options}function _(c,m,v){var S=[];for(var E in c)S.push(encodeURIComponent(v?E.toUpperCase():E)+"="+encodeURIComponent(c[E]));return(!m||m.indexOf("?")===-1?"?":"&")+S.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function k(c,m){return c.replace(w,function(v,S){var E=m[S];if(E===void 0)throw new Error("No value provided for variable "+v);return typeof E=="function"&&(E=E(m)),E})}var j=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};function N(c,m){for(var v=0;v<c.length;v++)if(c[v]===m)return v;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function C(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}var A=0;function O(c){var m=+new Date,v=Math.max(0,16-(m-A));return A=m+v,window.setTimeout(c,v)}var T=window.requestAnimationFrame||C("RequestAnimationFrame")||O,$=window.cancelAnimationFrame||C("CancelAnimationFrame")||C("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)};function I(c,m,v){if(v&&T===O)c.call(m);else return T.call(window,o(c,m))}function z(c){c&&$.call(window,c)}var U={__proto__:null,extend:a,create:i,bind:o,get lastId(){return l},stamp:u,throttle:d,wrapNum:f,falseFn:h,formatNum:p,trim:g,splitWords:y,setOptions:b,getParamString:_,template:k,isArray:j,indexOf:N,emptyImageUrl:P,requestFn:T,cancelFn:$,requestAnimFrame:I,cancelAnimFrame:z};function F(){}F.extend=function(c){var m=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=m.__super__=this.prototype,S=i(v);S.constructor=m,m.prototype=S;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(m[E]=this[E]);return c.statics&&a(m,c.statics),c.includes&&(q(c.includes),a.apply(null,[S].concat(c.includes))),a(S,c),delete S.statics,delete S.includes,S.options&&(S.options=v.options?i(v.options):{},a(S.options,c.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,K=S._initHooks.length;R<K;R++)S._initHooks[R].call(this)}},m},F.include=function(c){var m=this.prototype.options;return a(this.prototype,c),c.options&&(this.prototype.options=m,this.mergeOptions(c.options)),this},F.mergeOptions=function(c){return a(this.prototype.options,c),this},F.addInitHook=function(c){var m=Array.prototype.slice.call(arguments,1),v=typeof c=="function"?c:function(){this[c].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function q(c){if(!(typeof L>"u"||!L||!L.Mixin)){c=j(c)?c:[c];for(var m=0;m<c.length;m++)c[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var H={on:function(c,m,v){if(typeof c=="object")for(var S in c)this._on(S,c[S],m);else{c=y(c);for(var E=0,R=c.length;E<R;E++)this._on(c[E],m,v)}return this},off:function(c,m,v){if(!arguments.length)delete this._events;else if(typeof c=="object")for(var S in c)this._off(S,c[S],m);else{c=y(c);for(var E=arguments.length===1,R=0,K=c.length;R<K;R++)E?this._off(c[R]):this._off(c[R],m,v)}return this},_on:function(c,m,v,S){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(c,m,v)===!1){v===this&&(v=void 0);var E={fn:m,ctx:v};S&&(E.once=!0),this._events=this._events||{},this._events[c]=this._events[c]||[],this._events[c].push(E)}},_off:function(c,m,v){var S,E,R;if(this._events&&(S=this._events[c],!!S)){if(arguments.length===1){if(this._firingCount)for(E=0,R=S.length;E<R;E++)S[E].fn=h;delete this._events[c];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var K=this._listens(c,m,v);if(K!==!1){var J=S[K];this._firingCount&&(J.fn=h,this._events[c]=S=S.slice()),S.splice(K,1)}}},fire:function(c,m,v){if(!this.listens(c,v))return this;var S=a({},m,{type:c,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var E=this._events[c];if(E){this._firingCount=this._firingCount+1||1;for(var R=0,K=E.length;R<K;R++){var J=E[R],ne=J.fn;J.once&&this.off(c,ne,J.ctx),ne.call(J.ctx||this,S)}this._firingCount--}}return v&&this._propagateEvent(S),this},listens:function(c,m,v,S){typeof c!="string"&&console.warn('"string" type argument expected');var E=m;typeof m!="function"&&(S=!!m,E=void 0,v=void 0);var R=this._events&&this._events[c];if(R&&R.length&&this._listens(c,E,v)!==!1)return!0;if(S){for(var K in this._eventParents)if(this._eventParents[K].listens(c,m,v,S))return!0}return!1},_listens:function(c,m,v){if(!this._events)return!1;var S=this._events[c]||[];if(!m)return!!S.length;v===this&&(v=void 0);for(var E=0,R=S.length;E<R;E++)if(S[E].fn===m&&S[E].ctx===v)return E;return!1},once:function(c,m,v){if(typeof c=="object")for(var S in c)this._on(S,c[S],m,!0);else{c=y(c);for(var E=0,R=c.length;E<R;E++)this._on(c[E],m,v,!0)}return this},addEventParent:function(c){return this._eventParents=this._eventParents||{},this._eventParents[u(c)]=c,this},removeEventParent:function(c){return this._eventParents&&delete this._eventParents[u(c)],this},_propagateEvent:function(c){for(var m in this._eventParents)this._eventParents[m].fire(c.type,a({layer:c.target,propagatedFrom:c.target},c),!0)}};H.addEventListener=H.on,H.removeEventListener=H.clearAllEventListeners=H.off,H.addOneTimeEventListener=H.once,H.fireEvent=H.fire,H.hasEventListeners=H.listens;var W=F.extend(H);function M(c,m,v){this.x=v?Math.round(c):c,this.y=v?Math.round(m):m}var D=Math.trunc||function(c){return c>0?Math.floor(c):Math.ceil(c)};M.prototype={clone:function(){return new M(this.x,this.y)},add:function(c){return this.clone()._add(B(c))},_add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.clone()._subtract(B(c))},_subtract:function(c){return this.x-=c.x,this.y-=c.y,this},divideBy:function(c){return this.clone()._divideBy(c)},_divideBy:function(c){return this.x/=c,this.y/=c,this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){return this.x*=c,this.y*=c,this},scaleBy:function(c){return new M(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new M(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=D(this.x),this.y=D(this.y),this},distanceTo:function(c){c=B(c);var m=c.x-this.x,v=c.y-this.y;return Math.sqrt(m*m+v*v)},equals:function(c){return c=B(c),c.x===this.x&&c.y===this.y},contains:function(c){return c=B(c),Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function B(c,m,v){return c instanceof M?c:j(c)?new M(c[0],c[1]):c==null?c:typeof c=="object"&&"x"in c&&"y"in c?new M(c.x,c.y):new M(c,m,v)}function V(c,m){if(c)for(var v=m?[c,m]:c,S=0,E=v.length;S<E;S++)this.extend(v[S])}V.prototype={extend:function(c){var m,v;if(!c)return this;if(c instanceof M||typeof c[0]=="number"||"x"in c)m=v=B(c);else if(c=G(c),m=c.min,v=c.max,!m||!v)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=v.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(c){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){var m,v;return typeof c[0]=="number"||c instanceof M?c=B(c):c=G(c),c instanceof V?(m=c.min,v=c.max):m=v=c,m.x>=this.min.x&&v.x<=this.max.x&&m.y>=this.min.y&&v.y<=this.max.y},intersects:function(c){c=G(c);var m=this.min,v=this.max,S=c.min,E=c.max,R=E.x>=m.x&&S.x<=v.x,K=E.y>=m.y&&S.y<=v.y;return R&&K},overlaps:function(c){c=G(c);var m=this.min,v=this.max,S=c.min,E=c.max,R=E.x>m.x&&S.x<v.x,K=E.y>m.y&&S.y<v.y;return R&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(c){var m=this.min,v=this.max,S=Math.abs(m.x-v.x)*c,E=Math.abs(m.y-v.y)*c;return G(B(m.x-S,m.y-E),B(v.x+S,v.y+E))},equals:function(c){return c?(c=G(c),this.min.equals(c.getTopLeft())&&this.max.equals(c.getBottomRight())):!1}};function G(c,m){return!c||c instanceof V?c:new V(c,m)}function Z(c,m){if(c)for(var v=m?[c,m]:c,S=0,E=v.length;S<E;S++)this.extend(v[S])}Z.prototype={extend:function(c){var m=this._southWest,v=this._northEast,S,E;if(c instanceof ie)S=c,E=c;else if(c instanceof Z){if(S=c._southWest,E=c._northEast,!S||!E)return this}else return c?this.extend(se(c)||Q(c)):this;return!m&&!v?(this._southWest=new ie(S.lat,S.lng),this._northEast=new ie(E.lat,E.lng)):(m.lat=Math.min(S.lat,m.lat),m.lng=Math.min(S.lng,m.lng),v.lat=Math.max(E.lat,v.lat),v.lng=Math.max(E.lng,v.lng)),this},pad:function(c){var m=this._southWest,v=this._northEast,S=Math.abs(m.lat-v.lat)*c,E=Math.abs(m.lng-v.lng)*c;return new Z(new ie(m.lat-S,m.lng-E),new ie(v.lat+S,v.lng+E))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){typeof c[0]=="number"||c instanceof ie||"lat"in c?c=se(c):c=Q(c);var m=this._southWest,v=this._northEast,S,E;return c instanceof Z?(S=c.getSouthWest(),E=c.getNorthEast()):S=E=c,S.lat>=m.lat&&E.lat<=v.lat&&S.lng>=m.lng&&E.lng<=v.lng},intersects:function(c){c=Q(c);var m=this._southWest,v=this._northEast,S=c.getSouthWest(),E=c.getNorthEast(),R=E.lat>=m.lat&&S.lat<=v.lat,K=E.lng>=m.lng&&S.lng<=v.lng;return R&&K},overlaps:function(c){c=Q(c);var m=this._southWest,v=this._northEast,S=c.getSouthWest(),E=c.getNorthEast(),R=E.lat>m.lat&&S.lat<v.lat,K=E.lng>m.lng&&S.lng<v.lng;return R&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(c,m){return c?(c=Q(c),this._southWest.equals(c.getSouthWest(),m)&&this._northEast.equals(c.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Q(c,m){return c instanceof Z?c:new Z(c,m)}function ie(c,m,v){if(isNaN(c)||isNaN(m))throw new Error("Invalid LatLng object: ("+c+", "+m+")");this.lat=+c,this.lng=+m,v!==void 0&&(this.alt=+v)}ie.prototype={equals:function(c,m){if(!c)return!1;c=se(c);var v=Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng));return v<=(m===void 0?1e-9:m)},toString:function(c){return"LatLng("+p(this.lat,c)+", "+p(this.lng,c)+")"},distanceTo:function(c){return le.distance(this,se(c))},wrap:function(){return le.wrapLatLng(this)},toBounds:function(c){var m=180*c/40075017,v=m/Math.cos(Math.PI/180*this.lat);return Q([this.lat-m,this.lng-v],[this.lat+m,this.lng+v])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function se(c,m,v){return c instanceof ie?c:j(c)&&typeof c[0]!="object"?c.length===3?new ie(c[0],c[1],c[2]):c.length===2?new ie(c[0],c[1]):null:c==null?c:typeof c=="object"&&"lat"in c?new ie(c.lat,"lng"in c?c.lng:c.lon,c.alt):m===void 0?null:new ie(c,m,v)}var oe={latLngToPoint:function(c,m){var v=this.projection.project(c),S=this.scale(m);return this.transformation._transform(v,S)},pointToLatLng:function(c,m){var v=this.scale(m),S=this.transformation.untransform(c,v);return this.projection.unproject(S)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var m=this.projection.bounds,v=this.scale(c),S=this.transformation.transform(m.min,v),E=this.transformation.transform(m.max,v);return new V(S,E)},infinite:!1,wrapLatLng:function(c){var m=this.wrapLng?f(c.lng,this.wrapLng,!0):c.lng,v=this.wrapLat?f(c.lat,this.wrapLat,!0):c.lat,S=c.alt;return new ie(v,m,S)},wrapLatLngBounds:function(c){var m=c.getCenter(),v=this.wrapLatLng(m),S=m.lat-v.lat,E=m.lng-v.lng;if(S===0&&E===0)return c;var R=c.getSouthWest(),K=c.getNorthEast(),J=new ie(R.lat-S,R.lng-E),ne=new ie(K.lat-S,K.lng-E);return new Z(J,ne)}},le=a({},oe,{wrapLng:[-180,180],R:6371e3,distance:function(c,m){var v=Math.PI/180,S=c.lat*v,E=m.lat*v,R=Math.sin((m.lat-c.lat)*v/2),K=Math.sin((m.lng-c.lng)*v/2),J=R*R+Math.cos(S)*Math.cos(E)*K*K,ne=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*ne}}),X=6378137,me={R:X,MAX_LATITUDE:85.0511287798,project:function(c){var m=Math.PI/180,v=this.MAX_LATITUDE,S=Math.max(Math.min(v,c.lat),-v),E=Math.sin(S*m);return new M(this.R*c.lng*m,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(c){var m=180/Math.PI;return new ie((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*m,c.x*m/this.R)},bounds:function(){var c=X*Math.PI;return new V([-c,-c],[c,c])}()};function fe(c,m,v,S){if(j(c)){this._a=c[0],this._b=c[1],this._c=c[2],this._d=c[3];return}this._a=c,this._b=m,this._c=v,this._d=S}fe.prototype={transform:function(c,m){return this._transform(c.clone(),m)},_transform:function(c,m){return m=m||1,c.x=m*(this._a*c.x+this._b),c.y=m*(this._c*c.y+this._d),c},untransform:function(c,m){return m=m||1,new M((c.x/m-this._b)/this._a,(c.y/m-this._d)/this._c)}};function te(c,m,v,S){return new fe(c,m,v,S)}var pe=a({},le,{code:"EPSG:3857",projection:me,transformation:function(){var c=.5/(Math.PI*me.R);return te(c,.5,-c,.5)}()}),we=a({},pe,{code:"EPSG:900913"});function Oe(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function Pe(c,m){var v="",S,E,R,K,J,ne;for(S=0,R=c.length;S<R;S++){for(J=c[S],E=0,K=J.length;E<K;E++)ne=J[E],v+=(E?"L":"M")+ne.x+" "+ne.y;v+=m?ke.svg?"z":"x":""}return v||"M0 0"}var Ve=document.documentElement.style,Ht="ActiveXObject"in window,Br=Ht&&!document.addEventListener,ee="msLaunchUri"in navigator&&!("documentMode"in document),he=Sn("webkit"),Ne=Sn("android"),_e=Sn("android 2")||Sn("android 3"),Re=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),dt=Ne&&Sn("Google")&&Re<537&&!("AudioNode"in window),Qt=!!window.opera,St=!ee&&Sn("chrome"),Ur=Sn("gecko")&&!he&&!Qt&&!Ht,Dt=!St&&Sn("safari"),Pt=Sn("phantom"),Hr="OTransition"in Ve,Ya=navigator.platform.indexOf("Win")===0,Tt=Ht&&"transition"in Ve,Nn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_e,Jf="MozPerspective"in Ve,by=!window.L_DISABLE_3D&&(Tt||Nn||Jf)&&!Hr&&!Pt,qs=typeof orientation<"u"||Sn("mobile"),wy=qs&&he,_y=qs&&Nn,eh=!window.PointerEvent&&window.MSPointerEvent,th=!!(window.PointerEvent||eh),rh="ontouchstart"in window||!!window.TouchEvent,jy=!window.L_NO_TOUCH&&(rh||th),ky=qs&&Qt,Ny=qs&&Ur,Sy=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Py=function(){var c=!1;try{var m=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",h,m),window.removeEventListener("testPassiveEventSupport",h,m)}catch{}return c}(),Cy=function(){return!!document.createElement("canvas").getContext}(),tu=!!(document.createElementNS&&Oe("svg").createSVGRect),Ey=!!tu&&function(){var c=document.createElement("div");return c.innerHTML="<svg/>",(c.firstChild&&c.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Oy=!tu&&function(){try{var c=document.createElement("div");c.innerHTML='<v:shape adj="1"/>';var m=c.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}}(),Ay=navigator.platform.indexOf("Mac")===0,Ty=navigator.platform.indexOf("Linux")===0;function Sn(c){return navigator.userAgent.toLowerCase().indexOf(c)>=0}var ke={ie:Ht,ielt9:Br,edge:ee,webkit:he,android:Ne,android23:_e,androidStock:dt,opera:Qt,chrome:St,gecko:Ur,safari:Dt,phantom:Pt,opera12:Hr,win:Ya,ie3d:Tt,webkit3d:Nn,gecko3d:Jf,any3d:by,mobile:qs,mobileWebkit:wy,mobileWebkit3d:_y,msPointer:eh,pointer:th,touch:jy,touchNative:rh,mobileOpera:ky,mobileGecko:Ny,retina:Sy,passiveEvents:Py,canvas:Cy,svg:tu,vml:Oy,inlineSvg:Ey,mac:Ay,linux:Ty},nh=ke.msPointer?"MSPointerDown":"pointerdown",ah=ke.msPointer?"MSPointerMove":"pointermove",ih=ke.msPointer?"MSPointerUp":"pointerup",sh=ke.msPointer?"MSPointerCancel":"pointercancel",ru={touchstart:nh,touchmove:ah,touchend:ih,touchcancel:sh},nu={touchstart:zy,touchmove:Zs,touchend:Zs,touchcancel:Zs},Ga={},au=!1;function My(c,m,v){return m==="touchstart"&&Ry(),nu[m]?(v=nu[m].bind(this,v),c.addEventListener(ru[m],v,!1),v):(console.warn("wrong event specified:",m),h)}function Iy(c,m,v){if(!ru[m]){console.warn("wrong event specified:",m);return}c.removeEventListener(ru[m],v,!1)}function Ly(c){Ga[c.pointerId]=c}function Dy(c){Ga[c.pointerId]&&(Ga[c.pointerId]=c)}function oh(c){delete Ga[c.pointerId]}function Ry(){au||(document.addEventListener(nh,Ly,!0),document.addEventListener(ah,Dy,!0),document.addEventListener(ih,oh,!0),document.addEventListener(sh,oh,!0),au=!0)}function Zs(c,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var v in Ga)m.touches.push(Ga[v]);m.changedTouches=[m],c(m)}}function zy(c,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&fr(m),Zs(c,m)}function Fy(c){var m={},v,S;for(S in c)v=c[S],m[S]=v&&v.bind?v.bind(c):v;return c=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var $y=200;function By(c,m){c.addEventListener("dblclick",m);var v=0,S;function E(R){if(R.detail!==1){S=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var K=Bk(R);if(!(K.some(function(ne){return ne instanceof HTMLLabelElement&&ne.attributes.for})&&!K.some(function(ne){return ne instanceof HTMLInputElement||ne instanceof HTMLSelectElement}))){var J=Date.now();J-v<=$y?(S++,S===2&&m(Fy(R))):S=1,v=J}}}return c.addEventListener("click",E),{dblclick:m,simDblclick:E}}function Uy(c,m){c.removeEventListener("dblclick",m.dblclick),c.removeEventListener("click",m.simDblclick)}var iu=cl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ys=cl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),su=Ys==="webkitTransition"||Ys==="OTransition"?Ys+"End":"transitionend";function lh(c){return typeof c=="string"?document.getElementById(c):c}function Gs(c,m){var v=c.style[m]||c.currentStyle&&c.currentStyle[m];if((!v||v==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(c,null);v=S?S[m]:null}return v==="auto"?null:v}function Be(c,m,v){var S=document.createElement(c);return S.className=m||"",v&&v.appendChild(S),S}function it(c){var m=c.parentNode;m&&m.removeChild(c)}function sl(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function Ui(c){var m=c.parentNode;m&&m.lastChild!==c&&m.appendChild(c)}function Hi(c){var m=c.parentNode;m&&m.firstChild!==c&&m.insertBefore(c,m.firstChild)}function ou(c,m){if(c.classList!==void 0)return c.classList.contains(m);var v=ll(c);return v.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(v)}function Ae(c,m){if(c.classList!==void 0)for(var v=y(m),S=0,E=v.length;S<E;S++)c.classList.add(v[S]);else if(!ou(c,m)){var R=ll(c);ol(c,(R?R+" ":"")+m)}}function vt(c,m){c.classList!==void 0?c.classList.remove(m):ol(c,g((" "+ll(c)+" ").replace(" "+m+" "," ")))}function ol(c,m){c.className.baseVal===void 0?c.className=m:c.className.baseVal=m}function ll(c){return c.correspondingElement&&(c=c.correspondingElement),c.className.baseVal===void 0?c.className:c.className.baseVal}function Wr(c,m){"opacity"in c.style?c.style.opacity=m:"filter"in c.style&&lu(c,m)}function lu(c,m){var v=!1,S="DXImageTransform.Microsoft.Alpha";try{v=c.filters.item(S)}catch{if(m===1)return}m=Math.round(m*100),v?(v.Enabled=m!==100,v.Opacity=m):c.style.filter+=" progid:"+S+"(opacity="+m+")"}function cl(c){for(var m=document.documentElement.style,v=0;v<c.length;v++)if(c[v]in m)return c[v];return!1}function Xa(c,m,v){var S=m||new M(0,0);c.style[iu]=(ke.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(v?" scale("+v+")":"")}function bt(c,m){c._leaflet_pos=m,ke.any3d?Xa(c,m):(c.style.left=m.x+"px",c.style.top=m.y+"px")}function Xs(c){return c._leaflet_pos||new M(0,0)}var cu,uu,Hy;if("onselectstart"in document)cu=function(){Te(window,"selectstart",fr)},uu=function(){tt(window,"selectstart",fr)};else{var du=cl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);cu=function(){if(du){var c=document.documentElement.style;Hy=c[du],c[du]="none"}},uu=function(){du&&(document.documentElement.style[du]=Hy,Hy=void 0)}}function Wy(){Te(window,"dragstart",fr)}function Vy(){tt(window,"dragstart",fr)}var ch,Ky;function qy(c){for(;c.tabIndex===-1;)c=c.parentNode;c.style&&(uh(),ch=c,Ky=c.style.outlineStyle,c.style.outlineStyle="none",Te(window,"keydown",uh))}function uh(){ch&&(ch.style.outlineStyle=Ky,ch=void 0,Ky=void 0,tt(window,"keydown",uh))}function Fk(c){do c=c.parentNode;while((!c.offsetWidth||!c.offsetHeight)&&c!==document.body);return c}function Zy(c){var m=c.getBoundingClientRect();return{x:m.width/c.offsetWidth||1,y:m.height/c.offsetHeight||1,boundingClientRect:m}}var Ez={__proto__:null,TRANSFORM:iu,TRANSITION:Ys,TRANSITION_END:su,get:lh,getStyle:Gs,create:Be,remove:it,empty:sl,toFront:Ui,toBack:Hi,hasClass:ou,addClass:Ae,removeClass:vt,setClass:ol,getClass:ll,setOpacity:Wr,testProp:cl,setTransform:Xa,setPosition:bt,getPosition:Xs,get disableTextSelection(){return cu},get enableTextSelection(){return uu},disableImageDrag:Wy,enableImageDrag:Vy,preventOutline:qy,restoreOutline:uh,getSizedParentNode:Fk,getScale:Zy};function Te(c,m,v,S){if(m&&typeof m=="object")for(var E in m)Gy(c,E,m[E],v);else{m=y(m);for(var R=0,K=m.length;R<K;R++)Gy(c,m[R],v,S)}return this}var _a="_leaflet_events";function tt(c,m,v,S){if(arguments.length===1)$k(c),delete c[_a];else if(m&&typeof m=="object")for(var E in m)Xy(c,E,m[E],v);else if(m=y(m),arguments.length===2)$k(c,function(J){return N(m,J)!==-1});else for(var R=0,K=m.length;R<K;R++)Xy(c,m[R],v,S);return this}function $k(c,m){for(var v in c[_a]){var S=v.split(/\d/)[0];(!m||m(S))&&Xy(c,S,null,null,v)}}var Yy={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Gy(c,m,v,S){var E=m+u(v)+(S?"_"+u(S):"");if(c[_a]&&c[_a][E])return this;var R=function(J){return v.call(S||c,J||window.event)},K=R;!ke.touchNative&&ke.pointer&&m.indexOf("touch")===0?R=My(c,m,R):ke.touch&&m==="dblclick"?R=By(c,R):"addEventListener"in c?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?c.addEventListener(Yy[m]||m,R,ke.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(R=function(J){J=J||window.event,Jy(c,J)&&K(J)},c.addEventListener(Yy[m],R,!1)):c.addEventListener(m,K,!1):c.attachEvent("on"+m,R),c[_a]=c[_a]||{},c[_a][E]=R}function Xy(c,m,v,S,E){E=E||m+u(v)+(S?"_"+u(S):"");var R=c[_a]&&c[_a][E];if(!R)return this;!ke.touchNative&&ke.pointer&&m.indexOf("touch")===0?Iy(c,m,R):ke.touch&&m==="dblclick"?Uy(c,R):"removeEventListener"in c?c.removeEventListener(Yy[m]||m,R,!1):c.detachEvent("on"+m,R),c[_a][E]=null}function Qs(c){return c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0,this}function Qy(c){return Gy(c,"wheel",Qs),this}function fu(c){return Te(c,"mousedown touchstart dblclick contextmenu",Qs),c._leaflet_disable_click=!0,this}function fr(c){return c.preventDefault?c.preventDefault():c.returnValue=!1,this}function Js(c){return fr(c),Qs(c),this}function Bk(c){if(c.composedPath)return c.composedPath();for(var m=[],v=c.target;v;)m.push(v),v=v.parentNode;return m}function Uk(c,m){if(!m)return new M(c.clientX,c.clientY);var v=Zy(m),S=v.boundingClientRect;return new M((c.clientX-S.left)/v.x-m.clientLeft,(c.clientY-S.top)/v.y-m.clientTop)}var Oz=ke.linux&&ke.chrome?window.devicePixelRatio:ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Hk(c){return ke.edge?c.wheelDeltaY/2:c.deltaY&&c.deltaMode===0?-c.deltaY/Oz:c.deltaY&&c.deltaMode===1?-c.deltaY*20:c.deltaY&&c.deltaMode===2?-c.deltaY*60:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&Math.abs(c.detail)<32765?-c.detail*20:c.detail?c.detail/-32765*60:0}function Jy(c,m){var v=m.relatedTarget;if(!v)return!0;try{for(;v&&v!==c;)v=v.parentNode}catch{return!1}return v!==c}var Az={__proto__:null,on:Te,off:tt,stopPropagation:Qs,disableScrollPropagation:Qy,disableClickPropagation:fu,preventDefault:fr,stop:Js,getPropagationPath:Bk,getMousePosition:Uk,getWheelDelta:Hk,isExternalTarget:Jy,addListener:Te,removeListener:tt},Wk=W.extend({run:function(c,m,v,S){this.stop(),this._el=c,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=Xs(c),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=I(this._animate,this),this._step()},_step:function(c){var m=+new Date-this._startTime,v=this._duration*1e3;m<v?this._runFrame(this._easeOut(m/v),c):(this._runFrame(1),this._complete())},_runFrame:function(c,m){var v=this._startPos.add(this._offset.multiplyBy(c));m&&v._round(),bt(this._el,v),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),Ue=W.extend({options:{crs:pe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,m){m=b(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(c),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(se(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ys&&ke.any3d&&!ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,su,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,m,v){if(m=m===void 0?this._zoom:this._limitZoom(m),c=this._limitCenter(se(c),m,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=a({animate:v.animate},v.zoom),v.pan=a({animate:v.animate,duration:v.duration},v.pan));var S=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,m,v.zoom):this._tryAnimatedPan(c,v.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(c,m,v.pan&&v.pan.noMoveStart),this},setZoom:function(c,m){return this._loaded?this.setView(this.getCenter(),c,{zoom:m}):(this._zoom=c,this)},zoomIn:function(c,m){return c=c||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+c,m)},zoomOut:function(c,m){return c=c||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-c,m)},setZoomAround:function(c,m,v){var S=this.getZoomScale(m),E=this.getSize().divideBy(2),R=c instanceof M?c:this.latLngToContainerPoint(c),K=R.subtract(E).multiplyBy(1-1/S),J=this.containerPointToLatLng(E.add(K));return this.setView(J,m,{zoom:v})},_getBoundsCenterZoom:function(c,m){m=m||{},c=c.getBounds?c.getBounds():Q(c);var v=B(m.paddingTopLeft||m.padding||[0,0]),S=B(m.paddingBottomRight||m.padding||[0,0]),E=this.getBoundsZoom(c,!1,v.add(S));if(E=typeof m.maxZoom=="number"?Math.min(m.maxZoom,E):E,E===1/0)return{center:c.getCenter(),zoom:E};var R=S.subtract(v).divideBy(2),K=this.project(c.getSouthWest(),E),J=this.project(c.getNorthEast(),E),ne=this.unproject(K.add(J).divideBy(2).add(R),E);return{center:ne,zoom:E}},fitBounds:function(c,m){if(c=Q(c),!c.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(c,m);return this.setView(v.center,v.zoom,m)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,m){return this.setView(c,this._zoom,{pan:m})},panBy:function(c,m){if(c=B(c).round(),m=m||{},!c.x&&!c.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wk,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){Ae(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(c).round();this._panAnim.run(this._mapPane,v,m.duration||.25,m.easeLinearity)}else this._rawPanBy(c),this.fire("move").fire("moveend");return this},flyTo:function(c,m,v){if(v=v||{},v.animate===!1||!ke.any3d)return this.setView(c,m,v);this._stop();var S=this.project(this.getCenter()),E=this.project(c),R=this.getSize(),K=this._zoom;c=se(c),m=m===void 0?K:m;var J=Math.max(R.x,R.y),ne=J*this.getZoomScale(K,m),ce=E.distanceTo(S)||1,ge=1.42,Ee=ge*ge;function Le(Rt){var _h=Rt?-1:1,vF=Rt?ne:J,bF=ne*ne-J*J+_h*Ee*Ee*ce*ce,wF=2*vF*Ee*ce,ux=bF/wF,kN=Math.sqrt(ux*ux+1)-ux,_F=kN<1e-9?-18:Math.log(kN);return _F}function Er(Rt){return(Math.exp(Rt)-Math.exp(-Rt))/2}function Jt(Rt){return(Math.exp(Rt)+Math.exp(-Rt))/2}function Cn(Rt){return Er(Rt)/Jt(Rt)}var Vr=Le(0);function pl(Rt){return J*(Jt(Vr)/Jt(Vr+ge*Rt))}function pF(Rt){return J*(Jt(Vr)*Cn(Vr+ge*Rt)-Er(Vr))/Ee}function gF(Rt){return 1-Math.pow(1-Rt,1.5)}var yF=Date.now(),_N=(Le(1)-Vr)/ge,xF=v.duration?1e3*v.duration:1e3*_N*.8;function jN(){var Rt=(Date.now()-yF)/xF,_h=gF(Rt)*_N;Rt<=1?(this._flyToFrame=I(jN,this),this._move(this.unproject(S.add(E.subtract(S).multiplyBy(pF(_h)/ce)),K),this.getScaleZoom(J/pl(_h),K),{flyTo:!0})):this._move(c,m)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),jN.call(this),this},flyToBounds:function(c,m){var v=this._getBoundsCenterZoom(c,m);return this.flyTo(v.center,v.zoom,m)},setMaxBounds:function(c){return c=Q(c),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),c.isValid()?(this.options.maxBounds=c,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(c){var m=this.options.minZoom;return this.options.minZoom=c,this._loaded&&m!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var m=this.options.maxZoom;return this.options.maxZoom=c,this._loaded&&m!==c&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,m){this._enforcingBounds=!0;var v=this.getCenter(),S=this._limitCenter(v,this._zoom,Q(c));return v.equals(S)||this.panTo(S,m),this._enforcingBounds=!1,this},panInside:function(c,m){m=m||{};var v=B(m.paddingTopLeft||m.padding||[0,0]),S=B(m.paddingBottomRight||m.padding||[0,0]),E=this.project(this.getCenter()),R=this.project(c),K=this.getPixelBounds(),J=G([K.min.add(v),K.max.subtract(S)]),ne=J.getSize();if(!J.contains(R)){this._enforcingBounds=!0;var ce=R.subtract(J.getCenter()),ge=J.extend(R).getSize().subtract(ne);E.x+=ce.x<0?-ge.x:ge.x,E.y+=ce.y<0?-ge.y:ge.y,this.panTo(this.unproject(E),m),this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=a({animate:!1,pan:!0},c===!0?{animate:!0}:c);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),S=m.divideBy(2).round(),E=v.divideBy(2).round(),R=S.subtract(E);return!R.x&&!R.y?this:(c.animate&&c.pan?this.panBy(R):(c.pan&&this._rawPanBy(R),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(c){if(c=this._locateOptions=a({timeout:1e4,watch:!1},c),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=o(this._handleGeolocationResponse,this),v=o(this._handleGeolocationError,this);return c.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,v,c):navigator.geolocation.getCurrentPosition(m,v,c),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(c){if(this._container._leaflet_id){var m=c.code,v=c.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(c){if(this._container._leaflet_id){var m=c.coords.latitude,v=c.coords.longitude,S=new ie(m,v),E=S.toBounds(c.coords.accuracy*2),R=this._locateOptions;if(R.setView){var K=this.getBoundsZoom(E);this.setView(S,R.maxZoom?Math.min(K,R.maxZoom):K)}var J={latlng:S,bounds:E,timestamp:c.timestamp};for(var ne in c.coords)typeof c.coords[ne]=="number"&&(J[ne]=c.coords[ne]);this.fire("locationfound",J)}},addHandler:function(c,m){if(!m)return this;var v=this[c]=new m(this);return this._handlers.push(v),this.options[c]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),it(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var c;for(c in this._layers)this._layers[c].remove();for(c in this._panes)it(this._panes[c]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(c,m){var v="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":""),S=Be("div",v,m||this._mapPane);return c&&(this._panes[c]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=this.getPixelBounds(),m=this.unproject(c.getBottomLeft()),v=this.unproject(c.getTopRight());return new Z(m,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,m,v){c=Q(c),v=B(v||[0,0]);var S=this.getZoom()||0,E=this.getMinZoom(),R=this.getMaxZoom(),K=c.getNorthWest(),J=c.getSouthEast(),ne=this.getSize().subtract(v),ce=G(this.project(J,S),this.project(K,S)).getSize(),ge=ke.any3d?this.options.zoomSnap:1,Ee=ne.x/ce.x,Le=ne.y/ce.y,Er=m?Math.max(Ee,Le):Math.min(Ee,Le);return S=this.getScaleZoom(Er,S),ge&&(S=Math.round(S/(ge/100))*(ge/100),S=m?Math.ceil(S/ge)*ge:Math.floor(S/ge)*ge),Math.max(E,Math.min(R,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new M(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(c,m){var v=this._getTopLeftPoint(c,m);return new V(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(c===void 0?this.getZoom():c)},getPane:function(c){return typeof c=="string"?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,m){var v=this.options.crs;return m=m===void 0?this._zoom:m,v.scale(c)/v.scale(m)},getScaleZoom:function(c,m){var v=this.options.crs;m=m===void 0?this._zoom:m;var S=v.zoom(c*v.scale(m));return isNaN(S)?1/0:S},project:function(c,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(se(c),m)},unproject:function(c,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(B(c),m)},layerPointToLatLng:function(c){var m=B(c).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(c){var m=this.project(se(c))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(c){return this.options.crs.wrapLatLng(se(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(Q(c))},distance:function(c,m){return this.options.crs.distance(se(c),se(m))},containerPointToLayerPoint:function(c){return B(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return B(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){var m=this.containerPointToLayerPoint(B(c));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(c)))},mouseEventToContainerPoint:function(c){return Uk(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){var m=this._container=lh(c);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Te(m,"scroll",this._onScroll,this),this._containerId=u(m)},_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&ke.any3d,Ae(c,"leaflet-container"+(ke.touch?" leaflet-touch":"")+(ke.retina?" leaflet-retina":"")+(ke.ielt9?" leaflet-oldie":"")+(ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=Gs(c,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(c.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),bt(this._mapPane,new M(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ae(c.markerPane,"leaflet-zoom-hide"),Ae(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,m,v){bt(this._mapPane,new M(0,0));var S=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var E=this._zoom!==m;this._moveStart(E,v)._move(c,m)._moveEnd(E),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(c,m){return c&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(c,m,v,S){m===void 0&&(m=this._zoom);var E=this._zoom!==m;return this._zoom=m,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),S?v&&v.pinch&&this.fire("zoom",v):((E||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(c){return c&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(c){bt(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(c){this._targets={},this._targets[u(this._container)]=this;var m=c?tt:Te;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),ke.any3d&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=I(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,m){for(var v=[],S,E=m==="mouseout"||m==="mouseover",R=c.target||c.srcElement,K=!1;R;){if(S=this._targets[u(R)],S&&(m==="click"||m==="preclick")&&this._draggableMoved(S)){K=!0;break}if(S&&S.listens(m,!0)&&(E&&!Jy(R,c)||(v.push(S),E))||R===this._container)break;R=R.parentNode}return!v.length&&!K&&!E&&this.listens(m,!0)&&(v=[this]),v},_isClickDisabled:function(c){for(;c&&c!==this._container;){if(c._leaflet_disable_click)return!0;c=c.parentNode}},_handleDOMEvent:function(c){var m=c.target||c.srcElement;if(!(!this._loaded||m._leaflet_disable_events||c.type==="click"&&this._isClickDisabled(m))){var v=c.type;v==="mousedown"&&qy(m),this._fireDOMEvent(c,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,m,v){if(c.type==="click"){var S=a({},c);S.type="preclick",this._fireDOMEvent(S,S.type,v)}var E=this._findEventTargets(c,m);if(v){for(var R=[],K=0;K<v.length;K++)v[K].listens(m,!0)&&R.push(v[K]);E=R.concat(E)}if(E.length){m==="contextmenu"&&fr(c);var J=E[0],ne={originalEvent:c};if(c.type!=="keypress"&&c.type!=="keydown"&&c.type!=="keyup"){var ce=J.getLatLng&&(!J._radius||J._radius<=10);ne.containerPoint=ce?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(c),ne.layerPoint=this.containerPointToLayerPoint(ne.containerPoint),ne.latlng=ce?J.getLatLng():this.layerPointToLatLng(ne.layerPoint)}for(K=0;K<E.length;K++)if(E[K].fire(m,ne,!0),ne.originalEvent._stopped||E[K].options.bubblingMouseEvents===!1&&N(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(c){return c=c.dragging&&c.dragging.enabled()?c:this,c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,m=this._handlers.length;c<m;c++)this._handlers[c].disable()},whenReady:function(c,m){return this._loaded?c.call(m||this,{target:this}):this.on("load",c,m),this},_getMapPanePos:function(){return Xs(this._mapPane)||new M(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,m){var v=c&&m!==void 0?this._getNewPixelOrigin(c,m):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,m){var v=this.getSize()._divideBy(2);return this.project(c,m)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,m,v){var S=this._getNewPixelOrigin(v,m);return this.project(c,m)._subtract(S)},_latLngBoundsToNewLayerBounds:function(c,m,v){var S=this._getNewPixelOrigin(v,m);return G([this.project(c.getSouthWest(),m)._subtract(S),this.project(c.getNorthWest(),m)._subtract(S),this.project(c.getSouthEast(),m)._subtract(S),this.project(c.getNorthEast(),m)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,m,v){if(!v)return c;var S=this.project(c,m),E=this.getSize().divideBy(2),R=new V(S.subtract(E),S.add(E)),K=this._getBoundsOffset(R,v,m);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?c:this.unproject(S.add(K),m)},_limitOffset:function(c,m){if(!m)return c;var v=this.getPixelBounds(),S=new V(v.min.add(c),v.max.add(c));return c.add(this._getBoundsOffset(S,m))},_getBoundsOffset:function(c,m,v){var S=G(this.project(m.getNorthEast(),v),this.project(m.getSouthWest(),v)),E=S.min.subtract(c.min),R=S.max.subtract(c.max),K=this._rebound(E.x,-R.x),J=this._rebound(E.y,-R.y);return new M(K,J)},_rebound:function(c,m){return c+m>0?Math.round(c-m)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(m))},_limitZoom:function(c){var m=this.getMinZoom(),v=this.getMaxZoom(),S=ke.any3d?this.options.zoomSnap:1;return S&&(c=Math.round(c/S)*S),Math.max(m,Math.min(v,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,m){var v=this._getCenterOffset(c)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,m),!0)},_createAnimProxy:function(){var c=this._proxy=Be("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c),this.on("zoomanim",function(m){var v=iu,S=this._proxy.style[v];Xa(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),S===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){it(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),m=this.getZoom();Xa(this._proxy,this.project(c,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(c){this._animatingZoom&&c.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,m,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(m),E=this._getCenterOffset(c)._divideBy(1-1/S);return v.animate!==!0&&!this.getSize().contains(E)?!1:(I(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(c,m,!0)},this),!0)},_animateZoom:function(c,m,v,S){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=m,Ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:m,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Tz(c,m){return new Ue(c,m)}var Yn=F.extend({options:{position:"topright"},initialize:function(c){b(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var m=this._map;return m&&m.removeControl(this),this.options.position=c,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(c){this.remove(),this._map=c;var m=this._container=this.onAdd(c),v=this.getPosition(),S=c._controlCorners[v];return Ae(m,"leaflet-control"),v.indexOf("bottom")!==-1?S.insertBefore(m,S.firstChild):S.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(it(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(c){this._map&&c&&c.screenX>0&&c.screenY>0&&this._map.getContainer().focus()}}),hu=function(c){return new Yn(c)};Ue.include({addControl:function(c){return c.addTo(this),this},removeControl:function(c){return c.remove(),this},_initControlPos:function(){var c=this._controlCorners={},m="leaflet-",v=this._controlContainer=Be("div",m+"control-container",this._container);function S(E,R){var K=m+E+" "+m+R;c[E+R]=Be("div",K,v)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)it(this._controlCorners[c]);it(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vk=Yn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,m,v,S){return v<S?-1:S<v?1:0}},initialize:function(c,m,v){b(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in c)this._addLayer(c[S],S);for(S in m)this._addLayer(m[S],S,!0)},onAdd:function(c){this._initLayout(),this._update(),this._map=c,c.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){return Yn.prototype.addTo.call(this,c),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,m){return this._addLayer(c,m),this._map?this._update():this},addOverlay:function(c,m){return this._addLayer(c,m,!0),this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);var m=this._getLayer(u(c));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);return c<this._section.clientHeight?(Ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=c+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var c="leaflet-control-layers",m=this._container=Be("div",c),v=this.options.collapsed;m.setAttribute("aria-haspopup",!0),fu(m),Qy(m);var S=this._section=Be("section",c+"-list");v&&(this._map.on("click",this.collapse,this),Te(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Be("a",c+"-toggle",m);E.href="#",E.title="Layers",E.setAttribute("role","button"),Te(E,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){fr(R),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=Be("div",c+"-base",S),this._separator=Be("div",c+"-separator",S),this._overlaysList=Be("div",c+"-overlays",S),m.appendChild(S)},_getLayer:function(c){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&u(this._layers[m].layer)===c)return this._layers[m]},_addLayer:function(c,m,v){this._map&&c.on("add remove",this._onLayerChange,this),this._layers.push({layer:c,name:m,overlay:v}),this.options.sortLayers&&this._layers.sort(o(function(S,E){return this.options.sortFunction(S.layer,E.layer,S.name,E.name)},this)),this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;sl(this._baseLayersList),sl(this._overlaysList),this._layerControlInputs=[];var c,m,v,S,E=0;for(v=0;v<this._layers.length;v++)S=this._layers[v],this._addItem(S),m=m||S.overlay,c=c||!S.overlay,E+=S.overlay?0:1;return this.options.hideSingleBase&&(c=c&&E>1,this._baseLayersList.style.display=c?"":"none"),this._separator.style.display=m&&c?"":"none",this},_onLayerChange:function(c){this._handlingClick||this._update();var m=this._getLayer(u(c.target)),v=m.overlay?c.type==="add"?"overlayadd":"overlayremove":c.type==="add"?"baselayerchange":null;v&&this._map.fire(v,m)},_createRadioElement:function(c,m){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+c+'"'+(m?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=v,S.firstChild},_addItem:function(c){var m=document.createElement("label"),v=this._map.hasLayer(c.layer),S;c.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=v):S=this._createRadioElement("leaflet-base-layers_"+u(this),v),this._layerControlInputs.push(S),S.layerId=u(c.layer),Te(S,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+c.name;var R=document.createElement("span");m.appendChild(R),R.appendChild(S),R.appendChild(E);var K=c.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var c=this._layerControlInputs,m,v,S=[],E=[];this._handlingClick=!0;for(var R=c.length-1;R>=0;R--)m=c[R],v=this._getLayer(m.layerId).layer,m.checked?S.push(v):m.checked||E.push(v);for(R=0;R<E.length;R++)this._map.hasLayer(E[R])&&this._map.removeLayer(E[R]);for(R=0;R<S.length;R++)this._map.hasLayer(S[R])||this._map.addLayer(S[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,m,v,S=this._map.getZoom(),E=c.length-1;E>=0;E--)m=c[E],v=this._getLayer(m.layerId).layer,m.disabled=v.options.minZoom!==void 0&&S<v.options.minZoom||v.options.maxZoom!==void 0&&S>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var c=this._section;this._preventClick=!0,Te(c,"click",fr),this.expand();var m=this;setTimeout(function(){tt(c,"click",fr),m._preventClick=!1})}}),Mz=function(c,m,v){return new Vk(c,m,v)},ex=Yn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(c){var m="leaflet-control-zoom",v=Be("div",m+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,m+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,m+"-out",v,this._zoomOut),this._updateDisabled(),c.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,m,v,S,E){var R=Be("a",v,S);return R.innerHTML=c,R.href="#",R.title=m,R.setAttribute("role","button"),R.setAttribute("aria-label",m),fu(R),Te(R,"click",Js),Te(R,"click",E,this),Te(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var c=this._map,m="leaflet-disabled";vt(this._zoomInButton,m),vt(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||c._zoom===c.getMinZoom())&&(Ae(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||c._zoom===c.getMaxZoom())&&(Ae(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ue.mergeOptions({zoomControl:!0}),Ue.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ex,this.addControl(this.zoomControl))});var Iz=function(c){return new ex(c)},Kk=Yn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var m="leaflet-control-scale",v=Be("div",m),S=this.options;return this._addScales(S,m+"-line",v),c.on(S.updateWhenIdle?"moveend":"move",this._update,this),c.whenReady(this._update,this),v},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,m,v){c.metric&&(this._mScale=Be("div",m,v)),c.imperial&&(this._iScale=Be("div",m,v))},_update:function(){var c=this._map,m=c.getSize().y/2,v=c.distance(c.containerPointToLatLng([0,m]),c.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(v)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c),this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var m=this._getRoundNum(c),v=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,v,m/c)},_updateImperial:function(c){var m=c*3.2808399,v,S,E;m>5280?(v=m/5280,S=this._getRoundNum(v),this._updateScale(this._iScale,S+" mi",S/v)):(E=this._getRoundNum(m),this._updateScale(this._iScale,E+" ft",E/m))},_updateScale:function(c,m,v){c.style.width=Math.round(this.options.maxWidth*v)+"px",c.innerHTML=m},_getRoundNum:function(c){var m=Math.pow(10,(Math.floor(c)+"").length-1),v=c/m;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,m*v}}),Lz=function(c){return new Kk(c)},Dz='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',tx=Yn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ke.inlineSvg?Dz+" ":"")+"Leaflet</a>"},initialize:function(c){b(this,c),this._attributions={}},onAdd:function(c){c.attributionControl=this,this._container=Be("div","leaflet-control-attribution"),fu(this._container);for(var m in c._layers)c._layers[m].getAttribution&&this.addAttribution(c._layers[m].getAttribution());return this._update(),c.on("layeradd",this._addAttribution,this),this._container},onRemove:function(c){c.off("layeradd",this._addAttribution,this)},_addAttribution:function(c){c.layer.getAttribution&&(this.addAttribution(c.layer.getAttribution()),c.layer.once("remove",function(){this.removeAttribution(c.layer.getAttribution())},this))},setPrefix:function(c){return this.options.prefix=c,this._update(),this},addAttribution:function(c){return c?(this._attributions[c]||(this._attributions[c]=0),this._attributions[c]++,this._update(),this):this},removeAttribution:function(c){return c?(this._attributions[c]&&(this._attributions[c]--,this._update()),this):this},_update:function(){if(this._map){var c=[];for(var m in this._attributions)this._attributions[m]&&c.push(m);var v=[];this.options.prefix&&v.push(this.options.prefix),c.length&&v.push(c.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});Ue.mergeOptions({attributionControl:!0}),Ue.addInitHook(function(){this.options.attributionControl&&new tx().addTo(this)});var Rz=function(c){return new tx(c)};Yn.Layers=Vk,Yn.Zoom=ex,Yn.Scale=Kk,Yn.Attribution=tx,hu.layers=Mz,hu.zoom=Iz,hu.scale=Lz,hu.attribution=Rz;var ja=F.extend({initialize:function(c){this._map=c},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ja.addTo=function(c,m){return c.addHandler(m,this),this};var zz={Events:H},qk=ke.touch?"touchstart mousedown":"mousedown",Wi=W.extend({options:{clickTolerance:3},initialize:function(c,m,v,S){b(this,S),this._element=c,this._dragStartTarget=m||c,this._preventOutline=v},enable:function(){this._enabled||(Te(this._dragStartTarget,qk,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wi._dragging===this&&this.finishDrag(!0),tt(this._dragStartTarget,qk,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(c){if(this._enabled&&(this._moved=!1,!ou(this._element,"leaflet-zoom-anim"))){if(c.touches&&c.touches.length!==1){Wi._dragging===this&&this.finishDrag();return}if(!(Wi._dragging||c.shiftKey||c.which!==1&&c.button!==1&&!c.touches)&&(Wi._dragging=this,this._preventOutline&&qy(this._element),Wy(),cu(),!this._moving)){this.fire("down");var m=c.touches?c.touches[0]:c,v=Fk(this._element);this._startPoint=new M(m.clientX,m.clientY),this._startPos=Xs(this._element),this._parentScale=Zy(v);var S=c.type==="mousedown";Te(document,S?"mousemove":"touchmove",this._onMove,this),Te(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(c){if(this._enabled){if(c.touches&&c.touches.length>1){this._moved=!0;return}var m=c.touches&&c.touches.length===1?c.touches[0]:c,v=new M(m.clientX,m.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,fr(c),this._moved||(this.fire("dragstart"),this._moved=!0,Ae(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=c,this._updatePosition())}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c),bt(this._element,this._newPos),this.fire("drag",c)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(c){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),tt(document,"mousemove touchmove",this._onMove,this),tt(document,"mouseup touchend touchcancel",this._onUp,this),Vy(),uu();var m=this._moved&&this._moving;this._moving=!1,Wi._dragging=!1,m&&this.fire("dragend",{noInertia:c,distance:this._newPos.distanceTo(this._startPos)})}});function Zk(c,m,v){var S,E=[1,4,2,8],R,K,J,ne,ce,ge,Ee,Le;for(R=0,ge=c.length;R<ge;R++)c[R]._code=eo(c[R],m);for(J=0;J<4;J++){for(Ee=E[J],S=[],R=0,ge=c.length,K=ge-1;R<ge;K=R++)ne=c[R],ce=c[K],ne._code&Ee?ce._code&Ee||(Le=dh(ce,ne,Ee,m,v),Le._code=eo(Le,m),S.push(Le)):(ce._code&Ee&&(Le=dh(ce,ne,Ee,m,v),Le._code=eo(Le,m),S.push(Le)),S.push(ne));c=S}return c}function Yk(c,m){var v,S,E,R,K,J,ne,ce,ge;if(!c||c.length===0)throw new Error("latlngs not passed");Pn(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var Ee=se([0,0]),Le=Q(c),Er=Le.getNorthWest().distanceTo(Le.getSouthWest())*Le.getNorthEast().distanceTo(Le.getNorthWest());Er<1700&&(Ee=rx(c));var Jt=c.length,Cn=[];for(v=0;v<Jt;v++){var Vr=se(c[v]);Cn.push(m.project(se([Vr.lat-Ee.lat,Vr.lng-Ee.lng])))}for(J=ne=ce=0,v=0,S=Jt-1;v<Jt;S=v++)E=Cn[v],R=Cn[S],K=E.y*R.x-R.y*E.x,ne+=(E.x+R.x)*K,ce+=(E.y+R.y)*K,J+=K*3;J===0?ge=Cn[0]:ge=[ne/J,ce/J];var pl=m.unproject(B(ge));return se([pl.lat+Ee.lat,pl.lng+Ee.lng])}function rx(c){for(var m=0,v=0,S=0,E=0;E<c.length;E++){var R=se(c[E]);m+=R.lat,v+=R.lng,S++}return se([m/S,v/S])}var Fz={__proto__:null,clipPolygon:Zk,polygonCenter:Yk,centroid:rx};function Gk(c,m){if(!m||!c.length)return c.slice();var v=m*m;return c=Uz(c,v),c=Bz(c,v),c}function Xk(c,m,v){return Math.sqrt(mu(c,m,v,!0))}function $z(c,m,v){return mu(c,m,v)}function Bz(c,m){var v=c.length,S=typeof Uint8Array<"u"?Uint8Array:Array,E=new S(v);E[0]=E[v-1]=1,nx(c,E,m,0,v-1);var R,K=[];for(R=0;R<v;R++)E[R]&&K.push(c[R]);return K}function nx(c,m,v,S,E){var R=0,K,J,ne;for(J=S+1;J<=E-1;J++)ne=mu(c[J],c[S],c[E],!0),ne>R&&(K=J,R=ne);R>v&&(m[K]=1,nx(c,m,v,S,K),nx(c,m,v,K,E))}function Uz(c,m){for(var v=[c[0]],S=1,E=0,R=c.length;S<R;S++)Hz(c[S],c[E])>m&&(v.push(c[S]),E=S);return E<R-1&&v.push(c[R-1]),v}var Qk;function Jk(c,m,v,S,E){var R=S?Qk:eo(c,v),K=eo(m,v),J,ne,ce;for(Qk=K;;){if(!(R|K))return[c,m];if(R&K)return!1;J=R||K,ne=dh(c,m,J,v,E),ce=eo(ne,v),J===R?(c=ne,R=ce):(m=ne,K=ce)}}function dh(c,m,v,S,E){var R=m.x-c.x,K=m.y-c.y,J=S.min,ne=S.max,ce,ge;return v&8?(ce=c.x+R*(ne.y-c.y)/K,ge=ne.y):v&4?(ce=c.x+R*(J.y-c.y)/K,ge=J.y):v&2?(ce=ne.x,ge=c.y+K*(ne.x-c.x)/R):v&1&&(ce=J.x,ge=c.y+K*(J.x-c.x)/R),new M(ce,ge,E)}function eo(c,m){var v=0;return c.x<m.min.x?v|=1:c.x>m.max.x&&(v|=2),c.y<m.min.y?v|=4:c.y>m.max.y&&(v|=8),v}function Hz(c,m){var v=m.x-c.x,S=m.y-c.y;return v*v+S*S}function mu(c,m,v,S){var E=m.x,R=m.y,K=v.x-E,J=v.y-R,ne=K*K+J*J,ce;return ne>0&&(ce=((c.x-E)*K+(c.y-R)*J)/ne,ce>1?(E=v.x,R=v.y):ce>0&&(E+=K*ce,R+=J*ce)),K=c.x-E,J=c.y-R,S?K*K+J*J:new M(E,R)}function Pn(c){return!j(c[0])||typeof c[0][0]!="object"&&typeof c[0][0]<"u"}function eN(c){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pn(c)}function tN(c,m){var v,S,E,R,K,J,ne,ce;if(!c||c.length===0)throw new Error("latlngs not passed");Pn(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var ge=se([0,0]),Ee=Q(c),Le=Ee.getNorthWest().distanceTo(Ee.getSouthWest())*Ee.getNorthEast().distanceTo(Ee.getNorthWest());Le<1700&&(ge=rx(c));var Er=c.length,Jt=[];for(v=0;v<Er;v++){var Cn=se(c[v]);Jt.push(m.project(se([Cn.lat-ge.lat,Cn.lng-ge.lng])))}for(v=0,S=0;v<Er-1;v++)S+=Jt[v].distanceTo(Jt[v+1])/2;if(S===0)ce=Jt[0];else for(v=0,R=0;v<Er-1;v++)if(K=Jt[v],J=Jt[v+1],E=K.distanceTo(J),R+=E,R>S){ne=(R-S)/E,ce=[J.x-ne*(J.x-K.x),J.y-ne*(J.y-K.y)];break}var Vr=m.unproject(B(ce));return se([Vr.lat+ge.lat,Vr.lng+ge.lng])}var Wz={__proto__:null,simplify:Gk,pointToSegmentDistance:Xk,closestPointOnSegment:$z,clipSegment:Jk,_getEdgeIntersection:dh,_getBitCode:eo,_sqClosestPointOnSegment:mu,isFlat:Pn,_flat:eN,polylineCenter:tN},ax={project:function(c){return new M(c.lng,c.lat)},unproject:function(c){return new ie(c.y,c.x)},bounds:new V([-180,-90],[180,90])},ix={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(c){var m=Math.PI/180,v=this.R,S=c.lat*m,E=this.R_MINOR/v,R=Math.sqrt(1-E*E),K=R*Math.sin(S),J=Math.tan(Math.PI/4-S/2)/Math.pow((1-K)/(1+K),R/2);return S=-v*Math.log(Math.max(J,1e-10)),new M(c.lng*m*v,S)},unproject:function(c){for(var m=180/Math.PI,v=this.R,S=this.R_MINOR/v,E=Math.sqrt(1-S*S),R=Math.exp(-c.y/v),K=Math.PI/2-2*Math.atan(R),J=0,ne=.1,ce;J<15&&Math.abs(ne)>1e-7;J++)ce=E*Math.sin(K),ce=Math.pow((1-ce)/(1+ce),E/2),ne=Math.PI/2-2*Math.atan(R*ce)-K,K+=ne;return new ie(K*m,c.x*m/v)}},Vz={__proto__:null,LonLat:ax,Mercator:ix,SphericalMercator:me},Kz=a({},le,{code:"EPSG:3395",projection:ix,transformation:function(){var c=.5/(Math.PI*ix.R);return te(c,.5,-c,.5)}()}),rN=a({},le,{code:"EPSG:4326",projection:ax,transformation:te(1/180,1,-1/180,.5)}),qz=a({},oe,{projection:ax,transformation:te(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},distance:function(c,m){var v=m.lng-c.lng,S=m.lat-c.lat;return Math.sqrt(v*v+S*S)},infinite:!0});oe.Earth=le,oe.EPSG3395=Kz,oe.EPSG3857=pe,oe.EPSG900913=we,oe.EPSG4326=rN,oe.Simple=qz;var Gn=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){return c.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){return c&&c.removeLayer(this),this},getPane:function(c){return this._map.getPane(c?this.options[c]||c:this.options.pane)},addInteractiveTarget:function(c){return this._map._targets[u(c)]=this,this},removeInteractiveTarget:function(c){return delete this._map._targets[u(c)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var m=c.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var v=this.getEvents();m.on(v,this),this.once("remove",function(){m.off(v,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});Ue.include({addLayer:function(c){if(!c._layerAdd)throw new Error("The provided object is not a Layer.");var m=u(c);return this._layers[m]?this:(this._layers[m]=c,c._mapToAdd=this,c.beforeAdd&&c.beforeAdd(this),this.whenReady(c._layerAdd,c),this)},removeLayer:function(c){var m=u(c);return this._layers[m]?(this._loaded&&c.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove")),c._map=c._mapToAdd=null,this):this},hasLayer:function(c){return u(c)in this._layers},eachLayer:function(c,m){for(var v in this._layers)c.call(m,this._layers[v]);return this},_addLayers:function(c){c=c?j(c)?c:[c]:[];for(var m=0,v=c.length;m<v;m++)this.addLayer(c[m])},_addZoomLimit:function(c){(!isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))&&(this._zoomBoundLayers[u(c)]=c,this._updateZoomLevels())},_removeZoomLimit:function(c){var m=u(c);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var c=1/0,m=-1/0,v=this._getZoomSpan();for(var S in this._zoomBoundLayers){var E=this._zoomBoundLayers[S].options;c=E.minZoom===void 0?c:Math.min(c,E.minZoom),m=E.maxZoom===void 0?m:Math.max(m,E.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=c===1/0?void 0:c,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ul=Gn.extend({initialize:function(c,m){b(this,m),this._layers={};var v,S;if(c)for(v=0,S=c.length;v<S;v++)this.addLayer(c[v])},addLayer:function(c){var m=this.getLayerId(c);return this._layers[m]=c,this._map&&this._map.addLayer(c),this},removeLayer:function(c){var m=c in this._layers?c:this.getLayerId(c);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(c){var m=typeof c=="number"?c:this.getLayerId(c);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var m=Array.prototype.slice.call(arguments,1),v,S;for(v in this._layers)S=this._layers[v],S[c]&&S[c].apply(S,m);return this},onAdd:function(c){this.eachLayer(c.addLayer,c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,m){for(var v in this._layers)c.call(m,this._layers[v]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];return this.eachLayer(c.push,c),c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return u(c)}}),Zz=function(c,m){return new ul(c,m)},Qa=ul.extend({addLayer:function(c){return this.hasLayer(c)?this:(c.addEventParent(this),ul.prototype.addLayer.call(this,c),this.fire("layeradd",{layer:c}))},removeLayer:function(c){return this.hasLayer(c)?(c in this._layers&&(c=this._layers[c]),c.removeEventParent(this),ul.prototype.removeLayer.call(this,c),this.fire("layerremove",{layer:c})):this},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new Z;for(var m in this._layers){var v=this._layers[m];c.extend(v.getBounds?v.getBounds():v.getLatLng())}return c}}),Yz=function(c,m){return new Qa(c,m)},dl=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(c){b(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,m){var v=this._getIconUrl(c);if(!v){if(c==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(v,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(S,c),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(c,m){var v=this.options,S=v[m+"Size"];typeof S=="number"&&(S=[S,S]);var E=B(S),R=B(m==="shadow"&&v.shadowAnchor||v.iconAnchor||E&&E.divideBy(2,!0));c.className="leaflet-marker-"+m+" "+(v.className||""),R&&(c.style.marginLeft=-R.x+"px",c.style.marginTop=-R.y+"px"),E&&(c.style.width=E.x+"px",c.style.height=E.y+"px")},_createImg:function(c,m){return m=m||document.createElement("img"),m.src=c,m},_getIconUrl:function(c){return ke.retina&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}});function Gz(c){return new dl(c)}var pu=dl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){return typeof pu.imagePath!="string"&&(pu.imagePath=this._detectIconPath()),(this.options.imagePath||pu.imagePath)+dl.prototype._getIconUrl.call(this,c)},_stripUrl:function(c){var m=function(v,S,E){var R=S.exec(v);return R&&R[E]};return c=m(c,/^url\((['"])?(.+)\1\)$/,2),c&&m(c,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var c=Be("div","leaflet-default-icon-path",document.body),m=Gs(c,"background-image")||Gs(c,"backgroundImage");if(document.body.removeChild(c),m=this._stripUrl(m),m)return m;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),nN=ja.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new Wi(c,c,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ae(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var m=this._marker,v=m._map,S=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,R=Xs(m._icon),K=v.getPixelBounds(),J=v.getPixelOrigin(),ne=G(K.min._subtract(J).add(E),K.max._subtract(J).subtract(E));if(!ne.contains(R)){var ce=B((Math.max(ne.max.x,R.x)-ne.max.x)/(K.max.x-ne.max.x)-(Math.min(ne.min.x,R.x)-ne.min.x)/(K.min.x-ne.min.x),(Math.max(ne.max.y,R.y)-ne.max.y)/(K.max.y-ne.max.y)-(Math.min(ne.min.y,R.y)-ne.min.y)/(K.min.y-ne.min.y)).multiplyBy(S);v.panBy(ce,{animate:!1}),this._draggable._newPos._add(ce),this._draggable._startPos._add(ce),bt(m._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=I(this._adjustPan.bind(this,c))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=I(this._adjustPan.bind(this,c)))},_onDrag:function(c){var m=this._marker,v=m._shadow,S=Xs(m._icon),E=m._map.layerPointToLatLng(S);v&&bt(v,S),m._latlng=E,c.latlng=E,c.oldLatLng=this._oldLatLng,m.fire("move",c).fire("drag",c)},_onDragEnd:function(c){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",c)}}),fh=Gn.extend({options:{icon:new pu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,m){b(this,m),this._latlng=se(c)},onAdd:function(c){this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation,this._zoomAnimated&&c.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(c){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var m=this._latlng;return this._latlng=se(c),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(c){return this.options.zIndexOffset=c,this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){return this.options.icon=c,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=c.icon.createIcon(this._icon),S=!1;v!==this._icon&&(this._icon&&this._removeIcon(),S=!0,c.title&&(v.title=c.title),v.tagName==="IMG"&&(v.alt=c.alt||"")),Ae(v,m),c.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,c.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(v,"focus",this._panOnFocus,this);var E=c.icon.createShadow(this._shadow),R=!1;E!==this._shadow&&(this._removeShadow(),R=!0),E&&(Ae(E,m),E.alt=""),this._shadow=E,c.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&R&&this.getPane(c.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(this._icon,"focus",this._panOnFocus,this),it(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&it(this._shadow),this._shadow=null},_setPos:function(c){this._icon&&bt(this._icon,c),this._shadow&&bt(this._shadow,c),this._zIndex=c.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){var m=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),nN)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable()),this.dragging=new nN(this),c&&this.dragging.enable()}},setOpacity:function(c){return this.options.opacity=c,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var c=this.options.opacity;this._icon&&Wr(this._icon,c),this._shadow&&Wr(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var c=this._map;if(c){var m=this.options.icon.options,v=m.iconSize?B(m.iconSize):B(0,0),S=m.iconAnchor?B(m.iconAnchor):B(0,0);c.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:v.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xz(c,m){return new fh(c,m)}var Vi=Gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(c){return b(this,c),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),hh=Vi.extend({options:{fill:!0,radius:10},initialize:function(c,m){b(this,m),this._latlng=se(c),this._radius=this.options.radius},setLatLng:function(c){var m=this._latlng;return this._latlng=se(c),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){return this.options.radius=this._radius=c,this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var m=c&&c.radius||this._radius;return Vi.prototype.setStyle.call(this,c),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var c=this._radius,m=this._radiusY||c,v=this._clickTolerance(),S=[c+v,m+v];this._pxBounds=new V(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Qz(c,m){return new hh(c,m)}var sx=hh.extend({initialize:function(c,m,v){if(typeof m=="number"&&(m=a({},v,{radius:m})),b(this,m),this._latlng=se(c),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){return this._mRadius=c,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:Vi.prototype.setStyle,_project:function(){var c=this._latlng.lng,m=this._latlng.lat,v=this._map,S=v.options.crs;if(S.distance===le.distance){var E=Math.PI/180,R=this._mRadius/le.R/E,K=v.project([m+R,c]),J=v.project([m-R,c]),ne=K.add(J).divideBy(2),ce=v.unproject(ne).lat,ge=Math.acos((Math.cos(R*E)-Math.sin(m*E)*Math.sin(ce*E))/(Math.cos(m*E)*Math.cos(ce*E)))/E;(isNaN(ge)||ge===0)&&(ge=R/Math.cos(Math.PI/180*m)),this._point=ne.subtract(v.getPixelOrigin()),this._radius=isNaN(ge)?0:ne.x-v.project([ce,c-ge]).x,this._radiusY=ne.y-K.y}else{var Ee=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(Ee).x}this._updateBounds()}});function Jz(c,m,v){return new sx(c,m,v)}var Ja=Vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,m){b(this,m),this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){return this._setLatLngs(c),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var m=1/0,v=null,S=mu,E,R,K=0,J=this._parts.length;K<J;K++)for(var ne=this._parts[K],ce=1,ge=ne.length;ce<ge;ce++){E=ne[ce-1],R=ne[ce];var Ee=S(c,E,R,!0);Ee<m&&(m=Ee,v=S(c,E,R))}return v&&(v.distance=Math.sqrt(m)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tN(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(c,m){return m=m||this._defaultShape(),c=se(c),m.push(c),this._bounds.extend(c),this.redraw()},_setLatLngs:function(c){this._bounds=new Z,this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return Pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var m=[],v=Pn(c),S=0,E=c.length;S<E;S++)v?(m[S]=se(c[S]),this._bounds.extend(m[S])):m[S]=this._convertLatLngs(c[S]);return m},_project:function(){var c=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,c),this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance(),m=new M(c,c);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(c,m,v){var S=c[0]instanceof ie,E=c.length,R,K;if(S){for(K=[],R=0;R<E;R++)K[R]=this._map.latLngToLayerPoint(c[R]),v.extend(K[R]);m.push(K)}else for(R=0;R<E;R++)this._projectLatlngs(c[R],m,v)},_clipPoints:function(){var c=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,v,S,E,R,K,J,ne;for(v=0,E=0,R=this._rings.length;v<R;v++)for(ne=this._rings[v],S=0,K=ne.length;S<K-1;S++)J=Jk(ne[S],ne[S+1],c,S,!0),J&&(m[E]=m[E]||[],m[E].push(J[0]),(J[1]!==ne[S+1]||S===K-2)&&(m[E].push(J[1]),E++))}},_simplifyPoints:function(){for(var c=this._parts,m=this.options.smoothFactor,v=0,S=c.length;v<S;v++)c[v]=Gk(c[v],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,m){var v,S,E,R,K,J,ne=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(v=0,R=this._parts.length;v<R;v++)for(J=this._parts[v],S=0,K=J.length,E=K-1;S<K;E=S++)if(!(!m&&S===0)&&Xk(c,J[E],J[S])<=ne)return!0;return!1}});function eF(c,m){return new Ja(c,m)}Ja._flat=eN;var fl=Ja.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yk(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(c){var m=Ja.prototype._convertLatLngs.call(this,c),v=m.length;return v>=2&&m[0]instanceof ie&&m[0].equals(m[v-1])&&m.pop(),m},_setLatLngs:function(c){Ja.prototype._setLatLngs.call(this,c),Pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=this._renderer._bounds,m=this.options.weight,v=new M(m,m);if(c=new V(c.min.subtract(v),c.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,E=this._rings.length,R;S<E;S++)R=Zk(this._rings[S],c,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var m=!1,v,S,E,R,K,J,ne,ce;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(R=0,ne=this._parts.length;R<ne;R++)for(v=this._parts[R],K=0,ce=v.length,J=ce-1;K<ce;J=K++)S=v[K],E=v[J],S.y>c.y!=E.y>c.y&&c.x<(E.x-S.x)*(c.y-S.y)/(E.y-S.y)+S.x&&(m=!m);return m||Ja.prototype._containsPoint.call(this,c,!0)}});function tF(c,m){return new fl(c,m)}var ei=Qa.extend({initialize:function(c,m){b(this,m),this._layers={},c&&this.addData(c)},addData:function(c){var m=j(c)?c:c.features,v,S,E;if(m){for(v=0,S=m.length;v<S;v++)E=m[v],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var R=this.options;if(R.filter&&!R.filter(c))return this;var K=mh(c,R);return K?(K.feature=yh(c),K.defaultOptions=K.options,this.resetStyle(K),R.onEachFeature&&R.onEachFeature(c,K),this.addLayer(K)):this},resetStyle:function(c){return c===void 0?this.eachLayer(this.resetStyle,this):(c.options=a({},c.defaultOptions),this._setLayerStyle(c,this.options.style),this)},setStyle:function(c){return this.eachLayer(function(m){this._setLayerStyle(m,c)},this)},_setLayerStyle:function(c,m){c.setStyle&&(typeof m=="function"&&(m=m(c.feature)),c.setStyle(m))}});function mh(c,m){var v=c.type==="Feature"?c.geometry:c,S=v?v.coordinates:null,E=[],R=m&&m.pointToLayer,K=m&&m.coordsToLatLng||ox,J,ne,ce,ge;if(!S&&!v)return null;switch(v.type){case"Point":return J=K(S),aN(R,c,J,m);case"MultiPoint":for(ce=0,ge=S.length;ce<ge;ce++)J=K(S[ce]),E.push(aN(R,c,J,m));return new Qa(E);case"LineString":case"MultiLineString":return ne=ph(S,v.type==="LineString"?0:1,K),new Ja(ne,m);case"Polygon":case"MultiPolygon":return ne=ph(S,v.type==="Polygon"?1:2,K),new fl(ne,m);case"GeometryCollection":for(ce=0,ge=v.geometries.length;ce<ge;ce++){var Ee=mh({geometry:v.geometries[ce],type:"Feature",properties:c.properties},m);Ee&&E.push(Ee)}return new Qa(E);case"FeatureCollection":for(ce=0,ge=v.features.length;ce<ge;ce++){var Le=mh(v.features[ce],m);Le&&E.push(Le)}return new Qa(E);default:throw new Error("Invalid GeoJSON object.")}}function aN(c,m,v,S){return c?c(m,v):new fh(v,S&&S.markersInheritOptions&&S)}function ox(c){return new ie(c[1],c[0],c[2])}function ph(c,m,v){for(var S=[],E=0,R=c.length,K;E<R;E++)K=m?ph(c[E],m-1,v):(v||ox)(c[E]),S.push(K);return S}function lx(c,m){return c=se(c),c.alt!==void 0?[p(c.lng,m),p(c.lat,m),p(c.alt,m)]:[p(c.lng,m),p(c.lat,m)]}function gh(c,m,v,S){for(var E=[],R=0,K=c.length;R<K;R++)E.push(m?gh(c[R],Pn(c[R])?0:m-1,v,S):lx(c[R],S));return!m&&v&&E.length>0&&E.push(E[0].slice()),E}function hl(c,m){return c.feature?a({},c.feature,{geometry:m}):yh(m)}function yh(c){return c.type==="Feature"||c.type==="FeatureCollection"?c:{type:"Feature",properties:{},geometry:c}}var cx={toGeoJSON:function(c){return hl(this,{type:"Point",coordinates:lx(this.getLatLng(),c)})}};fh.include(cx),sx.include(cx),hh.include(cx),Ja.include({toGeoJSON:function(c){var m=!Pn(this._latlngs),v=gh(this._latlngs,m?1:0,!1,c);return hl(this,{type:(m?"Multi":"")+"LineString",coordinates:v})}}),fl.include({toGeoJSON:function(c){var m=!Pn(this._latlngs),v=m&&!Pn(this._latlngs[0]),S=gh(this._latlngs,v?2:m?1:0,!0,c);return m||(S=[S]),hl(this,{type:(v?"Multi":"")+"Polygon",coordinates:S})}}),ul.include({toMultiPoint:function(c){var m=[];return this.eachLayer(function(v){m.push(v.toGeoJSON(c).geometry.coordinates)}),hl(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(c){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(c);var v=m==="GeometryCollection",S=[];return this.eachLayer(function(E){if(E.toGeoJSON){var R=E.toGeoJSON(c);if(v)S.push(R.geometry);else{var K=yh(R);K.type==="FeatureCollection"?S.push.apply(S,K.features):S.push(K)}}}),v?hl(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function iN(c,m){return new ei(c,m)}var rF=iN,xh=Gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,m,v){this._url=c,this._bounds=Q(m),b(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){it(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){return this.options.opacity=c,this._image&&this._updateOpacity(),this},setStyle:function(c){return c.opacity&&this.setOpacity(c.opacity),this},bringToFront:function(){return this._map&&Ui(this._image),this},bringToBack:function(){return this._map&&Hi(this._image),this},setUrl:function(c){return this._url=c,this._image&&(this._image.src=c),this},setBounds:function(c){return this._bounds=Q(c),this._map&&this._reset(),this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c=this._url.tagName==="IMG",m=this._image=c?this._url:Be("img");if(Ae(m,"leaflet-image-layer"),this._zoomAnimated&&Ae(m,"leaflet-zoom-animated"),this.options.className&&Ae(m,this.options.className),m.onselectstart=h,m.onmousemove=h,m.onload=o(this.fire,this,"load"),m.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),c){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(c){var m=this._map.getZoomScale(c.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;Xa(this._image,v,m)},_reset:function(){var c=this._image,m=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=m.getSize();bt(c,m.min),c.style.width=v.x+"px",c.style.height=v.y+"px"},_updateOpacity:function(){Wr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)},getCenter:function(){return this._bounds.getCenter()}}),nF=function(c,m,v){return new xh(c,m,v)},sN=xh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var c=this._url.tagName==="VIDEO",m=this._image=c?this._url:Be("video");if(Ae(m,"leaflet-image-layer"),this._zoomAnimated&&Ae(m,"leaflet-zoom-animated"),this.options.className&&Ae(m,this.options.className),m.onselectstart=h,m.onmousemove=h,m.onloadeddata=o(this.fire,this,"load"),c){for(var v=m.getElementsByTagName("source"),S=[],E=0;E<v.length;E++)S.push(v[E].src);this._url=v.length>0?S:[m.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var K=Be("source");K.src=this._url[R],m.appendChild(K)}}});function aF(c,m,v){return new sN(c,m,v)}var oN=xh.extend({_initImage:function(){var c=this._image=this._url;Ae(c,"leaflet-image-layer"),this._zoomAnimated&&Ae(c,"leaflet-zoom-animated"),this.options.className&&Ae(c,this.options.className),c.onselectstart=h,c.onmousemove=h}});function iF(c,m,v){return new oN(c,m,v)}var ka=Gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(c,m){c&&(c instanceof ie||j(c))?(this._latlng=se(c),b(this,m)):(b(this,c),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(c){return c=arguments.length?c:this._source._map,c.hasLayer(this)||c.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(c){return this._map?this.close():(arguments.length?this._source=c:c=this._source,this._prepareOpen(),this.openOn(c._map)),this},onAdd:function(c){this._zoomAnimated=c._zoomAnimated,this._container||this._initLayout(),c._fadeAnimated&&Wr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),c._fadeAnimated&&Wr(this._container,1),this.bringToFront(),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(c){c._fadeAnimated?(Wr(this._container,0),this._removeTimeout=setTimeout(o(it,void 0,this._container),200)):it(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(c){return this._latlng=se(c),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(c){return this._content=c,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ui(this._container),this},bringToBack:function(){return this._map&&Hi(this._container),this},_prepareOpen:function(c){var m=this._source;if(!m._map)return!1;if(m instanceof Qa){m=null;var v=this._source._layers;for(var S in v)if(v[S]._map){m=v[S];break}if(!m)return!1;this._source=m}if(!c)if(m.getCenter)c=m.getCenter();else if(m.getLatLng)c=m.getLatLng();else if(m.getBounds)c=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(c),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var c=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")c.innerHTML=m;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),m=B(this.options.offset),v=this._getAnchor();this._zoomAnimated?bt(this._container,c.add(v)):m=m.add(c).add(v);var S=this._containerBottom=-m.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=S+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Ue.include({_initOverlay:function(c,m,v,S){var E=m;return E instanceof c||(E=new c(S).setContent(m)),v&&E.setLatLng(v),E}}),Gn.include({_initOverlay:function(c,m,v,S){var E=v;return E instanceof c?(b(E,S),E._source=this):(E=m&&!S?m:new c(S,this),E.setContent(v)),E}});var vh=ka.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){return c=arguments.length?c:this._source._map,!c.hasLayer(this)&&c._popup&&c._popup.options.autoClose&&c.removeLayer(c._popup),c._popup=this,ka.prototype.openOn.call(this,c)},onAdd:function(c){ka.prototype.onAdd.call(this,c),c.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vi||this._source.on("preclick",Qs))},onRemove:function(c){ka.prototype.onRemove.call(this,c),c.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vi||this._source.off("preclick",Qs))},getEvents:function(){var c=ka.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(c.preclick=this.close),this.options.keepInView&&(c.moveend=this._adjustPan),c},_initLayout:function(){var c="leaflet-popup",m=this._container=Be("div",c+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=Be("div",c+"-content-wrapper",m);if(this._contentNode=Be("div",c+"-content",v),fu(m),Qy(this._contentNode),Te(m,"contextmenu",Qs),this._tipContainer=Be("div",c+"-tip-container",m),this._tip=Be("div",c+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=Be("a",c+"-close-button",m);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',Te(S,"click",function(E){fr(E),this.close()},this)}},_updateLayout:function(){var c=this._contentNode,m=c.style;m.width="",m.whiteSpace="nowrap";var v=c.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),m.width=v+1+"px",m.whiteSpace="",m.height="";var S=c.offsetHeight,E=this.options.maxHeight,R="leaflet-popup-scrolled";E&&S>E?(m.height=E+"px",Ae(c,R)):vt(c,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){var m=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center),v=this._getAnchor();bt(this._container,m.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var c=this._map,m=parseInt(Gs(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+m,S=this._containerWidth,E=new M(this._containerLeft,-v-this._containerBottom);E._add(Xs(this._container));var R=c.layerPointToContainerPoint(E),K=B(this.options.autoPanPadding),J=B(this.options.autoPanPaddingTopLeft||K),ne=B(this.options.autoPanPaddingBottomRight||K),ce=c.getSize(),ge=0,Ee=0;R.x+S+ne.x>ce.x&&(ge=R.x+S-ce.x+ne.x),R.x-ge-J.x<0&&(ge=R.x-J.x),R.y+v+ne.y>ce.y&&(Ee=R.y+v-ce.y+ne.y),R.y-Ee-J.y<0&&(Ee=R.y-J.y),(ge||Ee)&&(this.options.keepInView&&(this._autopanning=!0),c.fire("autopanstart").panBy([ge,Ee]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),sF=function(c,m){return new vh(c,m)};Ue.mergeOptions({closePopupOnClick:!0}),Ue.include({openPopup:function(c,m,v){return this._initOverlay(vh,c,m,v).openOn(this),this},closePopup:function(c){return c=arguments.length?c:this._popup,c&&c.close(),this}}),Gn.include({bindPopup:function(c,m){return this._popup=this._initOverlay(vh,this._popup,c,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(c){return this._popup&&(this instanceof Qa||(this._popup._source=this),this._popup._prepareOpen(c||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){return this._popup&&this._popup.setContent(c),this},getPopup:function(){return this._popup},_openPopup:function(c){if(!(!this._popup||!this._map)){Js(c);var m=c.layer||c.target;if(this._popup._source===m&&!(m instanceof Vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(c.latlng);return}this._popup._source=m,this.openPopup(c.latlng)}},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){c.originalEvent.keyCode===13&&this._openPopup(c)}});var bh=ka.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(c){ka.prototype.onAdd.call(this,c),this.setOpacity(this.options.opacity),c.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(c){ka.prototype.onRemove.call(this,c),c.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var c=ka.prototype.getEvents.call(this);return this.options.permanent||(c.preclick=this.close),c},_initLayout:function(){var c="leaflet-tooltip",m=c+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Be("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(c){var m,v,S=this._map,E=this._container,R=S.latLngToContainerPoint(S.getCenter()),K=S.layerPointToContainerPoint(c),J=this.options.direction,ne=E.offsetWidth,ce=E.offsetHeight,ge=B(this.options.offset),Ee=this._getAnchor();J==="top"?(m=ne/2,v=ce):J==="bottom"?(m=ne/2,v=0):J==="center"?(m=ne/2,v=ce/2):J==="right"?(m=0,v=ce/2):J==="left"?(m=ne,v=ce/2):K.x<R.x?(J="right",m=0,v=ce/2):(J="left",m=ne+(ge.x+Ee.x)*2,v=ce/2),c=c.subtract(B(m,v,!0)).add(ge).add(Ee),vt(E,"leaflet-tooltip-right"),vt(E,"leaflet-tooltip-left"),vt(E,"leaflet-tooltip-top"),vt(E,"leaflet-tooltip-bottom"),Ae(E,"leaflet-tooltip-"+J),bt(E,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c,this._container&&Wr(this._container,c)},_animateZoom:function(c){var m=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(m)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),oF=function(c,m){return new bh(c,m)};Ue.include({openTooltip:function(c,m,v){return this._initOverlay(bh,c,m,v).openOn(this),this},closeTooltip:function(c){return c.close(),this}}),Gn.include({bindTooltip:function(c,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(bh,this._tooltip,c,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(c){if(!(!c&&this._tooltipHandlersAdded)){var m=c?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[m](v),this._tooltipHandlersAdded=!c}},openTooltip:function(c){return this._tooltip&&(this instanceof Qa||(this._tooltip._source=this),this._tooltip._prepareOpen(c)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){return this._tooltip&&this._tooltip.setContent(c),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(c){var m=typeof c.getElement=="function"&&c.getElement();m&&(Te(m,"focus",function(){this._tooltip._source=c,this.openTooltip()},this),Te(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(c){var m=typeof c.getElement=="function"&&c.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(c){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(c)});return}this._tooltip._source=c.layer||c.target,this.openTooltip(this._tooltip.options.sticky?c.latlng:void 0)}},_moveTooltip:function(c){var m=c.latlng,v,S;this._tooltip.options.sticky&&c.originalEvent&&(v=this._map.mouseEventToContainerPoint(c.originalEvent),S=this._map.containerPointToLayerPoint(v),m=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(m)}});var lN=dl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var m=c&&c.tagName==="DIV"?c:document.createElement("div"),v=this.options;if(v.html instanceof Element?(sl(m),m.appendChild(v.html)):m.innerHTML=v.html!==!1?v.html:"",v.bgPos){var S=B(v.bgPos);m.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function lF(c){return new lN(c)}dl.Default=pu;var gu=Gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){b(this,c)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles(),it(this._container),c._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ui(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Hi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(c){return this.options.opacity=c,this._updateOpacity(),this},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var c=this._clampZoom(this._map.getZoom());c!==this._tileZoom&&(this._tileZoom=c,this._updateLevels()),this._update()}return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),c.move=this._onMove),this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof M?c:new M(c,c)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var m=this.getPane().children,v=-c(-1/0,1/0),S=0,E=m.length,R;S<E;S++)R=m[S].style.zIndex,m[S]!==this._container&&R&&(v=c(v,+R));isFinite(v)&&(this.options.zIndex=v+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ke.ielt9){Wr(this._container,this.options.opacity);var c=+new Date,m=!1,v=!1;for(var S in this._tiles){var E=this._tiles[S];if(!(!E.current||!E.loaded)){var R=Math.min(1,(c-E.loaded)/200);Wr(E.el,R),R<1?m=!0:(E.active?v=!0:this._onOpaqueTile(E),E.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),m&&(z(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=Be("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,m=this.options.maxZoom;if(c!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===c?(this._levels[v].el.style.zIndex=m-Math.abs(c-v),this._onUpdateLevel(v)):(it(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var S=this._levels[c],E=this._map;return S||(S=this._levels[c]={},S.el=Be("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=m,S.origin=E.project(E.unproject(E.getPixelOrigin()),c).round(),S.zoom=c,this._setZoomTransform(S,E.getCenter(),E.getZoom()),h(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var c,m,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(c in this._tiles)m=this._tiles[c],m.retain=m.current;for(c in this._tiles)if(m=this._tiles[c],m.current&&!m.active){var S=m.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}},_removeTilesAtZoom:function(c){for(var m in this._tiles)this._tiles[m].coords.z===c&&this._removeTile(m)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},_invalidateAll:function(){for(var c in this._levels)it(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(c,m,v,S){var E=Math.floor(c/2),R=Math.floor(m/2),K=v-1,J=new M(+E,+R);J.z=+K;var ne=this._tileCoordsToKey(J),ce=this._tiles[ne];return ce&&ce.active?(ce.retain=!0,!0):(ce&&ce.loaded&&(ce.retain=!0),K>S?this._retainParent(E,R,K,S):!1)},_retainChildren:function(c,m,v,S){for(var E=2*c;E<2*c+2;E++)for(var R=2*m;R<2*m+2;R++){var K=new M(E,R);K.z=v+1;var J=this._tileCoordsToKey(K),ne=this._tiles[J];if(ne&&ne.active){ne.retain=!0;continue}else ne&&ne.loaded&&(ne.retain=!0);v+1<S&&this._retainChildren(E,R,v+1,S)}},_resetView:function(c){var m=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var m=this.options;return m.minNativeZoom!==void 0&&c<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<c?m.maxNativeZoom:c},_setView:function(c,m,v,S){var E=Math.round(m);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var R=this.options.updateWhenZooming&&E!==this._tileZoom;(!S||R)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(c),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(c,m)},_setZoomTransforms:function(c,m){for(var v in this._levels)this._setZoomTransform(this._levels[v],c,m)},_setZoomTransform:function(c,m,v){var S=this._map.getZoomScale(v,c.zoom),E=c.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(m,v)).round();ke.any3d?Xa(c.el,E,S):bt(c.el,E)},_resetGrid:function(){var c=this._map,m=c.options.crs,v=this._tileSize=this.getTileSize(),S=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(c.project([0,m.wrapLng[0]],S).x/v.x),Math.ceil(c.project([0,m.wrapLng[1]],S).x/v.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([m.wrapLat[0],0],S).y/v.x),Math.ceil(c.project([m.wrapLat[1],0],S).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(c){var m=this._map,v=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),S=m.getZoomScale(v,this._tileZoom),E=m.project(c,this._tileZoom).floor(),R=m.getSize().divideBy(S*2);return new V(E.subtract(R),E.add(R))},_update:function(c){var m=this._map;if(m){var v=this._clampZoom(m.getZoom());if(c===void 0&&(c=m.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(c),E=this._pxBoundsToTileRange(S),R=E.getCenter(),K=[],J=this.options.keepBuffer,ne=new V(E.getBottomLeft().subtract([J,-J]),E.getTopRight().add([J,-J]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ce in this._tiles){var ge=this._tiles[ce].coords;(ge.z!==this._tileZoom||!ne.contains(new M(ge.x,ge.y)))&&(this._tiles[ce].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(c,v);return}for(var Ee=E.min.y;Ee<=E.max.y;Ee++)for(var Le=E.min.x;Le<=E.max.x;Le++){var Er=new M(Le,Ee);if(Er.z=this._tileZoom,!!this._isValidTile(Er)){var Jt=this._tiles[this._tileCoordsToKey(Er)];Jt?Jt.current=!0:K.push(Er)}}if(K.sort(function(Vr,pl){return Vr.distanceTo(R)-pl.distanceTo(R)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Cn=document.createDocumentFragment();for(Le=0;Le<K.length;Le++)this._addTile(K[Le],Cn);this._level.el.appendChild(Cn)}}}},_isValidTile:function(c){var m=this._map.options.crs;if(!m.infinite){var v=this._globalTileRange;if(!m.wrapLng&&(c.x<v.min.x||c.x>v.max.x)||!m.wrapLat&&(c.y<v.min.y||c.y>v.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(c);return Q(this.options.bounds).overlaps(S)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},_tileCoordsToNwSe:function(c){var m=this._map,v=this.getTileSize(),S=c.scaleBy(v),E=S.add(v),R=m.unproject(S,c.z),K=m.unproject(E,c.z);return[R,K]},_tileCoordsToBounds:function(c){var m=this._tileCoordsToNwSe(c),v=new Z(m[0],m[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){var m=c.split(":"),v=new M(+m[0],+m[1]);return v.z=+m[2],v},_removeTile:function(c){var m=this._tiles[c];m&&(it(m.el),delete this._tiles[c],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){Ae(c,"leaflet-tile");var m=this.getTileSize();c.style.width=m.x+"px",c.style.height=m.y+"px",c.onselectstart=h,c.onmousemove=h,ke.ielt9&&this.options.opacity<1&&Wr(c,this.options.opacity)},_addTile:function(c,m){var v=this._getTilePos(c),S=this._tileCoordsToKey(c),E=this.createTile(this._wrapCoords(c),o(this._tileReady,this,c));this._initTile(E),this.createTile.length<2&&I(o(this._tileReady,this,c,null,E)),bt(E,v),this._tiles[S]={el:E,coords:c,current:!0},m.appendChild(E),this.fire("tileloadstart",{tile:E,coords:c})},_tileReady:function(c,m,v){m&&this.fire("tileerror",{error:m,tile:v,coords:c});var S=this._tileCoordsToKey(c);v=this._tiles[S],v&&(v.loaded=+new Date,this._map._fadeAnimated?(Wr(v.el,0),z(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),m||(Ae(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ke.ielt9||!this._map._fadeAnimated?I(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var m=new M(this._wrapX?f(c.x,this._wrapX):c.x,this._wrapY?f(c.y,this._wrapY):c.y);return m.z=c.z,m},_pxBoundsToTileRange:function(c){var m=this.getTileSize();return new V(c.min.unscaleBy(m).floor(),c.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}});function cF(c){return new gu(c)}var ml=gu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(c,m){this._url=c,m=b(this,m),m.detectRetina&&ke.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(c,m){return this._url===c&&m===void 0&&(m=!0),this._url=c,m||this.redraw(),this},createTile:function(c,m){var v=document.createElement("img");return Te(v,"load",o(this._tileOnLoad,this,m,v)),Te(v,"error",o(this._tileOnError,this,m,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(c),v},getTileUrl:function(c){var m={r:ke.retina?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-c.y;this.options.tms&&(m.y=v),m["-y"]=v}return k(this._url,a(m,this.options))},_tileOnLoad:function(c,m){ke.ielt9?setTimeout(o(c,this,null,m),0):c(null,m)},_tileOnError:function(c,m,v){var S=this.options.errorTileUrl;S&&m.getAttribute("src")!==S&&(m.src=S),c(v,m)},_onTileRemove:function(c){c.tile.onload=null},_getZoomForUrl:function(){var c=this._tileZoom,m=this.options.maxZoom,v=this.options.zoomReverse,S=this.options.zoomOffset;return v&&(c=m-c),c+S},_getSubdomain:function(c){var m=Math.abs(c.x+c.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var c,m;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom&&(m=this._tiles[c].el,m.onload=h,m.onerror=h,!m.complete)){m.src=P;var v=this._tiles[c].coords;it(m),delete this._tiles[c],this.fire("tileabort",{tile:m,coords:v})}},_removeTile:function(c){var m=this._tiles[c];if(m)return m.el.setAttribute("src",P),gu.prototype._removeTile.call(this,c)},_tileReady:function(c,m,v){if(!(!this._map||v&&v.getAttribute("src")===P))return gu.prototype._tileReady.call(this,c,m,v)}});function cN(c,m){return new ml(c,m)}var uN=ml.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(c,m){this._url=c;var v=a({},this.defaultWmsParams);for(var S in m)S in this.options||(v[S]=m[S]);m=b(this,m);var E=m.detectRetina&&ke.retina?2:1,R=this.getTileSize();v.width=R.x*E,v.height=R.y*E,this.wmsParams=v},onAdd:function(c){this._crs=this.options.crs||c.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,ml.prototype.onAdd.call(this,c)},getTileUrl:function(c){var m=this._tileCoordsToNwSe(c),v=this._crs,S=G(v.project(m[0]),v.project(m[1])),E=S.min,R=S.max,K=(this._wmsVersion>=1.3&&this._crs===rN?[E.y,E.x,R.y,R.x]:[E.x,E.y,R.x,R.y]).join(","),J=ml.prototype.getTileUrl.call(this,c);return J+_(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(c,m){return a(this.wmsParams,c),m||this.redraw(),this}});function uF(c,m){return new uN(c,m)}ml.WMS=uN,cN.wms=uF;var ti=Gn.extend({options:{padding:.1},initialize:function(c){b(this,c),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(c.zoomanim=this._onAnimZoom),c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,m){var v=this._map.getZoomScale(m,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,m),R=S.multiplyBy(-v).add(E).subtract(this._map._getNewPixelOrigin(c,m));ke.any3d?Xa(this._container,R,v):bt(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,m=this._map.getSize(),v=this._map.containerPointToLayerPoint(m.multiplyBy(-c)).round();this._bounds=new V(v,v.add(m.multiplyBy(1+c*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),dN=ti.extend({options:{tolerance:0},getEvents:function(){var c=ti.prototype.getEvents.call(this);return c.viewprereset=this._onViewPreReset,c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ti.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");Te(c,"mousemove",this._onMouseMove,this),Te(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(c,"mouseout",this._handleMouseOut,this),c._leaflet_disable_events=!0,this._ctx=c.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,it(this._container),tt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var c;this._redrawBounds=null;for(var m in this._layers)c=this._layers[m],c._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ti.prototype._update.call(this);var c=this._bounds,m=this._container,v=c.getSize(),S=ke.retina?2:1;bt(m,c.min),m.width=S*v.x,m.height=S*v.y,m.style.width=v.x+"px",m.style.height=v.y+"px",ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-c.min.x,-c.min.y),this.fire("update")}},_reset:function(){ti.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c),this._layers[u(c)]=c;var m=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},_removePath:function(c){var m=c._order,v=m.next,S=m.prev;v?v.prev=S:this._drawLast=S,S?S.next=v:this._drawFirst=v,delete c._order,delete this._layers[u(c)],this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c),c._project(),c._update(),this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c),this._requestRedraw(c)},_updateDashArray:function(c){if(typeof c.options.dashArray=="string"){var m=c.options.dashArray.split(/[, ]+/),v=[],S,E;for(E=0;E<m.length;E++){if(S=Number(m[E]),isNaN(S))return;v.push(S)}c.options._dashArray=v}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||I(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var m=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(c._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(c._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var m=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c,m=this._redrawBounds;if(this._ctx.save(),m){var v=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)c=S.layer,(!m||c._pxBounds&&c._pxBounds.intersects(m))&&c._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(c,m){if(this._drawing){var v,S,E,R,K=c._parts,J=K.length,ne=this._ctx;if(J){for(ne.beginPath(),v=0;v<J;v++){for(S=0,E=K[v].length;S<E;S++)R=K[v][S],ne[S?"lineTo":"moveTo"](R.x,R.y);m&&ne.closePath()}this._fillStroke(ne,c)}}},_updateCircle:function(c){if(!(!this._drawing||c._empty())){var m=c._point,v=this._ctx,S=Math.max(Math.round(c._radius),1),E=(Math.max(Math.round(c._radiusY),1)||S)/S;E!==1&&(v.save(),v.scale(1,E)),v.beginPath(),v.arc(m.x,m.y/E,S,0,Math.PI*2,!1),E!==1&&v.restore(),this._fillStroke(v,c)}},_fillStroke:function(c,m){var v=m.options;v.fill&&(c.globalAlpha=v.fillOpacity,c.fillStyle=v.fillColor||v.color,c.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(c.setLineDash&&c.setLineDash(m.options&&m.options._dashArray||[]),c.globalAlpha=v.opacity,c.lineWidth=v.weight,c.strokeStyle=v.color,c.lineCap=v.lineCap,c.lineJoin=v.lineJoin,c.stroke())},_onClick:function(c){for(var m=this._map.mouseEventToLayerPoint(c),v,S,E=this._drawFirst;E;E=E.next)v=E.layer,v.options.interactive&&v._containsPoint(m)&&(!(c.type==="click"||c.type==="preclick")||!this._map._draggableMoved(v))&&(S=v);this._fireEvent(S?[S]:!1,c)},_onMouseMove:function(c){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(c);this._handleMouseHover(c,m)}},_handleMouseOut:function(c){var m=this._hoveredLayer;m&&(vt(this._container,"leaflet-interactive"),this._fireEvent([m],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,m){if(!this._mouseHoverThrottled){for(var v,S,E=this._drawFirst;E;E=E.next)v=E.layer,v.options.interactive&&v._containsPoint(m)&&(S=v);S!==this._hoveredLayer&&(this._handleMouseOut(c),S&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([S],c,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,c),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,m,v){this._map._fireDOMEvent(m,v||m.type,c)},_bringToFront:function(c){var m=c._order;if(m){var v=m.next,S=m.prev;if(v)v.prev=S;else return;S?S.next=v:v&&(this._drawFirst=v),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(c)}},_bringToBack:function(c){var m=c._order;if(m){var v=m.next,S=m.prev;if(S)S.next=v;else return;v?v.prev=S:S&&(this._drawLast=S),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(c)}}});function fN(c){return ke.canvas?new dN(c):null}var yu=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch{}return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),dF={_initContainer:function(){this._container=Be("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ti.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var m=c._container=yu("shape");Ae(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",c._path=yu("path"),m.appendChild(c._path),this._updateStyle(c),this._layers[u(c)]=c},_addPath:function(c){var m=c._container;this._container.appendChild(m),c.options.interactive&&c.addInteractiveTarget(m)},_removePath:function(c){var m=c._container;it(m),c.removeInteractiveTarget(m),delete this._layers[u(c)]},_updateStyle:function(c){var m=c._stroke,v=c._fill,S=c.options,E=c._container;E.stroked=!!S.stroke,E.filled=!!S.fill,S.stroke?(m||(m=c._stroke=yu("stroke")),E.appendChild(m),m.weight=S.weight+"px",m.color=S.color,m.opacity=S.opacity,S.dashArray?m.dashStyle=j(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=S.lineCap.replace("butt","flat"),m.joinstyle=S.lineJoin):m&&(E.removeChild(m),c._stroke=null),S.fill?(v||(v=c._fill=yu("fill")),E.appendChild(v),v.color=S.fillColor||S.color,v.opacity=S.fillOpacity):v&&(E.removeChild(v),c._fill=null)},_updateCircle:function(c){var m=c._point.round(),v=Math.round(c._radius),S=Math.round(c._radiusY||v);this._setPath(c,c._empty()?"M0 0":"AL "+m.x+","+m.y+" "+v+","+S+" 0,"+65535*360)},_setPath:function(c,m){c._path.v=m},_bringToFront:function(c){Ui(c._container)},_bringToBack:function(c){Hi(c._container)}},wh=ke.vml?yu:Oe,xu=ti.extend({_initContainer:function(){this._container=wh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){it(this._container),tt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ti.prototype._update.call(this);var c=this._bounds,m=c.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,v.setAttribute("width",m.x),v.setAttribute("height",m.y)),bt(v,c.min),v.setAttribute("viewBox",[c.min.x,c.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(c){var m=c._path=wh("path");c.options.className&&Ae(m,c.options.className),c.options.interactive&&Ae(m,"leaflet-interactive"),this._updateStyle(c),this._layers[u(c)]=c},_addPath:function(c){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(c._path),c.addInteractiveTarget(c._path)},_removePath:function(c){it(c._path),c.removeInteractiveTarget(c._path),delete this._layers[u(c)]},_updatePath:function(c){c._project(),c._update()},_updateStyle:function(c){var m=c._path,v=c.options;m&&(v.stroke?(m.setAttribute("stroke",v.color),m.setAttribute("stroke-opacity",v.opacity),m.setAttribute("stroke-width",v.weight),m.setAttribute("stroke-linecap",v.lineCap),m.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?m.setAttribute("stroke-dasharray",v.dashArray):m.removeAttribute("stroke-dasharray"),v.dashOffset?m.setAttribute("stroke-dashoffset",v.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),v.fill?(m.setAttribute("fill",v.fillColor||v.color),m.setAttribute("fill-opacity",v.fillOpacity),m.setAttribute("fill-rule",v.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(c,m){this._setPath(c,Pe(c._parts,m))},_updateCircle:function(c){var m=c._point,v=Math.max(Math.round(c._radius),1),S=Math.max(Math.round(c._radiusY),1)||v,E="a"+v+","+S+" 0 1,0 ",R=c._empty()?"M0 0":"M"+(m.x-v)+","+m.y+E+v*2+",0 "+E+-v*2+",0 ";this._setPath(c,R)},_setPath:function(c,m){c._path.setAttribute("d",m)},_bringToFront:function(c){Ui(c._path)},_bringToBack:function(c){Hi(c._path)}});ke.vml&&xu.include(dF);function hN(c){return ke.svg||ke.vml?new xu(c):null}Ue.include({getRenderer:function(c){var m=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(c){if(c==="overlayPane"||c===void 0)return!1;var m=this._paneRenderers[c];return m===void 0&&(m=this._createRenderer({pane:c}),this._paneRenderers[c]=m),m},_createRenderer:function(c){return this.options.preferCanvas&&fN(c)||hN(c)}});var mN=fl.extend({initialize:function(c,m){fl.prototype.initialize.call(this,this._boundsToLatLngs(c),m)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){return c=Q(c),[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});function fF(c,m){return new mN(c,m)}xu.create=wh,xu.pointsToPath=Pe,ei.geometryToLayer=mh,ei.coordsToLatLng=ox,ei.coordsToLatLngs=ph,ei.latLngToCoords=lx,ei.latLngsToCoords=gh,ei.getFeature=hl,ei.asFeature=yh,Ue.mergeOptions({boxZoom:!0});var pN=ja.extend({initialize:function(c){this._map=c,this._container=c._container,this._pane=c._panes.overlayPane,this._resetStateTimeout=0,c.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){it(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||c.which!==1&&c.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),cu(),Wy(),this._startPoint=this._map.mouseEventToContainerPoint(c),Te(document,{contextmenu:Js,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=Be("div","leaflet-zoom-box",this._container),Ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(c);var m=new V(this._point,this._startPoint),v=m.getSize();bt(this._box,m.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(it(this._box),vt(this._container,"leaflet-crosshair")),uu(),Vy(),tt(document,{contextmenu:Js,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(!(c.which!==1&&c.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var m=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(c){c.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ue.addInitHook("addHandler","boxZoom",pN),Ue.mergeOptions({doubleClickZoom:!0});var gN=ja.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var m=this._map,v=m.getZoom(),S=m.options.zoomDelta,E=c.originalEvent.shiftKey?v-S:v+S;m.options.doubleClickZoom==="center"?m.setZoom(E):m.setZoomAround(c.containerPoint,E)}});Ue.addInitHook("addHandler","doubleClickZoom",gN),Ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yN=ja.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new Wi(c._mapPane,c._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}Ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var c=this._map;if(c._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=Q(this._map.options.maxBounds);this._offsetLimit=G(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart"),c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var m=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(m),this._prunePositions(m)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;this._positions.length>1&&c-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(c).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,m){return c-(c-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var c=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;c.x<m.min.x&&(c.x=this._viscousLimit(c.x,m.min.x)),c.y<m.min.y&&(c.y=this._viscousLimit(c.y,m.min.y)),c.x>m.max.x&&(c.x=this._viscousLimit(c.x,m.max.x)),c.y>m.max.y&&(c.y=this._viscousLimit(c.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,m=Math.round(c/2),v=this._initialWorldOffset,S=this._draggable._newPos.x,E=(S-m+v)%c+m-v,R=(S+m+v)%c-m-v,K=Math.abs(E+v)<Math.abs(R+v)?E:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(c){var m=this._map,v=m.options,S=!v.inertia||c.noInertia||this._times.length<2;if(m.fire("dragend",c),S)m.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,K=v.easeLinearity,J=E.multiplyBy(K/R),ne=J.distanceTo([0,0]),ce=Math.min(v.inertiaMaxSpeed,ne),ge=J.multiplyBy(ce/ne),Ee=ce/(v.inertiaDeceleration*K),Le=ge.multiplyBy(-Ee/2).round();!Le.x&&!Le.y?m.fire("moveend"):(Le=m._limitOffset(Le,m.options.maxBounds),I(function(){m.panBy(Le,{duration:Ee,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});Ue.addInitHook("addHandler","dragging",yN),Ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xN=ja.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c,this._setPanDelta(c.options.keyboardPanDelta),this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;c.tabIndex<=0&&(c.tabIndex="0"),Te(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),tt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,m=document.documentElement,v=c.scrollTop||m.scrollTop,S=c.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(S,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(c){var m=this._panKeys={},v=this.keyCodes,S,E;for(S=0,E=v.left.length;S<E;S++)m[v.left[S]]=[-1*c,0];for(S=0,E=v.right.length;S<E;S++)m[v.right[S]]=[c,0];for(S=0,E=v.down.length;S<E;S++)m[v.down[S]]=[0,c];for(S=0,E=v.up.length;S<E;S++)m[v.up[S]]=[0,-1*c]},_setZoomDelta:function(c){var m=this._zoomKeys={},v=this.keyCodes,S,E;for(S=0,E=v.zoomIn.length;S<E;S++)m[v.zoomIn[S]]=c;for(S=0,E=v.zoomOut.length;S<E;S++)m[v.zoomOut[S]]=-c},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var m=c.keyCode,v=this._map,S;if(m in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(S=this._panKeys[m],c.shiftKey&&(S=B(S).multiplyBy(3)),v.options.maxBounds&&(S=v._limitOffset(B(S),v.options.maxBounds)),v.options.worldCopyJump){var E=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(S)));v.panTo(E)}else v.panBy(S)}else if(m in this._zoomKeys)v.setZoom(v.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;Js(c)}}});Ue.addInitHook("addHandler","keyboard",xN),Ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vN=ja.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var m=Hk(c),v=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(c),this._startTime||(this._startTime=+new Date);var S=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),S),Js(c)},_performZoom:function(){var c=this._map,m=c.getZoom(),v=this._map.options.zoomSnap||0;c._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,R=v?Math.ceil(E/v)*v:E,K=c._limitZoom(m+(this._delta>0?R:-R))-m;this._delta=0,this._startTime=null,K&&(c.options.scrollWheelZoom==="center"?c.setZoom(m+K):c.setZoomAround(this._lastMousePos,m+K))}});Ue.addInitHook("addHandler","scrollWheelZoom",vN);var hF=600;Ue.mergeOptions({tapHold:ke.touchNative&&ke.safari&&ke.mobile,tapTolerance:15});var bN=ja.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(clearTimeout(this._holdTimeout),c.touches.length===1){var m=c.touches[0];this._startPos=this._newPos=new M(m.clientX,m.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",fr),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),hF),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function c(){tt(document,"touchend",fr),tt(document,"touchend touchcancel",c)},_cancel:function(){clearTimeout(this._holdTimeout),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)},_onMove:function(c){var m=c.touches[0];this._newPos=new M(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(c,m){var v=new MouseEvent(c,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});v._simulated=!0,m.target.dispatchEvent(v)}});Ue.addInitHook("addHandler","tapHold",bN),Ue.mergeOptions({touchZoom:ke.touch,bounceAtZoomLimits:!0});var wN=ja.extend({addHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(c){var m=this._map;if(!(!c.touches||c.touches.length!==2||m._animatingZoom||this._zooming)){var v=m.mouseEventToContainerPoint(c.touches[0]),S=m.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(v.add(S)._divideBy(2))),this._startDist=v.distanceTo(S),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),fr(c)}},_onTouchMove:function(c){if(!(!c.touches||c.touches.length!==2||!this._zooming)){var m=this._map,v=m.mouseEventToContainerPoint(c.touches[0]),S=m.mouseEventToContainerPoint(c.touches[1]),E=v.distanceTo(S)/this._startDist;if(this._zoom=m.getScaleZoom(E,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&E<1||this._zoom>m.getMaxZoom()&&E>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var R=v._add(S)._divideBy(2)._subtract(this._centerPoint);if(E===1&&R.x===0&&R.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var K=o(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=I(K,this,!0),fr(c)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ue.addInitHook("addHandler","touchZoom",wN),Ue.BoxZoom=pN,Ue.DoubleClickZoom=gN,Ue.Drag=yN,Ue.Keyboard=xN,Ue.ScrollWheelZoom=vN,Ue.TapHold=bN,Ue.TouchZoom=wN,r.Bounds=V,r.Browser=ke,r.CRS=oe,r.Canvas=dN,r.Circle=sx,r.CircleMarker=hh,r.Class=F,r.Control=Yn,r.DivIcon=lN,r.DivOverlay=ka,r.DomEvent=Az,r.DomUtil=Ez,r.Draggable=Wi,r.Evented=W,r.FeatureGroup=Qa,r.GeoJSON=ei,r.GridLayer=gu,r.Handler=ja,r.Icon=dl,r.ImageOverlay=xh,r.LatLng=ie,r.LatLngBounds=Z,r.Layer=Gn,r.LayerGroup=ul,r.LineUtil=Wz,r.Map=Ue,r.Marker=fh,r.Mixin=zz,r.Path=Vi,r.Point=M,r.PolyUtil=Fz,r.Polygon=fl,r.Polyline=Ja,r.Popup=vh,r.PosAnimation=Wk,r.Projection=Vz,r.Rectangle=mN,r.Renderer=ti,r.SVG=xu,r.SVGOverlay=oN,r.TileLayer=ml,r.Tooltip=bh,r.Transformation=fe,r.Util=U,r.VideoOverlay=sN,r.bind=o,r.bounds=G,r.canvas=fN,r.circle=Jz,r.circleMarker=Qz,r.control=hu,r.divIcon=lF,r.extend=a,r.featureGroup=Yz,r.geoJSON=iN,r.geoJson=rF,r.gridLayer=cF,r.icon=Gz,r.imageOverlay=nF,r.latLng=se,r.latLngBounds=Q,r.layerGroup=Zz,r.map=Tz,r.marker=Xz,r.point=B,r.polygon=tF,r.polyline=eF,r.popup=sF,r.rectangle=fF,r.setOptions=b,r.stamp=u,r.svg=hN,r.svgOverlay=iF,r.tileLayer=cN,r.tooltip=oF,r.transformation=te,r.version=n,r.videoOverlay=aF;var mF=window.L;r.noConflict=function(){return window.L=mF,this},window.L=r})})(r_,r_.exports);var vy=r_.exports;function Rk(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function zk(e,t){return t==null?function(n,a){const i=x.useRef();return i.current||(i.current=e(n,a)),i}:function(n,a){const i=x.useRef();i.current||(i.current=e(n,a));const o=x.useRef(n),{instance:l}=i.current;return x.useEffect(function(){o.current!==n&&(t(l,n,o.current),o.current=n)},[l,n,a]),i}}function Nz(e,t){x.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var i;(i=t.layerContainer)==null||i.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Vme(e){return function(r){const n=Lk(),a=e(xy(r,n),n);return _z(n.map,r.attribution),Dk(a.current,r.eventHandlers),Nz(a.current,n),a}}function Kme(e,t){const r=x.useRef();x.useEffect(function(){if(t.pathOptions!==r.current){const a=t.pathOptions??{};e.instance.setStyle(a),r.current=a}},[e,t])}function qme(e){return function(r){const n=Lk(),a=e(xy(r,n),n);return Dk(a.current,r.eventHandlers),Nz(a.current,n),Kme(a.current,r),a}}function Zme(e,t){const r=zk(e),n=Wme(r,t);return Ume(n)}function Yme(e,t){const r=zk(e,t),n=qme(r);return Bme(n)}function Gme(e,t){const r=zk(e,t),n=Vme(r);return Hme(n)}function Xme(e,t,r){const{opacity:n,zIndex:a}=t;n!=null&&n!==r.opacity&&e.setOpacity(n),a!=null&&a!==r.zIndex&&e.setZIndex(a)}const Qme=Yme(function({center:t,children:r,...n},a){const i=new vy.CircleMarker(t,n);return Rk(i,$me(a,{overlayContainer:i}))},Rme);function n_(){return n_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(this,arguments)}function Jme({bounds:e,boundsOptions:t,center:r,children:n,className:a,id:i,placeholder:o,style:l,whenReady:u,zoom:d,...f},h){const[p]=x.useState({className:a,id:i,style:l}),[g,y]=x.useState(null);x.useImperativeHandle(h,()=>(g==null?void 0:g.map)??null,[g]);const b=x.useCallback(w=>{if(w!==null&&g===null){const k=new vy.Map(w,f);r!=null&&d!=null?k.setView(r,d):e!=null&&k.fitBounds(e,t),u!=null&&k.whenReady(u),y(Fme(k))}},[]);x.useEffect(()=>()=>{g==null||g.map.remove()},[g]);const _=g?Sr.createElement(kz,{value:g},n):o??null;return Sr.createElement("div",n_({},p,{ref:b}),_)}const epe=x.forwardRef(Jme),tpe=Zme(function(t,r){const n=new vy.Popup(t,r.overlayContainer);return Rk(n,r)},function(t,r,{position:n},a){x.useEffect(function(){const{instance:o}=t;function l(d){d.popup===o&&(o.update(),a(!0))}function u(d){d.popup===o&&a(!1)}return r.map.on({popupopen:l,popupclose:u}),r.overlayContainer==null?(n!=null&&o.setLatLng(n),o.openOn(r.map)):r.overlayContainer.bindPopup(o),function(){var f;r.map.off({popupopen:l,popupclose:u}),(f=r.overlayContainer)==null||f.unbindPopup(),r.map.removeLayer(o)}},[t,r,a,n])}),rpe=Gme(function({url:t,...r},n){const a=new vy.TileLayer(t,xy(r,n));return Rk(a,n)},function(t,r,n){Xme(t,r,n);const{url:a}=r;a!=null&&a!==n.url&&t.setUrl(a)}),vm=["#8884d8","#82ca9d","#ffc658","#ff7300","#0088fe","#00C49F","#FFBB28","#FF8042","#a4de6c","#d0ed57"],npe=()=>{var I,z,U,F,q,H,W;const[e]=wM(),[t,r]=x.useState([]),[n,a]=x.useState(()=>{const M=e.get("dataset_id");return M?Number(M):null}),[i,o]=x.useState(null),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(null),[g,y]=x.useState("sample"),[b,_]=x.useState(""),[w,k]=x.useState([]),[j,N]=x.useState(null);x.useEffect(()=>{P()},[]),x.useEffect(()=>{n?(o(null),A(n),C(n)):(o(null),k([]))},[n]),x.useEffect(()=>{let M;return i&&i.status==="PENDING"&&(M=setInterval(()=>{n&&(A(n,!0),C(n))},3e3)),()=>clearInterval(M)},[i,n]);const P=async()=>{try{const M=await $n.getUsable();r(M),M.length>0&&!n&&a(Number(M[0].id))}catch(M){console.error("Failed to load datasets",M)}},C=async M=>{try{const D=await xm.getHistory(M);k(D)}catch(D){console.error("Failed to load history",D)}},A=async(M,D=!1)=>{D||u(!0),p(null);try{const B=await xm.getLatestReport(M);o(B)}catch(B){B.response&&B.response.status===404?o(null):D||p("Failed to load report")}finally{D||u(!1)}},O=async M=>{u(!0);try{const D=await xm.getReport(M);o(D)}catch{p("Failed to load report")}finally{u(!1)}},T=async()=>{if(n){f(!0);try{await xm.analyze(n,b||void 0),A(n),C(n)}catch{p("Failed to start analysis")}finally{f(!1)}}};x.useEffect(()=>{i&&i.profile_data&&i.profile_data.target_col&&_(i.profile_data.target_col)},[i]);const $=()=>{var D;if(l&&!i)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Xr,{className:"w-8 h-8 animate-spin text-blue-500"})});if(h)return s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500",children:[s.jsx(an,{className:"w-16 h-16 mb-4"}),s.jsx("p",{children:"Error"}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:h}),s.jsxs("button",{onClick:()=>n&&A(n),className:"mt-4 flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"Retry"]})]});if(!i)return s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[s.jsx(Cd,{className:"w-16 h-16 mb-4 opacity-20"}),s.jsx("p",{className:"mb-4",children:"No analysis found for this dataset."}),s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"w-64",children:s.jsx("input",{type:"text",value:b,onChange:B=>_(B.target.value),placeholder:"Target Column (Optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})}),s.jsxs("button",{onClick:T,disabled:d,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[d?s.jsx(Xr,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx($s,{className:"w-4 h-4 mr-2"}),"Run Analysis"]})]})]});if(i.status==="PENDING")return s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[s.jsx(Xr,{className:"w-16 h-16 mb-4 animate-spin text-blue-500"}),s.jsx("p",{children:"Analysis in progress..."}),s.jsx("p",{className:"text-sm text-gray-400",children:"This may take a few moments."})]});if(i.status==="FAILED")return s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500",children:[s.jsx(an,{className:"w-16 h-16 mb-4"}),s.jsx("p",{children:"Analysis Failed"}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:i.error_message}),s.jsxs("button",{onClick:T,className:"mt-4 flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"Retry"]})]});const M=i.profile_data;return M?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Rows"}),s.jsx("div",{className:"text-2xl font-bold",children:M.row_count.toLocaleString()})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Columns"}),s.jsx("div",{className:"text-2xl font-bold",children:M.column_count})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Missing Cells"}),s.jsxs("div",{className:"text-2xl font-bold",children:[M.missing_cells_percentage.toFixed(1),"%"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Duplicates"}),s.jsx("div",{className:"text-2xl font-bold",children:M.duplicate_rows})]})]}),M.alerts&&M.alerts.length>0&&s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[s.jsx("div",{className:"flex justify-between items-center mb-2",children:s.jsxs("h3",{className:"font-medium text-amber-800 dark:text-amber-200 flex items-center",children:[s.jsx(an,{className:"w-4 h-4 mr-2"}),"Data Quality Alerts (",M.alerts.length,")"]})}),s.jsx("div",{className:"max-h-40 overflow-y-auto pr-2",children:s.jsx("ul",{className:"space-y-1",children:M.alerts.map((B,V)=>s.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300 flex items-start",children:[s.jsx("span",{className:"mr-2",children:""}),s.jsxs("span",{children:[B.column&&s.jsxs("span",{className:"font-semibold",children:[B.column,": "]}),B.message]})]},V))})})]}),s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>y("sample"),className:`py-4 px-1 border-b-2 font-medium text-sm ${g==="sample"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Sample Data"}),s.jsx("button",{onClick:()=>y("variables"),className:`py-4 px-1 border-b-2 font-medium text-sm ${g==="variables"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Variables"}),s.jsxs("button",{onClick:()=>y("insights"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${g==="insights"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(_p,{className:"w-4 h-4"}),"Smart Insights"]}),s.jsxs("button",{onClick:()=>y("pca"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${g==="pca"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(rS,{className:"w-4 h-4"}),"Multivariate (PCA)"]}),M.geospatial&&s.jsxs("button",{onClick:()=>y("geospatial"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${g==="geospatial"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(tS,{className:"w-4 h-4"}),"Geospatial"]}),s.jsx("button",{onClick:()=>y("correlations"),className:`py-4 px-1 border-b-2 font-medium text-sm ${g==="correlations"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Correlations"}),M.target_col&&s.jsx("button",{onClick:()=>y("target"),className:`py-4 px-1 border-b-2 font-medium text-sm ${g==="target"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Target Analysis"})]})}),g==="insights"&&s.jsx("div",{className:"mt-4 space-y-6",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[s.jsx(_p,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Actionable Recommendations"]}),M.recommendations&&M.recommendations.length>0?s.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2",children:M.recommendations.map((B,V)=>s.jsxs("div",{className:"flex items-start p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-100 dark:border-gray-800",children:[s.jsx("div",{className:`p-2 rounded-full mr-4 shrink-0 ${B.action==="Drop"?"bg-red-100 text-red-600":B.action==="Impute"?"bg-blue-100 text-blue-600":B.action==="Transform"?"bg-purple-100 text-purple-600":B.action==="Resample"?"bg-orange-100 text-orange-600":"bg-green-100 text-green-600"}`,children:B.action==="Drop"?s.jsx(lr,{className:"w-4 h-4"}):B.action==="Keep"?s.jsx(pa,{className:"w-4 h-4"}):s.jsx(la,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[B.action," ",B.column&&s.jsxs("span",{className:"text-gray-500",children:["'",B.column,"'"]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:B.suggestion}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2 italic",children:["Reason: ",B.reason]})]})]},V))}):s.jsx("p",{className:"text-gray-500 italic",children:"No specific recommendations found. Your data looks clean!"})]})}),g==="pca"&&s.jsxs("div",{className:"mt-4 bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[s.jsx(rS,{className:"w-5 h-5 mr-2 text-purple-500"}),"Multivariate Structure (PCA)"]}),M.pca_data?s.jsx("div",{className:"h-[500px] w-full",children:s.jsx(gs,{width:"100%",height:"100%",children:s.jsxs(t_,{margin:{top:20,right:20,bottom:40,left:20},children:[s.jsx(ys,{strokeDasharray:"3 3"}),s.jsx(xs,{type:"number",dataKey:"x",name:"PC1",label:{value:"Principal Component 1 (PC1)",position:"bottom",offset:20,fill:"#6b7280"}}),s.jsx(vs,{type:"number",dataKey:"y",name:"PC2",label:{value:"Principal Component 2 (PC2)",angle:-90,position:"insideLeft",style:{textAnchor:"middle"},fill:"#6b7280"}}),s.jsx(go,{cursor:{strokeDasharray:"3 3"}}),s.jsx(mj,{verticalAlign:"top",height:36}),(()=>{const B={};let V=!1;return M.pca_data.forEach(G=>{const Z=G.label||"Data Points";G.label&&(V=!0),B[Z]||(B[Z]=[]),B[Z].push(G)}),Object.keys(B).map((G,Z)=>s.jsx(Sg,{name:G,data:B[G],fill:V?vm[Z%vm.length]:"#8884d8",fillOpacity:.6},G))})()]})})}):s.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 dark:bg-gray-900 rounded text-gray-400 text-sm text-center p-4",children:"Not enough numeric data for PCA."}),s.jsxs("div",{className:"mt-6 flex items-start gap-2 bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md border border-blue-100 dark:border-blue-800",children:[s.jsx(Bo,{className:"w-4 h-4 text-blue-500 mt-0.5 shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[s.jsx("p",{className:"font-medium mb-1",children:"About this visualization"}),s.jsx("p",{children:"This chart shows a 2D projection of your data using Principal Component Analysis (PCA). Points that are close together share similar characteristics across all numeric features."}),s.jsxs("p",{className:"mt-1 text-xs opacity-80",children:["* For performance, this visualization uses a random sample of up to ",s.jsx("strong",{children:"5,000 points"}),"."]})]})]})]}),g==="geospatial"&&M.geospatial&&s.jsxs("div",{className:"mt-4 bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[s.jsx(tS,{className:"w-5 h-5 mr-2 text-blue-500"}),"Geospatial Analysis"]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Detected columns: ",s.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-900 px-1 rounded",children:M.geospatial.lat_col}),", ",s.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-900 px-1 rounded",children:M.geospatial.lon_col})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 h-96 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 relative z-0",children:(()=>{const B=[[M.geospatial.min_lat,M.geospatial.min_lon],[M.geospatial.max_lat,M.geospatial.max_lon]],V=Array.from(new Set(M.geospatial.sample_points.map(Q=>Q.label))).filter(Boolean),G=V.length>20,Z=Q=>{if(!Q||G)return"#3b82f6";const ie=V.indexOf(Q);return vm[ie%vm.length]};return s.jsxs(epe,{bounds:B,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[s.jsx(rpe,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),M.geospatial.sample_points.map((Q,ie)=>s.jsx(Qme,{center:[Q.lat,Q.lon],radius:5,pathOptions:{color:Z(Q.label),fillColor:Z(Q.label),fillOpacity:.7,weight:1},children:s.jsx(tpe,{children:s.jsxs("div",{className:"text-xs",children:[s.jsx("strong",{children:"Lat:"})," ",Q.lat.toFixed(4),s.jsx("br",{}),s.jsx("strong",{children:"Lon:"})," ",Q.lon.toFixed(4),s.jsx("br",{}),Q.label&&s.jsxs(s.Fragment,{children:[s.jsxs("strong",{children:[M.target_col,":"]})," ",Q.label]})]})})},ie))]})})()}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-md",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Spatial Bounds"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"block text-xs text-gray-400",children:"Latitude Range"}),s.jsxs("span",{className:"font-mono",children:[M.geospatial.min_lat.toFixed(4)," to ",M.geospatial.max_lat.toFixed(4)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block text-xs text-gray-400",children:"Longitude Range"}),s.jsxs("span",{className:"font-mono",children:[M.geospatial.min_lon.toFixed(4)," to ",M.geospatial.max_lon.toFixed(4)]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-md",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Centroid"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),s.jsxs("span",{className:"font-mono text-sm",children:[M.geospatial.centroid_lat.toFixed(4),", ",M.geospatial.centroid_lon.toFixed(4)]})]})]}),s.jsxs("div",{className:"flex items-start gap-2 bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md border border-blue-100 dark:border-blue-800",children:[s.jsx(Bo,{className:"w-4 h-4 text-blue-500 mt-0.5 shrink-0"}),s.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:s.jsxs("p",{children:["This scatter plot shows the spatial distribution of your data.",M.target_col&&" Points are colored by the target variable."]})})]})]})]})]}),g==="target"&&M.target_col&&M.target_correlations&&s.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[s.jsx(Cd,{className:"w-5 h-5 mr-2 text-blue-500"}),"Target Analysis: ",s.jsx("span",{className:"ml-2 text-blue-600",children:M.target_col})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Top Associated Features"}),s.jsx("div",{className:"h-64 w-full",children:s.jsx(gs,{width:"100%",height:"100%",children:s.jsxs(yy,{data:Object.entries(M.target_correlations).slice(0,10).map(([B,V])=>({name:B,value:V})),layout:"vertical",margin:{top:5,right:30,left:40,bottom:5},children:[s.jsx(ys,{strokeDasharray:"3 3",horizontal:!1}),s.jsx(xs,{type:"number",domain:[0,1]}),s.jsx(vs,{type:"category",dataKey:"name",width:120,tick:{fontSize:12}}),s.jsx(go,{contentStyle:{backgroundColor:"#1f2937",border:"none",color:"#fff"},itemStyle:{color:"#fff"},formatter:B=>[B.toFixed(3),"Association"]}),s.jsx(Pk,{x:0,stroke:"#9ca3af"}),s.jsx(Xf,{dataKey:"value",fill:"#3b82f6",radius:[0,4,4,0],barSize:20})]})})})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-md",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Key Insights"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"mr-2 text-blue-500",children:""}),s.jsxs("span",{children:["Target is ",s.jsx("strong",{children:(D=M.columns[M.target_col])==null?void 0:D.dtype})]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"mr-2 text-blue-500",children:""}),s.jsxs("span",{children:["Strongest predictor: ",s.jsx("strong",{children:Object.keys(M.target_correlations)[0]||"None"}),Object.values(M.target_correlations)[0]!==void 0&&s.jsxs(s.Fragment,{children:[" (",Object.values(M.target_correlations)[0].toFixed(2),")"]})]})]})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm h-fit",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Yg,{className:"w-4 h-4 mr-2"}),"Analysis History"]}),l&&s.jsx(Xr,{className:"w-3 h-3 animate-spin text-blue-500"})]}),s.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:w.length===0?s.jsx("p",{className:"text-xs text-gray-500 italic",children:"No previous analyses found."}):w.slice(0,10).map(B=>s.jsxs("button",{onClick:()=>!l&&O(B.id),disabled:l,className:`w-full text-left p-3 rounded-md text-sm border transition-colors ${i&&i.id===B.id?"bg-blue-50 border-blue-200 text-blue-700 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-300":"bg-gray-50 border-gray-100 text-gray-600 hover:bg-gray-100 dark:bg-gray-900 dark:border-gray-800 dark:text-gray-400 dark:hover:bg-gray-800"} ${l?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx("div",{className:"font-medium truncate",children:B.target_col?`Target: ${B.target_col}`:"General Analysis"}),s.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(B.created_at).toLocaleString()}),s.jsx("div",{className:`text-xs mt-1 inline-block px-1.5 py-0.5 rounded ${B.status==="COMPLETED"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":B.status==="FAILED"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:B.status})]},B.id))})]})]}),g==="variables"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Object.values(M.columns).map(B=>s.jsx(Ime,{profile:B,onClick:()=>N(B)},B.name))}),g==="correlations"&&M.correlations&&s.jsx("div",{className:"mt-4",children:s.jsx(Lme,{data:M.correlations})}),g==="sample"&&M.sample_data&&s.jsx("div",{className:"mt-4 overflow-x-auto bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:s.jsx("tr",{children:Object.keys(M.sample_data[0]||{}).map(B=>s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:B},B))})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:M.sample_data.map((B,V)=>s.jsx("tr",{children:Object.values(B).map((G,Z)=>s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:G!==null?String(G):s.jsx("span",{className:"italic text-gray-400",children:"null"})},Z))},V))})]})})]}):s.jsx("div",{children:"No profile data"})};return s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Exploratory Data Analysis"}),i&&i.created_at&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last analyzed: ",new Date(i.created_at).toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("select",{value:n||"",onChange:M=>a(Number(M.target.value)),className:"block w-48 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",children:[s.jsx("option",{value:"",disabled:!0,children:"Select a dataset"}),t.map(M=>s.jsx("option",{value:M.id,children:M.name},M.id))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Target:"}),s.jsxs("select",{value:b,onChange:M=>_(M.target.value),disabled:!i||!i.profile_data,className:"block w-40 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border disabled:opacity-50",children:[s.jsx("option",{value:"",children:"None"}),i&&i.profile_data&&Object.keys(i.profile_data.columns).map(M=>s.jsx("option",{value:M,children:M},M))]})]}),s.jsx("button",{onClick:()=>n&&T(),disabled:!n||d,className:"p-2 text-gray-500 hover:text-blue-600 rounded-full hover:bg-gray-100",title:"Refresh Analysis",children:s.jsx(la,{className:`w-5 h-5 ${d?"animate-spin":""}`})})]})]}),$(),j&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col animate-in fade-in zoom-in duration-200",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 z-10",children:[s.jsx("div",{children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[j.name,s.jsx("span",{className:`text-sm font-normal px-2 py-0.5 rounded-full ${j.dtype==="Numeric"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":j.dtype==="Categorical"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:j.dtype})]})}),s.jsx("button",{onClick:()=>N(null),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:s.jsx(lr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg border border-gray-100 dark:border-gray-800",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-4 uppercase tracking-wider",children:"Distribution"}),s.jsx(Dme,{profile:j})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"General Statistics"}),s.jsx("div",{className:"grid grid-cols-2 gap-4 text-sm",children:s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Missing"}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[j.missing_count," (",j.missing_percentage.toFixed(2),"%)"]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:[j.dtype," Statistics"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[j.numeric_stats&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Mean"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(I=j.numeric_stats.mean)==null?void 0:I.toFixed(4)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Median"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(z=j.numeric_stats.median)==null?void 0:z.toFixed(4)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Std Dev"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(U=j.numeric_stats.std)==null?void 0:U.toFixed(4)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Min"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.numeric_stats.min})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Max"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.numeric_stats.max})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Zeros"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.numeric_stats.zeros_count})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Skewness"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(F=j.numeric_stats.skewness)==null?void 0:F.toFixed(4)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Kurtosis"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(q=j.numeric_stats.kurtosis)==null?void 0:q.toFixed(4)})]})]}),j.categorical_stats&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Unique Values"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.categorical_stats.unique_count})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Rare Labels"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.categorical_stats.rare_labels_count})]})]}),j.text_stats&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Avg Length"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(H=j.text_stats.avg_length)==null?void 0:H.toFixed(2)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Min Length"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.text_stats.min_length})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Max Length"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.text_stats.max_length})]})]}),j.date_stats&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Min Date"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.date_stats.min_date})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Max Date"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.date_stats.max_date})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Duration (Days)"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(W=j.date_stats.duration_days)==null?void 0:W.toFixed(1)})]})]})]})]})]})]})]})})]})};function ape(){return s.jsx(t7,{children:s.jsx(AB,{children:s.jsxs(Xi,{path:"/",element:s.jsx(Q7,{}),children:[s.jsx(Xi,{index:!0,element:s.jsx(MU,{})}),s.jsx(Xi,{path:"data",element:s.jsx(RU,{})}),s.jsx(Xi,{path:"eda",element:s.jsx(npe,{})}),s.jsx(Xi,{path:"canvas",element:s.jsx(Ome,{})}),s.jsx(Xi,{path:"registry",element:s.jsx(Ame,{})}),s.jsx(Xi,{path:"deployments",element:s.jsx(Mme,{})})]})})})}const xo=e=>e&&typeof e=="object"?e:null,ipe=e=>{const t=xo(e),r=t==null?void 0:t.sample;if(!t||!Array.isArray(r)||r.length===0)return s.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No data available"});const n=xo(r[0])??{},a=Object.keys(n).slice(0,5),i=typeof t.name=="string"?t.name:"Dataset",o=Array.isArray(t.shape)?t.shape:null,l=o&&o.length>0?o[0]:void 0,u=o&&o.length>1?o[1]:void 0;return s.jsxs("div",{className:"overflow-x-auto rounded border border-border",children:[s.jsxs("div",{className:"text-xs font-semibold mb-1 flex justify-between p-2 bg-muted/50 border-b border-border",children:[s.jsx("span",{children:i}),s.jsxs("span",{className:"text-muted-foreground",children:[l??"?"," rows x ",u??"?"," cols"]})]}),s.jsxs("table",{className:"w-full text-[10px] border-collapse",children:[s.jsx("thead",{children:s.jsx("tr",{className:"bg-muted/30",children:a.map(d=>s.jsx("th",{className:"p-2 border-b border-r border-border text-left font-medium text-muted-foreground last:border-r-0",children:d},d))})}),s.jsx("tbody",{children:r.slice(0,5).map((d,f)=>s.jsx("tr",{className:"border-b border-border last:border-0 hover:bg-muted/20",children:a.map(h=>{var p;return s.jsx("td",{className:"p-2 border-r border-border truncate max-w-[80px] last:border-r-0",children:String(((p=xo(d))==null?void 0:p[h])??"")},h)})},f))})]})]})},spe=({config:e,onChange:t,nodeId:r})=>{var w;const{nodes:n,edges:a}=Ie(),[i,o]=x.useState(!1),[l,u]=x.useState(null),[d,f]=x.useState("train");x.useEffect(()=>{const k=e.lastRunJobId;if(!k)return;const j=async()=>{try{const P=await ir.getJob(k);u(P),P.status!=="completed"&&P.status}catch(P){console.error("Failed to fetch job",P)}};j();const N=setInterval(()=>{j()},2e3);return()=>{clearInterval(N)}},[e.lastRunJobId]);const h=async()=>{if(r){o(!0);try{const k=g0(n,a),j=await ir.runPipeline({...k,target_node_id:r,job_type:"preview"});t({...e,lastRunJobId:j.job_id})}catch(k){console.error("Failed to run preview:",k),alert("Failed to start preview job.")}finally{o(!1)}}},p=((w=l==null?void 0:l.result)==null?void 0:w.metrics)??(l==null?void 0:l.result),g=xo(p),y=g?xo(g.data_summary):null,b=g==null?void 0:g.operation_mode,_=typeof b=="string"?b:void 0;return s.jsxs("div",{className:"p-4 space-y-4 h-full overflow-y-auto",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Connect this node to any data output to inspect the data state, schema, and applied transformations."}),s.jsxs("button",{onClick:()=>{h()},disabled:i,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-[#38bdf8] via-[#6366f1] to-[#a855f7] text-white px-3 py-1.5 rounded-md hover:opacity-90 disabled:opacity-50 transition-all text-xs font-medium shadow-md",children:[i?s.jsx(ln,{size:14,className:"animate-spin"}):s.jsx($s,{size:14}),i?"Running...":"Run Preview"]}),e.lastRunJobId&&l&&l.status!=="completed"&&s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2 p-2 bg-muted/30 rounded border border-border",children:[s.jsx("span",{children:"Status:"}),s.jsx("span",{className:`ml-auto font-medium px-1.5 py-0.5 rounded text-[10px] ${l.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:l.status})]}),(l==null?void 0:l.status)==="completed"&&p&&s.jsxs("div",{className:"space-y-4 border-t border-border pt-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[s.jsxs("div",{className:"text-[10px] bg-blue-50 dark:bg-blue-950/30 text-blue-700 dark:text-blue-300 p-2 rounded border border-blue-100 dark:border-blue-900/50",children:[s.jsx("strong",{className:"block mb-0.5",children:"Operation Mode"}),_||"Unknown"]}),y&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex border-b border-border",children:["train","test","validation"].map(k=>y[k]?s.jsx("button",{className:`text-[10px] px-3 py-1.5 border-b-2 transition-colors ${d===k?"border-primary font-medium text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>{f(k)},children:k.charAt(0).toUpperCase()+k.slice(1)},k):null)}),y[d]?ipe(y[d]):s.jsxs("div",{className:"text-xs text-muted-foreground p-4 text-center border border-dashed border-border rounded",children:["No ",d," data available"]})]}),Array.isArray(g==null?void 0:g.applied_transformations)&&g.applied_transformations.length>0&&s.jsxs("div",{className:"pt-2 border-t border-border",children:[s.jsx("div",{className:"text-[10px] font-semibold mb-2 text-foreground",children:"Applied Steps"}),s.jsx("div",{className:"space-y-1.5",children:g.applied_transformations.map((k,j)=>{var N,P;return s.jsxs("div",{className:"text-[10px] flex items-center gap-2 text-muted-foreground p-1.5 bg-muted/30 rounded border border-border",children:[s.jsx("span",{className:"w-4 h-4 rounded-full bg-muted flex items-center justify-center text-[8px] font-medium text-foreground",children:j+1}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-foreground",children:String(((N=xo(k))==null?void 0:N.transformer_name)??"")}),s.jsx("span",{className:"text-[9px] opacity-80",children:String(((P=xo(k))==null?void 0:P.transformer_type)??"")})]})]},j)})})]})]})]})},ope=({data:e})=>{const[t,r]=x.useState(null);return x.useEffect(()=>{const n=e.lastRunJobId;if(!n)return;const a=async()=>{try{const o=await ir.getJob(n);r(o.status)}catch{r("error")}};a();const i=setInterval(()=>{a()},5e3);return()=>{clearInterval(i)}},[e.lastRunJobId]),s.jsx("div",{className:"text-xs flex items-center gap-2",children:e.lastRunJobId?t==="completed"?s.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium flex items-center gap-1",children:[s.jsx(pa,{size:12})," Ready"]}):t==="failed"?s.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium flex items-center gap-1",children:[s.jsx(an,{size:12})," Failed"]}):s.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-medium flex items-center gap-1",children:[s.jsx(ln,{size:12,className:"animate-spin"})," Running"]}):s.jsx("span",{className:"text-muted-foreground italic",children:"Not run yet"})})},lpe={type:"data_preview",label:"Data Preview",category:"Evaluation",description:"Inspect data state and transformations at this point.",icon:AM,inputs:[{id:"in",label:"Input Data",type:"any"}],outputs:[],component:ope,settings:spe,validate:()=>({isValid:!0}),getDefaultConfig:()=>({})},xt=e=>D8({queryKey:["dataset-schema",e],queryFn:()=>OU(e),enabled:!!e,staleTime:1e3*60*5}),cpe=({config:e,onChange:t})=>{const[r,n]=x.useState([]),[a,i]=x.useState(!1),[o,l]=x.useState(!1),{data:u,isLoading:d}=xt(e.datasetId),f=()=>{i(!0),$n.getUsable().then(n).catch(console.error).finally(()=>{i(!1)})};x.useEffect(()=>{f()},[]);const h=g=>{const y=g.target.value,b=r.find(_=>String(_.id)===y);t({...e,datasetId:y,datasetName:b==null?void 0:b.name})},p=(g,y)=>{l(!1),f(),t({...e,datasetId:g,datasetName:y})};return o?s.jsx(rI,{onUploadComplete:p,onCancel:()=>{l(!1)}}):s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),s.jsxs("button",{onClick:()=>{l(!0)},className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium",children:[s.jsx(tl,{size:14}),"New Upload"]})]}),a?s.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):s.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:h,children:[s.jsx("option",{value:"",children:"-- Select --"}),r.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}),e.datasetId&&s.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[s.jsx(q7,{size:14}),s.jsx("span",{children:"Dataset Schema"})]}),d?s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-auto",children:s.jsxs("table",{className:"w-full text-xs text-left min-w-max",children:[s.jsx("thead",{className:"bg-muted/20 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Column"}),s.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Type"}),s.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Missing"}),s.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Unique"}),s.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Min"}),s.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Max"}),s.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Mean"})]})}),s.jsx("tbody",{children:Object.values(u.columns).map(g=>s.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[s.jsx("td",{className:"p-2 font-mono font-medium whitespace-nowrap",children:g.name}),s.jsx("td",{className:"p-2 text-muted-foreground whitespace-nowrap",children:g.dtype}),s.jsx("td",{className:"p-2 text-right text-muted-foreground",children:g.missing_count}),s.jsx("td",{className:"p-2 text-right text-muted-foreground",children:g.unique_count}),s.jsx("td",{className:"p-2 text-right text-muted-foreground",children:g.min_value!==void 0?Number(g.min_value).toFixed(2):"-"}),s.jsx("td",{className:"p-2 text-right text-muted-foreground",children:g.max_value!==void 0?Number(g.max_value).toFixed(2):"-"}),s.jsx("td",{className:"p-2 text-right text-muted-foreground",children:g.mean_value!==void 0?Number(g.mean_value).toFixed(2):"-"})]},g.name))})]})}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):s.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},upe=({data:e})=>{const[t,r]=x.useState(void 0);x.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&$n.getById(e.datasetId).then(a=>{r(a.name)}).catch(()=>{r(e.datasetId)})},[e.datasetId,e.datasetName,t]);const n=e.datasetName||t||e.datasetId;return s.jsx("div",{className:"text-xs",children:e.datasetId?s.jsx("div",{className:"font-medium truncate max-w-[150px]",title:n,children:n||"Loading..."}):s.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},dpe={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:za,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:cpe,component:upe,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},Sz=(e,t,r,n=new Set)=>{var i;if(n.has(e.id))return;if(n.add(e.id),(i=e.data)!=null&&i.datasetId)return e.data.datasetId;const a=rl(e,t,r);for(const o of a){const l=Sz(o,t,r,n);if(l)return l}},At=e=>{const t=Ie(i=>i.nodes),r=Ie(i=>i.edges),n=t.find(i=>i.id===e);return n?rl(n,t,r).map(i=>{const o=Sz(i,t,r);return o&&!i.data.datasetId?{...i.data,datasetId:o}:i.data}):[]},eu=(e,t={})=>{var i;const n=(i=At(e).find(o=>o.datasetId))==null?void 0:i.datasetId,a=Ie(o=>o.executionResult);return x.useMemo(()=>!n||!(a!=null&&a.recommendations)?[]:a.recommendations.filter(o=>{var l,u;if(t.types||t.suggestedNodeTypes){const d=(l=t.types)==null?void 0:l.includes(o.type),f=(u=t.suggestedNodeTypes)==null?void 0:u.includes(o.suggested_node_type);if(!d&&!f)return!1}return!(t.scope==="column"&&(!o.target_columns||o.target_columns.length===0))}),[a,n,t.types,t.suggestedNodeTypes,t.scope])},il=({recommendations:e,onApply:t,className:r=""})=>!e||e.length===0?null:s.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${r}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[s.jsx(_p,{className:"w-4 h-4"}),s.jsx("span",{children:"Recommendations"})]}),s.jsx("div",{className:"space-y-2",children:e.map(n=>s.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:n.type.replace("_"," ").toUpperCase()}),s.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:n.description}),n.reasoning&&s.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",n.reasoning]})]}),t&&s.jsx("button",{onClick:()=>t(n),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:s.jsx(pa,{className:"w-5 h-5"})})]})},n.rule_id))})]}),fpe=({config:e,onChange:t,nodeId:r})=>{var P;const a=(P=At(r||"").find(C=>C.datasetId))==null?void 0:P.datasetId,{data:i,isLoading:o}=xt(a),l=i?Object.values(i.columns).map(C=>C.name):[],u=Ie(C=>C.executionResult),d=r?u==null?void 0:u.node_results[r]:null,f=d!=null&&d.metrics&&typeof d.metrics=="object"?d.metrics:null,h=x.useRef(null),[p,g]=x.useState(!1);x.useEffect(()=>{if(!h.current)return;const C=new ResizeObserver(A=>{for(const O of A)g(O.contentRect.width>450)});return C.observe(h.current),()=>{C.disconnect()}},[]);const y=eu(r||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),b=C=>{var A;if((A=C.target_columns)!=null&&A.length){const O=Array.from(new Set([...e.columns,...C.target_columns]));t({...e,columns:O})}},[_,w]=x.useState(""),k=x.useMemo(()=>l.filter(C=>C.toLowerCase().includes(_.toLowerCase())),[l,_]),j=()=>{t({...e,columns:k})},N=()=>{const C=e.columns.filter(A=>!k.includes(A));t({...e,columns:C})};return s.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[s.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[y.length>0&&s.jsx("div",{className:"shrink-0",children:s.jsx(il,{recommendations:y,onApply:b})}),s.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),s.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),s.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:C=>t({...e,missing_threshold:parseInt(C.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),f&&f.dropped_columns_count!==void 0&&s.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),s.jsx("span",{className:"font-medium text-destructive",children:String(f.dropped_columns_count)})]}),Array.isArray(f.dropped_columns)&&f.dropped_columns.length>0&&s.jsxs("div",{className:"pt-1 border-t mt-1",children:[s.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:f.dropped_columns.map(C=>{const A=String(C);return s.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:A},A)})})]})]})]})]}),s.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${p?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[s.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),s.jsx("div",{className:"relative group",children:s.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:_,onChange:C=>{w(C.target.value)}})}),s.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[s.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),s.jsx("span",{className:"text-border",children:"|"}),s.jsx("button",{onClick:N,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:l.length>0?k.length>0?s.jsx("div",{className:"space-y-0.5",children:k.map(C=>s.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[s.jsx("input",{type:"checkbox",checked:e.columns.includes(C),onChange:A=>{const O=A.target.checked?[...e.columns,C]:e.columns.filter(T=>T!==C);t({...e,columns:O})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),s.jsx("span",{className:"truncate font-mono text-xs",title:C,children:C})]},C))}):s.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',_,'"']}):s.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},hpe={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:Us,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:fpe,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},mpe=({config:e,onChange:t,nodeId:r})=>{var O;const a=(O=At(r||"").find(T=>T.datasetId))==null?void 0:O.datasetId,{data:i,isLoading:o}=xt(a),l=i?Object.values(i.columns).map(T=>T.name):[],u=Ie(T=>T.executionResult),d=r?u==null?void 0:u.node_results[r]:null,f=d!=null&&d.metrics&&typeof d.metrics=="object"?d.metrics:null,h=f!=null&&f.fill_values&&typeof f.fill_values=="object"?f.fill_values:null,p=f!=null&&f.missing_counts&&typeof f.missing_counts=="object"?f.missing_counts:null,g=x.useRef(null),[y,b]=x.useState(!1);x.useEffect(()=>{if(!g.current)return;const T=new ResizeObserver($=>{for(const I of $)b(I.contentRect.width>450)});return T.observe(g.current),()=>{T.disconnect()}},[]);const _=eu(r||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),w=T=>{if(T.target_columns.length>0){const $=Array.from(new Set([...e.columns,...T.target_columns]));t({...e,columns:$})}},[k,j]=x.useState(""),N=x.useMemo(()=>l.filter(T=>T.toLowerCase().includes(k.toLowerCase())),[l,k]),P=()=>{t({...e,columns:N})},C=()=>{const T=e.columns.filter($=>!N.includes($));t({...e,columns:T})},A=()=>f?s.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[s.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),h&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(h).map(([T,$])=>s.jsxs("div",{className:"flex justify-between text-[10px]",children:[s.jsxs("span",{className:"truncate max-w-[100px]",title:T,children:[T,":"]}),s.jsx("span",{className:"font-mono",children:typeof $=="number"?$.toFixed(4):String($)})]},T))})]}),p&&s.jsxs("div",{className:"space-y-1 mt-2",children:[s.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(p).map(([T,$])=>s.jsxs("div",{className:"flex justify-between text-[10px]",children:[s.jsxs("span",{className:"truncate max-w-[100px]",title:T,children:[T,":"]}),s.jsx("span",{className:"font-mono",children:String($)})]},T))}),f.total_missing!==void 0&&s.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",s.jsx("span",{className:"font-mono font-medium",children:String(f.total_missing)})]})]}),!h&&!p&&(d==null?void 0:d.status)==="success"&&s.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return s.jsxs("div",{ref:g,className:`flex flex-col h-full w-full bg-background ${y?"overflow-hidden":"overflow-y-auto"}`,children:[s.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${y?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pr-2":"shrink-0"}`,children:[_.length>0&&s.jsx("div",{className:"shrink-0",children:s.jsx(il,{recommendations:_,onApply:w})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:T=>t({...e,method:T.target.value}),children:[s.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),s.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),s.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:T=>t({...e,strategy:T.target.value}),children:[s.jsx("option",{value:"mean",children:"Mean (Average)"}),s.jsx("option",{value:"median",children:"Median (Middle Value)"}),s.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),s.jsx("option",{value:"constant",children:"Constant Value"})]}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),s.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:T=>t({...e,fill_value:T.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),s.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:T=>t({...e,n_neighbors:parseInt(T.target.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:T=>t({...e,weights:T.target.value}),children:[s.jsx("option",{value:"uniform",children:"Uniform"}),s.jsx("option",{value:"distance",children:"Distance"})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),s.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:T=>t({...e,max_iter:parseInt(T.target.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:T=>t({...e,estimator:T.target.value}),children:[s.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),s.jsx("option",{value:"decision_tree",children:"Decision Tree"}),s.jsx("option",{value:"extra_trees",children:"Extra Trees"}),s.jsx("option",{value:"knn",children:"KNN"})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:T=>t({...e,random_state:parseInt(T.target.value)})})]})]}),y&&s.jsx(A,{})]}),s.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${y?"":"shrink-0"}`,children:[s.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:P,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),s.jsx("button",{onClick:C,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),s.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:k,onChange:T=>{j(T.target.value)}})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:N.length>0?N.map(T=>s.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[s.jsx("input",{type:"checkbox",checked:e.columns.includes(T),onChange:$=>{const I=$.target.checked?[...e.columns,T]:e.columns.filter(z=>z!==T);t({...e,columns:I})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),s.jsx("span",{className:"truncate",title:T,children:T})]}),p&&p[T]!==void 0&&s.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${String(p[T])} missing values filled`,children:String(p[T])})]},T)):s.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:l.length===0?"No columns available":"No matches found"})})]}),!y&&s.jsx(A,{})]})]})},ppe={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:D7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:mpe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:e.method==="simple"&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},gpe=({config:e,onChange:t,nodeId:r})=>{var j;const a=(j=At(r||"").find(N=>N.datasetId))==null?void 0:j.datasetId,{data:i,isLoading:o}=xt(a),l=Ie(N=>N.executionResult),u=r?l==null?void 0:l.node_results[r]:null,d=x.useRef(null),[f,h]=x.useState(!1),[p,g]=x.useState("");x.useEffect(()=>{if(!d.current)return;const N=new ResizeObserver(P=>{for(const C of P)h(C.contentRect.width>450)});return N.observe(d.current),()=>{N.disconnect()}},[]);const y=i?Object.values(i.columns).filter(N=>["int","float","number"].some(P=>N.dtype.toLowerCase().includes(P))).map(N=>N.name):[],b=y.filter(N=>N.toLowerCase().includes(p.toLowerCase())),_=()=>{t({...e,columns:b})},w=()=>{const N=e.columns.filter(P=>!b.includes(P));t({...e,columns:N})},k=()=>{if(!u||!u.metrics)return null;const N=u.metrics,P=N.columns;if(!P)return null;const C=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return s.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),s.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:C()})]}),s.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:P.map((A,O)=>{let T="";if(e.method==="standard"){const $=N.mean?N.mean[O]:void 0,I=N.scale?N.scale[O]:void 0;typeof $=="number"&&(T=`=${$.toFixed(2)}, =${typeof I=="number"?I.toFixed(2):"-"}`)}else if(e.method==="minmax"){const $=N.data_min?N.data_min[O]:void 0,I=N.data_max?N.data_max[O]:void 0;typeof $=="number"&&(T=`Min=${$.toFixed(2)}, Max=${typeof I=="number"?I.toFixed(2):"-"}`)}else if(e.method==="robust"){const $=N.center?N.center[O]:void 0,I=N.scale?N.scale[O]:void 0;typeof $=="number"&&(T=`Med=${$.toFixed(2)}, IQR=${typeof I=="number"?I.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const $=N.max_abs?N.max_abs[O]:void 0;typeof $=="number"&&(T=`MaxAbs=${$.toFixed(2)}`)}return s.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[s.jsx("span",{className:"truncate max-w-[100px] font-medium",title:A,children:A}),s.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:T})]},A)})})]})};return s.jsxs("div",{ref:d,className:`flex flex-col h-full w-full bg-background ${f?"overflow-hidden":"overflow-y-auto"}`,children:[s.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${f?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${f?"overflow-y-auto pr-2":"shrink-0"}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:N=>t({...e,method:N.target.value}),children:[s.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),s.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),s.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),s.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&s.jsxs("div",{className:"space-y-2 border-t pt-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:N=>t({...e,with_mean:N.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{children:"Center Data (with_mean)"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:N=>t({...e,with_std:N.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&s.jsxs("div",{className:"space-y-2 border-t pt-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:N=>t({...e,feature_range_min:parseFloat(N.target.value)})}),s.jsx("span",{className:"text-muted-foreground",children:"-"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:N=>t({...e,feature_range_max:parseFloat(N.target.value)})})]})]}),e.method==="robust"&&s.jsxs("div",{className:"space-y-2 border-t pt-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:N=>t({...e,quantile_range_min:parseFloat(N.target.value)})}),s.jsx("span",{className:"text-muted-foreground",children:"-"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:N=>t({...e,quantile_range_max:parseFloat(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:N=>t({...e,with_centering:N.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{children:"Center Data (Median)"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:N=>t({...e,with_scaling:N.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),f&&s.jsx(k,{})]}),s.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${f?"":"shrink-0"}`,children:[s.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:_,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),s.jsx("button",{onClick:w,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),s.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:p,onChange:N=>{g(N.target.value)}})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:b.length>0?b.map(N=>s.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[s.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:P=>{const C=P.target.checked?[...e.columns,N]:e.columns.filter(A=>A!==N);t({...e,columns:C})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{className:"truncate",title:N,children:N})]},N)):s.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:o?"Loading schema...":y.length===0?"No numeric columns found":"No matches found"})})]}),!f&&s.jsx(k,{})]})]})},ype={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:U7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:gpe,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})},Pz={getAllNodes:async()=>(await Ot.get("/ml/registry")).data};function Cz(){const[e,t]=x.useState(null),[r,n]=x.useState({width:0,height:0}),a=x.useCallback(i=>{if(i.length===0)return;const{width:o,height:l}=i[0].contentRect;n({width:o,height:l})},[]);return x.useEffect(()=>{if(!e)return;const i=new ResizeObserver(a);return i.observe(e),()=>{i.disconnect()}},[e,a]),[t,r]}const xpe=({text:e})=>s.jsxs("div",{className:"group relative flex items-center",children:[s.jsx(jM,{className:"w-3 h-3 text-gray-400 cursor-help"}),s.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,s.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),vpe=({isOpen:e,onClose:t,modelType:r,onSelect:n})=>{const[a,i]=x.useState(r),[o,l]=x.useState([]),[u,d]=x.useState(!1),[f,h]=x.useState(null);x.useEffect(()=>{e&&i(r)},[e,r]);const p=x.useCallback(()=>{a&&(d(!0),h(null),ir.getTuningHistory(a).then(g=>{l(g)}).catch(g=>{console.error("Failed to fetch jobs",g),h("Failed to load history.")}).finally(()=>{d(!1)}))},[a]);return x.useEffect(()=>{e&&p()},[e,p]),e?s.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(ln,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Select parameters for:"}),s.jsxs("select",{value:a,onChange:g=>{i(g.target.value)},className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-blue-500 outline-none",children:[s.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),s.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),s.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),s.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:s.jsx(la,{className:`w-4 h-4 ${u?"animate-spin":""}`})}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:s.jsx(lr,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:u?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[s.jsx(Xr,{className:"w-8 h-8 animate-spin mb-2 text-blue-500"}),s.jsx("p",{className:"text-sm",children:"Loading history..."})]}):f?s.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[s.jsx(an,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:f}),s.jsx("button",{onClick:p,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):o.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[s.jsx(za,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),s.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):o.map(g=>{var y;return s.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-800 transition-all",children:s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",g.job_id.slice(0,8)]}),s.jsx("span",{className:"text-xs text-gray-400",children:g.end_time?new Date(g.end_time).toLocaleString():"Unknown Date"})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((y=g.result)==null?void 0:y.best_score)=="number"&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),s.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:g.result.best_score.toFixed(4)})]}),s.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[s.jsx(Ed,{className:"w-3 h-3"})," Model Ready"]})]})]}),s.jsxs("button",{onClick:()=>{var b;(b=g.result)!=null&&b.best_params&&(n({params:g.result.best_params,modelType:a}),t())},className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors flex items-center gap-1 shadow-sm shadow-blue-500/20",children:[s.jsx(Ed,{className:"w-3 h-3"}),"Apply"]})]})},g.job_id)})})]})]}):null},bpe=({value:e,type:t,onChange:r,step:n,min:a,max:i})=>{const[o,l]=x.useState("");x.useEffect(()=>{l(e===null?"None":(e==null?void 0:e.toString())??"")},[e]);const u=()=>{const d=o.trim();if(d.toLowerCase()==="none"){r(null);return}if(t==="number"){if(d==="")return;const f=Number(d);isNaN(f)?l(e===null?"None":(e==null?void 0:e.toString())??""):r(f)}else t==="boolean"?d.toLowerCase()==="true"?r(!0):d.toLowerCase()==="false"?r(!1):l((e==null?void 0:e.toString())??""):r(d)};return s.jsx("input",{type:"text",value:o,onChange:d=>{l(d.target.value)},onBlur:u,placeholder:e===null?"None":"",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",...t==="number"?{step:n,min:a,max:i}:{}})},wpe=({config:e,onChange:t,nodeId:r})=>{const[n,a]=x.useState([]),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(()=>!sessionStorage.getItem("hide_info_model_training")),{toggleDrawer:h,setTab:p}=Wc(),g=At(r||""),y=Ie(D=>D.nodes),b=Ie(D=>D.edges),w=(D=>{var G,Z,Q,ie;const B=new Set,V=[D];for(;V.length>0;){const se=V.shift();if(!se||B.has(se))continue;B.add(se);const oe=y.find(X=>X.id===se);if(!oe)continue;if(se!==D){if((G=oe.data)!=null&&G.datasetId)return oe.data.datasetId;if((Z=oe.data)!=null&&Z.dataset_id)return oe.data.dataset_id;if((Q=oe.data)!=null&&Q.config){const X=oe.data.config;if(X.datasetId)return X.datasetId;if(X.dataset_id)return X.dataset_id}if((ie=oe.data)!=null&&ie.params){const X=oe.data.params;if(X.datasetId)return X.datasetId;if(X.dataset_id)return X.dataset_id}}const le=rl(oe,y,b);for(const X of le)V.push(X.id)}})(r||""),{data:k}=xt(w),j=k?Object.values(k.columns):[],[N,{width:P}]=Cz(),C=P>450,[A,O]=x.useState("model"),[T,$]=x.useState(!1),[I,z]=x.useState([]),[U,F]=x.useState(!1);x.useEffect(()=>{(async()=>{F(!0);try{const V=(await Pz.getAllNodes()).filter(G=>G.category==="Model");z(V)}catch(B){console.error("Failed to fetch models:",B),z([{id:"random_forest_classifier",name:"Random Forest Classifier",category:"Model",description:"",params:{}},{id:"logistic_regression",name:"Logistic Regression",category:"Model",description:"",params:{}},{id:"ridge_regression",name:"Ridge Regression",category:"Model",description:"",params:{}},{id:"random_forest_regressor",name:"Random Forest Regressor",category:"Model",description:"",params:{}}])}finally{F(!1)}})()},[]);const q=x.useRef(!1);x.useEffect(()=>{e.model_type&&(u(!0),ir.getHyperparameters(e.model_type).then(D=>{const B=D;if(a(B),q.current){const V={};B.forEach(G=>{V[G.name]=G.default}),t({...e,hyperparameters:V}),q.current=!1}}).catch(console.error).finally(()=>{u(!1)}))},[e.model_type]),x.useEffect(()=>{var B;const D=(B=g.find(V=>V.target_column))==null?void 0:B.target_column;D&&e.target_column!==D&&(e.target_column||t({...e,target_column:D}))},[g,e.target_column,t]);const H=async()=>{if(r)try{const D=g0(y,b);await ir.runPipeline({...D,target_node_id:r,job_type:"training"}),alert("Training job submitted successfully!"),p("training"),h(!0)}catch(D){console.error("Failed to submit training job:",D),alert("Failed to submit training job. Check console for details.")}},W=s.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:e.model_type,onChange:D=>{Object.keys(e.hyperparameters).length>0&&(q.current=!0),t({...e,model_type:D.target.value,hyperparameters:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",disabled:U,children:I.map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))}),s.jsx(or,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),j.length===0&&s.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[s.jsx(Qg,{className:"w-3 h-3"}),s.jsx("span",{children:"Connect a dataset node to see available columns"})]}),s.jsxs("div",{className:"relative",children:[j.length>0?s.jsxs("select",{value:e.target_column,onChange:D=>t({...e,target_column:D.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[s.jsx("option",{value:"",children:"Select target..."}),j.map(D=>s.jsx("option",{value:D.name,children:D.name},D.name))]}):s.jsx("input",{type:"text",value:e.target_column,onChange:D=>t({...e,target_column:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),j.length>0&&s.jsx(or,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),s.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>{$(!T)},className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(l1,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),s.jsx(Ra,{className:`w-4 h-4 text-gray-400 transition-transform ${T?"rotate-90":""}`})]}),T&&s.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:D=>t({...e,cv_enabled:D.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&s.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),s.jsx("input",{type:"number",value:e.cv_folds??5,onChange:D=>t({...e,cv_folds:Number(D.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),s.jsxs("select",{value:e.cv_type??"k_fold",onChange:D=>t({...e,cv_type:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"k_fold",children:"K-Fold"}),s.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),s.jsx("option",{value:"time_series_split",children:"Time Series"}),s.jsx("option",{value:"shuffle_split",children:"Shuffle Split"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:D=>t({...e,cv_shuffle:D.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),M=()=>{const D=Object.keys(e.hyperparameters).length>0,B=V=>{if(V){const G={};n.forEach(Z=>{G[Z.name]=Z.default}),Object.keys(e.hyperparameters).length===0&&t({...e,hyperparameters:G})}else t({...e,hyperparameters:{}})};return s.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[s.jsx(d1,{className:"w-4 h-4 text-blue-500"}),"Hyperparameters"]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("label",{className:`text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2 cursor-pointer select-none ${l?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx("input",{type:"checkbox",checked:D,onChange:V=>{B(V.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),"Customize"]})})]}),D?s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex justify-end mb-2",children:s.jsxs("button",{onClick:()=>{o(!0)},className:"text-xs flex items-center gap-1.5 px-2 py-1 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:[s.jsx(J2,{className:"w-3 h-3"}),"Load Best"]})}),l?s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(Xr,{className:"w-5 h-5 animate-spin text-blue-500"})}):n.map(V=>{var G;return s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:V.label}),V.description&&s.jsx(xpe,{text:V.description})]}),V.type==="select"?s.jsx("select",{value:e.hyperparameters[V.name]??V.default,onChange:Z=>t({...e,hyperparameters:{...e.hyperparameters,[V.name]:Z.target.value}}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:(G=V.options)==null?void 0:G.map(Z=>s.jsx("option",{value:String(Z.value),children:Z.label},String(Z.value)))}):s.jsx(bpe,{type:V.type,value:e.hyperparameters[V.name]??V.default,onChange:Z=>t({...e,hyperparameters:{...e.hyperparameters,[V.name]:Z}}),step:V.step,min:V.min,max:V.max})]},V.name)}),n.length===0&&!l&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic text-center py-4",children:"No parameters available."})]}):s.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-dashed border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Using default hyperparameters."}),s.jsxs("button",{onClick:()=>{o(!0)},className:"mt-3 text-xs flex items-center gap-1.5 px-3 py-1.5 mx-auto bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded-md border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors shadow-sm",children:[s.jsx(J2,{className:"w-3 h-3"}),"Load Best Params"]})]})]})};return s.jsxs("div",{className:"flex flex-col h-full",ref:N,children:[d&&s.jsxs("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded text-xs text-blue-700 dark:text-blue-300 flex justify-between items-start gap-2",children:[s.jsx("span",{children:"Train a model using fixed parameters or defaults."}),s.jsx("button",{onClick:()=>{f(!1),sessionStorage.setItem("hide_info_model_training","true")},className:"text-blue-400 hover:text-blue-600 dark:hover:text-blue-200",children:s.jsx(lr,{className:"w-3 h-3"})})]}),s.jsx(vpe,{isOpen:i,onClose:()=>{o(!1)},modelType:e.model_type,onSelect:D=>{const B=D;B.modelType&&B.modelType!==e.model_type?t({...e,model_type:B.modelType,hyperparameters:B.params}):t({...e,hyperparameters:B.params})}}),!C&&s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[s.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${A==="model"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{O("model")},children:"Configuration"}),s.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${A==="params"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{O("params")},children:"Hyperparameters"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:C?s.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[s.jsx("div",{className:"overflow-y-auto pr-2",children:W}),s.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:s.jsx(M,{})})]}):s.jsxs(s.Fragment,{children:[A==="model"&&W,A==="params"&&s.jsx(M,{})]})}),s.jsx("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:s.jsxs("button",{onClick:()=>{H()},className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[s.jsx($s,{className:"w-4 h-4 fill-current"}),s.jsx("span",{className:"text-sm font-semibold",children:"Start Training"})]})})]})},_pe={type:"model_training",label:"Standard Training",category:"Modeling",description:"Train a model with fixed or default parameters.",icon:y7,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:wpe,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",hyperparameters:{},cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42})},jpe=({text:e})=>s.jsxs("div",{className:"group relative flex items-center",children:[s.jsx(jM,{className:"w-3 h-3 text-gray-400 cursor-help"}),s.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,s.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),kpe=({def:e,value:t,onChange:r})=>{const[n,a]=x.useState(""),[i,o]=x.useState(null);x.useEffect(()=>{a(Array.isArray(t)?t.map(d=>d===null?"None":d).join(", "):"")},[t]);const l=d=>{if(!d.trim())return[];const f=d.split(",").map(p=>p.trim()).filter(p=>p!==""),h=[];for(const p of f){if(p.toLowerCase()==="none"){h.push(null);continue}if(e.type==="number"){const g=Number(p);if(isNaN(g))throw new Error(`"${p}" is not a valid number`);h.push(g)}else if(e.type==="boolean"){const g=p.toLowerCase();if(g==="true")h.push(!0);else if(g==="false")h.push(!1);else throw new Error(`"${p}" must be true or false`)}else h.push(p)}return h},u=()=>{try{const d=l(n);o(null),JSON.stringify(d)!==JSON.stringify(t)&&r(d)}catch(d){o(d.message)}};return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[e.label,e.description&&s.jsx(jpe,{text:e.description})]}),s.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:e.type})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",className:`w-full border rounded px-2 py-1.5 text-sm font-mono bg-white dark:bg-gray-900 dark:text-gray-100 outline-none transition-all ${i?"border-red-500 focus:ring-2 focus:ring-red-500/20":"border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500"}`,placeholder:e.type==="select"?"e.g. lbfgs, liblinear":"e.g. 10, 50, 100",value:n,onChange:d=>{a(d.target.value),o(null)},onBlur:u}),e.type==="select"&&e.options&&s.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.options.map(d=>s.jsx("button",{onClick:()=>{const f=l(n),p=f.includes(d.value)?f.filter(g=>g!==d.value):[...f,d.value];r(p)},className:`text-[10px] px-1.5 py-0.5 rounded border transition-colors ${t.includes(d.value)?"bg-purple-100 border-purple-200 text-purple-700 dark:bg-purple-900/30 dark:border-purple-800 dark:text-purple-300":"bg-gray-50 border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:d.label},String(d.value)))})]}),i&&s.jsxs("p",{className:"text-[10px] text-red-500 flex items-center gap-1",children:[s.jsx(an,{className:"w-3 h-3"}),i]})]})},Npe=({isOpen:e,onClose:t,modelType:r})=>{const[n,a]=x.useState(r),[i,o]=x.useState([]),[l,u]=x.useState(!1),[d,f]=x.useState(null);x.useEffect(()=>{e&&a(r)},[e,r]);const h=x.useCallback(()=>{n&&(u(!0),f(null),ir.getTuningHistory(n).then(p=>{o(p)}).catch(p=>{console.error("Failed to fetch jobs",p),f("Failed to load history.")}).finally(()=>{u(!1)}))},[n]);return x.useEffect(()=>{e&&h()},[e,h]),e?s.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx(ln,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View parameters for:"}),s.jsxs("select",{value:n,onChange:p=>{a(p.target.value)},className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-purple-500 outline-none",children:[s.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),s.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),s.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),s.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:s.jsx(la,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:s.jsx(lr,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:l?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[s.jsx(Xr,{className:"w-8 h-8 animate-spin mb-2 text-purple-500"}),s.jsx("p",{className:"text-sm",children:"Loading history..."})]}):d?s.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[s.jsx(an,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:d}),s.jsx("button",{onClick:h,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):i.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[s.jsx(za,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),s.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):i.map(p=>{var g;return s.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-purple-200 dark:hover:border-purple-800 transition-all",children:s.jsx("div",{className:"flex justify-between items-start mb-3",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",p.job_id.slice(0,8)]}),s.jsx("span",{className:"text-xs text-gray-400",children:p.end_time?new Date(p.end_time).toLocaleString():"Unknown Date"})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((g=p.result)==null?void 0:g.best_score)=="number"&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),s.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:p.result.best_score.toFixed(4)})]}),s.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[s.jsx(Ed,{className:"w-3 h-3"})," Model Ready"]})]})]})})},p.job_id)})})]})]}):null},Spe=({config:e,onChange:t,nodeId:r})=>{const[n,a]=x.useState([]),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState("config"),[h,p]=x.useState(!1),[g,y]=x.useState(()=>!sessionStorage.getItem("hide_info_model_optimizer")),[b,{width:_}]=Cz(),w=_>450,{toggleDrawer:k,setTab:j}=Wc(),N=At(r||""),P=Ie(D=>D.nodes),C=Ie(D=>D.edges),O=(D=>{var G,Z,Q,ie;const B=new Set,V=[D];for(;V.length>0;){const se=V.shift();if(B.has(se))continue;B.add(se);const oe=P.find(X=>X.id===se);if(!oe)continue;if(se!==D){if((G=oe.data)!=null&&G.datasetId)return oe.data.datasetId;if((Z=oe.data)!=null&&Z.dataset_id)return oe.data.dataset_id;const X=oe.data;if((Q=X.config)!=null&&Q.datasetId)return X.config.datasetId;if((ie=X.config)!=null&&ie.dataset_id)return X.config.dataset_id}const le=rl(oe,P,C);for(const X of le)V.push(X.id)}})(r||""),{data:T}=xt(O),$=T?Object.values(T.columns):[],[I,z]=x.useState([]),[U,F]=x.useState(!1);x.useEffect(()=>{(async()=>{F(!0);try{const V=(await Pz.getAllNodes()).filter(G=>G.category==="Model");z(V)}catch(B){console.error("Failed to fetch models:",B),z([{id:"random_forest_classifier",name:"Random Forest Classifier",category:"Model",description:"",params:{}},{id:"logistic_regression",name:"Logistic Regression",category:"Model",description:"",params:{}},{id:"ridge_regression",name:"Ridge Regression",category:"Model",description:"",params:{}},{id:"random_forest_regressor",name:"Random Forest Regressor",category:"Model",description:"",params:{}}])}finally{F(!1)}})()},[]),x.useEffect(()=>{var B;const D=(B=N.find(V=>V.target_column))==null?void 0:B.target_column;D&&e.target_column!==D&&t({...e,target_column:D})},[N,e.target_column]);const q=x.useRef(null);x.useEffect(()=>{(async()=>{const B=e.model_type;if(!B)return;const V=B!==q.current;if(!(!V&&n.length>0)){o(!0);try{const G=await ir.getHyperparameters(B);if(a(G),V){const Z=await ir.getDefaultSearchSpace(B);t({...e,search_space:Z||{}}),q.current=B}}catch(G){console.error("Failed to load model hyperparameters:",G)}finally{o(!1)}}})()},[e.model_type]);const H=async()=>{if(r)try{const D=g0(P,C);await ir.runPipeline({...D,target_node_id:r,job_type:"tuning"}),alert("Tuning job submitted successfully!"),j("tuning"),k(!0)}catch(D){console.error("Failed to submit tuning job:",D),alert("Failed to submit tuning job.")}},W=s.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:e.model_type,onChange:D=>{t({...e,model_type:D.target.value,search_space:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",disabled:U,children:I.map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))}),s.jsx(or,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),$.length===0&&s.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[s.jsx(Qg,{className:"w-3 h-3"}),s.jsx("span",{children:"Connect a dataset node to see available columns"})]}),s.jsxs("div",{className:"relative",children:[$.length>0?s.jsxs("select",{value:e.target_column,onChange:D=>t({...e,target_column:D.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[s.jsx("option",{value:"",children:"Select target..."}),$.map(D=>s.jsx("option",{value:D.name,children:D.name},D.name))]}):s.jsx("input",{type:"text",value:e.target_column,onChange:D=>t({...e,target_column:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),$.length>0&&s.jsx(or,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),s.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tuning Strategy"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Search Method"}),s.jsxs("select",{value:e.search_strategy??"random",onChange:D=>t({...e,search_strategy:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"random",children:"Random Search"}),s.jsx("option",{value:"grid",children:"Grid Search"}),s.jsx("option",{value:"halving_grid",children:"Successive Halving (Grid)"}),s.jsx("option",{value:"halving_random",children:"Successive Halving (Randomized)"}),s.jsx("option",{value:"optuna",children:"Optuna Search"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Metric"}),s.jsxs("select",{value:e.metric,onChange:D=>t({...e,metric:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"accuracy",children:"Accuracy"}),s.jsx("option",{value:"f1",children:"F1 Score"}),s.jsx("option",{value:"roc_auc",children:"ROC AUC"}),s.jsx("option",{value:"mse",children:"MSE"}),s.jsx("option",{value:"r2",children:"R2 Score"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Trials"}),s.jsx("input",{type:"number",value:e.n_trials,onChange:D=>t({...e,n_trials:Number(D.target.value)}),disabled:["grid","halving_grid"].includes(e.search_strategy),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 disabled:opacity-50",min:1})]})]})]}),s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>{p(!h)},className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(l1,{className:"w-4 h-4 text-purple-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),s.jsx(Ra,{className:`w-4 h-4 text-gray-400 transition-transform ${h?"rotate-90":""}`})]}),h&&s.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:D=>t({...e,cv_enabled:D.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&s.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),s.jsx("input",{type:"number",value:e.cv_folds??5,onChange:D=>t({...e,cv_folds:Number(D.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),s.jsxs("select",{value:e.cv_type??"k_fold",onChange:D=>t({...e,cv_type:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"k_fold",children:"K-Fold"}),s.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),s.jsx("option",{value:"time_series_split",children:"Time Series"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:D=>t({...e,cv_shuffle:D.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),M=s.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[s.jsx(d1,{className:"w-4 h-4 text-purple-500"}),"Hyperparameters"]})}),i?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Xr,{className:"w-6 h-6 animate-spin text-purple-500"})}):s.jsxs("div",{className:"space-y-3",children:[n.map(D=>{var B;return s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:s.jsx(kpe,{def:D,value:((B=e.search_space)==null?void 0:B[D.name])||[],onChange:V=>{t({...e,search_space:{...e.search_space,[D.name]:V}})}})},`${e.model_type}-${D.name}`)}),n.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hyperparameters available for this model."})]})]});return s.jsxs("div",{className:"flex flex-col h-full",ref:b,children:[g&&s.jsxs("div",{className:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded text-xs text-purple-700 dark:text-purple-300 flex justify-between items-start gap-2",children:[s.jsx("span",{children:"Automatically explore configurations to find the best performing model."}),s.jsx("button",{onClick:()=>{y(!1),sessionStorage.setItem("hide_info_model_optimizer","true")},className:"text-purple-400 hover:text-purple-600 dark:hover:text-purple-200",children:s.jsx(lr,{className:"w-3 h-3"})})]}),!w&&s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[s.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${d==="config"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{f("config")},children:"Configuration"}),s.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${d==="search_space"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{f("search_space")},children:"Search Space"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:w?s.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[s.jsx("div",{className:"overflow-y-auto pr-2",children:W}),s.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:M})]}):s.jsxs(s.Fragment,{children:[d==="config"&&W,d==="search_space"&&M]})}),s.jsxs("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:[s.jsxs("button",{onClick:()=>{H()},className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[s.jsx($s,{className:"w-4 h-4 fill-current"}),s.jsx("span",{className:"text-sm font-semibold",children:"Start Train-Optimization"})]}),s.jsxs("button",{onClick:()=>{u(!0)},className:"text-xs text-gray-500 hover:text-purple-600 dark:text-gray-400 dark:hover:text-purple-400 flex items-center gap-1.5 transition-colors px-3 py-1 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsx(ln,{className:"w-3.5 h-3.5"}),"View Best Parameters History"]})]}),s.jsx(Npe,{isOpen:l,onClose:()=>{u(!1)},modelType:e.model_type})]})},Ppe={type:"hyperparameter_tuning",label:"Train Model and Optimize",category:"Modeling",description:"Automatically optimize model performance.",icon:W7,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Best Model",type:"model"}],settings:Spe,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",n_trials:10,metric:"accuracy",search_strategy:"random",cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42,random_state:42,search_space:{}})},Cpe=({config:e,onChange:t,nodeId:r})=>{var N;const n=At(r||""),a=Ie(P=>P.nodes),i=Ie(P=>P.edges),o=Ie(P=>P.executionResult),u=(P=>{var O;const C=new Set,A=[P];for(;A.length>0;){const T=A.shift();if(!T||C.has(T))continue;C.add(T);const $=a.find(z=>z.id===T);if(!$)continue;if(T!==P&&((O=$.data)!=null&&O.datasetId))return $.data.datasetId;const I=rl($,a,i);for(const z of I)A.push(z.id)}})(r||""),d=(N=n.find(P=>P.target_column))==null?void 0:N.target_column;x.useEffect(()=>{const P={};u&&e.datasetId!==u&&(P.datasetId=u),d&&e.target_column!==d&&(P.target_column=d),Object.keys(P).length>0&&t({...e,...P})},[u,d,e.datasetId,e.target_column,t]);const{data:f,isLoading:h}=xt(u||e.datasetId),p=f?Object.values(f.columns).map(P=>P.name):[],g=x.useRef(null),[y,b]=x.useState(!1);x.useEffect(()=>{if(!g.current)return;const P=new ResizeObserver(C=>{for(const A of C)b(A.contentRect.width>450)});return P.observe(g.current),()=>{P.disconnect()}},[]);const _=()=>{const P=e.problem_type||"auto";return P==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:P==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},w=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),k=["select_from_model","rfe"].includes(e.method),j=()=>{const P=o==null?void 0:o.node_results[r||""];if(!P)return null;const C=P.metrics||{},A=C.dropped_columns,O=C.feature_scores,T=C.p_values,$=C.feature_importances,I=C.variances,z=C.ranking;return s.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[s.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),P.error&&s.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:P.error}),A&&A.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:s.jsxs("span",{children:["Dropped Columns (",A.length,")"]})}),s.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:A.map(U=>{const F=O==null?void 0:O[U],q=T==null?void 0:T[U],H=$==null?void 0:$[U],W=I==null?void 0:I[U],M=z==null?void 0:z[U];return s.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[s.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:U,children:U}),s.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[F!==void 0&&s.jsxs("span",{children:["Score: ",F.toFixed(4)]}),q!==void 0&&s.jsxs("span",{children:["p-val: ",q.toExponential(2)]}),H!==void 0&&s.jsxs("span",{children:["Imp: ",H.toFixed(4)]}),W!==void 0&&s.jsxs("span",{children:["Var: ",W.toFixed(4)]}),M!==void 0&&s.jsxs("span",{children:["Rank: ",M]})]})]},U)})})]}):P.status==="success"&&s.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[s.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&s.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&s.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&s.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(O||$)&&s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),s.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(O||$||{}).sort(([,U],[,F])=>F-U).slice(0,5).map(([U,F])=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"truncate max-w-[120px]",title:U,children:U}),s.jsx("span",{className:"font-mono text-[10px]",children:F.toFixed(4)})]},U))})]})]})};return s.jsxs("div",{ref:g,className:`flex flex-col h-full w-full bg-background ${y?"overflow-hidden":"overflow-y-auto"}`,children:[s.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!u&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),h&&!!u&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${y?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pr-2":"shrink-0"}`,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:P=>t({...e,method:P.target.value}),children:[s.jsxs("optgroup",{label:"Simple",children:[s.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),s.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),s.jsxs("optgroup",{label:"Univariate",children:[s.jsx("option",{value:"select_k_best",children:"Select K Best"}),s.jsx("option",{value:"select_percentile",children:"Select Percentile"}),s.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),s.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),s.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),s.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),s.jsxs("optgroup",{label:"Model Based",children:[s.jsx("option",{value:"select_from_model",children:"Select From Model"}),s.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),d?s.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[d," ",s.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:P=>t({...e,target_column:P.target.value}),children:[s.jsx("option",{value:"",children:"Select Target..."}),p.map(P=>s.jsx("option",{value:P,children:P},P))]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(w||k)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:P=>t({...e,problem_type:P.target.value}),children:[s.jsx("option",{value:"auto",children:"Auto-detect"}),s.jsx("option",{value:"classification",children:"Classification"}),s.jsx("option",{value:"regression",children:"Regression"})]})]}),y&&s.jsx(j,{})]}),s.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[s.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),s.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:P=>t({...e,threshold:parseFloat(P.target.value)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),s.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:P=>t({...e,threshold:parseFloat(P.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Method"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:P=>t({...e,correlation_method:P.target.value}),children:[s.jsx("option",{value:"pearson",children:"Pearson"}),s.jsx("option",{value:"spearman",children:"Spearman"}),s.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),w&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:P=>t({...e,score_func:P.target.value}),children:[s.jsx("option",{value:"",children:"Auto (Default)"}),_().map(P=>s.jsx("option",{value:P.value,children:P.label},P.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:P=>t({...e,k:parseInt(P.target.value)})})]}),e.method==="select_percentile"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:P=>t({...e,percentile:parseInt(P.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),s.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:P=>t({...e,alpha:parseFloat(P.target.value)})})]}),e.method==="generic_univariate_select"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Mode"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:P=>t({...e,mode:P.target.value}),children:[s.jsx("option",{value:"k_best",children:"K Best"}),s.jsx("option",{value:"percentile",children:"Percentile"}),s.jsx("option",{value:"fpr",children:"FPR"}),s.jsx("option",{value:"fdr",children:"FDR"}),s.jsx("option",{value:"fwe",children:"FWE"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),s.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:P=>t({...e,param:parseFloat(P.target.value)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),k&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:P=>t({...e,estimator:P.target.value}),children:[s.jsx("option",{value:"auto",children:"Auto"}),s.jsx("option",{value:"RandomForest",children:"Random Forest"}),s.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),s.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),s.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:P=>t({...e,threshold:P.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Step"}),s.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:P=>t({...e,step:parseInt(P.target.value)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[s.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:P=>t({...e,drop_columns:P.target.checked})}),s.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!y&&s.jsx(j,{})]})]})]})},Epe={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:NM,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:Cpe,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},Ope=({config:e,onChange:t,nodeId:r})=>{var y,b;const n=At(r||""),a=(y=n.find(_=>_.datasetId))==null?void 0:y.datasetId,i=(b=n.find(_=>_.target_column))==null?void 0:b.target_column;Sr.useEffect(()=>{const _={};a&&e.datasetId!==a&&(_.datasetId=a),i&&e.target_column!==i&&(_.target_column=i),Object.keys(_).length>0&&t({...e,..._})},[a,i,e.datasetId,e.target_column,t]);const{data:o,isLoading:l}=xt(a||e.datasetId),u=o?Object.values(o.columns).map(_=>_.name):[],d=e.validation_size||0,f=1-e.test_size-d,h=Sr.useRef(null),[p,g]=Sr.useState(!1);return Sr.useEffect(()=>{if(!h.current)return;const _=new ResizeObserver(w=>{for(const k of w)g(k.contentRect.width>450)});return _.observe(h.current),()=>{_.disconnect()}},[]),s.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[s.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&!e.datasetId&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),l&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),s.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:_=>t({...e,test_size:parseFloat(_.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),s.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:d,onChange:_=>t({...e,validation_size:parseFloat(_.target.value)})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(f*100),"% Training, ",Math.round(d*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),f<=0&&s.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Random State"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:_=>t({...e,random_state:parseInt(_.target.value)})})]})]}),s.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:_=>t({...e,shuffle:_.target.checked})}),s.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:_=>t({...e,stratify:_.target.checked})}),s.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),s.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[s.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:_=>t({...e,target_column:_.target.value}),disabled:!e.stratify,children:[s.jsx("option",{value:"",children:"-- Select Target --"}),u.map(_=>s.jsx("option",{value:_,children:_},_))]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},Ape={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:EM,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:Ope,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},Tpe=({config:e,onChange:t,nodeId:r})=>{const n=Ie(d=>d.nodes),a=Ie(d=>d.edges),o=(d=>{var p;const f=new Set,h=[d];for(;h.length>0;){const g=h.shift();if(!g||f.has(g))continue;f.add(g);const y=n.find(_=>_.id===g);if(!y)continue;if(g!==d&&((p=y.data)!=null&&p.datasetId))return y.data.datasetId;const b=rl(y,n,a);for(const _ of b)h.push(_.id)}})(r||"");Sr.useEffect(()=>{o&&e.datasetId!==o&&t({...e,datasetId:o})},[o,e.datasetId,t]);const{data:l}=xt(o||e.datasetId),u=l?Object.values(l.columns).map(d=>d.name):[];return s.jsx("div",{className:"p-4 space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:d=>t({...e,target_column:d.target.value}),children:[s.jsx("option",{value:"",children:"-- Select Target --"}),u.map(d=>s.jsx("option",{value:d,children:d},d))]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},Mpe={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:EM,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:Tpe,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},Ipe=({config:e,onChange:t,nodeId:r})=>{var d;const a=(d=At(r||"").find(f=>f.datasetId))==null?void 0:d.datasetId,{isLoading:i}=xt(a),o=Ie(f=>f.executionResult),l=r?o==null?void 0:o.node_results[r]:null,u=l!=null&&l.metrics&&typeof l.metrics=="object"?l.metrics:null;return s.jsxs("div",{className:"p-4 space-y-4",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[s.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:f=>t({...e,drop_if_any_missing:f.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),s.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[s.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:f=>t({...e,missing_threshold:parseInt(f.target.value)}),className:"flex-1"}),s.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),u&&u.DropMissingRows_rows_removed!==void 0&&s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),s.jsx("span",{className:"font-medium text-destructive",children:String(u.DropMissingRows_rows_removed)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),s.jsx("span",{className:"font-medium",children:String(u.DropMissingRows_rows_remaining)})]}),s.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),s.jsx("span",{className:"font-medium",children:String(u.DropMissingRows_rows_total)})]})]})]})]})},Lpe={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:N7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Ipe,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},Dpe=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=At(r||"").find(w=>w.datasetId))==null?void 0:_.datasetId,{data:i,isLoading:o}=xt(a),l=i?Object.values(i.columns).map(w=>w.name):[],u=Ie(w=>w.executionResult),d=r?u==null?void 0:u.node_results[r]:null,f=d!=null&&d.metrics&&typeof d.metrics=="object"?d.metrics:null,[h,p]=x.useState(""),g=x.useMemo(()=>l.filter(w=>w.toLowerCase().includes(h.toLowerCase())),[l,h]),y=()=>{t({...e,subset:g})},b=()=>{const w=e.subset.filter(k=>!g.includes(k));t({...e,subset:w})};return s.jsxs("div",{className:"p-4 space-y-4",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:w=>t({...e,keep:w.target.value}),children:[s.jsx("option",{value:"first",children:"Keep First Occurrence"}),s.jsx("option",{value:"last",children:"Keep Last Occurrence"}),s.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),s.jsxs("div",{className:"space-y-2 mb-2",children:[s.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:h,onChange:w=>{p(w.target.value)}}),s.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[s.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),s.jsx("span",{className:"text-border",children:"|"}),s.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?s.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[g.map(w=>s.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(w),onChange:k=>{const j=k.target.checked?[...e.subset,w]:e.subset.filter(N=>N!==w);t({...e,subset:j})}}),w]},w)),g.length===0&&s.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',h,'"']})]}):s.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),f&&f.Deduplicate_rows_removed!==void 0&&s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),s.jsx("span",{className:"font-medium text-destructive",children:String(f.Deduplicate_rows_removed)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),s.jsx("span",{className:"font-medium",children:String(f.Deduplicate_rows_remaining)})]}),s.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),s.jsx("span",{className:"font-medium",children:String(f.Deduplicate_rows_total)})]})]})]})]})},Rpe={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:b7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:Dpe,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},zpe=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],Fpe=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=At(r||"").find(j=>j.datasetId))==null?void 0:k.datasetId,{data:i,isLoading:o}=xt(a),l=i?Object.values(i.columns).map(j=>j.name):[],u=Ie(j=>j.executionResult),d=r?u==null?void 0:u.node_results[r]:null,f=d!=null&&d.metrics&&typeof d.metrics=="object"?d.metrics:null,h=x.useRef(null),[p,g]=x.useState(!1);x.useEffect(()=>{if(!h.current)return;const j=new ResizeObserver(N=>{for(const P of N)g(P.contentRect.width>450)});return j.observe(h.current),()=>{j.disconnect()}},[]);const y=()=>{if(l.length===0)return;const j=l.find(N=>!e.column_types[N])||l[0];t({...e,column_types:{...e.column_types,[j]:"float"}})},b=j=>{const N={...e.column_types};Reflect.deleteProperty(N,j),t({...e,column_types:N})},_=(j,N)=>{if(j===N)return;const P=e.column_types[j],C={...e.column_types};Reflect.deleteProperty(C,j),C[N]=P,t({...e,column_types:C})},w=(j,N)=>{t({...e,column_types:{...e.column_types,[j]:N}})};return s.jsxs("div",{ref:h,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),s.jsx("button",{onClick:y,disabled:!a||l.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:s.jsx(tl,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:`space-y-2 ${p?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([j,N])=>s.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[s.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[s.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:j,onChange:P=>{_(j,P.target.value)},children:l.map(P=>s.jsx("option",{value:P,disabled:P!==j&&!!e.column_types[P],children:P},P))}),s.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:N,onChange:P=>{w(j,P.target.value)},children:zpe.map(P=>s.jsx("option",{value:P.value,children:P.label},P.value))})]}),s.jsx("button",{onClick:()=>{b(j)},className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:s.jsx(Us,{className:"w-4 h-4"})})]},j)),Object.keys(e.column_types).length===0&&s.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${p?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),f&&(f.cast_errors!==void 0||f.casted_columns_count!==void 0)&&s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[f.casted_columns_count!==void 0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),s.jsx("span",{className:"font-medium",children:String(f.casted_columns_count)})]}),f.cast_errors!==void 0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),s.jsx("span",{className:"font-medium text-destructive",children:String(f.cast_errors)})]})]})]})]})},$pe={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:k7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:Fpe,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},Bpe=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=At(r||"").find(w=>w.datasetId))==null?void 0:_.datasetId,{data:i,isLoading:o}=xt(a),l=i?Object.values(i.columns).map(w=>w.name):[],u=Ie(w=>w.executionResult),d=r?u==null?void 0:u.node_results[r]:null,f=d!=null&&d.metrics&&typeof d.metrics=="object"?d.metrics:null,[h,p]=x.useState(""),g=x.useMemo(()=>l.filter(w=>w.toLowerCase().includes(h.toLowerCase())),[l,h]),y=()=>{t({...e,columns:g})},b=()=>{const w=e.columns.filter(k=>!g.includes(k));t({...e,columns:w})};return s.jsxs("div",{className:"p-4 space-y-4",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),s.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:w=>t({...e,flag_suffix:w.target.value}),placeholder:"_was_missing"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),s.jsxs("div",{className:"space-y-2 mb-2",children:[s.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:h,onChange:w=>{p(w.target.value)}}),s.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[s.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),s.jsx("span",{className:"text-border",children:"|"}),s.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?s.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[g.map(w=>s.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(w),onChange:k=>{const j=k.target.checked?[...e.columns,w]:e.columns.filter(N=>N!==w);t({...e,columns:j})}}),w]},w)),g.length===0&&s.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',h,'"']})]}):s.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),(()=>{const w=f==null?void 0:f.missing_indicators_created,k=Array.isArray(f==null?void 0:f.missing_indicators_columns)?f==null?void 0:f.missing_indicators_columns:[];return w===void 0?null:s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),s.jsx("span",{className:"font-medium text-primary",children:String(w)})]}),k.length>0&&s.jsxs("div",{className:"pt-1 border-t mt-1",children:[s.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:k.map(j=>{const N=String(j);return s.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:N},N)})})]})]})]})})()]})},Upe={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:S7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:Bpe,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},Hpe=({config:e,onChange:t,nodeId:r})=>{var A;const a=(A=At(r||"").find(O=>O.datasetId))==null?void 0:A.datasetId,{data:i,isLoading:o}=xt(a),[l,u]=x.useState(""),d=x.useRef(null),[f,h]=x.useState(!1),p=Ie(O=>O.executionResult),g=r?p==null?void 0:p.node_results[r]:null,y=g!=null&&g.metrics&&typeof g.metrics=="object"?g.metrics:null,b=y!=null&&y.categories_count&&typeof y.categories_count=="object"?y.categories_count:null,_=y!=null&&y.classes_count&&typeof y.classes_count=="object"?y.classes_count:null,k=((p==null?void 0:p.recommendations)||[]).filter(O=>O.suggested_node_type==="encoding"||O.type.includes("encoding")||O.type.includes("cardinality"));x.useEffect(()=>{if(!d.current)return;const O=new ResizeObserver(T=>{for(const $ of T)h($.contentRect.width>400)});return O.observe(d.current),()=>{O.disconnect()}},[]);const j=i?Object.values(i.columns).filter(O=>["object","string","category","bool"].some(T=>O.dtype.toLowerCase().includes(T))).map(O=>O.name):[],N=j.filter(O=>O.toLowerCase().includes(l.toLowerCase())),P=()=>{t({...e,columns:[...j]})},C=()=>{t({...e,columns:[]})};return s.jsxs("div",{ref:d,className:"p-4 space-y-4",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),s.jsxs("div",{className:`grid gap-4 ${f?"grid-cols-2":"grid-cols-1"}`,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:O=>t({...e,method:O.target.value}),children:[s.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),s.jsx("option",{value:"dummy",children:"Dummy Encoding"}),s.jsx("option",{value:"label",children:"Label Encoding"}),s.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),s.jsx("option",{value:"target",children:"Target Encoding"}),s.jsx("option",{value:"hash",children:"Hash Encoding"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]}),s.jsxs("div",{className:"pt-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:e.drop_original!==!1,onChange:O=>t({...e,drop_original:O.target.checked}),className:"rounded border-gray-300"}),"Drop Original Column"]}),s.jsx("p",{className:"text-[10px] text-muted-foreground ml-5",children:"If unchecked, keeps the original column alongside encoded features."})]})]}),s.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&s.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:O=>t({...e,drop_first:O.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),s.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:O=>t({...e,handle_unknown:O.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[s.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),s.jsx("option",{value:"error",children:"Raise Error"})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&s.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:O=>t({...e,target_column:O.target.value}),children:[s.jsx("option",{value:"",children:"Select a target column..."}),i&&Object.values(i.columns).map(O=>s.jsxs("option",{value:O.name,children:[O.name," (",O.dtype,")"]},O.name))]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&s.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),s.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:O=>t({...e,n_features:parseInt(O.target.value)})})]}),e.method==="ordinal"&&s.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:O=>t({...e,unknown_value:parseInt(O.target.value)}),title:"Integer to assign for unknown categories."}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&s.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:O=>t({...e,missing_code:parseInt(O.target.value)}),title:"Integer to assign for missing or unknown categories."}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),s.jsxs("div",{className:"space-y-2 mb-2",children:[s.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:l,onChange:O=>{u(O.target.value)}}),s.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[s.jsx("button",{onClick:P,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),s.jsx("span",{className:"text-border",children:"|"}),s.jsx("button",{onClick:C,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),j.length>0?s.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[N.map(O=>s.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(O),onChange:T=>{const $=T.target.checked?[...e.columns,O]:e.columns.filter(I=>I!==O);t({...e,columns:$})}}),O]},O)),N.length===0&&s.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',l,'"']})]}):s.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),k.length>0&&s.jsx(il,{recommendations:k}),y&&s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[y.encoded_columns_count!==void 0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),s.jsx("span",{className:"font-medium",children:String(y.encoded_columns_count)})]}),y.new_features_count!==void 0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),s.jsx("span",{className:"font-medium text-primary",children:String(y.new_features_count)})]}),b&&s.jsxs("div",{className:"mt-2 border-t pt-2",children:[s.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(b).map(([O,T])=>s.jsxs("div",{className:"flex justify-between text-[10px]",children:[s.jsxs("span",{className:"truncate max-w-[100px]",title:O,children:[O,":"]}),s.jsx("span",{className:"font-mono",children:String(T)})]},O))})]}),_&&s.jsxs("div",{className:"mt-2 border-t pt-2",children:[s.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(_).map(([O,T])=>s.jsxs("div",{className:"flex justify-between text-[10px]",children:[s.jsxs("span",{className:"truncate max-w-[100px]",title:O,children:[O,":"]}),s.jsx("span",{className:"font-mono",children:String(T)})]},O))})]})]})]})]})},Wpe={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:PM,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:Hpe,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},Vpe=({config:e,onChange:t,nodeId:r})=>{const n=Ie(A=>A.nodes),a=Ie(A=>A.edges),o=(A=>{var $;const O=new Set,T=[A];for(;T.length>0;){const I=T.shift();if(!I||O.has(I))continue;O.add(I);const z=n.find(F=>F.id===I);if(!z)continue;if(I!==A&&(($=z.data)!=null&&$.datasetId))return z.data.datasetId;const U=rl(z,n,a);for(const F of U)T.push(F.id)}})(r||""),{data:l,isLoading:u}=xt(o),d=eu(r||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),f=Ie(A=>A.executionResult),h=r?f==null?void 0:f.node_results[r]:null,p=x.useRef(null),[g,y]=x.useState(!1),[b,_]=x.useState("");x.useEffect(()=>{if(!p.current)return;const A=new ResizeObserver(O=>{for(const T of O)y(T.contentRect.width>450)});return A.observe(p.current),()=>{A.disconnect()}},[]);const w=l?Object.values(l.columns).filter(A=>["int","float","number"].some(O=>A.dtype.toLowerCase().includes(O))).map(A=>A.name):[],k=w.filter(A=>A.toLowerCase().includes(b.toLowerCase())),j=()=>{t({...e,columns:k})},N=()=>{const A=e.columns.filter(O=>!k.includes(O));t({...e,columns:A})},P=()=>{if(!h||!h.metrics)return null;const A=h.metrics,O=A.rows_removed,T=A.rows_remaining,$=A.rows_total??(O??0)+(T??0),I=A.bounds,z=A.stats,U=A.contamination,F=A.warnings,q=A.values_clipped;if(O===void 0&&!I&&!z&&U===void 0&&!F&&q===void 0)return null;const H=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return s.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),s.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:H()})]}),F&&F.length>0&&s.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[s.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),s.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:F.map((W,M)=>s.jsx("li",{className:"truncate",title:W,children:W},M))})]}),e.method==="winsorize"?s.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[s.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"font-mono font-medium text-blue-600",children:q??0}),s.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):s.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx("span",{className:"font-mono font-medium text-destructive",children:O??0}),$>0&&s.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((O??0)/$*100).toFixed(1),"%)"]})]}),T!==void 0&&s.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[T," remaining"]})]})]}),U!==void 0&&s.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[s.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),s.jsxs("span",{className:"font-mono font-medium",children:[(U*100).toFixed(1),"%"]})]}),I&&s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),s.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(I).map(([W,M])=>s.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[s.jsx("span",{className:"truncate max-w-[100px] font-medium",title:W,children:W}),s.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",M.lower.toFixed(2),", ",M.upper.toFixed(2),"]"]})]},W))})]}),z&&s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),s.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(z).map(([W,M])=>s.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[s.jsx("span",{className:"truncate max-w-[100px] font-medium",title:W,children:W}),s.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",M.mean.toFixed(2),", =",M.std.toFixed(2)]})]},W))})]})]})},C=()=>{const A=[];if(h&&h.metrics){const T=h.metrics,$=T.rows_removed,z=T.rows_total??T[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if($!==void 0&&z!==void 0&&z>0){const U=$/z;U>.2?A.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):U===0&&e.method!=="winsorize"&&A.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&A.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const O=[...d,...A];return O.length===0?null:s.jsx("div",{className:"mt-4",children:s.jsx(il,{recommendations:O})})};return s.jsxs("div",{ref:p,className:`flex flex-col h-full w-full bg-background ${g?"overflow-hidden":"overflow-y-auto"}`,children:[s.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!o&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${g?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${g?"overflow-y-auto pr-2":"shrink-0"}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:A=>t({...e,method:A.target.value}),children:[s.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),s.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),s.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),s.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),s.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:A=>t({...e,multiplier:parseFloat(A.target.value)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),s.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:A=>t({...e,threshold:parseFloat(A.target.value)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:A=>t({...e,lower_percentile:parseFloat(A.target.value)})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:A=>t({...e,upper_percentile:parseFloat(A.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:A=>t({...e,contamination:parseFloat(A.target.value)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),g&&s.jsxs(s.Fragment,{children:[s.jsx(P,{}),s.jsx(C,{})]})]}),s.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${g?"":"shrink-0"}`,children:[s.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),s.jsx("button",{onClick:N,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),s.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:b,onChange:A=>{_(A.target.value)}})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:k.length>0?k.map(A=>s.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[s.jsx("input",{type:"checkbox",checked:e.columns.includes(A),onChange:O=>{const T=O.target.checked?[...e.columns,A]:e.columns.filter($=>$!==A);t({...e,columns:T})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{className:"truncate",title:A,children:A})]},A)):s.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:u?"Loading schema...":w.length===0?"No numeric columns found":"No matches found"})})]}),!g&&s.jsxs(s.Fragment,{children:[s.jsx(P,{}),s.jsx(C,{})]})]})]})},Kpe={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:H7,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:Vpe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},Nv={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},qpe=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",Zpe=({allColumns:e,selectedColumns:t,onChange:r})=>{const[n,a]=x.useState(""),i=x.useMemo(()=>e.filter(d=>d.toLowerCase().includes(n.toLowerCase())),[e,n]),o=()=>{const d=Array.from(new Set([...t,...i]));r(d)},l=()=>{const d=t.filter(f=>!i.includes(f));r(d)},u=d=>{t.includes(d)?r(t.filter(f=>f!==d)):r([...t,d])};return s.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[s.jsx("div",{className:"flex gap-2 items-center",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Bs,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),s.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:n,onChange:d=>{a(d.target.value)}})]})}),s.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[s.jsx("button",{onClick:o,className:"text-primary hover:underline font-medium",children:"Select All"}),s.jsx("span",{className:"text-muted-foreground",children:"|"}),s.jsx("button",{onClick:l,className:"text-muted-foreground hover:underline",children:"None"}),s.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),s.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:i.length===0?s.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',n,'"']}):i.map(d=>s.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[s.jsx("input",{type:"checkbox",checked:t.includes(d),onChange:()=>{u(d)},className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{className:"truncate",title:d,children:d})]},d))})]})},Ype=({config:e,onChange:t,nodeId:r})=>{var N;const n=x.useMemo(()=>e||{transformations:[]},[e]),a=x.useMemo(()=>Array.isArray(n.transformations)?n.transformations:[],[n.transformations]),[i,o]=x.useState([]),l=x.useRef(null),[u,d]=x.useState(!1);x.useEffect(()=>{if(!l.current)return;const P=new ResizeObserver(C=>{for(const A of C)d(A.contentRect.width>450)});return P.observe(l.current),()=>{P.disconnect()}},[]);const h=(N=At(r||"").find(P=>P.datasetId))==null?void 0:N.datasetId,{data:p}=xt(h),g=x.useMemo(()=>p!=null&&p.columns?Object.values(p.columns).filter(P=>["int","float","number"].some(C=>P.dtype.toLowerCase().includes(C))).map(P=>P.name):[],[p]),y=()=>{const P=a.length;o(C=>[...C,P]),t({transformations:[...a,{columns:[],method:"log",params:{}}]})},b=(P,C)=>{const A=[...a];A[P]={...A[P],...C},t({transformations:A})},_=P=>{const C=[...a];C.splice(P,1),t({transformations:C}),o(A=>A.filter(O=>O!==P).map(O=>O>P?O-1:O))},w=P=>{o(C=>C.includes(P)?C.filter(A=>A!==P):[...C,P])},k=(P,C)=>{const A=Nv[C].methods[0].value;b(P,{method:A})},j=eu(r||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return s.jsxs("div",{ref:l,className:"p-4 space-y-6 h-full overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),s.jsxs("button",{onClick:y,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[s.jsx(tl,{size:12})," Add Rule"]})]}),s.jsxs("div",{className:"space-y-4",children:[a.map((P,C)=>{var $,I,z;const A=qpe(P.method),O=i.includes(C),T=(($=Nv[A].methods.find(U=>U.value===P.method))==null?void 0:$.label)||P.method;return s.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>{w(C)},children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[O?s.jsx(or,{size:16,className:"text-muted-foreground flex-shrink-0"}):s.jsx(Ra,{size:16,className:"text-muted-foreground flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col overflow-hidden",children:[s.jsx("span",{className:"text-sm font-medium truncate",children:T}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:P.columns.length===0?"No columns selected":`${P.columns.length} columns`})]})]}),s.jsx("button",{onClick:U=>{U.stopPropagation(),_(C)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:s.jsx(Us,{size:14})})]}),O&&s.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${u?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),s.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:A,onChange:U=>{k(C,U.target.value)},onClick:U=>{U.stopPropagation()},children:[s.jsx("option",{value:"simple",children:"Simple Math"}),s.jsx("option",{value:"power",children:"Power Transform"})]}),s.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:P.method,onChange:U=>{b(C,{method:U.target.value})},onClick:U=>{U.stopPropagation()},children:Nv[A].methods.map(U=>s.jsx("option",{value:U.value,children:U.label},U.value))})]}),(P.method==="yeo-johnson"||P.method==="box-cox")&&s.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:U=>{U.stopPropagation()},children:[s.jsx("input",{type:"checkbox",id:`std-${C}`,checked:((I=P.params)==null?void 0:I.standardize)!==!1,onChange:U=>{b(C,{params:{...P.params,standardize:U.target.checked}})}}),s.jsx("label",{htmlFor:`std-${C}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),P.method==="exponential"&&s.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:U=>{U.stopPropagation()},children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),s.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((z=P.params)==null?void 0:z.clip_threshold)||700,onChange:U=>{b(C,{params:{...P.params,clip_threshold:parseFloat(U.target.value)}})}})]})]}),s.jsxs("div",{className:"space-y-1 min-w-0",onClick:U=>{U.stopPropagation()},children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),s.jsx(Zpe,{allColumns:g,selectedColumns:P.columns,onChange:U=>{b(C,{columns:U})}})]})]})]},C)}),a.length===0&&s.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",s.jsx("br",{}),'Click "Add Rule" to start.']})]}),s.jsx(il,{recommendations:j||[],onApply:P=>{var T;const C=P,A=C.suggested_params.method||((T=C.params)==null?void 0:T.method)||"log",O=C.target_columns||[];if(O.length>0){const $=a.length;o(I=>[...I,$]),t({transformations:[...a,{columns:O,method:A,params:{}}]})}}})]})},Gpe={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:OM,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:Ype,getDefaultConfig:()=>({transformations:[]})},Xpe=({value:e,onChange:t})=>{const[r,n]=x.useState((e==null?void 0:e.join(", "))||""),a=x.useRef(e);x.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(a.current)&&(n((e==null?void 0:e.join(", "))||""),a.current=e)},[e]);const i=()=>{const o=r.split(",").map(l=>parseFloat(l.trim())).filter(l=>!isNaN(l)).sort((l,u)=>l-u);t(o)};return s.jsx("input",{type:"text",className:"w-full p-1 text-xs border rounded bg-background text-foreground",placeholder:"0, 10, 20, 100...",value:r,onChange:o=>{n(o.target.value)},onBlur:i})},Qpe=({config:e,onChange:t,nodeId:r})=>{var w;const a=(w=At(r||"").find(k=>k.datasetId))==null?void 0:w.datasetId,{data:i,isLoading:o}=xt(a),l=x.useRef(null),[u,d]=x.useState(!1),[f,h]=x.useState("");x.useEffect(()=>{if(!l.current)return;const k=new ResizeObserver(j=>{for(const N of j)d(N.contentRect.width>450)});return k.observe(l.current),()=>{k.disconnect()}},[]);const p=i?Object.values(i.columns).filter(k=>["int","float","number"].some(j=>k.dtype.toLowerCase().includes(j))).map(k=>k.name):[],g=p.filter(k=>k.toLowerCase().includes(f.toLowerCase())),y=()=>{t({...e,columns:g})},b=()=>{const k=e.columns.filter(j=>!g.includes(j));t({...e,columns:k})},_=k=>{e.columns.includes(k)?t({...e,columns:e.columns.filter(j=>j!==k)}):t({...e,columns:[...e.columns,k]})};return s.jsxs("div",{ref:l,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s.jsxs("div",{className:`grid gap-4 ${u?"grid-cols-2":"grid-cols-1"}`,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Binning Strategy"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.strategy,onChange:k=>t({...e,strategy:k.target.value}),children:[s.jsx("option",{value:"equal_width",children:"Equal Width (Uniform)"}),s.jsx("option",{value:"equal_frequency",children:"Equal Frequency (Quantile)"}),s.jsx("option",{value:"kmeans",children:"K-Means Clustering"}),s.jsx("option",{value:"custom",children:"Custom Edges"})]}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[e.strategy==="equal_width"&&"Bins have equal width ranges.",e.strategy==="equal_frequency"&&"Bins have equal number of records.",e.strategy==="kmeans"&&"Bins based on K-Means clustering centers.",e.strategy==="custom"&&"Define specific bin edges for each column."]})]}),e.strategy!=="custom"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Number of Bins"}),s.jsx("input",{type:"number",min:2,max:100,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.n_bins,onChange:k=>t({...e,n_bins:parseInt(k.target.value)||5})})]}),e.strategy==="custom"&&s.jsxs("div",{className:"space-y-2 border rounded p-2 bg-muted/10",children:[s.jsx("label",{className:"block text-xs font-medium",children:"Custom Edges"}),e.columns.length===0?s.jsx("div",{className:"text-xs text-muted-foreground",children:"Select columns first."}):s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.columns.map(k=>{var j;return s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-medium",children:k}),s.jsx(Xpe,{value:(j=e.custom_bins)==null?void 0:j[k],onChange:N=>t({...e,custom_bins:{...e.custom_bins,[k]:N}})})]},k)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Label Format"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.label_format,onChange:k=>t({...e,label_format:k.target.value}),children:[s.jsx("option",{value:"ordinal",children:"Ordinal (0, 1, 2...)"}),s.jsx("option",{value:"range",children:"Range Intervals ([0-10], [10-20]...)"}),s.jsx("option",{value:"bin_index",children:"Bin Index"})]})]}),e.label_format==="range"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Precision (Decimals)"}),s.jsx("input",{type:"number",min:0,max:10,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.precision??3,onChange:k=>t({...e,precision:parseInt(k.target.value)||0})}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Number of decimal places to show in interval labels (e.g. 2 gives [0.00, 10.00])."})]}),s.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"drop_original",checked:e.drop_original,onChange:k=>t({...e,drop_original:k.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("label",{htmlFor:"drop_original",className:"text-sm",children:"Drop Original Columns"})]}),!e.drop_original&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Suffix"}),s.jsx("input",{type:"text",className:"w-full p-1.5 border rounded text-xs",placeholder:"_binned",value:e.output_suffix||"",onChange:k=>t({...e,output_suffix:k.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-2 flex flex-col h-full min-h-[200px]",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Target Columns"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("input",{className:"w-full px-2 py-1 text-xs border rounded bg-background text-foreground",placeholder:"Search columns...",value:f,onChange:k=>{h(k.target.value)}})}),s.jsxs("div",{className:"flex gap-2 text-xs border-b pb-1",children:[s.jsx("button",{onClick:y,className:"text-primary hover:underline",children:"Select All"}),s.jsx("span",{className:"text-muted-foreground",children:"|"}),s.jsx("button",{onClick:b,className:"text-muted-foreground hover:underline",children:"None"}),s.jsxs("span",{className:"ml-auto text-muted-foreground",children:[e.columns.length," selected"]})]}),s.jsx("div",{className:"flex-1 border rounded bg-background overflow-y-auto p-2 max-h-[300px]",children:o?s.jsx("div",{className:"text-xs text-muted-foreground p-2",children:"Loading columns..."}):g.length===0?s.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:p.length===0?"No numeric columns found.":`No columns match "${f}"`}):s.jsx("div",{className:"space-y-1",children:g.map(k=>s.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[s.jsx("input",{type:"checkbox",checked:e.columns.includes(k),onChange:()=>{_(k)},className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{className:"truncate",title:k,children:k})]},k))})})]})]})]})},Jpe={type:"BinningNode",label:"Binning / Discretization",description:"Convert continuous variables into discrete bins.",icon:l1,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Binned"}],validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column to bin."}:e.n_bins<2?{isValid:!1,message:"Number of bins must be at least 2."}:{isValid:!0},settings:Qpe,getDefaultConfig:()=>({columns:[],strategy:"equal_width",n_bins:5,label_format:"ordinal",output_suffix:"_binned",drop_original:!1})},ege=({nodeId:e})=>{var a;const t=Ie(i=>i.executionResult),r=e?(a=t==null?void 0:t.node_results)==null?void 0:a[e]:void 0;if(!r)return null;const n=i=>s.jsx("div",{className:"space-y-1",children:Object.entries(i).map(([o,l])=>typeof l=="object"&&l!==null?s.jsxs("div",{className:"mt-1",children:[s.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[o.replace(/_/g," "),":"]}),s.jsx("div",{className:"pl-2 border-l-2 border-gray-200 dark:border-gray-700 ml-1",children:n(l)})]},o):s.jsxs("div",{className:"flex justify-between text-[10px]",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[o.replace(/_/g," "),":"]}),s.jsx("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:String(l)})]},o))});return s.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[s.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Last Run Results"}),s.jsxs("div",{className:"text-xs space-y-1 text-gray-600 dark:text-gray-300",children:[r.metrics&&s.jsx("div",{className:"mt-2",children:n(r.metrics)}),r.error&&s.jsxs("div",{className:"mt-2 text-red-500 break-words",children:["Error: ",r.error]}),!r.metrics&&!r.error&&s.jsx("div",{className:"italic text-gray-500",children:"No metrics available"})]})]})},tge=({config:e,onChange:t,nodeId:r})=>{var w;const n=x.useRef(null),[a,i]=x.useState(!1),[o,l]=x.useState(!0),u=At(r||""),d=Array.isArray(u)?u.filter(Boolean):[],f=(w=d.find(k=>typeof k.datasetId=="string"))==null?void 0:w.datasetId,{data:h}=xt(f),p=d.find(k=>{const j=k.config;if(!j||typeof j!="object")return!1;const N=j.target_column;return typeof N=="string"&&N.trim().length>0}),g=p?p.config.target_column??void 0:void 0;x.useEffect(()=>{if(!e.target_column){if(p&&g)t({...e,target_column:g});else if(h!=null&&h.columns){const k=Object.values(h.columns).find(j=>j.name.toLowerCase()==="target"||j.name.toLowerCase()==="class"||j.column_type==="target");k&&t({...e,target_column:k.name})}}},[h,p,g,e.target_column,e,t]),x.useEffect(()=>{if(!n.current)return;const k=new ResizeObserver(j=>{for(const N of j)i(N.contentRect.width>400)});return k.observe(n.current),()=>{k.disconnect()}},[]);const y=eu(r||"",{types:["resampling"],suggestedNodeTypes:["ResamplingNode"]}),b=k=>{k.suggested_params&&t({...e,...k.suggested_params})},_=(k,j)=>{const N={...e,[k]:j};k==="type"&&(j==="oversampling"?N.method="smote":N.method="random_under_sampling"),t(N)};return s.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resampling Type"}),s.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.type,onChange:k=>{_("type",k.target.value)},children:[s.jsx("option",{value:"oversampling",children:"Oversampling (Minority)"}),s.jsx("option",{value:"undersampling",children:"Undersampling (Majority)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Method"}),s.jsx("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.method,onChange:k=>{_("method",k.target.value)},children:e.type==="oversampling"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"smote",children:"SMOTE"}),s.jsx("option",{value:"adasyn",children:"ADASYN"}),s.jsx("option",{value:"borderline_smote",children:"Borderline SMOTE"}),s.jsx("option",{value:"svm_smote",children:"SVM SMOTE"}),s.jsx("option",{value:"kmeans_smote",children:"KMeans SMOTE"}),s.jsx("option",{value:"smote_tomek",children:"SMOTE + Tomek"})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"random_under_sampling",children:"Random Under Sampling"}),s.jsx("option",{value:"nearmiss",children:"NearMiss"}),s.jsx("option",{value:"tomek_links",children:"Tomek Links"}),s.jsx("option",{value:"edited_nearest_neighbours",children:"Edited Nearest Neighbours"})]})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.type==="oversampling"?"Generate synthetic samples for the minority class.":"Remove samples from the majority class."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Column"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"e.g., target",value:e.target_column,onChange:k=>{_("target_column",k.target.value)},list:"target-column-suggestions"}),(h==null?void 0:h.columns)&&s.jsx("datalist",{id:"target-column-suggestions",children:Object.values(h.columns).map(k=>s.jsx("option",{value:k.name},k.name))})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:p?"Auto-detected from upstream node.":"The column containing the class labels."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sampling Strategy"}),s.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.sampling_strategy,onChange:k=>{_("sampling_strategy",k.target.value)},children:[s.jsx("option",{value:"auto",children:"Auto (Resample all classes but majority)"}),s.jsx("option",{value:"minority",children:"Minority (Resample only minority class)"}),s.jsx("option",{value:"not minority",children:"Not Minority (Resample all but minority)"}),s.jsx("option",{value:"not majority",children:"Not Majority (Resample all but majority)"}),s.jsx("option",{value:"all",children:"All (Resample all classes)"})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Defines which classes to resample."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Random State"}),s.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.random_state,onChange:k=>{_("random_state",parseInt(k.target.value))}})]})]}),s.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[e.type==="oversampling"&&s.jsxs(s.Fragment,{children:[["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"k Neighbors"}),s.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.k_neighbors??5,onChange:k=>{_("k_neighbors",parseInt(k.target.value))}})]}),["borderline_smote","svm_smote"].includes(e.method)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"m Neighbors"}),s.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.m_neighbors??10,onChange:k=>{_("m_neighbors",parseInt(k.target.value))}})]}),e.method==="borderline_smote"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kind"}),s.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind??"borderline-1",onChange:k=>{_("kind",k.target.value)},children:[s.jsx("option",{value:"borderline-1",children:"Borderline-1"}),s.jsx("option",{value:"borderline-2",children:"Borderline-2"})]})]}),e.method==="svm_smote"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Out Step"}),s.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.out_step??.5,onChange:k=>{_("out_step",parseFloat(k.target.value))}})]}),e.method==="kmeans_smote"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cluster Balance Threshold"}),s.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.cluster_balance_threshold??.1,onChange:k=>{_("cluster_balance_threshold",parseFloat(k.target.value))}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Density Exponent"}),s.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.density_exponent??"auto",onChange:k=>{_("density_exponent",k.target.value)}})]})]})]}),e.type==="undersampling"&&e.method==="random_under_sampling"&&s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Replacement"}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sample with replacement"})]}),s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:e.replacement??!1,onChange:k=>{_("replacement",k.target.checked)}})]}),e.type==="undersampling"&&e.method==="nearmiss"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Version"}),s.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.version??1,onChange:k=>{_("version",parseInt(k.target.value))},children:[s.jsx("option",{value:"1",children:"1"}),s.jsx("option",{value:"2",children:"2"}),s.jsx("option",{value:"3",children:"3"})]})]}),e.type==="undersampling"&&e.method==="edited_nearest_neighbours"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"n Neighbors"}),s.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.n_neighbors??3,onChange:k=>{_("n_neighbors",parseInt(k.target.value))}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selection Kind"}),s.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind_sel??"all",onChange:k=>{_("kind_sel",k.target.value)},children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"mode",children:"Mode"})]})]})]}),y.length>0&&s.jsxs("div",{className:"mt-0 border rounded-md overflow-hidden border-gray-200 dark:border-gray-700",children:[s.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>{l(!o)},children:[s.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Recommendations (",y.length,")"]}),o?s.jsx(ff,{size:16}):s.jsx(or,{size:16})]}),o&&s.jsx("div",{className:"p-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:s.jsx(il,{recommendations:y,onApply:b})})]}),r&&s.jsx(ege,{nodeId:r})]})]})})},rge=e=>e.target_column?e.type==="oversampling"&&["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&(e.k_neighbors??5)<1?{isValid:!1,message:"k_neighbors must be at least 1."}:{isValid:!0}:{isValid:!1,message:"Target column is required for resampling."},nge={type:"ResamplingNode",label:"Resampling",category:"Preprocessing",description:"Balance dataset classes using oversampling or undersampling techniques.",icon:ln,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Balanced Data",type:"dataset"}],settings:tge,validate:rge,getDefaultConfig:()=>({type:"oversampling",method:"smote",target_column:"",sampling_strategy:"auto",random_state:42,k_neighbors:5,replacement:!1,version:1,n_neighbors:3,kind_sel:"all"})},age=[{value:"arithmetic",label:"Arithmetic",icon:c1},{value:"datetime_extract",label:"Date Extraction",icon:wp},{value:"ratio",label:"Ratio",icon:F7},{value:"similarity",label:"Similarity",icon:C7},{value:"group_agg",label:"Group Agg",icon:OM}],ige=["add","subtract","multiply","divide"],sge=["year","month","day","weekday","hour","quarter","is_weekend"],oge=["ratio","token_sort_ratio","token_set_ratio"],lge=["mean","sum","count","min","max","std","median"],ni=({columns:e,selected:t,onChange:r,label:n,single:a})=>{const[i,o]=x.useState(""),l=e.filter(d=>d.toLowerCase().includes(i.toLowerCase())),u=d=>{a?r([d]):t.includes(d)?r(t.filter(f=>f!==d)):r([...t,d])};return s.jsxs("div",{className:"space-y-1.5",children:[n&&s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),s.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[s.jsx(Bs,{size:12,className:"text-muted-foreground mr-1.5"}),s.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:i,onChange:d=>{o(d.target.value)}})]}),s.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:l.length>0?l.map(d=>{const f=t.includes(d);return s.jsxs("div",{onClick:()=>{u(d)},className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${f?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[s.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${f?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:f&&s.jsx(Ed,{size:8,strokeWidth:4})}),s.jsx("span",{className:"truncate",children:d})]},d)}):s.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center italic",children:"No columns found"})})]})]})},cge=({config:e,onChange:t,nodeId:r})=>{var A;const a=(A=At(r||"").find(O=>O.datasetId))==null?void 0:A.datasetId,{data:i}=xt(a),o=Ie(O=>O.executionResult),l=r?o==null?void 0:o.node_results[r]:null,u=l!=null&&l.metrics&&typeof l.metrics=="object"?l.metrics:null,d=u&&Array.isArray(u.generated_features)?u.generated_features.map(O=>String(O)):[],[f,h]=x.useState(!1),p=i?Object.values(i.columns).map(O=>O.name):[],g=i?Object.values(i.columns).filter(O=>["int","float","number"].some(T=>O.dtype.toLowerCase().includes(T))).map(O=>O.name):[],y=i?Object.values(i.columns).filter(O=>["date","time"].some(T=>O.dtype.toLowerCase().includes(T))).map(O=>O.name):[],b=i?Object.values(i.columns).filter(O=>["string","object","text"].some(T=>O.dtype.toLowerCase().includes(T))).map(O=>O.name):[],_=eu(r||"",{types:["feature_generation"],suggestedNodeTypes:["FeatureGenerationNode"],scope:"column"}),w=O=>{},k=O=>{const T={operation_type:O,method:O==="arithmetic"?"add":O==="similarity"?"ratio":O==="group_agg"?"mean":"year",input_columns:[],output_column:"",datetime_features:O==="datetime_extract"?["year"]:void 0,isExpanded:!0};t({operations:[...e.operations||[],T]})},j=(O,T)=>{const $=[...e.operations||[]];$[O]={...$[O],...T},t({operations:$})},N=(O,T)=>{T.stopPropagation();const $=[...e.operations||[]];$.splice(O,1),t({operations:$})},P=O=>{const T=[...e.operations||[]];T[O]={...T[O],isExpanded:!T[O].isExpanded},t({operations:T})},C=(O,T)=>`${O.operation_type}_${T}`;return s.jsxs("div",{className:"flex h-full",children:[s.jsxs("div",{className:"w-20 border-r bg-muted/10 flex flex-col items-center py-4 gap-2 overflow-y-auto shrink-0",children:[s.jsx("span",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider",children:"Add"}),age.map(O=>s.jsxs("button",{onClick:()=>{k(O.value)},className:"flex flex-col items-center justify-center gap-1 p-1.5 rounded-md border bg-card hover:bg-accent hover:border-primary/50 transition-all group w-16 h-14 shadow-sm",title:O.label,children:[s.jsx(O.icon,{size:18,className:"text-muted-foreground group-hover:text-primary"}),s.jsx("span",{className:"text-[9px] font-medium text-muted-foreground group-hover:text-foreground text-center leading-tight line-clamp-2",children:O.label.replace(" ",`
`)})]},O.value))]}),s.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:[_.length>0&&s.jsxs("div",{className:"border-b bg-muted/10",children:[s.jsxs("button",{onClick:()=>{h(!f)},className:"w-full flex items-center justify-between px-4 py-2 text-xs font-medium text-muted-foreground hover:text-primary hover:bg-muted/20 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_p,{size:14,className:_.length>0?"text-yellow-500":""}),s.jsxs("span",{children:["Recommendations (",_.length,")"]})]}),f?s.jsx(or,{size:14}):s.jsx(Ra,{size:14})]}),f&&s.jsx("div",{className:"p-4 bg-muted/5 border-t",children:s.jsx(il,{recommendations:_,onApply:w,className:"mb-0"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[(e.operations||[]).map((O,T)=>{var $,I,z;return s.jsxs("div",{className:"border rounded-lg bg-card shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{P(T)},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[O.isExpanded?s.jsx(or,{size:14,className:"text-muted-foreground"}):s.jsx(Ra,{size:14,className:"text-muted-foreground"}),s.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:O.operation_type==="datetime_extract"?"Date":O.operation_type.replace("_"," ")}),["arithmetic","similarity","group_agg"].includes(O.operation_type)&&s.jsx("select",{className:"text-sm border-none bg-transparent font-semibold focus:ring-0 cursor-pointer hover:text-primary",value:O.method,onClick:U=>{U.stopPropagation()},onChange:U=>{j(T,{method:U.target.value})},children:(O.operation_type==="arithmetic"?ige:O.operation_type==="similarity"?oge:O.operation_type==="group_agg"?lge:[]).map(U=>s.jsx("option",{value:U,children:U.replace("_"," ")},U))})]}),s.jsx("button",{onClick:U=>{N(T,U)},className:"text-muted-foreground hover:text-destructive transition-colors p-1 rounded-full hover:bg-destructive/10",children:s.jsx(Us,{size:14})})]}),O.isExpanded&&s.jsxs("div",{className:"p-3 space-y-4",children:[O.operation_type==="arithmetic"&&s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:O.method==="divide"?"Performs row-by-row division (Col A / Col B) for each record.":"Performs row-by-row arithmetic between two columns."}),s.jsx(ni,{label:"Column A (Left Operand)",columns:g,selected:O.input_columns.slice(0,1),onChange:U=>{j(T,{input_columns:U})},single:!0}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-px bg-border flex-1"}),s.jsx("span",{className:"text-lg font-bold text-muted-foreground bg-muted/20 w-8 h-8 rounded flex items-center justify-center",children:O.method==="add"?"+":O.method==="subtract"?"-":O.method==="multiply"?"":""}),s.jsx("div",{className:"h-px bg-border flex-1"})]}),s.jsx(ni,{label:"Column B (Right Operand)",columns:g,selected:(($=O.secondary_columns)==null?void 0:$.slice(0,1))||[],onChange:U=>{j(T,{secondary_columns:U})},single:!0})]}),O.operation_type==="ratio"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:["Calculates aggregate ratio: ",s.jsx("strong",{children:"Sum(Numerator) / Sum(Denominator)"}),"."]}),s.jsx(ni,{label:"Numerator (Sum)",columns:g,selected:O.input_columns,onChange:U=>{j(T,{input_columns:U})}}),s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-dashed"})}),s.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Divided By"})]}),s.jsx(ni,{label:"Denominator (Sum)",columns:g,selected:O.secondary_columns||[],onChange:U=>{j(T,{secondary_columns:U})}})]}),O.operation_type==="similarity"&&s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20 space-y-1",children:[s.jsx("p",{children:"Calculates string similarity score (0-100) between two text columns."}),s.jsxs("ul",{className:"list-disc pl-3 space-y-0.5 opacity-80",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Ratio:"}),' Strict character matching (Levenshtein). "apple banana" != "banana apple".']}),s.jsxs("li",{children:[s.jsx("strong",{children:"Token Sort:"}),' Sorts words alphabetically then compares. "apple banana" == "banana apple".']}),s.jsxs("li",{children:[s.jsx("strong",{children:"Token Set:"})," Compares intersection of words. Handles duplicates/subsets well."]})]})]}),s.jsx(ni,{label:"String A",columns:b,selected:O.input_columns.slice(0,1),onChange:U=>j(T,{input_columns:U}),single:!0}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-px bg-border flex-1"}),s.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted/20 px-2 py-1 rounded",children:"vs"}),s.jsx("div",{className:"h-px bg-border flex-1"})]}),s.jsx(ni,{label:"String B",columns:b,selected:((I=O.secondary_columns)==null?void 0:I.slice(0,1))||[],onChange:U=>j(T,{secondary_columns:U}),single:!0})]}),O.operation_type==="group_agg"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Calculates aggregate statistics (e.g., Mean Salary) grouped by a categorical column (e.g., Department) and assigns it back to each row."}),s.jsx(ni,{label:"Group By (Categorical)",columns:b.length>0?b:p,selected:O.input_columns.slice(0,1),onChange:U=>j(T,{input_columns:U}),single:!0}),s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-dashed"})}),s.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Target Column"})]}),s.jsx(ni,{label:"Target (Numeric)",columns:g,selected:((z=O.secondary_columns)==null?void 0:z.slice(0,1))||[],onChange:U=>j(T,{secondary_columns:U}),single:!0})]}),O.operation_type==="datetime_extract"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(ni,{label:"Date Column",columns:y.length>0?y:p,selected:O.input_columns.slice(0,1),onChange:U=>j(T,{input_columns:U}),single:!0}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Features to Extract"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:sge.map(U=>s.jsxs("label",{className:"flex items-center gap-2 text-xs p-1.5 border rounded hover:bg-accent cursor-pointer transition-colors",children:[s.jsx("input",{type:"checkbox",className:"rounded border-muted-foreground/40 text-primary focus:ring-0",checked:(O.datetime_features||[]).includes(U),onChange:F=>{const q=O.datetime_features||[],H=F.target.checked?[...q,U]:q.filter(W=>W!==U);j(T,{datetime_features:H})}}),s.jsx("span",{className:"capitalize",children:U.replace("_"," ")})]},U))})]})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("label",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider mb-1 block",children:"Output Column Name"}),s.jsx("input",{type:"text",className:"w-full text-xs border rounded px-2 py-1.5 bg-background focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:C(O,T),value:O.output_column||"",onChange:U=>{j(T,{output_column:U.target.value})}})]})]})]},T)}),(!e.operations||e.operations.length===0)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed rounded-lg bg-muted/5 text-muted-foreground",children:[s.jsx(c1,{size:32,className:"mb-2 opacity-20"}),s.jsx("p",{className:"text-xs font-medium",children:"No operations added"}),s.jsx("p",{className:"text-[10px] opacity-70",children:"Select a type above to start"})]}),u&&s.jsxs("div",{className:"border rounded-lg bg-muted/10 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsx("div",{className:"space-y-2 text-xs",children:d.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),s.jsx("span",{className:"font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:d.length})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-semibold mb-1.5 block",children:"Generated Columns"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:d.map(O=>s.jsx("span",{className:"px-2 py-1 bg-background border rounded text-[10px] font-mono text-foreground shadow-sm",children:O},O))})]})]}):s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[s.jsx(Bo,{size:12}),s.jsx("span",{children:"No features generated in last run."})]})})]})]})]})]})},uge={type:"FeatureGenerationNode",label:"Feature Generation",description:"Create new features via math, stats, or date extraction.",icon:c1,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Enhanced"}],validate:e=>{var t,r,n,a;if(!((t=e.operations)!=null&&t.length))return{isValid:!1,message:"Add at least one operation."};for(const i of e.operations){if(i.operation_type==="arithmetic"&&(i.input_columns.length===0||!((r=i.secondary_columns)!=null&&r.length)&&!((n=i.constants)!=null&&n.length)))return{isValid:!1,message:"Arithmetic requires two operands."};if(i.operation_type==="datetime_extract"&&i.input_columns.length===0)return{isValid:!1,message:"Select a date column."};if(i.operation_type==="group_agg"&&(i.input_columns.length===0||!((a=i.secondary_columns)!=null&&a.length)))return{isValid:!1,message:"Select both Group By and Target columns."}}return{isValid:!0}},settings:cge,getDefaultConfig:()=>({operations:[]})},dge=({columns:e,selected:t,onChange:r,label:n})=>{const[a,i]=x.useState(""),o=e.filter(u=>u.toLowerCase().includes(a.toLowerCase())),l=u=>{t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return s.jsxs("div",{className:"space-y-1.5",children:[n&&s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),s.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[s.jsx(Bs,{size:12,className:"text-muted-foreground mr-1.5"}),s.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:a,onChange:u=>{i(u.target.value)}})]}),s.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:o.length>0?o.map(u=>{const d=t.includes(u);return s.jsxs("div",{onClick:()=>{l(u)},className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${d?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[s.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:d&&s.jsx("div",{className:"w-1.5 h-1.5 bg-current rounded-sm"})}),s.jsx("span",{className:"truncate",children:u})]},u)}):s.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center",children:"No columns found"})})]}),s.jsxs("div",{className:"text-[10px] text-muted-foreground text-right",children:[t.length," selected"]})]})},fge={type:"PolynomialFeaturesNode",label:"Polynomial Features",description:"Generate polynomial and interaction features.",category:"Preprocessing",icon:nS,inputs:[{id:"in",label:"Input Dataset",type:"dataset"}],outputs:[{id:"out",label:"Transformed Data",type:"dataset"}],getDefaultConfig:()=>({columns:[],degree:2,interaction_only:!1,include_bias:!1,output_prefix:"poly",include_input_features:!1,isExpanded:!0}),settings:({config:e,onChange:t,nodeId:r})=>{var d;const a=(d=At(r||"").find(f=>f.datasetId))==null?void 0:d.datasetId,{data:i}=xt(a),o=i?Object.values(i.columns).filter(f=>["int","float","number","double","long"].some(h=>f.dtype.toLowerCase().includes(h))).map(f=>f.name):[],l=f=>{t({...e,...f})},u=()=>{l({isExpanded:!e.isExpanded})};return s.jsx("div",{className:"space-y-2 min-w-[280px]",children:s.jsxs("div",{className:"border rounded-md bg-card",children:[s.jsxs("div",{className:"flex items-center justify-between p-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:u,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nS,{size:14,className:"text-primary"}),s.jsx("span",{className:"text-sm font-medium",children:"Configuration"})]}),e.isExpanded?s.jsx(or,{size:14}):s.jsx(Ra,{size:14})]}),e.isExpanded&&s.jsxs("div",{className:"p-3 space-y-4 border-t",children:[s.jsx(dge,{label:"Input Columns (Numeric)",columns:o,selected:e.columns||[],onChange:f=>l({columns:f})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("label",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:["Degree",s.jsxs("div",{className:"group relative",children:[s.jsx(Bo,{size:10,className:"cursor-help"}),s.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 hidden group-hover:block w-48 p-2 bg-popover text-popover-foreground text-[10px] rounded border shadow-lg z-50",children:"The degree of the polynomial features. Default = 2."})]})]}),s.jsx("input",{type:"number",min:2,max:5,className:"w-full px-2 py-1.5 text-xs border rounded bg-background",value:e.degree||2,onChange:f=>l({degree:parseInt(f.target.value)||2})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Prefix"}),s.jsx("input",{type:"text",className:"w-full px-2 py-1.5 text-xs border rounded bg-background",value:e.output_prefix||"poly",onChange:f=>l({output_prefix:f.target.value})})]}),s.jsxs("div",{className:"space-y-2 pt-1",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.interaction_only||!1,onChange:f=>l({interaction_only:f.target.checked})}),s.jsx("span",{className:"text-xs",children:"Interaction Only"})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground pl-5",children:"If true, only interaction features are produced: features that are products of at most degree distinct input features."}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.include_bias||!1,onChange:f=>l({include_bias:f.target.checked})}),s.jsx("span",{className:"text-xs",children:"Include Bias"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.include_input_features||!1,onChange:f=>l({include_input_features:f.target.checked})}),s.jsx("span",{className:"text-xs",children:"Include Input Features"})]})]})]})]})]})})},validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one input column."}:e.degree<2?{isValid:!1,message:"Degree must be at least 2."}:{isValid:!0}},hge=({columns:e,selected:t,onChange:r})=>{const[n,a]=x.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),o=l=>{t.includes(l)?r(t.filter(u=>u!==l)):r([...t,l])};return s.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[s.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[s.jsx(Bs,{size:12,className:"text-muted-foreground mr-1.5"}),s.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),s.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const u=t.includes(l);return s.jsxs("div",{onClick:()=>{o(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${u?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[s.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${u?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:u&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),s.jsx("span",{className:"truncate",children:l})]},l)}):s.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},mge=({operation:e,onChange:t,onDelete:r})=>s.jsxs("div",{className:"p-3 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("select",{className:"text-xs font-medium bg-transparent border-none focus:ring-0 p-0 text-gray-900 dark:text-gray-100",value:e.op,onChange:n=>{const a=n.target.value;let i="both";a==="case"&&(i="lower"),a==="remove_special"&&(i="keep_alphanumeric"),a==="regex"&&(i="custom"),t({...e,op:a,mode:i})},children:[s.jsx("option",{value:"trim",children:"Trim Whitespace"}),s.jsx("option",{value:"case",children:"Change Case"}),s.jsx("option",{value:"remove_special",children:"Remove Special Chars"}),s.jsx("option",{value:"regex",children:"Regex Replace"})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(Us,{size:14})})]}),s.jsxs("div",{className:"space-y-2",children:[e.op==="trim"&&s.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[s.jsx("option",{value:"both",children:"Both Ends"}),s.jsx("option",{value:"leading",children:"Leading Only"}),s.jsx("option",{value:"trailing",children:"Trailing Only"})]}),e.op==="case"&&s.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[s.jsx("option",{value:"lower",children:"Lower Case"}),s.jsx("option",{value:"upper",children:"Upper Case"}),s.jsx("option",{value:"title",children:"Title Case"}),s.jsx("option",{value:"sentence",children:"Sentence Case"})]}),e.op==="remove_special"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[s.jsx("option",{value:"keep_alphanumeric",children:"Keep Alphanumeric"}),s.jsx("option",{value:"keep_alphanumeric_space",children:"Keep Alphanumeric & Space"}),s.jsx("option",{value:"letters_only",children:"Letters Only"}),s.jsx("option",{value:"digits_only",children:"Digits Only"})]}),s.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement (optional)",value:e.replacement||"",onChange:n=>t({...e,replacement:n.target.value})})]}),e.op==="regex"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[s.jsx("option",{value:"custom",children:"Custom Pattern"}),s.jsx("option",{value:"collapse_whitespace",children:"Collapse Whitespace"}),s.jsx("option",{value:"extract_digits",children:"Extract Digits"}),s.jsx("option",{value:"normalize_slash_dates",children:"Normalize Dates (MM/DD/YYYY)"})]}),e.mode==="custom"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5 font-mono",placeholder:"Regex Pattern",value:e.pattern||"",onChange:n=>t({...e,pattern:n.target.value})}),s.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",title:"Generate regex from literal text",onClick:()=>{const n=prompt("Enter the exact text you want to match (it will be escaped):");if(n){const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t({...e,pattern:a})}},children:s.jsx(X7,{size:14})})]}),s.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement",value:e.repl||"",onChange:n=>t({...e,repl:n.target.value})})]})]})]})]}),pge=({config:e,onChange:t,nodeId:r})=>{var b;const n=x.useRef(null),[a,i]=x.useState(!1),[o,l]=x.useState(!0),d=(b=At(r||"").find(_=>_.datasetId))==null?void 0:b.datasetId,{data:f}=xt(d),h=f?Object.values(f.columns).filter(_=>{const w=String(_.dtype).toLowerCase();return w.includes("object")||w.includes("string")||w.includes("category")||w.includes("text")}).map(_=>_.name):[];x.useEffect(()=>{if(!n.current)return;const _=new ResizeObserver(w=>{for(const k of w)i(k.contentRect.width>400)});return _.observe(n.current),()=>{_.disconnect()}},[]);const p=()=>{t({...e,operations:[...e.operations,{op:"trim",mode:"both"}]})},g=(_,w)=>{const k=[...e.operations];k[_]=w,t({...e,operations:k})},y=_=>{const w=e.operations.filter((k,j)=>j!==_);t({...e,operations:w})};return s.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),s.jsx(hge,{columns:h,selected:e.columns,onChange:_=>t({...e,columns:_})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),s.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[s.jsxs("button",{onClick:()=>{l(!o)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[s.jsx(Bo,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),s.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Text Cleaning"}),o?s.jsx(ff,{size:14,className:"text-blue-600 dark:text-blue-400"}):s.jsx(or,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),o&&s.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:s.jsx("p",{children:"Clean and standardize text columns by trimming whitespace, changing case, removing special characters, or applying custom regex patterns."})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cleaning Operations"}),s.jsxs("button",{onClick:p,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[s.jsx(tl,{size:14}),"Add Step"]})]}),s.jsx("div",{className:"space-y-3",children:e.operations.length===0?s.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"No operations added."}),s.jsx("button",{onClick:p,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first cleaning step"})]}):e.operations.map((_,w)=>s.jsx(mge,{operation:_,onChange:k=>{g(w,k)},onDelete:()=>{y(w)}},w))})]})]})})},gge={type:"TextCleaning",label:"Text Cleaning",category:"Preprocessing",description:"Clean and standardize text columns.",icon:w7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:pge,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.operations.length===0?{isValid:!1,message:"Add at least one operation."}:{isValid:!0},getDefaultConfig:()=>({columns:[],operations:[{op:"trim",mode:"both"}]})},yge=({columns:e,selected:t,onChange:r})=>{const[n,a]=x.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),o=l=>{t.includes(l)?r(t.filter(u=>u!==l)):r([...t,l])};return s.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[s.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[s.jsx(Bs,{size:12,className:"text-muted-foreground mr-1.5"}),s.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),s.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const u=t.includes(l);return s.jsxs("div",{onClick:()=>{o(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${u?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[s.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${u?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:u&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),s.jsx("span",{className:"truncate",children:l})]},l)}):s.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},NO=({value:e,type:t,onChange:r,placeholder:n})=>{const a=o=>{let l=e;o==="number"&&(l=Number(e)||0),o==="boolean"&&(l=!!e),o==="string"&&(l=String(e)),o==="null"&&(l=null),o==="nan"&&(l="NaN"),r(l,o)},i=o=>{let l=o.target.value;t==="number"&&(l=parseFloat(l)),r(l,t)};return s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("select",{className:"w-20 text-[10px] rounded border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 px-1",value:t,onChange:o=>{a(o.target.value)},children:[s.jsx("option",{value:"string",children:"Text"}),s.jsx("option",{value:"number",children:"Num"}),s.jsx("option",{value:"boolean",children:"Bool"}),s.jsx("option",{value:"null",children:"Null"})]}),t==="string"&&s.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:i,placeholder:n}),t==="number"&&s.jsx("input",{type:"number",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:i,placeholder:n}),t==="boolean"&&s.jsxs("select",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:String(e),onChange:o=>r(o.target.value==="true","boolean"),children:[s.jsx("option",{value:"true",children:"True"}),s.jsx("option",{value:"false",children:"False"})]}),(t==="null"||t==="nan")&&s.jsx("div",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 italic flex items-center",children:t==="null"?"None / Null":"NaN"})]})},xge=({item:e,onChange:t,onDelete:r})=>s.jsxs("div",{className:"p-2 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Find"}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:s.jsx(Us,{size:14})})]}),s.jsx(NO,{value:e.old,type:e.oldType,onChange:(n,a)=>t({...e,old:n,oldType:a}),placeholder:"Value to find"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-gray-400",children:s.jsx(g7,{size:14,className:"rotate-90"})}),s.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Replace With"})]}),s.jsx(NO,{value:e.new,type:e.newType,onChange:(n,a)=>t({...e,new:n,newType:a}),placeholder:"New value"})]}),vge=({config:e,onChange:t,nodeId:r})=>{var f;const a=(f=At(r||"").find(h=>h==null?void 0:h.datasetId))==null?void 0:f.datasetId,{data:i}=xt(a),o=i?Object.values(i.columns).map(h=>h.name):[],l=()=>{t({...e,replacements:[...e.replacements,{old:"",new:"",oldType:"string",newType:"string"}]})},u=(h,p)=>{const g=[...e.replacements];g[h]=p,t({...e,replacements:g})},d=h=>{const p=e.replacements.filter((g,y)=>y!==h);t({...e,replacements:p})};return s.jsxs("div",{className:"space-y-4 p-1",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Target Columns"}),s.jsx(yge,{columns:o,selected:e.columns,onChange:h=>t({...e,columns:h})}),s.jsx("p",{className:"text-[10px] text-gray-500",children:"Select columns to apply replacements to. If empty, applies to all compatible columns."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Replacements"}),s.jsxs("button",{onClick:l,className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 dark:text-blue-400",children:[s.jsx(tl,{size:12})," Add"]})]}),s.jsxs("div",{className:"space-y-3",children:[e.replacements.map((h,p)=>s.jsx(xge,{item:h,onChange:g=>{u(p,g)},onDelete:()=>{d(p)}},p)),e.replacements.length===0&&s.jsx("div",{className:"text-center py-4 text-xs text-gray-500 border border-dashed rounded",children:"No replacements defined."})]})]})]})},bge={type:"value_replacement",label:"Replace Values",category:"Preprocessing",description:"Replace specific values in columns (e.g. -999 to NaN).",icon:$7,inputs:[{id:"in",label:"Input Dataset",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Dataset",type:"dataset"}],settings:vge,validate:e=>{var t;return(t=e.replacements)!=null&&t.length?{isValid:!0}:{isValid:!0,message:"No replacements defined (pass-through)."}},getDefaultConfig:()=>({columns:[],replacements:[]})},wge=({columns:e,selected:t,onChange:r})=>{const[n,a]=x.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),o=l=>{t.includes(l)?r(t.filter(u=>u!==l)):r([...t,l])};return s.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[s.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[s.jsx(Bs,{size:12,className:"text-muted-foreground mr-1.5"}),s.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),s.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const u=t.includes(l);return s.jsxs("div",{onClick:()=>{o(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${u?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[s.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${u?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:u&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),s.jsx("span",{className:"truncate",children:l})]},l)}):s.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},_ge=({pairs:e,onChange:t})=>{const[r,n]=x.useState(""),[a,i]=x.useState(""),o=()=>{r&&a&&(t({...e,[r]:a}),n(""),i(""))},l=u=>{const d={...e};Reflect.deleteProperty(d,u),t(d)};return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Alias (Old)"}),s.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. NY",value:r,onChange:u=>{n(u.target.value)}})]}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Canonical (New)"}),s.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. New York",value:a,onChange:u=>{i(u.target.value)}})]}),s.jsx("button",{onClick:o,disabled:!r||!a,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(tl,{size:16})})]}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2 bg-gray-50 dark:bg-gray-800/50",children:Object.entries(e).length===0?s.jsx("div",{className:"text-center text-xs text-gray-500 py-2",children:"No custom aliases defined."}):Object.entries(e).map(([u,d])=>s.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[s.jsx("span",{className:"font-medium text-red-600 truncate max-w-[80px]",children:u}),s.jsx(_M,{size:12,className:"text-gray-400 shrink-0"}),s.jsx("span",{className:"font-medium text-green-600 truncate max-w-[80px]",children:d})]}),s.jsx("button",{onClick:()=>{l(u)},className:"text-gray-400 hover:text-red-500",children:s.jsx(Us,{size:14})})]},u))})]})},jge=({config:e,onChange:t,nodeId:r})=>{var p;const n=x.useRef(null),[a,i]=x.useState(!1),[o,l]=x.useState(!0),d=(p=At(r||"").find(g=>g.datasetId))==null?void 0:p.datasetId,{data:f}=xt(d),h=f?Object.values(f.columns).filter(g=>{const y=String(g.dtype).toLowerCase();return y.includes("object")||y.includes("string")||y.includes("category")||y.includes("text")}).map(g=>g.name):[];return x.useEffect(()=>{if(!n.current)return;const g=new ResizeObserver(y=>{for(const b of y)i(b.contentRect.width>400)});return g.observe(n.current),()=>{g.disconnect()}},[]),s.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),s.jsx(wge,{columns:h,selected:e.columns,onChange:g=>t({...e,columns:g})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),s.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[s.jsxs("button",{onClick:()=>{l(!o)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[s.jsx(Bo,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),s.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Alias Replacement"}),o?s.jsx(ff,{size:14,className:"text-blue-600 dark:text-blue-400"}):s.jsx(or,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),o&&s.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:s.jsx("p",{children:"Standardize data by mapping multiple variations (aliases) to a single canonical value. Useful for country codes, boolean strings, or custom synonyms."})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),s.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:g=>t({...e,mode:g.target.value}),children:[s.jsx("option",{value:"custom",children:"Custom Mapping"}),s.jsx("option",{value:"canonicalize_country_codes",children:"Canonicalize Country Codes"}),s.jsx("option",{value:"normalize_boolean",children:"Normalize Booleans (yes/no -> True/False)"}),s.jsx("option",{value:"punctuation",children:"Remove Punctuation"})]}),s.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="custom"&&"Define your own alias mappings below.",e.mode==="canonicalize_country_codes"&&"Standardizes country codes (e.g. 'USA', 'U.S.A.' -> 'US').",e.mode==="normalize_boolean"&&"Converts 'yes', 'y', '1' to True and 'no', 'n', '0' to False.",e.mode==="punctuation"&&"Removes common punctuation characters from text."]})]}),e.mode==="custom"&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Custom Aliases"}),s.jsx(_ge,{pairs:e.custom_pairs,onChange:g=>t({...e,custom_pairs:g})})]})]})]})})},kge={type:"AliasReplacement",label:"Alias Replacement",category:"Preprocessing",description:"Standardize values by mapping aliases to canonical forms.",icon:_M,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Standardized Data",type:"dataset"}],settings:jge,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom"&&Object.keys(e.custom_pairs).length===0?{isValid:!1,message:"Add at least one alias pair for custom mode."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"custom",custom_pairs:{}})},Nge=({columns:e,selected:t,onChange:r})=>{const[n,a]=x.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),o=l=>{t.includes(l)?r(t.filter(u=>u!==l)):r([...t,l])};return s.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[s.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[s.jsx(Bs,{size:12,className:"text-muted-foreground mr-1.5"}),s.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),s.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const u=t.includes(l);return s.jsxs("div",{onClick:()=>{o(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${u?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[s.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${u?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:u&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),s.jsx("span",{className:"truncate",children:l})]},l)}):s.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Sge=({config:e,onChange:t,nodeId:r})=>{var p;const n=x.useRef(null),[a,i]=x.useState(!1),[o,l]=x.useState(!0),d=(p=At(r||"").find(g=>g.datasetId))==null?void 0:p.datasetId,{data:f}=xt(d),h=f?Object.values(f.columns).filter(g=>["int","float","number"].some(y=>g.dtype.toLowerCase().includes(y))).map(g=>String(g.name)):[];return x.useEffect(()=>{if(!n.current)return;const g=new ResizeObserver(y=>{for(const b of y)i(b.contentRect.width>400)});return g.observe(n.current),()=>{g.disconnect()}},[]),s.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),s.jsx(Nge,{columns:h,selected:e.columns,onChange:g=>t({...e,columns:g})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only numeric columns are shown."})]})}),s.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[s.jsxs("button",{onClick:()=>{l(!o)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[s.jsx(Bo,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),s.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Invalid Value Replacement"}),o?s.jsx(ff,{size:14,className:"text-blue-600 dark:text-blue-400"}):s.jsx(or,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),o&&s.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:s.jsx("p",{children:"Use this node to handle data quality issues by replacing invalid numeric values (like negative ages or out-of-bounds sensor readings) with NaN (Missing)."})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),s.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:g=>t({...e,mode:g.target.value}),children:[s.jsx("option",{value:"negative_to_nan",children:"Negative to NaN"}),s.jsx("option",{value:"zero_to_nan",children:"Zero to NaN"}),s.jsx("option",{value:"percentage_bounds",children:"Percentage Bounds (0-100)"}),s.jsx("option",{value:"age_bounds",children:"Age Bounds (0-120)"}),s.jsx("option",{value:"custom_range",children:"Custom Range"})]}),s.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="negative_to_nan"&&"Replaces all negative values (< 0) with NaN.",e.mode==="zero_to_nan"&&"Replaces all zero values (== 0) with NaN.",e.mode==="percentage_bounds"&&"Replaces values outside 0-100 range with NaN.",e.mode==="age_bounds"&&"Replaces values outside 0-120 range with NaN.",e.mode==="custom_range"&&"Replaces values outside the specified Min/Max range with NaN."]})]}),(e.mode==="custom_range"||e.mode==="percentage_bounds"||e.mode==="age_bounds")&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Min Value"}),s.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"0":"Min",value:e.min_value??"",onChange:g=>t({...e,min_value:g.target.value?parseFloat(g.target.value):void 0})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Max Value"}),s.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"100":"Max",value:e.max_value??"",onChange:g=>t({...e,max_value:g.target.value?parseFloat(g.target.value):void 0})})]}),s.jsx("p",{className:"col-span-2 text-[10px] text-gray-500",children:"Values outside this range will be replaced with NaN."})]})]})]})})},Pge={type:"InvalidValueReplacement",label:"Invalid Value Replacement",category:"Preprocessing",description:"Replace invalid or out-of-range values with NaN.",icon:Qg,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Sge,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom_range"&&e.min_value===void 0&&e.max_value===void 0?{isValid:!1,message:"Specify at least a min or max value for custom range."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"negative_to_nan"})},Cge=()=>{Ke.register(lpe),Ke.register(dpe),Ke.register(hpe),Ke.register(ppe),Ke.register(ype),Ke.register(Kpe),Ke.register(Gpe),Ke.register(Jpe),Ke.register(nge),Ke.register(uge),Ke.register(fge),Ke.register(gge),Ke.register(bge),Ke.register(kge),Ke.register(Pge),Ke.register(Wpe),Ke.register(Epe),Ke.register(Ape),Ke.register(Mpe),Ke.register(Lpe),Ke.register(Rpe),Ke.register($pe),Ke.register(Upe),Ke.register(_pe),Ke.register(Ppe)};Cge();const Ege=new _8,SO=document.getElementById("root");SO&&Sv.createRoot(SO).render(s.jsx(Sr.StrictMode,{children:s.jsx(k8,{client:Ege,children:s.jsx(ape,{})})}));
