var Aw=Object.defineProperty;var Of=e=>{throw TypeError(e)};var Lw=(e,t,n)=>t in e?Aw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xl=(e,t,n)=>Lw(e,typeof t!="symbol"?t+"":t,n),Kl=(e,t,n)=>t.has(e)||Of("Cannot "+n);var I=(e,t,n)=>(Kl(e,t,"read from private field"),n?n.call(e):t.get(e)),ee=(e,t,n)=>t.has(e)?Of("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Q=(e,t,n,r)=>(Kl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),le=(e,t,n)=>(Kl(e,t,"access private method"),n);var To=(e,t,n,r)=>({set _(s){Q(e,t,s,n)},get _(){return I(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Lm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Om={exports:{}},cl={},zm={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uo=Symbol.for("react.element"),Ow=Symbol.for("react.portal"),zw=Symbol.for("react.fragment"),Fw=Symbol.for("react.strict_mode"),$w=Symbol.for("react.profiler"),Hw=Symbol.for("react.provider"),Vw=Symbol.for("react.context"),Uw=Symbol.for("react.forward_ref"),Bw=Symbol.for("react.suspense"),Ww=Symbol.for("react.memo"),qw=Symbol.for("react.lazy"),zf=Symbol.iterator;function Qw(e){return e===null||typeof e!="object"?null:(e=zf&&e[zf]||e["@@iterator"],typeof e=="function"?e:null)}var Fm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$m=Object.assign,Hm={};function Us(e,t,n){this.props=e,this.context=t,this.refs=Hm,this.updater=n||Fm}Us.prototype.isReactComponent={};Us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vm(){}Vm.prototype=Us.prototype;function ld(e,t,n){this.props=e,this.context=t,this.refs=Hm,this.updater=n||Fm}var ud=ld.prototype=new Vm;ud.constructor=ld;$m(ud,Us.prototype);ud.isPureReactComponent=!0;var Ff=Array.isArray,Um=Object.prototype.hasOwnProperty,cd={current:null},Bm={key:!0,ref:!0,__self:!0,__source:!0};function Wm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Um.call(t,r)&&!Bm.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:uo,type:e,key:i,ref:o,props:s,_owner:cd.current}}function Xw(e,t){return{$$typeof:uo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dd(e){return typeof e=="object"&&e!==null&&e.$$typeof===uo}function Kw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $f=/\/+/g;function Yl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kw(""+e.key):t.toString(36)}function ia(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case uo:case Ow:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Yl(o,0):r,Ff(s)?(n="",e!=null&&(n=e.replace($f,"$&/")+"/"),ia(s,t,n,"",function(c){return c})):s!=null&&(dd(s)&&(s=Xw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($f,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ff(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+Yl(i,l);o+=ia(i,t,n,u,s)}else if(u=Qw(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+Yl(i,l++),o+=ia(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Mo(e,t,n){if(e==null)return e;var r=[],s=0;return ia(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Yw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},oa={transition:null},Gw={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:oa,ReactCurrentOwner:cd};function qm(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Mo,forEach:function(e,t,n){Mo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mo(e,function(){t++}),t},toArray:function(e){return Mo(e,function(t){return t})||[]},only:function(e){if(!dd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Us;ae.Fragment=zw;ae.Profiler=$w;ae.PureComponent=ld;ae.StrictMode=Fw;ae.Suspense=Bw;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gw;ae.act=qm;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$m({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=cd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Um.call(t,u)&&!Bm.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:uo,type:e.type,key:s,ref:i,props:r,_owner:o}};ae.createContext=function(e){return e={$$typeof:Vw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hw,_context:e},e.Consumer=e};ae.createElement=Wm;ae.createFactory=function(e){var t=Wm.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:Uw,render:e}};ae.isValidElement=dd;ae.lazy=function(e){return{$$typeof:qw,_payload:{_status:-1,_result:e},_init:Yw}};ae.memo=function(e,t){return{$$typeof:Ww,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=oa.transition;oa.transition={};try{e()}finally{oa.transition=t}};ae.unstable_act=qm;ae.useCallback=function(e,t){return Je.current.useCallback(e,t)};ae.useContext=function(e){return Je.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};ae.useEffect=function(e,t){return Je.current.useEffect(e,t)};ae.useId=function(){return Je.current.useId()};ae.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return Je.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};ae.useRef=function(e){return Je.current.useRef(e)};ae.useState=function(e){return Je.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return Je.current.useTransition()};ae.version="18.3.1";zm.exports=ae;var R=zm.exports;const Ot=Lm(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw=R,Jw=Symbol.for("react.element"),e1=Symbol.for("react.fragment"),t1=Object.prototype.hasOwnProperty,n1=Zw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r1={key:!0,ref:!0,__self:!0,__source:!0};function Qm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)t1.call(t,r)&&!r1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Jw,type:e,key:i,ref:o,props:s,_owner:n1.current}}cl.Fragment=e1;cl.jsx=Qm;cl.jsxs=Qm;Om.exports=cl;var a=Om.exports,Lu={},Xm={exports:{}},xt={},Km={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,M){var F=C.length;C.push(M);e:for(;0<F;){var H=F-1>>>1,V=C[H];if(0<s(V,M))C[H]=M,C[F]=V,F=H;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var M=C[0],F=C.pop();if(F!==M){C[0]=F;e:for(var H=0,V=C.length,q=V>>>1;H<q;){var B=2*(H+1)-1,K=C[B],Y=B+1,Z=C[Y];if(0>s(K,F))Y<V&&0>s(Z,K)?(C[H]=Z,C[Y]=F,H=Y):(C[H]=K,C[B]=F,H=B);else if(Y<V&&0>s(Z,F))C[H]=Z,C[Y]=F,H=Y;else break e}}return M}function s(C,M){var F=C.sortIndex-M.sortIndex;return F!==0?F:C.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,f=null,h=3,v=!1,y=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=C)r(c),M.sortIndex=M.expirationTime,t(u,M);else break;M=n(c)}}function x(C){if(b=!1,p(C),!y)if(n(u)!==null)y=!0,D(_);else{var M=n(c);M!==null&&L(x,M.startTime-C)}}function _(C,M){y=!1,b&&(b=!1,m(k),k=-1),v=!0;var F=h;try{for(p(M),f=n(u);f!==null&&(!(f.expirationTime>M)||C&&!P());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var V=H(f.expirationTime<=M);M=e.unstable_now(),typeof V=="function"?f.callback=V:f===n(u)&&r(u),p(M)}else r(u);f=n(u)}if(f!==null)var q=!0;else{var B=n(c);B!==null&&L(x,B.startTime-M),q=!1}return q}finally{f=null,h=F,v=!1}}var N=!1,w=null,k=-1,E=5,T=-1;function P(){return!(e.unstable_now()-T<E)}function A(){if(w!==null){var C=e.unstable_now();T=C;var M=!0;try{M=w(!0,C)}finally{M?z():(N=!1,w=null)}}else N=!1}var z;if(typeof g=="function")z=function(){g(A)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,O=j.port2;j.port1.onmessage=A,z=function(){O.postMessage(null)}}else z=function(){S(A,0)};function D(C){w=C,N||(N=!0,z())}function L(C,M){k=S(function(){C(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,D(_))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var F=h;h=M;try{return C()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,M){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=h;h=C;try{return M()}finally{h=F}},e.unstable_scheduleCallback=function(C,M,F){var H=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?H+F:H):F=H,C){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=F+V,C={id:d++,callback:M,priorityLevel:C,startTime:F,expirationTime:V,sortIndex:-1},F>H?(C.sortIndex=F,t(c,C),n(u)===null&&C===n(c)&&(b?(m(k),k=-1):b=!0,L(x,F-H))):(C.sortIndex=V,t(u,C),y||v||(y=!0,D(_))),C},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(C){var M=h;return function(){var F=h;h=M;try{return C.apply(this,arguments)}finally{h=F}}}})(Ym);Km.exports=Ym;var s1=Km.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1=R,gt=s1;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gm=new Set,Mi={};function $r(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(Mi[e]=t,e=0;e<t.length;e++)Gm.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=Object.prototype.hasOwnProperty,o1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hf={},Vf={};function a1(e){return Ou.call(Vf,e)?!0:Ou.call(Hf,e)?!1:o1.test(e)?Vf[e]=!0:(Hf[e]=!0,!1)}function l1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function u1(e,t,n,r){if(t===null||typeof t>"u"||l1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var fd=/[\-:]([a-z])/g;function hd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fd,hd);Ve[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fd,hd);Ve[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fd,hd);Ve[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function pd(e,t,n,r){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(u1(t,n,s,r)&&(n=null),r||s===null?a1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bn=i1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ro=Symbol.for("react.element"),Wr=Symbol.for("react.portal"),qr=Symbol.for("react.fragment"),md=Symbol.for("react.strict_mode"),zu=Symbol.for("react.profiler"),Zm=Symbol.for("react.provider"),Jm=Symbol.for("react.context"),gd=Symbol.for("react.forward_ref"),Fu=Symbol.for("react.suspense"),$u=Symbol.for("react.suspense_list"),yd=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),eg=Symbol.for("react.offscreen"),Uf=Symbol.iterator;function ti(e){return e===null||typeof e!="object"?null:(e=Uf&&e[Uf]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Gl;function fi(e){if(Gl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gl=t&&t[1]||""}return`
`+Gl+e}var Zl=!1;function Jl(e,t){if(!e||Zl)return"";Zl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{Zl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fi(e):""}function c1(e){switch(e.tag){case 5:return fi(e.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 2:case 15:return e=Jl(e.type,!1),e;case 11:return e=Jl(e.type.render,!1),e;case 1:return e=Jl(e.type,!0),e;default:return""}}function Hu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qr:return"Fragment";case Wr:return"Portal";case zu:return"Profiler";case md:return"StrictMode";case Fu:return"Suspense";case $u:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jm:return(e.displayName||"Context")+".Consumer";case Zm:return(e._context.displayName||"Context")+".Provider";case gd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yd:return t=e.displayName||null,t!==null?t:Hu(e.type)||"Memo";case Cn:t=e._payload,e=e._init;try{return Hu(e(t))}catch{}}return null}function d1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hu(t);case 8:return t===md?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f1(e){var t=tg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Po(e){e._valueTracker||(e._valueTracker=f1(e))}function ng(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vu(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rg(e,t){t=t.checked,t!=null&&pd(e,"checked",t,!1)}function Uu(e,t){rg(e,t);var n=Jn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bu(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bu(e,t,n){(t!=="number"||ka(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hi=Array.isArray;function is(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Wu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(hi(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jn(n)}}function sg(e,t){var n=Jn(t.value),r=Jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ig(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ig(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Io,og=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Io=Io||document.createElement("div"),Io.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Io.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ri(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h1=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(e){h1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vi[t]=vi[e]})});function ag(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vi.hasOwnProperty(e)&&vi[e]?(""+t).trim():t+"px"}function lg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ag(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var p1=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qu(e,t){if(t){if(p1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Xu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=null;function xd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yu=null,os=null,as=null;function Xf(e){if(e=ho(e)){if(typeof Yu!="function")throw Error(U(280));var t=e.stateNode;t&&(t=ml(t),Yu(e.stateNode,e.type,t))}}function ug(e){os?as?as.push(e):as=[e]:os=e}function cg(){if(os){var e=os,t=as;if(as=os=null,Xf(e),t)for(e=0;e<t.length;e++)Xf(t[e])}}function dg(e,t){return e(t)}function fg(){}var eu=!1;function hg(e,t,n){if(eu)return e(t,n);eu=!0;try{return dg(e,t,n)}finally{eu=!1,(os!==null||as!==null)&&(fg(),cg())}}function Pi(e,t){var n=e.stateNode;if(n===null)return null;var r=ml(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Gu=!1;if(gn)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{Gu=!1}function m1(e,t,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var wi=!1,ja=null,Ea=!1,Zu=null,g1={onError:function(e){wi=!0,ja=e}};function y1(e,t,n,r,s,i,o,l,u){wi=!1,ja=null,m1.apply(g1,arguments)}function x1(e,t,n,r,s,i,o,l,u){if(y1.apply(this,arguments),wi){if(wi){var c=ja;wi=!1,ja=null}else throw Error(U(198));Ea||(Ea=!0,Zu=c)}}function Hr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kf(e){if(Hr(e)!==e)throw Error(U(188))}function v1(e){var t=e.alternate;if(!t){if(t=Hr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Kf(s),e;if(i===r)return Kf(s),t;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function mg(e){return e=v1(e),e!==null?gg(e):null}function gg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gg(e);if(t!==null)return t;e=e.sibling}return null}var yg=gt.unstable_scheduleCallback,Yf=gt.unstable_cancelCallback,w1=gt.unstable_shouldYield,b1=gt.unstable_requestPaint,Me=gt.unstable_now,N1=gt.unstable_getCurrentPriorityLevel,vd=gt.unstable_ImmediatePriority,xg=gt.unstable_UserBlockingPriority,Ca=gt.unstable_NormalPriority,_1=gt.unstable_LowPriority,vg=gt.unstable_IdlePriority,dl=null,Jt=null;function S1(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(dl,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:E1,k1=Math.log,j1=Math.LN2;function E1(e){return e>>>=0,e===0?32:31-(k1(e)/j1|0)|0}var Do=64,Ao=4194304;function pi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ta(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=pi(l):(i&=o,i!==0&&(r=pi(i)))}else o=n&~s,o!==0?r=pi(o):i!==0&&(r=pi(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),s=1<<n,r|=e[n],t&=~s;return r}function C1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-$t(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=C1(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Ju(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wg(){var e=Do;return Do<<=1,!(Do&4194240)&&(Do=64),e}function tu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function co(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function M1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-$t(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function wd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ge=0;function bg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ng,bd,_g,Sg,kg,ec=!1,Lo=[],Un=null,Bn=null,Wn=null,Ii=new Map,Di=new Map,Mn=[],R1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gf(e,t){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(t.pointerId)}}function ri(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ho(t),t!==null&&bd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function P1(e,t,n,r,s){switch(t){case"focusin":return Un=ri(Un,e,t,n,r,s),!0;case"dragenter":return Bn=ri(Bn,e,t,n,r,s),!0;case"mouseover":return Wn=ri(Wn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ii.set(i,ri(Ii.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Di.set(i,ri(Di.get(i)||null,e,t,n,r,s)),!0}return!1}function jg(e){var t=ur(e.target);if(t!==null){var n=Hr(t);if(n!==null){if(t=n.tag,t===13){if(t=pg(n),t!==null){e.blockedOn=t,kg(e.priority,function(){_g(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ku=r,n.target.dispatchEvent(r),Ku=null}else return t=ho(n),t!==null&&bd(t),e.blockedOn=n,!1;t.shift()}return!0}function Zf(e,t,n){aa(e)&&n.delete(t)}function I1(){ec=!1,Un!==null&&aa(Un)&&(Un=null),Bn!==null&&aa(Bn)&&(Bn=null),Wn!==null&&aa(Wn)&&(Wn=null),Ii.forEach(Zf),Di.forEach(Zf)}function si(e,t){e.blockedOn===t&&(e.blockedOn=null,ec||(ec=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,I1)))}function Ai(e){function t(s){return si(s,e)}if(0<Lo.length){si(Lo[0],e);for(var n=1;n<Lo.length;n++){var r=Lo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Un!==null&&si(Un,e),Bn!==null&&si(Bn,e),Wn!==null&&si(Wn,e),Ii.forEach(t),Di.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)jg(n),n.blockedOn===null&&Mn.shift()}var ls=bn.ReactCurrentBatchConfig,Ma=!0;function D1(e,t,n,r){var s=ge,i=ls.transition;ls.transition=null;try{ge=1,Nd(e,t,n,r)}finally{ge=s,ls.transition=i}}function A1(e,t,n,r){var s=ge,i=ls.transition;ls.transition=null;try{ge=4,Nd(e,t,n,r)}finally{ge=s,ls.transition=i}}function Nd(e,t,n,r){if(Ma){var s=tc(e,t,n,r);if(s===null)du(e,t,r,Ra,n),Gf(e,r);else if(P1(s,e,t,n,r))r.stopPropagation();else if(Gf(e,r),t&4&&-1<R1.indexOf(e)){for(;s!==null;){var i=ho(s);if(i!==null&&Ng(i),i=tc(e,t,n,r),i===null&&du(e,t,r,Ra,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else du(e,t,r,null,n)}}var Ra=null;function tc(e,t,n,r){if(Ra=null,e=xd(r),e=ur(e),e!==null)if(t=Hr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ra=e,null}function Eg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N1()){case vd:return 1;case xg:return 4;case Ca:case _1:return 16;case vg:return 536870912;default:return 16}default:return 16}}var Hn=null,_d=null,la=null;function Cg(){if(la)return la;var e,t=_d,n=t.length,r,s="value"in Hn?Hn.value:Hn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return la=s.slice(e,1<r?1-r:void 0)}function ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oo(){return!0}function Jf(){return!1}function vt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oo:Jf,this.isPropagationStopped=Jf,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),t}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=vt(Bs),fo=Ee({},Bs,{view:0,detail:0}),L1=vt(fo),nu,ru,ii,fl=Ee({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(nu=e.screenX-ii.screenX,ru=e.screenY-ii.screenY):ru=nu=0,ii=e),nu)},movementY:function(e){return"movementY"in e?e.movementY:ru}}),eh=vt(fl),O1=Ee({},fl,{dataTransfer:0}),z1=vt(O1),F1=Ee({},fo,{relatedTarget:0}),su=vt(F1),$1=Ee({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),H1=vt($1),V1=Ee({},Bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),U1=vt(V1),B1=Ee({},Bs,{data:0}),th=vt(B1),W1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Q1[e])?!!t[e]:!1}function kd(){return X1}var K1=Ee({},fo,{key:function(e){if(e.key){var t=W1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?q1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kd,charCode:function(e){return e.type==="keypress"?ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Y1=vt(K1),G1=Ee({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nh=vt(G1),Z1=Ee({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kd}),J1=vt(Z1),eb=Ee({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),tb=vt(eb),nb=Ee({},fl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rb=vt(nb),sb=[9,13,27,32],jd=gn&&"CompositionEvent"in window,bi=null;gn&&"documentMode"in document&&(bi=document.documentMode);var ib=gn&&"TextEvent"in window&&!bi,Tg=gn&&(!jd||bi&&8<bi&&11>=bi),rh=" ",sh=!1;function Mg(e,t){switch(e){case"keyup":return sb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qr=!1;function ob(e,t){switch(e){case"compositionend":return Rg(t);case"keypress":return t.which!==32?null:(sh=!0,rh);case"textInput":return e=t.data,e===rh&&sh?null:e;default:return null}}function ab(e,t){if(Qr)return e==="compositionend"||!jd&&Mg(e,t)?(e=Cg(),la=_d=Hn=null,Qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tg&&t.locale!=="ko"?null:t.data;default:return null}}var lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lb[e.type]:t==="textarea"}function Pg(e,t,n,r){ug(r),t=Pa(t,"onChange"),0<t.length&&(n=new Sd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ni=null,Li=null;function ub(e){Ug(e,0)}function hl(e){var t=Yr(e);if(ng(t))return e}function cb(e,t){if(e==="change")return t}var Ig=!1;if(gn){var iu;if(gn){var ou="oninput"in document;if(!ou){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),ou=typeof oh.oninput=="function"}iu=ou}else iu=!1;Ig=iu&&(!document.documentMode||9<document.documentMode)}function ah(){Ni&&(Ni.detachEvent("onpropertychange",Dg),Li=Ni=null)}function Dg(e){if(e.propertyName==="value"&&hl(Li)){var t=[];Pg(t,Li,e,xd(e)),hg(ub,t)}}function db(e,t,n){e==="focusin"?(ah(),Ni=t,Li=n,Ni.attachEvent("onpropertychange",Dg)):e==="focusout"&&ah()}function fb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hl(Li)}function hb(e,t){if(e==="click")return hl(t)}function pb(e,t){if(e==="input"||e==="change")return hl(t)}function mb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:mb;function Oi(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ou.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function lh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uh(e,t){var n=lh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lh(n)}}function Ag(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ag(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lg(){for(var e=window,t=ka();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ka(e.document)}return t}function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gb(e){var t=Lg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ag(n.ownerDocument.documentElement,n)){if(r!==null&&Ed(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=uh(n,i);var o=uh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yb=gn&&"documentMode"in document&&11>=document.documentMode,Xr=null,nc=null,_i=null,rc=!1;function ch(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rc||Xr==null||Xr!==ka(r)||(r=Xr,"selectionStart"in r&&Ed(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_i&&Oi(_i,r)||(_i=r,r=Pa(nc,"onSelect"),0<r.length&&(t=new Sd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xr)))}function zo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kr={animationend:zo("Animation","AnimationEnd"),animationiteration:zo("Animation","AnimationIteration"),animationstart:zo("Animation","AnimationStart"),transitionend:zo("Transition","TransitionEnd")},au={},Og={};gn&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function pl(e){if(au[e])return au[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Og)return au[e]=t[n];return e}var zg=pl("animationend"),Fg=pl("animationiteration"),$g=pl("animationstart"),Hg=pl("transitionend"),Vg=new Map,dh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){Vg.set(e,t),$r(t,[e])}for(var lu=0;lu<dh.length;lu++){var uu=dh[lu],xb=uu.toLowerCase(),vb=uu[0].toUpperCase()+uu.slice(1);tr(xb,"on"+vb)}tr(zg,"onAnimationEnd");tr(Fg,"onAnimationIteration");tr($g,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(Hg,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function fh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,x1(r,t,void 0,e),e.currentTarget=null}function Ug(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;fh(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;fh(s,l,c),i=u}}}if(Ea)throw e=Zu,Ea=!1,Zu=null,e}function ve(e,t){var n=t[lc];n===void 0&&(n=t[lc]=new Set);var r=e+"__bubble";n.has(r)||(Bg(t,e,2,!1),n.add(r))}function cu(e,t,n){var r=0;t&&(r|=4),Bg(n,e,r,t)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[Fo]){e[Fo]=!0,Gm.forEach(function(n){n!=="selectionchange"&&(wb.has(n)||cu(n,!1,e),cu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fo]||(t[Fo]=!0,cu("selectionchange",!1,t))}}function Bg(e,t,n,r){switch(Eg(t)){case 1:var s=D1;break;case 4:s=A1;break;default:s=Nd}n=s.bind(null,t,n,e),s=void 0,!Gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function du(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ur(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}hg(function(){var c=i,d=xd(n),f=[];e:{var h=Vg.get(e);if(h!==void 0){var v=Sd,y=e;switch(e){case"keypress":if(ua(n)===0)break e;case"keydown":case"keyup":v=Y1;break;case"focusin":y="focus",v=su;break;case"focusout":y="blur",v=su;break;case"beforeblur":case"afterblur":v=su;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=z1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=J1;break;case zg:case Fg:case $g:v=H1;break;case Hg:v=tb;break;case"scroll":v=L1;break;case"wheel":v=rb;break;case"copy":case"cut":case"paste":v=U1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=nh}var b=(t&4)!==0,S=!b&&e==="scroll",m=b?h!==null?h+"Capture":null:h;b=[];for(var g=c,p;g!==null;){p=g;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,m!==null&&(x=Pi(g,m),x!=null&&b.push(Fi(g,x,p)))),S)break;g=g.return}0<b.length&&(h=new v(h,y,null,n,d),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Ku&&(y=n.relatedTarget||n.fromElement)&&(ur(y)||y[yn]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?ur(y):null,y!==null&&(S=Hr(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(b=eh,x="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=nh,x="onPointerLeave",m="onPointerEnter",g="pointer"),S=v==null?h:Yr(v),p=y==null?h:Yr(y),h=new b(x,g+"leave",v,n,d),h.target=S,h.relatedTarget=p,x=null,ur(d)===c&&(b=new b(m,g+"enter",y,n,d),b.target=p,b.relatedTarget=S,x=b),S=x,v&&y)t:{for(b=v,m=y,g=0,p=b;p;p=Ur(p))g++;for(p=0,x=m;x;x=Ur(x))p++;for(;0<g-p;)b=Ur(b),g--;for(;0<p-g;)m=Ur(m),p--;for(;g--;){if(b===m||m!==null&&b===m.alternate)break t;b=Ur(b),m=Ur(m)}b=null}else b=null;v!==null&&hh(f,h,v,b,!1),y!==null&&S!==null&&hh(f,S,y,b,!0)}}e:{if(h=c?Yr(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var _=cb;else if(ih(h))if(Ig)_=pb;else{_=fb;var N=db}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=hb);if(_&&(_=_(e,c))){Pg(f,_,n,d);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Bu(h,"number",h.value)}switch(N=c?Yr(c):window,e){case"focusin":(ih(N)||N.contentEditable==="true")&&(Xr=N,nc=c,_i=null);break;case"focusout":_i=nc=Xr=null;break;case"mousedown":rc=!0;break;case"contextmenu":case"mouseup":case"dragend":rc=!1,ch(f,n,d);break;case"selectionchange":if(yb)break;case"keydown":case"keyup":ch(f,n,d)}var w;if(jd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Qr?Mg(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Tg&&n.locale!=="ko"&&(Qr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Qr&&(w=Cg()):(Hn=d,_d="value"in Hn?Hn.value:Hn.textContent,Qr=!0)),N=Pa(c,k),0<N.length&&(k=new th(k,e,null,n,d),f.push({event:k,listeners:N}),w?k.data=w:(w=Rg(n),w!==null&&(k.data=w)))),(w=ib?ob(e,n):ab(e,n))&&(c=Pa(c,"onBeforeInput"),0<c.length&&(d=new th("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=w))}Ug(f,t)})}function Fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pa(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pi(e,n),i!=null&&r.unshift(Fi(e,i,s)),i=Pi(e,t),i!=null&&r.push(Fi(e,i,s))),e=e.return}return r}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Pi(n,i),u!=null&&o.unshift(Fi(n,u,l))):s||(u=Pi(n,i),u!=null&&o.push(Fi(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var bb=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function ph(e){return(typeof e=="string"?e:""+e).replace(bb,`
`).replace(Nb,"")}function $o(e,t,n){if(t=ph(t),ph(e)!==t&&n)throw Error(U(425))}function Ia(){}var sc=null,ic=null;function oc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ac=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,mh=typeof Promise=="function"?Promise:void 0,Sb=typeof queueMicrotask=="function"?queueMicrotask:typeof mh<"u"?function(e){return mh.resolve(null).then(e).catch(kb)}:ac;function kb(e){setTimeout(function(){throw e})}function fu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ai(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ai(t)}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Ws,$i="__reactProps$"+Ws,yn="__reactContainer$"+Ws,lc="__reactEvents$"+Ws,jb="__reactListeners$"+Ws,Eb="__reactHandles$"+Ws;function ur(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gh(e);e!==null;){if(n=e[Zt])return n;e=gh(e)}return t}e=n,n=e.parentNode}return null}function ho(e){return e=e[Zt]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function ml(e){return e[$i]||null}var uc=[],Gr=-1;function nr(e){return{current:e}}function we(e){0>Gr||(e.current=uc[Gr],uc[Gr]=null,Gr--)}function ye(e,t){Gr++,uc[Gr]=e.current,e.current=t}var er={},Xe=nr(er),at=nr(!1),Tr=er;function js(e,t){var n=e.type.contextTypes;if(!n)return er;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lt(e){return e=e.childContextTypes,e!=null}function Da(){we(at),we(Xe)}function yh(e,t,n){if(Xe.current!==er)throw Error(U(168));ye(Xe,t),ye(at,n)}function Wg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,d1(e)||"Unknown",s));return Ee({},n,r)}function Aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,Tr=Xe.current,ye(Xe,e),ye(at,at.current),!0}function xh(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Wg(e,t,Tr),r.__reactInternalMemoizedMergedChildContext=e,we(at),we(Xe),ye(Xe,e)):we(at),ye(at,n)}var un=null,gl=!1,hu=!1;function qg(e){un===null?un=[e]:un.push(e)}function Cb(e){gl=!0,qg(e)}function rr(){if(!hu&&un!==null){hu=!0;var e=0,t=ge;try{var n=un;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}un=null,gl=!1}catch(s){throw un!==null&&(un=un.slice(e+1)),yg(vd,rr),s}finally{ge=t,hu=!1}}return null}var Zr=[],Jr=0,La=null,Oa=0,_t=[],St=0,Mr=null,fn=1,hn="";function ir(e,t){Zr[Jr++]=Oa,Zr[Jr++]=La,La=e,Oa=t}function Qg(e,t,n){_t[St++]=fn,_t[St++]=hn,_t[St++]=Mr,Mr=e;var r=fn;e=hn;var s=32-$t(r)-1;r&=~(1<<s),n+=1;var i=32-$t(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fn=1<<32-$t(t)+s|n<<s|r,hn=i+e}else fn=1<<i|n<<s|r,hn=e}function Cd(e){e.return!==null&&(ir(e,1),Qg(e,1,0))}function Td(e){for(;e===La;)La=Zr[--Jr],Zr[Jr]=null,Oa=Zr[--Jr],Zr[Jr]=null;for(;e===Mr;)Mr=_t[--St],_t[St]=null,hn=_t[--St],_t[St]=null,fn=_t[--St],_t[St]=null}var mt=null,pt=null,Ne=!1,At=null;function Xg(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,pt=qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mr!==null?{id:fn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,pt=null,!0):!1;default:return!1}}function cc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dc(e){if(Ne){var t=pt;if(t){var n=t;if(!vh(e,t)){if(cc(e))throw Error(U(418));t=qn(n.nextSibling);var r=mt;t&&vh(e,t)?Xg(r,n):(e.flags=e.flags&-4097|2,Ne=!1,mt=e)}}else{if(cc(e))throw Error(U(418));e.flags=e.flags&-4097|2,Ne=!1,mt=e}}}function wh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function Ho(e){if(e!==mt)return!1;if(!Ne)return wh(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oc(e.type,e.memoizedProps)),t&&(t=pt)){if(cc(e))throw Kg(),Error(U(418));for(;t;)Xg(e,t),t=qn(t.nextSibling)}if(wh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=mt?qn(e.stateNode.nextSibling):null;return!0}function Kg(){for(var e=pt;e;)e=qn(e.nextSibling)}function Es(){pt=mt=null,Ne=!1}function Md(e){At===null?At=[e]:At.push(e)}var Tb=bn.ReactCurrentBatchConfig;function oi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function Vo(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bh(e){var t=e._init;return t(e._payload)}function Yg(e){function t(m,g){if(e){var p=m.deletions;p===null?(m.deletions=[g],m.flags|=16):p.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=Yn(m,g),m.index=0,m.sibling=null,m}function i(m,g,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<g?(m.flags|=2,g):p):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,g,p,x){return g===null||g.tag!==6?(g=wu(p,m.mode,x),g.return=m,g):(g=s(g,p),g.return=m,g)}function u(m,g,p,x){var _=p.type;return _===qr?d(m,g,p.props.children,x,p.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Cn&&bh(_)===g.type)?(x=s(g,p.props),x.ref=oi(m,g,p),x.return=m,x):(x=ga(p.type,p.key,p.props,null,m.mode,x),x.ref=oi(m,g,p),x.return=m,x)}function c(m,g,p,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=bu(p,m.mode,x),g.return=m,g):(g=s(g,p.children||[]),g.return=m,g)}function d(m,g,p,x,_){return g===null||g.tag!==7?(g=kr(p,m.mode,x,_),g.return=m,g):(g=s(g,p),g.return=m,g)}function f(m,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=wu(""+g,m.mode,p),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ro:return p=ga(g.type,g.key,g.props,null,m.mode,p),p.ref=oi(m,null,g),p.return=m,p;case Wr:return g=bu(g,m.mode,p),g.return=m,g;case Cn:var x=g._init;return f(m,x(g._payload),p)}if(hi(g)||ti(g))return g=kr(g,m.mode,p,null),g.return=m,g;Vo(m,g)}return null}function h(m,g,p,x){var _=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return _!==null?null:l(m,g,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ro:return p.key===_?u(m,g,p,x):null;case Wr:return p.key===_?c(m,g,p,x):null;case Cn:return _=p._init,h(m,g,_(p._payload),x)}if(hi(p)||ti(p))return _!==null?null:d(m,g,p,x,null);Vo(m,p)}return null}function v(m,g,p,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(p)||null,l(g,m,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ro:return m=m.get(x.key===null?p:x.key)||null,u(g,m,x,_);case Wr:return m=m.get(x.key===null?p:x.key)||null,c(g,m,x,_);case Cn:var N=x._init;return v(m,g,p,N(x._payload),_)}if(hi(x)||ti(x))return m=m.get(p)||null,d(g,m,x,_,null);Vo(g,x)}return null}function y(m,g,p,x){for(var _=null,N=null,w=g,k=g=0,E=null;w!==null&&k<p.length;k++){w.index>k?(E=w,w=null):E=w.sibling;var T=h(m,w,p[k],x);if(T===null){w===null&&(w=E);break}e&&w&&T.alternate===null&&t(m,w),g=i(T,g,k),N===null?_=T:N.sibling=T,N=T,w=E}if(k===p.length)return n(m,w),Ne&&ir(m,k),_;if(w===null){for(;k<p.length;k++)w=f(m,p[k],x),w!==null&&(g=i(w,g,k),N===null?_=w:N.sibling=w,N=w);return Ne&&ir(m,k),_}for(w=r(m,w);k<p.length;k++)E=v(w,m,k,p[k],x),E!==null&&(e&&E.alternate!==null&&w.delete(E.key===null?k:E.key),g=i(E,g,k),N===null?_=E:N.sibling=E,N=E);return e&&w.forEach(function(P){return t(m,P)}),Ne&&ir(m,k),_}function b(m,g,p,x){var _=ti(p);if(typeof _!="function")throw Error(U(150));if(p=_.call(p),p==null)throw Error(U(151));for(var N=_=null,w=g,k=g=0,E=null,T=p.next();w!==null&&!T.done;k++,T=p.next()){w.index>k?(E=w,w=null):E=w.sibling;var P=h(m,w,T.value,x);if(P===null){w===null&&(w=E);break}e&&w&&P.alternate===null&&t(m,w),g=i(P,g,k),N===null?_=P:N.sibling=P,N=P,w=E}if(T.done)return n(m,w),Ne&&ir(m,k),_;if(w===null){for(;!T.done;k++,T=p.next())T=f(m,T.value,x),T!==null&&(g=i(T,g,k),N===null?_=T:N.sibling=T,N=T);return Ne&&ir(m,k),_}for(w=r(m,w);!T.done;k++,T=p.next())T=v(w,m,k,T.value,x),T!==null&&(e&&T.alternate!==null&&w.delete(T.key===null?k:T.key),g=i(T,g,k),N===null?_=T:N.sibling=T,N=T);return e&&w.forEach(function(A){return t(m,A)}),Ne&&ir(m,k),_}function S(m,g,p,x){if(typeof p=="object"&&p!==null&&p.type===qr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ro:e:{for(var _=p.key,N=g;N!==null;){if(N.key===_){if(_=p.type,_===qr){if(N.tag===7){n(m,N.sibling),g=s(N,p.props.children),g.return=m,m=g;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Cn&&bh(_)===N.type){n(m,N.sibling),g=s(N,p.props),g.ref=oi(m,N,p),g.return=m,m=g;break e}n(m,N);break}else t(m,N);N=N.sibling}p.type===qr?(g=kr(p.props.children,m.mode,x,p.key),g.return=m,m=g):(x=ga(p.type,p.key,p.props,null,m.mode,x),x.ref=oi(m,g,p),x.return=m,m=x)}return o(m);case Wr:e:{for(N=p.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(m,g.sibling),g=s(g,p.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=bu(p,m.mode,x),g.return=m,m=g}return o(m);case Cn:return N=p._init,S(m,g,N(p._payload),x)}if(hi(p))return y(m,g,p,x);if(ti(p))return b(m,g,p,x);Vo(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,p),g.return=m,m=g):(n(m,g),g=wu(p,m.mode,x),g.return=m,m=g),o(m)):n(m,g)}return S}var Cs=Yg(!0),Gg=Yg(!1),za=nr(null),Fa=null,es=null,Rd=null;function Pd(){Rd=es=Fa=null}function Id(e){var t=za.current;we(za),e._currentValue=t}function fc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function us(e,t){Fa=e,Rd=es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(Rd!==e)if(e={context:e,memoizedValue:t,next:null},es===null){if(Fa===null)throw Error(U(308));es=e,Fa.dependencies={lanes:0,firstContext:e}}else es=es.next=e;return t}var cr=null;function Dd(e){cr===null?cr=[e]:cr.push(e)}function Zg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Dd(t)):(n.next=s.next,s.next=n),t.interleaved=n,xn(e,r)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tn=!1;function Ad(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xn(e,n)}return s=r.interleaved,s===null?(t.next=t,Dd(r)):(t.next=s.next,s.next=t),r.interleaved=t,xn(e,n)}function ca(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wd(e,n)}}function Nh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $a(e,t,n,r){var s=e.updateQueue;Tn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,d=c=u=null,l=i;do{var h=l.lane,v=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,b=l;switch(h=t,v=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(v,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(v,f,h):y,h==null)break e;f=Ee({},f,h);break e;case 2:Tn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,u=f):d=d.next=v,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Pr|=o,e.lanes=o,e.memoizedState=f}}function _h(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var po={},en=nr(po),Hi=nr(po),Vi=nr(po);function dr(e){if(e===po)throw Error(U(174));return e}function Ld(e,t){switch(ye(Vi,t),ye(Hi,e),ye(en,po),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qu(t,e)}we(en),ye(en,t)}function Ts(){we(en),we(Hi),we(Vi)}function ey(e){dr(Vi.current);var t=dr(en.current),n=qu(t,e.type);t!==n&&(ye(Hi,e),ye(en,n))}function Od(e){Hi.current===e&&(we(en),we(Hi))}var ke=nr(0);function Ha(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pu=[];function zd(){for(var e=0;e<pu.length;e++)pu[e]._workInProgressVersionPrimary=null;pu.length=0}var da=bn.ReactCurrentDispatcher,mu=bn.ReactCurrentBatchConfig,Rr=0,je=null,De=null,Oe=null,Va=!1,Si=!1,Ui=0,Mb=0;function Be(){throw Error(U(321))}function Fd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function $d(e,t,n,r,s,i){if(Rr=i,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=e===null||e.memoizedState===null?Db:Ab,e=n(r,s),Si){i=0;do{if(Si=!1,Ui=0,25<=i)throw Error(U(301));i+=1,Oe=De=null,t.updateQueue=null,da.current=Lb,e=n(r,s)}while(Si)}if(da.current=Ua,t=De!==null&&De.next!==null,Rr=0,Oe=De=je=null,Va=!1,t)throw Error(U(300));return e}function Hd(){var e=Ui!==0;return Ui=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?je.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Ct(){if(De===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Oe===null?je.memoizedState:Oe.next;if(t!==null)Oe=t,De=e;else{if(e===null)throw Error(U(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Oe===null?je.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Bi(e,t){return typeof t=="function"?t(e):t}function gu(e){var t=Ct(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=De,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((Rr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,je.lanes|=d,Pr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,Vt(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,je.lanes|=i,Pr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yu(e){var t=Ct(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Vt(i,t.memoizedState)||(it=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ty(){}function ny(e,t){var n=je,r=Ct(),s=t(),i=!Vt(r.memoizedState,s);if(i&&(r.memoizedState=s,it=!0),r=r.queue,Vd(iy.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Wi(9,sy.bind(null,n,r,s,t),void 0,null),ze===null)throw Error(U(349));Rr&30||ry(n,t,s)}return s}function ry(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sy(e,t,n,r){t.value=n,t.getSnapshot=r,oy(t)&&ay(e)}function iy(e,t,n){return n(function(){oy(t)&&ay(e)})}function oy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function ay(e){var t=xn(e,1);t!==null&&Ht(t,e,1,-1)}function Sh(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ib.bind(null,je,e),[t.memoizedState,e]}function Wi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ly(){return Ct().memoizedState}function fa(e,t,n,r){var s=Qt();je.flags|=e,s.memoizedState=Wi(1|t,n,void 0,r===void 0?null:r)}function yl(e,t,n,r){var s=Ct();r=r===void 0?null:r;var i=void 0;if(De!==null){var o=De.memoizedState;if(i=o.destroy,r!==null&&Fd(r,o.deps)){s.memoizedState=Wi(t,n,i,r);return}}je.flags|=e,s.memoizedState=Wi(1|t,n,i,r)}function kh(e,t){return fa(8390656,8,e,t)}function Vd(e,t){return yl(2048,8,e,t)}function uy(e,t){return yl(4,2,e,t)}function cy(e,t){return yl(4,4,e,t)}function dy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fy(e,t,n){return n=n!=null?n.concat([e]):null,yl(4,4,dy.bind(null,t,e),n)}function Ud(){}function hy(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function py(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function my(e,t,n){return Rr&21?(Vt(n,t)||(n=wg(),je.lanes|=n,Pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function Rb(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=mu.transition;mu.transition={};try{e(!1),t()}finally{ge=n,mu.transition=r}}function gy(){return Ct().memoizedState}function Pb(e,t,n){var r=Kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yy(e))xy(t,n);else if(n=Zg(e,t,n,r),n!==null){var s=Ze();Ht(n,e,r,s),vy(n,t,r)}}function Ib(e,t,n){var r=Kn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yy(e))xy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Vt(l,o)){var u=t.interleaved;u===null?(s.next=s,Dd(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Zg(e,t,s,r),n!==null&&(s=Ze(),Ht(n,e,r,s),vy(n,t,r))}}function yy(e){var t=e.alternate;return e===je||t!==null&&t===je}function xy(e,t){Si=Va=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wd(e,n)}}var Ua={readContext:Et,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Db={readContext:Et,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:kh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fa(4194308,4,dy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return fa(4,2,e,t)},useMemo:function(e,t){var n=Qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Pb.bind(null,je,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:Sh,useDebugValue:Ud,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=Sh(!1),t=e[0];return e=Rb.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=je,s=Qt();if(Ne){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),ze===null)throw Error(U(349));Rr&30||ry(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,kh(iy.bind(null,r,i,e),[e]),r.flags|=2048,Wi(9,sy.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Qt(),t=ze.identifierPrefix;if(Ne){var n=hn,r=fn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ui++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Mb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ab={readContext:Et,useCallback:hy,useContext:Et,useEffect:Vd,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:py,useReducer:gu,useRef:ly,useState:function(){return gu(Bi)},useDebugValue:Ud,useDeferredValue:function(e){var t=Ct();return my(t,De.memoizedState,e)},useTransition:function(){var e=gu(Bi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:ty,useSyncExternalStore:ny,useId:gy,unstable_isNewReconciler:!1},Lb={readContext:Et,useCallback:hy,useContext:Et,useEffect:Vd,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:py,useReducer:yu,useRef:ly,useState:function(){return yu(Bi)},useDebugValue:Ud,useDeferredValue:function(e){var t=Ct();return De===null?t.memoizedState=e:my(t,De.memoizedState,e)},useTransition:function(){var e=yu(Bi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:ty,useSyncExternalStore:ny,useId:gy,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xl={isMounted:function(e){return(e=e._reactInternals)?Hr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Kn(e),i=mn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Qn(e,i,s),t!==null&&(Ht(t,e,s,r),ca(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Kn(e),i=mn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qn(e,i,s),t!==null&&(Ht(t,e,s,r),ca(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),r=Kn(e),s=mn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Qn(e,s,r),t!==null&&(Ht(t,e,r,n),ca(t,e,r))}};function jh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Oi(n,r)||!Oi(s,i):!0}function wy(e,t,n){var r=!1,s=er,i=t.contextType;return typeof i=="object"&&i!==null?i=Et(i):(s=lt(t)?Tr:Xe.current,r=t.contextTypes,i=(r=r!=null)?js(e,s):er),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Eh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xl.enqueueReplaceState(t,t.state,null)}function pc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ad(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Et(i):(i=lt(t)?Tr:Xe.current,s.context=js(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(hc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&xl.enqueueReplaceState(s,s.state,null),$a(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ms(e,t){try{var n="",r=t;do n+=c1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function xu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ob=typeof WeakMap=="function"?WeakMap:Map;function by(e,t,n){n=mn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wa||(Wa=!0,kc=r),mc(e,t)},n}function Ny(e,t,n){n=mn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){mc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mc(e,t),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ch(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ob;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Gb.bind(null,e,t,n),t.then(e,e))}function Th(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mn(-1,1),t.tag=2,Qn(n,t,1))),n.lanes|=1),e)}var zb=bn.ReactCurrentOwner,it=!1;function Ge(e,t,n,r){t.child=e===null?Gg(t,null,n,r):Cs(t,e.child,n,r)}function Rh(e,t,n,r,s){n=n.render;var i=t.ref;return us(t,s),r=$d(e,t,n,r,i,s),n=Hd(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Ne&&n&&Cd(t),t.flags|=1,Ge(e,t,r,s),t.child)}function Ph(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Gd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,_y(e,t,i,r,s)):(e=ga(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Oi,n(o,r)&&e.ref===t.ref)return vn(e,t,s)}return t.flags|=1,e=Yn(i,r),e.ref=t.ref,e.return=t,t.child=e}function _y(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Oi(i,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,vn(e,t,s)}return gc(e,t,n,r,s)}function Sy(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(ns,ft),ft|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(ns,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(ns,ft),ft|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ye(ns,ft),ft|=r;return Ge(e,t,s,n),t.child}function ky(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gc(e,t,n,r,s){var i=lt(n)?Tr:Xe.current;return i=js(t,i),us(t,s),n=$d(e,t,n,r,i,s),r=Hd(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Ne&&r&&Cd(t),t.flags|=1,Ge(e,t,n,s),t.child)}function Ih(e,t,n,r,s){if(lt(n)){var i=!0;Aa(t)}else i=!1;if(us(t,s),t.stateNode===null)ha(e,t),wy(t,n,r),pc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Et(c):(c=lt(n)?Tr:Xe.current,c=js(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Eh(t,o,r,c),Tn=!1;var h=t.memoizedState;o.state=h,$a(t,r,o,s),u=t.memoizedState,l!==r||h!==u||at.current||Tn?(typeof d=="function"&&(hc(t,n,d,r),u=t.memoizedState),(l=Tn||jh(t,n,l,r,h,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Jg(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Mt(t.type,l),o.props=c,f=t.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Et(u):(u=lt(n)?Tr:Xe.current,u=js(t,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==u)&&Eh(t,o,r,u),Tn=!1,h=t.memoizedState,o.state=h,$a(t,r,o,s);var y=t.memoizedState;l!==f||h!==y||at.current||Tn?(typeof v=="function"&&(hc(t,n,v,r),y=t.memoizedState),(c=Tn||jh(t,n,c,r,h,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return yc(e,t,n,r,i,s)}function yc(e,t,n,r,s,i){ky(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&xh(t,n,!1),vn(e,t,i);r=t.stateNode,zb.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Cs(t,e.child,null,i),t.child=Cs(t,null,l,i)):Ge(e,t,l,i),t.memoizedState=r.state,s&&xh(t,n,!0),t.child}function jy(e){var t=e.stateNode;t.pendingContext?yh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yh(e,t.context,!1),Ld(e,t.containerInfo)}function Dh(e,t,n,r,s){return Es(),Md(s),t.flags|=256,Ge(e,t,n,r),t.child}var xc={dehydrated:null,treeContext:null,retryLane:0};function vc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ey(e,t,n){var r=t.pendingProps,s=ke.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(ke,s&1),e===null)return dc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bl(o,r,0,null),e=kr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=vc(n),t.memoizedState=xc,e):Bd(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Fb(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Yn(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Yn(l,i):(i=kr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?vc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=xc,r}return i=e.child,e=i.sibling,r=Yn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bd(e,t){return t=bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uo(e,t,n,r){return r!==null&&Md(r),Cs(t,e.child,null,n),e=Bd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fb(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=xu(Error(U(422))),Uo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=bl({mode:"visible",children:r.children},s,0,null),i=kr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Cs(t,e.child,null,o),t.child.memoizedState=vc(o),t.memoizedState=xc,i);if(!(t.mode&1))return Uo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(U(419)),r=xu(i,r,void 0),Uo(e,t,o,r)}if(l=(o&e.childLanes)!==0,it||l){if(r=ze,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xn(e,s),Ht(r,e,s,-1))}return Yd(),r=xu(Error(U(421))),Uo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Zb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,pt=qn(s.nextSibling),mt=t,Ne=!0,At=null,e!==null&&(_t[St++]=fn,_t[St++]=hn,_t[St++]=Mr,fn=e.id,hn=e.overflow,Mr=t),t=Bd(t,r.children),t.flags|=4096,t)}function Ah(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fc(e.return,t,n)}function vu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Cy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ge(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ah(e,n,t);else if(e.tag===19)Ah(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ha(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),vu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ha(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}vu(t,!0,n,null,i);break;case"together":vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ha(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $b(e,t,n){switch(t.tag){case 3:jy(t),Es();break;case 5:ey(t);break;case 1:lt(t.type)&&Aa(t);break;case 4:Ld(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ye(za,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?Ey(e,t,n):(ye(ke,ke.current&1),e=vn(e,t,n),e!==null?e.sibling:null);ye(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,Sy(e,t,n)}return vn(e,t,n)}var Ty,wc,My,Ry;Ty=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wc=function(){};My=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,dr(en.current);var i=null;switch(n){case"input":s=Vu(e,s),r=Vu(e,r),i=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),i=[];break;case"textarea":s=Wu(e,s),r=Wu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ia)}Qu(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Mi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Mi.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ve("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ry=function(e,t,n,r){n!==r&&(t.flags|=4)};function ai(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hb(e,t,n){var r=t.pendingProps;switch(Td(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return lt(t.type)&&Da(),We(t),null;case 3:return r=t.stateNode,Ts(),we(at),we(Xe),zd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ho(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(Cc(At),At=null))),wc(e,t),We(t),null;case 5:Od(t);var s=dr(Vi.current);if(n=t.type,e!==null&&t.stateNode!=null)My(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return We(t),null}if(e=dr(en.current),Ho(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Zt]=t,r[$i]=i,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<mi.length;s++)ve(mi[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Bf(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":qf(r,i),ve("invalid",r)}Qu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&$o(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&$o(r.textContent,l,e),s=["children",""+l]):Mi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Po(r),Wf(r,i,!0);break;case"textarea":Po(r),Qf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ia)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ig(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zt]=t,e[$i]=r,Ty(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xu(n,r),n){case"dialog":ve("cancel",e),ve("close",e),s=r;break;case"iframe":case"object":case"embed":ve("load",e),s=r;break;case"video":case"audio":for(s=0;s<mi.length;s++)ve(mi[s],e);s=r;break;case"source":ve("error",e),s=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=r;break;case"details":ve("toggle",e),s=r;break;case"input":Bf(e,r),s=Vu(e,r),ve("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),ve("invalid",e);break;case"textarea":qf(e,r),s=Wu(e,r),ve("invalid",e);break;default:s=r}Qu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?lg(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&og(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ri(e,u):typeof u=="number"&&Ri(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mi.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ve("scroll",e):u!=null&&pd(e,i,u,o))}switch(n){case"input":Po(e),Wf(e,r,!1);break;case"textarea":Po(e),Qf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?is(e,!!r.multiple,i,!1):r.defaultValue!=null&&is(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ia)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)Ry(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=dr(Vi.current),dr(en.current),Ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(i=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:$o(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$o(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return We(t),null;case 13:if(we(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&pt!==null&&t.mode&1&&!(t.flags&128))Kg(),Es(),t.flags|=98560,i=!1;else if(i=Ho(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Zt]=t}else Es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),i=!1}else At!==null&&(Cc(At),At=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Ae===0&&(Ae=3):Yd())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return Ts(),wc(e,t),e===null&&zi(t.stateNode.containerInfo),We(t),null;case 10:return Id(t.type._context),We(t),null;case 17:return lt(t.type)&&Da(),We(t),null;case 19:if(we(ke),i=t.memoizedState,i===null)return We(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ai(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ha(e),o!==null){for(t.flags|=128,ai(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(ke,ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Me()>Rs&&(t.flags|=128,r=!0,ai(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ha(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ai(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return We(t),null}else 2*Me()-i.renderingStartTime>Rs&&n!==1073741824&&(t.flags|=128,r=!0,ai(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Me(),t.sibling=null,n=ke.current,ye(ke,r?n&1|2:n&1),t):(We(t),null);case 22:case 23:return Kd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Vb(e,t){switch(Td(t),t.tag){case 1:return lt(t.type)&&Da(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ts(),we(at),we(Xe),zd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Od(t),null;case 13:if(we(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(ke),null;case 4:return Ts(),null;case 10:return Id(t.type._context),null;case 22:case 23:return Kd(),null;case 24:return null;default:return null}}var Bo=!1,qe=!1,Ub=typeof WeakSet=="function"?WeakSet:Set,X=null;function ts(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function bc(e,t,n){try{n()}catch(r){Te(e,t,r)}}var Lh=!1;function Bb(e,t){if(sc=Ma,e=Lg(),Ed(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===n&&++c===s&&(l=o),h===i&&++d===r&&(u=o),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ic={focusedElem:e,selectionRange:n},Ma=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,S=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?b:Mt(t.type,b),S);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(x){Te(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return y=Lh,Lh=!1,y}function ki(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&bc(t,n,i)}s=s.next}while(s!==r)}}function vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Py(e){var t=e.alternate;t!==null&&(e.alternate=null,Py(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[$i],delete t[lc],delete t[jb],delete t[Eb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iy(e){return e.tag===5||e.tag===3||e.tag===4}function Oh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ia));else if(r!==4&&(e=e.child,e!==null))for(_c(e,t,n),e=e.sibling;e!==null;)_c(e,t,n),e=e.sibling}function Sc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Sc(e,t,n),e=e.sibling;e!==null;)Sc(e,t,n),e=e.sibling}var Fe=null,It=!1;function Sn(e,t,n){for(n=n.child;n!==null;)Dy(e,t,n),n=n.sibling}function Dy(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(dl,n)}catch{}switch(n.tag){case 5:qe||ts(n,t);case 6:var r=Fe,s=It;Fe=null,Sn(e,t,n),Fe=r,It=s,Fe!==null&&(It?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(It?(e=Fe,n=n.stateNode,e.nodeType===8?fu(e.parentNode,n):e.nodeType===1&&fu(e,n),Ai(e)):fu(Fe,n.stateNode));break;case 4:r=Fe,s=It,Fe=n.stateNode.containerInfo,It=!0,Sn(e,t,n),Fe=r,It=s;break;case 0:case 11:case 14:case 15:if(!qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&bc(n,t,o),s=s.next}while(s!==r)}Sn(e,t,n);break;case 1:if(!qe&&(ts(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,t,l)}Sn(e,t,n);break;case 21:Sn(e,t,n);break;case 22:n.mode&1?(qe=(r=qe)||n.memoizedState!==null,Sn(e,t,n),qe=r):Sn(e,t,n);break;default:Sn(e,t,n)}}function zh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ub),t.forEach(function(r){var s=Jb.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Fe=l.stateNode,It=!1;break e;case 3:Fe=l.stateNode.containerInfo,It=!0;break e;case 4:Fe=l.stateNode.containerInfo,It=!0;break e}l=l.return}if(Fe===null)throw Error(U(160));Dy(i,o,s),Fe=null,It=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Te(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ay(t,e),t=t.sibling}function Ay(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Wt(e),r&4){try{ki(3,e,e.return),vl(3,e)}catch(b){Te(e,e.return,b)}try{ki(5,e,e.return)}catch(b){Te(e,e.return,b)}}break;case 1:Tt(t,e),Wt(e),r&512&&n!==null&&ts(n,n.return);break;case 5:if(Tt(t,e),Wt(e),r&512&&n!==null&&ts(n,n.return),e.flags&32){var s=e.stateNode;try{Ri(s,"")}catch(b){Te(e,e.return,b)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&rg(s,i),Xu(l,o);var c=Xu(l,i);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?lg(s,f):d==="dangerouslySetInnerHTML"?og(s,f):d==="children"?Ri(s,f):pd(s,d,f,c)}switch(l){case"input":Uu(s,i);break;case"textarea":sg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?is(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?is(s,!!i.multiple,i.defaultValue,!0):is(s,!!i.multiple,i.multiple?[]:"",!1))}s[$i]=i}catch(b){Te(e,e.return,b)}}break;case 6:if(Tt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){Te(e,e.return,b)}}break;case 3:if(Tt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ai(t.containerInfo)}catch(b){Te(e,e.return,b)}break;case 4:Tt(t,e),Wt(e);break;case 13:Tt(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Qd=Me())),r&4&&zh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(qe=(c=qe)||d,Tt(t,e),qe=c):Tt(t,e),Wt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,v=h.child,h.tag){case 0:case 11:case 14:case 15:ki(4,h,h.return);break;case 1:ts(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Te(r,n,b)}}break;case 5:ts(h,h.return);break;case 22:if(h.memoizedState!==null){$h(f);continue}}v!==null?(v.return=h,X=v):$h(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=ag("display",o))}catch(b){Te(e,e.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){Te(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tt(t,e),Wt(e),r&4&&zh(e);break;case 21:break;default:Tt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Iy(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ri(s,""),r.flags&=-33);var i=Oh(e);Sc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Oh(e);_c(e,l,o);break;default:throw Error(U(161))}}catch(u){Te(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wb(e,t,n){X=e,Ly(e)}function Ly(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bo;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||qe;l=Bo;var c=qe;if(Bo=o,(qe=u)&&!c)for(X=s;X!==null;)o=X,u=o.child,o.tag===22&&o.memoizedState!==null?Hh(s):u!==null?(u.return=o,X=u):Hh(s);for(;i!==null;)X=i,Ly(i),i=i.sibling;X=s,Bo=l,qe=c}Fh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Fh(e)}}function Fh(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qe||vl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Mt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_h(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_h(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ai(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}qe||t.flags&512&&Nc(t)}catch(h){Te(t,t.return,h)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function $h(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Hh(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vl(4,t)}catch(u){Te(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){Te(t,s,u)}}var i=t.return;try{Nc(t)}catch(u){Te(t,i,u)}break;case 5:var o=t.return;try{Nc(t)}catch(u){Te(t,o,u)}}}catch(u){Te(t,t.return,u)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var qb=Math.ceil,Ba=bn.ReactCurrentDispatcher,Wd=bn.ReactCurrentOwner,jt=bn.ReactCurrentBatchConfig,de=0,ze=null,Pe=null,He=0,ft=0,ns=nr(0),Ae=0,qi=null,Pr=0,wl=0,qd=0,ji=null,st=null,Qd=0,Rs=1/0,ln=null,Wa=!1,kc=null,Xn=null,Wo=!1,Vn=null,qa=0,Ei=0,jc=null,pa=-1,ma=0;function Ze(){return de&6?Me():pa!==-1?pa:pa=Me()}function Kn(e){return e.mode&1?de&2&&He!==0?He&-He:Tb.transition!==null?(ma===0&&(ma=wg()),ma):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Eg(e.type)),e):1}function Ht(e,t,n,r){if(50<Ei)throw Ei=0,jc=null,Error(U(185));co(e,n,r),(!(de&2)||e!==ze)&&(e===ze&&(!(de&2)&&(wl|=n),Ae===4&&Rn(e,He)),ut(e,r),n===1&&de===0&&!(t.mode&1)&&(Rs=Me()+500,gl&&rr()))}function ut(e,t){var n=e.callbackNode;T1(e,t);var r=Ta(e,e===ze?He:0);if(r===0)n!==null&&Yf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yf(n),t===1)e.tag===0?Cb(Vh.bind(null,e)):qg(Vh.bind(null,e)),Sb(function(){!(de&6)&&rr()}),n=null;else{switch(bg(r)){case 1:n=vd;break;case 4:n=xg;break;case 16:n=Ca;break;case 536870912:n=vg;break;default:n=Ca}n=By(n,Oy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Oy(e,t){if(pa=-1,ma=0,de&6)throw Error(U(327));var n=e.callbackNode;if(cs()&&e.callbackNode!==n)return null;var r=Ta(e,e===ze?He:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qa(e,r);else{t=r;var s=de;de|=2;var i=Fy();(ze!==e||He!==t)&&(ln=null,Rs=Me()+500,Sr(e,t));do try{Kb();break}catch(l){zy(e,l)}while(!0);Pd(),Ba.current=i,de=s,Pe!==null?t=0:(ze=null,He=0,t=Ae)}if(t!==0){if(t===2&&(s=Ju(e),s!==0&&(r=s,t=Ec(e,s))),t===1)throw n=qi,Sr(e,0),Rn(e,r),ut(e,Me()),n;if(t===6)Rn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Qb(s)&&(t=Qa(e,r),t===2&&(i=Ju(e),i!==0&&(r=i,t=Ec(e,i))),t===1))throw n=qi,Sr(e,0),Rn(e,r),ut(e,Me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:or(e,st,ln);break;case 3:if(Rn(e,r),(r&130023424)===r&&(t=Qd+500-Me(),10<t)){if(Ta(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ac(or.bind(null,e,st,ln),t);break}or(e,st,ln);break;case 4:if(Rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-$t(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qb(r/1960))-r,10<r){e.timeoutHandle=ac(or.bind(null,e,st,ln),r);break}or(e,st,ln);break;case 5:or(e,st,ln);break;default:throw Error(U(329))}}}return ut(e,Me()),e.callbackNode===n?Oy.bind(null,e):null}function Ec(e,t){var n=ji;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=Qa(e,t),e!==2&&(t=st,st=n,t!==null&&Cc(t)),e}function Cc(e){st===null?st=e:st.push.apply(st,e)}function Qb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~qd,t&=~wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function Vh(e){if(de&6)throw Error(U(327));cs();var t=Ta(e,0);if(!(t&1))return ut(e,Me()),null;var n=Qa(e,t);if(e.tag!==0&&n===2){var r=Ju(e);r!==0&&(t=r,n=Ec(e,r))}if(n===1)throw n=qi,Sr(e,0),Rn(e,t),ut(e,Me()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,st,ln),ut(e,Me()),null}function Xd(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(Rs=Me()+500,gl&&rr())}}function Ir(e){Vn!==null&&Vn.tag===0&&!(de&6)&&cs();var t=de;de|=1;var n=jt.transition,r=ge;try{if(jt.transition=null,ge=1,e)return e()}finally{ge=r,jt.transition=n,de=t,!(de&6)&&rr()}}function Kd(){ft=ns.current,we(ns)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_b(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Td(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Da();break;case 3:Ts(),we(at),we(Xe),zd();break;case 5:Od(r);break;case 4:Ts();break;case 13:we(ke);break;case 19:we(ke);break;case 10:Id(r.type._context);break;case 22:case 23:Kd()}n=n.return}if(ze=e,Pe=e=Yn(e.current,null),He=ft=t,Ae=0,qi=null,qd=wl=Pr=0,st=ji=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cr=null}return e}function zy(e,t){do{var n=Pe;try{if(Pd(),da.current=Ua,Va){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Va=!1}if(Rr=0,Oe=De=je=null,Si=!1,Ui=0,Wd.current=null,n===null||n.return===null){Ae=1,qi=t,Pe=null;break}e:{var i=e,o=n.return,l=n,u=t;if(t=He,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Th(o);if(v!==null){v.flags&=-257,Mh(v,o,l,i,t),v.mode&1&&Ch(i,c,t),t=v,u=c;var y=t.updateQueue;if(y===null){var b=new Set;b.add(u),t.updateQueue=b}else y.add(u);break e}else{if(!(t&1)){Ch(i,c,t),Yd();break e}u=Error(U(426))}}else if(Ne&&l.mode&1){var S=Th(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Mh(S,o,l,i,t),Md(Ms(u,l));break e}}i=u=Ms(u,l),Ae!==4&&(Ae=2),ji===null?ji=[i]:ji.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=by(i,u,t);Nh(i,m);break e;case 1:l=u;var g=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xn===null||!Xn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Ny(i,l,t);Nh(i,x);break e}}i=i.return}while(i!==null)}Hy(n)}catch(_){t=_,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function Fy(){var e=Ba.current;return Ba.current=Ua,e===null?Ua:e}function Yd(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),ze===null||!(Pr&268435455)&&!(wl&268435455)||Rn(ze,He)}function Qa(e,t){var n=de;de|=2;var r=Fy();(ze!==e||He!==t)&&(ln=null,Sr(e,t));do try{Xb();break}catch(s){zy(e,s)}while(!0);if(Pd(),de=n,Ba.current=r,Pe!==null)throw Error(U(261));return ze=null,He=0,Ae}function Xb(){for(;Pe!==null;)$y(Pe)}function Kb(){for(;Pe!==null&&!w1();)$y(Pe)}function $y(e){var t=Uy(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?Hy(e):Pe=t,Wd.current=null}function Hy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vb(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Pe=null;return}}else if(n=Hb(n,t,ft),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ae===0&&(Ae=5)}function or(e,t,n){var r=ge,s=jt.transition;try{jt.transition=null,ge=1,Yb(e,t,n,r)}finally{jt.transition=s,ge=r}return null}function Yb(e,t,n,r){do cs();while(Vn!==null);if(de&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(M1(e,i),e===ze&&(Pe=ze=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wo||(Wo=!0,By(Ca,function(){return cs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jt.transition,jt.transition=null;var o=ge;ge=1;var l=de;de|=4,Wd.current=null,Bb(e,n),Ay(n,e),gb(ic),Ma=!!sc,ic=sc=null,e.current=n,Wb(n),b1(),de=l,ge=o,jt.transition=i}else e.current=n;if(Wo&&(Wo=!1,Vn=e,qa=s),i=e.pendingLanes,i===0&&(Xn=null),S1(n.stateNode),ut(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wa)throw Wa=!1,e=kc,kc=null,e;return qa&1&&e.tag!==0&&cs(),i=e.pendingLanes,i&1?e===jc?Ei++:(Ei=0,jc=e):Ei=0,rr(),null}function cs(){if(Vn!==null){var e=bg(qa),t=jt.transition,n=ge;try{if(jt.transition=null,ge=16>e?16:e,Vn===null)var r=!1;else{if(e=Vn,Vn=null,qa=0,de&6)throw Error(U(331));var s=de;for(de|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:ki(8,d,i)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,v=d.return;if(Py(d),d===c){X=null;break}if(h!==null){h.return=v,X=h;break}X=v}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ki(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,X=m;break e}X=i.return}}var g=e.current;for(X=g;X!==null;){o=X;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,X=p;else e:for(o=g;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vl(9,l)}}catch(_){Te(l,l.return,_)}if(l===o){X=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,X=x;break e}X=l.return}}if(de=s,rr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(dl,e)}catch{}r=!0}return r}finally{ge=n,jt.transition=t}}return!1}function Uh(e,t,n){t=Ms(n,t),t=by(e,t,1),e=Qn(e,t,1),t=Ze(),e!==null&&(co(e,1,t),ut(e,t))}function Te(e,t,n){if(e.tag===3)Uh(e,e,n);else for(;t!==null;){if(t.tag===3){Uh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){e=Ms(n,e),e=Ny(t,e,1),t=Qn(t,e,1),e=Ze(),t!==null&&(co(t,1,e),ut(t,e));break}}t=t.return}}function Gb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(He&n)===n&&(Ae===4||Ae===3&&(He&130023424)===He&&500>Me()-Qd?Sr(e,0):qd|=n),ut(e,t)}function Vy(e,t){t===0&&(e.mode&1?(t=Ao,Ao<<=1,!(Ao&130023424)&&(Ao=4194304)):t=1);var n=Ze();e=xn(e,t),e!==null&&(co(e,t,n),ut(e,n))}function Zb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vy(e,n)}function Jb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),Vy(e,n)}var Uy;Uy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,$b(e,t,n);it=!!(e.flags&131072)}else it=!1,Ne&&t.flags&1048576&&Qg(t,Oa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ha(e,t),e=t.pendingProps;var s=js(t,Xe.current);us(t,n),s=$d(null,t,r,e,s,n);var i=Hd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(r)?(i=!0,Aa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ad(t),s.updater=xl,t.stateNode=s,s._reactInternals=t,pc(t,r,e,n),t=yc(null,t,r,!0,i,n)):(t.tag=0,Ne&&i&&Cd(t),Ge(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ha(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=tN(r),e=Mt(r,e),s){case 0:t=gc(null,t,r,e,n);break e;case 1:t=Ih(null,t,r,e,n);break e;case 11:t=Rh(null,t,r,e,n);break e;case 14:t=Ph(null,t,r,Mt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),gc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),Ih(e,t,r,s,n);case 3:e:{if(jy(t),e===null)throw Error(U(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Jg(e,t),$a(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ms(Error(U(423)),t),t=Dh(e,t,r,n,s);break e}else if(r!==s){s=Ms(Error(U(424)),t),t=Dh(e,t,r,n,s);break e}else for(pt=qn(t.stateNode.containerInfo.firstChild),mt=t,Ne=!0,At=null,n=Gg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),r===s){t=vn(e,t,n);break e}Ge(e,t,r,n)}t=t.child}return t;case 5:return ey(t),e===null&&dc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,oc(r,s)?o=null:i!==null&&oc(r,i)&&(t.flags|=32),ky(e,t),Ge(e,t,o,n),t.child;case 6:return e===null&&dc(t),null;case 13:return Ey(e,t,n);case 4:return Ld(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cs(t,null,r,n):Ge(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),Rh(e,t,r,s,n);case 7:return Ge(e,t,t.pendingProps,n),t.child;case 8:return Ge(e,t,t.pendingProps.children,n),t.child;case 12:return Ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ye(za,r._currentValue),r._currentValue=o,i!==null)if(Vt(i.value,o)){if(i.children===s.children&&!at.current){t=vn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=mn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),fc(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),fc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ge(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,us(t,n),s=Et(s),r=r(s),t.flags|=1,Ge(e,t,r,n),t.child;case 14:return r=t.type,s=Mt(r,t.pendingProps),s=Mt(r.type,s),Ph(e,t,r,s,n);case 15:return _y(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),ha(e,t),t.tag=1,lt(r)?(e=!0,Aa(t)):e=!1,us(t,n),wy(t,r,s),pc(t,r,s,n),yc(null,t,r,!0,e,n);case 19:return Cy(e,t,n);case 22:return Sy(e,t,n)}throw Error(U(156,t.tag))};function By(e,t){return yg(e,t)}function eN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new eN(e,t,n,r)}function Gd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tN(e){if(typeof e=="function")return Gd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gd)return 11;if(e===yd)return 14}return 2}function Yn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ga(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Gd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qr:return kr(n.children,s,i,t);case md:o=8,s|=8;break;case zu:return e=kt(12,n,t,s|2),e.elementType=zu,e.lanes=i,e;case Fu:return e=kt(13,n,t,s),e.elementType=Fu,e.lanes=i,e;case $u:return e=kt(19,n,t,s),e.elementType=$u,e.lanes=i,e;case eg:return bl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zm:o=10;break e;case Jm:o=9;break e;case gd:o=11;break e;case yd:o=14;break e;case Cn:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=kt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function kr(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function bl(e,t,n,r){return e=kt(22,e,r,t),e.elementType=eg,e.lanes=n,e.stateNode={isHidden:!1},e}function wu(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function bu(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nN(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zd(e,t,n,r,s,i,o,l,u){return e=new nN(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=kt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ad(i),e}function rN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Wy(e){if(!e)return er;e=e._reactInternals;e:{if(Hr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(lt(n))return Wg(e,n,t)}return t}function qy(e,t,n,r,s,i,o,l,u){return e=Zd(n,r,!0,e,s,i,o,l,u),e.context=Wy(null),n=e.current,r=Ze(),s=Kn(n),i=mn(r,s),i.callback=t??null,Qn(n,i,s),e.current.lanes=s,co(e,s,r),ut(e,r),e}function Nl(e,t,n,r){var s=t.current,i=Ze(),o=Kn(s);return n=Wy(n),t.context===null?t.context=n:t.pendingContext=n,t=mn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qn(s,t,o),e!==null&&(Ht(e,s,o,i),ca(e,s,o)),o}function Xa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jd(e,t){Bh(e,t),(e=e.alternate)&&Bh(e,t)}function sN(){return null}var Qy=typeof reportError=="function"?reportError:function(e){console.error(e)};function ef(e){this._internalRoot=e}_l.prototype.render=ef.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Nl(e,t,null,null)};_l.prototype.unmount=ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){Nl(null,e,null,null)}),t[yn]=null}};function _l(e){this._internalRoot=e}_l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&jg(e)}};function tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wh(){}function iN(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Xa(o);i.call(c)}}var o=qy(t,r,e,0,null,!1,!1,"",Wh);return e._reactRootContainer=o,e[yn]=o.current,zi(e.nodeType===8?e.parentNode:e),Ir(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Xa(u);l.call(c)}}var u=Zd(e,0,!1,null,null,!1,!1,"",Wh);return e._reactRootContainer=u,e[yn]=u.current,zi(e.nodeType===8?e.parentNode:e),Ir(function(){Nl(t,u,n,r)}),u}function kl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=Xa(o);l.call(u)}}Nl(t,o,e,s)}else o=iN(n,t,e,s,r);return Xa(o)}Ng=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pi(t.pendingLanes);n!==0&&(wd(t,n|1),ut(t,Me()),!(de&6)&&(Rs=Me()+500,rr()))}break;case 13:Ir(function(){var r=xn(e,1);if(r!==null){var s=Ze();Ht(r,e,1,s)}}),Jd(e,1)}};bd=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=Ze();Ht(t,e,134217728,n)}Jd(e,134217728)}};_g=function(e){if(e.tag===13){var t=Kn(e),n=xn(e,t);if(n!==null){var r=Ze();Ht(n,e,t,r)}Jd(e,t)}};Sg=function(){return ge};kg=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};Yu=function(e,t,n){switch(t){case"input":if(Uu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ml(r);if(!s)throw Error(U(90));ng(r),Uu(r,s)}}}break;case"textarea":sg(e,n);break;case"select":t=n.value,t!=null&&is(e,!!n.multiple,t,!1)}};dg=Xd;fg=Ir;var oN={usingClientEntryPoint:!1,Events:[ho,Yr,ml,ug,cg,Xd]},li={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aN={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mg(e),e===null?null:e.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||sN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{dl=qo.inject(aN),Jt=qo}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oN;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tf(t))throw Error(U(200));return rN(e,t,null,n)};xt.createRoot=function(e,t){if(!tf(e))throw Error(U(299));var n=!1,r="",s=Qy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Zd(e,1,!1,null,null,n,!1,r,s),e[yn]=t.current,zi(e.nodeType===8?e.parentNode:e),new ef(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=mg(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return Ir(e)};xt.hydrate=function(e,t,n){if(!Sl(t))throw Error(U(200));return kl(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!tf(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Qy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=qy(t,null,e,1,n??null,s,!1,i,o),e[yn]=t.current,zi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new _l(t)};xt.render=function(e,t,n){if(!Sl(t))throw Error(U(200));return kl(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!Sl(e))throw Error(U(40));return e._reactRootContainer?(Ir(function(){kl(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};xt.unstable_batchedUpdates=Xd;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sl(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return kl(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function Xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xy)}catch(e){console.error(e)}}Xy(),Xm.exports=xt;var Ky=Xm.exports,qh=Ky;Lu.createRoot=qh.createRoot,Lu.hydrateRoot=qh.hydrateRoot;var mo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lN={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},In,ad,jm,uN=(jm=class{constructor(){ee(this,In,lN);ee(this,ad,!1)}setTimeoutProvider(e){Q(this,In,e)}setTimeout(e,t){return I(this,In).setTimeout(e,t)}clearTimeout(e){I(this,In).clearTimeout(e)}setInterval(e,t){return I(this,In).setInterval(e,t)}clearInterval(e){I(this,In).clearInterval(e)}},In=new WeakMap,ad=new WeakMap,jm),fr=new uN;function cN(e){setTimeout(e,0)}var Dr=typeof window>"u"||"Deno"in globalThis;function rt(){}function dN(e,t){return typeof e=="function"?e(t):e}function Tc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Yy(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gn(e,t){return typeof e=="function"?e(t):e}function Nt(e,t){return typeof e=="function"?e(t):e}function Qh(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==nf(o,t.options))return!1}else if(!Xi(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Xh(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Qi(t.options.mutationKey)!==Qi(i))return!1}else if(!Xi(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function nf(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qi)(e)}function Qi(e){return JSON.stringify(e,(t,n)=>Rc(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Xi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Xi(e[n],t[n])):!1}var fN=Object.prototype.hasOwnProperty;function Gy(e,t){if(e===t)return e;const n=Kh(e)&&Kh(t);if(!n&&!(Rc(e)&&Rc(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let u=0;for(let c=0;c<o;c++){const d=n?c:i[c],f=e[d],h=t[d];if(f===h){l[d]=f,(n?c<s:fN.call(e,d))&&u++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const v=Gy(f,h);l[d]=v,v===f&&u++}return s===o&&u===s?e:l}function Mc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Kh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Rc(e){if(!Yh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Yh(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Yh(e){return Object.prototype.toString.call(e)==="[object Object]"}function hN(e){return new Promise(t=>{fr.setTimeout(t,e)})}function Pc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Gy(e,t):t}function pN(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function mN(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var rf=Symbol();function Zy(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===rf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function gN(e,t){return typeof e=="function"?e(...t):!!e}var mr,Dn,hs,Em,yN=(Em=class extends mo{constructor(){super();ee(this,mr);ee(this,Dn);ee(this,hs);Q(this,hs,t=>{if(!Dr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){I(this,Dn)||this.setEventListener(I(this,hs))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,Dn))==null||t.call(this),Q(this,Dn,void 0))}setEventListener(t){var n;Q(this,hs,t),(n=I(this,Dn))==null||n.call(this),Q(this,Dn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){I(this,mr)!==t&&(Q(this,mr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof I(this,mr)=="boolean"?I(this,mr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},mr=new WeakMap,Dn=new WeakMap,hs=new WeakMap,Em),sf=new yN;function Ic(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var xN=cN;function vN(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=xN;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var $e=vN(),ps,An,ms,Cm,wN=(Cm=class extends mo{constructor(){super();ee(this,ps,!0);ee(this,An);ee(this,ms);Q(this,ms,t=>{if(!Dr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){I(this,An)||this.setEventListener(I(this,ms))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,An))==null||t.call(this),Q(this,An,void 0))}setEventListener(t){var n;Q(this,ms,t),(n=I(this,An))==null||n.call(this),Q(this,An,t(this.setOnline.bind(this)))}setOnline(t){I(this,ps)!==t&&(Q(this,ps,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return I(this,ps)}},ps=new WeakMap,An=new WeakMap,ms=new WeakMap,Cm),Ka=new wN;function bN(e){return Math.min(1e3*2**e,3e4)}function Jy(e){return(e??"online")==="online"?Ka.isOnline():!0}var Dc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ex(e){let t=!1,n=0,r;const s=Ic(),i=()=>s.status!=="pending",o=b=>{var S;if(!i()){const m=new Dc(b);h(m),(S=e.onCancel)==null||S.call(e,m)}},l=()=>{t=!0},u=()=>{t=!1},c=()=>sf.isFocused()&&(e.networkMode==="always"||Ka.isOnline())&&e.canRun(),d=()=>Jy(e.networkMode)&&e.canRun(),f=b=>{i()||(r==null||r(),s.resolve(b))},h=b=>{i()||(r==null||r(),s.reject(b))},v=()=>new Promise(b=>{var S;r=m=>{(i()||c())&&b(m)},(S=e.onPause)==null||S.call(e)}).then(()=>{var b;r=void 0,i()||(b=e.onContinue)==null||b.call(e)}),y=()=>{if(i())return;let b;const S=n===0?e.initialPromise:void 0;try{b=S??e.fn()}catch(m){b=Promise.reject(m)}Promise.resolve(b).then(f).catch(m=>{var N;if(i())return;const g=e.retry??(Dr?0:3),p=e.retryDelay??bN,x=typeof p=="function"?p(n,m):p,_=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,m);if(t||!_){h(m);return}n++,(N=e.onFail)==null||N.call(e,n,m),hN(x).then(()=>c()?void 0:v()).then(()=>{t?h(m):y()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?y():v().then(y),s)}}var gr,Tm,tx=(Tm=class{constructor(){ee(this,gr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Tc(this.gcTime)&&Q(this,gr,fr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Dr?1/0:5*60*1e3))}clearGcTimeout(){I(this,gr)&&(fr.clearTimeout(I(this,gr)),Q(this,gr,void 0))}},gr=new WeakMap,Tm),yr,gs,bt,xr,Le,so,vr,Rt,an,Mm,NN=(Mm=class extends tx{constructor(t){super();ee(this,Rt);ee(this,yr);ee(this,gs);ee(this,bt);ee(this,xr);ee(this,Le);ee(this,so);ee(this,vr);Q(this,vr,!1),Q(this,so,t.defaultOptions),this.setOptions(t.options),this.observers=[],Q(this,xr,t.client),Q(this,bt,I(this,xr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Q(this,yr,Zh(this.options)),this.state=t.state??I(this,yr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=I(this,Le))==null?void 0:t.promise}setOptions(t){if(this.options={...I(this,so),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Zh(this.options);n.data!==void 0&&(this.setState(Gh(n.data,n.dataUpdatedAt)),Q(this,yr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,bt).remove(this)}setData(t,n){const r=Pc(this.state.data,t,this.options);return le(this,Rt,an).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){le(this,Rt,an).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=I(this,Le))==null?void 0:r.promise;return(s=I(this,Le))==null||s.cancel(t),n?n.then(rt).catch(rt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,yr))}isActive(){return this.observers.some(t=>Nt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Gn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Yy(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,Le))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,Le))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),I(this,bt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(I(this,Le)&&(I(this,vr)?I(this,Le).cancel({revert:!0}):I(this,Le).cancelRetry()),this.scheduleGc()),I(this,bt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||le(this,Rt,an).call(this,{type:"invalidate"})}async fetch(t,n){var u,c,d,f,h,v,y,b,S,m,g,p;if(this.state.fetchStatus!=="idle"&&((u=I(this,Le))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(I(this,Le))return I(this,Le).continueRetry(),I(this,Le).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(_=>_.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(Q(this,vr,!0),r.signal)})},i=()=>{const x=Zy(this.options,n),N=(()=>{const w={client:I(this,xr),queryKey:this.queryKey,meta:this.meta};return s(w),w})();return Q(this,vr,!1),this.options.persister?this.options.persister(x,N,this):x(N)},l=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:I(this,xr),state:this.state,fetchFn:i};return s(x),x})();(c=this.options.behavior)==null||c.onFetch(l,this),Q(this,gs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&le(this,Rt,an).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Q(this,Le,ex({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:x=>{x instanceof Dc&&x.revert&&this.setState({...I(this,gs),fetchStatus:"idle"}),r.abort()},onFail:(x,_)=>{le(this,Rt,an).call(this,{type:"failed",failureCount:x,error:_})},onPause:()=>{le(this,Rt,an).call(this,{type:"pause"})},onContinue:()=>{le(this,Rt,an).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const x=await I(this,Le).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(v=(h=I(this,bt).config).onSuccess)==null||v.call(h,x,this),(b=(y=I(this,bt).config).onSettled)==null||b.call(y,x,this.state.error,this),x}catch(x){if(x instanceof Dc){if(x.silent)return I(this,Le).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw le(this,Rt,an).call(this,{type:"error",error:x}),(m=(S=I(this,bt).config).onError)==null||m.call(S,x,this),(p=(g=I(this,bt).config).onSettled)==null||p.call(g,this.state.data,x,this),x}finally{this.scheduleGc()}}},yr=new WeakMap,gs=new WeakMap,bt=new WeakMap,xr=new WeakMap,Le=new WeakMap,so=new WeakMap,vr=new WeakMap,Rt=new WeakSet,an=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...nx(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...Gh(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Q(this,gs,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),$e.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),I(this,bt).notify({query:this,type:"updated",action:t})})},Mm);function nx(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Gh(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Zh(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var nt,ue,io,Ke,wr,ys,cn,Ln,oo,xs,vs,br,Nr,On,ws,me,gi,Ac,Lc,Oc,zc,Fc,$c,Hc,rx,Rm,_N=(Rm=class extends mo{constructor(t,n){super();ee(this,me);ee(this,nt);ee(this,ue);ee(this,io);ee(this,Ke);ee(this,wr);ee(this,ys);ee(this,cn);ee(this,Ln);ee(this,oo);ee(this,xs);ee(this,vs);ee(this,br);ee(this,Nr);ee(this,On);ee(this,ws,new Set);this.options=n,Q(this,nt,t),Q(this,Ln,null),Q(this,cn,Ic()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(I(this,ue).addObserver(this),Jh(I(this,ue),this.options)?le(this,me,gi).call(this):this.updateResult(),le(this,me,zc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vc(I(this,ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vc(I(this,ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,le(this,me,Fc).call(this),le(this,me,$c).call(this),I(this,ue).removeObserver(this)}setOptions(t){const n=this.options,r=I(this,ue);if(this.options=I(this,nt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nt(this.options.enabled,I(this,ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");le(this,me,Hc).call(this),I(this,ue).setOptions(this.options),n._defaulted&&!Mc(this.options,n)&&I(this,nt).getQueryCache().notify({type:"observerOptionsUpdated",query:I(this,ue),observer:this});const s=this.hasListeners();s&&ep(I(this,ue),r,this.options,n)&&le(this,me,gi).call(this),this.updateResult(),s&&(I(this,ue)!==r||Nt(this.options.enabled,I(this,ue))!==Nt(n.enabled,I(this,ue))||Gn(this.options.staleTime,I(this,ue))!==Gn(n.staleTime,I(this,ue)))&&le(this,me,Ac).call(this);const i=le(this,me,Lc).call(this);s&&(I(this,ue)!==r||Nt(this.options.enabled,I(this,ue))!==Nt(n.enabled,I(this,ue))||i!==I(this,On))&&le(this,me,Oc).call(this,i)}getOptimisticResult(t){const n=I(this,nt).getQueryCache().build(I(this,nt),t),r=this.createResult(n,t);return kN(this,r)&&(Q(this,Ke,r),Q(this,ys,this.options),Q(this,wr,I(this,ue).state)),r}getCurrentResult(){return I(this,Ke)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&I(this,cn).status==="pending"&&I(this,cn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){I(this,ws).add(t)}getCurrentQuery(){return I(this,ue)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=I(this,nt).defaultQueryOptions(t),r=I(this,nt).getQueryCache().build(I(this,nt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return le(this,me,gi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),I(this,Ke)))}createResult(t,n){var E;const r=I(this,ue),s=this.options,i=I(this,Ke),o=I(this,wr),l=I(this,ys),c=t!==r?t.state:I(this,io),{state:d}=t;let f={...d},h=!1,v;if(n._optimisticResults){const T=this.hasListeners(),P=!T&&Jh(t,n),A=T&&ep(t,r,n,s);(P||A)&&(f={...f,...nx(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:S}=f;v=f.data;let m=!1;if(n.placeholderData!==void 0&&v===void 0&&S==="pending"){let T;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,m=!0):T=typeof n.placeholderData=="function"?n.placeholderData((E=I(this,vs))==null?void 0:E.state.data,I(this,vs)):n.placeholderData,T!==void 0&&(S="success",v=Pc(i==null?void 0:i.data,T,n),h=!0)}if(n.select&&v!==void 0&&!m)if(i&&v===(o==null?void 0:o.data)&&n.select===I(this,oo))v=I(this,xs);else try{Q(this,oo,n.select),v=n.select(v),v=Pc(i==null?void 0:i.data,v,n),Q(this,xs,v),Q(this,Ln,null)}catch(T){Q(this,Ln,T)}I(this,Ln)&&(y=I(this,Ln),v=I(this,xs),b=Date.now(),S="error");const g=f.fetchStatus==="fetching",p=S==="pending",x=S==="error",_=p&&g,N=v!==void 0,k={status:S,fetchStatus:f.fetchStatus,isPending:p,isSuccess:S==="success",isError:x,isInitialLoading:_,isLoading:_,data:v,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:g,isRefetching:g&&!p,isLoadingError:x&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:x&&N,isStale:of(t,n),refetch:this.refetch,promise:I(this,cn),isEnabled:Nt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=z=>{k.status==="error"?z.reject(k.error):k.data!==void 0&&z.resolve(k.data)},P=()=>{const z=Q(this,cn,k.promise=Ic());T(z)},A=I(this,cn);switch(A.status){case"pending":t.queryHash===r.queryHash&&T(A);break;case"fulfilled":(k.status==="error"||k.data!==A.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==A.reason)&&P();break}}return k}updateResult(){const t=I(this,Ke),n=this.createResult(I(this,ue),this.options);if(Q(this,wr,I(this,ue).state),Q(this,ys,this.options),I(this,wr).data!==void 0&&Q(this,vs,I(this,ue)),Mc(n,t))return;Q(this,Ke,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!I(this,ws).size)return!0;const o=new Set(i??I(this,ws));return this.options.throwOnError&&o.add("error"),Object.keys(I(this,Ke)).some(l=>{const u=l;return I(this,Ke)[u]!==t[u]&&o.has(u)})};le(this,me,rx).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&le(this,me,zc).call(this)}},nt=new WeakMap,ue=new WeakMap,io=new WeakMap,Ke=new WeakMap,wr=new WeakMap,ys=new WeakMap,cn=new WeakMap,Ln=new WeakMap,oo=new WeakMap,xs=new WeakMap,vs=new WeakMap,br=new WeakMap,Nr=new WeakMap,On=new WeakMap,ws=new WeakMap,me=new WeakSet,gi=function(t){le(this,me,Hc).call(this);let n=I(this,ue).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(rt)),n},Ac=function(){le(this,me,Fc).call(this);const t=Gn(this.options.staleTime,I(this,ue));if(Dr||I(this,Ke).isStale||!Tc(t))return;const r=Yy(I(this,Ke).dataUpdatedAt,t)+1;Q(this,br,fr.setTimeout(()=>{I(this,Ke).isStale||this.updateResult()},r))},Lc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(I(this,ue)):this.options.refetchInterval)??!1},Oc=function(t){le(this,me,$c).call(this),Q(this,On,t),!(Dr||Nt(this.options.enabled,I(this,ue))===!1||!Tc(I(this,On))||I(this,On)===0)&&Q(this,Nr,fr.setInterval(()=>{(this.options.refetchIntervalInBackground||sf.isFocused())&&le(this,me,gi).call(this)},I(this,On)))},zc=function(){le(this,me,Ac).call(this),le(this,me,Oc).call(this,le(this,me,Lc).call(this))},Fc=function(){I(this,br)&&(fr.clearTimeout(I(this,br)),Q(this,br,void 0))},$c=function(){I(this,Nr)&&(fr.clearInterval(I(this,Nr)),Q(this,Nr,void 0))},Hc=function(){const t=I(this,nt).getQueryCache().build(I(this,nt),this.options);if(t===I(this,ue))return;const n=I(this,ue);Q(this,ue,t),Q(this,io,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},rx=function(t){$e.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(I(this,Ke))}),I(this,nt).getQueryCache().notify({query:I(this,ue),type:"observerResultsUpdated"})})},Rm);function SN(e,t){return Nt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Jh(e,t){return SN(e,t)||e.state.data!==void 0&&Vc(e,t,t.refetchOnMount)}function Vc(e,t,n){if(Nt(t.enabled,e)!==!1&&Gn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&of(e,t)}return!1}function ep(e,t,n,r){return(e!==t||Nt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&of(e,n)}function of(e,t){return Nt(t.enabled,e)!==!1&&e.isStaleByTime(Gn(t.staleTime,e))}function kN(e,t){return!Mc(e.getCurrentResult(),t)}function tp(e){return{onFetch:(t,n)=>{var d,f,h,v,y;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let b=!1;const S=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},m=Zy(t.options,t.fetchOptions),g=async(p,x,_)=>{if(b)return Promise.reject();if(x==null&&p.pages.length)return Promise.resolve(p);const w=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:x,direction:_?"backward":"forward",meta:t.options.meta};return S(P),P})(),k=await m(w),{maxPages:E}=t.options,T=_?mN:pN;return{pages:T(p.pages,k,E),pageParams:T(p.pageParams,x,E)}};if(s&&i.length){const p=s==="backward",x=p?jN:np,_={pages:i,pageParams:o},N=x(r,_);l=await g(_,N,p)}else{const p=e??i.length;do{const x=u===0?o[0]??r.initialPageParam:np(r,l);if(u>0&&x==null)break;l=await g(l,x),u++}while(u<p)}return l};t.options.persister?t.fetchFn=()=>{var b,S;return(S=(b=t.options).persister)==null?void 0:S.call(b,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function np(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function jN(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ao,Xt,Ye,_r,Kt,En,Pm,EN=(Pm=class extends tx{constructor(t){super();ee(this,Kt);ee(this,ao);ee(this,Xt);ee(this,Ye);ee(this,_r);Q(this,ao,t.client),this.mutationId=t.mutationId,Q(this,Ye,t.mutationCache),Q(this,Xt,[]),this.state=t.state||CN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){I(this,Xt).includes(t)||(I(this,Xt).push(t),this.clearGcTimeout(),I(this,Ye).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Q(this,Xt,I(this,Xt).filter(n=>n!==t)),this.scheduleGc(),I(this,Ye).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){I(this,Xt).length||(this.state.status==="pending"?this.scheduleGc():I(this,Ye).remove(this))}continue(){var t;return((t=I(this,_r))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,u,c,d,f,h,v,y,b,S,m,g,p,x,_,N,w,k,E;const n=()=>{le(this,Kt,En).call(this,{type:"continue"})},r={client:I(this,ao),meta:this.options.meta,mutationKey:this.options.mutationKey};Q(this,_r,ex({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{le(this,Kt,En).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{le(this,Kt,En).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,Ye).canRun(this)}));const s=this.state.status==="pending",i=!I(this,_r).canStart();try{if(s)n();else{le(this,Kt,En).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=I(this,Ye).config).onMutate)==null?void 0:l.call(o,t,this,r));const P=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t,r));P!==this.state.context&&le(this,Kt,En).call(this,{type:"pending",context:P,variables:t,isPaused:i})}const T=await I(this,_r).start();return await((f=(d=I(this,Ye).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,r)),await((v=(h=this.options).onSuccess)==null?void 0:v.call(h,T,t,this.state.context,r)),await((b=(y=I(this,Ye).config).onSettled)==null?void 0:b.call(y,T,null,this.state.variables,this.state.context,this,r)),await((m=(S=this.options).onSettled)==null?void 0:m.call(S,T,null,t,this.state.context,r)),le(this,Kt,En).call(this,{type:"success",data:T}),T}catch(T){try{throw await((p=(g=I(this,Ye).config).onError)==null?void 0:p.call(g,T,t,this.state.context,this,r)),await((_=(x=this.options).onError)==null?void 0:_.call(x,T,t,this.state.context,r)),await((w=(N=I(this,Ye).config).onSettled)==null?void 0:w.call(N,void 0,T,this.state.variables,this.state.context,this,r)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,T,t,this.state.context,r)),T}finally{le(this,Kt,En).call(this,{type:"error",error:T})}}finally{I(this,Ye).runNext(this)}}},ao=new WeakMap,Xt=new WeakMap,Ye=new WeakMap,_r=new WeakMap,Kt=new WeakSet,En=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$e.batch(()=>{I(this,Xt).forEach(r=>{r.onMutationUpdate(t)}),I(this,Ye).notify({mutation:this,type:"updated",action:t})})},Pm);function CN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dn,Pt,lo,Im,TN=(Im=class extends mo{constructor(t={}){super();ee(this,dn);ee(this,Pt);ee(this,lo);this.config=t,Q(this,dn,new Set),Q(this,Pt,new Map),Q(this,lo,0)}build(t,n,r){const s=new EN({client:t,mutationCache:this,mutationId:++To(this,lo)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){I(this,dn).add(t);const n=Qo(t);if(typeof n=="string"){const r=I(this,Pt).get(n);r?r.push(t):I(this,Pt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(I(this,dn).delete(t)){const n=Qo(t);if(typeof n=="string"){const r=I(this,Pt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&I(this,Pt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Qo(t);if(typeof n=="string"){const r=I(this,Pt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Qo(t);if(typeof n=="string"){const s=(r=I(this,Pt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$e.batch(()=>{I(this,dn).forEach(t=>{this.notify({type:"removed",mutation:t})}),I(this,dn).clear(),I(this,Pt).clear()})}getAll(){return Array.from(I(this,dn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Xh(n,r))}findAll(t={}){return this.getAll().filter(n=>Xh(t,n))}notify(t){$e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return $e.batch(()=>Promise.all(t.map(n=>n.continue().catch(rt))))}},dn=new WeakMap,Pt=new WeakMap,lo=new WeakMap,Im);function Qo(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Yt,Dm,MN=(Dm=class extends mo{constructor(t={}){super();ee(this,Yt);this.config=t,Q(this,Yt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??nf(s,n);let o=this.get(i);return o||(o=new NN({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){I(this,Yt).has(t.queryHash)||(I(this,Yt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=I(this,Yt).get(t.queryHash);n&&(t.destroy(),n===t&&I(this,Yt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$e.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return I(this,Yt).get(t)}getAll(){return[...I(this,Yt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Qh(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Qh(t,r)):n}notify(t){$e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){$e.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$e.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yt=new WeakMap,Dm),Ce,zn,Fn,bs,Ns,$n,_s,Ss,Am,RN=(Am=class{constructor(e={}){ee(this,Ce);ee(this,zn);ee(this,Fn);ee(this,bs);ee(this,Ns);ee(this,$n);ee(this,_s);ee(this,Ss);Q(this,Ce,e.queryCache||new MN),Q(this,zn,e.mutationCache||new TN),Q(this,Fn,e.defaultOptions||{}),Q(this,bs,new Map),Q(this,Ns,new Map),Q(this,$n,0)}mount(){To(this,$n)._++,I(this,$n)===1&&(Q(this,_s,sf.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Ce).onFocus())})),Q(this,Ss,Ka.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Ce).onOnline())})))}unmount(){var e,t;To(this,$n)._--,I(this,$n)===0&&((e=I(this,_s))==null||e.call(this),Q(this,_s,void 0),(t=I(this,Ss))==null||t.call(this),Q(this,Ss,void 0))}isFetching(e){return I(this,Ce).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return I(this,zn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,Ce).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=I(this,Ce).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Gn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return I(this,Ce).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=I(this,Ce).get(r.queryHash),i=s==null?void 0:s.state.data,o=dN(t,i);if(o!==void 0)return I(this,Ce).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return $e.batch(()=>I(this,Ce).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,Ce).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=I(this,Ce);$e.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=I(this,Ce);return $e.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=$e.batch(()=>I(this,Ce).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(rt).catch(rt)}invalidateQueries(e,t={}){return $e.batch(()=>(I(this,Ce).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=$e.batch(()=>I(this,Ce).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(rt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(rt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=I(this,Ce).build(this,t);return n.isStaleByTime(Gn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(rt).catch(rt)}fetchInfiniteQuery(e){return e.behavior=tp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(rt).catch(rt)}ensureInfiniteQueryData(e){return e.behavior=tp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ka.isOnline()?I(this,zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,Ce)}getMutationCache(){return I(this,zn)}getDefaultOptions(){return I(this,Fn)}setDefaultOptions(e){Q(this,Fn,e)}setQueryDefaults(e,t){I(this,bs).set(Qi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...I(this,bs).values()],n={};return t.forEach(r=>{Xi(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){I(this,Ns).set(Qi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...I(this,Ns).values()],n={};return t.forEach(r=>{Xi(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...I(this,Fn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===rf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...I(this,Fn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){I(this,Ce).clear(),I(this,zn).clear()}},Ce=new WeakMap,zn=new WeakMap,Fn=new WeakMap,bs=new WeakMap,Ns=new WeakMap,$n=new WeakMap,_s=new WeakMap,Ss=new WeakMap,Am),sx=R.createContext(void 0),PN=e=>{const t=R.useContext(sx);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},IN=({client:e,children:t})=>(R.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(sx.Provider,{value:e,children:t})),ix=R.createContext(!1),DN=()=>R.useContext(ix);ix.Provider;function AN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var LN=R.createContext(AN()),ON=()=>R.useContext(LN),zN=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},FN=e=>{R.useEffect(()=>{e.clearReset()},[e])},$N=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||gN(n,[e.error,r])),HN=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},VN=(e,t)=>e.isLoading&&e.isFetching&&!t,UN=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,rp=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function BN(e,t,n){var f,h,v,y,b;const r=DN(),s=ON(),i=PN(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",HN(o),zN(o,s),FN(s);const l=!i.getQueryCache().get(o.queryHash),[u]=R.useState(()=>new t(i,o)),c=u.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(S=>{const m=d?u.subscribe($e.batchCalls(S)):rt;return u.updateResult(),m},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),R.useEffect(()=>{u.setOptions(o)},[o,u]),UN(o,c))throw rp(o,u,s);if($N({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((y=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||y.call(v,o,c),o.experimental_prefetchInRender&&!Dr&&VN(c,r)){const S=l?rp(o,u,s):(b=i.getQueryCache().get(o.queryHash))==null?void 0:b.promise;S==null||S.catch(rt).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function WN(e,t){return BN(e,_N)}const lr=class lr{constructor(){Xl(this,"nodes",new Map)}static getInstance(){return lr.instance||(lr.instance=new lr),lr.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t),console.log(`[Registry] Registered node: ${t.label} (${t.type})`)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(n=>{t[n.category]||(t[n.category]=[]),t[n.category].push(n)}),t}};Xl(lr,"instance");let Uc=lr;const be=Uc.getInstance(),qN={},sp=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const v=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,v))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(qN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,u);return u},ox=e=>e?sp(e):sp;var ax={exports:{}},lx={},ux={exports:{}},cx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ps=R;function QN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XN=typeof Object.is=="function"?Object.is:QN,KN=Ps.useState,YN=Ps.useEffect,GN=Ps.useLayoutEffect,ZN=Ps.useDebugValue;function JN(e,t){var n=t(),r=KN({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return GN(function(){s.value=n,s.getSnapshot=t,Nu(s)&&i({inst:s})},[e,n,t]),YN(function(){return Nu(s)&&i({inst:s}),e(function(){Nu(s)&&i({inst:s})})},[e]),ZN(n),n}function Nu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!XN(e,n)}catch{return!0}}function e2(e,t){return t()}var t2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?e2:JN;cx.useSyncExternalStore=Ps.useSyncExternalStore!==void 0?Ps.useSyncExternalStore:t2;ux.exports=cx;var n2=ux.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=R,r2=n2;function s2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var i2=typeof Object.is=="function"?Object.is:s2,o2=r2.useSyncExternalStore,a2=jl.useRef,l2=jl.useEffect,u2=jl.useMemo,c2=jl.useDebugValue;lx.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=a2(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=u2(function(){function u(v){if(!c){if(c=!0,d=v,v=r(v),s!==void 0&&o.hasValue){var y=o.value;if(s(y,v))return f=y}return f=v}if(y=f,i2(d,v))return y;var b=r(v);return s!==void 0&&s(y,b)?(d=v,y):(d=v,f=b)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,n,r,s]);var l=o2(e,i[0],i[1]);return l2(function(){o.hasValue=!0,o.value=l},[l]),c2(l),l};ax.exports=lx;var d2=ax.exports;const dx=Lm(d2),fx={},{useDebugValue:f2}=Ot,{useSyncExternalStoreWithSelector:h2}=dx;let ip=!1;const p2=e=>e;function m2(e,t=p2,n){(fx?"production":void 0)!=="production"&&n&&!ip&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ip=!0);const r=h2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return f2(r),r}const op=e=>{(fx?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?ox(e):e,n=(r,s)=>m2(t,r,s);return Object.assign(n,t),n},g2=e=>e?op(e):op;function Ie(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ie(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var y2={value:()=>{}};function El(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ya(n)}function ya(e){this._=e}function x2(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ya.prototype=El.prototype={constructor:ya,on:function(e,t){var n=this._,r=x2(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=v2(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=ap(n[s],e.name,t);else if(t==null)for(s in n)n[s]=ap(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ya(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function v2(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function ap(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=y2,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Bc="http://www.w3.org/1999/xhtml";const lp={svg:"http://www.w3.org/2000/svg",xhtml:Bc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),lp.hasOwnProperty(t)?{space:lp[t],local:e}:e}function w2(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Bc&&t.documentElement.namespaceURI===Bc?t.createElement(e):t.createElementNS(n,e)}}function b2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hx(e){var t=Cl(e);return(t.local?b2:w2)(t)}function N2(){}function af(e){return e==null?N2:function(){return this.querySelector(e)}}function _2(e){typeof e!="function"&&(e=af(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=new Array(o),u,c,d=0;d<o;++d)(u=i[d])&&(c=e.call(u,u.__data__,d,i))&&("__data__"in u&&(c.__data__=u.__data__),l[d]=c);return new yt(r,this._parents)}function S2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function k2(){return[]}function px(e){return e==null?k2:function(){return this.querySelectorAll(e)}}function j2(e){return function(){return S2(e.apply(this,arguments))}}function E2(e){typeof e=="function"?e=j2(e):e=px(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],l=o.length,u,c=0;c<l;++c)(u=o[c])&&(r.push(e.call(u,u.__data__,c,o)),s.push(u));return new yt(r,s)}function mx(e){return function(){return this.matches(e)}}function gx(e){return function(t){return t.matches(e)}}var C2=Array.prototype.find;function T2(e){return function(){return C2.call(this.children,e)}}function M2(){return this.firstElementChild}function R2(e){return this.select(e==null?M2:T2(typeof e=="function"?e:gx(e)))}var P2=Array.prototype.filter;function I2(){return Array.from(this.children)}function D2(e){return function(){return P2.call(this.children,e)}}function A2(e){return this.selectAll(e==null?I2:D2(typeof e=="function"?e:gx(e)))}function L2(e){typeof e!="function"&&(e=mx(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],u,c=0;c<o;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&l.push(u);return new yt(r,this._parents)}function yx(e){return new Array(e.length)}function O2(){return new yt(this._enter||this._groups.map(yx),this._parents)}function Ya(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ya.prototype={constructor:Ya,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function z2(e){return function(){return e}}function F2(e,t,n,r,s,i){for(var o=0,l,u=t.length,c=i.length;o<c;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new Ya(e,i[o]);for(;o<u;++o)(l=t[o])&&(s[o]=l)}function $2(e,t,n,r,s,i,o){var l,u,c=new Map,d=t.length,f=i.length,h=new Array(d),v;for(l=0;l<d;++l)(u=t[l])&&(h[l]=v=o.call(u,u.__data__,l,t)+"",c.has(v)?s[l]=u:c.set(v,u));for(l=0;l<f;++l)v=o.call(e,i[l],l,i)+"",(u=c.get(v))?(r[l]=u,u.__data__=i[l],c.delete(v)):n[l]=new Ya(e,i[l]);for(l=0;l<d;++l)(u=t[l])&&c.get(h[l])===u&&(s[l]=u)}function H2(e){return e.__data__}function V2(e,t){if(!arguments.length)return Array.from(this,H2);var n=t?$2:F2,r=this._parents,s=this._groups;typeof e!="function"&&(e=z2(e));for(var i=s.length,o=new Array(i),l=new Array(i),u=new Array(i),c=0;c<i;++c){var d=r[c],f=s[c],h=f.length,v=U2(e.call(d,d&&d.__data__,c,r)),y=v.length,b=l[c]=new Array(y),S=o[c]=new Array(y),m=u[c]=new Array(h);n(d,f,b,S,m,v,t);for(var g=0,p=0,x,_;g<y;++g)if(x=b[g]){for(g>=p&&(p=g+1);!(_=S[p])&&++p<y;);x._next=_||null}}return o=new yt(o,r),o._enter=l,o._exit=u,o}function U2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function B2(){return new yt(this._exit||this._groups.map(yx),this._parents)}function W2(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function q2(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),l=new Array(s),u=0;u<o;++u)for(var c=n[u],d=r[u],f=c.length,h=l[u]=new Array(f),v,y=0;y<f;++y)(v=c[y]||d[y])&&(h[y]=v);for(;u<s;++u)l[u]=n[u];return new yt(l,this._parents)}function Q2(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function X2(e){e||(e=K2);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,u=s[i]=new Array(l),c,d=0;d<l;++d)(c=o[d])&&(u[d]=c);u.sort(t)}return new yt(s,this._parents).order()}function K2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Y2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function G2(){return Array.from(this)}function Z2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function J2(){let e=0;for(const t of this)++e;return e}function e_(){return!this.node()}function t_(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,l;i<o;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function n_(e){return function(){this.removeAttribute(e)}}function r_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function s_(e,t){return function(){this.setAttribute(e,t)}}function i_(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function o_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function a_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function l_(e,t){var n=Cl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?r_:n_:typeof t=="function"?n.local?a_:o_:n.local?i_:s_)(n,t))}function xx(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function u_(e){return function(){this.style.removeProperty(e)}}function c_(e,t,n){return function(){this.style.setProperty(e,t,n)}}function d_(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function f_(e,t,n){return arguments.length>1?this.each((t==null?u_:typeof t=="function"?d_:c_)(e,t,n??"")):Is(this.node(),e)}function Is(e,t){return e.style.getPropertyValue(t)||xx(e).getComputedStyle(e,null).getPropertyValue(t)}function h_(e){return function(){delete this[e]}}function p_(e,t){return function(){this[e]=t}}function m_(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function g_(e,t){return arguments.length>1?this.each((t==null?h_:typeof t=="function"?m_:p_)(e,t)):this.node()[e]}function vx(e){return e.trim().split(/^|\s+/)}function lf(e){return e.classList||new wx(e)}function wx(e){this._node=e,this._names=vx(e.getAttribute("class")||"")}wx.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function bx(e,t){for(var n=lf(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function Nx(e,t){for(var n=lf(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function y_(e){return function(){bx(this,e)}}function x_(e){return function(){Nx(this,e)}}function v_(e,t){return function(){(t.apply(this,arguments)?bx:Nx)(this,e)}}function w_(e,t){var n=vx(e+"");if(arguments.length<2){for(var r=lf(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?v_:t?y_:x_)(n,t))}function b_(){this.textContent=""}function N_(e){return function(){this.textContent=e}}function __(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function S_(e){return arguments.length?this.each(e==null?b_:(typeof e=="function"?__:N_)(e)):this.node().textContent}function k_(){this.innerHTML=""}function j_(e){return function(){this.innerHTML=e}}function E_(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function C_(e){return arguments.length?this.each(e==null?k_:(typeof e=="function"?E_:j_)(e)):this.node().innerHTML}function T_(){this.nextSibling&&this.parentNode.appendChild(this)}function M_(){return this.each(T_)}function R_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function P_(){return this.each(R_)}function I_(e){var t=typeof e=="function"?e:hx(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function D_(){return null}function A_(e,t){var n=typeof e=="function"?e:hx(e),r=t==null?D_:typeof t=="function"?t:af(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function L_(){var e=this.parentNode;e&&e.removeChild(this)}function O_(){return this.each(L_)}function z_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function F_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $_(e){return this.select(e?F_:z_)}function H_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function V_(e){return function(t){e.call(this,t,this.__data__)}}function U_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function B_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function W_(e,t,n){return function(){var r=this.__on,s,i=V_(t);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function q_(e,t,n){var r=U_(e+""),s,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,c=l.length,d;u<c;++u)for(s=0,d=l[u];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?W_:B_,s=0;s<i;++s)this.each(l(r[s],t,n));return this}function _x(e,t,n){var r=xx(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Q_(e,t){return function(){return _x(this,e,t)}}function X_(e,t){return function(){return _x(this,e,t.apply(this,arguments))}}function K_(e,t){return this.each((typeof t=="function"?X_:Q_)(e,t))}function*Y_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var Sx=[null];function yt(e,t){this._groups=e,this._parents=t}function go(){return new yt([[document.documentElement]],Sx)}function G_(){return this}yt.prototype=go.prototype={constructor:yt,select:_2,selectAll:E2,selectChild:R2,selectChildren:A2,filter:L2,data:V2,enter:O2,exit:B2,join:W2,merge:q2,selection:G_,order:Q2,sort:X2,call:Y2,nodes:G2,node:Z2,size:J2,empty:e_,each:t_,attr:l_,style:f_,property:g_,classed:w_,text:S_,html:C_,raise:M_,lower:P_,append:I_,insert:A_,remove:O_,clone:$_,datum:H_,on:q_,dispatch:K_,[Symbol.iterator]:Y_};function ht(e){return typeof e=="string"?new yt([[document.querySelector(e)]],[document.documentElement]):new yt([[e]],Sx)}function Z_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Dt(e,t){if(e=Z_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const J_={passive:!1},Ki={capture:!0,passive:!1};function _u(e){e.stopImmediatePropagation()}function ds(e){e.preventDefault(),e.stopImmediatePropagation()}function kx(e){var t=e.document.documentElement,n=ht(e).on("dragstart.drag",ds,Ki);"onselectstart"in t?n.on("selectstart.drag",ds,Ki):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function jx(e,t){var n=e.document.documentElement,r=ht(e).on("dragstart.drag",null);t&&(r.on("click.drag",ds,Ki),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Xo=e=>()=>e;function Wc(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:l,dx:u,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Wc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function eS(e){return!e.ctrlKey&&!e.button}function tS(){return this.parentNode}function nS(e,t){return t??{x:e.x,y:e.y}}function rS(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ex(){var e=eS,t=tS,n=nS,r=rS,s={},i=El("start","drag","end"),o=0,l,u,c,d,f=0;function h(x){x.on("mousedown.drag",v).filter(r).on("touchstart.drag",S).on("touchmove.drag",m,J_).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(x,_){if(!(d||!e.call(this,x,_))){var N=p(this,t.call(this,x,_),x,_,"mouse");N&&(ht(x.view).on("mousemove.drag",y,Ki).on("mouseup.drag",b,Ki),kx(x.view),_u(x),c=!1,l=x.clientX,u=x.clientY,N("start",x))}}function y(x){if(ds(x),!c){var _=x.clientX-l,N=x.clientY-u;c=_*_+N*N>f}s.mouse("drag",x)}function b(x){ht(x.view).on("mousemove.drag mouseup.drag",null),jx(x.view,c),ds(x),s.mouse("end",x)}function S(x,_){if(e.call(this,x,_)){var N=x.changedTouches,w=t.call(this,x,_),k=N.length,E,T;for(E=0;E<k;++E)(T=p(this,w,x,_,N[E].identifier,N[E]))&&(_u(x),T("start",x,N[E]))}}function m(x){var _=x.changedTouches,N=_.length,w,k;for(w=0;w<N;++w)(k=s[_[w].identifier])&&(ds(x),k("drag",x,_[w]))}function g(x){var _=x.changedTouches,N=_.length,w,k;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),w=0;w<N;++w)(k=s[_[w].identifier])&&(_u(x),k("end",x,_[w]))}function p(x,_,N,w,k,E){var T=i.copy(),P=Dt(E||N,_),A,z,j;if((j=n.call(x,new Wc("beforestart",{sourceEvent:N,target:h,identifier:k,active:o,x:P[0],y:P[1],dx:0,dy:0,dispatch:T}),w))!=null)return A=j.x-P[0]||0,z=j.y-P[1]||0,function O(D,L,C){var M=P,F;switch(D){case"start":s[k]=O,F=o++;break;case"end":delete s[k],--o;case"drag":P=Dt(C||L,_),F=o;break}T.call(D,x,new Wc(D,{sourceEvent:L,subject:j,target:h,identifier:k,active:F,x:P[0]+A,y:P[1]+z,dx:P[0]-M[0],dy:P[1]-M[1],dispatch:T}),w)}}return h.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Xo(!!x),h):e},h.container=function(x){return arguments.length?(t=typeof x=="function"?x:Xo(x),h):t},h.subject=function(x){return arguments.length?(n=typeof x=="function"?x:Xo(x),h):n},h.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:Xo(!!x),h):r},h.on=function(){var x=i.on.apply(i,arguments);return x===i?h:x},h.clickDistance=function(x){return arguments.length?(f=(x=+x)*x,h):Math.sqrt(f)},h}function uf(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Cx(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function yo(){}var Yi=.7,Ga=1/Yi,fs="\\s*([+-]?\\d+)\\s*",Gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sS=/^#([0-9a-f]{3,8})$/,iS=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),oS=new RegExp(`^rgb\\(${tn},${tn},${tn}\\)$`),aS=new RegExp(`^rgba\\(${fs},${fs},${fs},${Gi}\\)$`),lS=new RegExp(`^rgba\\(${tn},${tn},${tn},${Gi}\\)$`),uS=new RegExp(`^hsl\\(${Gi},${tn},${tn}\\)$`),cS=new RegExp(`^hsla\\(${Gi},${tn},${tn},${Gi}\\)$`),up={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uf(yo,Ar,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cp,formatHex:cp,formatHex8:dS,formatHsl:fS,formatRgb:dp,toString:dp});function cp(){return this.rgb().formatHex()}function dS(){return this.rgb().formatHex8()}function fS(){return Tx(this).formatHsl()}function dp(){return this.rgb().formatRgb()}function Ar(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fp(t):n===3?new ot(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ko(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ko(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iS.exec(e))?new ot(t[1],t[2],t[3],1):(t=oS.exec(e))?new ot(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aS.exec(e))?Ko(t[1],t[2],t[3],t[4]):(t=lS.exec(e))?Ko(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uS.exec(e))?mp(t[1],t[2]/100,t[3]/100,1):(t=cS.exec(e))?mp(t[1],t[2]/100,t[3]/100,t[4]):up.hasOwnProperty(e)?fp(up[e]):e==="transparent"?new ot(NaN,NaN,NaN,0):null}function fp(e){return new ot(e>>16&255,e>>8&255,e&255,1)}function Ko(e,t,n,r){return r<=0&&(e=t=n=NaN),new ot(e,t,n,r)}function hS(e){return e instanceof yo||(e=Ar(e)),e?(e=e.rgb(),new ot(e.r,e.g,e.b,e.opacity)):new ot}function qc(e,t,n,r){return arguments.length===1?hS(e):new ot(e,t,n,r??1)}function ot(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}uf(ot,qc,Cx(yo,{brighter(e){return e=e==null?Ga:Math.pow(Ga,e),new ot(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yi:Math.pow(Yi,e),new ot(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ot(jr(this.r),jr(this.g),jr(this.b),Za(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hp,formatHex:hp,formatHex8:pS,formatRgb:pp,toString:pp}));function hp(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}`}function pS(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}${hr((isNaN(this.opacity)?1:this.opacity)*255)}`}function pp(){const e=Za(this.opacity);return`${e===1?"rgb(":"rgba("}${jr(this.r)}, ${jr(this.g)}, ${jr(this.b)}${e===1?")":`, ${e})`}`}function Za(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hr(e){return e=jr(e),(e<16?"0":"")+e.toString(16)}function mp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Lt(e,t,n,r)}function Tx(e){if(e instanceof Lt)return new Lt(e.h,e.s,e.l,e.opacity);if(e instanceof yo||(e=Ar(e)),!e)return new Lt;if(e instanceof Lt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-s,u=(i+s)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?i+s:2-i-s,o*=60):l=u>0&&u<1?0:o,new Lt(o,l,u,e.opacity)}function mS(e,t,n,r){return arguments.length===1?Tx(e):new Lt(e,t,n,r??1)}function Lt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}uf(Lt,mS,Cx(yo,{brighter(e){return e=e==null?Ga:Math.pow(Ga,e),new Lt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yi:Math.pow(Yi,e),new Lt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new ot(Su(e>=240?e-240:e+120,s,r),Su(e,s,r),Su(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Lt(gp(this.h),Yo(this.s),Yo(this.l),Za(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Za(this.opacity);return`${e===1?"hsl(":"hsla("}${gp(this.h)}, ${Yo(this.s)*100}%, ${Yo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gp(e){return e=(e||0)%360,e<0?e+360:e}function Yo(e){return Math.max(0,Math.min(1,e||0))}function Su(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const cf=e=>()=>e;function gS(e,t){return function(n){return e+n*t}}function yS(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function xS(e){return(e=+e)==1?Mx:function(t,n){return n-t?yS(t,n,e):cf(isNaN(t)?n:t)}}function Mx(e,t){var n=t-e;return n?gS(e,n):cf(isNaN(e)?t:e)}const Ja=function e(t){var n=xS(t);function r(s,i){var o=n((s=qc(s)).r,(i=qc(i)).r),l=n(s.g,i.g),u=n(s.b,i.b),c=Mx(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=u(d),s.opacity=c(d),s+""}}return r.gamma=e,r}(1);function vS(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function wS(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bS(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Ci(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=s[o](l);return i}}function NS(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Gt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _S(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Ci(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var Qc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ku=new RegExp(Qc.source,"g");function SS(e){return function(){return e}}function kS(e){return function(t){return e(t)+""}}function Rx(e,t){var n=Qc.lastIndex=ku.lastIndex=0,r,s,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=Qc.exec(e))&&(s=ku.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,u.push({i:o,x:Gt(r,s)})),n=ku.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?kS(u[0].x):SS(t):(t=u.length,function(c){for(var d=0,f;d<t;++d)l[(f=u[d]).i]=f.x(c);return l.join("")})}function Ci(e,t){var n=typeof t,r;return t==null||n==="boolean"?cf(t):(n==="number"?Gt:n==="string"?(r=Ar(t))?(t=r,Ja):Rx:t instanceof Ar?Ja:t instanceof Date?NS:wS(t)?vS:Array.isArray(t)?bS:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_S:Gt)(e,t)}var yp=180/Math.PI,Xc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Px(e,t,n,r,s,i){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*yp,skewX:Math.atan(u)*yp,scaleX:o,scaleY:l}}var Go;function jS(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Xc:Px(t.a,t.b,t.c,t.d,t.e,t.f)}function ES(e){return e==null||(Go||(Go=document.createElementNS("http://www.w3.org/2000/svg","g")),Go.setAttribute("transform",e),!(e=Go.transform.baseVal.consolidate()))?Xc:(e=e.matrix,Px(e.a,e.b,e.c,e.d,e.e,e.f))}function Ix(e,t,n,r){function s(c){return c.length?c.pop()+" ":""}function i(c,d,f,h,v,y){if(c!==f||d!==h){var b=v.push("translate(",null,t,null,n);y.push({i:b-4,x:Gt(c,f)},{i:b-2,x:Gt(d,h)})}else(f||h)&&v.push("translate("+f+t+h+n)}function o(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(s(f)+"rotate(",null,r)-2,x:Gt(c,d)})):d&&f.push(s(f)+"rotate("+d+r)}function l(c,d,f,h){c!==d?h.push({i:f.push(s(f)+"skewX(",null,r)-2,x:Gt(c,d)}):d&&f.push(s(f)+"skewX("+d+r)}function u(c,d,f,h,v,y){if(c!==f||d!==h){var b=v.push(s(v)+"scale(",null,",",null,")");y.push({i:b-4,x:Gt(c,f)},{i:b-2,x:Gt(d,h)})}else(f!==1||h!==1)&&v.push(s(v)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=e(c),d=e(d),i(c.translateX,c.translateY,d.translateX,d.translateY,f,h),o(c.rotate,d.rotate,f,h),l(c.skewX,d.skewX,f,h),u(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(v){for(var y=-1,b=h.length,S;++y<b;)f[(S=h[y]).i]=S.x(v);return f.join("")}}}var CS=Ix(jS,"px, ","px)","deg)"),TS=Ix(ES,", ",")",")"),MS=1e-12;function xp(e){return((e=Math.exp(e))+1/e)/2}function RS(e){return((e=Math.exp(e))-1/e)/2}function PS(e){return((e=Math.exp(2*e))-1)/(e+1)}const xa=function e(t,n,r){function s(i,o){var l=i[0],u=i[1],c=i[2],d=o[0],f=o[1],h=o[2],v=d-l,y=f-u,b=v*v+y*y,S,m;if(b<MS)m=Math.log(h/c)/t,S=function(w){return[l+w*v,u+w*y,c*Math.exp(t*w*m)]};else{var g=Math.sqrt(b),p=(h*h-c*c+r*b)/(2*c*n*g),x=(h*h-c*c-r*b)/(2*h*n*g),_=Math.log(Math.sqrt(p*p+1)-p),N=Math.log(Math.sqrt(x*x+1)-x);m=(N-_)/t,S=function(w){var k=w*m,E=xp(_),T=c/(n*g)*(E*PS(t*k+_)-RS(_));return[l+T*v,u+T*y,c*E/xp(t*k+_)]}}return S.duration=m*1e3*t/Math.SQRT2,S}return s.rho=function(i){var o=Math.max(.001,+i),l=o*o,u=l*l;return e(o,l,u)},s}(Math.SQRT2,2,4);var Ds=0,yi=0,ui=0,Dx=1e3,el,xi,tl=0,Lr=0,Tl=0,Zi=typeof performance=="object"&&performance.now?performance:Date,Ax=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function df(){return Lr||(Ax(IS),Lr=Zi.now()+Tl)}function IS(){Lr=0}function nl(){this._call=this._time=this._next=null}nl.prototype=Lx.prototype={constructor:nl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?df():+n)+(t==null?0:+t),!this._next&&xi!==this&&(xi?xi._next=this:el=this,xi=this),this._call=e,this._time=n,Kc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kc())}};function Lx(e,t,n){var r=new nl;return r.restart(e,t,n),r}function DS(){df(),++Ds;for(var e=el,t;e;)(t=Lr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ds}function vp(){Lr=(tl=Zi.now())+Tl,Ds=yi=0;try{DS()}finally{Ds=0,LS(),Lr=0}}function AS(){var e=Zi.now(),t=e-tl;t>Dx&&(Tl-=t,tl=e)}function LS(){for(var e,t=el,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:el=n);xi=e,Kc(r)}function Kc(e){if(!Ds){yi&&(yi=clearTimeout(yi));var t=e-Lr;t>24?(e<1/0&&(yi=setTimeout(vp,e-Zi.now()-Tl)),ui&&(ui=clearInterval(ui))):(ui||(tl=Zi.now(),ui=setInterval(AS,Dx)),Ds=1,Ax(vp))}}function wp(e,t,n){var r=new nl;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var OS=El("start","end","cancel","interrupt"),zS=[],Ox=0,bp=1,Yc=2,va=3,Np=4,Gc=5,wa=6;function Ml(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;FS(e,n,{name:t,index:r,group:s,on:OS,tween:zS,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Ox})}function ff(e,t){var n=Ut(e,t);if(n.state>Ox)throw new Error("too late; already scheduled");return n}function rn(e,t){var n=Ut(e,t);if(n.state>va)throw new Error("too late; already running");return n}function Ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function FS(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=Lx(i,0,n.time);function i(c){n.state=bp,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,f,h,v;if(n.state!==bp)return u();for(d in r)if(v=r[d],v.name===n.name){if(v.state===va)return wp(o);v.state===Np?(v.state=wa,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[d]):+d<t&&(v.state=wa,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[d])}if(wp(function(){n.state===va&&(n.state=Np,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Yc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Yc){for(n.state=va,s=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(v=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=v);s.length=f+1}}function l(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Gc,1),f=-1,h=s.length;++f<h;)s[f].call(e,d);n.state===Gc&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=wa,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function ba(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>Yc&&r.state<Gc,r.state=wa,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function $S(e){return this.each(function(){ba(this,e)})}function HS(e,t){var n,r;return function(){var s=rn(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function VS(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=rn(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var l={name:t,value:n},u=0,c=s.length;u<c;++u)if(s[u].name===t){s[u]=l;break}u===c&&s.push(l)}i.tween=s}}function US(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ut(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?HS:VS)(n,e,t))}function hf(e,t,n){var r=e._id;return e.each(function(){var s=rn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Ut(s,r).value[t]}}function zx(e,t){var n;return(typeof t=="number"?Gt:t instanceof Ar?Ja:(n=Ar(t))?(t=n,Ja):Rx)(e,t)}function BS(e){return function(){this.removeAttribute(e)}}function WS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qS(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function QS(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function XS(e,t,n){var r,s,i;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,l)))}}function KS(e,t,n){var r,s,i;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,l)))}}function YS(e,t){var n=Cl(e),r=n==="transform"?TS:zx;return this.attrTween(e,typeof t=="function"?(n.local?KS:XS)(n,r,hf(this,"attr."+e,t)):t==null?(n.local?WS:BS)(n):(n.local?QS:qS)(n,r,t))}function GS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ZS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function JS(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&ZS(e,i)),n}return s._value=t,s}function ek(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&GS(e,i)),n}return s._value=t,s}function tk(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Cl(e);return this.tween(n,(r.local?JS:ek)(r,t))}function nk(e,t){return function(){ff(this,e).delay=+t.apply(this,arguments)}}function rk(e,t){return t=+t,function(){ff(this,e).delay=t}}function sk(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nk:rk)(t,e)):Ut(this.node(),t).delay}function ik(e,t){return function(){rn(this,e).duration=+t.apply(this,arguments)}}function ok(e,t){return t=+t,function(){rn(this,e).duration=t}}function ak(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ik:ok)(t,e)):Ut(this.node(),t).duration}function lk(e,t){if(typeof t!="function")throw new Error;return function(){rn(this,e).ease=t}}function uk(e){var t=this._id;return arguments.length?this.each(lk(t,e)):Ut(this.node(),t).ease}function ck(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;rn(this,e).ease=n}}function dk(e){if(typeof e!="function")throw new Error;return this.each(ck(this._id,e))}function fk(e){typeof e!="function"&&(e=mx(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],u,c=0;c<o;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&l.push(u);return new wn(r,this._parents,this._name,this._id)}function hk(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),l=0;l<i;++l)for(var u=t[l],c=n[l],d=u.length,f=o[l]=new Array(d),h,v=0;v<d;++v)(h=u[v]||c[v])&&(f[v]=h);for(;l<r;++l)o[l]=t[l];return new wn(o,this._parents,this._name,this._id)}function pk(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function mk(e,t,n){var r,s,i=pk(t)?ff:rn;return function(){var o=i(this,e),l=o.on;l!==r&&(s=(r=l).copy()).on(t,n),o.on=s}}function gk(e,t){var n=this._id;return arguments.length<2?Ut(this.node(),n).on.on(e):this.each(mk(n,e,t))}function yk(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function xk(){return this.on("end.remove",yk(this._id))}function vk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=af(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var l=r[o],u=l.length,c=i[o]=new Array(u),d,f,h=0;h<u;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,Ml(c[h],t,n,h,c,Ut(d,n)));return new wn(i,this._parents,t,n)}function wk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=px(e));for(var r=this._groups,s=r.length,i=[],o=[],l=0;l<s;++l)for(var u=r[l],c=u.length,d,f=0;f<c;++f)if(d=u[f]){for(var h=e.call(d,d.__data__,f,u),v,y=Ut(d,n),b=0,S=h.length;b<S;++b)(v=h[b])&&Ml(v,t,n,b,h,y);i.push(h),o.push(d)}return new wn(i,o,t,n)}var bk=go.prototype.constructor;function Nk(){return new bk(this._groups,this._parents)}function _k(e,t){var n,r,s;return function(){var i=Is(this,e),o=(this.style.removeProperty(e),Is(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function Fx(e){return function(){this.style.removeProperty(e)}}function Sk(e,t,n){var r,s=n+"",i;return function(){var o=Is(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function kk(e,t,n){var r,s,i;return function(){var o=Is(this,e),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),Is(this,e))),o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,l))}}function jk(e,t){var n,r,s,i="style."+t,o="end."+i,l;return function(){var u=rn(this,e),c=u.on,d=u.value[i]==null?l||(l=Fx(t)):void 0;(c!==n||s!==d)&&(r=(n=c).copy()).on(o,s=d),u.on=r}}function Ek(e,t,n){var r=(e+="")=="transform"?CS:zx;return t==null?this.styleTween(e,_k(e,r)).on("end.style."+e,Fx(e)):typeof t=="function"?this.styleTween(e,kk(e,r,hf(this,"style."+e,t))).each(jk(this._id,e)):this.styleTween(e,Sk(e,r,t),n).on("end.style."+e,null)}function Ck(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Tk(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&Ck(e,o,n)),r}return i._value=t,i}function Mk(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Tk(e,t,n??""))}function Rk(e){return function(){this.textContent=e}}function Pk(e){return function(){var t=e(this);this.textContent=t??""}}function Ik(e){return this.tween("text",typeof e=="function"?Pk(hf(this,"text",e)):Rk(e==null?"":e+""))}function Dk(e){return function(t){this.textContent=e.call(this,t)}}function Ak(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Dk(s)),t}return r._value=e,r}function Lk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ak(e))}function Ok(){for(var e=this._name,t=this._id,n=$x(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,u,c=0;c<l;++c)if(u=o[c]){var d=Ut(u,t);Ml(u,e,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new wn(r,this._parents,e,n)}function zk(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var l={value:o},u={value:function(){--s===0&&i()}};n.each(function(){var c=rn(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),c.on=t}),s===0&&i()})}var Fk=0;function wn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function $x(){return++Fk}var on=go.prototype;wn.prototype={constructor:wn,select:vk,selectAll:wk,selectChild:on.selectChild,selectChildren:on.selectChildren,filter:fk,merge:hk,selection:Nk,transition:Ok,call:on.call,nodes:on.nodes,node:on.node,size:on.size,empty:on.empty,each:on.each,on:gk,attr:YS,attrTween:tk,style:Ek,styleTween:Mk,text:Ik,textTween:Lk,remove:xk,tween:US,delay:sk,duration:ak,ease:uk,easeVarying:dk,end:zk,[Symbol.iterator]:on[Symbol.iterator]};function $k(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Hk={time:null,delay:0,duration:250,ease:$k};function Vk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Uk(e){var t,n;e instanceof wn?(t=e._id,e=e._name):(t=$x(),(n=Hk).time=df(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,u,c=0;c<l;++c)(u=o[c])&&Ml(u,e,t,c,o,n||Vk(u,t));return new wn(r,this._parents,e,t)}go.prototype.interrupt=$S;go.prototype.transition=Uk;const Zo=e=>()=>e;function Bk(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function pn(e,t,n){this.k=e,this.x=t,this.y=n}pn.prototype={constructor:pn,scale:function(e){return e===1?this:new pn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Rl=new pn(1,0,0);Hx.prototype=pn.prototype;function Hx(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Rl;return e.__zoom}function ju(e){e.stopImmediatePropagation()}function ci(e){e.preventDefault(),e.stopImmediatePropagation()}function Wk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function qk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function _p(){return this.__zoom||Rl}function Qk(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Xk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kk(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Vx(){var e=Wk,t=qk,n=Kk,r=Qk,s=Xk,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=xa,c=El("start","zoom","end"),d,f,h,v=500,y=150,b=0,S=10;function m(j){j.property("__zoom",_p).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",T).filter(s).on("touchstart.zoom",P).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(j,O,D,L){var C=j.selection?j.selection():j;C.property("__zoom",_p),j!==C?_(j,O,D,L):C.interrupt().each(function(){N(this,arguments).event(L).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},m.scaleBy=function(j,O,D,L){m.scaleTo(j,function(){var C=this.__zoom.k,M=typeof O=="function"?O.apply(this,arguments):O;return C*M},D,L)},m.scaleTo=function(j,O,D,L){m.transform(j,function(){var C=t.apply(this,arguments),M=this.__zoom,F=D==null?x(C):typeof D=="function"?D.apply(this,arguments):D,H=M.invert(F),V=typeof O=="function"?O.apply(this,arguments):O;return n(p(g(M,V),F,H),C,o)},D,L)},m.translateBy=function(j,O,D,L){m.transform(j,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),o)},null,L)},m.translateTo=function(j,O,D,L,C){m.transform(j,function(){var M=t.apply(this,arguments),F=this.__zoom,H=L==null?x(M):typeof L=="function"?L.apply(this,arguments):L;return n(Rl.translate(H[0],H[1]).scale(F.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof D=="function"?-D.apply(this,arguments):-D),M,o)},L,C)};function g(j,O){return O=Math.max(i[0],Math.min(i[1],O)),O===j.k?j:new pn(O,j.x,j.y)}function p(j,O,D){var L=O[0]-D[0]*j.k,C=O[1]-D[1]*j.k;return L===j.x&&C===j.y?j:new pn(j.k,L,C)}function x(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function _(j,O,D,L){j.on("start.zoom",function(){N(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(L).end()}).tween("zoom",function(){var C=this,M=arguments,F=N(C,M).event(L),H=t.apply(C,M),V=D==null?x(H):typeof D=="function"?D.apply(C,M):D,q=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),B=C.__zoom,K=typeof O=="function"?O.apply(C,M):O,Y=u(B.invert(V).concat(q/B.k),K.invert(V).concat(q/K.k));return function(Z){if(Z===1)Z=K;else{var W=Y(Z),J=q/W[2];Z=new pn(J,V[0]-W[0]*J,V[1]-W[1]*J)}F.zoom(null,Z)}})}function N(j,O,D){return!D&&j.__zooming||new w(j,O)}function w(j,O){this.that=j,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(j,O),this.taps=0}w.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,O){return this.mouse&&j!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var O=ht(this.that).datum();c.call(j,this.that,new Bk(j,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:c}),O)}};function k(j,...O){if(!e.apply(this,arguments))return;var D=N(this,O).event(j),L=this.__zoom,C=Math.max(i[0],Math.min(i[1],L.k*Math.pow(2,r.apply(this,arguments)))),M=Dt(j);if(D.wheel)(D.mouse[0][0]!==M[0]||D.mouse[0][1]!==M[1])&&(D.mouse[1]=L.invert(D.mouse[0]=M)),clearTimeout(D.wheel);else{if(L.k===C)return;D.mouse=[M,L.invert(M)],ba(this),D.start()}ci(j),D.wheel=setTimeout(F,y),D.zoom("mouse",n(p(g(L,C),D.mouse[0],D.mouse[1]),D.extent,o));function F(){D.wheel=null,D.end()}}function E(j,...O){if(h||!e.apply(this,arguments))return;var D=j.currentTarget,L=N(this,O,!0).event(j),C=ht(j.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",q,!0),M=Dt(j,D),F=j.clientX,H=j.clientY;kx(j.view),ju(j),L.mouse=[M,this.__zoom.invert(M)],ba(this),L.start();function V(B){if(ci(B),!L.moved){var K=B.clientX-F,Y=B.clientY-H;L.moved=K*K+Y*Y>b}L.event(B).zoom("mouse",n(p(L.that.__zoom,L.mouse[0]=Dt(B,D),L.mouse[1]),L.extent,o))}function q(B){C.on("mousemove.zoom mouseup.zoom",null),jx(B.view,L.moved),ci(B),L.event(B).end()}}function T(j,...O){if(e.apply(this,arguments)){var D=this.__zoom,L=Dt(j.changedTouches?j.changedTouches[0]:j,this),C=D.invert(L),M=D.k*(j.shiftKey?.5:2),F=n(p(g(D,M),L,C),t.apply(this,O),o);ci(j),l>0?ht(this).transition().duration(l).call(_,F,L,j):ht(this).call(m.transform,F,L,j)}}function P(j,...O){if(e.apply(this,arguments)){var D=j.touches,L=D.length,C=N(this,O,j.changedTouches.length===L).event(j),M,F,H,V;for(ju(j),F=0;F<L;++F)H=D[F],V=Dt(H,this),V=[V,this.__zoom.invert(V),H.identifier],C.touch0?!C.touch1&&C.touch0[2]!==V[2]&&(C.touch1=V,C.taps=0):(C.touch0=V,M=!0,C.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(C.taps<2&&(f=V[0],d=setTimeout(function(){d=null},v)),ba(this),C.start())}}function A(j,...O){if(this.__zooming){var D=N(this,O).event(j),L=j.changedTouches,C=L.length,M,F,H,V;for(ci(j),M=0;M<C;++M)F=L[M],H=Dt(F,this),D.touch0&&D.touch0[2]===F.identifier?D.touch0[0]=H:D.touch1&&D.touch1[2]===F.identifier&&(D.touch1[0]=H);if(F=D.that.__zoom,D.touch1){var q=D.touch0[0],B=D.touch0[1],K=D.touch1[0],Y=D.touch1[1],Z=(Z=K[0]-q[0])*Z+(Z=K[1]-q[1])*Z,W=(W=Y[0]-B[0])*W+(W=Y[1]-B[1])*W;F=g(F,Math.sqrt(Z/W)),H=[(q[0]+K[0])/2,(q[1]+K[1])/2],V=[(B[0]+Y[0])/2,(B[1]+Y[1])/2]}else if(D.touch0)H=D.touch0[0],V=D.touch0[1];else return;D.zoom("touch",n(p(F,H,V),D.extent,o))}}function z(j,...O){if(this.__zooming){var D=N(this,O).event(j),L=j.changedTouches,C=L.length,M,F;for(ju(j),h&&clearTimeout(h),h=setTimeout(function(){h=null},v),M=0;M<C;++M)F=L[M],D.touch0&&D.touch0[2]===F.identifier?delete D.touch0:D.touch1&&D.touch1[2]===F.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(F=Dt(F,this),Math.hypot(f[0]-F[0],f[1]-F[1])<S)){var H=ht(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return m.wheelDelta=function(j){return arguments.length?(r=typeof j=="function"?j:Zo(+j),m):r},m.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Zo(!!j),m):e},m.touchable=function(j){return arguments.length?(s=typeof j=="function"?j:Zo(!!j),m):s},m.extent=function(j){return arguments.length?(t=typeof j=="function"?j:Zo([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),m):t},m.scaleExtent=function(j){return arguments.length?(i[0]=+j[0],i[1]=+j[1],m):[i[0],i[1]]},m.translateExtent=function(j){return arguments.length?(o[0][0]=+j[0][0],o[1][0]=+j[1][0],o[0][1]=+j[0][1],o[1][1]=+j[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(j){return arguments.length?(n=j,m):n},m.duration=function(j){return arguments.length?(l=+j,m):l},m.interpolate=function(j){return arguments.length?(u=j,m):u},m.on=function(){var j=c.on.apply(c,arguments);return j===c?m:j},m.clickDistance=function(j){return arguments.length?(b=(j=+j)*j,m):Math.sqrt(b)},m.tapDistance=function(j){return arguments.length?(S=+j,m):S},m}const nn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ji=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ux=["Enter"," ","Escape"],Bx={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var As;(function(e){e.Strict="strict",e.Loose="loose"})(As||(As={}));var Er;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Er||(Er={}));var eo;(function(e){e.Partial="partial",e.Full="full"})(eo||(eo={}));const Wx={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Pn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Pn||(Pn={}));var rl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(rl||(rl={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));const Sp={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top};function qx(e){return e===null?null:e?"valid":"invalid"}const Qx=e=>"id"in e&&"source"in e&&"target"in e,Yk=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),pf=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),qs=(e,t,n)=>{if(!e.id)return[];const r=new Set;return n.forEach(s=>{s.target===e.id&&r.add(s.source)}),t.filter(s=>r.has(s.id))},xo=(e,t=[0,0])=>{const{width:n,height:r}=Nn(e),s=e.origin??t,i=n*s[0],o=r*s[1];return{x:e.position.x-i,y:e.position.y-o}},Gk=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const i=typeof s=="string";let o=!t.nodeLookup&&!i?s:void 0;t.nodeLookup&&(o=i?t.nodeLookup.get(s):pf(s)?s:t.nodeLookup.get(s.id));const l=o?sl(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Pl(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Il(n)},vo=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(s=>{(t.filter===void 0||t.filter(s))&&(n=Pl(n,sl(s)),r=!0)}),r?Il(n):{x:0,y:0,width:0,height:0}},mf=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1)=>{const l={...bo(t,[n,r,s]),width:t.width/s,height:t.height/s},u=[];for(const c of e.values()){const{measured:d,selectable:f=!0,hidden:h=!1}=c;if(o&&!f||h)continue;const v=d.width??c.width??c.initialWidth??null,y=d.height??c.height??c.initialHeight??null,b=to(l,Os(c)),S=(v??0)*(y??0),m=i&&b>0;(!c.internals.handleBounds||m||b>=S||c.dragging)&&u.push(c)}return u},Zk=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Jk(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function ej({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:i},o){if(e.size===0)return Promise.resolve(!0);const l=Jk(e,o),u=vo(l),c=gf(u,t,n,(o==null?void 0:o.minZoom)??s,(o==null?void 0:o.maxZoom)??i,(o==null?void 0:o.padding)??.1);return await r.setViewport(c,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function Xx({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:i}){const o=n.get(e),l=o.parentId?n.get(o.parentId):void 0,{x:u,y:c}=l?l.internals.positionAbsolute:{x:0,y:0},d=o.origin??r;let f=o.extent||s;if(o.extent==="parent"&&!o.expandParent)if(!l)i==null||i("005",nn.error005());else{const v=l.measured.width,y=l.measured.height;v&&y&&(f=[[u,c],[u+v,c+y]])}else l&&zs(o.extent)&&(f=[[o.extent[0][0]+u,o.extent[0][1]+c],[o.extent[1][0]+u,o.extent[1][1]+c]]);const h=zs(f)?Or(t,f,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(i==null||i("015",nn.error015())),{position:{x:h.x-u+(o.measured.width??0)*d[0],y:h.y-c+(o.measured.height??0)*d[1]},positionAbsolute:h}}async function tj({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const i=new Set(e.map(h=>h.id)),o=[];for(const h of n){if(h.deletable===!1)continue;const v=i.has(h.id),y=!v&&h.parentId&&o.find(b=>b.id===h.parentId);(v||y)&&o.push(h)}const l=new Set(t.map(h=>h.id)),u=r.filter(h=>h.deletable!==!1),d=Zk(o,u);for(const h of u)l.has(h.id)&&!d.find(y=>y.id===h.id)&&d.push(h);if(!s)return{edges:d,nodes:o};const f=await s({nodes:o,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:o}:{edges:[],nodes:[]}:f}const Ls=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Or=(e={x:0,y:0},t,n)=>({x:Ls(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Ls(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Kx(e,t,n){const{width:r,height:s}=Nn(n),{x:i,y:o}=n.internals.positionAbsolute;return Or(e,[[i,o],[i+r,o+s]],t)}const kp=(e,t,n)=>e<t?Ls(Math.abs(e-t),1,t)/t:e>n?-Ls(Math.abs(e-n),1,t)/t:0,Yx=(e,t,n=15,r=40)=>{const s=kp(e.x,r,t.width-r)*n,i=kp(e.y,r,t.height-r)*n;return[s,i]},Pl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Zc=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Il=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Os=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=pf(e)?e.internals.positionAbsolute:xo(e,t);return{x:n,y:r,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},sl=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=pf(e)?e.internals.positionAbsolute:xo(e,t);return{x:n,y:r,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},Gx=(e,t)=>Il(Pl(Zc(e),Zc(t))),to=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},jp=e=>zt(e.width)&&zt(e.height)&&zt(e.x)&&zt(e.y),zt=e=>!isNaN(e)&&isFinite(e),nj=(e,t)=>{},wo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),bo=({x:e,y:t},[n,r,s],i=!1,o=[1,1])=>{const l={x:(e-n)/s,y:(t-r)/s};return i?wo(l,o):l},il=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function Br(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function rj(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Br(e,n),s=Br(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=Br(e.top??e.y??0,n),s=Br(e.bottom??e.y??0,n),i=Br(e.left??e.x??0,t),o=Br(e.right??e.x??0,t);return{top:r,right:o,bottom:s,left:i,x:i+o,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function sj(e,t,n,r,s,i){const{x:o,y:l}=il(e,[t,n,r]),{x:u,y:c}=il({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=s-u,f=i-c;return{left:Math.floor(o),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(f)}}const gf=(e,t,n,r,s,i)=>{const o=rj(i,t,n),l=(t-o.x)/e.width,u=(n-o.y)/e.height,c=Math.min(l,u),d=Ls(c,r,s),f=e.x+e.width/2,h=e.y+e.height/2,v=t/2-f*d,y=n/2-h*d,b=sj(e,v,y,d,t,n),S={left:Math.min(b.left-o.left,0),top:Math.min(b.top-o.top,0),right:Math.min(b.right-o.right,0),bottom:Math.min(b.bottom-o.bottom,0)};return{x:v-S.left+S.right,y:y-S.top+S.bottom,zoom:d}},no=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function zs(e){return e!=null&&e!=="parent"}function Nn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Zx(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Jx(e,t={width:0,height:0},n,r,s){const i={...e},o=r.get(n);if(o){const l=o.origin||s;i.x+=o.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=o.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function Ep(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function ij(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function oj(e){return{...Bx,...e||{}}}function Ti(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:i,y:o}=Ft(e),l=bo({x:i-((s==null?void 0:s.left)??0),y:o-((s==null?void 0:s.top)??0)},r),{x:u,y:c}=n?wo(l,t):l;return{xSnapped:u,ySnapped:c,...l}}const yf=e=>({width:e.offsetWidth,height:e.offsetHeight}),e0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},aj=["INPUT","SELECT","TEXTAREA"];function t0(e){var r,s;const t=((s=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:aj.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const n0=e=>"clientX"in e,Ft=(e,t)=>{var i,o;const n=n0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Cp=(e,t,n,r,s)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:s,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...yf(o)}})};function r0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:l}){const u=e*.125+s*.375+o*.375+n*.125,c=t*.125+i*.375+l*.375+r*.125,d=Math.abs(u-e),f=Math.abs(c-t);return[u,c,d,f]}function Jo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Tp({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case G.Left:return[t-Jo(t-r,i),n];case G.Right:return[t+Jo(r-t,i),n];case G.Top:return[t,n-Jo(n-s,i)];case G.Bottom:return[t,n+Jo(s-n,i)]}}function s0({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,curvature:o=.25}){const[l,u]=Tp({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[c,d]=Tp({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[f,h,v,y]=r0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${e},${t} C${l},${u} ${c},${d} ${r},${s}`,f,h,v,y]}function i0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,l=r<t?r+o:r-o;return[i,l,s,o]}function lj({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:s=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const o=s&&n?r+1e3:r,l=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return o+l}function uj({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const i=Pl(sl(e),sl(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const o={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return to(o,Il(i))>0}const cj=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,dj=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),o0=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||cj;let s;return Qx(e)?s={...e}:s={...e,id:r(e)},dj(s,t)?t:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,t.concat(s))};function a0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,l]=i0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,l]}const Mp={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},fj=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Rp=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function hj({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:r=G.Top,center:s,offset:i,stepPosition:o}){const l=Mp[t],u=Mp[r],c={x:e.x+l.x*i,y:e.y+l.y*i},d={x:n.x+u.x*i,y:n.y+u.y*i},f=fj({source:c,sourcePosition:t,target:d}),h=f.x!==0?"x":"y",v=f[h];let y=[],b,S;const m={x:0,y:0},g={x:0,y:0},[,,p,x]=i0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[h]*u[h]===-1){h==="x"?(b=s.x??c.x+(d.x-c.x)*o,S=s.y??(c.y+d.y)/2):(b=s.x??(c.x+d.x)/2,S=s.y??c.y+(d.y-c.y)*o);const N=[{x:b,y:c.y},{x:b,y:d.y}],w=[{x:c.x,y:S},{x:d.x,y:S}];l[h]===v?y=h==="x"?N:w:y=h==="x"?w:N}else{const N=[{x:c.x,y:d.y}],w=[{x:d.x,y:c.y}];if(h==="x"?y=l.x===v?w:N:y=l.y===v?N:w,t===r){const A=Math.abs(e[h]-n[h]);if(A<=i){const z=Math.min(i-1,i-A);l[h]===v?m[h]=(c[h]>e[h]?-1:1)*z:g[h]=(d[h]>n[h]?-1:1)*z}}if(t!==r){const A=h==="x"?"y":"x",z=l[h]===u[A],j=c[A]>d[A],O=c[A]<d[A];(l[h]===1&&(!z&&j||z&&O)||l[h]!==1&&(!z&&O||z&&j))&&(y=h==="x"?N:w)}const k={x:c.x+m.x,y:c.y+m.y},E={x:d.x+g.x,y:d.y+g.y},T=Math.max(Math.abs(k.x-y[0].x),Math.abs(E.x-y[0].x)),P=Math.max(Math.abs(k.y-y[0].y),Math.abs(E.y-y[0].y));T>=P?(b=(k.x+E.x)/2,S=y[0].y):(b=y[0].x,S=(k.y+E.y)/2)}return[[e,{x:c.x+m.x,y:c.y+m.y},...y,{x:d.x+g.x,y:d.y+g.y},n],b,S,p,x]}function pj(e,t,n,r){const s=Math.min(Rp(e,t)/2,Rp(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+s*c},${o}Q ${i},${o} ${i},${o+s*d}`}const l=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${o+s*u}Q ${i},${o} ${i+s*l},${o}`}function ol({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,borderRadius:o=5,centerX:l,centerY:u,offset:c=20,stepPosition:d=.5}){const[f,h,v,y,b]=hj({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:l,y:u},offset:c,stepPosition:d});return[f.reduce((m,g,p)=>{let x="";return p>0&&p<f.length-1?x=pj(f[p-1],g,f[p+1],o):x=`${p===0?"M":"L"}${g.x} ${g.y}`,m+=x,m},""),h,v,y,b]}function Pp(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function mj(e){var f;const{sourceNode:t,targetNode:n}=e;if(!Pp(t)||!Pp(n))return null;const r=t.internals.handleBounds||Ip(t.handles),s=n.internals.handleBounds||Ip(n.handles),i=Dp((r==null?void 0:r.source)??[],e.sourceHandle),o=Dp(e.connectionMode===As.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!i||!o)return(f=e.onError)==null||f.call(e,"008",nn.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||G.Bottom,u=(o==null?void 0:o.position)||G.Top,c=zr(t,i,l),d=zr(n,o,u);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:u}}function Ip(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function zr(e,t,n=G.Left,r=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:l}=t??Nn(e);if(r)return{x:s+o/2,y:i+l/2};switch((t==null?void 0:t.position)??n){case G.Top:return{x:s+o/2,y:i};case G.Right:return{x:s+o,y:i+l/2};case G.Bottom:return{x:s+o/2,y:i+l};case G.Left:return{x:s,y:i+l/2}}}function Dp(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Jc(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function gj(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const i=new Set;return e.reduce((o,l)=>([l.markerStart||r,l.markerEnd||s].forEach(u=>{if(u&&typeof u=="object"){const c=Jc(u,t);i.has(c)||(o.push({id:c,color:u.color||n,...u}),i.add(c))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const l0=1e3,yj=10,xf={nodeOrigin:[0,0],nodeExtent:Ji,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},xj={...xf,checkEquality:!0};function vf(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function vj(e,t,n){const r=vf(xf,n);for(const s of e.values())if(s.parentId)bf(s,e,t,r);else{const i=xo(s,r.nodeOrigin),o=zs(s.extent)?s.extent:r.nodeExtent,l=Or(i,o,Nn(s));s.internals.positionAbsolute=l}}function wj(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const s of e.handles){const i={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?n.push(i):s.type==="target"&&r.push(i)}return{source:n,target:r}}function wf(e){return e==="manual"}function ed(e,t,n,r={}){var c,d;const s=vf(xj,r),i={i:0},o=new Map(t),l=s!=null&&s.elevateNodesOnSelect&&!wf(s.zIndexMode)?l0:0;let u=e.length>0;t.clear(),n.clear();for(const f of e){let h=o.get(f.id);if(s.checkEquality&&f===(h==null?void 0:h.internals.userNode))t.set(f.id,h);else{const v=xo(f,s.nodeOrigin),y=zs(f.extent)?f.extent:s.nodeExtent,b=Or(v,y,Nn(f));h={...s.defaults,...f,measured:{width:(c=f.measured)==null?void 0:c.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:b,handleBounds:wj(f,h),z:u0(f,l,s.zIndexMode),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(u=!1),f.parentId&&bf(h,t,n,r,i)}return u}function bj(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function bf(e,t,n,r,s){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:l,zIndexMode:u}=vf(xf,r),c=e.parentId,d=t.get(c);if(!d){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}bj(e,n),s&&!d.parentId&&d.internals.rootParentIndex===void 0&&u==="auto"&&(d.internals.rootParentIndex=++s.i,d.internals.z=d.internals.z+s.i*yj),s&&d.internals.rootParentIndex!==void 0&&(s.i=d.internals.rootParentIndex);const f=i&&!wf(u)?l0:0,{x:h,y:v,z:y}=Nj(e,d,o,l,f,u),{positionAbsolute:b}=e.internals,S=h!==b.x||v!==b.y;(S||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:S?{x:h,y:v}:b,z:y}})}function u0(e,t,n){const r=zt(e.zIndex)?e.zIndex:0;return wf(n)?r:r+(e.selected?t:0)}function Nj(e,t,n,r,s,i){const{x:o,y:l}=t.internals.positionAbsolute,u=Nn(e),c=xo(e,n),d=zs(e.extent)?Or(c,e.extent,u):c;let f=Or({x:o+d.x,y:l+d.y},r,u);e.extent==="parent"&&(f=Kx(f,u,t));const h=u0(e,s,i),v=t.internals.z??0;return{x:f.x,y:f.y,z:v>=h?v+1:h}}function Nf(e,t,n,r=[0,0]){var o;const s=[],i=new Map;for(const l of e){const u=t.get(l.parentId);if(!u)continue;const c=((o=i.get(l.parentId))==null?void 0:o.expandedRect)??Os(u),d=Gx(c,l.rect);i.set(l.parentId,{expandedRect:d,parent:u})}return i.size>0&&i.forEach(({expandedRect:l,parent:u},c)=>{var p;const d=u.internals.positionAbsolute,f=Nn(u),h=u.origin??r,v=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,y=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,b=Math.max(f.width,Math.round(l.width)),S=Math.max(f.height,Math.round(l.height)),m=(b-f.width)*h[0],g=(S-f.height)*h[1];(v>0||y>0||m||g)&&(s.push({id:c,type:"position",position:{x:u.position.x-v+m,y:u.position.y-y+g}}),(p=n.get(c))==null||p.forEach(x=>{e.some(_=>_.id===x.id)||s.push({id:x.id,type:"position",position:{x:x.position.x+v,y:x.position.y+y}})})),(f.width<l.width||f.height<l.height||v||y)&&s.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:b+(v?h[0]*v-m:0),height:S+(y?h[1]*y-g:0)}})}),s}function _j(e,t,n,r,s,i,o){const l=r==null?void 0:r.querySelector(".xyflow__viewport");let u=!1;if(!l)return{changes:[],updatedInternals:u};const c=[],d=window.getComputedStyle(l),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const v of e.values()){const y=t.get(v.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),u=!0;continue}const b=yf(v.nodeElement),S=y.measured.width!==b.width||y.measured.height!==b.height;if(!!(b.width&&b.height&&(S||!y.internals.handleBounds||v.force))){const g=v.nodeElement.getBoundingClientRect(),p=zs(y.extent)?y.extent:i;let{positionAbsolute:x}=y.internals;y.parentId&&y.extent==="parent"?x=Kx(x,b,t.get(y.parentId)):p&&(x=Or(x,p,b));const _={...y,measured:b,internals:{...y.internals,positionAbsolute:x,handleBounds:{source:Cp("source",v.nodeElement,g,f,y.id),target:Cp("target",v.nodeElement,g,f,y.id)}}};t.set(y.id,_),y.parentId&&bf(_,t,n,{nodeOrigin:s,zIndexMode:o}),u=!0,S&&(c.push({id:y.id,type:"dimensions",dimensions:b}),y.expandParent&&y.parentId&&h.push({id:y.id,parentId:y.parentId,rect:Os(_,s)}))}}if(h.length>0){const v=Nf(h,t,n,s);c.push(...v)}return{changes:c,updatedInternals:u}}async function Sj({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,i]],r),l=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(l)}function Ap(e,t,n,r,s,i){let o=s;const l=r.get(o)||new Map;r.set(o,l.set(n,t)),o=`${s}-${e}`;const u=r.get(o)||new Map;if(r.set(o,u.set(n,t)),i){o=`${s}-${e}-${i}`;const c=r.get(o)||new Map;r.set(o,c.set(n,t))}}function c0(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:i,sourceHandle:o=null,targetHandle:l=null}=r,u={edgeId:r.id,source:s,target:i,sourceHandle:o,targetHandle:l},c=`${s}-${o}--${i}-${l}`,d=`${i}-${l}--${s}-${o}`;Ap("source",u,d,e,s,o),Ap("target",u,c,e,i,l),t.set(r.id,r)}}function d0(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:d0(n,t):!1}function Lp(e,t,n){var s;let r=e;do{if((s=r==null?void 0:r.matches)!=null&&s.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function kj(e,t,n,r){const s=new Map;for(const[i,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!d0(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const l=e.get(i);l&&s.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return s}function Eu({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var o,l,u;const s=[];for(const[c,d]of t){const f=(o=n.get(c))==null?void 0:o.internals.userNode;f&&s.push({...f,position:d.position,dragging:r})}if(!e)return[s[0],s];const i=(l=n.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((u=t.get(e))==null?void 0:u.position)||i.position,dragging:r}:s[0],s]}function jj({dragItems:e,snapGrid:t,x:n,y:r}){const s=e.values().next().value;if(!s)return null;const i={x:n-s.distance.x,y:r-s.distance.y},o=wo(i,t);return{x:o.x-i.x,y:o.y-i.y}}function Ej({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let i={x:null,y:null},o=0,l=new Map,u=!1,c={x:0,y:0},d=null,f=!1,h=null,v=!1,y=!1,b=null;function S({noDragClassName:g,handleSelector:p,domNode:x,isSelectable:_,nodeId:N,nodeClickDistance:w=0}){h=ht(x);function k({x:A,y:z}){const{nodeLookup:j,nodeExtent:O,snapGrid:D,snapToGrid:L,nodeOrigin:C,onNodeDrag:M,onSelectionDrag:F,onError:H,updateNodePositions:V}=t();i={x:A,y:z};let q=!1;const B=l.size>1,K=B&&O?Zc(vo(l)):null,Y=B&&L?jj({dragItems:l,snapGrid:D,x:A,y:z}):null;for(const[Z,W]of l){if(!j.has(Z))continue;let J={x:A-W.distance.x,y:z-W.distance.y};L&&(J=Y?{x:Math.round(J.x+Y.x),y:Math.round(J.y+Y.y)}:wo(J,D));let oe=null;if(B&&O&&!W.extent&&K){const{positionAbsolute:te}=W.internals,pe=te.x-K.x+O[0][0],xe=te.x+W.measured.width-K.x2+O[1][0],he=te.y-K.y+O[0][1],Ue=te.y+W.measured.height-K.y2+O[1][1];oe=[[pe,he],[xe,Ue]]}const{position:re,positionAbsolute:ne}=Xx({nodeId:Z,nextPosition:J,nodeLookup:j,nodeExtent:oe||O,nodeOrigin:C,onError:H});q=q||W.position.x!==re.x||W.position.y!==re.y,W.position=re,W.internals.positionAbsolute=ne}if(y=y||q,!!q&&(V(l,!0),b&&(r||M||!N&&F))){const[Z,W]=Eu({nodeId:N,dragItems:l,nodeLookup:j});r==null||r(b,l,Z,W),M==null||M(b,Z,W),N||F==null||F(b,W)}}async function E(){if(!d)return;const{transform:A,panBy:z,autoPanSpeed:j,autoPanOnNodeDrag:O}=t();if(!O){u=!1,cancelAnimationFrame(o);return}const[D,L]=Yx(c,d,j);(D!==0||L!==0)&&(i.x=(i.x??0)-D/A[2],i.y=(i.y??0)-L/A[2],await z({x:D,y:L})&&k(i)),o=requestAnimationFrame(E)}function T(A){var B;const{nodeLookup:z,multiSelectionActive:j,nodesDraggable:O,transform:D,snapGrid:L,snapToGrid:C,selectNodesOnDrag:M,onNodeDragStart:F,onSelectionDragStart:H,unselectNodesAndEdges:V}=t();f=!0,(!M||!_)&&!j&&N&&((B=z.get(N))!=null&&B.selected||V()),_&&M&&N&&(e==null||e(N));const q=Ti(A.sourceEvent,{transform:D,snapGrid:L,snapToGrid:C,containerBounds:d});if(i=q,l=kj(z,O,q,N),l.size>0&&(n||F||!N&&H)){const[K,Y]=Eu({nodeId:N,dragItems:l,nodeLookup:z});n==null||n(A.sourceEvent,l,K,Y),F==null||F(A.sourceEvent,K,Y),N||H==null||H(A.sourceEvent,Y)}}const P=Ex().clickDistance(w).on("start",A=>{const{domNode:z,nodeDragThreshold:j,transform:O,snapGrid:D,snapToGrid:L}=t();d=(z==null?void 0:z.getBoundingClientRect())||null,v=!1,y=!1,b=A.sourceEvent,j===0&&T(A),i=Ti(A.sourceEvent,{transform:O,snapGrid:D,snapToGrid:L,containerBounds:d}),c=Ft(A.sourceEvent,d)}).on("drag",A=>{const{autoPanOnNodeDrag:z,transform:j,snapGrid:O,snapToGrid:D,nodeDragThreshold:L,nodeLookup:C}=t(),M=Ti(A.sourceEvent,{transform:j,snapGrid:O,snapToGrid:D,containerBounds:d});if(b=A.sourceEvent,(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1||N&&!C.has(N))&&(v=!0),!v){if(!u&&z&&f&&(u=!0,E()),!f){const F=Ft(A.sourceEvent,d),H=F.x-c.x,V=F.y-c.y;Math.sqrt(H*H+V*V)>L&&T(A)}(i.x!==M.xSnapped||i.y!==M.ySnapped)&&l&&f&&(c=Ft(A.sourceEvent,d),k(M))}}).on("end",A=>{if(!(!f||v)&&(u=!1,f=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:z,updateNodePositions:j,onNodeDragStop:O,onSelectionDragStop:D}=t();if(y&&(j(l,!1),y=!1),s||O||!N&&D){const[L,C]=Eu({nodeId:N,dragItems:l,nodeLookup:z,dragging:!1});s==null||s(A.sourceEvent,l,L,C),O==null||O(A.sourceEvent,L,C),N||D==null||D(A.sourceEvent,C)}}}).filter(A=>{const z=A.target;return!A.button&&(!g||!Lp(z,`.${g}`,x))&&(!p||Lp(z,p,x))});h.call(P)}function m(){h==null||h.on(".drag",null)}return{update:S,destroy:m}}function Cj(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())to(s,Os(i))>0&&r.push(i);return r}const Tj=250;function Mj(e,t,n,r){var l,u;let s=[],i=1/0;const o=Cj(e,n,t+Tj);for(const c of o){const d=[...((l=c.internals.handleBounds)==null?void 0:l.source)??[],...((u=c.internals.handleBounds)==null?void 0:u.target)??[]];for(const f of d){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:h,y:v}=zr(c,f,f.position,!0),y=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(v-e.y,2));y>t||(y<i?(s=[{...f,x:h,y:v}],i=y):y===i&&s.push({...f,x:h,y:v}))}}if(!s.length)return null;if(s.length>1){const c=r.type==="source"?"target":"source";return s.find(d=>d.type===c)??s[0]}return s[0]}function f0(e,t,n,r,s,i=!1){var c,d,f;const o=r.get(e);if(!o)return null;const l=s==="strict"?(c=o.internals.handleBounds)==null?void 0:c[t]:[...((d=o.internals.handleBounds)==null?void 0:d.source)??[],...((f=o.internals.handleBounds)==null?void 0:f.target)??[]],u=(n?l==null?void 0:l.find(h=>h.id===n):l==null?void 0:l[0])??null;return u&&i?{...u,...zr(o,u,u.position,!0)}:u}function h0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Rj(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const p0=()=>!0;function Pj(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:i,isTarget:o,domNode:l,nodeLookup:u,lib:c,autoPanOnConnect:d,flowId:f,panBy:h,cancelConnection:v,onConnectStart:y,onConnect:b,onConnectEnd:S,isValidConnection:m=p0,onReconnectEnd:g,updateConnection:p,getTransform:x,getFromHandle:_,autoPanSpeed:N,dragThreshold:w=1,handleDomNode:k}){const E=e0(e.target);let T=0,P;const{x:A,y:z}=Ft(e),j=h0(i,k),O=l==null?void 0:l.getBoundingClientRect();let D=!1;if(!O||!j)return;const L=f0(s,j,r,u,t);if(!L)return;let C=Ft(e,O),M=!1,F=null,H=!1,V=null;function q(){if(!d||!O)return;const[re,ne]=Yx(C,O,N);h({x:re,y:ne}),T=requestAnimationFrame(q)}const B={...L,nodeId:s,type:j,position:L.position},K=u.get(s);let Z={inProgress:!0,isValid:null,from:zr(K,B,G.Left,!0),fromHandle:B,fromPosition:B.position,fromNode:K,to:C,toHandle:null,toPosition:Sp[B.position],toNode:null,pointer:C};function W(){D=!0,p(Z),y==null||y(e,{nodeId:s,handleId:r,handleType:j})}w===0&&W();function J(re){if(!D){const{x:Ue,y:_n}=Ft(re),sn=Ue-A,sr=_n-z;if(!(sn*sn+sr*sr>w*w))return;W()}if(!_()||!B){oe(re);return}const ne=x();C=Ft(re,O),P=Mj(bo(C,ne,!1,[1,1]),n,u,B),M||(q(),M=!0);const te=m0(re,{handle:P,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:o?"target":"source",isValidConnection:m,doc:E,lib:c,flowId:f,nodeLookup:u});V=te.handleDomNode,F=te.connection,H=Rj(!!P,te.isValid);const pe=u.get(s),xe=pe?zr(pe,B,G.Left,!0):Z.from,he={...Z,from:xe,isValid:H,to:te.toHandle&&H?il({x:te.toHandle.x,y:te.toHandle.y},ne):C,toHandle:te.toHandle,toPosition:H&&te.toHandle?te.toHandle.position:Sp[B.position],toNode:te.toHandle?u.get(te.toHandle.nodeId):null,pointer:C};p(he),Z=he}function oe(re){if(!("touches"in re&&re.touches.length>0)){if(D){(P||V)&&F&&H&&(b==null||b(F));const{inProgress:ne,...te}=Z,pe={...te,toPosition:Z.toHandle?Z.toPosition:null};S==null||S(re,pe),i&&(g==null||g(re,pe))}v(),cancelAnimationFrame(T),M=!1,H=!1,F=null,V=null,E.removeEventListener("mousemove",J),E.removeEventListener("mouseup",oe),E.removeEventListener("touchmove",J),E.removeEventListener("touchend",oe)}}E.addEventListener("mousemove",J),E.addEventListener("mouseup",oe),E.addEventListener("touchmove",J),E.addEventListener("touchend",oe)}function m0(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:i,doc:o,lib:l,flowId:u,isValidConnection:c=p0,nodeLookup:d}){const f=i==="target",h=t?o.querySelector(`.${l}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:v,y}=Ft(e),b=o.elementFromPoint(v,y),S=b!=null&&b.classList.contains(`${l}-flow__handle`)?b:h,m={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const g=h0(void 0,S),p=S.getAttribute("data-nodeid"),x=S.getAttribute("data-handleid"),_=S.classList.contains("connectable"),N=S.classList.contains("connectableend");if(!p||!g)return m;const w={source:f?p:r,sourceHandle:f?x:s,target:f?r:p,targetHandle:f?s:x};m.connection=w;const E=_&&N&&(n===As.Strict?f&&g==="source"||!f&&g==="target":p!==r||x!==s);m.isValid=E&&c(w),m.toHandle=f0(p,g,x,d,n,!0)}return m}const td={onPointerDown:Pj,isValid:m0};function Ij({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=ht(e);function i({translateExtent:l,width:u,height:c,zoomStep:d=1,pannable:f=!0,zoomable:h=!0,inversePan:v=!1}){const y=p=>{if(p.sourceEvent.type!=="wheel"||!t)return;const x=n(),_=p.sourceEvent.ctrlKey&&no()?10:1,N=-p.sourceEvent.deltaY*(p.sourceEvent.deltaMode===1?.05:p.sourceEvent.deltaMode?1:.002)*d,w=x[2]*Math.pow(2,N*_);t.scaleTo(w)};let b=[0,0];const S=p=>{(p.sourceEvent.type==="mousedown"||p.sourceEvent.type==="touchstart")&&(b=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY])},m=p=>{const x=n();if(p.sourceEvent.type!=="mousemove"&&p.sourceEvent.type!=="touchmove"||!t)return;const _=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY],N=[_[0]-b[0],_[1]-b[1]];b=_;const w=r()*Math.max(x[2],Math.log(x[2]))*(v?-1:1),k={x:x[0]-N[0]*w,y:x[1]-N[1]*w},E=[[0,0],[u,c]];t.setViewportConstrained({x:k.x,y:k.y,zoom:x[2]},E,l)},g=Vx().on("start",S).on("zoom",f?m:null).on("zoom.wheel",h?y:null);s.call(g,{})}function o(){s.on("zoom",null)}return{update:i,destroy:o,pointer:Dt}}const Dl=e=>({x:e.x,y:e.y,zoom:e.k}),Cu=({x:e,y:t,zoom:n})=>Rl.translate(e,t).scale(n),rs=(e,t)=>e.target.closest(`.${t}`),g0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Dj=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Tu=(e,t=0,n=Dj,r=()=>{})=>{const s=typeof t=="number"&&t>0;return s||r(),s?e.transition().duration(t).ease(n).on("end",r):e},y0=e=>{const t=e.ctrlKey&&no()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Aj({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:i,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:u,onPanZoomEnd:c}){return d=>{if(rs(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(d.ctrlKey&&o){const S=Dt(d),m=y0(d),g=f*Math.pow(2,m);r.scaleTo(n,g,S,d);return}const h=d.deltaMode===1?20:1;let v=s===Er.Vertical?0:d.deltaX*h,y=s===Er.Horizontal?0:d.deltaY*h;!no()&&d.shiftKey&&s!==Er.Vertical&&(v=d.deltaY*h,y=0),r.translateBy(n,-(v/f)*i,-(y/f)*i,{internal:!0});const b=Dl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(d,b),e.panScrollTimeout=setTimeout(()=>{c==null||c(d,b),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(d,b))}}function Lj({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const i=r.type==="wheel",o=!t&&i&&!r.ctrlKey,l=rs(r,e);if(r.ctrlKey&&i&&l&&r.preventDefault(),o||l)return null;r.preventDefault(),n.call(this,r,s)}}function Oj({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,o,l;if((i=r.sourceEvent)!=null&&i.internal)return;const s=Dl(r.transform);e.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,s))}}function zj({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return i=>{var o,l;e.usedRightMouseButton=!!(n&&g0(t,e.mouseButton??0)),(o=i.sourceEvent)!=null&&o.sync||r([i.transform.x,i.transform.y,i.transform.k]),s&&!((l=i.sourceEvent)!=null&&l.internal)&&(s==null||s(i.sourceEvent,Dl(i.transform)))}}function Fj({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:i}){return o=>{var l;if(!((l=o.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&g0(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&i(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),s)){const u=Dl(o.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(o.sourceEvent,u)},n?150:0)}}}function $j({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:i,userSelectionActive:o,noWheelClassName:l,noPanClassName:u,lib:c,connectionInProgress:d}){return f=>{var S;const h=e||t,v=n&&f.ctrlKey,y=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(rs(f,`${c}-flow__node`)||rs(f,`${c}-flow__edge`)))return!0;if(!r&&!h&&!s&&!i&&!n||o||d&&!y||rs(f,l)&&y||rs(f,u)&&(!y||s&&y&&!e)||!n&&f.ctrlKey&&y)return!1;if(!n&&f.type==="touchstart"&&((S=f.touches)==null?void 0:S.length)>1)return f.preventDefault(),!1;if(!h&&!s&&!v&&y||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const b=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||y)&&b}}function Hj({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:s,onPanZoom:i,onPanZoomStart:o,onPanZoomEnd:l,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=Vx().scaleExtent([t,n]).translateExtent(r),h=ht(e).call(f);g({x:s.x,y:s.y,zoom:Ls(s.zoom,t,n)},[[0,0],[d.width,d.height]],r);const v=h.on("wheel.zoom"),y=h.on("dblclick.zoom");f.wheelDelta(y0);function b(P,A){return h?new Promise(z=>{f==null||f.interpolate((A==null?void 0:A.interpolate)==="linear"?Ci:xa).transform(Tu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>z(!0)),P)}):Promise.resolve(!1)}function S({noWheelClassName:P,noPanClassName:A,onPaneContextMenu:z,userSelectionActive:j,panOnScroll:O,panOnDrag:D,panOnScrollMode:L,panOnScrollSpeed:C,preventScrolling:M,zoomOnPinch:F,zoomOnScroll:H,zoomOnDoubleClick:V,zoomActivationKeyPressed:q,lib:B,onTransformChange:K,connectionInProgress:Y,paneClickDistance:Z,selectionOnDrag:W}){j&&!c.isZoomingOrPanning&&m();const J=O&&!q&&!j;f.clickDistance(W?1/0:!zt(Z)||Z<0?0:Z);const oe=J?Aj({zoomPanValues:c,noWheelClassName:P,d3Selection:h,d3Zoom:f,panOnScrollMode:L,panOnScrollSpeed:C,zoomOnPinch:F,onPanZoomStart:o,onPanZoom:i,onPanZoomEnd:l}):Lj({noWheelClassName:P,preventScrolling:M,d3ZoomHandler:v});if(h.on("wheel.zoom",oe,{passive:!1}),!j){const ne=Oj({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:o});f.on("start",ne);const te=zj({zoomPanValues:c,panOnDrag:D,onPaneContextMenu:!!z,onPanZoom:i,onTransformChange:K});f.on("zoom",te);const pe=Fj({zoomPanValues:c,panOnDrag:D,panOnScroll:O,onPaneContextMenu:z,onPanZoomEnd:l,onDraggingChange:u});f.on("end",pe)}const re=$j({zoomActivationKeyPressed:q,panOnDrag:D,zoomOnScroll:H,panOnScroll:O,zoomOnDoubleClick:V,zoomOnPinch:F,userSelectionActive:j,noPanClassName:A,noWheelClassName:P,lib:B,connectionInProgress:Y});f.filter(re),V?h.on("dblclick.zoom",y):h.on("dblclick.zoom",null)}function m(){f.on("zoom",null)}async function g(P,A,z){const j=Cu(P),O=f==null?void 0:f.constrain()(j,A,z);return O&&await b(O),new Promise(D=>D(O))}async function p(P,A){const z=Cu(P);return await b(z,A),new Promise(j=>j(z))}function x(P){if(h){const A=Cu(P),z=h.property("__zoom");(z.k!==P.zoom||z.x!==P.x||z.y!==P.y)&&(f==null||f.transform(h,A,null,{sync:!0}))}}function _(){const P=h?Hx(h.node()):{x:0,y:0,k:1};return{x:P.x,y:P.y,zoom:P.k}}function N(P,A){return h?new Promise(z=>{f==null||f.interpolate((A==null?void 0:A.interpolate)==="linear"?Ci:xa).scaleTo(Tu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>z(!0)),P)}):Promise.resolve(!1)}function w(P,A){return h?new Promise(z=>{f==null||f.interpolate((A==null?void 0:A.interpolate)==="linear"?Ci:xa).scaleBy(Tu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>z(!0)),P)}):Promise.resolve(!1)}function k(P){f==null||f.scaleExtent(P)}function E(P){f==null||f.translateExtent(P)}function T(P){const A=!zt(P)||P<0?0:P;f==null||f.clickDistance(A)}return{update:S,destroy:m,setViewport:p,setViewportConstrained:g,getViewport:_,scaleTo:N,scaleBy:w,setScaleExtent:k,setTranslateExtent:E,syncViewport:x,setClickDistance:T}}var Fs;(function(e){e.Line="line",e.Handle="handle"})(Fs||(Fs={}));function Vj({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:i}){const o=e-t,l=n-r,u=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&s&&(u[0]=u[0]*-1),l&&i&&(u[1]=u[1]*-1),u}function Op(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function kn(e,t){return Math.max(0,t-e)}function jn(e,t){return Math.max(0,e-t)}function ea(e,t,n){return Math.max(0,t-e,e-n)}function zp(e,t){return e?!t:t}function Uj(e,t,n,r,s,i,o,l){let{affectsX:u,affectsY:c}=t;const{isHorizontal:d,isVertical:f}=t,h=d&&f,{xSnapped:v,ySnapped:y}=n,{minWidth:b,maxWidth:S,minHeight:m,maxHeight:g}=r,{x:p,y:x,width:_,height:N,aspectRatio:w}=e;let k=Math.floor(d?v-e.pointerX:0),E=Math.floor(f?y-e.pointerY:0);const T=_+(u?-k:k),P=N+(c?-E:E),A=-i[0]*_,z=-i[1]*N;let j=ea(T,b,S),O=ea(P,m,g);if(o){let C=0,M=0;u&&k<0?C=kn(p+k+A,o[0][0]):!u&&k>0&&(C=jn(p+T+A,o[1][0])),c&&E<0?M=kn(x+E+z,o[0][1]):!c&&E>0&&(M=jn(x+P+z,o[1][1])),j=Math.max(j,C),O=Math.max(O,M)}if(l){let C=0,M=0;u&&k>0?C=jn(p+k,l[0][0]):!u&&k<0&&(C=kn(p+T,l[1][0])),c&&E>0?M=jn(x+E,l[0][1]):!c&&E<0&&(M=kn(x+P,l[1][1])),j=Math.max(j,C),O=Math.max(O,M)}if(s){if(d){const C=ea(T/w,m,g)*w;if(j=Math.max(j,C),o){let M=0;!u&&!c||u&&!c&&h?M=jn(x+z+T/w,o[1][1])*w:M=kn(x+z+(u?k:-k)/w,o[0][1])*w,j=Math.max(j,M)}if(l){let M=0;!u&&!c||u&&!c&&h?M=kn(x+T/w,l[1][1])*w:M=jn(x+(u?k:-k)/w,l[0][1])*w,j=Math.max(j,M)}}if(f){const C=ea(P*w,b,S)/w;if(O=Math.max(O,C),o){let M=0;!u&&!c||c&&!u&&h?M=jn(p+P*w+A,o[1][0])/w:M=kn(p+(c?E:-E)*w+A,o[0][0])/w,O=Math.max(O,M)}if(l){let M=0;!u&&!c||c&&!u&&h?M=kn(p+P*w,l[1][0])/w:M=jn(p+(c?E:-E)*w,l[0][0])/w,O=Math.max(O,M)}}}E=E+(E<0?O:-O),k=k+(k<0?j:-j),s&&(h?T>P*w?E=(zp(u,c)?-k:k)/w:k=(zp(u,c)?-E:E)*w:d?(E=k/w,c=u):(k=E*w,u=c));const D=u?p+k:p,L=c?x+E:x;return{width:_+(u?-k:k),height:N+(c?-E:E),x:i[0]*k*(u?-1:1)+D,y:i[1]*E*(c?-1:1)+L}}const x0={width:0,height:0,x:0,y:0},Bj={...x0,pointerX:0,pointerY:0,aspectRatio:1};function Wj(e){return[[0,0],[e.measured.width,e.measured.height]]}function qj(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,i=e.measured.width??0,o=e.measured.height??0,l=n[0]*i,u=n[1]*o;return[[r-l,s-u],[r+i-l,s+o-u]]}function Qj({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const i=ht(e);let o={controlDirection:Op("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:c,boundaries:d,keepAspectRatio:f,resizeDirection:h,onResizeStart:v,onResize:y,onResizeEnd:b,shouldResize:S}){let m={...x0},g={...Bj};o={boundaries:d,resizeDirection:h,keepAspectRatio:f,controlDirection:Op(c)};let p,x=null,_=[],N,w,k,E=!1;const T=Ex().on("start",P=>{const{nodeLookup:A,transform:z,snapGrid:j,snapToGrid:O,nodeOrigin:D,paneDomNode:L}=n();if(p=A.get(t),!p)return;x=(L==null?void 0:L.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:M}=Ti(P.sourceEvent,{transform:z,snapGrid:j,snapToGrid:O,containerBounds:x});m={width:p.measured.width??0,height:p.measured.height??0,x:p.position.x??0,y:p.position.y??0},g={...m,pointerX:C,pointerY:M,aspectRatio:m.width/m.height},N=void 0,p.parentId&&(p.extent==="parent"||p.expandParent)&&(N=A.get(p.parentId),w=N&&p.extent==="parent"?Wj(N):void 0),_=[],k=void 0;for(const[F,H]of A)if(H.parentId===t&&(_.push({id:F,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const V=qj(H,p,H.origin??D);k?k=[[Math.min(V[0][0],k[0][0]),Math.min(V[0][1],k[0][1])],[Math.max(V[1][0],k[1][0]),Math.max(V[1][1],k[1][1])]]:k=V}v==null||v(P,{...m})}).on("drag",P=>{const{transform:A,snapGrid:z,snapToGrid:j,nodeOrigin:O}=n(),D=Ti(P.sourceEvent,{transform:A,snapGrid:z,snapToGrid:j,containerBounds:x}),L=[];if(!p)return;const{x:C,y:M,width:F,height:H}=m,V={},q=p.origin??O,{width:B,height:K,x:Y,y:Z}=Uj(g,o.controlDirection,D,o.boundaries,o.keepAspectRatio,q,w,k),W=B!==F,J=K!==H,oe=Y!==C&&W,re=Z!==M&&J;if(!oe&&!re&&!W&&!J)return;if((oe||re||q[0]===1||q[1]===1)&&(V.x=oe?Y:m.x,V.y=re?Z:m.y,m.x=V.x,m.y=V.y,_.length>0)){const xe=Y-C,he=Z-M;for(const Ue of _)Ue.position={x:Ue.position.x-xe+q[0]*(B-F),y:Ue.position.y-he+q[1]*(K-H)},L.push(Ue)}if((W||J)&&(V.width=W&&(!o.resizeDirection||o.resizeDirection==="horizontal")?B:m.width,V.height=J&&(!o.resizeDirection||o.resizeDirection==="vertical")?K:m.height,m.width=V.width,m.height=V.height),N&&p.expandParent){const xe=q[0]*(V.width??0);V.x&&V.x<xe&&(m.x=xe,g.x=g.x-(V.x-xe));const he=q[1]*(V.height??0);V.y&&V.y<he&&(m.y=he,g.y=g.y-(V.y-he))}const ne=Vj({width:m.width,prevWidth:F,height:m.height,prevHeight:H,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),te={...m,direction:ne};(S==null?void 0:S(P,te))!==!1&&(E=!0,y==null||y(P,te),r(V,L))}).on("end",P=>{E&&(b==null||b(P,{...m}),s==null||s({...m}),E=!1)});i.call(T)}function u(){i.on(".drag",null)}return{update:l,destroy:u}}const{useDebugValue:Xj}=Ot,{useSyncExternalStoreWithSelector:Kj}=dx,Yj=e=>e;function v0(e,t=Yj,n){const r=Kj(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Xj(r),r}const Fp=(e,t)=>{const n=ox(e),r=(s,i=t)=>v0(n,s,i);return Object.assign(r,n),r},Gj=(e,t)=>e?Fp(e,t):Fp;function _e(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Al=R.createContext(null),Zj=Al.Provider,w0=nn.error001();function ce(e,t){const n=R.useContext(Al);if(n===null)throw new Error(w0);return v0(n,e,t)}function Se(){const e=R.useContext(Al);if(e===null)throw new Error(w0);return R.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const $p={display:"none"},Jj={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},b0="react-flow__node-desc",N0="react-flow__edge-desc",eE="react-flow__aria-live",tE=e=>e.ariaLiveMessage,nE=e=>e.ariaLabelConfig;function rE({rfId:e}){const t=ce(tE);return a.jsx("div",{id:`${eE}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Jj,children:t})}function sE({rfId:e,disableKeyboardA11y:t}){const n=ce(nE);return a.jsxs(a.Fragment,{children:[a.jsx("div",{id:`${b0}-${e}`,style:$p,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),a.jsx("div",{id:`${N0}-${e}`,style:$p,children:n["edge.a11yDescription.default"]}),!t&&a.jsx(rE,{rfId:e})]})}const Ll=R.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},i)=>{const o=`${e}`.split("-");return a.jsx("div",{className:Ie(["react-flow__panel",n,...o]),style:r,ref:i,...s,children:t})});Ll.displayName="Panel";function iE({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:a.jsx(Ll,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:a.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const oE=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},ta=e=>e.id;function aE(e,t){return _e(e.selectedNodes.map(ta),t.selectedNodes.map(ta))&&_e(e.selectedEdges.map(ta),t.selectedEdges.map(ta))}function lE({onSelectionChange:e}){const t=Se(),{selectedNodes:n,selectedEdges:r}=ce(oE,aE);return R.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(i=>i(s))},[n,r,e]),null}const uE=e=>!!e.onSelectionChangeHandlers;function cE({onSelectionChange:e}){const t=ce(uE);return e||t?a.jsx(lE,{onSelectionChange:e}):null}const _0=[0,0],dE={x:0,y:0,zoom:1},fE=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Hp=[...fE,"rfId"],hE=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Vp={translateExtent:Ji,nodeOrigin:_0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function pE(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:i,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:u}=ce(hE,_e),c=Se();R.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{d.current=Vp,l()}),[]);const d=R.useRef(Vp);return R.useEffect(()=>{for(const f of Hp){const h=e[f],v=d.current[f];h!==v&&(typeof e[f]>"u"||(f==="nodes"?t(h):f==="edges"?n(h):f==="minZoom"?r(h):f==="maxZoom"?s(h):f==="translateExtent"?i(h):f==="nodeExtent"?o(h):f==="ariaLabelConfig"?c.setState({ariaLabelConfig:oj(h)}):f==="fitView"?c.setState({fitViewQueued:h}):f==="fitViewOptions"?c.setState({fitViewOptions:h}):c.setState({[f]:h})))}d.current=e},Hp.map(f=>e[f])),null}function Up(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function mE(e){var r;const[t,n]=R.useState(e==="system"?null:e);return R.useEffect(()=>{if(e!=="system"){n(e);return}const s=Up(),i=()=>n(s!=null&&s.matches?"dark":"light");return i(),s==null||s.addEventListener("change",i),()=>{s==null||s.removeEventListener("change",i)}},[e]),t!==null?t:(r=Up())!=null&&r.matches?"dark":"light"}const Bp=typeof document<"u"?document:null;function ro(e=null,t={target:Bp,actInsideInputWithModifier:!0}){const[n,r]=R.useState(!1),s=R.useRef(!1),i=R.useRef(new Set([])),[o,l]=R.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=c.reduce((f,h)=>f.concat(...h),[]);return[c,d]}return[[],[]]},[e]);return R.useEffect(()=>{const u=(t==null?void 0:t.target)??Bp,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=v=>{var S,m;if(s.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!s.current||s.current&&!c)&&t0(v))return!1;const b=qp(v.code,l);if(i.current.add(v[b]),Wp(o,i.current,!1)){const g=((m=(S=v.composedPath)==null?void 0:S.call(v))==null?void 0:m[0])||v.target,p=(g==null?void 0:g.nodeName)==="BUTTON"||(g==null?void 0:g.nodeName)==="A";t.preventDefault!==!1&&(s.current||!p)&&v.preventDefault(),r(!0)}},f=v=>{const y=qp(v.code,l);Wp(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(v[y]),v.key==="Meta"&&i.current.clear(),s.current=!1},h=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,r]),n}function Wp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function qp(e,t){return t.includes(e)?"code":"key"}const gE=()=>{const e=Se();return R.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,i],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:i,maxZoom:o,panZoom:l}=e.getState(),u=gf(t,r,s,i,o,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(u,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:i,domNode:o}=e.getState();if(!o)return t;const{x:l,y:u}=o.getBoundingClientRect(),c={x:t.x-l,y:t.y-u},d=n.snapGrid??s,f=n.snapToGrid??i;return bo(c,r,f,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:i}=r.getBoundingClientRect(),o=il(t,n);return{x:o.x+s,y:o.y+i}}}),[])};function S0(e,t){const n=[],r=new Map,s=[];for(const i of e)if(i.type==="add"){s.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const o=r.get(i.id);o?o.push(i):r.set(i.id,[i])}for(const i of t){const o=r.get(i.id);if(!o){n.push(i);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const l={...i};for(const u of o)yE(u,l);n.push(l)}return s.length&&s.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function yE(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function k0(e,t){return S0(e,t)}function j0(e,t){return S0(e,t)}function ar(e,t){return{id:e,type:"select",selected:t}}function ss(e,t=new Set,n=!1){const r=[];for(const[s,i]of e){const o=t.has(s);!(i.selected===void 0&&!o)&&i.selected!==o&&(n&&(i.selected=o),r.push(ar(i.id,o)))}return r}function Qp({items:e=[],lookup:t}){var s;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,o]of e.entries()){const l=t.get(o.id),u=((s=l==null?void 0:l.internals)==null?void 0:s.userNode)??l;u!==void 0&&u!==o&&n.push({id:o.id,item:o,type:"replace"}),u===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Xp(e){return{id:e.id,type:"remove"}}const Kp=e=>Yk(e),xE=e=>Qx(e);function E0(e){return R.forwardRef(e)}const vE=typeof window<"u"?R.useLayoutEffect:R.useEffect;function Yp(e){const[t,n]=R.useState(BigInt(0)),[r]=R.useState(()=>wE(()=>n(s=>s+BigInt(1))));return vE(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function wE(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const C0=R.createContext(null);function bE({children:e}){const t=Se(),n=R.useCallback(l=>{const{nodes:u=[],setNodes:c,hasDefaultNodes:d,onNodesChange:f,nodeLookup:h,fitViewQueued:v,onNodesChangeMiddlewareMap:y}=t.getState();let b=u;for(const m of l)b=typeof m=="function"?m(b):m;let S=Qp({items:b,lookup:h});for(const m of y.values())S=m(S);d&&c(b),S.length>0?f==null||f(S):v&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:g,setNodes:p}=t.getState();m&&p(g)})},[]),r=Yp(n),s=R.useCallback(l=>{const{edges:u=[],setEdges:c,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:h}=t.getState();let v=u;for(const y of l)v=typeof y=="function"?y(v):y;d?c(v):f&&f(Qp({items:v,lookup:h}))},[]),i=Yp(s),o=R.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return a.jsx(C0.Provider,{value:o,children:e})}function NE(){const e=R.useContext(C0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const _E=e=>!!e.panZoom;function Qs(){const e=gE(),t=Se(),n=NE(),r=ce(_E),s=R.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),o=f=>{n.nodeQueue.push(f)},l=f=>{n.edgeQueue.push(f)},u=f=>{var m,g;const{nodeLookup:h,nodeOrigin:v}=t.getState(),y=Kp(f)?f:h.get(f.id),b=y.parentId?Jx(y.position,y.measured,y.parentId,h,v):y.position,S={...y,position:b,width:((m=y.measured)==null?void 0:m.width)??y.width,height:((g=y.measured)==null?void 0:g.height)??y.height};return Os(S)},c=(f,h,v={replace:!1})=>{o(y=>y.map(b=>{if(b.id===f){const S=typeof h=="function"?h(b):h;return v.replace&&Kp(S)?S:{...b,...S}}return b}))},d=(f,h,v={replace:!1})=>{l(y=>y.map(b=>{if(b.id===f){const S=typeof h=="function"?h(b):h;return v.replace&&xE(S)?S:{...b,...S}}return b}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var h;return(h=i(f))==null?void 0:h.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(h=>({...h}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:o,setEdges:l,addNodes:f=>{const h=Array.isArray(f)?f:[f];n.nodeQueue.push(v=>[...v,...h])},addEdges:f=>{const h=Array.isArray(f)?f:[f];n.edgeQueue.push(v=>[...v,...h])},toObject:()=>{const{nodes:f=[],edges:h=[],transform:v}=t.getState(),[y,b,S]=v;return{nodes:f.map(m=>({...m})),edges:h.map(m=>({...m})),viewport:{x:y,y:b,zoom:S}}},deleteElements:async({nodes:f=[],edges:h=[]})=>{const{nodes:v,edges:y,onNodesDelete:b,onEdgesDelete:S,triggerNodeChanges:m,triggerEdgeChanges:g,onDelete:p,onBeforeDelete:x}=t.getState(),{nodes:_,edges:N}=await tj({nodesToRemove:f,edgesToRemove:h,nodes:v,edges:y,onBeforeDelete:x}),w=N.length>0,k=_.length>0;if(w){const E=N.map(Xp);S==null||S(N),g(E)}if(k){const E=_.map(Xp);b==null||b(_),m(E)}return(k||w)&&(p==null||p({nodes:_,edges:N})),{deletedNodes:_,deletedEdges:N}},getIntersectingNodes:(f,h=!0,v)=>{const y=jp(f),b=y?f:u(f),S=v!==void 0;return b?(v||t.getState().nodes).filter(m=>{const g=t.getState().nodeLookup.get(m.id);if(g&&!y&&(m.id===f.id||!g.internals.positionAbsolute))return!1;const p=Os(S?m:g),x=to(p,b);return h&&x>0||x>=p.width*p.height||x>=b.width*b.height}):[]},isNodeIntersecting:(f,h,v=!0)=>{const b=jp(f)?f:u(f);if(!b)return!1;const S=to(b,h);return v&&S>0||S>=h.width*h.height||S>=b.width*b.height},updateNode:c,updateNodeData:(f,h,v={replace:!1})=>{c(f,y=>{const b=typeof h=="function"?h(y):h;return v.replace?{...y,data:b}:{...y,data:{...y.data,...b}}},v)},updateEdge:d,updateEdgeData:(f,h,v={replace:!1})=>{d(f,y=>{const b=typeof h=="function"?h(y):h;return v.replace?{...y,data:b}:{...y,data:{...y.data,...b}}},v)},getNodesBounds:f=>{const{nodeLookup:h,nodeOrigin:v}=t.getState();return Gk(f,{nodeLookup:h,nodeOrigin:v})},getHandleConnections:({type:f,id:h,nodeId:v})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${v}-${f}${h?`-${h}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:f,handleId:h,nodeId:v})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${v}${f?h?`-${f}-${h}`:`-${f}`:""}`))==null?void 0:y.values())??[])},fitView:async f=>{const h=t.getState().fitViewResolver??ij();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:h}),n.nodeQueue.push(v=>[...v]),h.promise}}},[]);return R.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const Gp=e=>e.selected,SE=typeof window<"u"?window:void 0;function kE({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Se(),{deleteElements:r}=Qs(),s=ro(e,{actInsideInputWithModifier:!1}),i=ro(t,{target:SE});R.useEffect(()=>{if(s){const{edges:o,nodes:l}=n.getState();r({nodes:l.filter(Gp),edges:o.filter(Gp)}),n.setState({nodesSelectionActive:!1})}},[s]),R.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function jE(e){const t=Se();R.useEffect(()=>{const n=()=>{var s,i,o,l;if(!e.current||!(((i=(s=e.current).checkVisibility)==null?void 0:i.call(s))??!0))return!1;const r=yf(e.current);(r.height===0||r.width===0)&&((l=(o=t.getState()).onError)==null||l.call(o,"004",nn.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Ol={position:"absolute",width:"100%",height:"100%",top:0,left:0},EE=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function CE({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:i=Er.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:u,translateExtent:c,minZoom:d,maxZoom:f,zoomActivationKeyCode:h,preventScrolling:v=!0,children:y,noWheelClassName:b,noPanClassName:S,onViewportChange:m,isControlledViewport:g,paneClickDistance:p,selectionOnDrag:x}){const _=Se(),N=R.useRef(null),{userSelectionActive:w,lib:k,connectionInProgress:E}=ce(EE,_e),T=ro(h),P=R.useRef();jE(N);const A=R.useCallback(z=>{m==null||m({x:z[0],y:z[1],zoom:z[2]}),g||_.setState({transform:z})},[m,g]);return R.useEffect(()=>{if(N.current){P.current=Hj({domNode:N.current,minZoom:d,maxZoom:f,translateExtent:c,viewport:u,onDraggingChange:D=>_.setState({paneDragging:D}),onPanZoomStart:(D,L)=>{const{onViewportChangeStart:C,onMoveStart:M}=_.getState();M==null||M(D,L),C==null||C(L)},onPanZoom:(D,L)=>{const{onViewportChange:C,onMove:M}=_.getState();M==null||M(D,L),C==null||C(L)},onPanZoomEnd:(D,L)=>{const{onViewportChangeEnd:C,onMoveEnd:M}=_.getState();M==null||M(D,L),C==null||C(L)}});const{x:z,y:j,zoom:O}=P.current.getViewport();return _.setState({panZoom:P.current,transform:[z,j,O],domNode:N.current.closest(".react-flow")}),()=>{var D;(D=P.current)==null||D.destroy()}}},[]),R.useEffect(()=>{var z;(z=P.current)==null||z.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:i,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:T,preventScrolling:v,noPanClassName:S,userSelectionActive:w,noWheelClassName:b,lib:k,onTransformChange:A,connectionInProgress:E,selectionOnDrag:x,paneClickDistance:p})},[e,t,n,r,s,i,o,l,T,v,S,w,b,k,A,E,x,p]),a.jsx("div",{className:"react-flow__renderer",ref:N,style:Ol,children:y})}const TE=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function ME(){const{userSelectionActive:e,userSelectionRect:t}=ce(TE,_e);return e&&t?a.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Mu=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},RE=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function PE({isSelecting:e,selectionKeyPressed:t,selectionMode:n=eo.Full,panOnDrag:r,paneClickDistance:s,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:l,onPaneClick:u,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:v,children:y}){const b=Se(),{userSelectionActive:S,elementsSelectable:m,dragging:g,connectionInProgress:p}=ce(RE,_e),x=m&&(e||S),_=R.useRef(null),N=R.useRef(),w=R.useRef(new Set),k=R.useRef(new Set),E=R.useRef(!1),T=C=>{if(E.current||p){E.current=!1;return}u==null||u(C),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},P=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}c==null||c(C)},A=d?C=>d(C):void 0,z=C=>{E.current&&(C.stopPropagation(),E.current=!1)},j=C=>{var K,Y;const{domNode:M}=b.getState();if(N.current=M==null?void 0:M.getBoundingClientRect(),!N.current)return;const F=C.target===_.current;if(!F&&!!C.target.closest(".nokey")||!e||!(i&&F||t)||C.button!==0||!C.isPrimary)return;(Y=(K=C.target)==null?void 0:K.setPointerCapture)==null||Y.call(K,C.pointerId),E.current=!1;const{x:q,y:B}=Ft(C.nativeEvent,N.current);b.setState({userSelectionRect:{width:0,height:0,startX:q,startY:B,x:q,y:B}}),F||(C.stopPropagation(),C.preventDefault())},O=C=>{const{userSelectionRect:M,transform:F,nodeLookup:H,edgeLookup:V,connectionLookup:q,triggerNodeChanges:B,triggerEdgeChanges:K,defaultEdgeOptions:Y,resetSelectedElements:Z}=b.getState();if(!N.current||!M)return;const{x:W,y:J}=Ft(C.nativeEvent,N.current),{startX:oe,startY:re}=M;if(!E.current){const he=t?0:s;if(Math.hypot(W-oe,J-re)<=he)return;Z(),o==null||o(C)}E.current=!0;const ne={startX:oe,startY:re,x:W<oe?W:oe,y:J<re?J:re,width:Math.abs(W-oe),height:Math.abs(J-re)},te=w.current,pe=k.current;w.current=new Set(mf(H,ne,F,n===eo.Partial,!0).map(he=>he.id)),k.current=new Set;const xe=(Y==null?void 0:Y.selectable)??!0;for(const he of w.current){const Ue=q.get(he);if(Ue)for(const{edgeId:_n}of Ue.values()){const sn=V.get(_n);sn&&(sn.selectable??xe)&&k.current.add(_n)}}if(!Ep(te,w.current)){const he=ss(H,w.current,!0);B(he)}if(!Ep(pe,k.current)){const he=ss(V,k.current);K(he)}b.setState({userSelectionRect:ne,userSelectionActive:!0,nodesSelectionActive:!1})},D=C=>{var M,F;C.button===0&&((F=(M=C.target)==null?void 0:M.releasePointerCapture)==null||F.call(M,C.pointerId),!S&&C.target===_.current&&b.getState().userSelectionRect&&(T==null||T(C)),b.setState({userSelectionActive:!1,userSelectionRect:null}),E.current&&(l==null||l(C),b.setState({nodesSelectionActive:w.current.size>0})))},L=r===!0||Array.isArray(r)&&r.includes(0);return a.jsxs("div",{className:Ie(["react-flow__pane",{draggable:L,dragging:g,selection:e}]),onClick:x?void 0:Mu(T,_),onContextMenu:Mu(P,_),onWheel:Mu(A,_),onPointerEnter:x?void 0:f,onPointerMove:x?O:h,onPointerUp:x?D:void 0,onPointerDownCapture:x?j:void 0,onClickCapture:x?z:void 0,onPointerLeave:v,ref:_,style:Ol,children:[y,a.jsx(ME,{})]})}function nd({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeLookup:l,onError:u}=t.getState(),c=l.get(e);if(!c){u==null||u("012",nn.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function T0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,nodeClickDistance:o}){const l=Se(),[u,c]=R.useState(!1),d=R.useRef();return R.useEffect(()=>{d.current=Ej({getStoreItems:()=>l.getState(),onNodeMouseDown:f=>{nd({id:f,store:l,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),R.useEffect(()=>{var f,h;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(h=d.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:s,nodeClickDistance:o}),()=>{var v;(v=d.current)==null||v.destroy()}},[n,r,t,i,e,s]),u}const IE=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function M0(){const e=Se();return R.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:i,nodesDraggable:o,onError:l,updateNodePositions:u,nodeLookup:c,nodeOrigin:d}=e.getState(),f=new Map,h=IE(o),v=s?i[0]:5,y=s?i[1]:5,b=n.direction.x*v*n.factor,S=n.direction.y*y*n.factor;for(const[,m]of c){if(!h(m))continue;let g={x:m.internals.positionAbsolute.x+b,y:m.internals.positionAbsolute.y+S};s&&(g=wo(g,i));const{position:p,positionAbsolute:x}=Xx({nodeId:m.id,nextPosition:g,nodeLookup:c,nodeExtent:r,nodeOrigin:d,onError:l});m.position=p,m.internals.positionAbsolute=x,f.set(m.id,m)}u(f)},[])}const _f=R.createContext(null),DE=_f.Provider;_f.Consumer;const R0=()=>R.useContext(_f),AE=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),LE=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:i,connection:o}=r,{fromHandle:l,toHandle:u,isValid:c}=o,d=(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:d,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:i===As.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!s,valid:d&&c}};function OE({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:u,className:c,onMouseDown:d,onTouchStart:f,...h},v){var O,D;const y=o||null,b=e==="target",S=Se(),m=R0(),{connectOnClick:g,noPanClassName:p,rfId:x}=ce(AE,_e),{connectingFrom:_,connectingTo:N,clickConnecting:w,isPossibleEndHandle:k,connectionInProcess:E,clickConnectionInProcess:T,valid:P}=ce(LE(m,y,e),_e);m||(D=(O=S.getState()).onError)==null||D.call(O,"010",nn.error010());const A=L=>{const{defaultEdgeOptions:C,onConnect:M,hasDefaultEdges:F}=S.getState(),H={...C,...L};if(F){const{edges:V,setEdges:q}=S.getState();q(o0(H,V))}M==null||M(H),l==null||l(H)},z=L=>{if(!m)return;const C=n0(L.nativeEvent);if(s&&(C&&L.button===0||!C)){const M=S.getState();td.onPointerDown(L.nativeEvent,{handleDomNode:L.currentTarget,autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:b,handleId:y,nodeId:m,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:A,isValidConnection:n||M.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed,dragThreshold:M.connectionDragThreshold})}C?d==null||d(L):f==null||f(L)},j=L=>{const{onClickConnectStart:C,onClickConnectEnd:M,connectionClickStartHandle:F,connectionMode:H,isValidConnection:V,lib:q,rfId:B,nodeLookup:K,connection:Y}=S.getState();if(!m||!F&&!s)return;if(!F){C==null||C(L.nativeEvent,{nodeId:m,handleId:y,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:m,type:e,id:y}});return}const Z=e0(L.target),W=n||V,{connection:J,isValid:oe}=td.isValid(L.nativeEvent,{handle:{nodeId:m,id:y,type:e},connectionMode:H,fromNodeId:F.nodeId,fromHandleId:F.id||null,fromType:F.type,isValidConnection:W,flowId:B,doc:Z,lib:q,nodeLookup:K});oe&&J&&A(J);const re=structuredClone(Y);delete re.inProgress,re.toPosition=re.toHandle?re.toHandle.position:null,M==null||M(L,re),S.setState({connectionClickStartHandle:null})};return a.jsx("div",{"data-handleid":y,"data-nodeid":m,"data-handlepos":t,"data-id":`${x}-${m}-${y}-${e}`,className:Ie(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",p,c,{source:!b,target:b,connectable:r,connectablestart:s,connectableend:i,clickconnecting:w,connectingfrom:_,connectingto:N,valid:P,connectionindicator:r&&(!E||k)&&(E||T?i:s)}]),onMouseDown:z,onTouchStart:z,onClick:g?j:void 0,ref:v,...h,children:u})}const $s=R.memo(E0(OE));function zE({data:e,isConnectable:t,sourcePosition:n=G.Bottom}){return a.jsxs(a.Fragment,{children:[e==null?void 0:e.label,a.jsx($s,{type:"source",position:n,isConnectable:t})]})}function FE({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:r=G.Bottom}){return a.jsxs(a.Fragment,{children:[a.jsx($s,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,a.jsx($s,{type:"source",position:r,isConnectable:t})]})}function $E(){return null}function HE({data:e,isConnectable:t,targetPosition:n=G.Top}){return a.jsxs(a.Fragment,{children:[a.jsx($s,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const al={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Zp={input:zE,default:FE,output:HE,group:$E};function VE(e){var t,n,r,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const UE=e=>{const{width:t,height:n,x:r,y:s}=vo(e.nodeLookup,{filter:i=>!!i.selected});return{width:zt(t)?t:null,height:zt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function BE({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Se(),{width:s,height:i,transformString:o,userSelectionActive:l}=ce(UE,_e),u=M0(),c=R.useRef(null);if(R.useEffect(()=>{var h;n||(h=c.current)==null||h.focus({preventScroll:!0})},[n]),T0({nodeRef:c}),l||!s||!i)return null;const d=e?h=>{const v=r.getState().nodes.filter(y=>y.selected);e(h,v)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(al,h.key)&&(h.preventDefault(),u({direction:al[h.key],factor:h.shiftKey?4:1}))};return a.jsx("div",{className:Ie(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:a.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:s,height:i}})})}const Jp=typeof window<"u"?window:void 0,WE=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function P0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:u,selectionKeyCode:c,selectionOnDrag:d,selectionMode:f,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:S,elementsSelectable:m,zoomOnScroll:g,zoomOnPinch:p,panOnScroll:x,panOnScrollSpeed:_,panOnScrollMode:N,zoomOnDoubleClick:w,panOnDrag:k,defaultViewport:E,translateExtent:T,minZoom:P,maxZoom:A,preventScrolling:z,onSelectionContextMenu:j,noWheelClassName:O,noPanClassName:D,disableKeyboardA11y:L,onViewportChange:C,isControlledViewport:M}){const{nodesSelectionActive:F,userSelectionActive:H}=ce(WE,_e),V=ro(c,{target:Jp}),q=ro(b,{target:Jp}),B=q||k,K=q||x,Y=d&&B!==!0,Z=V||H||Y;return kE({deleteKeyCode:u,multiSelectionKeyCode:y}),a.jsx(CE,{onPaneContextMenu:i,elementsSelectable:m,zoomOnScroll:g,zoomOnPinch:p,panOnScroll:K,panOnScrollSpeed:_,panOnScrollMode:N,zoomOnDoubleClick:w,panOnDrag:!V&&B,defaultViewport:E,translateExtent:T,minZoom:P,maxZoom:A,zoomActivationKeyCode:S,preventScrolling:z,noWheelClassName:O,noPanClassName:D,onViewportChange:C,isControlledViewport:M,paneClickDistance:l,selectionOnDrag:Y,children:a.jsxs(PE,{onSelectionStart:h,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:B,isSelecting:!!Z,selectionMode:f,selectionKeyPressed:V,paneClickDistance:l,selectionOnDrag:Y,children:[e,F&&a.jsx(BE,{onSelectionContextMenu:j,noPanClassName:D,disableKeyboardA11y:L})]})})}P0.displayName="FlowRenderer";const qE=R.memo(P0),QE=e=>t=>e?mf(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function XE(e){return ce(R.useCallback(QE(e),[e]),_e)}const KE=e=>e.updateNodeInternals;function YE(){const e=ce(KE),[t]=R.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const i=s.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:s.target,force:!0})}),e(r)}));return R.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function GE({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=Se(),i=R.useRef(null),o=R.useRef(null),l=R.useRef(e.sourcePosition),u=R.useRef(e.targetPosition),c=R.useRef(t),d=n&&!!e.internals.handleBounds;return R.useEffect(()=>{i.current&&!e.hidden&&(!d||o.current!==i.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(i.current),o.current=i.current)},[d,e.hidden]),R.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),R.useEffect(()=>{if(i.current){const f=c.current!==t,h=l.current!==e.sourcePosition,v=u.current!==e.targetPosition;(f||h||v)&&(c.current=t,l.current=e.sourcePosition,u.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function ZE({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:i,onDoubleClick:o,nodesDraggable:l,elementsSelectable:u,nodesConnectable:c,nodesFocusable:d,resizeObserver:f,noDragClassName:h,noPanClassName:v,disableKeyboardA11y:y,rfId:b,nodeTypes:S,nodeClickDistance:m,onError:g}){const{node:p,internals:x,isParent:_}=ce(W=>{const J=W.nodeLookup.get(e),oe=W.parentLookup.has(e);return{node:J,internals:J.internals,isParent:oe}},_e);let N=p.type||"default",w=(S==null?void 0:S[N])||Zp[N];w===void 0&&(g==null||g("003",nn.error003(N)),N="default",w=(S==null?void 0:S.default)||Zp.default);const k=!!(p.draggable||l&&typeof p.draggable>"u"),E=!!(p.selectable||u&&typeof p.selectable>"u"),T=!!(p.connectable||c&&typeof p.connectable>"u"),P=!!(p.focusable||d&&typeof p.focusable>"u"),A=Se(),z=Zx(p),j=GE({node:p,nodeType:N,hasDimensions:z,resizeObserver:f}),O=T0({nodeRef:j,disabled:p.hidden||!k,noDragClassName:h,handleSelector:p.dragHandle,nodeId:e,isSelectable:E,nodeClickDistance:m}),D=M0();if(p.hidden)return null;const L=Nn(p),C=VE(p),M=E||k||t||n||r||s,F=n?W=>n(W,{...x.userNode}):void 0,H=r?W=>r(W,{...x.userNode}):void 0,V=s?W=>s(W,{...x.userNode}):void 0,q=i?W=>i(W,{...x.userNode}):void 0,B=o?W=>o(W,{...x.userNode}):void 0,K=W=>{const{selectNodesOnDrag:J,nodeDragThreshold:oe}=A.getState();E&&(!J||!k||oe>0)&&nd({id:e,store:A,nodeRef:j}),t&&t(W,{...x.userNode})},Y=W=>{if(!(t0(W.nativeEvent)||y)){if(Ux.includes(W.key)&&E){const J=W.key==="Escape";nd({id:e,store:A,unselect:J,nodeRef:j})}else if(k&&p.selected&&Object.prototype.hasOwnProperty.call(al,W.key)){W.preventDefault();const{ariaLabelConfig:J}=A.getState();A.setState({ariaLiveMessage:J["node.a11yDescription.ariaLiveMessage"]({direction:W.key.replace("Arrow","").toLowerCase(),x:~~x.positionAbsolute.x,y:~~x.positionAbsolute.y})}),D({direction:al[W.key],factor:W.shiftKey?4:1})}}},Z=()=>{var pe;if(y||!((pe=j.current)!=null&&pe.matches(":focus-visible")))return;const{transform:W,width:J,height:oe,autoPanOnNodeFocus:re,setCenter:ne}=A.getState();if(!re)return;mf(new Map([[e,p]]),{x:0,y:0,width:J,height:oe},W,!0).length>0||ne(p.position.x+L.width/2,p.position.y+L.height/2,{zoom:W[2]})};return a.jsx("div",{className:Ie(["react-flow__node",`react-flow__node-${N}`,{[v]:k},p.className,{selected:p.selected,selectable:E,parent:_,draggable:k,dragging:O}]),ref:j,style:{zIndex:x.z,transform:`translate(${x.positionAbsolute.x}px,${x.positionAbsolute.y}px)`,pointerEvents:M?"all":"none",visibility:z?"visible":"hidden",...p.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:F,onMouseMove:H,onMouseLeave:V,onContextMenu:q,onClick:K,onDoubleClick:B,onKeyDown:P?Y:void 0,tabIndex:P?0:void 0,onFocus:P?Z:void 0,role:p.ariaRole??(P?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${b0}-${b}`,"aria-label":p.ariaLabel,...p.domAttributes,children:a.jsx(DE,{value:e,children:a.jsx(w,{id:e,data:p.data,type:N,positionAbsoluteX:x.positionAbsolute.x,positionAbsoluteY:x.positionAbsolute.y,selected:p.selected??!1,selectable:E,draggable:k,deletable:p.deletable??!0,isConnectable:T,sourcePosition:p.sourcePosition,targetPosition:p.targetPosition,dragging:O,dragHandle:p.dragHandle,zIndex:x.z,parentId:p.parentId,...L})})})}var JE=R.memo(ZE);const eC=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function I0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:i}=ce(eC,_e),o=XE(e.onlyRenderVisibleElements),l=YE();return a.jsx("div",{className:"react-flow__nodes",style:Ol,children:o.map(u=>a.jsx(JE,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:i},u))})}I0.displayName="NodeRenderer";const tC=R.memo(I0);function nC(e){return ce(R.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const i=n.nodeLookup.get(s.source),o=n.nodeLookup.get(s.target);i&&o&&uj({sourceNode:i,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),_e)}const rC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return a.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},sC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return a.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},em={[rl.Arrow]:rC,[rl.ArrowClosed]:sC};function iC(e){const t=Se();return R.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(em,e)?em[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",nn.error009(e)),null)},[e])}const oC=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const u=iC(t);return u?a.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:a.jsx(u,{color:n,strokeWidth:o})}):null},D0=({defaultColor:e,rfId:t})=>{const n=ce(i=>i.edges),r=ce(i=>i.defaultEdgeOptions),s=R.useMemo(()=>gj(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return s.length?a.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:a.jsx("defs",{children:s.map(i=>a.jsx(oC,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};D0.displayName="MarkerDefinitions";var aC=R.memo(D0);function A0({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:i,labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:u,className:c,...d}){const[f,h]=R.useState({x:1,y:0,width:0,height:0}),v=Ie(["react-flow__edge-textwrapper",c]),y=R.useRef(null);return R.useEffect(()=>{if(y.current){const b=y.current.getBBox();h({x:b.x,y:b.y,width:b.width,height:b.height})}},[n]),n?a.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:v,visibility:f.width?"visible":"hidden",...d,children:[s&&a.jsx("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),a.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:y,style:r,children:n}),u]}):null}A0.displayName="EdgeText";const lC=R.memo(A0);function Hs({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,interactionWidth:c=20,...d}){return a.jsxs(a.Fragment,{children:[a.jsx("path",{...d,d:e,fill:"none",className:Ie(["react-flow__edge-path",d.className])}),c?a.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&zt(t)&&zt(n)?a.jsx(lC,{x:t,y:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null]})}function tm({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===G.Left||e===G.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function L0({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top}){const[o,l]=tm({pos:n,x1:e,y1:t,x2:r,y2:s}),[u,c]=tm({pos:i,x1:r,y1:s,x2:e,y2:t}),[d,f,h,v]=r0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${o},${l} ${u},${c} ${r},${s}`,d,f,h,v]}function O0(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o,targetPosition:l,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:y,markerEnd:b,markerStart:S,interactionWidth:m})=>{const[g,p,x]=L0({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:l}),_=e.isInternal?void 0:t;return a.jsx(Hs,{id:_,path:g,labelX:p,labelY:x,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:y,markerEnd:b,markerStart:S,interactionWidth:m})})}const uC=O0({isInternal:!1}),z0=O0({isInternal:!0});uC.displayName="SimpleBezierEdge";z0.displayName="SimpleBezierEdgeInternal";function F0(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:v=G.Bottom,targetPosition:y=G.Top,markerEnd:b,markerStart:S,pathOptions:m,interactionWidth:g})=>{const[p,x,_]=ol({sourceX:n,sourceY:r,sourcePosition:v,targetX:s,targetY:i,targetPosition:y,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),N=e.isInternal?void 0:t;return a.jsx(Hs,{id:N,path:p,labelX:x,labelY:_,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:b,markerStart:S,interactionWidth:g})})}const $0=F0({isInternal:!1}),H0=F0({isInternal:!0});$0.displayName="SmoothStepEdge";H0.displayName="SmoothStepEdgeInternal";function V0(e){return R.memo(({id:t,...n})=>{var s;const r=e.isInternal?void 0:t;return a.jsx($0,{...n,id:r,pathOptions:R.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const cC=V0({isInternal:!1}),U0=V0({isInternal:!0});cC.displayName="StepEdge";U0.displayName="StepEdgeInternal";function B0(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:v,markerStart:y,interactionWidth:b})=>{const[S,m,g]=a0({sourceX:n,sourceY:r,targetX:s,targetY:i}),p=e.isInternal?void 0:t;return a.jsx(Hs,{id:p,path:S,labelX:m,labelY:g,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:v,markerStart:y,interactionWidth:b})})}const dC=B0({isInternal:!1}),W0=B0({isInternal:!0});dC.displayName="StraightEdge";W0.displayName="StraightEdgeInternal";function q0(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o=G.Bottom,targetPosition:l=G.Top,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:y,markerEnd:b,markerStart:S,pathOptions:m,interactionWidth:g})=>{const[p,x,_]=s0({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:l,curvature:m==null?void 0:m.curvature}),N=e.isInternal?void 0:t;return a.jsx(Hs,{id:N,path:p,labelX:x,labelY:_,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:y,markerEnd:b,markerStart:S,interactionWidth:g})})}const fC=q0({isInternal:!1}),Q0=q0({isInternal:!0});fC.displayName="BezierEdge";Q0.displayName="BezierEdgeInternal";const nm={default:Q0,straight:W0,step:U0,smoothstep:H0,simplebezier:z0},rm={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},hC=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,pC=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,sm="react-flow__edgeupdater";function im({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:l}){return a.jsx("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:Ie([sm,`${sm}-${l}`]),cx:hC(t,r,e),cy:pC(n,r,e),r,stroke:"transparent",fill:"transparent"})}function mC({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:i,targetY:o,sourcePosition:l,targetPosition:u,onReconnect:c,onReconnectStart:d,onReconnectEnd:f,setReconnecting:h,setUpdateHover:v}){const y=Se(),b=(x,_)=>{if(x.button!==0)return;const{autoPanOnConnect:N,domNode:w,isValidConnection:k,connectionMode:E,connectionRadius:T,lib:P,onConnectStart:A,onConnectEnd:z,cancelConnection:j,nodeLookup:O,rfId:D,panBy:L,updateConnection:C}=y.getState(),M=_.type==="target",F=(q,B)=>{h(!1),f==null||f(q,n,_.type,B)},H=q=>c==null?void 0:c(n,q),V=(q,B)=>{h(!0),d==null||d(x,n,_.type),A==null||A(q,B)};td.onPointerDown(x.nativeEvent,{autoPanOnConnect:N,connectionMode:E,connectionRadius:T,domNode:w,handleId:_.id,nodeId:_.nodeId,nodeLookup:O,isTarget:M,edgeUpdaterType:_.type,lib:P,flowId:D,cancelConnection:j,panBy:L,isValidConnection:k,onConnect:H,onConnectStart:V,onConnectEnd:z,onReconnectEnd:F,updateConnection:C,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold,handleDomNode:x.currentTarget})},S=x=>b(x,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=x=>b(x,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),g=()=>v(!0),p=()=>v(!1);return a.jsxs(a.Fragment,{children:[(e===!0||e==="source")&&a.jsx(im,{position:l,centerX:r,centerY:s,radius:t,onMouseDown:S,onMouseEnter:g,onMouseOut:p,type:"source"}),(e===!0||e==="target")&&a.jsx(im,{position:u,centerX:i,centerY:o,radius:t,onMouseDown:m,onMouseEnter:g,onMouseOut:p,type:"target"})]})}function gC({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:i,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:c,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:v,rfId:y,edgeTypes:b,noPanClassName:S,onError:m,disableKeyboardA11y:g}){let p=ce(ne=>ne.edgeLookup.get(e));const x=ce(ne=>ne.defaultEdgeOptions);p=x?{...x,...p}:p;let _=p.type||"default",N=(b==null?void 0:b[_])||nm[_];N===void 0&&(m==null||m("011",nn.error011(_)),_="default",N=(b==null?void 0:b.default)||nm.default);const w=!!(p.focusable||t&&typeof p.focusable>"u"),k=typeof f<"u"&&(p.reconnectable||n&&typeof p.reconnectable>"u"),E=!!(p.selectable||r&&typeof p.selectable>"u"),T=R.useRef(null),[P,A]=R.useState(!1),[z,j]=R.useState(!1),O=Se(),{zIndex:D,sourceX:L,sourceY:C,targetX:M,targetY:F,sourcePosition:H,targetPosition:V}=ce(R.useCallback(ne=>{const te=ne.nodeLookup.get(p.source),pe=ne.nodeLookup.get(p.target);if(!te||!pe)return{zIndex:p.zIndex,...rm};const xe=mj({id:e,sourceNode:te,targetNode:pe,sourceHandle:p.sourceHandle||null,targetHandle:p.targetHandle||null,connectionMode:ne.connectionMode,onError:m});return{zIndex:lj({selected:p.selected,zIndex:p.zIndex,sourceNode:te,targetNode:pe,elevateOnSelect:ne.elevateEdgesOnSelect,zIndexMode:ne.zIndexMode}),...xe||rm}},[p.source,p.target,p.sourceHandle,p.targetHandle,p.selected,p.zIndex]),_e),q=R.useMemo(()=>p.markerStart?`url('#${Jc(p.markerStart,y)}')`:void 0,[p.markerStart,y]),B=R.useMemo(()=>p.markerEnd?`url('#${Jc(p.markerEnd,y)}')`:void 0,[p.markerEnd,y]);if(p.hidden||L===null||C===null||M===null||F===null)return null;const K=ne=>{var he;const{addSelectedEdges:te,unselectNodesAndEdges:pe,multiSelectionActive:xe}=O.getState();E&&(O.setState({nodesSelectionActive:!1}),p.selected&&xe?(pe({nodes:[],edges:[p]}),(he=T.current)==null||he.blur()):te([e])),s&&s(ne,p)},Y=i?ne=>{i(ne,{...p})}:void 0,Z=o?ne=>{o(ne,{...p})}:void 0,W=l?ne=>{l(ne,{...p})}:void 0,J=u?ne=>{u(ne,{...p})}:void 0,oe=c?ne=>{c(ne,{...p})}:void 0,re=ne=>{var te;if(!g&&Ux.includes(ne.key)&&E){const{unselectNodesAndEdges:pe,addSelectedEdges:xe}=O.getState();ne.key==="Escape"?((te=T.current)==null||te.blur(),pe({edges:[p]})):xe([e])}};return a.jsx("svg",{style:{zIndex:D},children:a.jsxs("g",{className:Ie(["react-flow__edge",`react-flow__edge-${_}`,p.className,S,{selected:p.selected,animated:p.animated,inactive:!E&&!s,updating:P,selectable:E}]),onClick:K,onDoubleClick:Y,onContextMenu:Z,onMouseEnter:W,onMouseMove:J,onMouseLeave:oe,onKeyDown:w?re:void 0,tabIndex:w?0:void 0,role:p.ariaRole??(w?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":p.ariaLabel===null?void 0:p.ariaLabel||`Edge from ${p.source} to ${p.target}`,"aria-describedby":w?`${N0}-${y}`:void 0,ref:T,...p.domAttributes,children:[!z&&a.jsx(N,{id:e,source:p.source,target:p.target,type:p.type,selected:p.selected,animated:p.animated,selectable:E,deletable:p.deletable??!0,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,sourceX:L,sourceY:C,targetX:M,targetY:F,sourcePosition:H,targetPosition:V,data:p.data,style:p.style,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerStart:q,markerEnd:B,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth}),k&&a.jsx(mC,{edge:p,isReconnectable:k,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:v,sourceX:L,sourceY:C,targetX:M,targetY:F,sourcePosition:H,targetPosition:V,setUpdateHover:A,setReconnecting:j})]})})}var yC=R.memo(gC);const xC=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function X0({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:c,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:v,onReconnectEnd:y,disableKeyboardA11y:b}){const{edgesFocusable:S,edgesReconnectable:m,elementsSelectable:g,onError:p}=ce(xC,_e),x=nC(t);return a.jsxs("div",{className:"react-flow__edges",children:[a.jsx(aC,{defaultColor:e,rfId:n}),x.map(_=>a.jsx(yC,{id:_,edgesFocusable:S,edgesReconnectable:m,elementsSelectable:g,noPanClassName:s,onReconnect:i,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:c,onClick:d,reconnectRadius:f,onDoubleClick:h,onReconnectStart:v,onReconnectEnd:y,rfId:n,onError:p,edgeTypes:r,disableKeyboardA11y:b},_))]})}X0.displayName="EdgeRenderer";const vC=R.memo(X0),wC=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function bC({children:e}){const t=ce(wC);return a.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function NC(e){const t=Qs(),n=R.useRef(!1);R.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const _C=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function SC(e){const t=ce(_C),n=Se();return R.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function kC(e){return e.connection.inProgress?{...e.connection,to:bo(e.connection.to,e.transform)}:{...e.connection}}function jC(e){return kC}function EC(e){const t=jC();return ce(t,_e)}const CC=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function TC({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:i,height:o,isValid:l,inProgress:u}=ce(CC,_e);return!(i&&s&&u)?null:a.jsx("svg",{style:e,width:i,height:o,className:"react-flow__connectionline react-flow__container",children:a.jsx("g",{className:Ie(["react-flow__connection",qx(l)]),children:a.jsx(K0,{style:t,type:n,CustomComponent:r,isValid:l})})})}const K0=({style:e,type:t=Pn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:i,fromNode:o,fromHandle:l,fromPosition:u,to:c,toNode:d,toHandle:f,toPosition:h,pointer:v}=EC();if(!s)return;if(n)return a.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:l,fromX:i.x,fromY:i.y,toX:c.x,toY:c.y,fromPosition:u,toPosition:h,connectionStatus:qx(r),toNode:d,toHandle:f,pointer:v});let y="";const b={sourceX:i.x,sourceY:i.y,sourcePosition:u,targetX:c.x,targetY:c.y,targetPosition:h};switch(t){case Pn.Bezier:[y]=s0(b);break;case Pn.SimpleBezier:[y]=L0(b);break;case Pn.Step:[y]=ol({...b,borderRadius:0});break;case Pn.SmoothStep:[y]=ol(b);break;default:[y]=a0(b)}return a.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};K0.displayName="ConnectionLine";const MC={};function om(e=MC){R.useRef(e),Se(),R.useEffect(()=>{},[e])}function RC(){Se(),R.useRef(!1),R.useEffect(()=>{},[])}function Y0({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:i,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:h,onSelectionEnd:v,connectionLineType:y,connectionLineStyle:b,connectionLineComponent:S,connectionLineContainerStyle:m,selectionKeyCode:g,selectionOnDrag:p,selectionMode:x,multiSelectionKeyCode:_,panActivationKeyCode:N,zoomActivationKeyCode:w,deleteKeyCode:k,onlyRenderVisibleElements:E,elementsSelectable:T,defaultViewport:P,translateExtent:A,minZoom:z,maxZoom:j,preventScrolling:O,defaultMarkerColor:D,zoomOnScroll:L,zoomOnPinch:C,panOnScroll:M,panOnScrollSpeed:F,panOnScrollMode:H,zoomOnDoubleClick:V,panOnDrag:q,onPaneClick:B,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneScroll:W,onPaneContextMenu:J,paneClickDistance:oe,nodeClickDistance:re,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:pe,onEdgeMouseLeave:xe,reconnectRadius:he,onReconnect:Ue,onReconnectStart:_n,onReconnectEnd:sn,noDragClassName:sr,noWheelClassName:Gs,noPanClassName:Zs,disableKeyboardA11y:Js,nodeExtent:Wl,rfId:Eo,viewport:Vr,onViewportChange:ei}){return om(e),om(t),RC(),NC(n),SC(Vr),a.jsx(qE,{onPaneClick:B,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneContextMenu:J,onPaneScroll:W,paneClickDistance:oe,deleteKeyCode:k,selectionKeyCode:g,selectionOnDrag:p,selectionMode:x,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:_,panActivationKeyCode:N,zoomActivationKeyCode:w,elementsSelectable:T,zoomOnScroll:L,zoomOnPinch:C,zoomOnDoubleClick:V,panOnScroll:M,panOnScrollSpeed:F,panOnScrollMode:H,panOnDrag:q,defaultViewport:P,translateExtent:A,minZoom:z,maxZoom:j,onSelectionContextMenu:f,preventScrolling:O,noDragClassName:sr,noWheelClassName:Gs,noPanClassName:Zs,disableKeyboardA11y:Js,onViewportChange:ei,isControlledViewport:!!Vr,children:a.jsxs(bC,{children:[a.jsx(vC,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:o,onReconnect:Ue,onReconnectStart:_n,onReconnectEnd:sn,onlyRenderVisibleElements:E,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:pe,onEdgeMouseLeave:xe,reconnectRadius:he,defaultMarkerColor:D,noPanClassName:Zs,disableKeyboardA11y:Js,rfId:Eo}),a.jsx(TC,{style:b,type:y,component:S,containerStyle:m}),a.jsx("div",{className:"react-flow__edgelabel-renderer"}),a.jsx(tC,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:d,nodeClickDistance:re,onlyRenderVisibleElements:E,noPanClassName:Zs,noDragClassName:sr,disableKeyboardA11y:Js,nodeExtent:Wl,rfId:Eo}),a.jsx("div",{className:"react-flow__viewport-portal"})]})})}Y0.displayName="GraphView";const PC=R.memo(Y0),am=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:l,minZoom:u=.5,maxZoom:c=2,nodeOrigin:d,nodeExtent:f,zIndexMode:h="basic"}={})=>{const v=new Map,y=new Map,b=new Map,S=new Map,m=r??t??[],g=n??e??[],p=d??[0,0],x=f??Ji;c0(b,S,m);const _=ed(g,v,y,{nodeOrigin:p,nodeExtent:x,zIndexMode:h});let N=[0,0,1];if(o&&s&&i){const w=vo(v,{filter:P=>!!((P.width||P.initialWidth)&&(P.height||P.initialHeight))}),{x:k,y:E,zoom:T}=gf(w,s,i,u,c,(l==null?void 0:l.padding)??.1);N=[k,E,T]}return{rfId:"1",width:s??0,height:i??0,transform:N,nodes:g,nodesInitialized:_,nodeLookup:v,parentLookup:y,edges:m,edgeLookup:S,connectionLookup:b,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:u,maxZoom:c,translateExtent:Ji,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:As.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:p,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:l,fitViewResolver:null,connection:{...Wx},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:nj,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Bx,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},IC=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h})=>Gj((v,y)=>{async function b(){const{nodeLookup:S,panZoom:m,fitViewOptions:g,fitViewResolver:p,width:x,height:_,minZoom:N,maxZoom:w}=y();m&&(await ej({nodes:S,width:x,height:_,panZoom:m,minZoom:N,maxZoom:w},g),p==null||p.resolve(!0),v({fitViewResolver:null}))}return{...am({nodes:e,edges:t,width:s,height:i,fitView:o,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f,defaultNodes:n,defaultEdges:r,zIndexMode:h}),setNodes:S=>{const{nodeLookup:m,parentLookup:g,nodeOrigin:p,elevateNodesOnSelect:x,fitViewQueued:_,zIndexMode:N}=y(),w=ed(S,m,g,{nodeOrigin:p,nodeExtent:f,elevateNodesOnSelect:x,checkEquality:!0,zIndexMode:N});_&&w?(b(),v({nodes:S,nodesInitialized:w,fitViewQueued:!1,fitViewOptions:void 0})):v({nodes:S,nodesInitialized:w})},setEdges:S=>{const{connectionLookup:m,edgeLookup:g}=y();c0(m,g,S),v({edges:S})},setDefaultNodesAndEdges:(S,m)=>{if(S){const{setNodes:g}=y();g(S),v({hasDefaultNodes:!0})}if(m){const{setEdges:g}=y();g(m),v({hasDefaultEdges:!0})}},updateNodeInternals:S=>{const{triggerNodeChanges:m,nodeLookup:g,parentLookup:p,domNode:x,nodeOrigin:_,nodeExtent:N,debug:w,fitViewQueued:k,zIndexMode:E}=y(),{changes:T,updatedInternals:P}=_j(S,g,p,x,_,N,E);P&&(vj(g,p,{nodeOrigin:_,nodeExtent:N,zIndexMode:E}),k?(b(),v({fitViewQueued:!1,fitViewOptions:void 0})):v({}),(T==null?void 0:T.length)>0&&(w&&console.log("React Flow: trigger node changes",T),m==null||m(T)))},updateNodePositions:(S,m=!1)=>{const g=[];let p=[];const{nodeLookup:x,triggerNodeChanges:_,connection:N,updateConnection:w,onNodesChangeMiddlewareMap:k}=y();for(const[E,T]of S){const P=x.get(E),A=!!(P!=null&&P.expandParent&&(P!=null&&P.parentId)&&(T!=null&&T.position)),z={id:E,type:"position",position:A?{x:Math.max(0,T.position.x),y:Math.max(0,T.position.y)}:T.position,dragging:m};if(P&&N.inProgress&&N.fromNode.id===P.id){const j=zr(P,N.fromHandle,G.Left,!0);w({...N,from:j})}A&&P.parentId&&g.push({id:E,parentId:P.parentId,rect:{...T.internals.positionAbsolute,width:T.measured.width??0,height:T.measured.height??0}}),p.push(z)}if(g.length>0){const{parentLookup:E,nodeOrigin:T}=y(),P=Nf(g,x,E,T);p.push(...P)}for(const E of k.values())p=E(p);_(p)},triggerNodeChanges:S=>{const{onNodesChange:m,setNodes:g,nodes:p,hasDefaultNodes:x,debug:_}=y();if(S!=null&&S.length){if(x){const N=k0(S,p);g(N)}_&&console.log("React Flow: trigger node changes",S),m==null||m(S)}},triggerEdgeChanges:S=>{const{onEdgesChange:m,setEdges:g,edges:p,hasDefaultEdges:x,debug:_}=y();if(S!=null&&S.length){if(x){const N=j0(S,p);g(N)}_&&console.log("React Flow: trigger edge changes",S),m==null||m(S)}},addSelectedNodes:S=>{const{multiSelectionActive:m,edgeLookup:g,nodeLookup:p,triggerNodeChanges:x,triggerEdgeChanges:_}=y();if(m){const N=S.map(w=>ar(w,!0));x(N);return}x(ss(p,new Set([...S]),!0)),_(ss(g))},addSelectedEdges:S=>{const{multiSelectionActive:m,edgeLookup:g,nodeLookup:p,triggerNodeChanges:x,triggerEdgeChanges:_}=y();if(m){const N=S.map(w=>ar(w,!0));_(N);return}_(ss(g,new Set([...S]))),x(ss(p,new Set,!0))},unselectNodesAndEdges:({nodes:S,edges:m}={})=>{const{edges:g,nodes:p,nodeLookup:x,triggerNodeChanges:_,triggerEdgeChanges:N}=y(),w=S||p,k=m||g,E=w.map(P=>{const A=x.get(P.id);return A&&(A.selected=!1),ar(P.id,!1)}),T=k.map(P=>ar(P.id,!1));_(E),N(T)},setMinZoom:S=>{const{panZoom:m,maxZoom:g}=y();m==null||m.setScaleExtent([S,g]),v({minZoom:S})},setMaxZoom:S=>{const{panZoom:m,minZoom:g}=y();m==null||m.setScaleExtent([g,S]),v({maxZoom:S})},setTranslateExtent:S=>{var m;(m=y().panZoom)==null||m.setTranslateExtent(S),v({translateExtent:S})},resetSelectedElements:()=>{const{edges:S,nodes:m,triggerNodeChanges:g,triggerEdgeChanges:p,elementsSelectable:x}=y();if(!x)return;const _=m.reduce((w,k)=>k.selected?[...w,ar(k.id,!1)]:w,[]),N=S.reduce((w,k)=>k.selected?[...w,ar(k.id,!1)]:w,[]);g(_),p(N)},setNodeExtent:S=>{const{nodes:m,nodeLookup:g,parentLookup:p,nodeOrigin:x,elevateNodesOnSelect:_,nodeExtent:N,zIndexMode:w}=y();S[0][0]===N[0][0]&&S[0][1]===N[0][1]&&S[1][0]===N[1][0]&&S[1][1]===N[1][1]||(ed(m,g,p,{nodeOrigin:x,nodeExtent:S,elevateNodesOnSelect:_,checkEquality:!1,zIndexMode:w}),v({nodeExtent:S}))},panBy:S=>{const{transform:m,width:g,height:p,panZoom:x,translateExtent:_}=y();return Sj({delta:S,panZoom:x,transform:m,translateExtent:_,width:g,height:p})},setCenter:async(S,m,g)=>{const{width:p,height:x,maxZoom:_,panZoom:N}=y();if(!N)return Promise.resolve(!1);const w=typeof(g==null?void 0:g.zoom)<"u"?g.zoom:_;return await N.setViewport({x:p/2-S*w,y:x/2-m*w,zoom:w},{duration:g==null?void 0:g.duration,ease:g==null?void 0:g.ease,interpolate:g==null?void 0:g.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{v({connection:{...Wx}})},updateConnection:S=>{v({connection:S})},reset:()=>v({...am()})}},Object.is);function G0({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:i,initialMinZoom:o,initialMaxZoom:l,initialFitViewOptions:u,fitView:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h,children:v}){const[y]=R.useState(()=>IC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:c,minZoom:o,maxZoom:l,fitViewOptions:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h}));return a.jsx(Zj,{value:y,children:a.jsx(bE,{children:v})})}function DC({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:i,height:o,fitView:l,fitViewOptions:u,minZoom:c,maxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:v}){return R.useContext(Al)?a.jsx(a.Fragment,{children:e}):a.jsx(G0,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:i,initialHeight:o,fitView:l,initialFitViewOptions:u,initialMinZoom:c,initialMaxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:v,children:e})}const AC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function LC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i,edgeTypes:o,onNodeClick:l,onEdgeClick:u,onInit:c,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:v,onConnectStart:y,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:p,onNodeMouseLeave:x,onNodeContextMenu:_,onNodeDoubleClick:N,onNodeDragStart:w,onNodeDrag:k,onNodeDragStop:E,onNodesDelete:T,onEdgesDelete:P,onDelete:A,onSelectionChange:z,onSelectionDragStart:j,onSelectionDrag:O,onSelectionDragStop:D,onSelectionContextMenu:L,onSelectionStart:C,onSelectionEnd:M,onBeforeDelete:F,connectionMode:H,connectionLineType:V=Pn.Bezier,connectionLineStyle:q,connectionLineComponent:B,connectionLineContainerStyle:K,deleteKeyCode:Y="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:W=!1,selectionMode:J=eo.Full,panActivationKeyCode:oe="Space",multiSelectionKeyCode:re=no()?"Meta":"Control",zoomActivationKeyCode:ne=no()?"Meta":"Control",snapToGrid:te,snapGrid:pe,onlyRenderVisibleElements:xe=!1,selectNodesOnDrag:he,nodesDraggable:Ue,autoPanOnNodeFocus:_n,nodesConnectable:sn,nodesFocusable:sr,nodeOrigin:Gs=_0,edgesFocusable:Zs,edgesReconnectable:Js,elementsSelectable:Wl=!0,defaultViewport:Eo=dE,minZoom:Vr=.5,maxZoom:ei=2,translateExtent:Tf=Ji,preventScrolling:Pv=!0,nodeExtent:ql,defaultMarkerColor:Iv="#b1b1b7",zoomOnScroll:Dv=!0,zoomOnPinch:Av=!0,panOnScroll:Lv=!1,panOnScrollSpeed:Ov=.5,panOnScrollMode:zv=Er.Free,zoomOnDoubleClick:Fv=!0,panOnDrag:$v=!0,onPaneClick:Hv,onPaneMouseEnter:Vv,onPaneMouseMove:Uv,onPaneMouseLeave:Bv,onPaneScroll:Wv,onPaneContextMenu:qv,paneClickDistance:Qv=1,nodeClickDistance:Xv=0,children:Kv,onReconnect:Yv,onReconnectStart:Gv,onReconnectEnd:Zv,onEdgeContextMenu:Jv,onEdgeDoubleClick:ew,onEdgeMouseEnter:tw,onEdgeMouseMove:nw,onEdgeMouseLeave:rw,reconnectRadius:sw=10,onNodesChange:iw,onEdgesChange:ow,noDragClassName:aw="nodrag",noWheelClassName:lw="nowheel",noPanClassName:Mf="nopan",fitView:Rf,fitViewOptions:Pf,connectOnClick:uw,attributionPosition:cw,proOptions:dw,defaultEdgeOptions:fw,elevateNodesOnSelect:hw=!0,elevateEdgesOnSelect:pw=!1,disableKeyboardA11y:If=!1,autoPanOnConnect:mw,autoPanOnNodeDrag:gw,autoPanSpeed:yw,connectionRadius:xw,isValidConnection:vw,onError:ww,style:bw,id:Df,nodeDragThreshold:Nw,connectionDragThreshold:_w,viewport:Sw,onViewportChange:kw,width:jw,height:Ew,colorMode:Cw="light",debug:Tw,onScroll:Co,ariaLabelConfig:Mw,zIndexMode:Af="basic",...Rw},Pw){const Ql=Df||"1",Iw=mE(Cw),Dw=R.useCallback(Lf=>{Lf.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Co==null||Co(Lf)},[Co]);return a.jsx("div",{"data-testid":"rf__wrapper",...Rw,onScroll:Dw,style:{...bw,...AC},ref:Pw,className:Ie(["react-flow",s,Iw]),id:Df,role:"application",children:a.jsxs(DC,{nodes:e,edges:t,width:jw,height:Ew,fitView:Rf,fitViewOptions:Pf,minZoom:Vr,maxZoom:ei,nodeOrigin:Gs,nodeExtent:ql,zIndexMode:Af,children:[a.jsx(PC,{onInit:c,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:g,onNodeMouseMove:p,onNodeMouseLeave:x,onNodeContextMenu:_,onNodeDoubleClick:N,nodeTypes:i,edgeTypes:o,connectionLineType:V,connectionLineStyle:q,connectionLineComponent:B,connectionLineContainerStyle:K,selectionKeyCode:Z,selectionOnDrag:W,selectionMode:J,deleteKeyCode:Y,multiSelectionKeyCode:re,panActivationKeyCode:oe,zoomActivationKeyCode:ne,onlyRenderVisibleElements:xe,defaultViewport:Eo,translateExtent:Tf,minZoom:Vr,maxZoom:ei,preventScrolling:Pv,zoomOnScroll:Dv,zoomOnPinch:Av,zoomOnDoubleClick:Fv,panOnScroll:Lv,panOnScrollSpeed:Ov,panOnScrollMode:zv,panOnDrag:$v,onPaneClick:Hv,onPaneMouseEnter:Vv,onPaneMouseMove:Uv,onPaneMouseLeave:Bv,onPaneScroll:Wv,onPaneContextMenu:qv,paneClickDistance:Qv,nodeClickDistance:Xv,onSelectionContextMenu:L,onSelectionStart:C,onSelectionEnd:M,onReconnect:Yv,onReconnectStart:Gv,onReconnectEnd:Zv,onEdgeContextMenu:Jv,onEdgeDoubleClick:ew,onEdgeMouseEnter:tw,onEdgeMouseMove:nw,onEdgeMouseLeave:rw,reconnectRadius:sw,defaultMarkerColor:Iv,noDragClassName:aw,noWheelClassName:lw,noPanClassName:Mf,rfId:Ql,disableKeyboardA11y:If,nodeExtent:ql,viewport:Sw,onViewportChange:kw}),a.jsx(pE,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:y,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:m,nodesDraggable:Ue,autoPanOnNodeFocus:_n,nodesConnectable:sn,nodesFocusable:sr,edgesFocusable:Zs,edgesReconnectable:Js,elementsSelectable:Wl,elevateNodesOnSelect:hw,elevateEdgesOnSelect:pw,minZoom:Vr,maxZoom:ei,nodeExtent:ql,onNodesChange:iw,onEdgesChange:ow,snapToGrid:te,snapGrid:pe,connectionMode:H,translateExtent:Tf,connectOnClick:uw,defaultEdgeOptions:fw,fitView:Rf,fitViewOptions:Pf,onNodesDelete:T,onEdgesDelete:P,onDelete:A,onNodeDragStart:w,onNodeDrag:k,onNodeDragStop:E,onSelectionDrag:O,onSelectionDragStart:j,onSelectionDragStop:D,onMove:d,onMoveStart:f,onMoveEnd:h,noPanClassName:Mf,nodeOrigin:Gs,rfId:Ql,autoPanOnConnect:mw,autoPanOnNodeDrag:gw,autoPanSpeed:yw,onError:ww,connectionRadius:xw,isValidConnection:vw,selectNodesOnDrag:he,nodeDragThreshold:Nw,connectionDragThreshold:_w,onBeforeDelete:F,debug:Tw,ariaLabelConfig:Mw,zIndexMode:Af}),a.jsx(cE,{onSelectionChange:z}),Kv,a.jsx(iE,{proOptions:dw,position:cw}),a.jsx(sE,{rfId:Ql,disableKeyboardA11y:If})]})})}var OC=E0(LC);const zC=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function FC({children:e}){const t=ce(zC);return t?Ky.createPortal(e,t):null}function $C({dimensions:e,lineWidth:t,variant:n,className:r}){return a.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ie(["react-flow__background-pattern",n,r])})}function HC({radius:e,className:t}){return a.jsx("circle",{cx:e,cy:e,r:e,className:Ie(["react-flow__background-pattern","dots",t])})}var Zn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Zn||(Zn={}));const VC={[Zn.Dots]:1,[Zn.Lines]:1,[Zn.Cross]:6},UC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Z0({id:e,variant:t=Zn.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=0,color:o,bgColor:l,style:u,className:c,patternClassName:d}){const f=R.useRef(null),{transform:h,patternId:v}=ce(UC,_e),y=r||VC[t],b=t===Zn.Dots,S=t===Zn.Cross,m=Array.isArray(n)?n:[n,n],g=[m[0]*h[2]||1,m[1]*h[2]||1],p=y*h[2],x=Array.isArray(i)?i:[i,i],_=S?[p,p]:g,N=[x[0]*h[2]||1+_[0]/2,x[1]*h[2]||1+_[1]/2],w=`${v}${e||""}`;return a.jsxs("svg",{className:Ie(["react-flow__background",c]),style:{...u,...Ol,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:f,"data-testid":"rf__background",children:[a.jsx("pattern",{id:w,x:h[0]%g[0],y:h[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:b?a.jsx(HC,{radius:p/2,className:d}):a.jsx($C,{dimensions:_,lineWidth:s,variant:t,className:d})}),a.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${w})`})]})}Z0.displayName="Background";const BC=R.memo(Z0);function WC(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:a.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function qC(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:a.jsx("path",{d:"M0 0h32v4.2H0z"})})}function QC(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:a.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function XC(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function KC(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function na({children:e,className:t,...n}){return a.jsx("button",{type:"button",className:Ie(["react-flow__controls-button",t]),...n,children:e})}const YC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function J0({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:u,className:c,children:d,position:f="bottom-left",orientation:h="vertical","aria-label":v}){const y=Se(),{isInteractive:b,minZoomReached:S,maxZoomReached:m,ariaLabelConfig:g}=ce(YC,_e),{zoomIn:p,zoomOut:x,fitView:_}=Qs(),N=()=>{p(),i==null||i()},w=()=>{x(),o==null||o()},k=()=>{_(s),l==null||l()},E=()=>{y.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),u==null||u(!b)},T=h==="horizontal"?"horizontal":"vertical";return a.jsxs(Ll,{className:Ie(["react-flow__controls",T,c]),position:f,style:e,"data-testid":"rf__controls","aria-label":v??g["controls.ariaLabel"],children:[t&&a.jsxs(a.Fragment,{children:[a.jsx(na,{onClick:N,className:"react-flow__controls-zoomin",title:g["controls.zoomIn.ariaLabel"],"aria-label":g["controls.zoomIn.ariaLabel"],disabled:m,children:a.jsx(WC,{})}),a.jsx(na,{onClick:w,className:"react-flow__controls-zoomout",title:g["controls.zoomOut.ariaLabel"],"aria-label":g["controls.zoomOut.ariaLabel"],disabled:S,children:a.jsx(qC,{})})]}),n&&a.jsx(na,{className:"react-flow__controls-fitview",onClick:k,title:g["controls.fitView.ariaLabel"],"aria-label":g["controls.fitView.ariaLabel"],children:a.jsx(QC,{})}),r&&a.jsx(na,{className:"react-flow__controls-interactive",onClick:E,title:g["controls.interactive.ariaLabel"],"aria-label":g["controls.interactive.ariaLabel"],children:b?a.jsx(KC,{}):a.jsx(XC,{})}),d]})}J0.displayName="Controls";const GC=R.memo(J0);function ZC({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:l,strokeWidth:u,className:c,borderRadius:d,shapeRendering:f,selected:h,onClick:v}){const{background:y,backgroundColor:b}=i||{},S=o||y||b;return a.jsx("rect",{className:Ie(["react-flow__minimap-node",{selected:h},c]),x:t,y:n,rx:d,ry:d,width:r,height:s,style:{fill:S,stroke:l,strokeWidth:u},shapeRendering:f,onClick:v?m=>v(m,e):void 0})}const JC=R.memo(ZC),eT=e=>e.nodes.map(t=>t.id),Ru=e=>e instanceof Function?e:()=>e;function tT({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:i=JC,onClick:o}){const l=ce(eT,_e),u=Ru(t),c=Ru(e),d=Ru(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return a.jsx(a.Fragment,{children:l.map(h=>a.jsx(rT,{id:h,nodeColorFunc:u,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:i,onClick:o,shapeRendering:f},h))})}function nT({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:i,shapeRendering:o,NodeComponent:l,onClick:u}){const{node:c,x:d,y:f,width:h,height:v}=ce(y=>{const{internals:b}=y.nodeLookup.get(e),S=b.userNode,{x:m,y:g}=b.positionAbsolute,{width:p,height:x}=Nn(S);return{node:S,x:m,y:g,width:p,height:x}},_e);return!c||c.hidden||!Zx(c)?null:a.jsx(l,{x:d,y:f,width:h,height:v,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:s,strokeColor:n(c),strokeWidth:i,shapeRendering:o,onClick:u,id:c.id})}const rT=R.memo(nT);var sT=R.memo(tT);const iT=200,oT=150,aT=e=>!e.hidden,lT=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Gx(vo(e.nodeLookup,{filter:aT}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},uT="react-flow__minimap-desc";function ev({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:u,maskColor:c,maskStrokeColor:d,maskStrokeWidth:f,position:h="bottom-right",onClick:v,onNodeClick:y,pannable:b=!1,zoomable:S=!1,ariaLabel:m,inversePan:g,zoomStep:p=1,offsetScale:x=5}){const _=Se(),N=R.useRef(null),{boundingRect:w,viewBB:k,rfId:E,panZoom:T,translateExtent:P,flowWidth:A,flowHeight:z,ariaLabelConfig:j}=ce(lT,_e),O=(e==null?void 0:e.width)??iT,D=(e==null?void 0:e.height)??oT,L=w.width/O,C=w.height/D,M=Math.max(L,C),F=M*O,H=M*D,V=x*M,q=w.x-(F-w.width)/2-V,B=w.y-(H-w.height)/2-V,K=F+V*2,Y=H+V*2,Z=`${uT}-${E}`,W=R.useRef(0),J=R.useRef();W.current=M,R.useEffect(()=>{if(N.current&&T)return J.current=Ij({domNode:N.current,panZoom:T,getTransform:()=>_.getState().transform,getViewScale:()=>W.current}),()=>{var te;(te=J.current)==null||te.destroy()}},[T]),R.useEffect(()=>{var te;(te=J.current)==null||te.update({translateExtent:P,width:A,height:z,inversePan:g,pannable:b,zoomStep:p,zoomable:S})},[b,S,g,p,P,A,z]);const oe=v?te=>{var he;const[pe,xe]=((he=J.current)==null?void 0:he.pointer(te))||[0,0];v(te,{x:pe,y:xe})}:void 0,re=y?R.useCallback((te,pe)=>{const xe=_.getState().nodeLookup.get(pe).internals.userNode;y(te,xe)},[]):void 0,ne=m??j["minimap.ariaLabel"];return a.jsx(Ll,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*M:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Ie(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:a.jsxs("svg",{width:O,height:D,viewBox:`${q} ${B} ${K} ${Y}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Z,ref:N,onClick:oe,children:[ne&&a.jsx("title",{id:Z,children:ne}),a.jsx(sT,{onClick:re,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:l}),a.jsx("path",{className:"react-flow__minimap-mask",d:`M${q-V},${B-V}h${K+V*2}v${Y+V*2}h${-K-V*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}ev.displayName="MiniMap";R.memo(ev);const cT=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,dT={[Fs.Line]:"right",[Fs.Handle]:"bottom-right"};function fT({nodeId:e,position:t,variant:n=Fs.Handle,className:r,style:s=void 0,children:i,color:o,minWidth:l=10,minHeight:u=10,maxWidth:c=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:h,autoScale:v=!0,shouldResize:y,onResizeStart:b,onResize:S,onResizeEnd:m}){const g=R0(),p=typeof e=="string"?e:g,x=Se(),_=R.useRef(null),N=n===Fs.Handle,w=ce(R.useCallback(cT(N&&v),[N,v]),_e),k=R.useRef(null),E=t??dT[n];R.useEffect(()=>{if(!(!_.current||!p))return k.current||(k.current=Qj({domNode:_.current,nodeId:p,getStoreItems:()=>{const{nodeLookup:P,transform:A,snapGrid:z,snapToGrid:j,nodeOrigin:O,domNode:D}=x.getState();return{nodeLookup:P,transform:A,snapGrid:z,snapToGrid:j,nodeOrigin:O,paneDomNode:D}},onChange:(P,A)=>{const{triggerNodeChanges:z,nodeLookup:j,parentLookup:O,nodeOrigin:D}=x.getState(),L=[],C={x:P.x,y:P.y},M=j.get(p);if(M&&M.expandParent&&M.parentId){const F=M.origin??D,H=P.width??M.measured.width??0,V=P.height??M.measured.height??0,q={id:M.id,parentId:M.parentId,rect:{width:H,height:V,...Jx({x:P.x??M.position.x,y:P.y??M.position.y},{width:H,height:V},M.parentId,j,F)}},B=Nf([q],j,O,D);L.push(...B),C.x=P.x?Math.max(F[0]*H,P.x):void 0,C.y=P.y?Math.max(F[1]*V,P.y):void 0}if(C.x!==void 0&&C.y!==void 0){const F={id:p,type:"position",position:{...C}};L.push(F)}if(P.width!==void 0&&P.height!==void 0){const H={id:p,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:P.width,height:P.height}};L.push(H)}for(const F of A){const H={...F,type:"position"};L.push(H)}z(L)},onEnd:({width:P,height:A})=>{const z={id:p,type:"dimensions",resizing:!1,dimensions:{width:P,height:A}};x.getState().triggerNodeChanges([z])}})),k.current.update({controlPosition:E,boundaries:{minWidth:l,minHeight:u,maxWidth:c,maxHeight:d},keepAspectRatio:f,resizeDirection:h,onResizeStart:b,onResize:S,onResizeEnd:m,shouldResize:y}),()=>{var P;(P=k.current)==null||P.destroy()}},[E,l,u,c,d,f,b,S,m,y]);const T=E.split("-");return a.jsx("div",{className:Ie(["react-flow__resize-control","nodrag",...T,n,r]),ref:_,style:{...s,scale:w,...o&&{[N?"backgroundColor":"borderColor"]:o}},children:i})}R.memo(fT);const fe=g2((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:n=>e({executionResult:n}),setGraph:(n,r)=>e({nodes:n,edges:r}),onNodesChange:n=>{e({nodes:k0(n,t().nodes)})},onEdgesChange:n=>{e({edges:j0(n,t().edges)})},onConnect:n=>{e({edges:o0(n,t().edges)})},addNode:(n,r,s={})=>{const i=be.get(n);if(!i)return console.error(`Node type ${n} not found in registry`),"";const o=`${n}-${Date.now()}`,l={id:o,type:"custom",position:r,data:{definitionType:n,catalogType:n,...i.getDefaultConfig(),...s}};return e({nodes:[...t().nodes,l]}),o},updateNodeData:(n,r)=>{e({nodes:t().nodes.map(s=>s.id===n?{...s,data:{...s.data,...r}}:s)})},validateGraph:async()=>{const{nodes:n,edges:r}=t();if(n.length===0)return!1;for(const s of n){const i=be.get(s.data.definitionType);if(i){const o=i.validate(s.data);if(!o.isValid)return console.warn(`Node ${s.id} validation failed: ${o.message}`),!1}}for(const s of n){const i=be.get(s.data.definitionType);if(i&&i.inputs.length>0&&!r.some(l=>l.target===s.id))return console.warn(`Node ${s.id} (${i.label}) is disconnected.`),!1}return!0}}));/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const n=R.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...c},d)=>R.createElement("svg",{ref:d,...hT,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${pT(e)}`,l].join(" "),...c},[...t.map(([f,h])=>R.createElement(f,h)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ie("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=ie("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=ie("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=ie("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=ie("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=ie("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=ie("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=ie("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=ie("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=ie("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=ie("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=ie("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=ie("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ie("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=ie("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=ie("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ie("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=ie("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=ie("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=ie("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),QT=()=>{const e=be.getAll(),t=fe(l=>l.addNode),[n,r]=R.useState(""),s=(l,u)=>{l.dataTransfer.setData("application/reactflow",u),l.dataTransfer.effectAllowed="move"},i=e.filter(l=>l.label.toLowerCase().includes(n.toLowerCase())||l.category.toLowerCase().includes(n.toLowerCase())),o=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return a.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10",children:[a.jsxs("div",{className:"p-4 border-b space-y-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(sv,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:n,onChange:l=>r(l.target.value)})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:o.map(l=>{const u=i.filter(c=>c.category===l);return u.length===0?null:a.jsxs("div",{children:[a.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:l}),a.jsx("div",{className:"space-y-2",children:u.map(c=>a.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:d=>s(d,c.type),onClick:()=>t(c.type,{x:100,y:100}),children:[a.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:c.icon&&a.jsx(c.icon,{className:"w-4 h-4 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:c.label}),a.jsx("div",{className:"text-xs text-muted-foreground truncate",children:c.description})]})]},c.type))})]},l)})})]})};function XT(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const{useRef:KT}=Ot;function YT(e){const t=KT();return n=>{const r=e(n);return XT(t.current,r)?t.current:t.current=r}}const GT=R.memo(({id:e,data:t,selected:n})=>{const r=t.definitionType,s=be.get(r),{deleteElements:i}=Qs(),o=fe(c=>c.executionResult),l=o==null?void 0:o.node_results[e],u=c=>{c.stopPropagation(),i({nodes:[{id:e}]})};return s?a.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${n?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[a.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[a.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:s.icon&&a.jsx(s.icon,{className:"w-4 h-4 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-sm font-bold",children:s.label}),l&&a.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${l.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:l.status==="success"?a.jsx(bT,{size:10}):a.jsx(NT,{size:10})})]}),a.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:s.category})]}),a.jsx("button",{onClick:u,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:a.jsx(ll,{size:14})})]}),a.jsx("div",{className:"p-3",children:s.component?a.jsx(s.component,{data:t}):a.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),s.inputs.map((c,d)=>a.jsx($s,{type:"target",position:G.Left,id:c.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(s.inputs.length+1)}%`},children:a.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:c.label})},`input-${c.id}`)),s.outputs.map((c,d)=>a.jsx($s,{type:"source",position:G.Right,id:c.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(s.outputs.length+1)}%`},children:a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:c.label})},`output-${c.id}`))]}):a.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[a.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[a.jsx(vT,{size:16}),a.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),a.jsxs("div",{className:"text-xs mt-1",children:["Type: ",r]})]})}),ZT=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:s,sourcePosition:i,targetPosition:o,style:l={},markerEnd:u})=>{const{deleteElements:c}=Qs(),[d,f,h]=ol({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:s,targetPosition:o,borderRadius:24}),v=y=>{y.stopPropagation(),c({edges:[{id:e}]})};return a.jsxs(a.Fragment,{children:[a.jsx(Hs,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),a.jsx(Hs,{path:d,markerEnd:u,style:{...l,strokeWidth:2},className:"react-flow__edge-path"}),a.jsx(FC,{children:a.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${h}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:a.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:v,title:"Remove Connection",children:a.jsx(ll,{size:10})})})})]})},JT={custom:GT},eM={custom:ZT},tM=()=>{const e=R.useRef(null),{screenToFlowPosition:t}=Qs(),{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,addNode:l}=fe(YT(d=>({nodes:d.nodes,edges:d.edges,onNodesChange:d.onNodesChange,onEdgesChange:d.onEdgesChange,onConnect:d.onConnect,addNode:d.addNode}))),u=R.useCallback(d=>{d.preventDefault(),d.dataTransfer.dropEffect="move"},[]),c=R.useCallback(d=>{d.preventDefault();const f=d.dataTransfer.getData("application/reactflow");if(typeof f>"u"||!f)return;const h=t({x:d.clientX,y:d.clientY});l(f,h)},[t,l]);return a.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:a.jsxs(OC,{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,nodeTypes:JT,onDragOver:u,onDrop:c,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:eM,deleteKeyCode:["Backspace","Delete"],children:[a.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"edge-gradient",children:[a.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),a.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),a.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),a.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"coloredBlur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),a.jsx(BC,{}),a.jsx(GC,{position:"top-left"})]})})},nM=()=>a.jsx(G0,{children:a.jsx(tM,{})}),rM=()=>{const e=fe(f=>f.nodes),t=fe(f=>f.updateNodeData),n=fe(f=>f.onNodesChange),[r,s]=R.useState(!1),i=e.find(f=>f.selected);if(!i)return a.jsxs("aside",{className:"w-80 border-l bg-background p-8 flex flex-col items-center justify-center text-muted-foreground text-center shrink-0",children:[a.jsx("div",{className:"p-4 bg-muted/50 rounded-full mb-4",children:a.jsx(VT,{className:"w-8 h-8 opacity-50"})}),a.jsx("h3",{className:"font-medium mb-1",children:"No Node Selected"}),a.jsx("p",{className:"text-sm",children:"Select a node on the canvas to configure its properties."})]});const o=()=>{n([{id:i.id,type:"select",selected:!1}])},l=()=>{s(!r)},u=i.data.definitionType,c=be.get(u);if(!c)return a.jsx("aside",{className:"w-80 border-l bg-background p-4 shrink-0",children:a.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[a.jsx(ll,{className:"w-4 h-4"}),"Error: Node definition '",u,"' not found."]})});const d=c.settings;return a.jsxs("aside",{className:`
        border-l bg-background flex flex-col h-full shadow-xl z-20 transition-all duration-300 ease-in-out
        ${r?"absolute right-0 top-0 bottom-0 w-[calc(100%-16rem)]":"w-80 shrink-0"}
      `,children:[a.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-md",children:c.icon&&a.jsx(c.icon,{className:"w-4 h-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold text-sm",children:c.label}),a.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:c.category})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:l,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:r?"Collapse":"Expand",children:r?a.jsx(DT,{className:"w-4 h-4"}):a.jsx(IT,{className:"w-4 h-4"})}),a.jsx("button",{onClick:o,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Close",children:a.jsx(ll,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:d?a.jsx(d,{config:i.data,onChange:f=>t(i.id,f),nodeId:i.id}):a.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground italic",children:"No configuration options available for this node."})}),a.jsxs("div",{className:"p-3 border-t bg-muted/5 text-[10px] text-muted-foreground font-mono flex justify-between",children:[a.jsxs("span",{children:["ID: ",i.id]}),a.jsx("span",{children:"v1.0"})]})]})};function ov(e,t){return function(){return e.apply(t,arguments)}}const{toString:sM}=Object.prototype,{getPrototypeOf:kf}=Object,{iterator:zl,toStringTag:av}=Symbol,Fl=(e=>t=>{const n=sM.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Bt=e=>(e=e.toLowerCase(),t=>Fl(t)===e),$l=e=>t=>typeof t===e,{isArray:Ks}=Array,Vs=$l("undefined");function No(e){return e!==null&&!Vs(e)&&e.constructor!==null&&!Vs(e.constructor)&&ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lv=Bt("ArrayBuffer");function iM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&lv(e.buffer),t}const oM=$l("string"),ct=$l("function"),uv=$l("number"),_o=e=>e!==null&&typeof e=="object",aM=e=>e===!0||e===!1,Na=e=>{if(Fl(e)!=="object")return!1;const t=kf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(av in e)&&!(zl in e)},lM=e=>{if(!_o(e)||No(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},uM=Bt("Date"),cM=Bt("File"),dM=Bt("Blob"),fM=Bt("FileList"),hM=e=>_o(e)&&ct(e.pipe),pM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ct(e.append)&&((t=Fl(e))==="formdata"||t==="object"&&ct(e.toString)&&e.toString()==="[object FormData]"))},mM=Bt("URLSearchParams"),[gM,yM,xM,vM]=["ReadableStream","Request","Response","Headers"].map(Bt),wM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function So(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Ks(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(No(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function cv(e,t){if(No(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dv=e=>!Vs(e)&&e!==pr;function rd(){const{caseless:e,skipUndefined:t}=dv(this)&&this||{},n={},r=(s,i)=>{const o=e&&cv(n,i)||i;Na(n[o])&&Na(s)?n[o]=rd(n[o],s):Na(s)?n[o]=rd({},s):Ks(s)?n[o]=s.slice():(!t||!Vs(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&So(arguments[s],r);return n}const bM=(e,t,n,{allOwnKeys:r}={})=>(So(t,(s,i)=>{n&&ct(s)?e[i]=ov(s,n):e[i]=s},{allOwnKeys:r}),e),NM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_M=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},SM=(e,t,n,r)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&kf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kM=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},jM=e=>{if(!e)return null;if(Ks(e))return e;let t=e.length;if(!uv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},EM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&kf(Uint8Array)),CM=(e,t)=>{const r=(e&&e[zl]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},TM=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},MM=Bt("HTMLFormElement"),RM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),lm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),PM=Bt("RegExp"),fv=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};So(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},IM=e=>{fv(e,(t,n)=>{if(ct(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ct(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},DM=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ks(e)?r(e):r(String(e).split(t)),n},AM=()=>{},LM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function OM(e){return!!(e&&ct(e.append)&&e[av]==="FormData"&&e[zl])}const zM=e=>{const t=new Array(10),n=(r,s)=>{if(_o(r)){if(t.indexOf(r)>=0)return;if(No(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Ks(r)?[]:{};return So(r,(o,l)=>{const u=n(o,s+1);!Vs(u)&&(i[l]=u)}),t[s]=void 0,i}}return r};return n(e,0)},FM=Bt("AsyncFunction"),$M=e=>e&&(_o(e)||ct(e))&&ct(e.then)&&ct(e.catch),hv=((e,t)=>e?setImmediate:t?((n,r)=>(pr.addEventListener("message",({source:s,data:i})=>{s===pr&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),pr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ct(pr.postMessage)),HM=typeof queueMicrotask<"u"?queueMicrotask.bind(pr):typeof process<"u"&&process.nextTick||hv,VM=e=>e!=null&&ct(e[zl]),$={isArray:Ks,isArrayBuffer:lv,isBuffer:No,isFormData:pM,isArrayBufferView:iM,isString:oM,isNumber:uv,isBoolean:aM,isObject:_o,isPlainObject:Na,isEmptyObject:lM,isReadableStream:gM,isRequest:yM,isResponse:xM,isHeaders:vM,isUndefined:Vs,isDate:uM,isFile:cM,isBlob:dM,isRegExp:PM,isFunction:ct,isStream:hM,isURLSearchParams:mM,isTypedArray:EM,isFileList:fM,forEach:So,merge:rd,extend:bM,trim:wM,stripBOM:NM,inherits:_M,toFlatObject:SM,kindOf:Fl,kindOfTest:Bt,endsWith:kM,toArray:jM,forEachEntry:CM,matchAll:TM,isHTMLForm:MM,hasOwnProperty:lm,hasOwnProp:lm,reduceDescriptors:fv,freezeMethods:IM,toObjectSet:DM,toCamelCase:RM,noop:AM,toFiniteNumber:LM,findKey:cv,global:pr,isContextDefined:dv,isSpecCompliantForm:OM,toJSONObject:zM,isAsyncFn:FM,isThenable:$M,setImmediate:hv,asap:HM,isIterable:VM};function se(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}$.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const pv=se.prototype,mv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{mv[e]={value:e}});Object.defineProperties(se,mv);Object.defineProperty(pv,"isAxiosError",{value:!0});se.from=(e,t,n,r,s,i)=>{const o=Object.create(pv);$.toFlatObject(e,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return se.call(o,l,u,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const UM=null;function sd(e){return $.isPlainObject(e)||$.isArray(e)}function gv(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function um(e,t,n){return e?e.concat(t).map(function(s,i){return s=gv(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function BM(e){return $.isArray(e)&&!e.some(sd)}const WM=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function Hl(e,t,n){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,S){return!$.isUndefined(S[b])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(s))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if($.isDate(y))return y.toISOString();if($.isBoolean(y))return y.toString();if(!u&&$.isBlob(y))throw new se("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(y)||$.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,b,S){let m=y;if(y&&!S&&typeof y=="object"){if($.endsWith(b,"{}"))b=r?b:b.slice(0,-2),y=JSON.stringify(y);else if($.isArray(y)&&BM(y)||($.isFileList(y)||$.endsWith(b,"[]"))&&(m=$.toArray(y)))return b=gv(b),m.forEach(function(p,x){!($.isUndefined(p)||p===null)&&t.append(o===!0?um([b],x,i):o===null?b:b+"[]",c(p))}),!1}return sd(y)?!0:(t.append(um(S,b,i),c(y)),!1)}const f=[],h=Object.assign(WM,{defaultVisitor:d,convertValue:c,isVisitable:sd});function v(y,b){if(!$.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(y),$.forEach(y,function(m,g){(!($.isUndefined(m)||m===null)&&s.call(t,m,$.isString(g)?g.trim():g,b,h))===!0&&v(m,b?b.concat(g):[g])}),f.pop()}}if(!$.isObject(e))throw new TypeError("data must be an object");return v(e),t}function cm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function jf(e,t){this._pairs=[],e&&Hl(e,this,t)}const yv=jf.prototype;yv.append=function(t,n){this._pairs.push([t,n])};yv.toString=function(t){const n=t?function(r){return t.call(this,r,cm)}:cm;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function qM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function xv(e,t,n){if(!t)return e;const r=n&&n.encode||qM;$.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=$.isURLSearchParams(t)?t.toString():new jf(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class dm{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(r){r!==null&&t(r)})}}const vv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QM=typeof URLSearchParams<"u"?URLSearchParams:jf,XM=typeof FormData<"u"?FormData:null,KM=typeof Blob<"u"?Blob:null,YM={isBrowser:!0,classes:{URLSearchParams:QM,FormData:XM,Blob:KM},protocols:["http","https","file","blob","url","data"]},Ef=typeof window<"u"&&typeof document<"u",id=typeof navigator=="object"&&navigator||void 0,GM=Ef&&(!id||["ReactNative","NativeScript","NS"].indexOf(id.product)<0),ZM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JM=Ef&&window.location.href||"http://localhost",e4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ef,hasStandardBrowserEnv:GM,hasStandardBrowserWebWorkerEnv:ZM,navigator:id,origin:JM},Symbol.toStringTag,{value:"Module"})),Qe={...e4,...YM};function t4(e,t){return Hl(e,new Qe.classes.URLSearchParams,{visitor:function(n,r,s,i){return Qe.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function n4(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function r4(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function wv(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=n.length;return o=!o&&$.isArray(s)?s.length:o,u?($.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!$.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&$.isArray(s[o])&&(s[o]=r4(s[o])),!l)}if($.isFormData(e)&&$.isFunction(e.entries)){const n={};return $.forEachEntry(e,(r,s)=>{t(n4(r),s,n,0)}),n}return null}function s4(e,t,n){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ko={transitional:vv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=$.isObject(t);if(i&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return s?JSON.stringify(wv(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return t4(t,this.formSerializer).toString();if((l=$.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Hl(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),s4(t)):t}],transformResponse:[function(t){const n=this.transitional||ko.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?se.from(l,se.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qe.classes.FormData,Blob:Qe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{ko.headers[e]={}});const i4=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),o4=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&i4[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},fm=Symbol("internals");function di(e){return e&&String(e).trim().toLowerCase()}function _a(e){return e===!1||e==null?e:$.isArray(e)?e.map(_a):String(e)}function a4(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const l4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Pu(e,t,n,r,s){if($.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!$.isString(t)){if($.isString(r))return t.indexOf(r)!==-1;if($.isRegExp(r))return r.test(t)}}function u4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function c4(e,t){const n=$.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let dt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,u,c){const d=di(u);if(!d)throw new Error("header name must be a non-empty string");const f=$.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||u]=_a(l))}const o=(l,u)=>$.forEach(l,(c,d)=>i(c,d,u));if($.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if($.isString(t)&&(t=t.trim())&&!l4(t))o(o4(t),n);else if($.isObject(t)&&$.isIterable(t)){let l={},u,c;for(const d of t){if(!$.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?$.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=di(t),t){const r=$.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return a4(s);if($.isFunction(n))return n.call(this,s,r);if($.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=di(t),t){const r=$.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Pu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=di(o),o){const l=$.findKey(r,o);l&&(!n||Pu(r,r[l],l,n))&&(delete r[l],s=!0)}}return $.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Pu(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return $.forEach(this,(s,i)=>{const o=$.findKey(r,i);if(o){n[o]=_a(s),delete n[i];return}const l=t?u4(i):String(i).trim();l!==i&&delete n[i],n[l]=_a(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return $.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[fm]=this[fm]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=di(o);r[l]||(c4(s,o),r[l]=!0)}return $.isArray(t)?t.forEach(i):i(t),this}};dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(dt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});$.freezeMethods(dt);function Iu(e,t){const n=this||ko,r=t||n,s=dt.from(r.headers);let i=r.data;return $.forEach(e,function(l){i=l.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function bv(e){return!!(e&&e.__CANCEL__)}function Ys(e,t,n){se.call(this,e??"canceled",se.ERR_CANCELED,t,n),this.name="CanceledError"}$.inherits(Ys,se,{__CANCEL__:!0});function Nv(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function d4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function f4(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=r[i];o||(o=c),n[s]=u,r[s]=c;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const v=d&&c-d;return v?Math.round(h*1e3/v):void 0}}function h4(e,t){let n=0,r=1e3/t,s,i;const o=(c,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const ul=(e,t,n=3)=>{let r=0;const s=f4(50,250);return h4(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-r,c=s(u),d=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},hm=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},pm=e=>(...t)=>$.asap(()=>e(...t)),p4=Qe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Qe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Qe.origin),Qe.navigator&&/(msie|trident)/i.test(Qe.navigator.userAgent)):()=>!0,m4=Qe.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];$.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),$.isString(r)&&l.push(`path=${r}`),$.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),$.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function g4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function y4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function _v(e,t,n){let r=!g4(t);return e&&(r||n==!1)?y4(e,t):t}const mm=e=>e instanceof dt?{...e}:e;function Fr(e,t){t=t||{};const n={};function r(c,d,f,h){return $.isPlainObject(c)&&$.isPlainObject(d)?$.merge.call({caseless:h},c,d):$.isPlainObject(d)?$.merge({},d):$.isArray(d)?d.slice():d}function s(c,d,f,h){if($.isUndefined(d)){if(!$.isUndefined(c))return r(void 0,c,f,h)}else return r(c,d,f,h)}function i(c,d){if(!$.isUndefined(d))return r(void 0,d)}function o(c,d){if($.isUndefined(d)){if(!$.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function l(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,d,f)=>s(mm(c),mm(d),f,!0)};return $.forEach(Object.keys({...e,...t}),function(d){const f=u[d]||s,h=f(e[d],t[d],d);$.isUndefined(h)&&f!==l||(n[d]=h)}),n}const Sv=e=>{const t=Fr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=dt.from(o),t.url=xv(_v(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),$.isFormData(n)){if(Qe.hasStandardBrowserEnv||Qe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if($.isFunction(n.getHeaders)){const u=n.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,f])=>{c.includes(d.toLowerCase())&&o.set(d,f)})}}if(Qe.hasStandardBrowserEnv&&(r&&$.isFunction(r)&&(r=r(t)),r||r!==!1&&p4(t.url))){const u=s&&i&&m4.read(i);u&&o.set(s,u)}return t},x4=typeof XMLHttpRequest<"u",v4=x4&&function(e){return new Promise(function(n,r){const s=Sv(e);let i=s.data;const o=dt.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=s,d,f,h,v,y;function b(){v&&v(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function m(){if(!S)return;const p=dt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:p,config:e,request:S};Nv(function(w){n(w),b()},function(w){r(w),b()},_),S=null}"onloadend"in S?S.onloadend=m:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(m)},S.onabort=function(){S&&(r(new se("Request aborted",se.ECONNABORTED,e,S)),S=null)},S.onerror=function(x){const _=x&&x.message?x.message:"Network Error",N=new se(_,se.ERR_NETWORK,e,S);N.event=x||null,r(N),S=null},S.ontimeout=function(){let x=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||vv;s.timeoutErrorMessage&&(x=s.timeoutErrorMessage),r(new se(x,_.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&$.forEach(o.toJSON(),function(x,_){S.setRequestHeader(_,x)}),$.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),l&&l!=="json"&&(S.responseType=s.responseType),c&&([h,y]=ul(c,!0),S.addEventListener("progress",h)),u&&S.upload&&([f,v]=ul(u),S.upload.addEventListener("progress",f),S.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(d=p=>{S&&(r(!p||p.type?new Ys(null,e,S):p),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=d4(s.url);if(g&&Qe.protocols.indexOf(g)===-1){r(new se("Unsupported protocol "+g+":",se.ERR_BAD_REQUEST,e));return}S.send(i||null)})},w4=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,l();const d=c instanceof Error?c:this.reason;r.abort(d instanceof se?d:new Ys(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>$.asap(l),u}},b4=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},N4=async function*(e,t){for await(const n of _4(e))yield*b4(n,t)},_4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},gm=(e,t,n,r)=>{const s=N4(e,t);let i=0,o,l=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await s.next();if(c){l(),u.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},ym=64*1024,{isFunction:sa}=$,S4=(({Request:e,Response:t})=>({Request:e,Response:t}))($.global),{ReadableStream:xm,TextEncoder:vm}=$.global,wm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},k4=e=>{e=$.merge.call({skipUndefined:!0},S4,e);const{fetch:t,Request:n,Response:r}=e,s=t?sa(t):typeof fetch=="function",i=sa(n),o=sa(r);if(!s)return!1;const l=s&&sa(xm),u=s&&(typeof vm=="function"?(y=>b=>y.encode(b))(new vm):async y=>new Uint8Array(await new n(y).arrayBuffer())),c=i&&l&&wm(()=>{let y=!1;const b=new n(Qe.origin,{body:new xm,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),d=o&&l&&wm(()=>$.isReadableStream(new r("").body)),f={stream:d&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(b,S)=>{let m=b&&b[y];if(m)return m.call(b);throw new se(`Response type '${y}' is not supported`,se.ERR_NOT_SUPPORT,S)})});const h=async y=>{if(y==null)return 0;if($.isBlob(y))return y.size;if($.isSpecCompliantForm(y))return(await new n(Qe.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if($.isArrayBufferView(y)||$.isArrayBuffer(y))return y.byteLength;if($.isURLSearchParams(y)&&(y=y+""),$.isString(y))return(await u(y)).byteLength},v=async(y,b)=>{const S=$.toFiniteNumber(y.getContentLength());return S??h(b)};return async y=>{let{url:b,method:S,data:m,signal:g,cancelToken:p,timeout:x,onDownloadProgress:_,onUploadProgress:N,responseType:w,headers:k,withCredentials:E="same-origin",fetchOptions:T}=Sv(y),P=t||fetch;w=w?(w+"").toLowerCase():"text";let A=w4([g,p&&p.toAbortSignal()],x),z=null;const j=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let O;try{if(N&&c&&S!=="get"&&S!=="head"&&(O=await v(k,m))!==0){let H=new n(b,{method:"POST",body:m,duplex:"half"}),V;if($.isFormData(m)&&(V=H.headers.get("content-type"))&&k.setContentType(V),H.body){const[q,B]=hm(O,ul(pm(N)));m=gm(H.body,ym,q,B)}}$.isString(E)||(E=E?"include":"omit");const D=i&&"credentials"in n.prototype,L={...T,signal:A,method:S.toUpperCase(),headers:k.normalize().toJSON(),body:m,duplex:"half",credentials:D?E:void 0};z=i&&new n(b,L);let C=await(i?P(z,T):P(b,L));const M=d&&(w==="stream"||w==="response");if(d&&(_||M&&j)){const H={};["status","statusText","headers"].forEach(K=>{H[K]=C[K]});const V=$.toFiniteNumber(C.headers.get("content-length")),[q,B]=_&&hm(V,ul(pm(_),!0))||[];C=new r(gm(C.body,ym,q,()=>{B&&B(),j&&j()}),H)}w=w||"text";let F=await f[$.findKey(f,w)||"text"](C,y);return!M&&j&&j(),await new Promise((H,V)=>{Nv(H,V,{data:F,headers:dt.from(C.headers),status:C.status,statusText:C.statusText,config:y,request:z})})}catch(D){throw j&&j(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,y,z),{cause:D.cause||D}):se.from(D,D&&D.code,y,z)}}},j4=new Map,kv=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,l=o,u,c,d=j4;for(;l--;)u=i[l],c=d.get(u),c===void 0&&d.set(u,c=l?new Map:k4(t)),d=c;return c};kv();const Cf={http:UM,xhr:v4,fetch:{get:kv}};$.forEach(Cf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const bm=e=>`- ${e}`,E4=e=>$.isFunction(e)||e===null||e===!1;function C4(e,t){e=$.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let l;if(s=r,!E4(r)&&(s=Cf[(l=String(r)).toLowerCase()],s===void 0))throw new se(`Unknown adapter '${l}'`);if(s&&($.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(bm).join(`
`):" "+bm(o[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const jv={getAdapter:C4,adapters:Cf};function Du(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ys(null,e)}function Nm(e){return Du(e),e.headers=dt.from(e.headers),e.data=Iu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jv.getAdapter(e.adapter||ko.adapter,e)(e).then(function(r){return Du(e),r.data=Iu.call(e,e.transformResponse,r),r.headers=dt.from(r.headers),r},function(r){return bv(r)||(Du(e),r&&r.response&&(r.response.data=Iu.call(e,e.transformResponse,r.response),r.response.headers=dt.from(r.response.headers))),Promise.reject(r)})}const Ev="1.13.2",Vl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const _m={};Vl.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Ev+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new se(s(o," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!_m[o]&&(_m[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};Vl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function T4(e,t,n){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new se("option "+i+" must be "+u,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+i,se.ERR_BAD_OPTION)}}const Sa={assertOptions:T4,validators:Vl},qt=Sa.validators;let Cr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new dm,response:new dm}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Fr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Sa.assertOptions(r,{silentJSONParsing:qt.transitional(qt.boolean),forcedJSONParsing:qt.transitional(qt.boolean),clarifyTimeoutError:qt.transitional(qt.boolean)},!1),s!=null&&($.isFunction(s)?n.paramsSerializer={serialize:s}:Sa.assertOptions(s,{encode:qt.function,serialize:qt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sa.assertOptions(n,{baseUrl:qt.spelling("baseURL"),withXsrfToken:qt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&$.merge(i.common,i[n.method]);i&&$.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=dt.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let d,f=0,h;if(!u){const y=[Nm.bind(this),void 0];for(y.unshift(...l),y.push(...c),h=y.length,d=Promise.resolve(n);f<h;)d=d.then(y[f++],y[f++]);return d}h=l.length;let v=n;for(;f<h;){const y=l[f++],b=l[f++];try{v=y(v)}catch(S){b.call(this,S);break}}try{d=Nm.call(this,v)}catch(y){return Promise.reject(y)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Fr(this.defaults,t);const n=_v(t.baseURL,t.url,t.allowAbsoluteUrls);return xv(n,t.params,t.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(t){Cr.prototype[t]=function(n,r){return this.request(Fr(r||{},{method:t,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(Fr(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Cr.prototype[t]=n(),Cr.prototype[t+"Form"]=n(!0)});let M4=class Cv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Ys(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Cv(function(s){t=s}),cancel:t}}};function R4(e){return function(n){return e.apply(null,n)}}function P4(e){return $.isObject(e)&&e.isAxiosError===!0}const od={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(od).forEach(([e,t])=>{od[t]=e});function Tv(e){const t=new Cr(e),n=ov(Cr.prototype.request,t);return $.extend(n,Cr.prototype,t,{allOwnKeys:!0}),$.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Tv(Fr(e,s))},n}const Re=Tv(ko);Re.Axios=Cr;Re.CanceledError=Ys;Re.CancelToken=M4;Re.isCancel=bv;Re.VERSION=Ev;Re.toFormData=Hl;Re.AxiosError=se;Re.Cancel=Re.CanceledError;Re.all=function(t){return Promise.all(t)};Re.spread=R4;Re.isAxiosError=P4;Re.mergeConfig=Fr;Re.AxiosHeaders=dt;Re.formToJSON=e=>wv($.isHTMLForm(e)?new FormData(e):e);Re.getAdapter=jv.getAdapter;Re.HttpStatusCode=od;Re.default=Re;const{Axios:P3,AxiosError:I3,CanceledError:D3,isCancel:A3,CancelToken:L3,VERSION:O3,all:z3,Cancel:F3,isAxiosError:$3,spread:H3,toFormData:V3,AxiosHeaders:U3,HttpStatusCode:B3,formToJSON:W3,getAdapter:q3,mergeConfig:Q3}=Re,I4="/api",Ul=Re.create({baseURL:I4,headers:{"Content-Type":"application/json"}}),D4=async e=>(await Ul.post("/pipeline/preview",e)).data,A4=async e=>(await Ul.get(`/pipeline/datasets/${e}/schema`)).data,Sm=async(e,t)=>(await Ul.post(`/pipeline/save/${e}`,t)).data,L4=async e=>{const t=await Ul.get(`/pipeline/load/${e}`);return t.data?t.data:null},O4=async e=>(console.warn("submitTrainingJob is not yet implemented in V2",e),{job_id:"mock_job_id"}),z4=()=>{const e=fe(g=>g.nodes),t=fe(g=>g.edges),n=fe(g=>g.setExecutionResult),r=fe(g=>g.setGraph),[s,i]=R.useState(!1),[o,l]=R.useState(!1),[u,c]=R.useState(!1),[d,f]=R.useState(!1),h=()=>({nodes:e.map(g=>({id:g.id,type:g.type,position:g.position,data:{...g.data,catalogType:g.data.catalogType||g.data.definitionType}})),edges:t.map(g=>({id:g.id,source:g.source,target:g.target,sourceHandle:g.sourceHandle,targetHandle:g.targetHandle,type:g.type,data:g.data}))}),v=g=>{const p=[],x=new Set,_=[],N=e.find(w=>w.data.definitionType==="dataset_node");for(N&&_.push(N.id);_.length>0;){const w=_.shift();if(x.has(w))continue;x.add(w);const k=e.find(j=>j.id===w);if(!k)continue;let E="unknown",T={};const A=t.filter(j=>j.target===w).map(j=>j.source);if(k.data.definitionType==="dataset_node")E="data_loader",T={dataset_id:k.data.datasetId};else if(k.data.definitionType==="imputation_node"){const j=k.data.method||"simple";j==="knn"?(E="KNNImputer",T={columns:k.data.columns,n_neighbors:k.data.n_neighbors,weights:k.data.weights}):j==="iterative"?(E="IterativeImputer",T={columns:k.data.columns,max_iter:k.data.max_iter,estimator:k.data.estimator,random_state:0}):(E="SimpleImputer",T={columns:k.data.columns,strategy:k.data.strategy,fill_value:k.data.fill_value})}else if(k.data.definitionType==="simple_imputer")E="SimpleImputer",T=k.data||{};else if(k.data.definitionType==="drop_missing_columns"||k.data.definitionType==="DropMissingColumns")E="DropMissingColumns",T={columns:k.data.columns||[],missing_threshold:k.data.missing_threshold};else if(k.data.definitionType==="drop_missing_rows"||k.data.definitionType==="DropMissingRows")E="DropMissingRows",T={missing_threshold:k.data.missing_threshold,drop_if_any_missing:k.data.drop_if_any_missing};else if(k.data.definitionType==="deduplicate"||k.data.definitionType==="Deduplicate")E="Deduplicate",T={subset:k.data.subset,keep:k.data.keep};else if(k.data.definitionType==="casting"||k.data.definitionType==="Casting")E="Casting",T={column_types:k.data.column_types};else if(k.data.definitionType==="MissingIndicator"||k.data.definitionType==="missing_indicator")E="MissingIndicator",T={columns:k.data.columns,flag_suffix:k.data.flag_suffix};else if(k.data.definitionType==="scale_numeric_features"){const j=k.data||{},O=j.method||"standard";O==="minmax"?E="MinMaxScaler":O==="maxabs"?E="MaxAbsScaler":O==="robust"?E="RobustScaler":E="StandardScaler",T=j}else if(k.data.definitionType==="encoding"){const j=k.data.method;j==="onehot"?E="OneHotEncoder":j==="dummy"?(E="DummyEncoder",T={...k.data,drop_first:!0}):j==="label"?E="LabelEncoder":j==="ordinal"?E="OrdinalEncoder":j==="target"?E="TargetEncoder":j==="hash"?E="HashEncoder":E="OneHotEncoder",E!=="DummyEncoder"&&(T=k.data)}else if(k.data.definitionType==="TrainTestSplitter")E="TrainTestSplitter",T=k.data||{};else if(k.data.definitionType==="label_encoding")E="LabelEncoder",T=k.data||{};else if(k.data.definitionType==="feature_target_split")E="feature_target_split",T=k.data||{};else if(k.data.definitionType==="train_model_draft"){E="model_training";let j=k.data.modelType;j==="random_forest"&&(j="random_forest_classifier"),T={target_column:k.data.targetColumn,algorithm:j,hyperparameters:k.data.hyperparameters}}else if(k.data.definitionType==="feature_selection")E="feature_selection",T=k.data||{};else if(k.data.definitionType==="outlier"){const j=k.data.method||"iqr";j==="iqr"?E="IQR":j==="zscore"?E="ZScore":j==="winsorize"?E="Winsorize":j==="elliptic_envelope"?E="EllipticEnvelope":E="IQR",T=k.data}else if(k.data.definitionType==="TransformationNode"){E="GeneralTransformation";const j=k.data.transformations||[],O=[];for(const D of j)if(D.columns&&Array.isArray(D.columns))for(const L of D.columns)O.push({column:L,method:D.method,...D.params});T={transformations:O}}else throw console.error(`Unknown node type: ${k.data.definitionType}`),new Error(`Unknown node type: ${k.data.definitionType}. Pipeline execution stopped.`);p.push({node_id:k.id,step_type:E,params:T,inputs:A}),t.filter(j=>j.source===w).forEach(j=>_.push(j.target))}return{pipeline_id:`preview_${Date.now()}`,nodes:p,metadata:{dataset_source_id:g}}},y=async()=>{const g=e.find(x=>x.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId;if(!p){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}l(!0);try{await Sm(p,{name:"My Pipeline",description:"Saved from V2 Canvas",graph:h()}),alert("Pipeline saved successfully!")}catch(x){console.error("Save failed:",x),alert("Failed to save pipeline.")}finally{l(!1)}},b=async()=>{const g=e.find(x=>x.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId;if(!p){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){c(!0);try{const x=await L4(p);x&&x.graph?(r(x.graph.nodes,x.graph.edges),alert("Pipeline loaded successfully!")):alert("No saved pipeline found for this dataset.")}catch(x){console.error("Load failed:",x),alert("Failed to load pipeline.")}finally{c(!1)}}},S=async()=>{const g=e.find(x=>x.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId;if(!p){alert("No dataset node found!");return}i(!0),n(null);try{const x=v(p),_=await D4(x);n(_)}catch(x){console.error("Pipeline failed:",x),alert("Pipeline execution failed. Check console for details.")}finally{i(!1)}},m=async()=>{const g=e.find(_=>_.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId,x=e.find(_=>_.data.definitionType==="train_model_draft");if(!p){alert("No dataset node found!");return}if(!x){alert('No training node found! Add a "Model Training" node to train a model.');return}f(!0);try{const _=await Sm(p,{name:"Training Pipeline",description:"Auto-saved before training",graph:h()});await O4({dataset_source_id:p,pipeline_id:_.id.toString(),node_id:x.id,model_types:[x.data.modelType],hyperparameters:x.data.hyperparameters,graph:h(),run_training:!0}),alert("Training job submitted successfully! Check the jobs dashboard.")}catch(_){console.error("Training failed:",_),alert("Failed to submit training job.")}finally{f(!1)}};return a.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[a.jsxs("button",{onClick:b,disabled:u||s||d,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[u?a.jsx(ra,{className:"w-4 h-4 animate-spin"}):a.jsx(TT,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:u?"Loading...":"Load"})]}),a.jsxs("button",{onClick:y,disabled:o||s||d,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[o?a.jsx(ra,{className:"w-4 h-4 animate-spin"}):a.jsx(FT,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:o?"Saving...":"Save"})]}),a.jsxs("button",{onClick:S,disabled:s||d,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[s?a.jsx(ra,{className:"w-4 h-4 animate-spin"}):a.jsx(zT,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:s?"Running...":"Run Preview"})]}),a.jsxs("button",{onClick:m,disabled:s||d,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md shadow-sm hover:bg-green-700 transition-colors disabled:opacity-50",children:[d?a.jsx(ra,{className:"w-4 h-4 animate-spin"}):a.jsx(tv,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:d?"Submitting...":"Train Model"})]})]})},F4=()=>{const e=fe(h=>h.executionResult),[t,n]=R.useState(!0),[r,s]=R.useState(null),i=R.useMemo(()=>e!=null&&e.preview_data?Array.isArray(e.preview_data)?{Result:e.preview_data}:typeof e.preview_data=="object"?e.preview_data:{}:{},[e]),o=Object.keys(i);if(Ot.useEffect(()=>{o.length>0&&(!r||!o.includes(r))&&(o.includes("train")?s("train"):o.includes("X")?s("X"):s(o[0]))},[o,r]),!e)return null;const l=r&&i[r]?i[r]:[],u=l.length>0?Object.keys(l[0]):[],c=e.node_results?Object.keys(e.node_results):[],d=Object.keys(e.node_results||{}).find(h=>e.node_results[h].status==="failed"),f=d?e.node_results[d].error:null;return a.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>n(!t),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qT,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),a.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[l.length," rows shown"]}),e.status==="failed"&&a.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),a.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?a.jsx(nv,{className:"w-4 h-4"}):a.jsx(xT,{className:"w-4 h-4"})})]}),t&&a.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&a.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[a.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),a.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:f||"Unknown error occurred during execution."})]}),o.length>1&&a.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[a.jsx(RT,{className:"w-3 h-3 text-muted-foreground mr-1"}),o.map(h=>a.jsx("button",{onClick:()=>s(h),className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${r===h?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:h},h))]}),c.length>0&&e.status!=="failed"&&a.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:c.map((h,v)=>a.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:h},v))}),a.jsxs("div",{className:"flex-1 overflow-auto",children:[a.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[a.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:a.jsx("tr",{children:u.map(h=>a.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:h},h))})}),a.jsx("tbody",{children:l.map((h,v)=>a.jsx("tr",{className:"border-b hover:bg-muted/10",children:u.map(y=>a.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:h[y]!==null?String(h[y]):a.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${v}-${y}`))},v))})]}),l.length===0&&a.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",r?`for ${r}`:""]})]})]})]})},$4=()=>{const[e,t]=R.useState(!1);R.useEffect(()=>{document.documentElement.classList.contains("dark")?t(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),t(!0))},[]);const n=()=>{const r=!e;t(r),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return a.jsxs("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-between shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:a.jsx(OT,{className:"w-5 h-5 text-primary"})}),a.jsx("h1",{className:"font-bold text-lg tracking-tight bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"Skyulf ML Canvas"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:"/ml-workflow-v1",className:"text-sm text-muted-foreground hover:text-primary transition-colors mr-2",target:"_blank",rel:"noopener noreferrer",children:"Switch to Legacy V1"}),a.jsx("button",{onClick:n,className:"p-2 hover:bg-accent rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Toggle Theme",children:e?a.jsx(AT,{className:"w-5 h-5"}):a.jsx(BT,{className:"w-5 h-5"})})]})]})},H4=()=>a.jsxs("div",{className:"flex h-screen w-full bg-background overflow-hidden flex-col",children:[a.jsx($4,{}),a.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[a.jsx(QT,{}),a.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[a.jsx(z4,{}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(nM,{}),a.jsx(F4,{})]})]}),a.jsx(rM,{})]})]});function V4(){const e=fe(t=>t.addNode);return R.useEffect(()=>{const n=new URLSearchParams(window.location.search).get("source_id");n&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:n})},100)},[]),R.useEffect(()=>{},[]),a.jsx(H4,{})}const U4=({config:e,onChange:t})=>a.jsxs("div",{className:"p-4 space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Debug Message"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:e.message,onChange:n=>t({...e,message:n.target.value})})]}),B4={type:"debug_node",label:"Debug Node",category:"Utility",description:"A simple node for testing the registry.",icon:gT,inputs:[{id:"in",label:"Input",type:"any"}],outputs:[{id:"out",label:"Output",type:"any"}],component:({data:e})=>a.jsxs("div",{className:"text-xs",children:["Msg: ",a.jsx("span",{className:"font-mono",children:e.message||"..."})]}),settings:U4,validate:e=>({isValid:e.message.length>0,message:e.message.length===0?"Message is required":void 0}),getDefaultConfig:()=>({message:"Hello World"})},km="/data/api",Mv={getAll:async()=>{const e=await fetch(`${km}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getById:async e=>{const t=await fetch(`${km}/sources/${e}`);if(!t.ok)throw new Error("Failed to fetch dataset");return t.json()}},tt=e=>WN({queryKey:["dataset-schema",e],queryFn:()=>A4(e),enabled:!!e,staleTime:1e3*60*5}),W4=({config:e,onChange:t})=>{const[n,r]=R.useState([]),[s,i]=R.useState(!1),{data:o,isLoading:l}=tt(e.datasetId);R.useEffect(()=>{i(!0),Mv.getAll().then(r).catch(console.error).finally(()=>i(!1))},[]);const u=c=>{const d=c.target.value,f=n.find(h=>String(h.id)===d);t({...e,datasetId:d,datasetName:f==null?void 0:f.name})};return a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),s?a.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):a.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:u,children:[a.jsx("option",{value:"",children:"-- Select --"}),n.map(c=>a.jsx("option",{value:c.id,children:c.name},c.id))]})]}),e.datasetId&&a.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[a.jsx(WT,{size:14}),a.jsx("span",{children:"Dataset Schema"})]}),l?a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-y-auto",children:a.jsxs("table",{className:"w-full text-xs text-left",children:[a.jsx("thead",{className:"bg-muted/20 sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-2 font-medium border-b",children:"Column"}),a.jsx("th",{className:"p-2 font-medium border-b",children:"Type"}),a.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Missing"}),a.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Unique"})]})}),a.jsx("tbody",{children:Object.values(o.columns).map(c=>a.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[a.jsx("td",{className:"p-2 font-mono font-medium",children:c.name}),a.jsx("td",{className:"p-2 text-muted-foreground",children:c.dtype}),a.jsx("td",{className:"p-2 text-right text-muted-foreground",children:c.missing_count}),a.jsx("td",{className:"p-2 text-right text-muted-foreground",children:c.unique_count})]},c.name))})]})}),a.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):a.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},q4=({data:e})=>{const[t,n]=R.useState(void 0);R.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&Mv.getById(e.datasetId).then(s=>n(s.name)).catch(()=>n(e.datasetId))},[e.datasetId,e.datasetName,t]);const r=e.datasetName||t||e.datasetId;return a.jsx("div",{className:"text-xs",children:e.datasetId?a.jsx("div",{className:"font-medium truncate max-w-[150px]",title:r,children:r||"Loading..."}):a.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},Q4={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:ST,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:W4,component:q4,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},Rv=(e,t,n,r=new Set)=>{var i;if(r.has(e.id))return;if(r.add(e.id),(i=e.data)!=null&&i.datasetId)return e.data.datasetId;const s=qs(e,t,n);for(const o of s){const l=Rv(o,t,n,r);if(l)return l}},wt=e=>{const t=fe(i=>i.nodes),n=fe(i=>i.edges),r=t.find(i=>i.id===e);return r?qs(r,t,n).map(i=>{const o=Rv(i,t,n);return o&&!i.data.datasetId?{...i.data,datasetId:o}:i.data}):[]},Bl=(e,t={})=>{var i;const r=(i=wt(e).find(o=>o.datasetId))==null?void 0:i.datasetId,s=fe(o=>o.executionResult);return R.useMemo(()=>!r||!(s!=null&&s.recommendations)?[]:s.recommendations.filter(o=>{var l,u;if(t.types||t.suggestedNodeTypes){const c=(l=t.types)==null?void 0:l.includes(o.type),d=(u=t.suggestedNodeTypes)==null?void 0:u.includes(o.suggested_node_type);if(!c&&!d)return!1}return!(t.scope==="column"&&(!o.target_columns||o.target_columns.length===0))}),[s,r,t.types,t.suggestedNodeTypes,t.scope])},jo=({recommendations:e,onApply:t,className:n=""})=>!e||e.length===0?null:a.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${n}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[a.jsx(PT,{className:"w-4 h-4"}),a.jsx("span",{children:"Recommendations"})]}),a.jsx("div",{className:"space-y-2",children:e.map(r=>a.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex justify-between items-start gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:r.type.replace("_"," ").toUpperCase()}),a.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:r.description}),r.reasoning&&a.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",r.reasoning]})]}),t&&a.jsx("button",{onClick:()=>t(r),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:a.jsx(wT,{className:"w-5 h-5"})})]})},r.rule_id))})]}),X4=({config:e,onChange:t,nodeId:n})=>{var _;const s=(_=wt(n||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:i,isLoading:o}=tt(s),l=i?Object.values(i.columns).map(N=>N.name):[],u=fe(N=>N.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,f=R.useRef(null),[h,v]=R.useState(!1);R.useEffect(()=>{if(!f.current)return;const N=new ResizeObserver(w=>{for(const k of w)v(k.contentRect.width>450)});return N.observe(f.current),()=>N.disconnect()},[]);const y=Bl(n||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),b=N=>{if(N.target_columns&&N.target_columns.length>0){const w=Array.from(new Set([...e.columns,...N.target_columns]));t({...e,columns:w})}},[S,m]=R.useState(""),g=R.useMemo(()=>l.filter(N=>N.toLowerCase().includes(S.toLowerCase())),[l,S]),p=()=>{t({...e,columns:g})},x=()=>{const N=e.columns.filter(w=>!g.includes(w));t({...e,columns:N})};return a.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[y.length>0&&a.jsx("div",{className:"shrink-0",children:a.jsx(jo,{recommendations:y,onApply:b})}),a.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),a.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),a.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:N=>t({...e,missing_threshold:parseInt(N.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),d&&d.dropped_columns_count!==void 0&&a.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(Xs,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),a.jsx("span",{className:"font-medium text-destructive",children:d.dropped_columns_count})]}),d.dropped_columns&&Array.isArray(d.dropped_columns)&&d.dropped_columns.length>0&&a.jsxs("div",{className:"pt-1 border-t mt-1",children:[a.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:d.dropped_columns.map(N=>a.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:N},N))})]})]})]})]}),a.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${h?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[a.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),a.jsx("div",{className:"relative group",children:a.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:S,onChange:N=>m(N.target.value)})}),a.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[a.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),a.jsx("span",{className:"text-border",children:"|"}),a.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:l.length>0?g.length>0?a.jsx("div",{className:"space-y-0.5",children:g.map(N=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[a.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:w=>{const k=w.target.checked?[...e.columns,N]:e.columns.filter(E=>E!==N);t({...e,columns:k})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),a.jsx("span",{className:"truncate font-mono text-xs",title:N,children:N})]},N))}):a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',S,'"']}):a.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},K4={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:Sf,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:X4,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},Y4=({config:e,onChange:t,nodeId:n})=>{var N;const s=(N=wt(n||"").find(w=>w.datasetId))==null?void 0:N.datasetId,{data:i,isLoading:o}=tt(s),l=i?Object.values(i.columns).map(w=>w.name):[],u=fe(w=>w.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,f=R.useRef(null),[h,v]=R.useState(!1);R.useEffect(()=>{if(!f.current)return;const w=new ResizeObserver(k=>{for(const E of k)v(E.contentRect.width>450)});return w.observe(f.current),()=>w.disconnect()},[]);const y=Bl(n||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),b=w=>{if(w.target_columns&&w.target_columns.length>0){const k=Array.from(new Set([...e.columns,...w.target_columns]));t({...e,columns:k})}},[S,m]=R.useState(""),g=R.useMemo(()=>l.filter(w=>w.toLowerCase().includes(S.toLowerCase())),[l,S]),p=()=>{t({...e,columns:g})},x=()=>{const w=e.columns.filter(k=>!g.includes(k));t({...e,columns:w})},_=()=>d?a.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),d.fill_values&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.fill_values).map(([w,k])=>a.jsxs("div",{className:"flex justify-between text-[10px]",children:[a.jsxs("span",{className:"truncate max-w-[100px]",title:w,children:[w,":"]}),a.jsx("span",{className:"font-mono",children:typeof k=="number"?k.toFixed(4):String(k)})]},w))})]}),d.missing_counts&&a.jsxs("div",{className:"space-y-1 mt-2",children:[a.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.missing_counts).map(([w,k])=>a.jsxs("div",{className:"flex justify-between text-[10px]",children:[a.jsxs("span",{className:"truncate max-w-[100px]",title:w,children:[w,":"]}),a.jsx("span",{className:"font-mono",children:String(k)})]},w))}),d.total_missing!==void 0&&a.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",a.jsx("span",{className:"font-mono font-medium",children:d.total_missing})]})]}),!d.fill_values&&!d.missing_counts&&(c==null?void 0:c.status)==="success"&&a.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return a.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[y.length>0&&a.jsx("div",{className:"shrink-0",children:a.jsx(jo,{recommendations:y,onApply:b})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:w=>t({...e,method:w.target.value}),children:[a.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),a.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),a.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:w=>t({...e,strategy:w.target.value}),children:[a.jsx("option",{value:"mean",children:"Mean (Average)"}),a.jsx("option",{value:"median",children:"Median (Middle Value)"}),a.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),a.jsx("option",{value:"constant",children:"Constant Value"})]}),a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:w=>t({...e,fill_value:w.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),a.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:w=>t({...e,n_neighbors:parseInt(w.target.value)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:w=>t({...e,weights:w.target.value}),children:[a.jsx("option",{value:"uniform",children:"Uniform"}),a.jsx("option",{value:"distance",children:"Distance"})]}),a.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),a.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:w=>t({...e,max_iter:parseInt(w.target.value)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:w=>t({...e,estimator:w.target.value}),children:[a.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),a.jsx("option",{value:"decision_tree",children:"Decision Tree"}),a.jsx("option",{value:"extra_trees",children:"Extra Trees"}),a.jsx("option",{value:"knn",children:"KNN"})]}),a.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:w=>t({...e,random_state:parseInt(w.target.value)})})]})]}),h&&a.jsx(_,{})]}),a.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${h?"":"shrink-0"}`,children:[a.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:p,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),a.jsx("button",{onClick:x,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),a.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:S,onChange:w=>m(w.target.value)})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:g.length>0?g.map(w=>a.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[a.jsx("input",{type:"checkbox",checked:e.columns.includes(w),onChange:k=>{const E=k.target.checked?[...e.columns,w]:e.columns.filter(T=>T!==w);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),a.jsx("span",{className:"truncate",title:w,children:w})]}),(d==null?void 0:d.missing_counts)&&d.missing_counts[w]!==void 0&&a.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${d.missing_counts[w]} missing values filled`,children:d.missing_counts[w]})]},w)):a.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:l.length===0?"No columns available":"No matches found"})})]}),!h&&a.jsx(_,{})]})]})},G4={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:LT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Y4,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:(e.method==="simple"||!e.method)&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},Z4=({config:e,onChange:t,nodeId:n})=>{var p;const s=(p=wt(n||"").find(x=>x.datasetId))==null?void 0:p.datasetId,{data:i,isLoading:o}=tt(s),l=fe(x=>x.executionResult),u=n?l==null?void 0:l.node_results[n]:null,c=R.useRef(null),[d,f]=R.useState(!1),[h,v]=R.useState("");R.useEffect(()=>{if(!c.current)return;const x=new ResizeObserver(_=>{for(const N of _)f(N.contentRect.width>450)});return x.observe(c.current),()=>x.disconnect()},[]);const y=i?Object.values(i.columns).filter(x=>["int","float","number"].some(_=>{var N;return(N=x.dtype)==null?void 0:N.toLowerCase().includes(_)})).map(x=>x.name):[],b=y.filter(x=>x.toLowerCase().includes(h.toLowerCase())),S=()=>{t({...e,columns:b})},m=()=>{const x=e.columns.filter(_=>!b.includes(_));t({...e,columns:x})},g=()=>{if(!u||!u.metrics)return null;const x=u.metrics,_=x.columns;if(!_)return null;const N=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return a.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),a.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:N()})]}),a.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:_.map((w,k)=>{var T,P,A,z,j,O,D;let E="";if(e.method==="standard"){const L=(T=x.mean)==null?void 0:T[k],C=(P=x.scale)==null?void 0:P[k];typeof L=="number"&&(E=`=${L.toFixed(2)}, =${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="minmax"){const L=(A=x.data_min)==null?void 0:A[k],C=(z=x.data_max)==null?void 0:z[k];typeof L=="number"&&(E=`Min=${L.toFixed(2)}, Max=${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="robust"){const L=(j=x.center)==null?void 0:j[k],C=(O=x.scale)==null?void 0:O[k];typeof L=="number"&&(E=`Med=${L.toFixed(2)}, IQR=${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const L=(D=x.max_abs)==null?void 0:D[k];typeof L=="number"&&(E=`MaxAbs=${L.toFixed(2)}`)}return a.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[a.jsx("span",{className:"truncate max-w-[100px] font-medium",title:w,children:w}),a.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:E})]},w)})})]})};return a.jsxs("div",{ref:c,className:`flex flex-col h-full w-full bg-background ${d?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${d?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${d?"overflow-y-auto pr-2":"shrink-0"}`,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:x=>t({...e,method:x.target.value}),children:[a.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),a.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),a.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),a.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&a.jsxs("div",{className:"space-y-2 border-t pt-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:x=>t({...e,with_mean:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{children:"Center Data (with_mean)"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:x=>t({...e,with_std:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&a.jsxs("div",{className:"space-y-2 border-t pt-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:x=>t({...e,feature_range_min:parseFloat(x.target.value)})}),a.jsx("span",{className:"text-muted-foreground",children:"-"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:x=>t({...e,feature_range_max:parseFloat(x.target.value)})})]})]}),e.method==="robust"&&a.jsxs("div",{className:"space-y-2 border-t pt-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:x=>t({...e,quantile_range_min:parseFloat(x.target.value)})}),a.jsx("span",{className:"text-muted-foreground",children:"-"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:x=>t({...e,quantile_range_max:parseFloat(x.target.value)})})]}),a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:x=>t({...e,with_centering:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{children:"Center Data (Median)"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:x=>t({...e,with_scaling:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),d&&a.jsx(g,{})]}),a.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${d?"":"shrink-0"}`,children:[a.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:S,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),a.jsx("button",{onClick:m,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),a.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:h,onChange:x=>v(x.target.value)})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:b.length>0?b.map(x=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.columns.includes(x),onChange:_=>{const N=_.target.checked?[...e.columns,x]:e.columns.filter(w=>w!==x);t({...e,columns:N})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"truncate",title:x,children:x})]},x)):a.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:o?"Loading schema...":y.length===0?"No numeric columns found":"No matches found"})})]}),!d&&a.jsx(g,{})]})]})},J4={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:$T,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:Z4,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})},e3=({config:e,onChange:t,nodeId:n})=>{var c,d;const r=wt(n||""),s=(c=r.find(f=>f.datasetId))==null?void 0:c.datasetId,i=(d=r.find(f=>f.target_column))==null?void 0:d.target_column;Ot.useEffect(()=>{const f={};s&&e.datasetId!==s&&(f.datasetId=s),i&&e.targetColumn!==i&&(f.targetColumn=i),Object.keys(f).length>0&&t({...e,...f})},[s,i,e.datasetId,e.targetColumn,t]);const{data:o,isLoading:l}=tt(s||e.datasetId),u=o?Object.values(o.columns).map(f=>f.name):[];return a.jsxs("div",{className:"p-4 space-y-4",children:[!s&&!e.datasetId&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),l&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Column"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.targetColumn??"",onChange:f=>t({...e,targetColumn:f.target.value}),disabled:!!i,children:[a.jsx("option",{value:"",children:"-- Select Target --"}),u.map(f=>a.jsx("option",{value:f,children:f},f))]}),i&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Target column inherited from upstream split."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Model Type"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.modelType,onChange:f=>t({...e,modelType:f.target.value}),children:[a.jsx("option",{value:"random_forest",children:"Random Forest"}),a.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),a.jsx("option",{value:"xgboost",children:"XGBoost"})]})]}),e.modelType==="random_forest"&&a.jsxs("div",{className:"space-y-2 border-t pt-2",children:[a.jsx("h4",{className:"text-xs font-semibold text-muted-foreground",children:"Hyperparameters"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1",children:"N Estimators"}),a.jsx("input",{type:"number",className:"w-full p-1 border rounded text-sm",value:e.hyperparameters.n_estimators||100,onChange:f=>t({...e,hyperparameters:{...e.hyperparameters,n_estimators:parseInt(f.target.value)}})})]})]})]})},t3={type:"train_model_draft",label:"Model Training",category:"Modeling",description:"Train a machine learning model.",icon:tv,inputs:[{id:"train",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:e3,validate:e=>e.targetColumn?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({targetColumn:"",modelType:"random_forest",hyperparameters:{n_estimators:100}})},n3=({config:e,onChange:t})=>{const n=["train","validation","test"],r=["accuracy","precision","recall","f1","roc_auc","mse","rmse","r2"],s=o=>{const l=e.splits.includes(o)?e.splits.filter(u=>u!==o):[...e.splits,o];t({...e,splits:l})},i=o=>{const l=e.metrics.includes(o)?e.metrics.filter(u=>u!==o):[...e.metrics,o];t({...e,metrics:l})};return a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Evaluation Splits"}),a.jsx("div",{className:"space-y-2",children:n.map(o=>a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.splits.includes(o),onChange:()=>s(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsxs("span",{className:"capitalize",children:[o," Set"]})]},o))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metrics to Track"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.map(o=>a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.metrics.includes(o),onChange:()=>i(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"uppercase",children:o.replace("_"," ")})]},o))})]})]})},r3={type:"model_evaluation",label:"Model Evaluation",category:"Evaluation",description:"Evaluate model performance on specific splits.",icon:mT,inputs:[{id:"model",label:"Trained Model",type:"model"}],outputs:[{id:"report",label:"Evaluation Report",type:"report"}],settings:n3,validate:e=>({isValid:e.splits.length>0,message:e.splits.length===0?"Select at least one split to evaluate":void 0}),getDefaultConfig:()=>({splits:["validation"],metrics:["accuracy","f1"]})},s3=({config:e,onChange:t,nodeId:n})=>{var x;const r=wt(n||""),s=fe(_=>_.nodes),i=fe(_=>_.edges),o=fe(_=>_.executionResult),u=(_=>{var k;const N=new Set,w=[_];for(;w.length>0;){const E=w.shift();if(N.has(E))continue;N.add(E);const T=s.find(A=>A.id===E);if(!T)continue;if(E!==_&&((k=T.data)!=null&&k.datasetId))return T.data.datasetId;const P=qs(T,s,i);for(const A of P)w.push(A.id)}})(n||""),c=(x=r.find(_=>_.target_column))==null?void 0:x.target_column;R.useEffect(()=>{const _={};u&&e.datasetId!==u&&(_.datasetId=u),c&&e.target_column!==c&&(_.target_column=c),Object.keys(_).length>0&&t({...e,..._})},[u,c,e.datasetId,e.target_column,t]);const{data:d,isLoading:f}=tt(u||e.datasetId),h=d?Object.values(d.columns).map(_=>_.name):[],v=R.useRef(null),[y,b]=R.useState(!1);R.useEffect(()=>{if(!v.current)return;const _=new ResizeObserver(N=>{for(const w of N)b(w.contentRect.width>450)});return _.observe(v.current),()=>_.disconnect()},[]);const S=()=>{const _=e.problem_type||"auto";return _==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:_==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},m=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),g=["select_from_model","rfe"].includes(e.method),p=()=>{const _=o==null?void 0:o.node_results[n||""];if(!_)return null;const N=_.metrics||{},w=N.dropped_columns,k=N.feature_scores,E=N.p_values,T=N.feature_importances,P=N.variances,A=N.ranking;return a.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[a.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),_.error&&a.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:_.error}),w&&w.length>0?a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:a.jsxs("span",{children:["Dropped Columns (",w.length,")"]})}),a.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:w.map(z=>{const j=k==null?void 0:k[z],O=E==null?void 0:E[z],D=T==null?void 0:T[z],L=P==null?void 0:P[z],C=A==null?void 0:A[z];return a.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[a.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:z,children:z}),a.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[j!==void 0&&a.jsxs("span",{children:["Score: ",j.toFixed(4)]}),O!==void 0&&a.jsxs("span",{children:["p-val: ",O.toExponential(2)]}),D!==void 0&&a.jsxs("span",{children:["Imp: ",D.toFixed(4)]}),L!==void 0&&a.jsxs("span",{children:["Var: ",L.toFixed(4)]}),C!==void 0&&a.jsxs("span",{children:["Rank: ",C]})]})]},z)})})]}):_.status==="success"&&a.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[a.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&a.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&a.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&a.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(k||T)&&a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),a.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(k||T||{}).sort(([,z],[,j])=>j-z).slice(0,5).map(([z,j])=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"truncate max-w-[120px]",title:z,children:z}),a.jsx("span",{className:"font-mono text-[10px]",children:j.toFixed(4)})]},z))})]})]})};return a.jsxs("div",{ref:v,className:`flex flex-col h-full w-full bg-background ${y?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!u&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),f&&!!u&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${y?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pr-2":"shrink-0"}`,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:_=>t({...e,method:_.target.value}),children:[a.jsxs("optgroup",{label:"Simple",children:[a.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),a.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),a.jsxs("optgroup",{label:"Univariate",children:[a.jsx("option",{value:"select_k_best",children:"Select K Best"}),a.jsx("option",{value:"select_percentile",children:"Select Percentile"}),a.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),a.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),a.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),a.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),a.jsxs("optgroup",{label:"Model Based",children:[a.jsx("option",{value:"select_from_model",children:"Select From Model"}),a.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),c?a.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[c," ",a.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:_=>t({...e,target_column:_.target.value}),children:[a.jsx("option",{value:"",children:"Select Target..."}),h.map(_=>a.jsx("option",{value:_,children:_},_))]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(m||g)&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:_=>t({...e,problem_type:_.target.value}),children:[a.jsx("option",{value:"auto",children:"Auto-detect"}),a.jsx("option",{value:"classification",children:"Classification"}),a.jsx("option",{value:"regression",children:"Regression"})]})]}),y&&a.jsx(p,{})]}),a.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[a.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),a.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:_=>t({...e,threshold:parseFloat(_.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),a.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:_=>t({...e,threshold:parseFloat(_.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:_=>t({...e,correlation_method:_.target.value}),children:[a.jsx("option",{value:"pearson",children:"Pearson"}),a.jsx("option",{value:"spearman",children:"Spearman"}),a.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),m&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:_=>t({...e,score_func:_.target.value}),children:[a.jsx("option",{value:"",children:"Auto (Default)"}),S().map(_=>a.jsx("option",{value:_.value,children:_.label},_.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:_=>t({...e,k:parseInt(_.target.value)})})]}),e.method==="select_percentile"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:_=>t({...e,percentile:parseInt(_.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),a.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:_=>t({...e,alpha:parseFloat(_.target.value)})})]}),e.method==="generic_univariate_select"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Mode"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:_=>t({...e,mode:_.target.value}),children:[a.jsx("option",{value:"k_best",children:"K Best"}),a.jsx("option",{value:"percentile",children:"Percentile"}),a.jsx("option",{value:"fpr",children:"FPR"}),a.jsx("option",{value:"fdr",children:"FDR"}),a.jsx("option",{value:"fwe",children:"FWE"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),a.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:_=>t({...e,param:parseFloat(_.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),g&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:_=>t({...e,estimator:_.target.value}),children:[a.jsx("option",{value:"auto",children:"Auto"}),a.jsx("option",{value:"RandomForest",children:"Random Forest"}),a.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),a.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:_=>t({...e,threshold:_.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Step"}),a.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:_=>t({...e,step:parseInt(_.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[a.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:_=>t({...e,drop_columns:_.target.checked})}),a.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!y&&a.jsx(p,{})]})]})]})},i3={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:ET,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:s3,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},o3=({config:e,onChange:t,nodeId:n})=>{var m;const r=wt(n||""),s=fe(g=>g.nodes),i=fe(g=>g.edges),l=(g=>{var _;const p=new Set,x=[g];for(;x.length>0;){const N=x.shift();if(p.has(N))continue;p.add(N);const w=s.find(E=>E.id===N);if(!w)continue;if(N!==g&&((_=w.data)!=null&&_.datasetId))return w.data.datasetId;const k=qs(w,s,i);for(const E of k)x.push(E.id)}})(n||""),u=(m=r.find(g=>g.target_column))==null?void 0:m.target_column;Ot.useEffect(()=>{const g={};l&&e.datasetId!==l&&(g.datasetId=l),u&&e.target_column!==u&&(g.target_column=u),Object.keys(g).length>0&&t({...e,...g})},[l,u,e.datasetId,e.target_column,t]);const{data:c,isLoading:d}=tt(l||e.datasetId),f=c?Object.values(c.columns).map(g=>g.name):[],h=e.validation_size||0,v=1-e.test_size-h,y=Ot.useRef(null),[b,S]=Ot.useState(!1);return Ot.useEffect(()=>{if(!y.current)return;const g=new ResizeObserver(p=>{for(const x of p)S(x.contentRect.width>450)});return g.observe(y.current),()=>g.disconnect()},[]),a.jsxs("div",{ref:y,className:`flex flex-col h-full w-full bg-background ${b?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!l&&!e.datasetId&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),d&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${b?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${b?"overflow-y-auto pr-2":"shrink-0"}`,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),a.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:g=>t({...e,test_size:parseFloat(g.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),a.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:h,onChange:g=>t({...e,validation_size:parseFloat(g.target.value)})}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(v*100),"% Training, ",Math.round(h*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),v<=0&&a.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Random State"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:g=>t({...e,random_state:parseInt(g.target.value)})})]})]}),a.jsxs("div",{className:`space-y-4 ${b?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:g=>t({...e,shuffle:g.target.checked})}),a.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:g=>t({...e,stratify:g.target.checked})}),a.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),a.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[a.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:g=>t({...e,target_column:g.target.value}),disabled:!e.stratify,children:[a.jsx("option",{value:"",children:"-- Select Target --"}),f.map(g=>a.jsx("option",{value:g,children:g},g))]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},a3={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:iv,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:o3,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},l3=({config:e,onChange:t,nodeId:n})=>{const r=fe(c=>c.nodes),s=fe(c=>c.edges),o=(c=>{var h;const d=new Set,f=[c];for(;f.length>0;){const v=f.shift();if(d.has(v))continue;d.add(v);const y=r.find(S=>S.id===v);if(!y)continue;if(v!==c&&((h=y.data)!=null&&h.datasetId))return y.data.datasetId;const b=qs(y,r,s);for(const S of b)f.push(S.id)}})(n||"");Ot.useEffect(()=>{o&&e.datasetId!==o&&t({...e,datasetId:o})},[o,e.datasetId,t]);const{data:l}=tt(o||e.datasetId),u=l?Object.values(l.columns).map(c=>c.name):[];return a.jsx("div",{className:"p-4 space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:c=>t({...e,target_column:c.target.value}),children:[a.jsx("option",{value:"",children:"-- Select Target --"}),u.map(c=>a.jsx("option",{value:c,children:c},c))]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},u3={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:iv,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:l3,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},c3=({config:e,onChange:t,nodeId:n})=>{var c;const s=(c=wt(n||"").find(d=>d.datasetId))==null?void 0:c.datasetId,{isLoading:i}=tt(s),o=fe(d=>d.executionResult),l=n?o==null?void 0:o.node_results[n]:null,u=l==null?void 0:l.metrics;return a.jsxs("div",{className:"p-4 space-y-4",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:d=>t({...e,drop_if_any_missing:d.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),a.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[a.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:d=>t({...e,missing_threshold:parseInt(d.target.value)}),className:"flex-1"}),a.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),u&&u.DropMissingRows_rows_removed!==void 0&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(Xs,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),a.jsx("span",{className:"font-medium text-destructive",children:u.DropMissingRows_rows_removed})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),a.jsx("span",{className:"font-medium",children:u.DropMissingRows_rows_remaining})]}),a.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),a.jsx("span",{className:"font-medium",children:u.DropMissingRows_rows_total})]})]})]})]})},d3={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:jT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:c3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},f3=({config:e,onChange:t,nodeId:n})=>{var S;const s=(S=wt(n||"").find(m=>m.datasetId))==null?void 0:S.datasetId,{data:i,isLoading:o}=tt(s),l=i?Object.values(i.columns).map(m=>m.name):[],u=fe(m=>m.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,[f,h]=R.useState(""),v=R.useMemo(()=>l.filter(m=>m.toLowerCase().includes(f.toLowerCase())),[l,f]),y=()=>{t({...e,subset:v})},b=()=>{const m=e.subset.filter(g=>!v.includes(g));t({...e,subset:m})};return a.jsxs("div",{className:"p-4 space-y-4",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:m=>t({...e,keep:m.target.value}),children:[a.jsx("option",{value:"first",children:"Keep First Occurrence"}),a.jsx("option",{value:"last",children:"Keep Last Occurrence"}),a.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:m=>h(m.target.value)}),a.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[a.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),a.jsx("span",{className:"text-border",children:"|"}),a.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?a.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[v.map(m=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(m),onChange:g=>{const p=g.target.checked?[...e.subset,m]:e.subset.filter(x=>x!==m);t({...e,subset:p})}}),m]},m)),v.length===0&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):a.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.Deduplicate_rows_removed!==void 0&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(Xs,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),a.jsx("span",{className:"font-medium text-destructive",children:d.Deduplicate_rows_removed})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),a.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_remaining})]}),a.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),a.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_total})]})]})]})]})},h3={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:_T,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:f3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},p3=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],m3=({config:e,onChange:t,nodeId:n})=>{var g;const s=(g=wt(n||"").find(p=>p.datasetId))==null?void 0:g.datasetId,{data:i,isLoading:o}=tt(s),l=i?Object.values(i.columns).map(p=>p.name):[],u=fe(p=>p.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,f=R.useRef(null),[h,v]=R.useState(!1);R.useEffect(()=>{if(!f.current)return;const p=new ResizeObserver(x=>{for(const _ of x)v(_.contentRect.width>450)});return p.observe(f.current),()=>p.disconnect()},[]);const y=()=>{if(l.length===0)return;const p=l.find(x=>!e.column_types[x])||l[0];t({...e,column_types:{...e.column_types,[p]:"float"}})},b=p=>{const x={...e.column_types};delete x[p],t({...e,column_types:x})},S=(p,x)=>{if(p===x)return;const _=e.column_types[p],N={...e.column_types};delete N[p],N[x]=_,t({...e,column_types:N})},m=(p,x)=>{t({...e,column_types:{...e.column_types,[p]:x}})};return a.jsxs("div",{ref:f,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),a.jsx("button",{onClick:y,disabled:!s||l.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:a.jsx(rv,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:`space-y-2 ${h?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([p,x])=>a.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[a.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[a.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:p,onChange:_=>S(p,_.target.value),children:l.map(_=>a.jsx("option",{value:_,disabled:_!==p&&!!e.column_types[_],children:_},_))}),a.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:x,onChange:_=>m(p,_.target.value),children:p3.map(_=>a.jsx("option",{value:_.value,children:_.label},_.value))})]}),a.jsx("button",{onClick:()=>b(p),className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:a.jsx(Sf,{className:"w-4 h-4"})})]},p)),Object.keys(e.column_types).length===0&&a.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${h?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),d&&(d.cast_errors!==void 0||d.casted_columns_count!==void 0)&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(Xs,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[d.casted_columns_count!==void 0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),a.jsx("span",{className:"font-medium",children:d.casted_columns_count})]}),d.cast_errors!==void 0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),a.jsx("span",{className:"font-medium text-destructive",children:d.cast_errors})]})]})]})]})},g3={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:kT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:m3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},y3=({config:e,onChange:t,nodeId:n})=>{var S;const s=(S=wt(n||"").find(m=>m.datasetId))==null?void 0:S.datasetId,{data:i,isLoading:o}=tt(s),l=i?Object.values(i.columns).map(m=>m.name):[],u=fe(m=>m.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,[f,h]=R.useState(""),v=R.useMemo(()=>l.filter(m=>m.toLowerCase().includes(f.toLowerCase())),[l,f]),y=()=>{t({...e,columns:v})},b=()=>{const m=e.columns.filter(g=>!v.includes(g));t({...e,columns:m})};return a.jsxs("div",{className:"p-4 space-y-4",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:m=>t({...e,flag_suffix:m.target.value}),placeholder:"_was_missing"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:m=>h(m.target.value)}),a.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[a.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),a.jsx("span",{className:"text-border",children:"|"}),a.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?a.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[v.map(m=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(m),onChange:g=>{const p=g.target.checked?[...e.columns,m]:e.columns.filter(x=>x!==m);t({...e,columns:p})}}),m]},m)),v.length===0&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):a.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.missing_indicators_created!==void 0&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(Xs,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),a.jsx("span",{className:"font-medium text-primary",children:d.missing_indicators_created})]}),d.missing_indicators_columns&&Array.isArray(d.missing_indicators_columns)&&d.missing_indicators_columns.length>0&&a.jsxs("div",{className:"pt-1 border-t mt-1",children:[a.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:d.missing_indicators_columns.map(m=>a.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:m},m))})]})]})]})]})},x3={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:CT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:y3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},v3=({config:e,onChange:t,nodeId:n})=>{var _;const s=(_=wt(n||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:i,isLoading:o}=tt(s),[l,u]=R.useState(""),c=R.useRef(null),[d,f]=R.useState(!1),h=fe(N=>N.executionResult),v=n?h==null?void 0:h.node_results[n]:null,y=v==null?void 0:v.metrics,S=((h==null?void 0:h.recommendations)||[]).filter(N=>N.suggested_node_type==="encoding"||N.type.includes("encoding")||N.type.includes("cardinality"));R.useEffect(()=>{if(!c.current)return;const N=new ResizeObserver(w=>{for(const k of w)f(k.contentRect.width>400)});return N.observe(c.current),()=>N.disconnect()},[]);const m=i?Object.values(i.columns).filter(N=>["object","string","category","bool"].some(w=>{var k;return(k=N.dtype)==null?void 0:k.toLowerCase().includes(w)})).map(N=>N.name):[],g=m.filter(N=>N.toLowerCase().includes(l.toLowerCase())),p=()=>{t({...e,columns:[...m]})},x=()=>{t({...e,columns:[]})};return a.jsxs("div",{ref:c,className:"p-4 space-y-4",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{className:`grid gap-4 ${d?"grid-cols-2":"grid-cols-1"}`,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:N=>t({...e,method:N.target.value}),children:[a.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),a.jsx("option",{value:"dummy",children:"Dummy Encoding"}),a.jsx("option",{value:"label",children:"Label Encoding"}),a.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),a.jsx("option",{value:"target",children:"Target Encoding"}),a.jsx("option",{value:"hash",children:"Hash Encoding"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]})]}),a.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:N=>t({...e,drop_first:N.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),a.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:N=>t({...e,handle_unknown:N.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[a.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),a.jsx("option",{value:"error",children:"Raise Error"})]}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:N=>t({...e,target_column:N.target.value}),children:[a.jsx("option",{value:"",children:"Select a target column..."}),i&&Object.values(i.columns).map(N=>a.jsxs("option",{value:N.name,children:[N.name," (",N.dtype,")"]},N.name))]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),a.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:N=>t({...e,n_features:parseInt(N.target.value)})})]}),e.method==="ordinal"&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:N=>t({...e,unknown_value:parseInt(N.target.value)}),title:"Integer to assign for unknown categories."}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:N=>t({...e,missing_code:parseInt(N.target.value)}),title:"Integer to assign for missing or unknown categories."}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:l,onChange:N=>u(N.target.value)}),a.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[a.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),a.jsx("span",{className:"text-border",children:"|"}),a.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),m.length>0?a.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[g.map(N=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(N),onChange:w=>{const k=w.target.checked?[...e.columns,N]:e.columns.filter(E=>E!==N);t({...e,columns:k})}}),N]},N)),g.length===0&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',l,'"']})]}):a.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),S.length>0&&a.jsx(jo,{recommendations:S}),y&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(Xs,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[y.encoded_columns_count!==void 0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),a.jsx("span",{className:"font-medium",children:y.encoded_columns_count})]}),y.new_features_count!==void 0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),a.jsx("span",{className:"font-medium text-primary",children:y.new_features_count})]}),y.categories_count&&a.jsxs("div",{className:"mt-2 border-t pt-2",children:[a.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(y.categories_count).map(([N,w])=>a.jsxs("div",{className:"flex justify-between text-[10px]",children:[a.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),a.jsx("span",{className:"font-mono",children:w})]},N))})]}),y.classes_count&&a.jsxs("div",{className:"mt-2 border-t pt-2",children:[a.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(y.classes_count).map(([N,w])=>a.jsxs("div",{className:"flex justify-between text-[10px]",children:[a.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),a.jsx("span",{className:"font-mono",children:w})]},N))})]})]})]})]})},w3={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:MT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:v3,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},b3=({config:e,onChange:t,nodeId:n})=>{const r=fe(w=>w.nodes),s=fe(w=>w.edges),o=(w=>{var T;const k=new Set,E=[w];for(;E.length>0;){const P=E.shift();if(k.has(P))continue;k.add(P);const A=r.find(j=>j.id===P);if(!A)continue;if(P!==w&&((T=A.data)!=null&&T.datasetId))return A.data.datasetId;const z=qs(A,r,s);for(const j of z)E.push(j.id)}})(n||""),{data:l,isLoading:u}=tt(o),c=Bl(n||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),d=fe(w=>w.executionResult),f=n?d==null?void 0:d.node_results[n]:null,h=R.useRef(null),[v,y]=R.useState(!1),[b,S]=R.useState("");R.useEffect(()=>{if(!h.current)return;const w=new ResizeObserver(k=>{for(const E of k)y(E.contentRect.width>450)});return w.observe(h.current),()=>w.disconnect()},[]);const m=l?Object.values(l.columns).filter(w=>["int","float","number"].some(k=>{var E;return(E=w.dtype)==null?void 0:E.toLowerCase().includes(k)})).map(w=>w.name):[],g=m.filter(w=>w.toLowerCase().includes(b.toLowerCase())),p=()=>{t({...e,columns:g})},x=()=>{const w=e.columns.filter(k=>!g.includes(k));t({...e,columns:w})},_=()=>{if(!f||!f.metrics)return null;const w=f.metrics,k=w.rows_removed,E=w.rows_remaining,T=w.rows_total??(k??0)+(E??0),P=w.bounds,A=w.stats,z=w.contamination,j=w.warnings,O=w.values_clipped;if(k===void 0&&!P&&!A&&z===void 0&&!j&&O===void 0)return null;const D=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return a.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),a.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:D()})]}),j&&j.length>0&&a.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[a.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),a.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:j.map((L,C)=>a.jsx("li",{className:"truncate",title:L,children:L},C))})]}),e.method==="winsorize"?a.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"font-mono font-medium text-blue-600",children:O??0}),a.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):(k!==void 0||T!==void 0)&&a.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx("span",{className:"font-mono font-medium text-destructive",children:k??0}),T>0&&a.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((k??0)/T*100).toFixed(1),"%)"]})]}),E!==void 0&&a.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[E," remaining"]})]})]}),z!==void 0&&a.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),a.jsxs("span",{className:"font-mono font-medium",children:[(z*100).toFixed(1),"%"]})]}),P&&a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),a.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(P).map(([L,C])=>a.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[a.jsx("span",{className:"truncate max-w-[100px] font-medium",title:L,children:L}),a.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",C.lower.toFixed(2),", ",C.upper.toFixed(2),"]"]})]},L))})]}),A&&a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),a.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(A).map(([L,C])=>a.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[a.jsx("span",{className:"truncate max-w-[100px] font-medium",title:L,children:L}),a.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",C.mean.toFixed(2),", =",C.std.toFixed(2)]})]},L))})]})]})},N=()=>{const w=[];if(f&&f.metrics){const E=f.metrics,T=E.rows_removed,A=E.rows_total??E[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if(T!==void 0&&A!==void 0&&A>0){const z=T/A;z>.2?w.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):z===0&&e.method!=="winsorize"&&w.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&w.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const k=[...c,...w];return k.length===0?null:a.jsx("div",{className:"mt-4",children:a.jsx(jo,{recommendations:k})})};return a.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${v?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!o&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${v?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${v?"overflow-y-auto pr-2":"shrink-0"}`,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:w=>t({...e,method:w.target.value}),children:[a.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),a.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),a.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),a.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),a.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:w=>t({...e,multiplier:parseFloat(w.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),a.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:w=>t({...e,threshold:parseFloat(w.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:w=>t({...e,lower_percentile:parseFloat(w.target.value)})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:w=>t({...e,upper_percentile:parseFloat(w.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:w=>t({...e,contamination:parseFloat(w.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),v&&a.jsxs(a.Fragment,{children:[a.jsx(_,{}),a.jsx(N,{})]})]}),a.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${v?"":"shrink-0"}`,children:[a.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:p,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),a.jsx("button",{onClick:x,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),a.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:b,onChange:w=>S(w.target.value)})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:g.length>0?g.map(w=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.columns.includes(w),onChange:k=>{const E=k.target.checked?[...e.columns,w]:e.columns.filter(T=>T!==w);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"truncate",title:w,children:w})]},w)):a.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:u?"Loading schema...":m.length===0?"No numeric columns found":"No matches found"})})]}),!v&&a.jsxs(a.Fragment,{children:[a.jsx(_,{}),a.jsx(N,{})]})]})]})},N3={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:HT,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:b3,validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},Au={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},_3=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",S3=({allColumns:e,selectedColumns:t,onChange:n,isLoading:r})=>{const[s,i]=R.useState(""),o=R.useMemo(()=>e.filter(d=>d.toLowerCase().includes(s.toLowerCase())),[e,s]),l=()=>{const d=Array.from(new Set([...t,...o]));n(d)},u=()=>{const d=t.filter(f=>!o.includes(f));n(d)},c=d=>{t.includes(d)?n(t.filter(f=>f!==d)):n([...t,d])};return a.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[a.jsx("div",{className:"flex gap-2 items-center",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(sv,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),a.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:s,onChange:d=>i(d.target.value)})]})}),a.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[a.jsx("button",{onClick:l,className:"text-primary hover:underline font-medium",children:"Select All"}),a.jsx("span",{className:"text-muted-foreground",children:"|"}),a.jsx("button",{onClick:u,className:"text-muted-foreground hover:underline",children:"None"}),a.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),a.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:r?a.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:"Loading columns..."}):e.length===0?a.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:"No columns found. Ensure a dataset is connected and selected."}):o.length===0?a.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',s,'"']}):o.map(d=>a.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:t.includes(d),onChange:()=>c(d),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"truncate",title:d,children:d})]},d))})]})},k3=({config:e,onChange:t,nodeId:n})=>{var _;const r=R.useMemo(()=>e||{transformations:[]},[e]),s=R.useMemo(()=>Array.isArray(r.transformations)?r.transformations:[],[r.transformations]),[i,o]=R.useState([]),l=R.useRef(null),[u,c]=R.useState(!1);R.useEffect(()=>{if(!l.current)return;const N=new ResizeObserver(w=>{for(const k of w)c(k.contentRect.width>450)});return N.observe(l.current),()=>N.disconnect()},[]);const f=(_=wt(n||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:h,isLoading:v}=tt(f),y=R.useMemo(()=>h!=null&&h.columns?Object.values(h.columns).filter(N=>["int","float","number"].some(w=>{var k;return(k=N.dtype)==null?void 0:k.toLowerCase().includes(w)})).map(N=>N.name):[],[h]),b=()=>{const N=s.length;o(w=>[...w,N]),t({transformations:[...s,{columns:[],method:"log",params:{}}]})},S=(N,w)=>{const k=[...s];k[N]={...k[N],...w},t({transformations:k})},m=N=>{const w=[...s];w.splice(N,1),t({transformations:w}),o(k=>k.filter(E=>E!==N).map(E=>E>N?E-1:E))},g=N=>{o(w=>w.includes(N)?w.filter(k=>k!==N):[...w,N])},p=(N,w)=>{const k=Au[w].methods[0].value;S(N,{method:k})},x=Bl(n||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return a.jsxs("div",{ref:l,className:"p-4 space-y-6 h-full overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),a.jsxs("button",{onClick:b,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[a.jsx(rv,{size:12})," Add Rule"]})]}),a.jsxs("div",{className:"space-y-4",children:[s.map((N,w)=>{var P,A,z;const k=_3(N.method),E=i.includes(w),T=((P=Au[k].methods.find(j=>j.value===N.method))==null?void 0:P.label)||N.method;return a.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>g(w),children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[E?a.jsx(nv,{size:16,className:"text-muted-foreground flex-shrink-0"}):a.jsx(yT,{size:16,className:"text-muted-foreground flex-shrink-0"}),a.jsxs("div",{className:"flex flex-col overflow-hidden",children:[a.jsx("span",{className:"text-sm font-medium truncate",children:T}),a.jsx("span",{className:"text-xs text-muted-foreground truncate",children:N.columns.length===0?"No columns selected":`${N.columns.length} columns`})]})]}),a.jsx("button",{onClick:j=>{j.stopPropagation(),m(w)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:a.jsx(Sf,{size:14})})]}),E&&a.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${u?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),a.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:k,onChange:j=>p(w,j.target.value),onClick:j=>j.stopPropagation(),children:[a.jsx("option",{value:"simple",children:"Simple Math"}),a.jsx("option",{value:"power",children:"Power Transform"})]}),a.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:N.method,onChange:j=>S(w,{method:j.target.value}),onClick:j=>j.stopPropagation(),children:Au[k].methods.map(j=>a.jsx("option",{value:j.value,children:j.label},j.value))})]}),(N.method==="yeo-johnson"||N.method==="box-cox")&&a.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:j=>j.stopPropagation(),children:[a.jsx("input",{type:"checkbox",id:`std-${w}`,checked:((A=N.params)==null?void 0:A.standardize)!==!1,onChange:j=>S(w,{params:{...N.params,standardize:j.target.checked}})}),a.jsx("label",{htmlFor:`std-${w}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),N.method==="exponential"&&a.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:j=>j.stopPropagation(),children:[a.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),a.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((z=N.params)==null?void 0:z.clip_threshold)||700,onChange:j=>S(w,{params:{...N.params,clip_threshold:parseFloat(j.target.value)}})})]})]}),a.jsxs("div",{className:"space-y-1 min-w-0",onClick:j=>j.stopPropagation(),children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),a.jsx(S3,{allColumns:y,selectedColumns:N.columns||[],onChange:j=>S(w,{columns:j}),isLoading:v})]})]})]},w)}),s.length===0&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",a.jsx("br",{}),'Click "Add Rule" to start.']})]}),a.jsx(jo,{recommendations:x||[],onApply:N=>{var T,P;const w=N,k=((T=w.suggested_params)==null?void 0:T.method)||((P=w.params)==null?void 0:P.method)||"log",E=w.target_columns||[];if(E.length>0){const A=s.length;o(z=>[...z,A]),t({transformations:[...s,{columns:E,method:k,params:{}}]})}}})]})},j3={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:UT,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(!(e!=null&&e.transformations)||e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(!t.columns||t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:k3,getDefaultConfig:()=>({transformations:[]})},E3=()=>{be.register(B4),be.register(Q4),be.register(K4),be.register(G4),be.register(J4),be.register(N3),be.register(j3),be.register(w3),be.register(i3),be.register(a3),be.register(u3),be.register(d3),be.register(h3),be.register(g3),be.register(x3),be.register(t3),be.register(r3),console.log("[Registry] Initialization complete. Total nodes:",be.getAll().length)};E3();const C3=new RN;Lu.createRoot(document.getElementById("root")).render(a.jsx(Ot.StrictMode,{children:a.jsx(IN,{client:C3,children:a.jsx(V4,{})})}));
