var v4=Object.defineProperty;var b1=e=>{throw TypeError(e)};var x4=(e,t,r)=>t in e?v4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var jl=(e,t,r)=>x4(e,typeof t!="symbol"?t+"":t,r),Yp=(e,t,r)=>t.has(e)||b1("Cannot "+r);var $=(e,t,r)=>(Yp(e,t,"read from private field"),r?r.call(e):t.get(e)),me=(e,t,r)=>t.has(e)?b1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ae=(e,t,r,n)=>(Yp(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ve=(e,t,r)=>(Yp(e,t,"access private method"),r);var id=(e,t,r,n)=>({set _(a){ae(e,t,a,r)},get _(){return $(e,t,n)}});function b4(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function qn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _2={exports:{}},um={},S2={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su=Symbol.for("react.element"),w4=Symbol.for("react.portal"),j4=Symbol.for("react.fragment"),k4=Symbol.for("react.strict_mode"),N4=Symbol.for("react.profiler"),_4=Symbol.for("react.provider"),S4=Symbol.for("react.context"),E4=Symbol.for("react.forward_ref"),C4=Symbol.for("react.suspense"),P4=Symbol.for("react.memo"),O4=Symbol.for("react.lazy"),w1=Symbol.iterator;function A4(e){return e===null||typeof e!="object"?null:(e=w1&&e[w1]||e["@@iterator"],typeof e=="function"?e:null)}var E2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C2=Object.assign,P2={};function rl(e,t,r){this.props=e,this.context=t,this.refs=P2,this.updater=r||E2}rl.prototype.isReactComponent={};rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function O2(){}O2.prototype=rl.prototype;function Dv(e,t,r){this.props=e,this.context=t,this.refs=P2,this.updater=r||E2}var Rv=Dv.prototype=new O2;Rv.constructor=Dv;C2(Rv,rl.prototype);Rv.isPureReactComponent=!0;var j1=Array.isArray,A2=Object.prototype.hasOwnProperty,Lv={current:null},T2={key:!0,ref:!0,__self:!0,__source:!0};function M2(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)A2.call(t,n)&&!T2.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:su,type:e,key:i,ref:s,props:a,_owner:Lv.current}}function T4(e,t){return{$$typeof:su,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $v(e){return typeof e=="object"&&e!==null&&e.$$typeof===su}function M4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var k1=/\/+/g;function Xp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?M4(""+e.key):t.toString(36)}function rf(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case su:case w4:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Xp(s,0):n,j1(a)?(r="",e!=null&&(r=e.replace(k1,"$&/")+"/"),rf(a,t,r,"",function(u){return u})):a!=null&&($v(a)&&(a=T4(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(k1,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",j1(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Xp(i,l);s+=rf(i,t,r,c,a)}else if(c=A4(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Xp(i,l++),s+=rf(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function sd(e,t,r){if(e==null)return e;var n=[],a=0;return rf(e,n,"","",function(i){return t.call(r,i,a++)}),n}function I4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},nf={transition:null},D4={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:nf,ReactCurrentOwner:Lv};function I2(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:sd,forEach:function(e,t,r){sd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return sd(e,function(){t++}),t},toArray:function(e){return sd(e,function(t){return t})||[]},only:function(e){if(!$v(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=rl;ye.Fragment=j4;ye.Profiler=N4;ye.PureComponent=Dv;ye.StrictMode=k4;ye.Suspense=C4;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D4;ye.act=I2;ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=C2({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Lv.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)A2.call(t,c)&&!T2.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:su,type:e.type,key:a,ref:i,props:n,_owner:s}};ye.createContext=function(e){return e={$$typeof:S4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_4,_context:e},e.Consumer=e};ye.createElement=M2;ye.createFactory=function(e){var t=M2.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:E4,render:e}};ye.isValidElement=$v;ye.lazy=function(e){return{$$typeof:O4,_payload:{_status:-1,_result:e},_init:I4}};ye.memo=function(e,t){return{$$typeof:P4,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=nf.transition;nf.transition={};try{e()}finally{nf.transition=t}};ye.unstable_act=I2;ye.useCallback=function(e,t){return Jt.current.useCallback(e,t)};ye.useContext=function(e){return Jt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return Jt.current.useEffect(e,t)};ye.useId=function(){return Jt.current.useId()};ye.useImperativeHandle=function(e,t,r){return Jt.current.useImperativeHandle(e,t,r)};ye.useInsertionEffect=function(e,t){return Jt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return Jt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return Jt.current.useMemo(e,t)};ye.useReducer=function(e,t,r){return Jt.current.useReducer(e,t,r)};ye.useRef=function(e){return Jt.current.useRef(e)};ye.useState=function(e){return Jt.current.useState(e)};ye.useSyncExternalStore=function(e,t,r){return Jt.current.useSyncExternalStore(e,t,r)};ye.useTransition=function(){return Jt.current.useTransition()};ye.version="18.3.1";S2.exports=ye;var y=S2.exports;const Vr=qn(y),R4=b4({__proto__:null,default:Vr},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L4=y,$4=Symbol.for("react.element"),z4=Symbol.for("react.fragment"),F4=Object.prototype.hasOwnProperty,B4=L4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U4={key:!0,ref:!0,__self:!0,__source:!0};function D2(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)F4.call(t,n)&&!U4.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:$4,type:e,key:i,ref:s,props:a,_owner:B4.current}}um.Fragment=z4;um.jsx=D2;um.jsxs=D2;_2.exports=um;var o=_2.exports,oy={},R2={exports:{}},Mr={},L2={exports:{}},$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,M){var z=A.length;A.push(M);e:for(;0<z;){var H=z-1>>>1,B=A[H];if(0<a(B,M))A[H]=M,A[z]=B,z=H;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var M=A[0],z=A.pop();if(z!==M){A[0]=z;e:for(var H=0,B=A.length,X=B>>>1;H<X;){var q=2*(H+1)-1,J=A[q],ce=q+1,re=A[ce];if(0>a(J,z))ce<B&&0>a(re,J)?(A[H]=re,A[ce]=z,H=ce):(A[H]=J,A[q]=z,H=q);else if(ce<B&&0>a(re,z))A[H]=re,A[ce]=z,H=ce;else break e}}return M}function a(A,M){var z=A.sortIndex-M.sortIndex;return z!==0?z:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=A)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function j(A){if(v=!1,w(A),!p)if(r(c)!==null)p=!0,I(k);else{var M=r(u);M!==null&&R(j,M.startTime-A)}}function k(A,M){p=!1,v&&(v=!1,g(S),S=-1),m=!0;var z=h;try{for(w(M),f=r(c);f!==null&&(!(f.expirationTime>M)||A&&!O());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var B=H(f.expirationTime<=M);M=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(c)&&n(c),w(M)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var q=r(u);q!==null&&R(j,q.startTime-M),X=!1}return X}finally{f=null,h=z,m=!1}}var _=!1,N=null,S=-1,E=5,T=-1;function O(){return!(e.unstable_now()-T<E)}function P(){if(N!==null){var A=e.unstable_now();T=A;var M=!0;try{M=N(!0,A)}finally{M?L():(_=!1,N=null)}}else _=!1}var L;if(typeof b=="function")L=function(){b(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,D=C.port2;C.port1.onmessage=P,L=function(){D.postMessage(null)}}else L=function(){x(P,0)};function I(A){N=A,_||(_=!0,L())}function R(A,M){S=x(function(){A(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,I(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var z=h;h=M;try{return A()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=h;h=A;try{return M()}finally{h=z}},e.unstable_scheduleCallback=function(A,M,z){var H=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,A){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=z+B,A={id:d++,callback:M,priorityLevel:A,startTime:z,expirationTime:B,sortIndex:-1},z>H?(A.sortIndex=z,t(u,A),r(c)===null&&A===r(u)&&(v?(g(S),S=-1):v=!0,R(j,z-H))):(A.sortIndex=B,t(c,A),p||m||(p=!0,I(k))),A},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(A){var M=h;return function(){var z=h;h=M;try{return A.apply(this,arguments)}finally{h=z}}}})($2);L2.exports=$2;var H4=L2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V4=y,Cr=H4;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z2=new Set,hc={};function Os(e,t){Co(e,t),Co(e+"Capture",t)}function Co(e,t){for(hc[e]=t,e=0;e<t.length;e++)z2.add(t[e])}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ly=Object.prototype.hasOwnProperty,W4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N1={},_1={};function K4(e){return ly.call(_1,e)?!0:ly.call(N1,e)?!1:W4.test(e)?_1[e]=!0:(N1[e]=!0,!1)}function q4(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y4(e,t,r,n){if(t===null||typeof t>"u"||q4(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function er(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dt[e]=new er(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dt[t]=new er(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dt[e]=new er(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dt[e]=new er(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dt[e]=new er(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dt[e]=new er(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dt[e]=new er(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dt[e]=new er(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dt[e]=new er(e,5,!1,e.toLowerCase(),null,!1,!1)});var zv=/[\-:]([a-z])/g;function Fv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zv,Fv);Dt[t]=new er(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zv,Fv);Dt[t]=new er(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zv,Fv);Dt[t]=new er(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dt[e]=new er(e,1,!1,e.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dt[e]=new er(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bv(e,t,r,n){var a=Dt.hasOwnProperty(t)?Dt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Y4(t,r,a,n)&&(r=null),n||a===null?K4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ta=V4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,od=Symbol.for("react.element"),Vs=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),Uv=Symbol.for("react.strict_mode"),cy=Symbol.for("react.profiler"),F2=Symbol.for("react.provider"),B2=Symbol.for("react.context"),Hv=Symbol.for("react.forward_ref"),uy=Symbol.for("react.suspense"),dy=Symbol.for("react.suspense_list"),Vv=Symbol.for("react.memo"),Ua=Symbol.for("react.lazy"),U2=Symbol.for("react.offscreen"),S1=Symbol.iterator;function kl(e){return e===null||typeof e!="object"?null:(e=S1&&e[S1]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,Gp;function Hl(e){if(Gp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Gp=t&&t[1]||""}return`
`+Gp+e}var Qp=!1;function Zp(e,t){if(!e||Qp)return"";Qp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,l=i.length-1;1<=s&&0<=l&&a[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==i[l]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{Qp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hl(e):""}function X4(e){switch(e.tag){case 5:return Hl(e.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return e=Zp(e.type,!1),e;case 11:return e=Zp(e.type.render,!1),e;case 1:return e=Zp(e.type,!0),e;default:return""}}function fy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ws:return"Fragment";case Vs:return"Portal";case cy:return"Profiler";case Uv:return"StrictMode";case uy:return"Suspense";case dy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B2:return(e.displayName||"Context")+".Consumer";case F2:return(e._context.displayName||"Context")+".Provider";case Hv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vv:return t=e.displayName||null,t!==null?t:fy(e.type)||"Memo";case Ua:t=e._payload,e=e._init;try{return fy(e(t))}catch{}}return null}function G4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fy(t);case 8:return t===Uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q4(e){var t=H2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ld(e){e._valueTracker||(e._valueTracker=Q4(e))}function V2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Tf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hy(e,t){var r=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function E1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=yi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function W2(e,t){t=t.checked,t!=null&&Bv(e,"checked",t,!1)}function my(e,t){W2(e,t);var r=yi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?py(e,t.type,r):t.hasOwnProperty("defaultValue")&&py(e,t.type,yi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function C1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function py(e,t,r){(t!=="number"||Tf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vl=Array.isArray;function so(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+yi(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function gy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function P1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(Vl(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:yi(r)}}function K2(e,t){var r=yi(t.value),n=yi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function O1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cd,Y2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cd=cd||document.createElement("div"),cd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z4=["Webkit","ms","Moz","O"];Object.keys(tc).forEach(function(e){Z4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tc[t]=tc[e]})});function X2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||tc.hasOwnProperty(e)&&tc[e]?(""+t).trim():t+"px"}function G2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=X2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var J4=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vy(e,t){if(t){if(J4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function xy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var by=null;function Wv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wy=null,oo=null,lo=null;function A1(e){if(e=cu(e)){if(typeof wy!="function")throw Error(G(280));var t=e.stateNode;t&&(t=pm(t),wy(e.stateNode,e.type,t))}}function Q2(e){oo?lo?lo.push(e):lo=[e]:oo=e}function Z2(){if(oo){var e=oo,t=lo;if(lo=oo=null,A1(e),t)for(e=0;e<t.length;e++)A1(t[e])}}function J2(e,t){return e(t)}function eE(){}var Jp=!1;function tE(e,t,r){if(Jp)return e(t,r);Jp=!0;try{return J2(e,t,r)}finally{Jp=!1,(oo!==null||lo!==null)&&(eE(),Z2())}}function pc(e,t){var r=e.stateNode;if(r===null)return null;var n=pm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var jy=!1;if(va)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){jy=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{jy=!1}function e5(e,t,r,n,a,i,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var rc=!1,Mf=null,If=!1,ky=null,t5={onError:function(e){rc=!0,Mf=e}};function r5(e,t,r,n,a,i,s,l,c){rc=!1,Mf=null,e5.apply(t5,arguments)}function n5(e,t,r,n,a,i,s,l,c){if(r5.apply(this,arguments),rc){if(rc){var u=Mf;rc=!1,Mf=null}else throw Error(G(198));If||(If=!0,ky=u)}}function As(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T1(e){if(As(e)!==e)throw Error(G(188))}function a5(e){var t=e.alternate;if(!t){if(t=As(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return T1(a),e;if(i===n)return T1(a),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function nE(e){return e=a5(e),e!==null?aE(e):null}function aE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=aE(e);if(t!==null)return t;e=e.sibling}return null}var iE=Cr.unstable_scheduleCallback,M1=Cr.unstable_cancelCallback,i5=Cr.unstable_shouldYield,s5=Cr.unstable_requestPaint,nt=Cr.unstable_now,o5=Cr.unstable_getCurrentPriorityLevel,Kv=Cr.unstable_ImmediatePriority,sE=Cr.unstable_UserBlockingPriority,Df=Cr.unstable_NormalPriority,l5=Cr.unstable_LowPriority,oE=Cr.unstable_IdlePriority,dm=null,zn=null;function c5(e){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(dm,e,void 0,(e.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:f5,u5=Math.log,d5=Math.LN2;function f5(e){return e>>>=0,e===0?32:31-(u5(e)/d5|0)|0}var ud=64,dd=4194304;function Wl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?n=Wl(l):(i&=s,i!==0&&(n=Wl(i)))}else s=r&~a,s!==0?n=Wl(s):i!==0&&(n=Wl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-yn(t),a=1<<r,n|=e[r],t&=~a;return n}function h5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m5(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-yn(i),l=1<<s,c=a[s];c===-1?(!(l&r)||l&n)&&(a[s]=h5(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Ny(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lE(){var e=ud;return ud<<=1,!(ud&4194240)&&(ud=64),e}function eg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ou(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yn(t),e[t]=r}function p5(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-yn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function qv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-yn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ae=0;function cE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uE,Yv,dE,fE,hE,_y=!1,fd=[],si=null,oi=null,li=null,gc=new Map,yc=new Map,Ka=[],g5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I1(e,t){switch(e){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":gc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(t.pointerId)}}function _l(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=cu(t),t!==null&&Yv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function y5(e,t,r,n,a){switch(t){case"focusin":return si=_l(si,e,t,r,n,a),!0;case"dragenter":return oi=_l(oi,e,t,r,n,a),!0;case"mouseover":return li=_l(li,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return gc.set(i,_l(gc.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,yc.set(i,_l(yc.get(i)||null,e,t,r,n,a)),!0}return!1}function mE(e){var t=Fi(e.target);if(t!==null){var r=As(t);if(r!==null){if(t=r.tag,t===13){if(t=rE(r),t!==null){e.blockedOn=t,hE(e.priority,function(){dE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function af(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Sy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);by=n,r.target.dispatchEvent(n),by=null}else return t=cu(r),t!==null&&Yv(t),e.blockedOn=r,!1;t.shift()}return!0}function D1(e,t,r){af(e)&&r.delete(t)}function v5(){_y=!1,si!==null&&af(si)&&(si=null),oi!==null&&af(oi)&&(oi=null),li!==null&&af(li)&&(li=null),gc.forEach(D1),yc.forEach(D1)}function Sl(e,t){e.blockedOn===t&&(e.blockedOn=null,_y||(_y=!0,Cr.unstable_scheduleCallback(Cr.unstable_NormalPriority,v5)))}function vc(e){function t(a){return Sl(a,e)}if(0<fd.length){Sl(fd[0],e);for(var r=1;r<fd.length;r++){var n=fd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(si!==null&&Sl(si,e),oi!==null&&Sl(oi,e),li!==null&&Sl(li,e),gc.forEach(t),yc.forEach(t),r=0;r<Ka.length;r++)n=Ka[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ka.length&&(r=Ka[0],r.blockedOn===null);)mE(r),r.blockedOn===null&&Ka.shift()}var co=Ta.ReactCurrentBatchConfig,Lf=!0;function x5(e,t,r,n){var a=Ae,i=co.transition;co.transition=null;try{Ae=1,Xv(e,t,r,n)}finally{Ae=a,co.transition=i}}function b5(e,t,r,n){var a=Ae,i=co.transition;co.transition=null;try{Ae=4,Xv(e,t,r,n)}finally{Ae=a,co.transition=i}}function Xv(e,t,r,n){if(Lf){var a=Sy(e,t,r,n);if(a===null)ug(e,t,n,$f,r),I1(e,n);else if(y5(a,e,t,r,n))n.stopPropagation();else if(I1(e,n),t&4&&-1<g5.indexOf(e)){for(;a!==null;){var i=cu(a);if(i!==null&&uE(i),i=Sy(e,t,r,n),i===null&&ug(e,t,n,$f,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ug(e,t,n,null,r)}}var $f=null;function Sy(e,t,r,n){if($f=null,e=Wv(n),e=Fi(e),e!==null)if(t=As(e),t===null)e=null;else if(r=t.tag,r===13){if(e=rE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $f=e,null}function pE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o5()){case Kv:return 1;case sE:return 4;case Df:case l5:return 16;case oE:return 536870912;default:return 16}default:return 16}}var ai=null,Gv=null,sf=null;function gE(){if(sf)return sf;var e,t=Gv,r=t.length,n,a="value"in ai?ai.value:ai.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return sf=a.slice(e,1<n?1-n:void 0)}function of(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hd(){return!0}function R1(){return!1}function Ir(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hd:R1,this.isPropagationStopped=R1,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hd)},persist:function(){},isPersistent:hd}),t}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qv=Ir(nl),lu=Qe({},nl,{view:0,detail:0}),w5=Ir(lu),tg,rg,El,fm=Qe({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==El&&(El&&e.type==="mousemove"?(tg=e.screenX-El.screenX,rg=e.screenY-El.screenY):rg=tg=0,El=e),tg)},movementY:function(e){return"movementY"in e?e.movementY:rg}}),L1=Ir(fm),j5=Qe({},fm,{dataTransfer:0}),k5=Ir(j5),N5=Qe({},lu,{relatedTarget:0}),ng=Ir(N5),_5=Qe({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),S5=Ir(_5),E5=Qe({},nl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C5=Ir(E5),P5=Qe({},nl,{data:0}),$1=Ir(P5),O5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=T5[e])?!!t[e]:!1}function Zv(){return M5}var I5=Qe({},lu,{key:function(e){if(e.key){var t=O5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=of(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?A5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zv,charCode:function(e){return e.type==="keypress"?of(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?of(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),D5=Ir(I5),R5=Qe({},fm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z1=Ir(R5),L5=Qe({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zv}),$5=Ir(L5),z5=Qe({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),F5=Ir(z5),B5=Qe({},fm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U5=Ir(B5),H5=[9,13,27,32],Jv=va&&"CompositionEvent"in window,nc=null;va&&"documentMode"in document&&(nc=document.documentMode);var V5=va&&"TextEvent"in window&&!nc,yE=va&&(!Jv||nc&&8<nc&&11>=nc),F1=" ",B1=!1;function vE(e,t){switch(e){case"keyup":return H5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ks=!1;function W5(e,t){switch(e){case"compositionend":return xE(t);case"keypress":return t.which!==32?null:(B1=!0,F1);case"textInput":return e=t.data,e===F1&&B1?null:e;default:return null}}function K5(e,t){if(Ks)return e==="compositionend"||!Jv&&vE(e,t)?(e=gE(),sf=Gv=ai=null,Ks=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yE&&t.locale!=="ko"?null:t.data;default:return null}}var q5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!q5[e.type]:t==="textarea"}function bE(e,t,r,n){Q2(n),t=zf(t,"onChange"),0<t.length&&(r=new Qv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ac=null,xc=null;function Y5(e){AE(e,0)}function hm(e){var t=Xs(e);if(V2(t))return e}function X5(e,t){if(e==="change")return t}var wE=!1;if(va){var ag;if(va){var ig="oninput"in document;if(!ig){var H1=document.createElement("div");H1.setAttribute("oninput","return;"),ig=typeof H1.oninput=="function"}ag=ig}else ag=!1;wE=ag&&(!document.documentMode||9<document.documentMode)}function V1(){ac&&(ac.detachEvent("onpropertychange",jE),xc=ac=null)}function jE(e){if(e.propertyName==="value"&&hm(xc)){var t=[];bE(t,xc,e,Wv(e)),tE(Y5,t)}}function G5(e,t,r){e==="focusin"?(V1(),ac=t,xc=r,ac.attachEvent("onpropertychange",jE)):e==="focusout"&&V1()}function Q5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hm(xc)}function Z5(e,t){if(e==="click")return hm(t)}function J5(e,t){if(e==="input"||e==="change")return hm(t)}function eL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:eL;function bc(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ly.call(t,a)||!bn(e[a],t[a]))return!1}return!0}function W1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function K1(e,t){var r=W1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=W1(r)}}function kE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function NE(){for(var e=window,t=Tf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Tf(e.document)}return t}function ex(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tL(e){var t=NE(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kE(r.ownerDocument.documentElement,r)){if(n!==null&&ex(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=K1(r,i);var s=K1(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rL=va&&"documentMode"in document&&11>=document.documentMode,qs=null,Ey=null,ic=null,Cy=!1;function q1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cy||qs==null||qs!==Tf(n)||(n=qs,"selectionStart"in n&&ex(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ic&&bc(ic,n)||(ic=n,n=zf(Ey,"onSelect"),0<n.length&&(t=new Qv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qs)))}function md(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ys={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},sg={},_E={};va&&(_E=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function mm(e){if(sg[e])return sg[e];if(!Ys[e])return e;var t=Ys[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _E)return sg[e]=t[r];return e}var SE=mm("animationend"),EE=mm("animationiteration"),CE=mm("animationstart"),PE=mm("transitionend"),OE=new Map,Y1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(e,t){OE.set(e,t),Os(t,[e])}for(var og=0;og<Y1.length;og++){var lg=Y1[og],nL=lg.toLowerCase(),aL=lg[0].toUpperCase()+lg.slice(1);ji(nL,"on"+aL)}ji(SE,"onAnimationEnd");ji(EE,"onAnimationIteration");ji(CE,"onAnimationStart");ji("dblclick","onDoubleClick");ji("focusin","onFocus");ji("focusout","onBlur");ji(PE,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function X1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,n5(n,t,void 0,e),e.currentTarget=null}function AE(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;X1(a,l,u),i=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;X1(a,l,u),i=c}}}if(If)throw e=ky,If=!1,ky=null,e}function Le(e,t){var r=t[My];r===void 0&&(r=t[My]=new Set);var n=e+"__bubble";r.has(n)||(TE(t,e,2,!1),r.add(n))}function cg(e,t,r){var n=0;t&&(n|=4),TE(r,e,n,t)}var pd="_reactListening"+Math.random().toString(36).slice(2);function wc(e){if(!e[pd]){e[pd]=!0,z2.forEach(function(r){r!=="selectionchange"&&(iL.has(r)||cg(r,!1,e),cg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pd]||(t[pd]=!0,cg("selectionchange",!1,t))}}function TE(e,t,r,n){switch(pE(t)){case 1:var a=x5;break;case 4:a=b5;break;default:a=Xv}r=a.bind(null,t,r,e),a=void 0,!jy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ug(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Fi(l),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}l=l.parentNode}}n=n.return}tE(function(){var u=i,d=Wv(r),f=[];e:{var h=OE.get(e);if(h!==void 0){var m=Qv,p=e;switch(e){case"keypress":if(of(r)===0)break e;case"keydown":case"keyup":m=D5;break;case"focusin":p="focus",m=ng;break;case"focusout":p="blur",m=ng;break;case"beforeblur":case"afterblur":m=ng;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=L1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=k5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$5;break;case SE:case EE:case CE:m=S5;break;case PE:m=F5;break;case"scroll":m=w5;break;case"wheel":m=U5;break;case"copy":case"cut":case"paste":m=C5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=z1}var v=(t&4)!==0,x=!v&&e==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var b=u,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,g!==null&&(j=pc(b,g),j!=null&&v.push(jc(b,j,w)))),x)break;b=b.return}0<v.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==by&&(p=r.relatedTarget||r.fromElement)&&(Fi(p)||p[xa]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Fi(p):null,p!==null&&(x=As(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(v=L1,j="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=z1,j="onPointerLeave",g="onPointerEnter",b="pointer"),x=m==null?h:Xs(m),w=p==null?h:Xs(p),h=new v(j,b+"leave",m,r,d),h.target=x,h.relatedTarget=w,j=null,Fi(d)===u&&(v=new v(g,b+"enter",p,r,d),v.target=w,v.relatedTarget=x,j=v),x=j,m&&p)t:{for(v=m,g=p,b=0,w=v;w;w=Ls(w))b++;for(w=0,j=g;j;j=Ls(j))w++;for(;0<b-w;)v=Ls(v),b--;for(;0<w-b;)g=Ls(g),w--;for(;b--;){if(v===g||g!==null&&v===g.alternate)break t;v=Ls(v),g=Ls(g)}v=null}else v=null;m!==null&&G1(f,h,m,v,!1),p!==null&&x!==null&&G1(f,x,p,v,!0)}}e:{if(h=u?Xs(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=X5;else if(U1(h))if(wE)k=J5;else{k=Q5;var _=G5}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Z5);if(k&&(k=k(e,u))){bE(f,k,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&py(h,"number",h.value)}switch(_=u?Xs(u):window,e){case"focusin":(U1(_)||_.contentEditable==="true")&&(qs=_,Ey=u,ic=null);break;case"focusout":ic=Ey=qs=null;break;case"mousedown":Cy=!0;break;case"contextmenu":case"mouseup":case"dragend":Cy=!1,q1(f,r,d);break;case"selectionchange":if(rL)break;case"keydown":case"keyup":q1(f,r,d)}var N;if(Jv)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ks?vE(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(yE&&r.locale!=="ko"&&(Ks||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ks&&(N=gE()):(ai=d,Gv="value"in ai?ai.value:ai.textContent,Ks=!0)),_=zf(u,S),0<_.length&&(S=new $1(S,e,null,r,d),f.push({event:S,listeners:_}),N?S.data=N:(N=xE(r),N!==null&&(S.data=N)))),(N=V5?W5(e,r):K5(e,r))&&(u=zf(u,"onBeforeInput"),0<u.length&&(d=new $1("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}AE(f,t)})}function jc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=pc(e,r),i!=null&&n.unshift(jc(e,i,a)),i=pc(e,t),i!=null&&n.push(jc(e,i,a))),e=e.return}return n}function Ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function G1(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=pc(r,i),c!=null&&s.unshift(jc(r,c,l))):a||(c=pc(r,i),c!=null&&s.push(jc(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var sL=/\r\n?/g,oL=/\u0000|\uFFFD/g;function Q1(e){return(typeof e=="string"?e:""+e).replace(sL,`
`).replace(oL,"")}function gd(e,t,r){if(t=Q1(t),Q1(e)!==t&&r)throw Error(G(425))}function Ff(){}var Py=null,Oy=null;function Ay(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ty=typeof setTimeout=="function"?setTimeout:void 0,lL=typeof clearTimeout=="function"?clearTimeout:void 0,Z1=typeof Promise=="function"?Promise:void 0,cL=typeof queueMicrotask=="function"?queueMicrotask:typeof Z1<"u"?function(e){return Z1.resolve(null).then(e).catch(uL)}:Ty;function uL(e){setTimeout(function(){throw e})}function dg(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),vc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);vc(t)}function ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function J1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var al=Math.random().toString(36).slice(2),Ln="__reactFiber$"+al,kc="__reactProps$"+al,xa="__reactContainer$"+al,My="__reactEvents$"+al,dL="__reactListeners$"+al,fL="__reactHandles$"+al;function Fi(e){var t=e[Ln];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xa]||r[Ln]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=J1(e);e!==null;){if(r=e[Ln])return r;e=J1(e)}return t}e=r,r=e.parentNode}return null}function cu(e){return e=e[Ln]||e[xa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function pm(e){return e[kc]||null}var Iy=[],Gs=-1;function ki(e){return{current:e}}function ze(e){0>Gs||(e.current=Iy[Gs],Iy[Gs]=null,Gs--)}function Re(e,t){Gs++,Iy[Gs]=e.current,e.current=t}var vi={},Ut=ki(vi),fr=ki(!1),ds=vi;function Po(e,t){var r=e.type.contextTypes;if(!r)return vi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function hr(e){return e=e.childContextTypes,e!=null}function Bf(){ze(fr),ze(Ut)}function ej(e,t,r){if(Ut.current!==vi)throw Error(G(168));Re(Ut,t),Re(fr,r)}function ME(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(G(108,G4(e)||"Unknown",a));return Qe({},r,n)}function Uf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vi,ds=Ut.current,Re(Ut,e),Re(fr,fr.current),!0}function tj(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=ME(e,t,ds),n.__reactInternalMemoizedMergedChildContext=e,ze(fr),ze(Ut),Re(Ut,e)):ze(fr),Re(fr,r)}var ra=null,gm=!1,fg=!1;function IE(e){ra===null?ra=[e]:ra.push(e)}function hL(e){gm=!0,IE(e)}function Ni(){if(!fg&&ra!==null){fg=!0;var e=0,t=Ae;try{var r=ra;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ra=null,gm=!1}catch(a){throw ra!==null&&(ra=ra.slice(e+1)),iE(Kv,Ni),a}finally{Ae=t,fg=!1}}return null}var Qs=[],Zs=0,Hf=null,Vf=0,Ur=[],Hr=0,fs=null,la=1,ca="";function Mi(e,t){Qs[Zs++]=Vf,Qs[Zs++]=Hf,Hf=e,Vf=t}function DE(e,t,r){Ur[Hr++]=la,Ur[Hr++]=ca,Ur[Hr++]=fs,fs=e;var n=la;e=ca;var a=32-yn(n)-1;n&=~(1<<a),r+=1;var i=32-yn(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,la=1<<32-yn(t)+a|r<<a|n,ca=i+e}else la=1<<i|r<<a|n,ca=e}function tx(e){e.return!==null&&(Mi(e,1),DE(e,1,0))}function rx(e){for(;e===Hf;)Hf=Qs[--Zs],Qs[Zs]=null,Vf=Qs[--Zs],Qs[Zs]=null;for(;e===fs;)fs=Ur[--Hr],Ur[Hr]=null,ca=Ur[--Hr],Ur[Hr]=null,la=Ur[--Hr],Ur[Hr]=null}var Sr=null,kr=null,Ue=!1,un=null;function RE(e,t){var r=Wr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function rj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Sr=e,kr=ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Sr=e,kr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=fs!==null?{id:la,overflow:ca}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Sr=e,kr=null,!0):!1;default:return!1}}function Dy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ry(e){if(Ue){var t=kr;if(t){var r=t;if(!rj(e,t)){if(Dy(e))throw Error(G(418));t=ci(r.nextSibling);var n=Sr;t&&rj(e,t)?RE(n,r):(e.flags=e.flags&-4097|2,Ue=!1,Sr=e)}}else{if(Dy(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ue=!1,Sr=e}}}function nj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sr=e}function yd(e){if(e!==Sr)return!1;if(!Ue)return nj(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ay(e.type,e.memoizedProps)),t&&(t=kr)){if(Dy(e))throw LE(),Error(G(418));for(;t;)RE(e,t),t=ci(t.nextSibling)}if(nj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){kr=ci(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}kr=null}}else kr=Sr?ci(e.stateNode.nextSibling):null;return!0}function LE(){for(var e=kr;e;)e=ci(e.nextSibling)}function Oo(){kr=Sr=null,Ue=!1}function nx(e){un===null?un=[e]:un.push(e)}var mL=Ta.ReactCurrentBatchConfig;function Cl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=a.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function vd(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function aj(e){var t=e._init;return t(e._payload)}function $E(e){function t(g,b){if(e){var w=g.deletions;w===null?(g.deletions=[b],g.flags|=16):w.push(b)}}function r(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function n(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(g,b){return g=hi(g,b),g.index=0,g.sibling=null,g}function i(g,b,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<b?(g.flags|=2,b):w):(g.flags|=2,b)):(g.flags|=1048576,b)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,b,w,j){return b===null||b.tag!==6?(b=xg(w,g.mode,j),b.return=g,b):(b=a(b,w),b.return=g,b)}function c(g,b,w,j){var k=w.type;return k===Ws?d(g,b,w.props.children,j,w.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ua&&aj(k)===b.type)?(j=a(b,w.props),j.ref=Cl(g,b,w),j.return=g,j):(j=mf(w.type,w.key,w.props,null,g.mode,j),j.ref=Cl(g,b,w),j.return=g,j)}function u(g,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=bg(w,g.mode,j),b.return=g,b):(b=a(b,w.children||[]),b.return=g,b)}function d(g,b,w,j,k){return b===null||b.tag!==7?(b=as(w,g.mode,j,k),b.return=g,b):(b=a(b,w),b.return=g,b)}function f(g,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=xg(""+b,g.mode,w),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case od:return w=mf(b.type,b.key,b.props,null,g.mode,w),w.ref=Cl(g,null,b),w.return=g,w;case Vs:return b=bg(b,g.mode,w),b.return=g,b;case Ua:var j=b._init;return f(g,j(b._payload),w)}if(Vl(b)||kl(b))return b=as(b,g.mode,w,null),b.return=g,b;vd(g,b)}return null}function h(g,b,w,j){var k=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:l(g,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case od:return w.key===k?c(g,b,w,j):null;case Vs:return w.key===k?u(g,b,w,j):null;case Ua:return k=w._init,h(g,b,k(w._payload),j)}if(Vl(w)||kl(w))return k!==null?null:d(g,b,w,j,null);vd(g,w)}return null}function m(g,b,w,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(w)||null,l(b,g,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case od:return g=g.get(j.key===null?w:j.key)||null,c(b,g,j,k);case Vs:return g=g.get(j.key===null?w:j.key)||null,u(b,g,j,k);case Ua:var _=j._init;return m(g,b,w,_(j._payload),k)}if(Vl(j)||kl(j))return g=g.get(w)||null,d(b,g,j,k,null);vd(b,j)}return null}function p(g,b,w,j){for(var k=null,_=null,N=b,S=b=0,E=null;N!==null&&S<w.length;S++){N.index>S?(E=N,N=null):E=N.sibling;var T=h(g,N,w[S],j);if(T===null){N===null&&(N=E);break}e&&N&&T.alternate===null&&t(g,N),b=i(T,b,S),_===null?k=T:_.sibling=T,_=T,N=E}if(S===w.length)return r(g,N),Ue&&Mi(g,S),k;if(N===null){for(;S<w.length;S++)N=f(g,w[S],j),N!==null&&(b=i(N,b,S),_===null?k=N:_.sibling=N,_=N);return Ue&&Mi(g,S),k}for(N=n(g,N);S<w.length;S++)E=m(N,g,S,w[S],j),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?S:E.key),b=i(E,b,S),_===null?k=E:_.sibling=E,_=E);return e&&N.forEach(function(O){return t(g,O)}),Ue&&Mi(g,S),k}function v(g,b,w,j){var k=kl(w);if(typeof k!="function")throw Error(G(150));if(w=k.call(w),w==null)throw Error(G(151));for(var _=k=null,N=b,S=b=0,E=null,T=w.next();N!==null&&!T.done;S++,T=w.next()){N.index>S?(E=N,N=null):E=N.sibling;var O=h(g,N,T.value,j);if(O===null){N===null&&(N=E);break}e&&N&&O.alternate===null&&t(g,N),b=i(O,b,S),_===null?k=O:_.sibling=O,_=O,N=E}if(T.done)return r(g,N),Ue&&Mi(g,S),k;if(N===null){for(;!T.done;S++,T=w.next())T=f(g,T.value,j),T!==null&&(b=i(T,b,S),_===null?k=T:_.sibling=T,_=T);return Ue&&Mi(g,S),k}for(N=n(g,N);!T.done;S++,T=w.next())T=m(N,g,S,T.value,j),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?S:T.key),b=i(T,b,S),_===null?k=T:_.sibling=T,_=T);return e&&N.forEach(function(P){return t(g,P)}),Ue&&Mi(g,S),k}function x(g,b,w,j){if(typeof w=="object"&&w!==null&&w.type===Ws&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case od:e:{for(var k=w.key,_=b;_!==null;){if(_.key===k){if(k=w.type,k===Ws){if(_.tag===7){r(g,_.sibling),b=a(_,w.props.children),b.return=g,g=b;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ua&&aj(k)===_.type){r(g,_.sibling),b=a(_,w.props),b.ref=Cl(g,_,w),b.return=g,g=b;break e}r(g,_);break}else t(g,_);_=_.sibling}w.type===Ws?(b=as(w.props.children,g.mode,j,w.key),b.return=g,g=b):(j=mf(w.type,w.key,w.props,null,g.mode,j),j.ref=Cl(g,b,w),j.return=g,g=j)}return s(g);case Vs:e:{for(_=w.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(g,b.sibling),b=a(b,w.children||[]),b.return=g,g=b;break e}else{r(g,b);break}else t(g,b);b=b.sibling}b=bg(w,g.mode,j),b.return=g,g=b}return s(g);case Ua:return _=w._init,x(g,b,_(w._payload),j)}if(Vl(w))return p(g,b,w,j);if(kl(w))return v(g,b,w,j);vd(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(g,b.sibling),b=a(b,w),b.return=g,g=b):(r(g,b),b=xg(w,g.mode,j),b.return=g,g=b),s(g)):r(g,b)}return x}var Ao=$E(!0),zE=$E(!1),Wf=ki(null),Kf=null,Js=null,ax=null;function ix(){ax=Js=Kf=null}function sx(e){var t=Wf.current;ze(Wf),e._currentValue=t}function Ly(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function uo(e,t){Kf=e,ax=Js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lr=!0),e.firstContext=null)}function Yr(e){var t=e._currentValue;if(ax!==e)if(e={context:e,memoizedValue:t,next:null},Js===null){if(Kf===null)throw Error(G(308));Js=e,Kf.dependencies={lanes:0,firstContext:e}}else Js=Js.next=e;return t}var Bi=null;function ox(e){Bi===null?Bi=[e]:Bi.push(e)}function FE(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,ox(t)):(r.next=a.next,a.next=r),t.interleaved=r,ba(e,n)}function ba(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ha=!1;function lx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ha(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ui(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ba(e,r)}return a=n.interleaved,a===null?(t.next=t,ox(n)):(t.next=a.next,a.next=t),n.interleaved=t,ba(e,r)}function lf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qv(e,r)}}function ij(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qf(e,t,r,n){var a=e.updateQueue;Ha=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,v=l;switch(h=t,m=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Qe({},f,h);break e;case 2:Ha=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ms|=s,e.lanes=s,e.memoizedState=f}}function sj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(G(191,a));a.call(n)}}}var uu={},Fn=ki(uu),Nc=ki(uu),_c=ki(uu);function Ui(e){if(e===uu)throw Error(G(174));return e}function cx(e,t){switch(Re(_c,t),Re(Nc,e),Re(Fn,uu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yy(t,e)}ze(Fn),Re(Fn,t)}function To(){ze(Fn),ze(Nc),ze(_c)}function UE(e){Ui(_c.current);var t=Ui(Fn.current),r=yy(t,e.type);t!==r&&(Re(Nc,e),Re(Fn,r))}function ux(e){Nc.current===e&&(ze(Fn),ze(Nc))}var qe=ki(0);function Yf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hg=[];function dx(){for(var e=0;e<hg.length;e++)hg[e]._workInProgressVersionPrimary=null;hg.length=0}var cf=Ta.ReactCurrentDispatcher,mg=Ta.ReactCurrentBatchConfig,hs=0,Ye=null,ft=null,_t=null,Xf=!1,sc=!1,Sc=0,pL=0;function Rt(){throw Error(G(321))}function fx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bn(e[r],t[r]))return!1;return!0}function hx(e,t,r,n,a,i){if(hs=i,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cf.current=e===null||e.memoizedState===null?xL:bL,e=r(n,a),sc){i=0;do{if(sc=!1,Sc=0,25<=i)throw Error(G(301));i+=1,_t=ft=null,t.updateQueue=null,cf.current=wL,e=r(n,a)}while(sc)}if(cf.current=Gf,t=ft!==null&&ft.next!==null,hs=0,_t=ft=Ye=null,Xf=!1,t)throw Error(G(300));return e}function mx(){var e=Sc!==0;return Sc=0,e}function Tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ye.memoizedState=_t=e:_t=_t.next=e,_t}function Xr(){if(ft===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=_t===null?Ye.memoizedState:_t.next;if(t!==null)_t=t,ft=e;else{if(e===null)throw Error(G(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},_t===null?Ye.memoizedState=_t=e:_t=_t.next=e}return _t}function Ec(e,t){return typeof t=="function"?t(e):t}function pg(e){var t=Xr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=ft,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((hs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,Ye.lanes|=d,ms|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=l,bn(n,t.memoizedState)||(lr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ye.lanes|=i,ms|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function gg(e){var t=Xr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);bn(i,t.memoizedState)||(lr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function HE(){}function VE(e,t){var r=Ye,n=Xr(),a=t(),i=!bn(n.memoizedState,a);if(i&&(n.memoizedState=a,lr=!0),n=n.queue,px(qE.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||_t!==null&&_t.memoizedState.tag&1){if(r.flags|=2048,Cc(9,KE.bind(null,r,n,a,t),void 0,null),St===null)throw Error(G(349));hs&30||WE(r,t,a)}return a}function WE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function KE(e,t,r,n){t.value=r,t.getSnapshot=n,YE(t)&&XE(e)}function qE(e,t,r){return r(function(){YE(t)&&XE(e)})}function YE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bn(e,r)}catch{return!0}}function XE(e){var t=ba(e,1);t!==null&&vn(t,e,1,-1)}function oj(e){var t=Tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:e},t.queue=e,e=e.dispatch=vL.bind(null,Ye,e),[t.memoizedState,e]}function Cc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function GE(){return Xr().memoizedState}function uf(e,t,r,n){var a=Tn();Ye.flags|=e,a.memoizedState=Cc(1|t,r,void 0,n===void 0?null:n)}function ym(e,t,r,n){var a=Xr();n=n===void 0?null:n;var i=void 0;if(ft!==null){var s=ft.memoizedState;if(i=s.destroy,n!==null&&fx(n,s.deps)){a.memoizedState=Cc(t,r,i,n);return}}Ye.flags|=e,a.memoizedState=Cc(1|t,r,i,n)}function lj(e,t){return uf(8390656,8,e,t)}function px(e,t){return ym(2048,8,e,t)}function QE(e,t){return ym(4,2,e,t)}function ZE(e,t){return ym(4,4,e,t)}function JE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eC(e,t,r){return r=r!=null?r.concat([e]):null,ym(4,4,JE.bind(null,t,e),r)}function gx(){}function tC(e,t){var r=Xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function rC(e,t){var r=Xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nC(e,t,r){return hs&21?(bn(r,t)||(r=lE(),Ye.lanes|=r,ms|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lr=!0),e.memoizedState=r)}function gL(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=mg.transition;mg.transition={};try{e(!1),t()}finally{Ae=r,mg.transition=n}}function aC(){return Xr().memoizedState}function yL(e,t,r){var n=fi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},iC(e))sC(t,r);else if(r=FE(e,t,r,n),r!==null){var a=Gt();vn(r,e,n,a),oC(r,t,n)}}function vL(e,t,r){var n=fi(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(iC(e))sC(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,r);if(a.hasEagerState=!0,a.eagerState=l,bn(l,s)){var c=t.interleaved;c===null?(a.next=a,ox(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=FE(e,t,a,n),r!==null&&(a=Gt(),vn(r,e,n,a),oC(r,t,n))}}function iC(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function sC(e,t){sc=Xf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function oC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qv(e,r)}}var Gf={readContext:Yr,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},xL={readContext:Yr,useCallback:function(e,t){return Tn().memoizedState=[e,t===void 0?null:t],e},useContext:Yr,useEffect:lj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,uf(4194308,4,JE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return uf(4194308,4,e,t)},useInsertionEffect:function(e,t){return uf(4,2,e,t)},useMemo:function(e,t){var r=Tn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Tn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=yL.bind(null,Ye,e),[n.memoizedState,e]},useRef:function(e){var t=Tn();return e={current:e},t.memoizedState=e},useState:oj,useDebugValue:gx,useDeferredValue:function(e){return Tn().memoizedState=e},useTransition:function(){var e=oj(!1),t=e[0];return e=gL.bind(null,e[1]),Tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ye,a=Tn();if(Ue){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),St===null)throw Error(G(349));hs&30||WE(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,lj(qE.bind(null,n,i,e),[e]),n.flags|=2048,Cc(9,KE.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Tn(),t=St.identifierPrefix;if(Ue){var r=ca,n=la;r=(n&~(1<<32-yn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Sc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=pL++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bL={readContext:Yr,useCallback:tC,useContext:Yr,useEffect:px,useImperativeHandle:eC,useInsertionEffect:QE,useLayoutEffect:ZE,useMemo:rC,useReducer:pg,useRef:GE,useState:function(){return pg(Ec)},useDebugValue:gx,useDeferredValue:function(e){var t=Xr();return nC(t,ft.memoizedState,e)},useTransition:function(){var e=pg(Ec)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:HE,useSyncExternalStore:VE,useId:aC,unstable_isNewReconciler:!1},wL={readContext:Yr,useCallback:tC,useContext:Yr,useEffect:px,useImperativeHandle:eC,useInsertionEffect:QE,useLayoutEffect:ZE,useMemo:rC,useReducer:gg,useRef:GE,useState:function(){return gg(Ec)},useDebugValue:gx,useDeferredValue:function(e){var t=Xr();return ft===null?t.memoizedState=e:nC(t,ft.memoizedState,e)},useTransition:function(){var e=gg(Ec)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:HE,useSyncExternalStore:VE,useId:aC,unstable_isNewReconciler:!1};function an(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $y(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Qe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vm={isMounted:function(e){return(e=e._reactInternals)?As(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Gt(),a=fi(e),i=ha(n,a);i.payload=t,r!=null&&(i.callback=r),t=ui(e,i,a),t!==null&&(vn(t,e,a,n),lf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Gt(),a=fi(e),i=ha(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ui(e,i,a),t!==null&&(vn(t,e,a,n),lf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Gt(),n=fi(e),a=ha(r,n);a.tag=2,t!=null&&(a.callback=t),t=ui(e,a,n),t!==null&&(vn(t,e,n,r),lf(t,e,n))}};function cj(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!bc(r,n)||!bc(a,i):!0}function lC(e,t,r){var n=!1,a=vi,i=t.contextType;return typeof i=="object"&&i!==null?i=Yr(i):(a=hr(t)?ds:Ut.current,n=t.contextTypes,i=(n=n!=null)?Po(e,a):vi),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function uj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&vm.enqueueReplaceState(t,t.state,null)}function zy(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},lx(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Yr(i):(i=hr(t)?ds:Ut.current,a.context=Po(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&($y(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&vm.enqueueReplaceState(a,a.state,null),qf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Mo(e,t){try{var r="",n=t;do r+=X4(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function yg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Fy(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jL=typeof WeakMap=="function"?WeakMap:Map;function cC(e,t,r){r=ha(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zf||(Zf=!0,Gy=n),Fy(e,t)},r}function uC(e,t,r){r=ha(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Fy(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Fy(e,t),typeof n!="function"&&(di===null?di=new Set([this]):di.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function dj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new jL;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=RL.bind(null,e,t,r),t.then(e,e))}function fj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hj(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ha(-1,1),t.tag=2,ui(r,t,1))),r.lanes|=1),e)}var kL=Ta.ReactCurrentOwner,lr=!1;function qt(e,t,r,n){t.child=e===null?zE(t,null,r,n):Ao(t,e.child,r,n)}function mj(e,t,r,n,a){r=r.render;var i=t.ref;return uo(t,a),n=hx(e,t,r,n,i,a),r=mx(),e!==null&&!lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,wa(e,t,a)):(Ue&&r&&tx(t),t.flags|=1,qt(e,t,n,a),t.child)}function pj(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Nx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,dC(e,t,i,n,a)):(e=mf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:bc,r(s,n)&&e.ref===t.ref)return wa(e,t,a)}return t.flags|=1,e=hi(i,n),e.ref=t.ref,e.return=t,t.child=e}function dC(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(bc(i,n)&&e.ref===t.ref)if(lr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(lr=!0);else return t.lanes=e.lanes,wa(e,t,a)}return By(e,t,r,n,a)}function fC(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(to,xr),xr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(to,xr),xr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Re(to,xr),xr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Re(to,xr),xr|=n;return qt(e,t,a,r),t.child}function hC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function By(e,t,r,n,a){var i=hr(r)?ds:Ut.current;return i=Po(t,i),uo(t,a),r=hx(e,t,r,n,i,a),n=mx(),e!==null&&!lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,wa(e,t,a)):(Ue&&n&&tx(t),t.flags|=1,qt(e,t,r,a),t.child)}function gj(e,t,r,n,a){if(hr(r)){var i=!0;Uf(t)}else i=!1;if(uo(t,a),t.stateNode===null)df(e,t),lC(t,r,n),zy(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Yr(u):(u=hr(r)?ds:Ut.current,u=Po(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&uj(t,s,n,u),Ha=!1;var h=t.memoizedState;s.state=h,qf(t,n,s,a),c=t.memoizedState,l!==n||h!==c||fr.current||Ha?(typeof d=="function"&&($y(t,r,d,n),c=t.memoizedState),(l=Ha||cj(t,r,l,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,BE(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:an(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Yr(c):(c=hr(r)?ds:Ut.current,c=Po(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&uj(t,s,n,c),Ha=!1,h=t.memoizedState,s.state=h,qf(t,n,s,a);var p=t.memoizedState;l!==f||h!==p||fr.current||Ha?(typeof m=="function"&&($y(t,r,m,n),p=t.memoizedState),(u=Ha||cj(t,r,u,n,h,p,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Uy(e,t,r,n,i,a)}function Uy(e,t,r,n,a,i){hC(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&tj(t,r,!1),wa(e,t,i);n=t.stateNode,kL.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Ao(t,e.child,null,i),t.child=Ao(t,null,l,i)):qt(e,t,l,i),t.memoizedState=n.state,a&&tj(t,r,!0),t.child}function mC(e){var t=e.stateNode;t.pendingContext?ej(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ej(e,t.context,!1),cx(e,t.containerInfo)}function yj(e,t,r,n,a){return Oo(),nx(a),t.flags|=256,qt(e,t,r,n),t.child}var Hy={dehydrated:null,treeContext:null,retryLane:0};function Vy(e){return{baseLanes:e,cachePool:null,transitions:null}}function pC(e,t,r){var n=t.pendingProps,a=qe.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Re(qe,a&1),e===null)return Ry(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=wm(s,n,0,null),e=as(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Vy(r),t.memoizedState=Hy,e):yx(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return NL(e,t,s,n,l,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=hi(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=hi(l,i):(i=as(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Vy(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Hy,n}return i=e.child,e=i.sibling,n=hi(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yx(e,t){return t=wm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xd(e,t,r,n){return n!==null&&nx(n),Ao(t,e.child,null,r),e=yx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function NL(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=yg(Error(G(422))),xd(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=wm({mode:"visible",children:n.children},a,0,null),i=as(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ao(t,e.child,null,s),t.child.memoizedState=Vy(s),t.memoizedState=Hy,i);if(!(t.mode&1))return xd(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(G(419)),n=yg(i,n,void 0),xd(e,t,s,n)}if(l=(s&e.childLanes)!==0,lr||l){if(n=St,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ba(e,a),vn(n,e,a,-1))}return kx(),n=yg(Error(G(421))),xd(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=LL.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,kr=ci(a.nextSibling),Sr=t,Ue=!0,un=null,e!==null&&(Ur[Hr++]=la,Ur[Hr++]=ca,Ur[Hr++]=fs,la=e.id,ca=e.overflow,fs=t),t=yx(t,n.children),t.flags|=4096,t)}function vj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ly(e.return,t,r)}function vg(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function gC(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(qt(e,t,n.children,r),n=qe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,r,t);else if(e.tag===19)vj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Re(qe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Yf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),vg(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Yf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}vg(t,!0,r,null,i);break;case"together":vg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function df(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ms|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=hi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _L(e,t,r){switch(t.tag){case 3:mC(t),Oo();break;case 5:UE(t);break;case 1:hr(t.type)&&Uf(t);break;case 4:cx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Re(Wf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Re(qe,qe.current&1),t.flags|=128,null):r&t.child.childLanes?pC(e,t,r):(Re(qe,qe.current&1),e=wa(e,t,r),e!==null?e.sibling:null);Re(qe,qe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return gC(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Re(qe,qe.current),n)break;return null;case 22:case 23:return t.lanes=0,fC(e,t,r)}return wa(e,t,r)}var yC,Wy,vC,xC;yC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wy=function(){};vC=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ui(Fn.current);var i=null;switch(r){case"input":a=hy(e,a),n=hy(e,n),i=[];break;case"select":a=Qe({},a,{value:void 0}),n=Qe({},n,{value:void 0}),i=[];break;case"textarea":a=gy(e,a),n=gy(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ff)}vy(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Le("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};xC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Pl(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function SL(e,t,r){var n=t.pendingProps;switch(rx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(t),null;case 1:return hr(t.type)&&Bf(),Lt(t),null;case 3:return n=t.stateNode,To(),ze(fr),ze(Ut),dx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,un!==null&&(Jy(un),un=null))),Wy(e,t),Lt(t),null;case 5:ux(t);var a=Ui(_c.current);if(r=t.type,e!==null&&t.stateNode!=null)vC(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Lt(t),null}if(e=Ui(Fn.current),yd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ln]=t,n[kc]=i,e=(t.mode&1)!==0,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<Kl.length;a++)Le(Kl[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":E1(n,i),Le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Le("invalid",n);break;case"textarea":P1(n,i),Le("invalid",n)}vy(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&gd(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&gd(n.textContent,l,e),a=["children",""+l]):hc.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Le("scroll",n)}switch(r){case"input":ld(n),C1(n,i,!0);break;case"textarea":ld(n),O1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ff)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ln]=t,e[kc]=n,yC(e,t,!1,!1),t.stateNode=e;e:{switch(s=xy(r,n),r){case"dialog":Le("cancel",e),Le("close",e),a=n;break;case"iframe":case"object":case"embed":Le("load",e),a=n;break;case"video":case"audio":for(a=0;a<Kl.length;a++)Le(Kl[a],e);a=n;break;case"source":Le("error",e),a=n;break;case"img":case"image":case"link":Le("error",e),Le("load",e),a=n;break;case"details":Le("toggle",e),a=n;break;case"input":E1(e,n),a=hy(e,n),Le("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Qe({},n,{value:void 0}),Le("invalid",e);break;case"textarea":P1(e,n),a=gy(e,n),Le("invalid",e);break;default:a=n}vy(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?G2(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Y2(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&mc(e,c):typeof c=="number"&&mc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Le("scroll",e):c!=null&&Bv(e,i,c,s))}switch(r){case"input":ld(e),C1(e,n,!1);break;case"textarea":ld(e),O1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+yi(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?so(e,!!n.multiple,i,!1):n.defaultValue!=null&&so(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ff)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lt(t),null;case 6:if(e&&t.stateNode!=null)xC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=Ui(_c.current),Ui(Fn.current),yd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ln]=t,(i=n.nodeValue!==r)&&(e=Sr,e!==null))switch(e.tag){case 3:gd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gd(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ln]=t,t.stateNode=n}return Lt(t),null;case 13:if(ze(qe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&kr!==null&&t.mode&1&&!(t.flags&128))LE(),Oo(),t.flags|=98560,i=!1;else if(i=yd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Ln]=t}else Oo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lt(t),i=!1}else un!==null&&(Jy(un),un=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?mt===0&&(mt=3):kx())),t.updateQueue!==null&&(t.flags|=4),Lt(t),null);case 4:return To(),Wy(e,t),e===null&&wc(t.stateNode.containerInfo),Lt(t),null;case 10:return sx(t.type._context),Lt(t),null;case 17:return hr(t.type)&&Bf(),Lt(t),null;case 19:if(ze(qe),i=t.memoizedState,i===null)return Lt(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Pl(i,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Yf(e),s!==null){for(t.flags|=128,Pl(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re(qe,qe.current&1|2),t.child}e=e.sibling}i.tail!==null&&nt()>Io&&(t.flags|=128,n=!0,Pl(i,!1),t.lanes=4194304)}else{if(!n)if(e=Yf(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ue)return Lt(t),null}else 2*nt()-i.renderingStartTime>Io&&r!==1073741824&&(t.flags|=128,n=!0,Pl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=nt(),t.sibling=null,r=qe.current,Re(qe,n?r&1|2:r&1),t):(Lt(t),null);case 22:case 23:return jx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?xr&1073741824&&(Lt(t),t.subtreeFlags&6&&(t.flags|=8192)):Lt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function EL(e,t){switch(rx(t),t.tag){case 1:return hr(t.type)&&Bf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return To(),ze(fr),ze(Ut),dx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ux(t),null;case 13:if(ze(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Oo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(qe),null;case 4:return To(),null;case 10:return sx(t.type._context),null;case 22:case 23:return jx(),null;case 24:return null;default:return null}}var bd=!1,zt=!1,CL=typeof WeakSet=="function"?WeakSet:Set,se=null;function eo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){et(e,t,n)}else r.current=null}function Ky(e,t,r){try{r()}catch(n){et(e,t,n)}}var xj=!1;function PL(e,t){if(Py=Lf,e=NE(),ex(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=s),h===i&&++d===n&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Oy={focusedElem:e,selectionRange:r},Lf=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,x=p.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:an(t.type,v),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){et(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return p=xj,xj=!1,p}function oc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ky(t,r,i)}a=a.next}while(a!==n)}}function xm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qy(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bC(e){var t=e.alternate;t!==null&&(e.alternate=null,bC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ln],delete t[kc],delete t[My],delete t[dL],delete t[fL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wC(e){return e.tag===5||e.tag===3||e.tag===4}function bj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ff));else if(n!==4&&(e=e.child,e!==null))for(Yy(e,t,r),e=e.sibling;e!==null;)Yy(e,t,r),e=e.sibling}function Xy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Xy(e,t,r),e=e.sibling;e!==null;)Xy(e,t,r),e=e.sibling}var At=null,ln=!1;function $a(e,t,r){for(r=r.child;r!==null;)jC(e,t,r),r=r.sibling}function jC(e,t,r){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(dm,r)}catch{}switch(r.tag){case 5:zt||eo(r,t);case 6:var n=At,a=ln;At=null,$a(e,t,r),At=n,ln=a,At!==null&&(ln?(e=At,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):At.removeChild(r.stateNode));break;case 18:At!==null&&(ln?(e=At,r=r.stateNode,e.nodeType===8?dg(e.parentNode,r):e.nodeType===1&&dg(e,r),vc(e)):dg(At,r.stateNode));break;case 4:n=At,a=ln,At=r.stateNode.containerInfo,ln=!0,$a(e,t,r),At=n,ln=a;break;case 0:case 11:case 14:case 15:if(!zt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ky(r,t,s),a=a.next}while(a!==n)}$a(e,t,r);break;case 1:if(!zt&&(eo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){et(r,t,l)}$a(e,t,r);break;case 21:$a(e,t,r);break;case 22:r.mode&1?(zt=(n=zt)||r.memoizedState!==null,$a(e,t,r),zt=n):$a(e,t,r);break;default:$a(e,t,r)}}function wj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new CL),t.forEach(function(n){var a=$L.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function nn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:At=l.stateNode,ln=!1;break e;case 3:At=l.stateNode.containerInfo,ln=!0;break e;case 4:At=l.stateNode.containerInfo,ln=!0;break e}l=l.return}if(At===null)throw Error(G(160));jC(i,s,a),At=null,ln=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){et(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kC(t,e),t=t.sibling}function kC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),Pn(e),n&4){try{oc(3,e,e.return),xm(3,e)}catch(v){et(e,e.return,v)}try{oc(5,e,e.return)}catch(v){et(e,e.return,v)}}break;case 1:nn(t,e),Pn(e),n&512&&r!==null&&eo(r,r.return);break;case 5:if(nn(t,e),Pn(e),n&512&&r!==null&&eo(r,r.return),e.flags&32){var a=e.stateNode;try{mc(a,"")}catch(v){et(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&W2(a,i),xy(l,s);var u=xy(l,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?G2(a,f):d==="dangerouslySetInnerHTML"?Y2(a,f):d==="children"?mc(a,f):Bv(a,d,f,u)}switch(l){case"input":my(a,i);break;case"textarea":K2(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?so(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?so(a,!!i.multiple,i.defaultValue,!0):so(a,!!i.multiple,i.multiple?[]:"",!1))}a[kc]=i}catch(v){et(e,e.return,v)}}break;case 6:if(nn(t,e),Pn(e),n&4){if(e.stateNode===null)throw Error(G(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){et(e,e.return,v)}}break;case 3:if(nn(t,e),Pn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vc(t.containerInfo)}catch(v){et(e,e.return,v)}break;case 4:nn(t,e),Pn(e);break;case 13:nn(t,e),Pn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(bx=nt())),n&4&&wj(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(zt=(u=zt)||d,nn(t,e),zt=u):nn(t,e),Pn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,m=h.child,h.tag){case 0:case 11:case 14:case 15:oc(4,h,h.return);break;case 1:eo(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){et(n,r,v)}}break;case 5:eo(h,h.return);break;case 22:if(h.memoizedState!==null){kj(f);continue}}m!==null?(m.return=h,se=m):kj(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=X2("display",s))}catch(v){et(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){et(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nn(t,e),Pn(e),n&4&&wj(e);break;case 21:break;default:nn(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(wC(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(mc(a,""),n.flags&=-33);var i=bj(e);Xy(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,l=bj(e);Yy(e,l,s);break;default:throw Error(G(161))}}catch(c){et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OL(e,t,r){se=e,NC(e)}function NC(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var a=se,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||bd;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||zt;l=bd;var u=zt;if(bd=s,(zt=c)&&!u)for(se=a;se!==null;)s=se,c=s.child,s.tag===22&&s.memoizedState!==null?Nj(a):c!==null?(c.return=s,se=c):Nj(a);for(;i!==null;)se=i,NC(i),i=i.sibling;se=a,bd=l,zt=u}jj(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,se=i):jj(e)}}function jj(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zt||xm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!zt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:an(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sj(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sj(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}zt||t.flags&512&&qy(t)}catch(h){et(t,t.return,h)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function kj(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function Nj(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xm(4,t)}catch(c){et(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){et(t,a,c)}}var i=t.return;try{qy(t)}catch(c){et(t,i,c)}break;case 5:var s=t.return;try{qy(t)}catch(c){et(t,s,c)}}}catch(c){et(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var AL=Math.ceil,Qf=Ta.ReactCurrentDispatcher,vx=Ta.ReactCurrentOwner,qr=Ta.ReactCurrentBatchConfig,we=0,St=null,lt=null,It=0,xr=0,to=ki(0),mt=0,Pc=null,ms=0,bm=0,xx=0,lc=null,or=null,bx=0,Io=1/0,ta=null,Zf=!1,Gy=null,di=null,wd=!1,ii=null,Jf=0,cc=0,Qy=null,ff=-1,hf=0;function Gt(){return we&6?nt():ff!==-1?ff:ff=nt()}function fi(e){return e.mode&1?we&2&&It!==0?It&-It:mL.transition!==null?(hf===0&&(hf=lE()),hf):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:pE(e.type)),e):1}function vn(e,t,r,n){if(50<cc)throw cc=0,Qy=null,Error(G(185));ou(e,r,n),(!(we&2)||e!==St)&&(e===St&&(!(we&2)&&(bm|=r),mt===4&&qa(e,It)),mr(e,n),r===1&&we===0&&!(t.mode&1)&&(Io=nt()+500,gm&&Ni()))}function mr(e,t){var r=e.callbackNode;m5(e,t);var n=Rf(e,e===St?It:0);if(n===0)r!==null&&M1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&M1(r),t===1)e.tag===0?hL(_j.bind(null,e)):IE(_j.bind(null,e)),cL(function(){!(we&6)&&Ni()}),r=null;else{switch(cE(n)){case 1:r=Kv;break;case 4:r=sE;break;case 16:r=Df;break;case 536870912:r=oE;break;default:r=Df}r=TC(r,_C.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _C(e,t){if(ff=-1,hf=0,we&6)throw Error(G(327));var r=e.callbackNode;if(fo()&&e.callbackNode!==r)return null;var n=Rf(e,e===St?It:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=eh(e,n);else{t=n;var a=we;we|=2;var i=EC();(St!==e||It!==t)&&(ta=null,Io=nt()+500,ns(e,t));do try{IL();break}catch(l){SC(e,l)}while(!0);ix(),Qf.current=i,we=a,lt!==null?t=0:(St=null,It=0,t=mt)}if(t!==0){if(t===2&&(a=Ny(e),a!==0&&(n=a,t=Zy(e,a))),t===1)throw r=Pc,ns(e,0),qa(e,n),mr(e,nt()),r;if(t===6)qa(e,n);else{if(a=e.current.alternate,!(n&30)&&!TL(a)&&(t=eh(e,n),t===2&&(i=Ny(e),i!==0&&(n=i,t=Zy(e,i))),t===1))throw r=Pc,ns(e,0),qa(e,n),mr(e,nt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Ii(e,or,ta);break;case 3:if(qa(e,n),(n&130023424)===n&&(t=bx+500-nt(),10<t)){if(Rf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Gt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ty(Ii.bind(null,e,or,ta),t);break}Ii(e,or,ta);break;case 4:if(qa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-yn(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AL(n/1960))-n,10<n){e.timeoutHandle=Ty(Ii.bind(null,e,or,ta),n);break}Ii(e,or,ta);break;case 5:Ii(e,or,ta);break;default:throw Error(G(329))}}}return mr(e,nt()),e.callbackNode===r?_C.bind(null,e):null}function Zy(e,t){var r=lc;return e.current.memoizedState.isDehydrated&&(ns(e,t).flags|=256),e=eh(e,t),e!==2&&(t=or,or=r,t!==null&&Jy(t)),e}function Jy(e){or===null?or=e:or.push.apply(or,e)}function TL(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!bn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qa(e,t){for(t&=~xx,t&=~bm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-yn(t),n=1<<r;e[r]=-1,t&=~n}}function _j(e){if(we&6)throw Error(G(327));fo();var t=Rf(e,0);if(!(t&1))return mr(e,nt()),null;var r=eh(e,t);if(e.tag!==0&&r===2){var n=Ny(e);n!==0&&(t=n,r=Zy(e,n))}if(r===1)throw r=Pc,ns(e,0),qa(e,t),mr(e,nt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ii(e,or,ta),mr(e,nt()),null}function wx(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(Io=nt()+500,gm&&Ni())}}function ps(e){ii!==null&&ii.tag===0&&!(we&6)&&fo();var t=we;we|=1;var r=qr.transition,n=Ae;try{if(qr.transition=null,Ae=1,e)return e()}finally{Ae=n,qr.transition=r,we=t,!(we&6)&&Ni()}}function jx(){xr=to.current,ze(to)}function ns(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lL(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(rx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bf();break;case 3:To(),ze(fr),ze(Ut),dx();break;case 5:ux(n);break;case 4:To();break;case 13:ze(qe);break;case 19:ze(qe);break;case 10:sx(n.type._context);break;case 22:case 23:jx()}r=r.return}if(St=e,lt=e=hi(e.current,null),It=xr=t,mt=0,Pc=null,xx=bm=ms=0,or=lc=null,Bi!==null){for(t=0;t<Bi.length;t++)if(r=Bi[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Bi=null}return e}function SC(e,t){do{var r=lt;try{if(ix(),cf.current=Gf,Xf){for(var n=Ye.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Xf=!1}if(hs=0,_t=ft=Ye=null,sc=!1,Sc=0,vx.current=null,r===null||r.return===null){mt=1,Pc=t,lt=null;break}e:{var i=e,s=r.return,l=r,c=t;if(t=It,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=fj(s);if(m!==null){m.flags&=-257,hj(m,s,l,i,t),m.mode&1&&dj(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var v=new Set;v.add(c),t.updateQueue=v}else p.add(c);break e}else{if(!(t&1)){dj(i,u,t),kx();break e}c=Error(G(426))}}else if(Ue&&l.mode&1){var x=fj(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),hj(x,s,l,i,t),nx(Mo(c,l));break e}}i=c=Mo(c,l),mt!==4&&(mt=2),lc===null?lc=[i]:lc.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=cC(i,c,t);ij(i,g);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(di===null||!di.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=uC(i,l,t);ij(i,j);break e}}i=i.return}while(i!==null)}PC(r)}catch(k){t=k,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(!0)}function EC(){var e=Qf.current;return Qf.current=Gf,e===null?Gf:e}function kx(){(mt===0||mt===3||mt===2)&&(mt=4),St===null||!(ms&268435455)&&!(bm&268435455)||qa(St,It)}function eh(e,t){var r=we;we|=2;var n=EC();(St!==e||It!==t)&&(ta=null,ns(e,t));do try{ML();break}catch(a){SC(e,a)}while(!0);if(ix(),we=r,Qf.current=n,lt!==null)throw Error(G(261));return St=null,It=0,mt}function ML(){for(;lt!==null;)CC(lt)}function IL(){for(;lt!==null&&!i5();)CC(lt)}function CC(e){var t=AC(e.alternate,e,xr);e.memoizedProps=e.pendingProps,t===null?PC(e):lt=t,vx.current=null}function PC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=EL(r,t),r!==null){r.flags&=32767,lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,lt=null;return}}else if(r=SL(r,t,xr),r!==null){lt=r;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);mt===0&&(mt=5)}function Ii(e,t,r){var n=Ae,a=qr.transition;try{qr.transition=null,Ae=1,DL(e,t,r,n)}finally{qr.transition=a,Ae=n}return null}function DL(e,t,r,n){do fo();while(ii!==null);if(we&6)throw Error(G(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(p5(e,i),e===St&&(lt=St=null,It=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wd||(wd=!0,TC(Df,function(){return fo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qr.transition,qr.transition=null;var s=Ae;Ae=1;var l=we;we|=4,vx.current=null,PL(e,r),kC(r,e),tL(Oy),Lf=!!Py,Oy=Py=null,e.current=r,OL(r),s5(),we=l,Ae=s,qr.transition=i}else e.current=r;if(wd&&(wd=!1,ii=e,Jf=a),i=e.pendingLanes,i===0&&(di=null),c5(r.stateNode),mr(e,nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Zf)throw Zf=!1,e=Gy,Gy=null,e;return Jf&1&&e.tag!==0&&fo(),i=e.pendingLanes,i&1?e===Qy?cc++:(cc=0,Qy=e):cc=0,Ni(),null}function fo(){if(ii!==null){var e=cE(Jf),t=qr.transition,r=Ae;try{if(qr.transition=null,Ae=16>e?16:e,ii===null)var n=!1;else{if(e=ii,ii=null,Jf=0,we&6)throw Error(G(331));var a=we;for(we|=4,se=e.current;se!==null;){var i=se,s=i.child;if(se.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:oc(8,d,i)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,m=d.return;if(bC(d),d===u){se=null;break}if(h!==null){h.return=m,se=h;break}se=m}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}se=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,se=s;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:oc(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,se=g;break e}se=i.return}}var b=e.current;for(se=b;se!==null;){s=se;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,se=w;else e:for(s=b;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xm(9,l)}}catch(k){et(l,l.return,k)}if(l===s){se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,se=j;break e}se=l.return}}if(we=a,Ni(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(dm,e)}catch{}n=!0}return n}finally{Ae=r,qr.transition=t}}return!1}function Sj(e,t,r){t=Mo(r,t),t=cC(e,t,1),e=ui(e,t,1),t=Gt(),e!==null&&(ou(e,1,t),mr(e,t))}function et(e,t,r){if(e.tag===3)Sj(e,e,r);else for(;t!==null;){if(t.tag===3){Sj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(di===null||!di.has(n))){e=Mo(r,e),e=uC(t,e,1),t=ui(t,e,1),e=Gt(),t!==null&&(ou(t,1,e),mr(t,e));break}}t=t.return}}function RL(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Gt(),e.pingedLanes|=e.suspendedLanes&r,St===e&&(It&r)===r&&(mt===4||mt===3&&(It&130023424)===It&&500>nt()-bx?ns(e,0):xx|=r),mr(e,t)}function OC(e,t){t===0&&(e.mode&1?(t=dd,dd<<=1,!(dd&130023424)&&(dd=4194304)):t=1);var r=Gt();e=ba(e,t),e!==null&&(ou(e,t,r),mr(e,r))}function LL(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),OC(e,r)}function $L(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),OC(e,r)}var AC;AC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||fr.current)lr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return lr=!1,_L(e,t,r);lr=!!(e.flags&131072)}else lr=!1,Ue&&t.flags&1048576&&DE(t,Vf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;df(e,t),e=t.pendingProps;var a=Po(t,Ut.current);uo(t,r),a=hx(null,t,n,e,a,r);var i=mx();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,hr(n)?(i=!0,Uf(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,lx(t),a.updater=vm,t.stateNode=a,a._reactInternals=t,zy(t,n,e,r),t=Uy(null,t,n,!0,i,r)):(t.tag=0,Ue&&i&&tx(t),qt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(df(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=FL(n),e=an(n,e),a){case 0:t=By(null,t,n,e,r);break e;case 1:t=gj(null,t,n,e,r);break e;case 11:t=mj(null,t,n,e,r);break e;case 14:t=pj(null,t,n,an(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:an(n,a),By(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:an(n,a),gj(e,t,n,a,r);case 3:e:{if(mC(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,a=i.element,BE(e,t),qf(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Mo(Error(G(423)),t),t=yj(e,t,n,r,a);break e}else if(n!==a){a=Mo(Error(G(424)),t),t=yj(e,t,n,r,a);break e}else for(kr=ci(t.stateNode.containerInfo.firstChild),Sr=t,Ue=!0,un=null,r=zE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Oo(),n===a){t=wa(e,t,r);break e}qt(e,t,n,r)}t=t.child}return t;case 5:return UE(t),e===null&&Ry(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,Ay(n,a)?s=null:i!==null&&Ay(n,i)&&(t.flags|=32),hC(e,t),qt(e,t,s,r),t.child;case 6:return e===null&&Ry(t),null;case 13:return pC(e,t,r);case 4:return cx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ao(t,null,n,r):qt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:an(n,a),mj(e,t,n,a,r);case 7:return qt(e,t,t.pendingProps,r),t.child;case 8:return qt(e,t,t.pendingProps.children,r),t.child;case 12:return qt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Re(Wf,n._currentValue),n._currentValue=s,i!==null)if(bn(i.value,s)){if(i.children===a.children&&!fr.current){t=wa(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ha(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ly(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(G(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Ly(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}qt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,uo(t,r),a=Yr(a),n=n(a),t.flags|=1,qt(e,t,n,r),t.child;case 14:return n=t.type,a=an(n,t.pendingProps),a=an(n.type,a),pj(e,t,n,a,r);case 15:return dC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:an(n,a),df(e,t),t.tag=1,hr(n)?(e=!0,Uf(t)):e=!1,uo(t,r),lC(t,n,a),zy(t,n,a,r),Uy(null,t,n,!0,e,r);case 19:return gC(e,t,r);case 22:return fC(e,t,r)}throw Error(G(156,t.tag))};function TC(e,t){return iE(e,t)}function zL(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(e,t,r,n){return new zL(e,t,r,n)}function Nx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FL(e){if(typeof e=="function")return Nx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hv)return 11;if(e===Vv)return 14}return 2}function hi(e,t){var r=e.alternate;return r===null?(r=Wr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function mf(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")Nx(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ws:return as(r.children,a,i,t);case Uv:s=8,a|=8;break;case cy:return e=Wr(12,r,t,a|2),e.elementType=cy,e.lanes=i,e;case uy:return e=Wr(13,r,t,a),e.elementType=uy,e.lanes=i,e;case dy:return e=Wr(19,r,t,a),e.elementType=dy,e.lanes=i,e;case U2:return wm(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F2:s=10;break e;case B2:s=9;break e;case Hv:s=11;break e;case Vv:s=14;break e;case Ua:s=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Wr(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function as(e,t,r,n){return e=Wr(7,e,n,t),e.lanes=r,e}function wm(e,t,r,n){return e=Wr(22,e,n,t),e.elementType=U2,e.lanes=r,e.stateNode={isHidden:!1},e}function xg(e,t,r){return e=Wr(6,e,null,t),e.lanes=r,e}function bg(e,t,r){return t=Wr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function BL(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eg(0),this.expirationTimes=eg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eg(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function _x(e,t,r,n,a,i,s,l,c){return e=new BL(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Wr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},lx(i),e}function UL(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function MC(e){if(!e)return vi;e=e._reactInternals;e:{if(As(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(hr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(hr(r))return ME(e,r,t)}return t}function IC(e,t,r,n,a,i,s,l,c){return e=_x(r,n,!0,e,a,i,s,l,c),e.context=MC(null),r=e.current,n=Gt(),a=fi(r),i=ha(n,a),i.callback=t??null,ui(r,i,a),e.current.lanes=a,ou(e,a,n),mr(e,n),e}function jm(e,t,r,n){var a=t.current,i=Gt(),s=fi(a);return r=MC(r),t.context===null?t.context=r:t.pendingContext=r,t=ha(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ui(a,t,s),e!==null&&(vn(e,a,s,i),lf(e,a,s)),s}function th(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ej(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Sx(e,t){Ej(e,t),(e=e.alternate)&&Ej(e,t)}function HL(){return null}var DC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ex(e){this._internalRoot=e}km.prototype.render=Ex.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));jm(e,t,null,null)};km.prototype.unmount=Ex.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ps(function(){jm(null,e,null,null)}),t[xa]=null}};function km(e){this._internalRoot=e}km.prototype.unstable_scheduleHydration=function(e){if(e){var t=fE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ka.length&&t!==0&&t<Ka[r].priority;r++);Ka.splice(r,0,e),r===0&&mE(e)}};function Cx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cj(){}function VL(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=th(s);i.call(u)}}var s=IC(t,n,e,0,null,!1,!1,"",Cj);return e._reactRootContainer=s,e[xa]=s.current,wc(e.nodeType===8?e.parentNode:e),ps(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=th(c);l.call(u)}}var c=_x(e,0,!1,null,null,!1,!1,"",Cj);return e._reactRootContainer=c,e[xa]=c.current,wc(e.nodeType===8?e.parentNode:e),ps(function(){jm(t,c,r,n)}),c}function _m(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var l=a;a=function(){var c=th(s);l.call(c)}}jm(t,s,e,a)}else s=VL(r,t,e,a,n);return th(s)}uE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wl(t.pendingLanes);r!==0&&(qv(t,r|1),mr(t,nt()),!(we&6)&&(Io=nt()+500,Ni()))}break;case 13:ps(function(){var n=ba(e,1);if(n!==null){var a=Gt();vn(n,e,1,a)}}),Sx(e,1)}};Yv=function(e){if(e.tag===13){var t=ba(e,134217728);if(t!==null){var r=Gt();vn(t,e,134217728,r)}Sx(e,134217728)}};dE=function(e){if(e.tag===13){var t=fi(e),r=ba(e,t);if(r!==null){var n=Gt();vn(r,e,t,n)}Sx(e,t)}};fE=function(){return Ae};hE=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};wy=function(e,t,r){switch(t){case"input":if(my(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=pm(n);if(!a)throw Error(G(90));V2(n),my(n,a)}}}break;case"textarea":K2(e,r);break;case"select":t=r.value,t!=null&&so(e,!!r.multiple,t,!1)}};J2=wx;eE=ps;var WL={usingClientEntryPoint:!1,Events:[cu,Xs,pm,Q2,Z2,wx]},Ol={findFiberByHostInstance:Fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KL={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nE(e),e===null?null:e.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||HL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{dm=jd.inject(KL),zn=jd}catch{}}Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WL;Mr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cx(t))throw Error(G(200));return UL(e,t,null,r)};Mr.createRoot=function(e,t){if(!Cx(e))throw Error(G(299));var r=!1,n="",a=DC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=_x(e,1,!1,null,null,r,!1,n,a),e[xa]=t.current,wc(e.nodeType===8?e.parentNode:e),new Ex(t)};Mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=nE(t),e=e===null?null:e.stateNode,e};Mr.flushSync=function(e){return ps(e)};Mr.hydrate=function(e,t,r){if(!Nm(t))throw Error(G(200));return _m(null,e,t,!0,r)};Mr.hydrateRoot=function(e,t,r){if(!Cx(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=DC;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=IC(t,null,e,1,r??null,a,!1,i,s),e[xa]=t.current,wc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new km(t)};Mr.render=function(e,t,r){if(!Nm(t))throw Error(G(200));return _m(null,e,t,!1,r)};Mr.unmountComponentAtNode=function(e){if(!Nm(e))throw Error(G(40));return e._reactRootContainer?(ps(function(){_m(null,null,e,!1,function(){e._reactRootContainer=null,e[xa]=null})}),!0):!1};Mr.unstable_batchedUpdates=wx;Mr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Nm(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return _m(e,t,r,!1,n)};Mr.version="18.3.1-next-f1338f8080-20240426";function RC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RC)}catch(e){console.error(e)}}RC(),R2.exports=Mr;var du=R2.exports,Pj=du;oy.createRoot=Pj.createRoot,oy.hydrateRoot=Pj.hydrateRoot;var fu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qL={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ga,Iv,p2,YL=(p2=class{constructor(){me(this,Ga,qL);me(this,Iv,!1)}setTimeoutProvider(e){ae(this,Ga,e)}setTimeout(e,t){return $(this,Ga).setTimeout(e,t)}clearTimeout(e){$(this,Ga).clearTimeout(e)}setInterval(e,t){return $(this,Ga).setInterval(e,t)}clearInterval(e){$(this,Ga).clearInterval(e)}},Ga=new WeakMap,Iv=new WeakMap,p2),Hi=new YL;function XL(e){setTimeout(e,0)}var gs=typeof window>"u"||"Deno"in globalThis;function sr(){}function GL(e,t){return typeof e=="function"?e(t):e}function e0(e){return typeof e=="number"&&e>=0&&e!==1/0}function LC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mi(e,t){return typeof e=="function"?e(t):e}function Br(e,t){return typeof e=="function"?e(t):e}function Oj(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:l}=e;if(s){if(n){if(t.queryHash!==Px(s,t.options))return!1}else if(!Ac(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Aj(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Oc(t.options.mutationKey)!==Oc(i))return!1}else if(!Ac(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Px(e,t){return((t==null?void 0:t.queryKeyHashFn)||Oc)(e)}function Oc(e){return JSON.stringify(e,(t,r)=>r0(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ac(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ac(e[r],t[r])):!1}var QL=Object.prototype.hasOwnProperty;function $C(e,t){if(e===t)return e;const r=Tj(e)&&Tj(t);if(!r&&!(r0(e)&&r0(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,l=r?new Array(s):{};let c=0;for(let u=0;u<s;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<a:QL.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const m=$C(f,h);l[d]=m,m===f&&c++}return a===s&&c===a?e:l}function t0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Tj(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function r0(e){if(!Mj(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Mj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Mj(e){return Object.prototype.toString.call(e)==="[object Object]"}function ZL(e){return new Promise(t=>{Hi.setTimeout(t,e)})}function n0(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?$C(e,t):t}function JL(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function e$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ox=Symbol();function zC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ox?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function t$(e,t){return typeof e=="function"?e(...t):!!e}var Yi,Qa,go,g2,r$=(g2=class extends fu{constructor(){super();me(this,Yi);me(this,Qa);me(this,go);ae(this,go,t=>{if(!gs&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,Qa)||this.setEventListener($(this,go))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Qa))==null||t.call(this),ae(this,Qa,void 0))}setEventListener(t){var r;ae(this,go,t),(r=$(this,Qa))==null||r.call(this),ae(this,Qa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,Yi)!==t&&(ae(this,Yi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof $(this,Yi)=="boolean"?$(this,Yi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Yi=new WeakMap,Qa=new WeakMap,go=new WeakMap,g2),Ax=new r$;function a0(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var n$=XL;function a$(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=n$;const i=l=>{t?e.push(l):a(()=>{r(l)})},s=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Tt=a$(),yo,Za,vo,y2,i$=(y2=class extends fu{constructor(){super();me(this,yo,!0);me(this,Za);me(this,vo);ae(this,vo,t=>{if(!gs&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,Za)||this.setEventListener($(this,vo))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Za))==null||t.call(this),ae(this,Za,void 0))}setEventListener(t){var r;ae(this,vo,t),(r=$(this,Za))==null||r.call(this),ae(this,Za,t(this.setOnline.bind(this)))}setOnline(t){$(this,yo)!==t&&(ae(this,yo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return $(this,yo)}},yo=new WeakMap,Za=new WeakMap,vo=new WeakMap,y2),rh=new i$;function s$(e){return Math.min(1e3*2**e,3e4)}function FC(e){return(e??"online")==="online"?rh.isOnline():!0}var i0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function BC(e){let t=!1,r=0,n;const a=a0(),i=()=>a.status!=="pending",s=v=>{var x;if(!i()){const g=new i0(v);h(g),(x=e.onCancel)==null||x.call(e,g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Ax.isFocused()&&(e.networkMode==="always"||rh.isOnline())&&e.canRun(),d=()=>FC(e.networkMode)&&e.canRun(),f=v=>{i()||(n==null||n(),a.resolve(v))},h=v=>{i()||(n==null||n(),a.reject(v))},m=()=>new Promise(v=>{var x;n=g=>{(i()||u())&&v(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var v;n=void 0,i()||(v=e.onContinue)==null||v.call(e)}),p=()=>{if(i())return;let v;const x=r===0?e.initialPromise:void 0;try{v=x??e.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(f).catch(g=>{var _;if(i())return;const b=e.retry??(gs?0:3),w=e.retryDelay??s$,j=typeof w=="function"?w(r,g):w,k=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,g);if(t||!k){h(g);return}r++,(_=e.onFail)==null||_.call(e,r,g),ZL(j).then(()=>u()?void 0:m()).then(()=>{t?h(g):p()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),a)}}var Xi,v2,UC=(v2=class{constructor(){me(this,Xi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),e0(this.gcTime)&&ae(this,Xi,Hi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(gs?1/0:5*60*1e3))}clearGcTimeout(){$(this,Xi)&&(Hi.clearTimeout($(this,Xi)),ae(this,Xi,void 0))}},Xi=new WeakMap,v2),Gi,xo,Fr,Qi,kt,tu,Zi,sn,ea,x2,o$=(x2=class extends UC{constructor(t){super();me(this,sn);me(this,Gi);me(this,xo);me(this,Fr);me(this,Qi);me(this,kt);me(this,tu);me(this,Zi);ae(this,Zi,!1),ae(this,tu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ae(this,Qi,t.client),ae(this,Fr,$(this,Qi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ae(this,Gi,Dj(this.options)),this.state=t.state??$(this,Gi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,kt))==null?void 0:t.promise}setOptions(t){if(this.options={...$(this,tu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Dj(this.options);r.data!==void 0&&(this.setState(Ij(r.data,r.dataUpdatedAt)),ae(this,Gi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Fr).remove(this)}setData(t,r){const n=n0(this.state.data,t,this.options);return ve(this,sn,ea).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ve(this,sn,ea).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=$(this,kt))==null?void 0:n.promise;return(a=$(this,kt))==null||a.cancel(t),r?r.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Gi))}isActive(){return this.observers.some(t=>Br(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ox||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!LC(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,kt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,kt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,Fr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||($(this,kt)&&($(this,Zi)?$(this,kt).cancel({revert:!0}):$(this,kt).cancelRetry()),this.scheduleGc()),$(this,Fr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ve(this,sn,ea).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,p,v,x,g,b,w;if(this.state.fetchStatus!=="idle"&&((c=$(this,kt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,kt))return $(this,kt).continueRetry(),$(this,kt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(k=>k.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(ae(this,Zi,!0),n.signal)})},i=()=>{const j=zC(this.options,r),_=(()=>{const N={client:$(this,Qi),queryKey:this.queryKey,meta:this.meta};return a(N),N})();return ae(this,Zi,!1),this.options.persister?this.options.persister(j,_,this):j(_)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,Qi),state:this.state,fetchFn:i};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),ae(this,xo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ve(this,sn,ea).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ae(this,kt,BC({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof i0&&j.revert&&this.setState({...$(this,xo),fetchStatus:"idle"}),n.abort()},onFail:(j,k)=>{ve(this,sn,ea).call(this,{type:"failed",failureCount:j,error:k})},onPause:()=>{ve(this,sn,ea).call(this,{type:"pause"})},onContinue:()=>{ve(this,sn,ea).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await $(this,kt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(h=$(this,Fr).config).onSuccess)==null||m.call(h,j,this),(v=(p=$(this,Fr).config).onSettled)==null||v.call(p,j,this.state.error,this),j}catch(j){if(j instanceof i0){if(j.silent)return $(this,kt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw ve(this,sn,ea).call(this,{type:"error",error:j}),(g=(x=$(this,Fr).config).onError)==null||g.call(x,j,this),(w=(b=$(this,Fr).config).onSettled)==null||w.call(b,this.state.data,j,this),j}finally{this.scheduleGc()}}},Gi=new WeakMap,xo=new WeakMap,Fr=new WeakMap,Qi=new WeakMap,kt=new WeakMap,tu=new WeakMap,Zi=new WeakMap,sn=new WeakSet,ea=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...HC(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...Ij(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ae(this,xo,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Tt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,Fr).notify({query:this,type:"updated",action:t})})},x2);function HC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:FC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ij(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Dj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ar,xe,ru,Wt,Ji,bo,aa,Ja,nu,wo,jo,es,ts,ei,ko,Ce,ql,s0,o0,l0,c0,u0,d0,f0,VC,b2,l$=(b2=class extends fu{constructor(t,r){super();me(this,Ce);me(this,ar);me(this,xe);me(this,ru);me(this,Wt);me(this,Ji);me(this,bo);me(this,aa);me(this,Ja);me(this,nu);me(this,wo);me(this,jo);me(this,es);me(this,ts);me(this,ei);me(this,ko,new Set);this.options=r,ae(this,ar,t),ae(this,Ja,null),ae(this,aa,a0()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,xe).addObserver(this),Rj($(this,xe),this.options)?ve(this,Ce,ql).call(this):this.updateResult(),ve(this,Ce,c0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return h0($(this,xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return h0($(this,xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ve(this,Ce,u0).call(this),ve(this,Ce,d0).call(this),$(this,xe).removeObserver(this)}setOptions(t){const r=this.options,n=$(this,xe);if(this.options=$(this,ar).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Br(this.options.enabled,$(this,xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ve(this,Ce,f0).call(this),$(this,xe).setOptions(this.options),r._defaulted&&!t0(this.options,r)&&$(this,ar).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,xe),observer:this});const a=this.hasListeners();a&&Lj($(this,xe),n,this.options,r)&&ve(this,Ce,ql).call(this),this.updateResult(),a&&($(this,xe)!==n||Br(this.options.enabled,$(this,xe))!==Br(r.enabled,$(this,xe))||mi(this.options.staleTime,$(this,xe))!==mi(r.staleTime,$(this,xe)))&&ve(this,Ce,s0).call(this);const i=ve(this,Ce,o0).call(this);a&&($(this,xe)!==n||Br(this.options.enabled,$(this,xe))!==Br(r.enabled,$(this,xe))||i!==$(this,ei))&&ve(this,Ce,l0).call(this,i)}getOptimisticResult(t){const r=$(this,ar).getQueryCache().build($(this,ar),t),n=this.createResult(r,t);return u$(this,n)&&(ae(this,Wt,n),ae(this,bo,this.options),ae(this,Ji,$(this,xe).state)),n}getCurrentResult(){return $(this,Wt)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&$(this,aa).status==="pending"&&$(this,aa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){$(this,ko).add(t)}getCurrentQuery(){return $(this,xe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=$(this,ar).defaultQueryOptions(t),n=$(this,ar).getQueryCache().build($(this,ar),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ve(this,Ce,ql).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Wt)))}createResult(t,r){var E;const n=$(this,xe),a=this.options,i=$(this,Wt),s=$(this,Ji),l=$(this,bo),u=t!==n?t.state:$(this,ru),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const T=this.hasListeners(),O=!T&&Rj(t,r),P=T&&Lj(t,n,r,a);(O||P)&&(f={...f,...HC(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:v,status:x}=f;m=f.data;let g=!1;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,g=!0):T=typeof r.placeholderData=="function"?r.placeholderData((E=$(this,jo))==null?void 0:E.state.data,$(this,jo)):r.placeholderData,T!==void 0&&(x="success",m=n0(i==null?void 0:i.data,T,r),h=!0)}if(r.select&&m!==void 0&&!g)if(i&&m===(s==null?void 0:s.data)&&r.select===$(this,nu))m=$(this,wo);else try{ae(this,nu,r.select),m=r.select(m),m=n0(i==null?void 0:i.data,m,r),ae(this,wo,m),ae(this,Ja,null)}catch(T){ae(this,Ja,T)}$(this,Ja)&&(p=$(this,Ja),m=$(this,wo),v=Date.now(),x="error");const b=f.fetchStatus==="fetching",w=x==="pending",j=x==="error",k=w&&b,_=m!==void 0,S={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:j,isInitialLoading:k,isLoading:k,data:m,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:j&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&_,isStale:Tx(t,r),refetch:this.refetch,promise:$(this,aa),isEnabled:Br(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=L=>{S.status==="error"?L.reject(S.error):S.data!==void 0&&L.resolve(S.data)},O=()=>{const L=ae(this,aa,S.promise=a0());T(L)},P=$(this,aa);switch(P.status){case"pending":t.queryHash===n.queryHash&&T(P);break;case"fulfilled":(S.status==="error"||S.data!==P.value)&&O();break;case"rejected":(S.status!=="error"||S.error!==P.reason)&&O();break}}return S}updateResult(){const t=$(this,Wt),r=this.createResult($(this,xe),this.options);if(ae(this,Ji,$(this,xe).state),ae(this,bo,this.options),$(this,Ji).data!==void 0&&ae(this,jo,$(this,xe)),t0(r,t))return;ae(this,Wt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!$(this,ko).size)return!0;const s=new Set(i??$(this,ko));return this.options.throwOnError&&s.add("error"),Object.keys($(this,Wt)).some(l=>{const c=l;return $(this,Wt)[c]!==t[c]&&s.has(c)})};ve(this,Ce,VC).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ve(this,Ce,c0).call(this)}},ar=new WeakMap,xe=new WeakMap,ru=new WeakMap,Wt=new WeakMap,Ji=new WeakMap,bo=new WeakMap,aa=new WeakMap,Ja=new WeakMap,nu=new WeakMap,wo=new WeakMap,jo=new WeakMap,es=new WeakMap,ts=new WeakMap,ei=new WeakMap,ko=new WeakMap,Ce=new WeakSet,ql=function(t){ve(this,Ce,f0).call(this);let r=$(this,xe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(sr)),r},s0=function(){ve(this,Ce,u0).call(this);const t=mi(this.options.staleTime,$(this,xe));if(gs||$(this,Wt).isStale||!e0(t))return;const n=LC($(this,Wt).dataUpdatedAt,t)+1;ae(this,es,Hi.setTimeout(()=>{$(this,Wt).isStale||this.updateResult()},n))},o0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,xe)):this.options.refetchInterval)??!1},l0=function(t){ve(this,Ce,d0).call(this),ae(this,ei,t),!(gs||Br(this.options.enabled,$(this,xe))===!1||!e0($(this,ei))||$(this,ei)===0)&&ae(this,ts,Hi.setInterval(()=>{(this.options.refetchIntervalInBackground||Ax.isFocused())&&ve(this,Ce,ql).call(this)},$(this,ei)))},c0=function(){ve(this,Ce,s0).call(this),ve(this,Ce,l0).call(this,ve(this,Ce,o0).call(this))},u0=function(){$(this,es)&&(Hi.clearTimeout($(this,es)),ae(this,es,void 0))},d0=function(){$(this,ts)&&(Hi.clearInterval($(this,ts)),ae(this,ts,void 0))},f0=function(){const t=$(this,ar).getQueryCache().build($(this,ar),this.options);if(t===$(this,xe))return;const r=$(this,xe);ae(this,xe,t),ae(this,ru,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},VC=function(t){Tt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r($(this,Wt))}),$(this,ar).getQueryCache().notify({query:$(this,xe),type:"observerResultsUpdated"})})},b2);function c$(e,t){return Br(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Rj(e,t){return c$(e,t)||e.state.data!==void 0&&h0(e,t,t.refetchOnMount)}function h0(e,t,r){if(Br(t.enabled,e)!==!1&&mi(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Tx(e,t)}return!1}function Lj(e,t,r,n){return(e!==t||Br(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Tx(e,r)}function Tx(e,t){return Br(t.enabled,e)!==!1&&e.isStaleByTime(mi(t.staleTime,e))}function u$(e,t){return!t0(e.getCurrentResult(),t)}function $j(e){return{onFetch:(t,r)=>{var d,f,h,m,p;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],s=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},g=zC(t.options,t.fetchOptions),b=async(w,j,k)=>{if(v)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};return x(O),O})(),S=await g(N),{maxPages:E}=t.options,T=k?e$:JL;return{pages:T(w.pages,S,E),pageParams:T(w.pageParams,j,E)}};if(a&&i.length){const w=a==="backward",j=w?d$:zj,k={pages:i,pageParams:s},_=j(n,k);l=await b(k,_,w)}else{const w=e??i.length;do{const j=c===0?s[0]??n.initialPageParam:zj(n,l);if(c>0&&j==null)break;l=await b(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var v,x;return(x=(v=t.options).persister)==null?void 0:x.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function zj(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function d$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var au,Mn,Kt,rs,In,Ba,w2,f$=(w2=class extends UC{constructor(t){super();me(this,In);me(this,au);me(this,Mn);me(this,Kt);me(this,rs);ae(this,au,t.client),this.mutationId=t.mutationId,ae(this,Kt,t.mutationCache),ae(this,Mn,[]),this.state=t.state||h$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,Mn).includes(t)||($(this,Mn).push(t),this.clearGcTimeout(),$(this,Kt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ae(this,Mn,$(this,Mn).filter(r=>r!==t)),this.scheduleGc(),$(this,Kt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,Mn).length||(this.state.status==="pending"?this.scheduleGc():$(this,Kt).remove(this))}continue(){var t;return((t=$(this,rs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,c,u,d,f,h,m,p,v,x,g,b,w,j,k,_,N,S,E;const r=()=>{ve(this,In,Ba).call(this,{type:"continue"})},n={client:$(this,au),meta:this.options.meta,mutationKey:this.options.mutationKey};ae(this,rs,BC({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,O)=>{ve(this,In,Ba).call(this,{type:"failed",failureCount:T,error:O})},onPause:()=>{ve(this,In,Ba).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Kt).canRun(this)}));const a=this.state.status==="pending",i=!$(this,rs).canStart();try{if(a)r();else{ve(this,In,Ba).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(s=$(this,Kt).config).onMutate)==null?void 0:l.call(s,t,this,n));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));O!==this.state.context&&ve(this,In,Ba).call(this,{type:"pending",context:O,variables:t,isPaused:i})}const T=await $(this,rs).start();return await((f=(d=$(this,Kt).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,T,t,this.state.context,n)),await((v=(p=$(this,Kt).config).onSettled)==null?void 0:v.call(p,T,null,this.state.variables,this.state.context,this,n)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,T,null,t,this.state.context,n)),ve(this,In,Ba).call(this,{type:"success",data:T}),T}catch(T){try{throw await((w=(b=$(this,Kt).config).onError)==null?void 0:w.call(b,T,t,this.state.context,this,n)),await((k=(j=this.options).onError)==null?void 0:k.call(j,T,t,this.state.context,n)),await((N=(_=$(this,Kt).config).onSettled)==null?void 0:N.call(_,void 0,T,this.state.variables,this.state.context,this,n)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,T,t,this.state.context,n)),T}finally{ve(this,In,Ba).call(this,{type:"error",error:T})}}finally{$(this,Kt).runNext(this)}}},au=new WeakMap,Mn=new WeakMap,Kt=new WeakMap,rs=new WeakMap,In=new WeakSet,Ba=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Tt.batch(()=>{$(this,Mn).forEach(n=>{n.onMutationUpdate(t)}),$(this,Kt).notify({mutation:this,type:"updated",action:t})})},w2);function h$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ia,on,iu,j2,m$=(j2=class extends fu{constructor(t={}){super();me(this,ia);me(this,on);me(this,iu);this.config=t,ae(this,ia,new Set),ae(this,on,new Map),ae(this,iu,0)}build(t,r,n){const a=new f$({client:t,mutationCache:this,mutationId:++id(this,iu)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){$(this,ia).add(t);const r=kd(t);if(typeof r=="string"){const n=$(this,on).get(r);n?n.push(t):$(this,on).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,ia).delete(t)){const r=kd(t);if(typeof r=="string"){const n=$(this,on).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&$(this,on).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=kd(t);if(typeof r=="string"){const n=$(this,on).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=kd(t);if(typeof r=="string"){const a=(n=$(this,on).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tt.batch(()=>{$(this,ia).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,ia).clear(),$(this,on).clear()})}getAll(){return Array.from($(this,ia))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Aj(r,n))}findAll(t={}){return this.getAll().filter(r=>Aj(t,r))}notify(t){Tt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Tt.batch(()=>Promise.all(t.map(r=>r.continue().catch(sr))))}},ia=new WeakMap,on=new WeakMap,iu=new WeakMap,j2);function kd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Dn,k2,p$=(k2=class extends fu{constructor(t={}){super();me(this,Dn);this.config=t,ae(this,Dn,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??Px(a,r);let s=this.get(i);return s||(s=new o$({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){$(this,Dn).has(t.queryHash)||($(this,Dn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=$(this,Dn).get(t.queryHash);r&&(t.destroy(),r===t&&$(this,Dn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,Dn).get(t)}getAll(){return[...$(this,Dn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Oj(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Oj(t,n)):r}notify(t){Tt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Tt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Dn=new WeakMap,k2),Je,ti,ri,No,_o,ni,So,Eo,N2,g$=(N2=class{constructor(e={}){me(this,Je);me(this,ti);me(this,ri);me(this,No);me(this,_o);me(this,ni);me(this,So);me(this,Eo);ae(this,Je,e.queryCache||new p$),ae(this,ti,e.mutationCache||new m$),ae(this,ri,e.defaultOptions||{}),ae(this,No,new Map),ae(this,_o,new Map),ae(this,ni,0)}mount(){id(this,ni)._++,$(this,ni)===1&&(ae(this,So,Ax.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Je).onFocus())})),ae(this,Eo,rh.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Je).onOnline())})))}unmount(){var e,t;id(this,ni)._--,$(this,ni)===0&&((e=$(this,So))==null||e.call(this),ae(this,So,void 0),(t=$(this,Eo))==null||t.call(this),ae(this,Eo,void 0))}isFetching(e){return $(this,Je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,ti).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,Je).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=$(this,Je).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(mi(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return $(this,Je).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=$(this,Je).get(n.queryHash),i=a==null?void 0:a.state.data,s=GL(t,i);if(s!==void 0)return $(this,Je).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return Tt.batch(()=>$(this,Je).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,Je).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=$(this,Je);Tt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=$(this,Je);return Tt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Tt.batch(()=>$(this,Je).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(sr).catch(sr)}invalidateQueries(e,t={}){return Tt.batch(()=>($(this,Je).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Tt.batch(()=>$(this,Je).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(sr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(sr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=$(this,Je).build(this,t);return r.isStaleByTime(mi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(sr).catch(sr)}fetchInfiniteQuery(e){return e.behavior=$j(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(sr).catch(sr)}ensureInfiniteQueryData(e){return e.behavior=$j(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rh.isOnline()?$(this,ti).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Je)}getMutationCache(){return $(this,ti)}getDefaultOptions(){return $(this,ri)}setDefaultOptions(e){ae(this,ri,e)}setQueryDefaults(e,t){$(this,No).set(Oc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,No).values()],r={};return t.forEach(n=>{Ac(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){$(this,_o).set(Oc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,_o).values()],r={};return t.forEach(n=>{Ac(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,ri).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Px(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ox&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,ri).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,Je).clear(),$(this,ti).clear()}},Je=new WeakMap,ti=new WeakMap,ri=new WeakMap,No=new WeakMap,_o=new WeakMap,ni=new WeakMap,So=new WeakMap,Eo=new WeakMap,N2),WC=y.createContext(void 0),y$=e=>{const t=y.useContext(WC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},v$=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(WC.Provider,{value:e,children:t})),KC=y.createContext(!1),x$=()=>y.useContext(KC);KC.Provider;function b$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var w$=y.createContext(b$()),j$=()=>y.useContext(w$),k$=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},N$=e=>{y.useEffect(()=>{e.clearReset()},[e])},_$=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||t$(r,[e.error,n])),S$=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},E$=(e,t)=>e.isLoading&&e.isFetching&&!t,C$=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Fj=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function P$(e,t,r){var f,h,m,p,v;const n=x$(),a=j$(),i=y$(),s=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,s),s._optimisticResults=n?"isRestoring":"optimistic",S$(s),k$(s,a),N$(a);const l=!i.getQueryCache().get(s.queryHash),[c]=y.useState(()=>new t(i,s)),u=c.getOptimisticResult(s),d=!n&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(x=>{const g=d?c.subscribe(Tt.batchCalls(x)):sr;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(s)},[s,c]),C$(s,u))throw Fj(s,c,a);if(_$({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((p=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,s,u),s.experimental_prefetchInRender&&!gs&&E$(u,n)){const x=l?Fj(s,c,a):(v=i.getQueryCache().get(s.queryHash))==null?void 0:v.promise;x==null||x.catch(sr).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function O$(e,t){return P$(e,l$)}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bj="popstate";function A$(e={}){function t(n,a){let{pathname:i,search:s,hash:l}=n.location;return m0("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Tc(a)}return M$(t,r,null,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function T$(){return Math.random().toString(36).substring(2,10)}function Uj(e,t){return{usr:e.state,key:e.key,idx:t}}function m0(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?il(t):t,state:r,key:t&&t.key||n||T$()}}function Tc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function il(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function M$(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){l="POP";let x=d(),g=x==null?null:x-u;u=x,c&&c({action:l,location:v.location,delta:g})}function h(x,g){l="PUSH";let b=m0(v.location,x,g);u=d()+1;let w=Uj(b,u),j=v.createHref(b);try{s.pushState(w,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function m(x,g){l="REPLACE";let b=m0(v.location,x,g);u=d();let w=Uj(b,u),j=v.createHref(b);s.replaceState(w,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function p(x){return I$(x)}let v={get action(){return l},get location(){return e(a,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Bj,f),c=x,()=>{a.removeEventListener(Bj,f),c=null}},createHref(x){return t(a,x)},createURL:p,encodeLocation(x){let g=p(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(x){return s.go(x)}};return v}function I$(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Tc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function qC(e,t,r="/"){return D$(e,t,r,!1)}function D$(e,t,r,n){let a=typeof t=="string"?il(t):t,i=ja(a.pathname||"/",r);if(i==null)return null;let s=YC(e);R$(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=q$(i);l=W$(s[c],u,n)}return l}function YC(e,t=[],r=[],n="",a=!1){let i=(s,l,c=a,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Xe(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=ma([n,d.relativePath]),h=r.concat(d);s.children&&s.children.length>0&&(Xe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),YC(s.children,t,h,f,c)),!(s.path==null&&!s.index)&&t.push({path:f,score:H$(f,s.index),routesMeta:h})};return e.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,l);else for(let u of XC(s.path))i(s,l,!0,u)}),t}function XC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=XC(n.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function R$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:V$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var L$=/^:[\w-]+$/,$$=3,z$=2,F$=1,B$=10,U$=-2,Hj=e=>e==="*";function H$(e,t){let r=e.split("/"),n=r.length;return r.some(Hj)&&(n+=U$),t&&(n+=z$),r.filter(a=>!Hj(a)).reduce((a,i)=>a+(L$.test(i)?$$:i===""?F$:B$),n)}function V$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function W$(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=nh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=nh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:ma([i,f.pathname]),pathnameBase:Z$(ma([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ma([i,f.pathnameBase]))}return s}function nh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=K$(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let p=l[h]||"";s=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function K$(e,t=!1,r=!0){wn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function q$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ja(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var Y$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X$=e=>Y$.test(e);function G$(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?il(e):e,i;if(r)if(X$(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),wn(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${r}`)}r.startsWith("/")?i=Vj(r.substring(1),"/"):i=Vj(r,t)}else i=t;return{pathname:i,search:J$(n),hash:ez(a)}}function Vj(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function wg(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function GC(e){let t=Q$(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function QC(e,t,r,n=!1){let a;typeof e=="string"?a=il(e):(a={...e},Xe(!a.pathname||!a.pathname.includes("?"),wg("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),wg("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),wg("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=G$(a,l),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var ma=e=>e.join("/").replace(/\/\/+/g,"/"),Z$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ez=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function rz(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZC=["POST","PUT","PATCH","DELETE"];new Set(ZC);var nz=["GET",...ZC];new Set(nz);var sl=y.createContext(null);sl.displayName="DataRouter";var Sm=y.createContext(null);Sm.displayName="DataRouterState";y.createContext(!1);var JC=y.createContext({isTransitioning:!1});JC.displayName="ViewTransition";var az=y.createContext(new Map);az.displayName="Fetchers";var iz=y.createContext(null);iz.displayName="Await";var Nn=y.createContext(null);Nn.displayName="Navigation";var hu=y.createContext(null);hu.displayName="Location";var Yn=y.createContext({outlet:null,matches:[],isDataRoute:!1});Yn.displayName="Route";var Mx=y.createContext(null);Mx.displayName="RouteError";function sz(e,{relative:t}={}){Xe(mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(Nn),{hash:a,pathname:i,search:s}=pu(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:ma([r,i])),n.createHref({pathname:l,search:s,hash:a})}function mu(){return y.useContext(hu)!=null}function _i(){return Xe(mu(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(hu).location}var eP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tP(e){y.useContext(Nn).static||y.useLayoutEffect(e)}function rP(){let{isDataRoute:e}=y.useContext(Yn);return e?wz():oz()}function oz(){Xe(mu(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(sl),{basename:t,navigator:r}=y.useContext(Nn),{matches:n}=y.useContext(Yn),{pathname:a}=_i(),i=JSON.stringify(GC(n)),s=y.useRef(!1);return tP(()=>{s.current=!0}),y.useCallback((c,u={})=>{if(wn(s.current,eP),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=QC(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ma([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,a,e])}var lz=y.createContext(null);function cz(e){let t=y.useContext(Yn).outlet;return y.useMemo(()=>t&&y.createElement(lz.Provider,{value:e},t),[t,e])}function pu(e,{relative:t}={}){let{matches:r}=y.useContext(Yn),{pathname:n}=_i(),a=JSON.stringify(GC(r));return y.useMemo(()=>QC(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function uz(e,t){return nP(e,t)}function nP(e,t,r,n,a){var b;Xe(mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(Nn),{matches:s}=y.useContext(Yn),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let w=f&&f.path||"";aP(u,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=_i(),m;if(t){let w=typeof t=="string"?il(t):t;Xe(d==="/"||((b=w.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),m=w}else m=h;let p=m.pathname||"/",v=p;if(d!=="/"){let w=d.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=qC(e,{pathname:v});wn(f||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),wn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=pz(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:ma([d,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:ma([d,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),s,r,n,a);return t&&g?y.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function dz(){let e=bz(),t=tz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,s)}var fz=y.createElement(dz,null),hz=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(Yn.Provider,{value:this.props.routeContext},y.createElement(Mx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mz({routeContext:e,match:t,children:r}){let n=y.useContext(sl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Yn.Provider,{value:e},r)}function pz(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let d=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Xe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,f)=>{var h,m;n(d,{location:r.location,params:((m=(h=r.matches)==null?void 0:h[0])==null?void 0:m.params)??{},unstable_pattern:rz(r.matches),errorInfo:f})}:void 0;return i.reduceRight((d,f,h)=>{let m,p=!1,v=null,x=null;r&&(m=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||fz,l&&(c<0&&h===0?(aP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):c===h&&(p=!0,x=f.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,h+1)),b=()=>{let w;return m?w=v:p?w=x:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(mz,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(hz,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):b()},null)}function Ix(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gz(e){let t=y.useContext(sl);return Xe(t,Ix(e)),t}function yz(e){let t=y.useContext(Sm);return Xe(t,Ix(e)),t}function vz(e){let t=y.useContext(Yn);return Xe(t,Ix(e)),t}function Dx(e){let t=vz(e),r=t.matches[t.matches.length-1];return Xe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function xz(){return Dx("useRouteId")}function bz(){var n;let e=y.useContext(Mx),t=yz("useRouteError"),r=Dx("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function wz(){let{router:e}=gz("useNavigate"),t=Dx("useNavigate"),r=y.useRef(!1);return tP(()=>{r.current=!0}),y.useCallback(async(a,i={})=>{wn(r.current,eP),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Wj={};function aP(e,t,r){!t&&!Wj[e]&&(Wj[e]=!0,wn(!1,r))}y.memo(jz);function jz({routes:e,future:t,state:r,unstable_onError:n}){return nP(e,void 0,r,n,t)}function kz(e){return cz(e.context)}function Us(e){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nz({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:s}){Xe(!mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:s,future:{}}),[l,a,i,s]);typeof r=="string"&&(r=il(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,p=y.useMemo(()=>{let v=ja(u,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:h,key:m},navigationType:n}},[l,u,d,f,h,m,n]);return wn(p!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:y.createElement(Nn.Provider,{value:c},y.createElement(hu.Provider,{children:t,value:p}))}function _z({children:e,location:t}){return uz(p0(e),t)}function p0(e,t=[]){let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let i=[...t,a];if(n.type===y.Fragment){r.push.apply(r,p0(n.props.children,i));return}Xe(n.type===Us,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=p0(n.props.children,i)),r.push(s)}),r}var pf="get",gf="application/x-www-form-urlencoded";function Em(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Sz(e){return Em(e)&&e.tagName.toLowerCase()==="button"}function Ez(e){return Em(e)&&e.tagName.toLowerCase()==="form"}function Cz(e){return Em(e)&&e.tagName.toLowerCase()==="input"}function Pz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Oz(e,t){return e.button===0&&(!t||t==="_self")&&!Pz(e)}var Nd=null;function Az(){if(Nd===null)try{new FormData(document.createElement("form"),0),Nd=!1}catch{Nd=!0}return Nd}var Tz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jg(e){return e!=null&&!Tz.has(e)?(wn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gf}"`),null):e}function Mz(e,t){let r,n,a,i,s;if(Ez(e)){let l=e.getAttribute("action");n=l?ja(l,t):null,r=e.getAttribute("method")||pf,a=jg(e.getAttribute("enctype"))||gf,i=new FormData(e)}else if(Sz(e)||Cz(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?ja(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||pf,a=jg(e.getAttribute("formenctype"))||jg(l.getAttribute("enctype"))||gf,i=new FormData(l,e),!Az()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,f)}}else{if(Em(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=pf,n=null,a=gf,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Iz(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&ja(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Dz(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Lz(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await Dz(i,r);return s.links?s.links():[]}return[]}));return Bz(n.flat(1).filter(Rz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Kj(e,t,r,n,a,i){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>s(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function $z(e,t,{includeHydrateFallback:r}={}){return zz(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function zz(e){return[...new Set(e)]}function Fz(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Bz(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(Fz(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function iP(){let e=y.useContext(sl);return Rx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Uz(){let e=y.useContext(Sm);return Rx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Lx=y.createContext(void 0);Lx.displayName="FrameworkContext";function sP(){let e=y.useContext(Lx);return Rx(e,"You must render this element inside a <HydratedRouter> element"),e}function Hz(e,t){let r=y.useContext(Lx),[n,a]=y.useState(!1),[i,s]=y.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=y.useRef(null);y.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let v=g=>{g.forEach(b=>{s(b.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[e]),y.useEffect(()=>{if(n){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{a(!0)},p=()=>{a(!1),s(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:Al(l,m),onBlur:Al(c,p),onMouseEnter:Al(u,m),onMouseLeave:Al(d,p),onTouchStart:Al(f,m)}]:[!1,h,{}]}function Al(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Vz({page:e,...t}){let{router:r}=iP(),n=y.useMemo(()=>qC(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(Kz,{page:e,matches:n,...t}):null}function Wz(e){let{manifest:t,routeModules:r}=sP(),[n,a]=y.useState([]);return y.useEffect(()=>{let i=!1;return Lz(e,t,r).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,r]),n}function Kz({page:e,matches:t,...r}){let n=_i(),{manifest:a,routeModules:i}=sP(),{basename:s}=iP(),{loaderData:l,matches:c}=Uz(),u=y.useMemo(()=>Kj(e,t,c,a,n,"data"),[e,t,c,a,n]),d=y.useMemo(()=>Kj(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,v=!1;if(t.forEach(g=>{var w;let b=a.routes[g.route.id];!b||!b.hasLoader||(!u.some(j=>j.route.id===g.route.id)&&g.route.id in l&&((w=i[g.route.id])!=null&&w.shouldRevalidate)||b.hasClientLoader?v=!0:p.add(g.route.id))}),p.size===0)return[];let x=Iz(e,s,"data");return v&&p.size>0&&x.searchParams.set("_routes",t.filter(g=>p.has(g.route.id)).map(g=>g.route.id).join(",")),[x.pathname+x.search]},[s,l,n,a,u,t,e,i]),h=y.useMemo(()=>$z(d,a),[d,a]),m=Wz(d);return y.createElement(y.Fragment,null,f.map(p=>y.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),h.map(p=>y.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),m.map(({key:p,link:v})=>y.createElement("link",{key:p,nonce:r.nonce,...v})))}function qz(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var oP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oP&&(window.__reactRouterVersion="7.10.1")}catch{}function Yz({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=y.useRef();a.current==null&&(a.current=A$({window:n,v5Compat:!0}));let i=a.current,[s,l]=y.useState({action:i.action,location:i.location}),c=y.useCallback(u=>{r===!1?l(u):y.startTransition(()=>l(u))},[r]);return y.useLayoutEffect(()=>i.listen(c),[i,c]),y.createElement(Nz,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:r===!0})}var lP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gu=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:p,unstable_useTransitions:v}=y.useContext(Nn),x=typeof u=="string"&&lP.test(u),g,b=!1;if(typeof u=="string"&&x&&(g=u,oP))try{let T=new URL(window.location.href),O=u.startsWith("//")?new URL(T.protocol+u):new URL(u),P=ja(O.pathname,p);O.origin===T.origin&&P!=null?u=P+O.search+O.hash:b=!0}catch{wn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=sz(u,{relative:a}),[j,k,_]=Hz(n,h),N=Zz(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f,unstable_useTransitions:v});function S(T){t&&t(T),T.defaultPrevented||N(T)}let E=y.createElement("a",{...h,..._,href:g||w,onClick:b||i?t:S,ref:qz(m,k),target:c,"data-discover":!x&&r==="render"?"true":void 0});return j&&!x?y.createElement(y.Fragment,null,E,y.createElement(Vz,{page:w})):E});gu.displayName="Link";var Xz=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:l,children:c,...u},d){let f=pu(s,{relative:u.relative}),h=_i(),m=y.useContext(Sm),{navigator:p,basename:v}=y.useContext(Nn),x=m!=null&&nF(f)&&l===!0,g=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,b=h.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(b=b.toLowerCase(),w=w?w.toLowerCase():null,g=g.toLowerCase()),w&&v&&(w=ja(w,v)||w);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let k=b===g||!a&&b.startsWith(g)&&b.charAt(j)==="/",_=w!=null&&(w===g||!a&&w.startsWith(g)&&w.charAt(g.length)==="/"),N={isActive:k,isPending:_,isTransitioning:x},S=k?t:void 0,E;typeof n=="function"?E=n(N):E=[n,k?"active":null,_?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let T=typeof i=="function"?i(N):i;return y.createElement(gu,{...u,"aria-current":S,className:E,ref:d,style:T,to:s,viewTransition:l},typeof c=="function"?c(N):c)});Xz.displayName="NavLink";var Gz=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:s=pf,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let{unstable_useTransitions:p}=y.useContext(Nn),v=tF(),x=rF(l,{relative:u}),g=s.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&lP.test(l),w=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let k=j.nativeEvent.submitter,_=(k==null?void 0:k.getAttribute("formmethod"))||s,N=()=>v(k||j.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:f});p&&r!==!1?y.startTransition(()=>N()):N()};return y.createElement("form",{ref:m,method:g,action:x,onSubmit:n?c:w,...h,"data-discover":!b&&e==="render"?"true":void 0})});Gz.displayName="Form";function Qz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cP(e){let t=y.useContext(sl);return Xe(t,Qz(e)),t}function Zz(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_useTransitions:l}={}){let c=rP(),u=_i(),d=pu(e,{relative:i});return y.useCallback(f=>{if(Oz(f,t)){f.preventDefault();let h=r!==void 0?r:Tc(u)===Tc(d),m=()=>c(e,{replace:h,state:n,preventScrollReset:a,relative:i,viewTransition:s});l?y.startTransition(()=>m()):m()}},[u,c,d,r,n,t,e,a,i,s,l])}var Jz=0,eF=()=>`__${String(++Jz)}__`;function tF(){let{router:e}=cP("useSubmit"),{basename:t}=y.useContext(Nn),r=xz(),n=e.fetch,a=e.navigate;return y.useCallback(async(i,s={})=>{let{action:l,method:c,encType:u,formData:d,body:f}=Mz(i,t);if(s.navigate===!1){let h=s.fetcherKey||eF();await n(h,r,s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await a(s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,a,t,r])}function rF(e,{relative:t}={}){let{basename:r}=y.useContext(Nn),n=y.useContext(Yn);Xe(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...pu(e||".",{relative:t})},s=_i();if(e==null){i.search=s.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:ma([r,i.pathname])),Tc(i)}function nF(e,{relative:t}={}){let r=y.useContext(JC);Xe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=cP("useViewTransitionState"),a=pu(e,{relative:t});if(!r.isTransitioning)return!1;let i=ja(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=ja(r.nextLocation.pathname,n)||r.nextLocation.pathname;return nh(a.pathname,s)!=null||nh(a.pathname,i)!=null}/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,...u},d)=>y.createElement("svg",{ref:d,...aF,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${iF(e)}`,l].join(" "),...u},[...t.map(([f,h])=>y.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=te("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=te("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=te("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=te("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=te("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=te("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=te("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=te("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=te("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=te("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=te("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=te("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=te("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=te("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=te("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=te("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=te("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=te("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=te("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=te("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=te("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=te("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=te("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=te("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=te("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=te("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=te("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=te("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=te("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=te("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=te("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=te("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=te("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=te("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=te("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=te("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=te("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=te("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=te("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),YF=()=>{const e=_i(),t=r=>e.pathname===r;return o.jsxs("div",{className:"flex h-screen bg-slate-50",children:[o.jsxs("aside",{className:"w-64 bg-slate-900 text-white flex flex-col shrink-0",children:[o.jsxs("div",{className:"p-6 border-b border-slate-800 flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center font-bold text-lg",children:"S"}),o.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Skyulf ML"})]}),o.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[o.jsx(_d,{to:"/",active:t("/"),icon:o.jsx(gP,{size:20}),children:"Dashboard"}),o.jsx(_d,{to:"/canvas",active:t("/canvas"),icon:o.jsx(pP,{size:20}),children:"ML Canvas"}),o.jsx(_d,{to:"/data",active:t("/data"),icon:o.jsx(Si,{size:20}),children:"Data Sources"}),o.jsx(_d,{to:"/deployments",active:t("/deployments"),icon:o.jsx(Fx,{size:20}),children:"Deployments"})]}),o.jsx("div",{className:"p-4 border-t border-slate-800 text-xs text-slate-500",children:"v2.0.0-alpha"})]}),o.jsx("main",{className:"flex-1 overflow-auto",children:o.jsx(kz,{})})]})},_d=({to:e,children:t,active:r,icon:n})=>o.jsxs(gu,{to:e,className:`flex items-center gap-3 px-4 py-3 rounded-md text-sm font-medium transition-colors ${r?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[n,t]});function bP(e,t){return function(){return e.apply(t,arguments)}}const{toString:XF}=Object.prototype,{getPrototypeOf:Hx}=Object,{iterator:Om,toStringTag:wP}=Symbol,Am=(e=>t=>{const r=XF.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),_n=e=>(e=e.toLowerCase(),t=>Am(t)===e),Tm=e=>t=>typeof t===e,{isArray:ll}=Array,Do=Tm("undefined");function xu(e){return e!==null&&!Do(e)&&e.constructor!==null&&!Do(e.constructor)&&pr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const jP=_n("ArrayBuffer");function GF(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&jP(e.buffer),t}const QF=Tm("string"),pr=Tm("function"),kP=Tm("number"),bu=e=>e!==null&&typeof e=="object",ZF=e=>e===!0||e===!1,yf=e=>{if(Am(e)!=="object")return!1;const t=Hx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(wP in e)&&!(Om in e)},JF=e=>{if(!bu(e)||xu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},e6=_n("Date"),t6=_n("File"),r6=_n("Blob"),n6=_n("FileList"),a6=e=>bu(e)&&pr(e.pipe),i6=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||pr(e.append)&&((t=Am(e))==="formdata"||t==="object"&&pr(e.toString)&&e.toString()==="[object FormData]"))},s6=_n("URLSearchParams"),[o6,l6,c6,u6]=["ReadableStream","Request","Response","Headers"].map(_n),d6=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),ll(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(xu(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let l;for(n=0;n<s;n++)l=i[n],t.call(null,e[l],l,e)}}function NP(e,t){if(xu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_P=e=>!Do(e)&&e!==Vi;function g0(){const{caseless:e,skipUndefined:t}=_P(this)&&this||{},r={},n=(a,i)=>{const s=e&&NP(r,i)||i;yf(r[s])&&yf(a)?r[s]=g0(r[s],a):yf(a)?r[s]=g0({},a):ll(a)?r[s]=a.slice():(!t||!Do(a))&&(r[s]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&wu(arguments[a],n);return r}const f6=(e,t,r,{allOwnKeys:n}={})=>(wu(t,(a,i)=>{r&&pr(a)?e[i]=bP(a,r):e[i]=a},{allOwnKeys:n}),e),h6=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),m6=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},p6=(e,t,r,n)=>{let a,i,s;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],(!n||n(s,e,t))&&!l[s]&&(t[s]=e[s],l[s]=!0);e=r!==!1&&Hx(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},g6=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},y6=e=>{if(!e)return null;if(ll(e))return e;let t=e.length;if(!kP(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},v6=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Hx(Uint8Array)),x6=(e,t)=>{const n=(e&&e[Om]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},b6=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},w6=_n("HTMLFormElement"),j6=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Yj=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),k6=_n("RegExp"),SP=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};wu(r,(a,i)=>{let s;(s=t(a,i,e))!==!1&&(n[i]=s||a)}),Object.defineProperties(e,n)},N6=e=>{SP(e,(t,r)=>{if(pr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(pr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_6=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return ll(e)?n(e):n(String(e).split(t)),r},S6=()=>{},E6=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function C6(e){return!!(e&&pr(e.append)&&e[wP]==="FormData"&&e[Om])}const P6=e=>{const t=new Array(10),r=(n,a)=>{if(bu(n)){if(t.indexOf(n)>=0)return;if(xu(n))return n;if(!("toJSON"in n)){t[a]=n;const i=ll(n)?[]:{};return wu(n,(s,l)=>{const c=r(s,a+1);!Do(c)&&(i[l]=c)}),t[a]=void 0,i}}return n};return r(e,0)},O6=_n("AsyncFunction"),A6=e=>e&&(bu(e)||pr(e))&&pr(e.then)&&pr(e.catch),EP=((e,t)=>e?setImmediate:t?((r,n)=>(Vi.addEventListener("message",({source:a,data:i})=>{a===Vi&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Vi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",pr(Vi.postMessage)),T6=typeof queueMicrotask<"u"?queueMicrotask.bind(Vi):typeof process<"u"&&process.nextTick||EP,M6=e=>e!=null&&pr(e[Om]),K={isArray:ll,isArrayBuffer:jP,isBuffer:xu,isFormData:i6,isArrayBufferView:GF,isString:QF,isNumber:kP,isBoolean:ZF,isObject:bu,isPlainObject:yf,isEmptyObject:JF,isReadableStream:o6,isRequest:l6,isResponse:c6,isHeaders:u6,isUndefined:Do,isDate:e6,isFile:t6,isBlob:r6,isRegExp:k6,isFunction:pr,isStream:a6,isURLSearchParams:s6,isTypedArray:v6,isFileList:n6,forEach:wu,merge:g0,extend:f6,trim:d6,stripBOM:h6,inherits:m6,toFlatObject:p6,kindOf:Am,kindOfTest:_n,endsWith:g6,toArray:y6,forEachEntry:x6,matchAll:b6,isHTMLForm:w6,hasOwnProperty:Yj,hasOwnProp:Yj,reduceDescriptors:SP,freezeMethods:N6,toObjectSet:_6,toCamelCase:j6,noop:S6,toFiniteNumber:E6,findKey:NP,global:Vi,isContextDefined:_P,isSpecCompliantForm:C6,toJSONObject:P6,isAsyncFn:O6,isThenable:A6,setImmediate:EP,asap:T6,isIterable:M6};function pe(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}K.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const CP=pe.prototype,PP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{PP[e]={value:e}});Object.defineProperties(pe,PP);Object.defineProperty(CP,"isAxiosError",{value:!0});pe.from=(e,t,r,n,a,i)=>{const s=Object.create(CP);K.toFlatObject(e,s,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return pe.call(s,l,c,r,n,a),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const I6=null;function y0(e){return K.isPlainObject(e)||K.isArray(e)}function OP(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function Xj(e,t,r){return e?e.concat(t).map(function(a,i){return a=OP(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function D6(e){return K.isArray(e)&&!e.some(y0)}const R6=K.toFlatObject(K,{},null,function(t){return/^is[A-Z]/.test(t)});function Mm(e,t,r){if(!K.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=K.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!K.isUndefined(x[v])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(K.isDate(p))return p.toISOString();if(K.isBoolean(p))return p.toString();if(!c&&K.isBlob(p))throw new pe("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(p)||K.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,v,x){let g=p;if(p&&!x&&typeof p=="object"){if(K.endsWith(v,"{}"))v=n?v:v.slice(0,-2),p=JSON.stringify(p);else if(K.isArray(p)&&D6(p)||(K.isFileList(p)||K.endsWith(v,"[]"))&&(g=K.toArray(p)))return v=OP(v),g.forEach(function(w,j){!(K.isUndefined(w)||w===null)&&t.append(s===!0?Xj([v],j,i):s===null?v:v+"[]",u(w))}),!1}return y0(p)?!0:(t.append(Xj(x,v,i),u(p)),!1)}const f=[],h=Object.assign(R6,{defaultVisitor:d,convertValue:u,isVisitable:y0});function m(p,v){if(!K.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(p),K.forEach(p,function(g,b){(!(K.isUndefined(g)||g===null)&&a.call(t,g,K.isString(b)?b.trim():b,v,h))===!0&&m(g,v?v.concat(b):[b])}),f.pop()}}if(!K.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Gj(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Vx(e,t){this._pairs=[],e&&Mm(e,this,t)}const AP=Vx.prototype;AP.append=function(t,r){this._pairs.push([t,r])};AP.toString=function(t){const r=t?function(n){return t.call(this,n,Gj)}:Gj;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function L6(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function TP(e,t,r){if(!t)return e;const n=r&&r.encode||L6;K.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=K.isURLSearchParams(t)?t.toString():new Vx(t,r).toString(n),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Qj{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){K.forEach(this.handlers,function(n){n!==null&&t(n)})}}const MP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$6=typeof URLSearchParams<"u"?URLSearchParams:Vx,z6=typeof FormData<"u"?FormData:null,F6=typeof Blob<"u"?Blob:null,B6={isBrowser:!0,classes:{URLSearchParams:$6,FormData:z6,Blob:F6},protocols:["http","https","file","blob","url","data"]},Wx=typeof window<"u"&&typeof document<"u",v0=typeof navigator=="object"&&navigator||void 0,U6=Wx&&(!v0||["ReactNative","NativeScript","NS"].indexOf(v0.product)<0),H6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",V6=Wx&&window.location.href||"http://localhost",W6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wx,hasStandardBrowserEnv:U6,hasStandardBrowserWebWorkerEnv:H6,navigator:v0,origin:V6},Symbol.toStringTag,{value:"Module"})),Bt={...W6,...B6};function K6(e,t){return Mm(e,new Bt.classes.URLSearchParams,{visitor:function(r,n,a,i){return Bt.isNode&&K.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function q6(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Y6(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function IP(e){function t(r,n,a,i){let s=r[i++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=i>=r.length;return s=!s&&K.isArray(a)?a.length:s,c?(K.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!l):((!a[s]||!K.isObject(a[s]))&&(a[s]=[]),t(r,n,a[s],i)&&K.isArray(a[s])&&(a[s]=Y6(a[s])),!l)}if(K.isFormData(e)&&K.isFunction(e.entries)){const r={};return K.forEachEntry(e,(n,a)=>{t(q6(n),a,r,0)}),r}return null}function X6(e,t,r){if(K.isString(e))try{return(t||JSON.parse)(e),K.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ju={transitional:MP,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=K.isObject(t);if(i&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return a?JSON.stringify(IP(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)||K.isReadableStream(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return K6(t,this.formSerializer).toString();if((l=K.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Mm(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),X6(t)):t}],transformResponse:[function(t){const r=this.transitional||ju.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(K.isResponse(t)||K.isReadableStream(t))return t;if(t&&K.isString(t)&&(n&&!this.responseType||a)){const s=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(s)throw l.name==="SyntaxError"?pe.from(l,pe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bt.classes.FormData,Blob:Bt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],e=>{ju.headers[e]={}});const G6=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Q6=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),r=s.substring(0,a).trim().toLowerCase(),n=s.substring(a+1).trim(),!(!r||t[r]&&G6[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Zj=Symbol("internals");function Tl(e){return e&&String(e).trim().toLowerCase()}function vf(e){return e===!1||e==null?e:K.isArray(e)?e.map(vf):String(e)}function Z6(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const J6=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kg(e,t,r,n,a){if(K.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!K.isString(t)){if(K.isString(n))return t.indexOf(n)!==-1;if(K.isRegExp(n))return n.test(t)}}function e8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function t8(e,t){const r=K.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,s){return this[n].call(this,t,a,i,s)},configurable:!0})})}let gr=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,c,u){const d=Tl(c);if(!d)throw new Error("header name must be a non-empty string");const f=K.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=vf(l))}const s=(l,c)=>K.forEach(l,(u,d)=>i(u,d,c));if(K.isPlainObject(t)||t instanceof this.constructor)s(t,r);else if(K.isString(t)&&(t=t.trim())&&!J6(t))s(Q6(t),r);else if(K.isObject(t)&&K.isIterable(t)){let l={},c,u;for(const d of t){if(!K.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?K.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}s(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Tl(t),t){const n=K.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Z6(a);if(K.isFunction(r))return r.call(this,a,n);if(K.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Tl(t),t){const n=K.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||kg(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(s){if(s=Tl(s),s){const l=K.findKey(n,s);l&&(!r||kg(n,n[l],l,r))&&(delete n[l],a=!0)}}return K.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||kg(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return K.forEach(this,(a,i)=>{const s=K.findKey(n,i);if(s){r[s]=vf(a),delete r[i];return}const l=t?e8(i):String(i).trim();l!==i&&delete r[i],r[l]=vf(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return K.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&K.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Zj]=this[Zj]={accessors:{}}).accessors,a=this.prototype;function i(s){const l=Tl(s);n[l]||(t8(a,s),n[l]=!0)}return K.isArray(t)?t.forEach(i):i(t),this}};gr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(gr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});K.freezeMethods(gr);function Ng(e,t){const r=this||ju,n=t||r,a=gr.from(n.headers);let i=n.data;return K.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function DP(e){return!!(e&&e.__CANCEL__)}function cl(e,t,r){pe.call(this,e??"canceled",pe.ERR_CANCELED,t,r),this.name="CanceledError"}K.inherits(cl,pe,{__CANCEL__:!0});function RP(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new pe("Request failed with status code "+r.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function r8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function n8(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,s;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];s||(s=u),r[a]=c,n[a]=u;let f=i,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-s<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function a8(e,t){let r=0,n=1e3/t,a,i;const s=(u,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?s(u,d):(a=u,i||(i=setTimeout(()=>{i=null,s(a)},n-f)))},()=>a&&s(a)]}const ih=(e,t,r=3)=>{let n=0;const a=n8(50,250);return a8(i=>{const s=i.loaded,l=i.lengthComputable?i.total:void 0,c=s-n,u=a(c),d=s<=l;n=s;const f={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-s)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},Jj=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},ek=e=>(...t)=>K.asap(()=>e(...t)),i8=Bt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Bt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Bt.origin),Bt.navigator&&/(msie|trident)/i.test(Bt.navigator.userAgent)):()=>!0,s8=Bt.hasStandardBrowserEnv?{write(e,t,r,n,a,i,s){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];K.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),K.isString(n)&&l.push(`path=${n}`),K.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),K.isString(s)&&l.push(`SameSite=${s}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function o8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function l8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function LP(e,t,r){let n=!o8(t);return e&&(n||r==!1)?l8(e,t):t}const tk=e=>e instanceof gr?{...e}:e;function vs(e,t){t=t||{};const r={};function n(u,d,f,h){return K.isPlainObject(u)&&K.isPlainObject(d)?K.merge.call({caseless:h},u,d):K.isPlainObject(d)?K.merge({},d):K.isArray(d)?d.slice():d}function a(u,d,f,h){if(K.isUndefined(d)){if(!K.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function i(u,d){if(!K.isUndefined(d))return n(void 0,d)}function s(u,d){if(K.isUndefined(d)){if(!K.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(u,d,f)=>a(tk(u),tk(d),f,!0)};return K.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);K.isUndefined(h)&&f!==l||(r[d]=h)}),r}const $P=e=>{const t=vs({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:l}=t;if(t.headers=s=gr.from(s),t.url=TP(LP(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),K.isFormData(r)){if(Bt.hasStandardBrowserEnv||Bt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(K.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&s.set(d,f)})}}if(Bt.hasStandardBrowserEnv&&(n&&K.isFunction(n)&&(n=n(t)),n||n!==!1&&i8(t.url))){const c=a&&i&&s8.read(i);c&&s.set(a,c)}return t},c8=typeof XMLHttpRequest<"u",u8=c8&&function(e){return new Promise(function(r,n){const a=$P(e);let i=a.data;const s=gr.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,p;function v(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function g(){if(!x)return;const w=gr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:e,request:x};RP(function(N){r(N),v()},function(N){n(N),v()},k),x=null}"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(g)},x.onabort=function(){x&&(n(new pe("Request aborted",pe.ECONNABORTED,e,x)),x=null)},x.onerror=function(j){const k=j&&j.message?j.message:"Network Error",_=new pe(k,pe.ERR_NETWORK,e,x);_.event=j||null,n(_),x=null},x.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||MP;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new pe(j,k.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,e,x)),x=null},i===void 0&&s.setContentType(null),"setRequestHeader"in x&&K.forEach(s.toJSON(),function(j,k){x.setRequestHeader(k,j)}),K.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),u&&([h,p]=ih(u,!0),x.addEventListener("progress",h)),c&&x.upload&&([f,m]=ih(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=w=>{x&&(n(!w||w.type?new cl(null,e,x):w),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=r8(a.url);if(b&&Bt.protocols.indexOf(b)===-1){n(new pe("Unsupported protocol "+b+":",pe.ERR_BAD_REQUEST,e));return}x.send(i||null)})},d8=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof pe?d:new cl(d instanceof Error?d.message:d))}};let s=t&&setTimeout(()=>{s=null,i(new pe(`timeout ${t} of ms exceeded`,pe.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>K.asap(l),c}},f8=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},h8=async function*(e,t){for await(const r of m8(e))yield*f8(r,t)},m8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},rk=(e,t,r,n)=>{const a=h8(e,t);let i=0,s,l=c=>{s||(s=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=i+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},nk=64*1024,{isFunction:Sd}=K,p8=(({Request:e,Response:t})=>({Request:e,Response:t}))(K.global),{ReadableStream:ak,TextEncoder:ik}=K.global,sk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},g8=e=>{e=K.merge.call({skipUndefined:!0},p8,e);const{fetch:t,Request:r,Response:n}=e,a=t?Sd(t):typeof fetch=="function",i=Sd(r),s=Sd(n);if(!a)return!1;const l=a&&Sd(ak),c=a&&(typeof ik=="function"?(p=>v=>p.encode(v))(new ik):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=i&&l&&sk(()=>{let p=!1;const v=new r(Bt.origin,{body:new ak,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),d=s&&l&&sk(()=>K.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(v,x)=>{let g=v&&v[p];if(g)return g.call(v);throw new pe(`Response type '${p}' is not supported`,pe.ERR_NOT_SUPPORT,x)})});const h=async p=>{if(p==null)return 0;if(K.isBlob(p))return p.size;if(K.isSpecCompliantForm(p))return(await new r(Bt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(K.isArrayBufferView(p)||K.isArrayBuffer(p))return p.byteLength;if(K.isURLSearchParams(p)&&(p=p+""),K.isString(p))return(await c(p)).byteLength},m=async(p,v)=>{const x=K.toFiniteNumber(p.getContentLength());return x??h(v)};return async p=>{let{url:v,method:x,data:g,signal:b,cancelToken:w,timeout:j,onDownloadProgress:k,onUploadProgress:_,responseType:N,headers:S,withCredentials:E="same-origin",fetchOptions:T}=$P(p),O=t||fetch;N=N?(N+"").toLowerCase():"text";let P=d8([b,w&&w.toAbortSignal()],j),L=null;const C=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let D;try{if(_&&u&&x!=="get"&&x!=="head"&&(D=await m(S,g))!==0){let H=new r(v,{method:"POST",body:g,duplex:"half"}),B;if(K.isFormData(g)&&(B=H.headers.get("content-type"))&&S.setContentType(B),H.body){const[X,q]=Jj(D,ih(ek(_)));g=rk(H.body,nk,X,q)}}K.isString(E)||(E=E?"include":"omit");const I=i&&"credentials"in r.prototype,R={...T,signal:P,method:x.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:I?E:void 0};L=i&&new r(v,R);let A=await(i?O(L,T):O(v,R));const M=d&&(N==="stream"||N==="response");if(d&&(k||M&&C)){const H={};["status","statusText","headers"].forEach(J=>{H[J]=A[J]});const B=K.toFiniteNumber(A.headers.get("content-length")),[X,q]=k&&Jj(B,ih(ek(k),!0))||[];A=new n(rk(A.body,nk,X,()=>{q&&q(),C&&C()}),H)}N=N||"text";let z=await f[K.findKey(f,N)||"text"](A,p);return!M&&C&&C(),await new Promise((H,B)=>{RP(H,B,{data:z,headers:gr.from(A.headers),status:A.status,statusText:A.statusText,config:p,request:L})})}catch(I){throw C&&C(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,p,L),{cause:I.cause||I}):pe.from(I,I&&I.code,p,L)}}},y8=new Map,zP=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let s=i.length,l=s,c,u,d=y8;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:g8(t)),d=u;return u};zP();const Kx={http:I6,xhr:u8,fetch:{get:zP}};K.forEach(Kx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ok=e=>`- ${e}`,v8=e=>K.isFunction(e)||e===null||e===!1;function x8(e,t){e=K.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let s=0;s<r;s++){n=e[s];let l;if(a=n,!v8(n)&&(a=Kx[(l=String(n)).toLowerCase()],a===void 0))throw new pe(`Unknown adapter '${l}'`);if(a&&(K.isFunction(a)||(a=a.get(t))))break;i[l||"#"+s]=a}if(!a){const s=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?s.length>1?`since :
`+s.map(ok).join(`
`):" "+ok(s[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const FP={getAdapter:x8,adapters:Kx};function _g(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cl(null,e)}function lk(e){return _g(e),e.headers=gr.from(e.headers),e.data=Ng.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),FP.getAdapter(e.adapter||ju.adapter,e)(e).then(function(n){return _g(e),n.data=Ng.call(e,e.transformResponse,n),n.headers=gr.from(n.headers),n},function(n){return DP(n)||(_g(e),n&&n.response&&(n.response.data=Ng.call(e,e.transformResponse,n.response),n.response.headers=gr.from(n.response.headers))),Promise.reject(n)})}const BP="1.13.2",Im={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Im[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ck={};Im.transitional=function(t,r,n){function a(i,s){return"[Axios v"+BP+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return(i,s,l)=>{if(t===!1)throw new pe(a(s," has been removed"+(r?" in "+r:"")),pe.ERR_DEPRECATED);return r&&!ck[s]&&(ck[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,s,l):!0}};Im.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function b8(e,t,r){if(typeof e!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],s=t[i];if(s){const l=e[i],c=l===void 0||s(l,i,e);if(c!==!0)throw new pe("option "+i+" must be "+c,pe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new pe("Unknown option "+i,pe.ERR_BAD_OPTION)}}const xf={assertOptions:b8,validators:Im},On=xf.validators;let ss=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Qj,response:new Qj}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=vs(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&xf.assertOptions(n,{silentJSONParsing:On.transitional(On.boolean),forcedJSONParsing:On.transitional(On.boolean),clarifyTimeoutError:On.transitional(On.boolean)},!1),a!=null&&(K.isFunction(a)?r.paramsSerializer={serialize:a}:xf.assertOptions(a,{encode:On.function,serialize:On.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),xf.assertOptions(r,{baseUrl:On.spelling("baseURL"),withXsrfToken:On.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=i&&K.merge(i.common,i[r.method]);i&&K.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=gr.concat(s,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,h;if(!c){const p=[lk.bind(this),void 0];for(p.unshift(...l),p.push(...u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=l.length;let m=r;for(;f<h;){const p=l[f++],v=l[f++];try{m=p(m)}catch(x){v.call(this,x);break}}try{d=lk.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=vs(this.defaults,t);const r=LP(t.baseURL,t.url,t.allowAbsoluteUrls);return TP(r,t.params,t.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(t){ss.prototype[t]=function(r,n){return this.request(vs(n||{},{method:t,url:r,data:(n||{}).data}))}});K.forEach(["post","put","patch"],function(t){function r(n){return function(i,s,l){return this.request(vs(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}ss.prototype[t]=r(),ss.prototype[t+"Form"]=r(!0)});let w8=class UP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(l=>{n.subscribe(l),i=l}).then(a);return s.cancel=function(){n.unsubscribe(i)},s},t(function(i,s,l){n.reason||(n.reason=new cl(i,s,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new UP(function(a){t=a}),cancel:t}}};function j8(e){return function(r){return e.apply(null,r)}}function k8(e){return K.isObject(e)&&e.isAxiosError===!0}const x0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(x0).forEach(([e,t])=>{x0[t]=e});function HP(e){const t=new ss(e),r=bP(ss.prototype.request,t);return K.extend(r,ss.prototype,t,{allOwnKeys:!0}),K.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return HP(vs(e,a))},r}const tt=HP(ju);tt.Axios=ss;tt.CanceledError=cl;tt.CancelToken=w8;tt.isCancel=DP;tt.VERSION=BP;tt.toFormData=Mm;tt.AxiosError=pe;tt.Cancel=tt.CanceledError;tt.all=function(t){return Promise.all(t)};tt.spread=j8;tt.isAxiosError=k8;tt.mergeConfig=vs;tt.AxiosHeaders=gr;tt.formToJSON=e=>IP(K.isHTMLForm(e)?new FormData(e):e);tt.getAdapter=FP.getAdapter;tt.HttpStatusCode=x0;tt.default=tt;const{Axios:qde,AxiosError:Yde,CanceledError:Xde,isCancel:Gde,CancelToken:Qde,VERSION:Zde,all:Jde,Cancel:efe,isAxiosError:tfe,spread:rfe,toFormData:nfe,AxiosHeaders:afe,HttpStatusCode:ife,formToJSON:sfe,getAdapter:ofe,mergeConfig:lfe}=tt,N8="/api",st=tt.create({baseURL:N8,headers:{"Content-Type":"application/json"}}),_8=async e=>(await st.post("/pipeline/preview",e)).data,S8=async e=>(await st.get(`/pipeline/datasets/${e}/schema`)).data,E8=async(e,t)=>(await st.post(`/pipeline/save/${e}`,t)).data,C8=async e=>{const t=await st.get(`/pipeline/load/${e}`);return t.data?t.data:null},P8=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{const[i]=await Promise.all([st.get("/pipeline/stats")]);t(i.data)}catch(i){console.error("Failed to fetch dashboard data:",i)}finally{n(!1)}})()},[]),o.jsxs("div",{className:"p-8 space-y-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Dashboard"}),o.jsx(gu,{to:"/canvas",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"New Experiment"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(Sg,{title:"Total Jobs",value:(e==null?void 0:e.total_jobs)??"-",loading:r,subtext:`${(e==null?void 0:e.training_jobs)??0} Training, ${(e==null?void 0:e.tuning_jobs)??0} Tuning`}),o.jsx(Sg,{title:"Active Deployments",value:(e==null?void 0:e.active_deployments)??"-",loading:r,color:"text-green-600 dark:text-green-400"}),o.jsx(Sg,{title:"Data Sources",value:(e==null?void 0:e.data_sources)??"-",loading:r})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-900 dark:text-slate-100",children:"Recent Activity"}),o.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Job history list will appear here..."})]})]})},Sg=({title:e,value:t,loading:r,subtext:n,color:a="text-slate-900 dark:text-slate-100"})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),o.jsx("div",{className:`mt-2 text-3xl font-bold ${a}`,children:r?"...":t}),n&&o.jsx("div",{className:"mt-1 text-xs text-slate-400 dark:text-slate-500",children:n})]}),Ed="/data/api",xs={getAll:async()=>{const e=await fetch(`${Ed}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getById:async e=>{const t=await fetch(`${Ed}/sources/${e}`);if(!t.ok)throw new Error("Failed to fetch dataset");return(await t.json()).source},getSample:async(e,t=1)=>{const r=await fetch(`${Ed}/sources/${e}/sample?limit=${t}`);if(!r.ok)throw new Error("Failed to fetch dataset sample");return(await r.json()).data},delete:async e=>{if(!(await fetch(`${Ed}/sources/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete dataset")},getProfile:async e=>{const t=await fetch(`/ml-workflow/api/analytics/quick-profile?dataset_source_id=${e}`);if(!t.ok)throw new Error("Failed to fetch dataset profile");return await t.json()}},VP=({onUploadComplete:e,onCancel:t})=>{const[r,n]=y.useState(!1),[a,i]=y.useState(!1),[s,l]=y.useState(null),[c,u]=y.useState(0),d=y.useCallback(p=>{p.preventDefault(),p.stopPropagation(),p.type==="dragenter"||p.type==="dragover"?n(!0):p.type==="dragleave"&&n(!1)},[]),f=y.useCallback(p=>{p.preventDefault(),p.stopPropagation(),n(!1),p.dataTransfer.files&&p.dataTransfer.files[0]&&m(p.dataTransfer.files[0])},[]),h=p=>{p.preventDefault(),p.target.files&&p.target.files[0]&&m(p.target.files[0])},m=async p=>{var x,g,b,w;i(!0),l(null),u(0);const v=new FormData;v.append("file",p);try{const j=await tt.post("/data/api/upload",v,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:k=>{const _=Math.round(k.loaded*100/(k.total||1));u(_)}});if(j.data&&j.data.success){const k=j.data.source_id,_=((x=j.data.file_info)==null?void 0:x.filename)||p.name;e(k,_)}else throw new Error(((g=j.data)==null?void 0:g.message)||"Upload failed")}catch(j){console.error("Upload failed:",j),l(((w=(b=j.response)==null?void 0:b.data)==null?void 0:w.detail)||j.message||"Failed to upload file. Please try again.")}finally{i(!1)}};return o.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-900 dark:border-slate-700 relative",children:[o.jsx("button",{onClick:t,className:"absolute top-2 right-2 p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full text-slate-500 dark:text-slate-400",children:o.jsx(Gr,{size:16})}),o.jsxs("h3",{className:"font-medium mb-4 flex items-center gap-2 text-slate-900 dark:text-slate-100",children:[o.jsx(WF,{size:18,className:"text-blue-600 dark:text-blue-400"}),"Upload New Dataset"]}),o.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-slate-300 dark:border-slate-700 hover:border-slate-400 dark:hover:border-slate-600"}`,onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:f,children:a?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Uploading... ",c,"%"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(xF,{className:"w-10 h-10 text-slate-400 dark:text-slate-500 mx-auto mb-3"}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:["Drag and drop your file here, or"," ",o.jsxs("label",{className:"text-blue-600 dark:text-blue-400 hover:underline cursor-pointer font-medium",children:["browse",o.jsx("input",{type:"file",className:"hidden",accept:".csv,.xlsx,.parquet,.json",onChange:h})]})]}),o.jsx("p",{className:"text-xs text-slate-400",children:"Supports CSV, Excel, Parquet, JSON"})]})}),s&&o.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 text-sm rounded-md flex items-start gap-2",children:[o.jsx(ka,{size:16,className:"mt-0.5 shrink-0"}),o.jsx("span",{children:s})]})]})},WP=(e,t=2)=>{if(!+e)return"0 Bytes";const r=1024,n=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,i)).toFixed(n))} ${a[i]}`},O8=({dataset:e,isOpen:t,onClose:r})=>{const[n,a]=y.useState([]),[i,s]=y.useState(null),[l,c]=y.useState(!1),[u,d]=y.useState(null),[f,h]=y.useState("sample");y.useEffect(()=>{t&&e?m():(a([]),s(null),d(null),h("sample"))},[t,e]);const m=async()=>{if(e){c(!0),d(null);try{const[b,w]=await Promise.all([xs.getSample(e.id,10),xs.getProfile(e.id)]);a(b),s(w)}catch(b){console.error("Failed to fetch data:",b),d("Failed to load dataset preview.")}finally{c(!1)}}};if(!t||!e)return null;const p=n.length>0?Object.keys(n[0]):[],v=(i==null?void 0:i.metrics.row_count)??e.rows??0,x=(i==null?void 0:i.metrics.column_count)??e.columns??0,g=e.size_bytes??0;return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400",children:o.jsx(Si,{size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:e.name}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 dark:text-slate-400 mt-1",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(zx,{size:14})," ",e.format||"CSV"]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(sF,{size:14})," ",v.toLocaleString()," rows"]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(pF,{size:14})," ",x," columns"]}),o.jsx("span",{children:""}),o.jsx("span",{children:WP(g)})]})]})]}),o.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:o.jsx(Gr,{size:20})})]}),o.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-6",children:[o.jsx("button",{onClick:()=>h("sample"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="sample"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Data Sample"}),o.jsx("button",{onClick:()=>h("stats"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="stats"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Statistics"})]}),o.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),o.jsx("p",{children:"Loading preview data..."})]}):u?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx("p",{children:u}),o.jsx("button",{onClick:m,className:"mt-4 px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 rounded-md text-sm font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Retry"})]}):f==="sample"?n.length===0?o.jsx("div",{className:"text-center py-12 text-slate-500",children:"No data available to preview."}):p.length===0?o.jsx("div",{className:"text-center py-12 text-slate-500",children:"Data loaded but no columns found."}):o.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsx("tr",{children:p.map(b=>o.jsx("th",{className:"px-4 py-3 font-semibold whitespace-nowrap",children:b},b))})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n.map((b,w)=>o.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:p.map(j=>o.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700 dark:text-slate-300",children:String(b[j]??"")},`${w}-${j}`))},w))})]})}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 px-4 py-2 text-xs text-slate-500 border-t border-slate-200 dark:border-slate-700 text-center",children:["Showing first ",n.length," rows"]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Cd,{label:"Total Rows",value:i==null?void 0:i.metrics.row_count.toLocaleString()}),o.jsx(Cd,{label:"Total Columns",value:i==null?void 0:i.metrics.column_count}),o.jsx(Cd,{label:"Missing Cells",value:i==null?void 0:i.metrics.missing_cells.toLocaleString()}),o.jsx(Cd,{label:"Missing %",value:`${i==null?void 0:i.metrics.missing_percentage}%`})]}),o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Column"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Type"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Missing"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Unique"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Min"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Max"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Mean"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Std Dev"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:i==null?void 0:i.columns.map(b=>{var w,j,k,_,N,S,E,T;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-slate-900 dark:text-slate-100",children:b.name}),o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-500",children:b.dtype}),o.jsxs("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:[b.missing_count," ",o.jsxs("span",{className:"text-xs text-slate-400",children:["(",b.missing_percentage,"%)"]})]}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:b.distinct_count}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((j=(w=b.numeric_summary)==null?void 0:w.minimum)==null?void 0:j.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((_=(k=b.numeric_summary)==null?void 0:k.maximum)==null?void 0:_.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((S=(N=b.numeric_summary)==null?void 0:N.mean)==null?void 0:S.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((T=(E=b.numeric_summary)==null?void 0:E.std)==null?void 0:T.toFixed(2))??"-"})]},b.name)})})]})})]})}),o.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 flex justify-end rounded-b-xl",children:o.jsx("button",{onClick:r,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})},Cd=({label:e,value:t})=>o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:e}),o.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mt-1",children:t??"-"})]}),A8=()=>{const e=rP(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,s]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(null),f=async()=>{a(!0);try{const v=await xs.getAll();r(v)}catch(v){console.error("Failed to fetch datasets:",v)}finally{a(!1)}};y.useEffect(()=>{f()},[]);const h=async v=>{if(window.confirm("Are you sure you want to delete this dataset?")){c(v);try{await xs.delete(v),r(t.filter(x=>x.id!==v))}catch(x){console.error("Failed to delete dataset:",x),alert("Failed to delete dataset")}finally{c(null)}}},m=v=>{e(`/canvas?source_id=${v}`)},p=()=>{s(!1),f()};return o.jsxs("div",{className:"p-8 space-y-6 max-w-7xl mx-auto",children:[o.jsx(O8,{dataset:u,isOpen:!!u,onClose:()=>d(null)}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Data Sources"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your uploaded datasets and use them in experiments."})]}),o.jsxs("button",{onClick:()=>s(!i),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx(Ts,{size:18}),i?"Cancel Upload":"Upload New Dataset"]})]}),i&&o.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm animate-in fade-in slide-in-from-top-4",children:o.jsx(VP,{onUploadComplete:p,onCancel:()=>s(!1)})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Dataset Name"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Format"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Size"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Created"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500 dark:text-slate-400",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),"Loading datasets..."]})})}):t.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:[o.jsx(Si,{className:"w-12 h-12 mx-auto text-slate-300 dark:text-slate-600 mb-3"}),o.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets found"}),o.jsx("p",{className:"text-sm",children:"Upload a dataset to get started with your analysis."})]})}):t.map(v=>{var x;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-blue-600 dark:text-blue-400",children:o.jsx(zx,{size:18})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:v.name}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono mt-0.5",children:v.id})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 uppercase border border-slate-200 dark:border-slate-700",children:v.format||"CSV"})}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:WP(v.size_bytes||0)}),o.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:[((x=v.rows)==null?void 0:x.toLocaleString())||"-"," rows  ",v.columns||"-"," cols"]})]})}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fP,{size:14,className:"text-slate-400 dark:text-slate-500"}),new Date(v.created_at).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>d(v),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Preview Dataset",children:o.jsx(vF,{size:16})}),o.jsxs("button",{onClick:()=>m(v.id),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Use in Canvas",children:[o.jsx(vu,{size:16}),"Canvas"]}),o.jsx("button",{onClick:()=>h(v.id),disabled:l===v.id,className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors disabled:opacity-50",title:"Delete Dataset",children:l===v.id?o.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):o.jsx(Ei,{size:16})})]})})]},v.id)})})]})})})]})},zi=class zi{constructor(){jl(this,"nodes",new Map)}static getInstance(){return zi.instance||(zi.instance=new zi),zi.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t),console.log(`[Registry] Registered node: ${t.label} (${t.type})`)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(r=>{t[r.category]||(t[r.category]=[]),t[r.category].push(r)}),t}};jl(zi,"instance");let b0=zi;const ke=b0.getInstance(),T8={},uk=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(p=>p(t,m))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(T8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},KP=e=>e?uk(e):uk;var qP={exports:{}},YP={},XP={exports:{}},GP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=y;function M8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I8=typeof Object.is=="function"?Object.is:M8,D8=Ro.useState,R8=Ro.useEffect,L8=Ro.useLayoutEffect,$8=Ro.useDebugValue;function z8(e,t){var r=t(),n=D8({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return L8(function(){a.value=r,a.getSnapshot=t,Eg(a)&&i({inst:a})},[e,r,t]),R8(function(){return Eg(a)&&i({inst:a}),e(function(){Eg(a)&&i({inst:a})})},[e]),$8(r),r}function Eg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!I8(e,r)}catch{return!0}}function F8(e,t){return t()}var B8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?F8:z8;GP.useSyncExternalStore=Ro.useSyncExternalStore!==void 0?Ro.useSyncExternalStore:B8;XP.exports=GP;var U8=XP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=y,H8=U8;function V8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var W8=typeof Object.is=="function"?Object.is:V8,K8=H8.useSyncExternalStore,q8=Dm.useRef,Y8=Dm.useEffect,X8=Dm.useMemo,G8=Dm.useDebugValue;YP.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=q8(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=X8(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&s.hasValue){var p=s.value;if(a(p,m))return f=p}return f=m}if(p=f,W8(d,m))return p;var v=n(m);return a!==void 0&&a(p,v)?(d=m,p):(d=m,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=K8(e,i[0],i[1]);return Y8(function(){s.hasValue=!0,s.value=l},[l]),G8(l),l};qP.exports=YP;var QP=qP.exports;const ZP=qn(QP),JP={},{useDebugValue:Q8}=Vr,{useSyncExternalStoreWithSelector:Z8}=ZP;let dk=!1;const J8=e=>e;function eB(e,t=J8,r){(JP?"production":void 0)!=="production"&&r&&!dk&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),dk=!0);const n=Z8(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Q8(n),n}const fk=e=>{(JP?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?KP(e):e,r=(n,a)=>eB(t,n,a);return Object.assign(r,t),r},qx=e=>e?fk(e):fk;function ut(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=ut(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var tB={value:()=>{}};function Rm(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new bf(r)}function bf(e){this._=e}function rB(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}bf.prototype=Rm.prototype={constructor:bf,on:function(e,t){var r=this._,n=rB(e+"",r),a,i=-1,s=n.length;if(arguments.length<2){for(;++i<s;)if((a=(e=n[i]).type)&&(a=nB(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(a=(e=n[i]).type)r[a]=hk(r[a],e.name,t);else if(t==null)for(a in r)r[a]=hk(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new bf(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,i;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,i=n.length;a<i;++a)n[a].value.apply(t,r)}};function nB(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function hk(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=tB,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var w0="http://www.w3.org/1999/xhtml";const mk={svg:"http://www.w3.org/2000/svg",xhtml:w0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lm(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),mk.hasOwnProperty(t)?{space:mk[t],local:e}:e}function aB(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===w0&&t.documentElement.namespaceURI===w0?t.createElement(e):t.createElementNS(r,e)}}function iB(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function eO(e){var t=Lm(e);return(t.local?iB:aB)(t)}function sB(){}function Yx(e){return e==null?sB:function(){return this.querySelector(e)}}function oB(e){typeof e!="function"&&(e=Yx(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],s=i.length,l=n[a]=new Array(s),c,u,d=0;d<s;++d)(c=i[d])&&(u=e.call(c,c.__data__,d,i))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Pr(n,this._parents)}function lB(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function cB(){return[]}function tO(e){return e==null?cB:function(){return this.querySelectorAll(e)}}function uB(e){return function(){return lB(e.apply(this,arguments))}}function dB(e){typeof e=="function"?e=uB(e):e=tO(e);for(var t=this._groups,r=t.length,n=[],a=[],i=0;i<r;++i)for(var s=t[i],l=s.length,c,u=0;u<l;++u)(c=s[u])&&(n.push(e.call(c,c.__data__,u,s)),a.push(c));return new Pr(n,a)}function rO(e){return function(){return this.matches(e)}}function nO(e){return function(t){return t.matches(e)}}var fB=Array.prototype.find;function hB(e){return function(){return fB.call(this.children,e)}}function mB(){return this.firstElementChild}function pB(e){return this.select(e==null?mB:hB(typeof e=="function"?e:nO(e)))}var gB=Array.prototype.filter;function yB(){return Array.from(this.children)}function vB(e){return function(){return gB.call(this.children,e)}}function xB(e){return this.selectAll(e==null?yB:vB(typeof e=="function"?e:nO(e)))}function bB(e){typeof e!="function"&&(e=rO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],s=i.length,l=n[a]=[],c,u=0;u<s;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new Pr(n,this._parents)}function aO(e){return new Array(e.length)}function wB(){return new Pr(this._enter||this._groups.map(aO),this._parents)}function sh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}sh.prototype={constructor:sh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function jB(e){return function(){return e}}function kB(e,t,r,n,a,i){for(var s=0,l,c=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],n[s]=l):r[s]=new sh(e,i[s]);for(;s<c;++s)(l=t[s])&&(a[s]=l)}function NB(e,t,r,n,a,i,s){var l,c,u=new Map,d=t.length,f=i.length,h=new Array(d),m;for(l=0;l<d;++l)(c=t[l])&&(h[l]=m=s.call(c,c.__data__,l,t)+"",u.has(m)?a[l]=c:u.set(m,c));for(l=0;l<f;++l)m=s.call(e,i[l],l,i)+"",(c=u.get(m))?(n[l]=c,c.__data__=i[l],u.delete(m)):r[l]=new sh(e,i[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(h[l])===c&&(a[l]=c)}function _B(e){return e.__data__}function SB(e,t){if(!arguments.length)return Array.from(this,_B);var r=t?NB:kB,n=this._parents,a=this._groups;typeof e!="function"&&(e=jB(e));for(var i=a.length,s=new Array(i),l=new Array(i),c=new Array(i),u=0;u<i;++u){var d=n[u],f=a[u],h=f.length,m=EB(e.call(d,d&&d.__data__,u,n)),p=m.length,v=l[u]=new Array(p),x=s[u]=new Array(p),g=c[u]=new Array(h);r(d,f,v,x,g,m,t);for(var b=0,w=0,j,k;b<p;++b)if(j=v[b]){for(b>=w&&(w=b+1);!(k=x[w])&&++w<p;);j._next=k||null}}return s=new Pr(s,n),s._enter=l,s._exit=c,s}function EB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CB(){return new Pr(this._exit||this._groups.map(aO),this._parents)}function PB(e,t,r){var n=this.enter(),a=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?i.remove():r(i),n&&a?n.merge(a).order():a}function OB(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,i=n.length,s=Math.min(a,i),l=new Array(a),c=0;c<s;++c)for(var u=r[c],d=n[c],f=u.length,h=l[c]=new Array(f),m,p=0;p<f;++p)(m=u[p]||d[p])&&(h[p]=m);for(;c<a;++c)l[c]=r[c];return new Pr(l,this._parents)}function AB(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,i=n[a],s;--a>=0;)(s=n[a])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function TB(e){e||(e=MB);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var r=this._groups,n=r.length,a=new Array(n),i=0;i<n;++i){for(var s=r[i],l=s.length,c=a[i]=new Array(l),u,d=0;d<l;++d)(u=s[d])&&(c[d]=u);c.sort(t)}return new Pr(a,this._parents).order()}function MB(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function IB(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function DB(){return Array.from(this)}function RB(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length;a<i;++a){var s=n[a];if(s)return s}return null}function LB(){let e=0;for(const t of this)++e;return e}function $B(){return!this.node()}function zB(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],i=0,s=a.length,l;i<s;++i)(l=a[i])&&e.call(l,l.__data__,i,a);return this}function FB(e){return function(){this.removeAttribute(e)}}function BB(e){return function(){this.removeAttributeNS(e.space,e.local)}}function UB(e,t){return function(){this.setAttribute(e,t)}}function HB(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function VB(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function WB(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function KB(e,t){var r=Lm(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?BB:FB:typeof t=="function"?r.local?WB:VB:r.local?HB:UB)(r,t))}function iO(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qB(e){return function(){this.style.removeProperty(e)}}function YB(e,t,r){return function(){this.style.setProperty(e,t,r)}}function XB(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function GB(e,t,r){return arguments.length>1?this.each((t==null?qB:typeof t=="function"?XB:YB)(e,t,r??"")):Lo(this.node(),e)}function Lo(e,t){return e.style.getPropertyValue(t)||iO(e).getComputedStyle(e,null).getPropertyValue(t)}function QB(e){return function(){delete this[e]}}function ZB(e,t){return function(){this[e]=t}}function JB(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function e7(e,t){return arguments.length>1?this.each((t==null?QB:typeof t=="function"?JB:ZB)(e,t)):this.node()[e]}function sO(e){return e.trim().split(/^|\s+/)}function Xx(e){return e.classList||new oO(e)}function oO(e){this._node=e,this._names=sO(e.getAttribute("class")||"")}oO.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function lO(e,t){for(var r=Xx(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function cO(e,t){for(var r=Xx(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function t7(e){return function(){lO(this,e)}}function r7(e){return function(){cO(this,e)}}function n7(e,t){return function(){(t.apply(this,arguments)?lO:cO)(this,e)}}function a7(e,t){var r=sO(e+"");if(arguments.length<2){for(var n=Xx(this.node()),a=-1,i=r.length;++a<i;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?n7:t?t7:r7)(r,t))}function i7(){this.textContent=""}function s7(e){return function(){this.textContent=e}}function o7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function l7(e){return arguments.length?this.each(e==null?i7:(typeof e=="function"?o7:s7)(e)):this.node().textContent}function c7(){this.innerHTML=""}function u7(e){return function(){this.innerHTML=e}}function d7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function f7(e){return arguments.length?this.each(e==null?c7:(typeof e=="function"?d7:u7)(e)):this.node().innerHTML}function h7(){this.nextSibling&&this.parentNode.appendChild(this)}function m7(){return this.each(h7)}function p7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function g7(){return this.each(p7)}function y7(e){var t=typeof e=="function"?e:eO(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function v7(){return null}function x7(e,t){var r=typeof e=="function"?e:eO(e),n=t==null?v7:typeof t=="function"?t:Yx(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function b7(){var e=this.parentNode;e&&e.removeChild(this)}function w7(){return this.each(b7)}function j7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function k7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function N7(e){return this.select(e?k7:j7)}function _7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function S7(e){return function(t){e.call(this,t,this.__data__)}}function E7(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function C7(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,i;r<a;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function P7(e,t,r){return function(){var n=this.__on,a,i=S7(t);if(n){for(var s=0,l=n.length;s<l;++s)if((a=n[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=r),a.value=t;return}}this.addEventListener(e.type,i,r),a={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(a):this.__on=[a]}}function O7(e,t,r){var n=E7(e+""),a,i=n.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(a=0,d=l[c];a<i;++a)if((s=n[a]).type===d.type&&s.name===d.name)return d.value}return}for(l=t?P7:C7,a=0;a<i;++a)this.each(l(n[a],t,r));return this}function uO(e,t,r){var n=iO(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function A7(e,t){return function(){return uO(this,e,t)}}function T7(e,t){return function(){return uO(this,e,t.apply(this,arguments))}}function M7(e,t){return this.each((typeof t=="function"?T7:A7)(e,t))}function*I7(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length,s;a<i;++a)(s=n[a])&&(yield s)}var dO=[null];function Pr(e,t){this._groups=e,this._parents=t}function ku(){return new Pr([[document.documentElement]],dO)}function D7(){return this}Pr.prototype=ku.prototype={constructor:Pr,select:oB,selectAll:dB,selectChild:pB,selectChildren:xB,filter:bB,data:SB,enter:wB,exit:CB,join:PB,merge:OB,selection:D7,order:AB,sort:TB,call:IB,nodes:DB,node:RB,size:LB,empty:$B,each:zB,attr:KB,style:GB,property:e7,classed:a7,text:l7,html:f7,raise:m7,lower:g7,append:y7,insert:x7,remove:w7,clone:N7,datum:_7,on:O7,dispatch:M7,[Symbol.iterator]:I7};function wr(e){return typeof e=="string"?new Pr([[document.querySelector(e)]],[document.documentElement]):new Pr([[e]],dO)}function R7(e){let t;for(;t=e.sourceEvent;)e=t;return e}function cn(e,t){if(e=R7(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const L7={passive:!1},Ic={capture:!0,passive:!1};function Cg(e){e.stopImmediatePropagation()}function ho(e){e.preventDefault(),e.stopImmediatePropagation()}function fO(e){var t=e.document.documentElement,r=wr(e).on("dragstart.drag",ho,Ic);"onselectstart"in t?r.on("selectstart.drag",ho,Ic):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function hO(e,t){var r=e.document.documentElement,n=wr(e).on("dragstart.drag",null);t&&(n.on("click.drag",ho,Ic),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Pd=e=>()=>e;function j0(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:i,x:s,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}j0.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function $7(e){return!e.ctrlKey&&!e.button}function z7(){return this.parentNode}function F7(e,t){return t??{x:e.x,y:e.y}}function B7(){return navigator.maxTouchPoints||"ontouchstart"in this}function mO(){var e=$7,t=z7,r=F7,n=B7,a={},i=Rm("start","drag","end"),s=0,l,c,u,d,f=0;function h(j){j.on("mousedown.drag",m).filter(n).on("touchstart.drag",x).on("touchmove.drag",g,L7).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(j,k){if(!(d||!e.call(this,j,k))){var _=w(this,t.call(this,j,k),j,k,"mouse");_&&(wr(j.view).on("mousemove.drag",p,Ic).on("mouseup.drag",v,Ic),fO(j.view),Cg(j),u=!1,l=j.clientX,c=j.clientY,_("start",j))}}function p(j){if(ho(j),!u){var k=j.clientX-l,_=j.clientY-c;u=k*k+_*_>f}a.mouse("drag",j)}function v(j){wr(j.view).on("mousemove.drag mouseup.drag",null),hO(j.view,u),ho(j),a.mouse("end",j)}function x(j,k){if(e.call(this,j,k)){var _=j.changedTouches,N=t.call(this,j,k),S=_.length,E,T;for(E=0;E<S;++E)(T=w(this,N,j,k,_[E].identifier,_[E]))&&(Cg(j),T("start",j,_[E]))}}function g(j){var k=j.changedTouches,_=k.length,N,S;for(N=0;N<_;++N)(S=a[k[N].identifier])&&(ho(j),S("drag",j,k[N]))}function b(j){var k=j.changedTouches,_=k.length,N,S;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<_;++N)(S=a[k[N].identifier])&&(Cg(j),S("end",j,k[N]))}function w(j,k,_,N,S,E){var T=i.copy(),O=cn(E||_,k),P,L,C;if((C=r.call(j,new j0("beforestart",{sourceEvent:_,target:h,identifier:S,active:s,x:O[0],y:O[1],dx:0,dy:0,dispatch:T}),N))!=null)return P=C.x-O[0]||0,L=C.y-O[1]||0,function D(I,R,A){var M=O,z;switch(I){case"start":a[S]=D,z=s++;break;case"end":delete a[S],--s;case"drag":O=cn(A||R,k),z=s;break}T.call(I,j,new j0(I,{sourceEvent:R,subject:C,target:h,identifier:S,active:z,x:O[0]+P,y:O[1]+L,dx:O[0]-M[0],dy:O[1]-M[1],dispatch:T}),N)}}return h.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Pd(!!j),h):e},h.container=function(j){return arguments.length?(t=typeof j=="function"?j:Pd(j),h):t},h.subject=function(j){return arguments.length?(r=typeof j=="function"?j:Pd(j),h):r},h.touchable=function(j){return arguments.length?(n=typeof j=="function"?j:Pd(!!j),h):n},h.on=function(){var j=i.on.apply(i,arguments);return j===i?h:j},h.clickDistance=function(j){return arguments.length?(f=(j=+j)*j,h):Math.sqrt(f)},h}function Gx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function pO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Nu(){}var Dc=.7,oh=1/Dc,mo="\\s*([+-]?\\d+)\\s*",Rc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U7=/^#([0-9a-f]{3,8})$/,H7=new RegExp(`^rgb\\(${mo},${mo},${mo}\\)$`),V7=new RegExp(`^rgb\\(${Bn},${Bn},${Bn}\\)$`),W7=new RegExp(`^rgba\\(${mo},${mo},${mo},${Rc}\\)$`),K7=new RegExp(`^rgba\\(${Bn},${Bn},${Bn},${Rc}\\)$`),q7=new RegExp(`^hsl\\(${Rc},${Bn},${Bn}\\)$`),Y7=new RegExp(`^hsla\\(${Rc},${Bn},${Bn},${Rc}\\)$`),pk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gx(Nu,bs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gk,formatHex:gk,formatHex8:X7,formatHsl:G7,formatRgb:yk,toString:yk});function gk(){return this.rgb().formatHex()}function X7(){return this.rgb().formatHex8()}function G7(){return gO(this).formatHsl()}function yk(){return this.rgb().formatRgb()}function bs(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=U7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?vk(t):r===3?new cr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Od(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Od(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=H7.exec(e))?new cr(t[1],t[2],t[3],1):(t=V7.exec(e))?new cr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=W7.exec(e))?Od(t[1],t[2],t[3],t[4]):(t=K7.exec(e))?Od(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=q7.exec(e))?wk(t[1],t[2]/100,t[3]/100,1):(t=Y7.exec(e))?wk(t[1],t[2]/100,t[3]/100,t[4]):pk.hasOwnProperty(e)?vk(pk[e]):e==="transparent"?new cr(NaN,NaN,NaN,0):null}function vk(e){return new cr(e>>16&255,e>>8&255,e&255,1)}function Od(e,t,r,n){return n<=0&&(e=t=r=NaN),new cr(e,t,r,n)}function Q7(e){return e instanceof Nu||(e=bs(e)),e?(e=e.rgb(),new cr(e.r,e.g,e.b,e.opacity)):new cr}function k0(e,t,r,n){return arguments.length===1?Q7(e):new cr(e,t,r,n??1)}function cr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Gx(cr,k0,pO(Nu,{brighter(e){return e=e==null?oh:Math.pow(oh,e),new cr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dc:Math.pow(Dc,e),new cr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cr(os(this.r),os(this.g),os(this.b),lh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xk,formatHex:xk,formatHex8:Z7,formatRgb:bk,toString:bk}));function xk(){return`#${Wi(this.r)}${Wi(this.g)}${Wi(this.b)}`}function Z7(){return`#${Wi(this.r)}${Wi(this.g)}${Wi(this.b)}${Wi((isNaN(this.opacity)?1:this.opacity)*255)}`}function bk(){const e=lh(this.opacity);return`${e===1?"rgb(":"rgba("}${os(this.r)}, ${os(this.g)}, ${os(this.b)}${e===1?")":`, ${e})`}`}function lh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function os(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wi(e){return e=os(e),(e<16?"0":"")+e.toString(16)}function wk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fn(e,t,r,n)}function gO(e){if(e instanceof fn)return new fn(e.h,e.s,e.l,e.opacity);if(e instanceof Nu||(e=bs(e)),!e)return new fn;if(e instanceof fn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new fn(s,l,c,e.opacity)}function J7(e,t,r,n){return arguments.length===1?gO(e):new fn(e,t,r,n??1)}function fn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Gx(fn,J7,pO(Nu,{brighter(e){return e=e==null?oh:Math.pow(oh,e),new fn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dc:Math.pow(Dc,e),new fn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new cr(Pg(e>=240?e-240:e+120,a,n),Pg(e,a,n),Pg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new fn(jk(this.h),Ad(this.s),Ad(this.l),lh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lh(this.opacity);return`${e===1?"hsl(":"hsla("}${jk(this.h)}, ${Ad(this.s)*100}%, ${Ad(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jk(e){return e=(e||0)%360,e<0?e+360:e}function Ad(e){return Math.max(0,Math.min(1,e||0))}function Pg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Qx=e=>()=>e;function e9(e,t){return function(r){return e+r*t}}function t9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function r9(e){return(e=+e)==1?yO:function(t,r){return r-t?t9(t,r,e):Qx(isNaN(t)?r:t)}}function yO(e,t){var r=t-e;return r?e9(e,r):Qx(isNaN(e)?t:e)}const ch=function e(t){var r=r9(t);function n(a,i){var s=r((a=k0(a)).r,(i=k0(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=yO(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function n9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function a9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function i9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=pa(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function s9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function dn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function o9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=pa(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var N0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Og=new RegExp(N0.source,"g");function l9(e){return function(){return e}}function c9(e){return function(t){return e(t)+""}}function vO(e,t){var r=N0.lastIndex=Og.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=N0.exec(e))&&(a=Og.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:dn(n,a)})),r=Og.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?c9(c[0].x):l9(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function pa(e,t){var r=typeof t,n;return t==null||r==="boolean"?Qx(t):(r==="number"?dn:r==="string"?(n=bs(t))?(t=n,ch):vO:t instanceof bs?ch:t instanceof Date?s9:a9(t)?n9:Array.isArray(t)?i9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?o9:dn)(e,t)}function Zx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var kk=180/Math.PI,_0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xO(e,t,r,n,a,i){var s,l,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,c/=l),e*n<t*r&&(e=-e,t=-t,c=-c,s=-s),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*kk,skewX:Math.atan(c)*kk,scaleX:s,scaleY:l}}var Td;function u9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_0:xO(t.a,t.b,t.c,t.d,t.e,t.f)}function d9(e){return e==null||(Td||(Td=document.createElementNS("http://www.w3.org/2000/svg","g")),Td.setAttribute("transform",e),!(e=Td.transform.baseVal.consolidate()))?_0:(e=e.matrix,xO(e.a,e.b,e.c,e.d,e.e,e.f))}function bO(e,t,r,n){function a(u){return u.length?u.pop()+" ":""}function i(u,d,f,h,m,p){if(u!==f||d!==h){var v=m.push("translate(",null,t,null,r);p.push({i:v-4,x:dn(u,f)},{i:v-2,x:dn(d,h)})}else(f||h)&&m.push("translate("+f+t+h+r)}function s(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(a(f)+"rotate(",null,n)-2,x:dn(u,d)})):d&&f.push(a(f)+"rotate("+d+n)}function l(u,d,f,h){u!==d?h.push({i:f.push(a(f)+"skewX(",null,n)-2,x:dn(u,d)}):d&&f.push(a(f)+"skewX("+d+n)}function c(u,d,f,h,m,p){if(u!==f||d!==h){var v=m.push(a(m)+"scale(",null,",",null,")");p.push({i:v-4,x:dn(u,f)},{i:v-2,x:dn(d,h)})}else(f!==1||h!==1)&&m.push(a(m)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,f,h),s(u.rotate,d.rotate,f,h),l(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(m){for(var p=-1,v=h.length,x;++p<v;)f[(x=h[p]).i]=x.x(m);return f.join("")}}}var f9=bO(u9,"px, ","px)","deg)"),h9=bO(d9,", ",")",")"),m9=1e-12;function Nk(e){return((e=Math.exp(e))+1/e)/2}function p9(e){return((e=Math.exp(e))-1/e)/2}function g9(e){return((e=Math.exp(2*e))-1)/(e+1)}const wf=function e(t,r,n){function a(i,s){var l=i[0],c=i[1],u=i[2],d=s[0],f=s[1],h=s[2],m=d-l,p=f-c,v=m*m+p*p,x,g;if(v<m9)g=Math.log(h/u)/t,x=function(N){return[l+N*m,c+N*p,u*Math.exp(t*N*g)]};else{var b=Math.sqrt(v),w=(h*h-u*u+n*v)/(2*u*r*b),j=(h*h-u*u-n*v)/(2*h*r*b),k=Math.log(Math.sqrt(w*w+1)-w),_=Math.log(Math.sqrt(j*j+1)-j);g=(_-k)/t,x=function(N){var S=N*g,E=Nk(k),T=u/(r*b)*(E*g9(t*S+k)-p9(k));return[l+T*m,c+T*p,u*E/Nk(t*S+k)]}}return x.duration=g*1e3*t/Math.SQRT2,x}return a.rho=function(i){var s=Math.max(.001,+i),l=s*s,c=l*l;return e(s,l,c)},a}(Math.SQRT2,2,4);function y9(e,t){t===void 0&&(t=e,e=pa);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}var $o=0,Yl=0,Ml=0,wO=1e3,uh,Xl,dh=0,ws=0,$m=0,Lc=typeof performance=="object"&&performance.now?performance:Date,jO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Jx(){return ws||(jO(v9),ws=Lc.now()+$m)}function v9(){ws=0}function fh(){this._call=this._time=this._next=null}fh.prototype=kO.prototype={constructor:fh,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Jx():+r)+(t==null?0:+t),!this._next&&Xl!==this&&(Xl?Xl._next=this:uh=this,Xl=this),this._call=e,this._time=r,S0()},stop:function(){this._call&&(this._call=null,this._time=1/0,S0())}};function kO(e,t,r){var n=new fh;return n.restart(e,t,r),n}function x9(){Jx(),++$o;for(var e=uh,t;e;)(t=ws-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$o}function _k(){ws=(dh=Lc.now())+$m,$o=Yl=0;try{x9()}finally{$o=0,w9(),ws=0}}function b9(){var e=Lc.now(),t=e-dh;t>wO&&($m-=t,dh=e)}function w9(){for(var e,t=uh,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:uh=r);Xl=e,S0(n)}function S0(e){if(!$o){Yl&&(Yl=clearTimeout(Yl));var t=e-ws;t>24?(e<1/0&&(Yl=setTimeout(_k,e-Lc.now()-$m)),Ml&&(Ml=clearInterval(Ml))):(Ml||(dh=Lc.now(),Ml=setInterval(b9,wO)),$o=1,jO(_k))}}function Sk(e,t,r){var n=new fh;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var j9=Rm("start","end","cancel","interrupt"),k9=[],NO=0,Ek=1,E0=2,jf=3,Ck=4,C0=5,kf=6;function zm(e,t,r,n,a,i){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;N9(e,r,{name:t,index:n,group:a,on:j9,tween:k9,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:NO})}function eb(e,t){var r=Sn(e,t);if(r.state>NO)throw new Error("too late; already scheduled");return r}function Xn(e,t){var r=Sn(e,t);if(r.state>jf)throw new Error("too late; already running");return r}function Sn(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function N9(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=kO(i,0,r.time);function i(u){r.state=Ek,r.timer.restart(s,r.delay,r.time),r.delay<=u&&s(u-r.delay)}function s(u){var d,f,h,m;if(r.state!==Ek)return c();for(d in n)if(m=n[d],m.name===r.name){if(m.state===jf)return Sk(s);m.state===Ck?(m.state=kf,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete n[d]):+d<t&&(m.state=kf,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete n[d])}if(Sk(function(){r.state===jf&&(r.state=Ck,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=E0,r.on.call("start",e,e.__data__,r.index,r.group),r.state===E0){for(r.state=jf,a=new Array(h=r.tween.length),d=0,f=-1;d<h;++d)(m=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(a[++f]=m);a.length=f+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=C0,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);r.state===C0&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=kf,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function Nf(e,t){var r=e.__transition,n,a,i=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){i=!1;continue}a=n.state>E0&&n.state<C0,n.state=kf,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}i&&delete e.__transition}}function _9(e){return this.each(function(){Nf(this,e)})}function S9(e,t){var r,n;return function(){var a=Xn(this,e),i=a.tween;if(i!==r){n=r=i;for(var s=0,l=n.length;s<l;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}a.tween=n}}function E9(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var i=Xn(this,e),s=i.tween;if(s!==n){a=(n=s).slice();for(var l={name:t,value:r},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=l;break}c===u&&a.push(l)}i.tween=a}}function C9(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Sn(this.node(),r).tween,a=0,i=n.length,s;a<i;++a)if((s=n[a]).name===e)return s.value;return null}return this.each((t==null?S9:E9)(r,e,t))}function tb(e,t,r){var n=e._id;return e.each(function(){var a=Xn(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return Sn(a,n).value[t]}}function _O(e,t){var r;return(typeof t=="number"?dn:t instanceof bs?ch:(r=bs(t))?(t=r,ch):vO)(e,t)}function P9(e){return function(){this.removeAttribute(e)}}function O9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function A9(e,t,r){var n,a=r+"",i;return function(){var s=this.getAttribute(e);return s===a?null:s===n?i:i=t(n=s,r)}}function T9(e,t,r){var n,a=r+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===n?i:i=t(n=s,r)}}function M9(e,t,r){var n,a,i;return function(){var s,l=r(this),c;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=l+"",s===c?null:s===n&&c===a?i:(a=c,i=t(n=s,l)))}}function I9(e,t,r){var n,a,i;return function(){var s,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=l+"",s===c?null:s===n&&c===a?i:(a=c,i=t(n=s,l)))}}function D9(e,t){var r=Lm(e),n=r==="transform"?h9:_O;return this.attrTween(e,typeof t=="function"?(r.local?I9:M9)(r,n,tb(this,"attr."+e,t)):t==null?(r.local?O9:P9)(r):(r.local?T9:A9)(r,n,t))}function R9(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function L9(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function $9(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&L9(e,i)),r}return a._value=t,a}function z9(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&R9(e,i)),r}return a._value=t,a}function F9(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Lm(e);return this.tween(r,(n.local?$9:z9)(n,t))}function B9(e,t){return function(){eb(this,e).delay=+t.apply(this,arguments)}}function U9(e,t){return t=+t,function(){eb(this,e).delay=t}}function H9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?B9:U9)(t,e)):Sn(this.node(),t).delay}function V9(e,t){return function(){Xn(this,e).duration=+t.apply(this,arguments)}}function W9(e,t){return t=+t,function(){Xn(this,e).duration=t}}function K9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?V9:W9)(t,e)):Sn(this.node(),t).duration}function q9(e,t){if(typeof t!="function")throw new Error;return function(){Xn(this,e).ease=t}}function Y9(e){var t=this._id;return arguments.length?this.each(q9(t,e)):Sn(this.node(),t).ease}function X9(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Xn(this,e).ease=r}}function G9(e){if(typeof e!="function")throw new Error;return this.each(X9(this._id,e))}function Q9(e){typeof e!="function"&&(e=rO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],s=i.length,l=n[a]=[],c,u=0;u<s;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new Na(n,this._parents,this._name,this._id)}function Z9(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,i=Math.min(n,a),s=new Array(n),l=0;l<i;++l)for(var c=t[l],u=r[l],d=c.length,f=s[l]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;l<n;++l)s[l]=t[l];return new Na(s,this._parents,this._name,this._id)}function J9(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function eU(e,t,r){var n,a,i=J9(t)?eb:Xn;return function(){var s=i(this,e),l=s.on;l!==n&&(a=(n=l).copy()).on(t,r),s.on=a}}function tU(e,t){var r=this._id;return arguments.length<2?Sn(this.node(),r).on.on(e):this.each(eU(r,e,t))}function rU(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function nU(){return this.on("end.remove",rU(this._id))}function aU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Yx(e));for(var n=this._groups,a=n.length,i=new Array(a),s=0;s<a;++s)for(var l=n[s],c=l.length,u=i[s]=new Array(c),d,f,h=0;h<c;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,zm(u[h],t,r,h,u,Sn(d,r)));return new Na(i,this._parents,t,r)}function iU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=tO(e));for(var n=this._groups,a=n.length,i=[],s=[],l=0;l<a;++l)for(var c=n[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),m,p=Sn(d,r),v=0,x=h.length;v<x;++v)(m=h[v])&&zm(m,t,r,v,h,p);i.push(h),s.push(d)}return new Na(i,s,t,r)}var sU=ku.prototype.constructor;function oU(){return new sU(this._groups,this._parents)}function lU(e,t){var r,n,a;return function(){var i=Lo(this,e),s=(this.style.removeProperty(e),Lo(this,e));return i===s?null:i===r&&s===n?a:a=t(r=i,n=s)}}function SO(e){return function(){this.style.removeProperty(e)}}function cU(e,t,r){var n,a=r+"",i;return function(){var s=Lo(this,e);return s===a?null:s===n?i:i=t(n=s,r)}}function uU(e,t,r){var n,a,i;return function(){var s=Lo(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Lo(this,e))),s===c?null:s===n&&c===a?i:(a=c,i=t(n=s,l))}}function dU(e,t){var r,n,a,i="style."+t,s="end."+i,l;return function(){var c=Xn(this,e),u=c.on,d=c.value[i]==null?l||(l=SO(t)):void 0;(u!==r||a!==d)&&(n=(r=u).copy()).on(s,a=d),c.on=n}}function fU(e,t,r){var n=(e+="")=="transform"?f9:_O;return t==null?this.styleTween(e,lU(e,n)).on("end.style."+e,SO(e)):typeof t=="function"?this.styleTween(e,uU(e,n,tb(this,"style."+e,t))).each(dU(this._id,e)):this.styleTween(e,cU(e,n,t),r).on("end.style."+e,null)}function hU(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function mU(e,t,r){var n,a;function i(){var s=t.apply(this,arguments);return s!==a&&(n=(a=s)&&hU(e,s,r)),n}return i._value=t,i}function pU(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,mU(e,t,r??""))}function gU(e){return function(){this.textContent=e}}function yU(e){return function(){var t=e(this);this.textContent=t??""}}function vU(e){return this.tween("text",typeof e=="function"?yU(tb(this,"text",e)):gU(e==null?"":e+""))}function xU(e){return function(t){this.textContent=e.call(this,t)}}function bU(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&xU(a)),t}return n._value=e,n}function wU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,bU(e))}function jU(){for(var e=this._name,t=this._id,r=EO(),n=this._groups,a=n.length,i=0;i<a;++i)for(var s=n[i],l=s.length,c,u=0;u<l;++u)if(c=s[u]){var d=Sn(c,t);zm(c,e,r,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Na(n,this._parents,e,r)}function kU(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(i,s){var l={value:s},c={value:function(){--a===0&&i()}};r.each(function(){var u=Xn(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),a===0&&i()})}var NU=0;function Na(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function EO(){return++NU}var Jn=ku.prototype;Na.prototype={constructor:Na,select:aU,selectAll:iU,selectChild:Jn.selectChild,selectChildren:Jn.selectChildren,filter:Q9,merge:Z9,selection:oU,transition:jU,call:Jn.call,nodes:Jn.nodes,node:Jn.node,size:Jn.size,empty:Jn.empty,each:Jn.each,on:tU,attr:D9,attrTween:F9,style:fU,styleTween:pU,text:vU,textTween:wU,remove:nU,tween:C9,delay:H9,duration:K9,ease:Y9,easeVarying:G9,end:kU,[Symbol.iterator]:Jn[Symbol.iterator]};function _U(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var SU={time:null,delay:0,duration:250,ease:_U};function EU(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function CU(e){var t,r;e instanceof Na?(t=e._id,e=e._name):(t=EO(),(r=SU).time=Jx(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,i=0;i<a;++i)for(var s=n[i],l=s.length,c,u=0;u<l;++u)(c=s[u])&&zm(c,e,t,u,s,r||EU(c,t));return new Na(n,this._parents,e,t)}ku.prototype.interrupt=_9;ku.prototype.transition=CU;const Md=e=>()=>e;function PU(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function ua(e,t,r){this.k=e,this.x=t,this.y=r}ua.prototype={constructor:ua,scale:function(e){return e===1?this:new ua(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ua(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fm=new ua(1,0,0);CO.prototype=ua.prototype;function CO(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Fm;return e.__zoom}function Ag(e){e.stopImmediatePropagation()}function Il(e){e.preventDefault(),e.stopImmediatePropagation()}function OU(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function AU(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Pk(){return this.__zoom||Fm}function TU(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function MU(){return navigator.maxTouchPoints||"ontouchstart"in this}function IU(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],s=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function PO(){var e=OU,t=AU,r=IU,n=TU,a=MU,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,c=wf,u=Rm("start","zoom","end"),d,f,h,m=500,p=150,v=0,x=10;function g(C){C.property("__zoom",Pk).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",T).filter(a).on("touchstart.zoom",O).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(C,D,I,R){var A=C.selection?C.selection():C;A.property("__zoom",Pk),C!==A?k(C,D,I,R):A.interrupt().each(function(){_(this,arguments).event(R).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},g.scaleBy=function(C,D,I,R){g.scaleTo(C,function(){var A=this.__zoom.k,M=typeof D=="function"?D.apply(this,arguments):D;return A*M},I,R)},g.scaleTo=function(C,D,I,R){g.transform(C,function(){var A=t.apply(this,arguments),M=this.__zoom,z=I==null?j(A):typeof I=="function"?I.apply(this,arguments):I,H=M.invert(z),B=typeof D=="function"?D.apply(this,arguments):D;return r(w(b(M,B),z,H),A,s)},I,R)},g.translateBy=function(C,D,I,R){g.transform(C,function(){return r(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),s)},null,R)},g.translateTo=function(C,D,I,R,A){g.transform(C,function(){var M=t.apply(this,arguments),z=this.__zoom,H=R==null?j(M):typeof R=="function"?R.apply(this,arguments):R;return r(Fm.translate(H[0],H[1]).scale(z.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof I=="function"?-I.apply(this,arguments):-I),M,s)},R,A)};function b(C,D){return D=Math.max(i[0],Math.min(i[1],D)),D===C.k?C:new ua(D,C.x,C.y)}function w(C,D,I){var R=D[0]-I[0]*C.k,A=D[1]-I[1]*C.k;return R===C.x&&A===C.y?C:new ua(C.k,R,A)}function j(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function k(C,D,I,R){C.on("start.zoom",function(){_(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(R).end()}).tween("zoom",function(){var A=this,M=arguments,z=_(A,M).event(R),H=t.apply(A,M),B=I==null?j(H):typeof I=="function"?I.apply(A,M):I,X=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),q=A.__zoom,J=typeof D=="function"?D.apply(A,M):D,ce=c(q.invert(B).concat(X/q.k),J.invert(B).concat(X/J.k));return function(re){if(re===1)re=J;else{var Q=ce(re),U=X/Q[2];re=new ua(U,B[0]-Q[0]*U,B[1]-Q[1]*U)}z.zoom(null,re)}})}function _(C,D,I){return!I&&C.__zooming||new N(C,D)}function N(C,D){this.that=C,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(C,D),this.taps=0}N.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,D){return this.mouse&&C!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var D=wr(this.that).datum();u.call(C,this.that,new PU(C,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),D)}};function S(C,...D){if(!e.apply(this,arguments))return;var I=_(this,D).event(C),R=this.__zoom,A=Math.max(i[0],Math.min(i[1],R.k*Math.pow(2,n.apply(this,arguments)))),M=cn(C);if(I.wheel)(I.mouse[0][0]!==M[0]||I.mouse[0][1]!==M[1])&&(I.mouse[1]=R.invert(I.mouse[0]=M)),clearTimeout(I.wheel);else{if(R.k===A)return;I.mouse=[M,R.invert(M)],Nf(this),I.start()}Il(C),I.wheel=setTimeout(z,p),I.zoom("mouse",r(w(b(R,A),I.mouse[0],I.mouse[1]),I.extent,s));function z(){I.wheel=null,I.end()}}function E(C,...D){if(h||!e.apply(this,arguments))return;var I=C.currentTarget,R=_(this,D,!0).event(C),A=wr(C.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",X,!0),M=cn(C,I),z=C.clientX,H=C.clientY;fO(C.view),Ag(C),R.mouse=[M,this.__zoom.invert(M)],Nf(this),R.start();function B(q){if(Il(q),!R.moved){var J=q.clientX-z,ce=q.clientY-H;R.moved=J*J+ce*ce>v}R.event(q).zoom("mouse",r(w(R.that.__zoom,R.mouse[0]=cn(q,I),R.mouse[1]),R.extent,s))}function X(q){A.on("mousemove.zoom mouseup.zoom",null),hO(q.view,R.moved),Il(q),R.event(q).end()}}function T(C,...D){if(e.apply(this,arguments)){var I=this.__zoom,R=cn(C.changedTouches?C.changedTouches[0]:C,this),A=I.invert(R),M=I.k*(C.shiftKey?.5:2),z=r(w(b(I,M),R,A),t.apply(this,D),s);Il(C),l>0?wr(this).transition().duration(l).call(k,z,R,C):wr(this).call(g.transform,z,R,C)}}function O(C,...D){if(e.apply(this,arguments)){var I=C.touches,R=I.length,A=_(this,D,C.changedTouches.length===R).event(C),M,z,H,B;for(Ag(C),z=0;z<R;++z)H=I[z],B=cn(H,this),B=[B,this.__zoom.invert(B),H.identifier],A.touch0?!A.touch1&&A.touch0[2]!==B[2]&&(A.touch1=B,A.taps=0):(A.touch0=B,M=!0,A.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(A.taps<2&&(f=B[0],d=setTimeout(function(){d=null},m)),Nf(this),A.start())}}function P(C,...D){if(this.__zooming){var I=_(this,D).event(C),R=C.changedTouches,A=R.length,M,z,H,B;for(Il(C),M=0;M<A;++M)z=R[M],H=cn(z,this),I.touch0&&I.touch0[2]===z.identifier?I.touch0[0]=H:I.touch1&&I.touch1[2]===z.identifier&&(I.touch1[0]=H);if(z=I.that.__zoom,I.touch1){var X=I.touch0[0],q=I.touch0[1],J=I.touch1[0],ce=I.touch1[1],re=(re=J[0]-X[0])*re+(re=J[1]-X[1])*re,Q=(Q=ce[0]-q[0])*Q+(Q=ce[1]-q[1])*Q;z=b(z,Math.sqrt(re/Q)),H=[(X[0]+J[0])/2,(X[1]+J[1])/2],B=[(q[0]+ce[0])/2,(q[1]+ce[1])/2]}else if(I.touch0)H=I.touch0[0],B=I.touch0[1];else return;I.zoom("touch",r(w(z,H,B),I.extent,s))}}function L(C,...D){if(this.__zooming){var I=_(this,D).event(C),R=C.changedTouches,A=R.length,M,z;for(Ag(C),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),M=0;M<A;++M)z=R[M],I.touch0&&I.touch0[2]===z.identifier?delete I.touch0:I.touch1&&I.touch1[2]===z.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(z=cn(z,this),Math.hypot(f[0]-z[0],f[1]-z[1])<x)){var H=wr(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return g.wheelDelta=function(C){return arguments.length?(n=typeof C=="function"?C:Md(+C),g):n},g.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Md(!!C),g):e},g.touchable=function(C){return arguments.length?(a=typeof C=="function"?C:Md(!!C),g):a},g.extent=function(C){return arguments.length?(t=typeof C=="function"?C:Md([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),g):t},g.scaleExtent=function(C){return arguments.length?(i[0]=+C[0],i[1]=+C[1],g):[i[0],i[1]]},g.translateExtent=function(C){return arguments.length?(s[0][0]=+C[0][0],s[1][0]=+C[1][0],s[0][1]=+C[0][1],s[1][1]=+C[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(C){return arguments.length?(r=C,g):r},g.duration=function(C){return arguments.length?(l=+C,g):l},g.interpolate=function(C){return arguments.length?(c=C,g):c},g.on=function(){var C=u.on.apply(u,arguments);return C===u?g:C},g.clickDistance=function(C){return arguments.length?(v=(C=+C)*C,g):Math.sqrt(v)},g.tapDistance=function(C){return arguments.length?(x=+C,g):x},g}const Un={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:n}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},$c=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],OO=["Enter"," ","Escape"],AO={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var zo;(function(e){e.Strict="strict",e.Loose="loose"})(zo||(zo={}));var ls;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ls||(ls={}));var zc;(function(e){e.Partial="partial",e.Full="full"})(zc||(zc={}));const TO={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Ya;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ya||(Ya={}));var hh;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(hh||(hh={}));var fe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(fe||(fe={}));const Ok={[fe.Left]:fe.Right,[fe.Right]:fe.Left,[fe.Top]:fe.Bottom,[fe.Bottom]:fe.Top};function MO(e){return e===null?null:e?"valid":"invalid"}const IO=e=>"id"in e&&"source"in e&&"target"in e,DU=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),rb=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Ci=(e,t,r)=>{if(!e.id)return[];const n=new Set;return r.forEach(a=>{a.target===e.id&&n.add(a.source)}),t.filter(a=>n.has(a.id))},_u=(e,t=[0,0])=>{const{width:r,height:n}=Ma(e),a=e.origin??t,i=r*a[0],s=n*a[1];return{x:e.position.x-i,y:e.position.y-s}},RU=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const i=typeof a=="string";let s=!t.nodeLookup&&!i?a:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(a):rb(a)?a:t.nodeLookup.get(a.id));const l=s?mh(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Bm(n,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Um(r)},Su=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},n=!1;return e.forEach(a=>{(t.filter===void 0||t.filter(a))&&(r=Bm(r,mh(a)),n=!0)}),n?Um(r):{x:0,y:0,width:0,height:0}},nb=(e,t,[r,n,a]=[0,0,1],i=!1,s=!1)=>{const l={...Cu(t,[r,n,a]),width:t.width/a,height:t.height/a},c=[];for(const u of e.values()){const{measured:d,selectable:f=!0,hidden:h=!1}=u;if(s&&!f||h)continue;const m=d.width??u.width??u.initialWidth??null,p=d.height??u.height??u.initialHeight??null,v=Fc(l,Bo(u)),x=(m??0)*(p??0),g=i&&v>0;(!u.internals.handleBounds||g||v>=x||u.dragging)&&c.push(u)}return c},LU=(e,t)=>{const r=new Set;return e.forEach(n=>{r.add(n.id)}),t.filter(n=>r.has(n.source)||r.has(n.target))};function $U(e,t){const r=new Map,n=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!n||n.has(a.id))&&r.set(a.id,a)}),r}async function zU({nodes:e,width:t,height:r,panZoom:n,minZoom:a,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const l=$U(e,s),c=Su(l),u=ab(c,t,r,(s==null?void 0:s.minZoom)??a,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await n.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function DO({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:a,onError:i}){const s=r.get(e),l=s.parentId?r.get(s.parentId):void 0,{x:c,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},d=s.origin??n;let f=s.extent||a;if(s.extent==="parent"&&!s.expandParent)if(!l)i==null||i("005",Un.error005());else{const m=l.measured.width,p=l.measured.height;m&&p&&(f=[[c,u],[c+m,u+p]])}else l&&Uo(s.extent)&&(f=[[s.extent[0][0]+c,s.extent[0][1]+u],[s.extent[1][0]+c,s.extent[1][1]+u]]);const h=Uo(f)?js(t,f,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",Un.error015())),{position:{x:h.x-c+(s.measured.width??0)*d[0],y:h.y-u+(s.measured.height??0)*d[1]},positionAbsolute:h}}async function FU({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:n,onBeforeDelete:a}){const i=new Set(e.map(h=>h.id)),s=[];for(const h of r){if(h.deletable===!1)continue;const m=i.has(h.id),p=!m&&h.parentId&&s.find(v=>v.id===h.parentId);(m||p)&&s.push(h)}const l=new Set(t.map(h=>h.id)),c=n.filter(h=>h.deletable!==!1),d=LU(s,c);for(const h of c)l.has(h.id)&&!d.find(p=>p.id===h.id)&&d.push(h);if(!a)return{edges:d,nodes:s};const f=await a({nodes:s,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:s}:{edges:[],nodes:[]}:f}const Fo=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),js=(e={x:0,y:0},t,r)=>({x:Fo(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:Fo(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function RO(e,t,r){const{width:n,height:a}=Ma(r),{x:i,y:s}=r.internals.positionAbsolute;return js(e,[[i,s],[i+n,s+a]],t)}const Ak=(e,t,r)=>e<t?Fo(Math.abs(e-t),1,t)/t:e>r?-Fo(Math.abs(e-r),1,t)/t:0,LO=(e,t,r=15,n=40)=>{const a=Ak(e.x,n,t.width-n)*r,i=Ak(e.y,n,t.height-n)*r;return[a,i]},Bm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),P0=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),Um=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),Bo=(e,t=[0,0])=>{var a,i;const{x:r,y:n}=rb(e)?e.internals.positionAbsolute:_u(e,t);return{x:r,y:n,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},mh=(e,t=[0,0])=>{var a,i;const{x:r,y:n}=rb(e)?e.internals.positionAbsolute:_u(e,t);return{x:r,y:n,x2:r+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:n+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},$O=(e,t)=>Um(Bm(P0(e),P0(t))),Fc=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},Tk=e=>pn(e.width)&&pn(e.height)&&pn(e.x)&&pn(e.y),pn=e=>!isNaN(e)&&isFinite(e),BU=(e,t)=>{},Eu=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Cu=({x:e,y:t},[r,n,a],i=!1,s=[1,1])=>{const l={x:(e-r)/a,y:(t-n)/a};return i?Eu(l,s):l},ph=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n});function $s(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function UU(e,t,r){if(typeof e=="string"||typeof e=="number"){const n=$s(e,r),a=$s(e,t);return{top:n,right:a,bottom:n,left:a,x:a*2,y:n*2}}if(typeof e=="object"){const n=$s(e.top??e.y??0,r),a=$s(e.bottom??e.y??0,r),i=$s(e.left??e.x??0,t),s=$s(e.right??e.x??0,t);return{top:n,right:s,bottom:a,left:i,x:i+s,y:n+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function HU(e,t,r,n,a,i){const{x:s,y:l}=ph(e,[t,r,n]),{x:c,y:u}=ph({x:e.x+e.width,y:e.y+e.height},[t,r,n]),d=a-c,f=i-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(f)}}const ab=(e,t,r,n,a,i)=>{const s=UU(i,t,r),l=(t-s.x)/e.width,c=(r-s.y)/e.height,u=Math.min(l,c),d=Fo(u,n,a),f=e.x+e.width/2,h=e.y+e.height/2,m=t/2-f*d,p=r/2-h*d,v=HU(e,m,p,d,t,r),x={left:Math.min(v.left-s.left,0),top:Math.min(v.top-s.top,0),right:Math.min(v.right-s.right,0),bottom:Math.min(v.bottom-s.bottom,0)};return{x:m-x.left+x.right,y:p-x.top+x.bottom,zoom:d}},Bc=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Uo(e){return e!=null&&e!=="parent"}function Ma(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function zO(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function FO(e,t={width:0,height:0},r,n,a){const i={...e},s=n.get(r);if(s){const l=s.origin||a;i.x+=s.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function Mk(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function VU(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}function WU(e){return{...AO,...e||{}}}function uc(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:n,containerBounds:a}){const{x:i,y:s}=gn(e),l=Cu({x:i-((a==null?void 0:a.left)??0),y:s-((a==null?void 0:a.top)??0)},n),{x:c,y:u}=r?Eu(l,t):l;return{xSnapped:c,ySnapped:u,...l}}const ib=e=>({width:e.offsetWidth,height:e.offsetHeight}),BO=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},KU=["INPUT","SELECT","TEXTAREA"];function UO(e){var n,a;const t=((a=(n=e.composedPath)==null?void 0:n.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:KU.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const HO=e=>"clientX"in e,gn=(e,t)=>{var i,s;const r=HO(e),n=r?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,a=r?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},Ik=(e,t,r,n,a)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:a,position:s.getAttribute("data-handlepos"),x:(l.left-r.left)/n,y:(l.top-r.top)/n,...ib(s)}})};function VO({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:i,targetControlX:s,targetControlY:l}){const c=e*.125+a*.375+s*.375+r*.125,u=t*.125+i*.375+l*.375+n*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}function Id(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Dk({pos:e,x1:t,y1:r,x2:n,y2:a,c:i}){switch(e){case fe.Left:return[t-Id(t-n,i),r];case fe.Right:return[t+Id(n-t,i),r];case fe.Top:return[t,r-Id(r-a,i)];case fe.Bottom:return[t,r+Id(a-r,i)]}}function WO({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:i=fe.Top,curvature:s=.25}){const[l,c]=Dk({pos:r,x1:e,y1:t,x2:n,y2:a,c:s}),[u,d]=Dk({pos:i,x1:n,y1:a,x2:e,y2:t,c:s}),[f,h,m,p]=VO({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${n},${a}`,f,h,m,p]}function KO({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,i=r<e?r+a:r-a,s=Math.abs(n-t)/2,l=n<t?n+s:n-s;return[i,l,a,s]}function qU({sourceNode:e,targetNode:t,selected:r=!1,zIndex:n=0,elevateOnSelect:a=!1,zIndexMode:i="basic"}){if(i==="manual")return n;const s=a&&r?n+1e3:n,l=Math.max(e.parentId||a&&e.selected?e.internals.z:0,t.parentId||a&&t.selected?t.internals.z:0);return s+l}function YU({sourceNode:e,targetNode:t,width:r,height:n,transform:a}){const i=Bm(mh(e),mh(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-a[0]/a[2],y:-a[1]/a[2],width:r/a[2],height:n/a[2]};return Fc(s,Um(i))>0}const XU=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`xy-edge__${e}${t||""}-${r}${n||""}`,GU=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),qO=(e,t,r={})=>{if(!e.source||!e.target)return t;const n=r.getEdgeId||XU;let a;return IO(e)?a={...e}:a={...e,id:n(e)},GU(a,t)?t:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,t.concat(a))};function YO({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,i,s,l]=KO({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,i,s,l]}const Rk={[fe.Left]:{x:-1,y:0},[fe.Right]:{x:1,y:0},[fe.Top]:{x:0,y:-1},[fe.Bottom]:{x:0,y:1}},QU=({source:e,sourcePosition:t=fe.Bottom,target:r})=>t===fe.Left||t===fe.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Lk=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function ZU({source:e,sourcePosition:t=fe.Bottom,target:r,targetPosition:n=fe.Top,center:a,offset:i,stepPosition:s}){const l=Rk[t],c=Rk[n],u={x:e.x+l.x*i,y:e.y+l.y*i},d={x:r.x+c.x*i,y:r.y+c.y*i},f=QU({source:u,sourcePosition:t,target:d}),h=f.x!==0?"x":"y",m=f[h];let p=[],v,x;const g={x:0,y:0},b={x:0,y:0},[,,w,j]=KO({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[h]*c[h]===-1){h==="x"?(v=a.x??u.x+(d.x-u.x)*s,x=a.y??(u.y+d.y)/2):(v=a.x??(u.x+d.x)/2,x=a.y??u.y+(d.y-u.y)*s);const _=[{x:v,y:u.y},{x:v,y:d.y}],N=[{x:u.x,y:x},{x:d.x,y:x}];l[h]===m?p=h==="x"?_:N:p=h==="x"?N:_}else{const _=[{x:u.x,y:d.y}],N=[{x:d.x,y:u.y}];if(h==="x"?p=l.x===m?N:_:p=l.y===m?_:N,t===n){const P=Math.abs(e[h]-r[h]);if(P<=i){const L=Math.min(i-1,i-P);l[h]===m?g[h]=(u[h]>e[h]?-1:1)*L:b[h]=(d[h]>r[h]?-1:1)*L}}if(t!==n){const P=h==="x"?"y":"x",L=l[h]===c[P],C=u[P]>d[P],D=u[P]<d[P];(l[h]===1&&(!L&&C||L&&D)||l[h]!==1&&(!L&&D||L&&C))&&(p=h==="x"?_:N)}const S={x:u.x+g.x,y:u.y+g.y},E={x:d.x+b.x,y:d.y+b.y},T=Math.max(Math.abs(S.x-p[0].x),Math.abs(E.x-p[0].x)),O=Math.max(Math.abs(S.y-p[0].y),Math.abs(E.y-p[0].y));T>=O?(v=(S.x+E.x)/2,x=p[0].y):(v=p[0].x,x=(S.y+E.y)/2)}return[[e,{x:u.x+g.x,y:u.y+g.y},...p,{x:d.x+b.x,y:d.y+b.y},r],v,x,w,j]}function JU(e,t,r,n){const a=Math.min(Lk(e,t)/2,Lk(t,r)/2,n),{x:i,y:s}=t;if(e.x===i&&i===r.x||e.y===s&&s===r.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${i+a*u},${s}Q ${i},${s} ${i},${s+a*d}`}const l=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${i},${s+a*c}Q ${i},${s} ${i+a*l},${s}`}function gh({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:i=fe.Top,borderRadius:s=5,centerX:l,centerY:c,offset:u=20,stepPosition:d=.5}){const[f,h,m,p,v]=ZU({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:i,center:{x:l,y:c},offset:u,stepPosition:d});return[f.reduce((g,b,w)=>{let j="";return w>0&&w<f.length-1?j=JU(f[w-1],b,f[w+1],s):j=`${w===0?"M":"L"}${b.x} ${b.y}`,g+=j,g},""),h,m,p,v]}function $k(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function eH(e){var f;const{sourceNode:t,targetNode:r}=e;if(!$k(t)||!$k(r))return null;const n=t.internals.handleBounds||zk(t.handles),a=r.internals.handleBounds||zk(r.handles),i=Fk((n==null?void 0:n.source)??[],e.sourceHandle),s=Fk(e.connectionMode===zo.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!i||!s)return(f=e.onError)==null||f.call(e,"008",Un.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||fe.Bottom,c=(s==null?void 0:s.position)||fe.Top,u=ks(t,i,l),d=ks(r,s,c);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:c}}function zk(e){if(!e)return null;const t=[],r=[];for(const n of e)n.width=n.width??1,n.height=n.height??1,n.type==="source"?t.push(n):n.type==="target"&&r.push(n);return{source:t,target:r}}function ks(e,t,r=fe.Left,n=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??Ma(e);if(n)return{x:a+s/2,y:i+l/2};switch((t==null?void 0:t.position)??r){case fe.Top:return{x:a+s/2,y:i};case fe.Right:return{x:a+s,y:i+l/2};case fe.Bottom:return{x:a+s/2,y:i+l};case fe.Left:return{x:a,y:i+l/2}}}function Fk(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function O0(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`:""}function tH(e,{id:t,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:a}){const i=new Set;return e.reduce((s,l)=>([l.markerStart||n,l.markerEnd||a].forEach(c=>{if(c&&typeof c=="object"){const u=O0(c,t);i.has(u)||(s.push({id:u,color:c.color||r,...c}),i.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const XO=1e3,rH=10,sb={nodeOrigin:[0,0],nodeExtent:$c,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},nH={...sb,checkEquality:!0};function ob(e,t){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}function aH(e,t,r){const n=ob(sb,r);for(const a of e.values())if(a.parentId)cb(a,e,t,n);else{const i=_u(a,n.nodeOrigin),s=Uo(a.extent)?a.extent:n.nodeExtent,l=js(i,s,Ma(a));a.internals.positionAbsolute=l}}function iH(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const r=[],n=[];for(const a of e.handles){const i={id:a.id,width:a.width??1,height:a.height??1,nodeId:e.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?r.push(i):a.type==="target"&&n.push(i)}return{source:r,target:n}}function lb(e){return e==="manual"}function A0(e,t,r,n={}){var u,d;const a=ob(nH,n),i={i:0},s=new Map(t),l=a!=null&&a.elevateNodesOnSelect&&!lb(a.zIndexMode)?XO:0;let c=e.length>0;t.clear(),r.clear();for(const f of e){let h=s.get(f.id);if(a.checkEquality&&f===(h==null?void 0:h.internals.userNode))t.set(f.id,h);else{const m=_u(f,a.nodeOrigin),p=Uo(f.extent)?f.extent:a.nodeExtent,v=js(m,p,Ma(f));h={...a.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:v,handleBounds:iH(f,h),z:GO(f,l,a.zIndexMode),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(c=!1),f.parentId&&cb(h,t,r,n,i)}return c}function sH(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function cb(e,t,r,n,a){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:l,zIndexMode:c}=ob(sb,n),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}sH(e,r),a&&!d.parentId&&d.internals.rootParentIndex===void 0&&c==="auto"&&(d.internals.rootParentIndex=++a.i,d.internals.z=d.internals.z+a.i*rH),a&&d.internals.rootParentIndex!==void 0&&(a.i=d.internals.rootParentIndex);const f=i&&!lb(c)?XO:0,{x:h,y:m,z:p}=oH(e,d,s,l,f,c),{positionAbsolute:v}=e.internals,x=h!==v.x||m!==v.y;(x||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:x?{x:h,y:m}:v,z:p}})}function GO(e,t,r){const n=pn(e.zIndex)?e.zIndex:0;return lb(r)?n:n+(e.selected?t:0)}function oH(e,t,r,n,a,i){const{x:s,y:l}=t.internals.positionAbsolute,c=Ma(e),u=_u(e,r),d=Uo(e.extent)?js(u,e.extent,c):u;let f=js({x:s+d.x,y:l+d.y},n,c);e.extent==="parent"&&(f=RO(f,c,t));const h=GO(e,a,i),m=t.internals.z??0;return{x:f.x,y:f.y,z:m>=h?m+1:h}}function ub(e,t,r,n=[0,0]){var s;const a=[],i=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const u=((s=i.get(l.parentId))==null?void 0:s.expandedRect)??Bo(c),d=$O(u,l.rect);i.set(l.parentId,{expandedRect:d,parent:c})}return i.size>0&&i.forEach(({expandedRect:l,parent:c},u)=>{var w;const d=c.internals.positionAbsolute,f=Ma(c),h=c.origin??n,m=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,p=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,v=Math.max(f.width,Math.round(l.width)),x=Math.max(f.height,Math.round(l.height)),g=(v-f.width)*h[0],b=(x-f.height)*h[1];(m>0||p>0||g||b)&&(a.push({id:u,type:"position",position:{x:c.position.x-m+g,y:c.position.y-p+b}}),(w=r.get(u))==null||w.forEach(j=>{e.some(k=>k.id===j.id)||a.push({id:j.id,type:"position",position:{x:j.position.x+m,y:j.position.y+p}})})),(f.width<l.width||f.height<l.height||m||p)&&a.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:v+(m?h[0]*m-g:0),height:x+(p?h[1]*p-b:0)}})}),a}function lH(e,t,r,n,a,i,s){const l=n==null?void 0:n.querySelector(".xyflow__viewport");let c=!1;if(!l)return{changes:[],updatedInternals:c};const u=[],d=window.getComputedStyle(l),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const m of e.values()){const p=t.get(m.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),c=!0;continue}const v=ib(m.nodeElement),x=p.measured.width!==v.width||p.measured.height!==v.height;if(!!(v.width&&v.height&&(x||!p.internals.handleBounds||m.force))){const b=m.nodeElement.getBoundingClientRect(),w=Uo(p.extent)?p.extent:i;let{positionAbsolute:j}=p.internals;p.parentId&&p.extent==="parent"?j=RO(j,v,t.get(p.parentId)):w&&(j=js(j,w,v));const k={...p,measured:v,internals:{...p.internals,positionAbsolute:j,handleBounds:{source:Ik("source",m.nodeElement,b,f,p.id),target:Ik("target",m.nodeElement,b,f,p.id)}}};t.set(p.id,k),p.parentId&&cb(k,t,r,{nodeOrigin:a,zIndexMode:s}),c=!0,x&&(u.push({id:p.id,type:"dimensions",dimensions:v}),p.expandParent&&p.parentId&&h.push({id:p.id,parentId:p.parentId,rect:Bo(k,a)}))}}if(h.length>0){const m=ub(h,t,r,a);u.push(...m)}return{changes:u,updatedInternals:c}}async function cH({delta:e,panZoom:t,transform:r,translateExtent:n,width:a,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[a,i]],n),l=!!s&&(s.x!==r[0]||s.y!==r[1]||s.k!==r[2]);return Promise.resolve(l)}function Bk(e,t,r,n,a,i){let s=a;const l=n.get(s)||new Map;n.set(s,l.set(r,t)),s=`${a}-${e}`;const c=n.get(s)||new Map;if(n.set(s,c.set(r,t)),i){s=`${a}-${e}-${i}`;const u=n.get(s)||new Map;n.set(s,u.set(r,t))}}function QO(e,t,r){e.clear(),t.clear();for(const n of r){const{source:a,target:i,sourceHandle:s=null,targetHandle:l=null}=n,c={edgeId:n.id,source:a,target:i,sourceHandle:s,targetHandle:l},u=`${a}-${s}--${i}-${l}`,d=`${i}-${l}--${a}-${s}`;Bk("source",c,d,e,a,s),Bk("target",c,u,e,i,l),t.set(n.id,n)}}function ZO(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:ZO(r,t):!1}function Uk(e,t,r){var a;let n=e;do{if((a=n==null?void 0:n.matches)!=null&&a.call(n,t))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function uH(e,t,r,n){const a=new Map;for(const[i,s]of e)if((s.selected||s.id===n)&&(!s.parentId||!ZO(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(i);l&&a.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function Tg({nodeId:e,dragItems:t,nodeLookup:r,dragging:n=!0}){var s,l,c;const a=[];for(const[u,d]of t){const f=(s=r.get(u))==null?void 0:s.internals.userNode;f&&a.push({...f,position:d.position,dragging:n})}if(!e)return[a[0],a];const i=(l=r.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((c=t.get(e))==null?void 0:c.position)||i.position,dragging:n}:a[0],a]}function dH({dragItems:e,snapGrid:t,x:r,y:n}){const a=e.values().next().value;if(!a)return null;const i={x:r-a.distance.x,y:n-a.distance.y},s=Eu(i,t);return{x:s.x-i.x,y:s.y-i.y}}function fH({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:n,onDragStop:a}){let i={x:null,y:null},s=0,l=new Map,c=!1,u={x:0,y:0},d=null,f=!1,h=null,m=!1,p=!1,v=null;function x({noDragClassName:b,handleSelector:w,domNode:j,isSelectable:k,nodeId:_,nodeClickDistance:N=0}){h=wr(j);function S({x:P,y:L}){const{nodeLookup:C,nodeExtent:D,snapGrid:I,snapToGrid:R,nodeOrigin:A,onNodeDrag:M,onSelectionDrag:z,onError:H,updateNodePositions:B}=t();i={x:P,y:L};let X=!1;const q=l.size>1,J=q&&D?P0(Su(l)):null,ce=q&&R?dH({dragItems:l,snapGrid:I,x:P,y:L}):null;for(const[re,Q]of l){if(!C.has(re))continue;let U={x:P-Q.distance.x,y:L-Q.distance.y};R&&(U=ce?{x:Math.round(U.x+ce.x),y:Math.round(U.y+ce.y)}:Eu(U,I));let Z=null;if(q&&D&&!Q.extent&&J){const{positionAbsolute:ne}=Q.internals,ue=ne.x-J.x+D[0][0],F=ne.x+Q.measured.width-J.x2+D[1][0],Y=ne.y-J.y+D[0][1],ie=ne.y+Q.measured.height-J.y2+D[1][1];Z=[[ue,Y],[F,ie]]}const{position:ee,positionAbsolute:V}=DO({nodeId:re,nextPosition:U,nodeLookup:C,nodeExtent:Z||D,nodeOrigin:A,onError:H});X=X||Q.position.x!==ee.x||Q.position.y!==ee.y,Q.position=ee,Q.internals.positionAbsolute=V}if(p=p||X,!!X&&(B(l,!0),v&&(n||M||!_&&z))){const[re,Q]=Tg({nodeId:_,dragItems:l,nodeLookup:C});n==null||n(v,l,re,Q),M==null||M(v,re,Q),_||z==null||z(v,Q)}}async function E(){if(!d)return;const{transform:P,panBy:L,autoPanSpeed:C,autoPanOnNodeDrag:D}=t();if(!D){c=!1,cancelAnimationFrame(s);return}const[I,R]=LO(u,d,C);(I!==0||R!==0)&&(i.x=(i.x??0)-I/P[2],i.y=(i.y??0)-R/P[2],await L({x:I,y:R})&&S(i)),s=requestAnimationFrame(E)}function T(P){var q;const{nodeLookup:L,multiSelectionActive:C,nodesDraggable:D,transform:I,snapGrid:R,snapToGrid:A,selectNodesOnDrag:M,onNodeDragStart:z,onSelectionDragStart:H,unselectNodesAndEdges:B}=t();f=!0,(!M||!k)&&!C&&_&&((q=L.get(_))!=null&&q.selected||B()),k&&M&&_&&(e==null||e(_));const X=uc(P.sourceEvent,{transform:I,snapGrid:R,snapToGrid:A,containerBounds:d});if(i=X,l=uH(L,D,X,_),l.size>0&&(r||z||!_&&H)){const[J,ce]=Tg({nodeId:_,dragItems:l,nodeLookup:L});r==null||r(P.sourceEvent,l,J,ce),z==null||z(P.sourceEvent,J,ce),_||H==null||H(P.sourceEvent,ce)}}const O=mO().clickDistance(N).on("start",P=>{const{domNode:L,nodeDragThreshold:C,transform:D,snapGrid:I,snapToGrid:R}=t();d=(L==null?void 0:L.getBoundingClientRect())||null,m=!1,p=!1,v=P.sourceEvent,C===0&&T(P),i=uc(P.sourceEvent,{transform:D,snapGrid:I,snapToGrid:R,containerBounds:d}),u=gn(P.sourceEvent,d)}).on("drag",P=>{const{autoPanOnNodeDrag:L,transform:C,snapGrid:D,snapToGrid:I,nodeDragThreshold:R,nodeLookup:A}=t(),M=uc(P.sourceEvent,{transform:C,snapGrid:D,snapToGrid:I,containerBounds:d});if(v=P.sourceEvent,(P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1||_&&!A.has(_))&&(m=!0),!m){if(!c&&L&&f&&(c=!0,E()),!f){const z=gn(P.sourceEvent,d),H=z.x-u.x,B=z.y-u.y;Math.sqrt(H*H+B*B)>R&&T(P)}(i.x!==M.xSnapped||i.y!==M.ySnapped)&&l&&f&&(u=gn(P.sourceEvent,d),S(M))}}).on("end",P=>{if(!(!f||m)&&(c=!1,f=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:L,updateNodePositions:C,onNodeDragStop:D,onSelectionDragStop:I}=t();if(p&&(C(l,!1),p=!1),a||D||!_&&I){const[R,A]=Tg({nodeId:_,dragItems:l,nodeLookup:L,dragging:!1});a==null||a(P.sourceEvent,l,R,A),D==null||D(P.sourceEvent,R,A),_||I==null||I(P.sourceEvent,A)}}}).filter(P=>{const L=P.target;return!P.button&&(!b||!Uk(L,`.${b}`,j))&&(!w||Uk(L,w,j))});h.call(O)}function g(){h==null||h.on(".drag",null)}return{update:x,destroy:g}}function hH(e,t,r){const n=[],a={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const i of t.values())Fc(a,Bo(i))>0&&n.push(i);return n}const mH=250;function pH(e,t,r,n){var l,c;let a=[],i=1/0;const s=hH(e,r,t+mH);for(const u of s){const d=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const f of d){if(n.nodeId===f.nodeId&&n.type===f.type&&n.id===f.id)continue;const{x:h,y:m}=ks(u,f,f.position,!0),p=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(m-e.y,2));p>t||(p<i?(a=[{...f,x:h,y:m}],i=p):p===i&&a.push({...f,x:h,y:m}))}}if(!a.length)return null;if(a.length>1){const u=n.type==="source"?"target":"source";return a.find(d=>d.type===u)??a[0]}return a[0]}function JO(e,t,r,n,a,i=!1){var u,d,f;const s=n.get(e);if(!s)return null;const l=a==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((d=s.internals.handleBounds)==null?void 0:d.source)??[],...((f=s.internals.handleBounds)==null?void 0:f.target)??[]],c=(r?l==null?void 0:l.find(h=>h.id===r):l==null?void 0:l[0])??null;return c&&i?{...c,...ks(s,c,c.position,!0)}:c}function eA(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function gH(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const tA=()=>!0;function yH(e,{connectionMode:t,connectionRadius:r,handleId:n,nodeId:a,edgeUpdaterType:i,isTarget:s,domNode:l,nodeLookup:c,lib:u,autoPanOnConnect:d,flowId:f,panBy:h,cancelConnection:m,onConnectStart:p,onConnect:v,onConnectEnd:x,isValidConnection:g=tA,onReconnectEnd:b,updateConnection:w,getTransform:j,getFromHandle:k,autoPanSpeed:_,dragThreshold:N=1,handleDomNode:S}){const E=BO(e.target);let T=0,O;const{x:P,y:L}=gn(e),C=eA(i,S),D=l==null?void 0:l.getBoundingClientRect();let I=!1;if(!D||!C)return;const R=JO(a,C,n,c,t);if(!R)return;let A=gn(e,D),M=!1,z=null,H=!1,B=null;function X(){if(!d||!D)return;const[ee,V]=LO(A,D,_);h({x:ee,y:V}),T=requestAnimationFrame(X)}const q={...R,nodeId:a,type:C,position:R.position},J=c.get(a);let re={inProgress:!0,isValid:null,from:ks(J,q,fe.Left,!0),fromHandle:q,fromPosition:q.position,fromNode:J,to:A,toHandle:null,toPosition:Ok[q.position],toNode:null,pointer:A};function Q(){I=!0,w(re),p==null||p(e,{nodeId:a,handleId:n,handleType:C})}N===0&&Q();function U(ee){if(!I){const{x:ie,y:he}=gn(ee),je=ie-P,_e=he-L;if(!(je*je+_e*_e>N*N))return;Q()}if(!k()||!q){Z(ee);return}const V=j();A=gn(ee,D),O=pH(Cu(A,V,!1,[1,1]),r,c,q),M||(X(),M=!0);const ne=rA(ee,{handle:O,connectionMode:t,fromNodeId:a,fromHandleId:n,fromType:s?"target":"source",isValidConnection:g,doc:E,lib:u,flowId:f,nodeLookup:c});B=ne.handleDomNode,z=ne.connection,H=gH(!!O,ne.isValid);const ue=c.get(a),F=ue?ks(ue,q,fe.Left,!0):re.from,Y={...re,from:F,isValid:H,to:ne.toHandle&&H?ph({x:ne.toHandle.x,y:ne.toHandle.y},V):A,toHandle:ne.toHandle,toPosition:H&&ne.toHandle?ne.toHandle.position:Ok[q.position],toNode:ne.toHandle?c.get(ne.toHandle.nodeId):null,pointer:A};w(Y),re=Y}function Z(ee){if(!("touches"in ee&&ee.touches.length>0)){if(I){(O||B)&&z&&H&&(v==null||v(z));const{inProgress:V,...ne}=re,ue={...ne,toPosition:re.toHandle?re.toPosition:null};x==null||x(ee,ue),i&&(b==null||b(ee,ue))}m(),cancelAnimationFrame(T),M=!1,H=!1,z=null,B=null,E.removeEventListener("mousemove",U),E.removeEventListener("mouseup",Z),E.removeEventListener("touchmove",U),E.removeEventListener("touchend",Z)}}E.addEventListener("mousemove",U),E.addEventListener("mouseup",Z),E.addEventListener("touchmove",U),E.addEventListener("touchend",Z)}function rA(e,{handle:t,connectionMode:r,fromNodeId:n,fromHandleId:a,fromType:i,doc:s,lib:l,flowId:c,isValidConnection:u=tA,nodeLookup:d}){const f=i==="target",h=t?s.querySelector(`.${l}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:m,y:p}=gn(e),v=s.elementFromPoint(m,p),x=v!=null&&v.classList.contains(`${l}-flow__handle`)?v:h,g={handleDomNode:x,isValid:!1,connection:null,toHandle:null};if(x){const b=eA(void 0,x),w=x.getAttribute("data-nodeid"),j=x.getAttribute("data-handleid"),k=x.classList.contains("connectable"),_=x.classList.contains("connectableend");if(!w||!b)return g;const N={source:f?w:n,sourceHandle:f?j:a,target:f?n:w,targetHandle:f?a:j};g.connection=N;const E=k&&_&&(r===zo.Strict?f&&b==="source"||!f&&b==="target":w!==n||j!==a);g.isValid=E&&u(N),g.toHandle=JO(w,b,j,d,r,!0)}return g}const T0={onPointerDown:yH,isValid:rA};function vH({domNode:e,panZoom:t,getTransform:r,getViewScale:n}){const a=wr(e);function i({translateExtent:l,width:c,height:u,zoomStep:d=1,pannable:f=!0,zoomable:h=!0,inversePan:m=!1}){const p=w=>{if(w.sourceEvent.type!=="wheel"||!t)return;const j=r(),k=w.sourceEvent.ctrlKey&&Bc()?10:1,_=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*d,N=j[2]*Math.pow(2,_*k);t.scaleTo(N)};let v=[0,0];const x=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(v=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},g=w=>{const j=r();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!t)return;const k=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],_=[k[0]-v[0],k[1]-v[1]];v=k;const N=n()*Math.max(j[2],Math.log(j[2]))*(m?-1:1),S={x:j[0]-_[0]*N,y:j[1]-_[1]*N},E=[[0,0],[c,u]];t.setViewportConstrained({x:S.x,y:S.y,zoom:j[2]},E,l)},b=PO().on("start",x).on("zoom",f?g:null).on("zoom.wheel",h?p:null);a.call(b,{})}function s(){a.on("zoom",null)}return{update:i,destroy:s,pointer:cn}}const Hm=e=>({x:e.x,y:e.y,zoom:e.k}),Mg=({x:e,y:t,zoom:r})=>Fm.translate(e,t).scale(r),ro=(e,t)=>e.target.closest(`.${t}`),nA=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),xH=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Ig=(e,t=0,r=xH,n=()=>{})=>{const a=typeof t=="number"&&t>0;return a||n(),a?e.transition().duration(t).ease(r).on("end",n):e},aA=e=>{const t=e.ctrlKey&&Bc()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function bH({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:n,panOnScrollMode:a,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:u}){return d=>{if(ro(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=r.property("__zoom").k||1;if(d.ctrlKey&&s){const x=cn(d),g=aA(d),b=f*Math.pow(2,g);n.scaleTo(r,b,x,d);return}const h=d.deltaMode===1?20:1;let m=a===ls.Vertical?0:d.deltaX*h,p=a===ls.Horizontal?0:d.deltaY*h;!Bc()&&d.shiftKey&&a!==ls.Vertical&&(m=d.deltaY*h,p=0),n.translateBy(r,-(m/f)*i,-(p/f)*i,{internal:!0});const v=Hm(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(d,v),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(d,v))}}function wH({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(n,a){const i=n.type==="wheel",s=!t&&i&&!n.ctrlKey,l=ro(n,e);if(n.ctrlKey&&i&&l&&n.preventDefault(),s||l)return null;n.preventDefault(),r.call(this,n,a)}}function jH({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return n=>{var i,s,l;if((i=n.sourceEvent)!=null&&i.internal)return;const a=Hm(n.transform);e.mouseButton=((s=n.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((l=n.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),r&&(r==null||r(n.sourceEvent,a))}}function kH({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:n,onPanZoom:a}){return i=>{var s,l;e.usedRightMouseButton=!!(r&&nA(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||n([i.transform.x,i.transform.y,i.transform.k]),a&&!((l=i.sourceEvent)!=null&&l.internal)&&(a==null||a(i.sourceEvent,Hm(i.transform)))}}function NH({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:a,onPaneContextMenu:i}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&nA(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,n(!1),a)){const c=Hm(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(s.sourceEvent,c)},r?150:0)}}}function _H({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:n,panOnScroll:a,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:l,noPanClassName:c,lib:u,connectionInProgress:d}){return f=>{var x;const h=e||t,m=r&&f.ctrlKey,p=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(ro(f,`${u}-flow__node`)||ro(f,`${u}-flow__edge`)))return!0;if(!n&&!h&&!a&&!i&&!r||s||d&&!p||ro(f,l)&&p||ro(f,c)&&(!p||a&&p&&!e)||!r&&f.ctrlKey&&p)return!1;if(!r&&f.type==="touchstart"&&((x=f.touches)==null?void 0:x.length)>1)return f.preventDefault(),!1;if(!h&&!a&&!m&&p||!n&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(n)&&!n.includes(f.button)&&f.type==="mousedown")return!1;const v=Array.isArray(n)&&n.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||p)&&v}}function SH({domNode:e,minZoom:t,maxZoom:r,translateExtent:n,viewport:a,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=PO().scaleExtent([t,r]).translateExtent(n),h=wr(e).call(f);b({x:a.x,y:a.y,zoom:Fo(a.zoom,t,r)},[[0,0],[d.width,d.height]],n);const m=h.on("wheel.zoom"),p=h.on("dblclick.zoom");f.wheelDelta(aA);function v(O,P){return h?new Promise(L=>{f==null||f.interpolate((P==null?void 0:P.interpolate)==="linear"?pa:wf).transform(Ig(h,P==null?void 0:P.duration,P==null?void 0:P.ease,()=>L(!0)),O)}):Promise.resolve(!1)}function x({noWheelClassName:O,noPanClassName:P,onPaneContextMenu:L,userSelectionActive:C,panOnScroll:D,panOnDrag:I,panOnScrollMode:R,panOnScrollSpeed:A,preventScrolling:M,zoomOnPinch:z,zoomOnScroll:H,zoomOnDoubleClick:B,zoomActivationKeyPressed:X,lib:q,onTransformChange:J,connectionInProgress:ce,paneClickDistance:re,selectionOnDrag:Q}){C&&!u.isZoomingOrPanning&&g();const U=D&&!X&&!C;f.clickDistance(Q?1/0:!pn(re)||re<0?0:re);const Z=U?bH({zoomPanValues:u,noWheelClassName:O,d3Selection:h,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:A,zoomOnPinch:z,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:l}):wH({noWheelClassName:O,preventScrolling:M,d3ZoomHandler:m});if(h.on("wheel.zoom",Z,{passive:!1}),!C){const V=jH({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:s});f.on("start",V);const ne=kH({zoomPanValues:u,panOnDrag:I,onPaneContextMenu:!!L,onPanZoom:i,onTransformChange:J});f.on("zoom",ne);const ue=NH({zoomPanValues:u,panOnDrag:I,panOnScroll:D,onPaneContextMenu:L,onPanZoomEnd:l,onDraggingChange:c});f.on("end",ue)}const ee=_H({zoomActivationKeyPressed:X,panOnDrag:I,zoomOnScroll:H,panOnScroll:D,zoomOnDoubleClick:B,zoomOnPinch:z,userSelectionActive:C,noPanClassName:P,noWheelClassName:O,lib:q,connectionInProgress:ce});f.filter(ee),B?h.on("dblclick.zoom",p):h.on("dblclick.zoom",null)}function g(){f.on("zoom",null)}async function b(O,P,L){const C=Mg(O),D=f==null?void 0:f.constrain()(C,P,L);return D&&await v(D),new Promise(I=>I(D))}async function w(O,P){const L=Mg(O);return await v(L,P),new Promise(C=>C(L))}function j(O){if(h){const P=Mg(O),L=h.property("__zoom");(L.k!==O.zoom||L.x!==O.x||L.y!==O.y)&&(f==null||f.transform(h,P,null,{sync:!0}))}}function k(){const O=h?CO(h.node()):{x:0,y:0,k:1};return{x:O.x,y:O.y,zoom:O.k}}function _(O,P){return h?new Promise(L=>{f==null||f.interpolate((P==null?void 0:P.interpolate)==="linear"?pa:wf).scaleTo(Ig(h,P==null?void 0:P.duration,P==null?void 0:P.ease,()=>L(!0)),O)}):Promise.resolve(!1)}function N(O,P){return h?new Promise(L=>{f==null||f.interpolate((P==null?void 0:P.interpolate)==="linear"?pa:wf).scaleBy(Ig(h,P==null?void 0:P.duration,P==null?void 0:P.ease,()=>L(!0)),O)}):Promise.resolve(!1)}function S(O){f==null||f.scaleExtent(O)}function E(O){f==null||f.translateExtent(O)}function T(O){const P=!pn(O)||O<0?0:O;f==null||f.clickDistance(P)}return{update:x,destroy:g,setViewport:w,setViewportConstrained:b,getViewport:k,scaleTo:_,scaleBy:N,setScaleExtent:S,setTranslateExtent:E,syncViewport:j,setClickDistance:T}}var Ho;(function(e){e.Line="line",e.Handle="handle"})(Ho||(Ho={}));function EH({width:e,prevWidth:t,height:r,prevHeight:n,affectsX:a,affectsY:i}){const s=e-t,l=r-n,c=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&a&&(c[0]=c[0]*-1),l&&i&&(c[1]=c[1]*-1),c}function Hk(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),n=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:n,affectsY:a}}function za(e,t){return Math.max(0,t-e)}function Fa(e,t){return Math.max(0,e-t)}function Dd(e,t,r){return Math.max(0,t-e,e-r)}function Vk(e,t){return e?!t:t}function CH(e,t,r,n,a,i,s,l){let{affectsX:c,affectsY:u}=t;const{isHorizontal:d,isVertical:f}=t,h=d&&f,{xSnapped:m,ySnapped:p}=r,{minWidth:v,maxWidth:x,minHeight:g,maxHeight:b}=n,{x:w,y:j,width:k,height:_,aspectRatio:N}=e;let S=Math.floor(d?m-e.pointerX:0),E=Math.floor(f?p-e.pointerY:0);const T=k+(c?-S:S),O=_+(u?-E:E),P=-i[0]*k,L=-i[1]*_;let C=Dd(T,v,x),D=Dd(O,g,b);if(s){let A=0,M=0;c&&S<0?A=za(w+S+P,s[0][0]):!c&&S>0&&(A=Fa(w+T+P,s[1][0])),u&&E<0?M=za(j+E+L,s[0][1]):!u&&E>0&&(M=Fa(j+O+L,s[1][1])),C=Math.max(C,A),D=Math.max(D,M)}if(l){let A=0,M=0;c&&S>0?A=Fa(w+S,l[0][0]):!c&&S<0&&(A=za(w+T,l[1][0])),u&&E>0?M=Fa(j+E,l[0][1]):!u&&E<0&&(M=za(j+O,l[1][1])),C=Math.max(C,A),D=Math.max(D,M)}if(a){if(d){const A=Dd(T/N,g,b)*N;if(C=Math.max(C,A),s){let M=0;!c&&!u||c&&!u&&h?M=Fa(j+L+T/N,s[1][1])*N:M=za(j+L+(c?S:-S)/N,s[0][1])*N,C=Math.max(C,M)}if(l){let M=0;!c&&!u||c&&!u&&h?M=za(j+T/N,l[1][1])*N:M=Fa(j+(c?S:-S)/N,l[0][1])*N,C=Math.max(C,M)}}if(f){const A=Dd(O*N,v,x)/N;if(D=Math.max(D,A),s){let M=0;!c&&!u||u&&!c&&h?M=Fa(w+O*N+P,s[1][0])/N:M=za(w+(u?E:-E)*N+P,s[0][0])/N,D=Math.max(D,M)}if(l){let M=0;!c&&!u||u&&!c&&h?M=za(w+O*N,l[1][0])/N:M=Fa(w+(u?E:-E)*N,l[0][0])/N,D=Math.max(D,M)}}}E=E+(E<0?D:-D),S=S+(S<0?C:-C),a&&(h?T>O*N?E=(Vk(c,u)?-S:S)/N:S=(Vk(c,u)?-E:E)*N:d?(E=S/N,u=c):(S=E*N,c=u));const I=c?w+S:w,R=u?j+E:j;return{width:k+(c?-S:S),height:_+(u?-E:E),x:i[0]*S*(c?-1:1)+I,y:i[1]*E*(u?-1:1)+R}}const iA={width:0,height:0,x:0,y:0},PH={...iA,pointerX:0,pointerY:0,aspectRatio:1};function OH(e){return[[0,0],[e.measured.width,e.measured.height]]}function AH(e,t,r){const n=t.position.x+e.position.x,a=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,l=r[0]*i,c=r[1]*s;return[[n-l,a-c],[n+i-l,a+s-c]]}function TH({domNode:e,nodeId:t,getStoreItems:r,onChange:n,onEnd:a}){const i=wr(e);let s={controlDirection:Hk("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:d,keepAspectRatio:f,resizeDirection:h,onResizeStart:m,onResize:p,onResizeEnd:v,shouldResize:x}){let g={...iA},b={...PH};s={boundaries:d,resizeDirection:h,keepAspectRatio:f,controlDirection:Hk(u)};let w,j=null,k=[],_,N,S,E=!1;const T=mO().on("start",O=>{const{nodeLookup:P,transform:L,snapGrid:C,snapToGrid:D,nodeOrigin:I,paneDomNode:R}=r();if(w=P.get(t),!w)return;j=(R==null?void 0:R.getBoundingClientRect())??null;const{xSnapped:A,ySnapped:M}=uc(O.sourceEvent,{transform:L,snapGrid:C,snapToGrid:D,containerBounds:j});g={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},b={...g,pointerX:A,pointerY:M,aspectRatio:g.width/g.height},_=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(_=P.get(w.parentId),N=_&&w.extent==="parent"?OH(_):void 0),k=[],S=void 0;for(const[z,H]of P)if(H.parentId===t&&(k.push({id:z,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const B=AH(H,w,H.origin??I);S?S=[[Math.min(B[0][0],S[0][0]),Math.min(B[0][1],S[0][1])],[Math.max(B[1][0],S[1][0]),Math.max(B[1][1],S[1][1])]]:S=B}m==null||m(O,{...g})}).on("drag",O=>{const{transform:P,snapGrid:L,snapToGrid:C,nodeOrigin:D}=r(),I=uc(O.sourceEvent,{transform:P,snapGrid:L,snapToGrid:C,containerBounds:j}),R=[];if(!w)return;const{x:A,y:M,width:z,height:H}=g,B={},X=w.origin??D,{width:q,height:J,x:ce,y:re}=CH(b,s.controlDirection,I,s.boundaries,s.keepAspectRatio,X,N,S),Q=q!==z,U=J!==H,Z=ce!==A&&Q,ee=re!==M&&U;if(!Z&&!ee&&!Q&&!U)return;if((Z||ee||X[0]===1||X[1]===1)&&(B.x=Z?ce:g.x,B.y=ee?re:g.y,g.x=B.x,g.y=B.y,k.length>0)){const F=ce-A,Y=re-M;for(const ie of k)ie.position={x:ie.position.x-F+X[0]*(q-z),y:ie.position.y-Y+X[1]*(J-H)},R.push(ie)}if((Q||U)&&(B.width=Q&&(!s.resizeDirection||s.resizeDirection==="horizontal")?q:g.width,B.height=U&&(!s.resizeDirection||s.resizeDirection==="vertical")?J:g.height,g.width=B.width,g.height=B.height),_&&w.expandParent){const F=X[0]*(B.width??0);B.x&&B.x<F&&(g.x=F,b.x=b.x-(B.x-F));const Y=X[1]*(B.height??0);B.y&&B.y<Y&&(g.y=Y,b.y=b.y-(B.y-Y))}const V=EH({width:g.width,prevWidth:z,height:g.height,prevHeight:H,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),ne={...g,direction:V};(x==null?void 0:x(O,ne))!==!1&&(E=!0,p==null||p(O,ne),n(B,R))}).on("end",O=>{E&&(v==null||v(O,{...g}),a==null||a({...g}),E=!1)});i.call(T)}function c(){i.on(".drag",null)}return{update:l,destroy:c}}const{useDebugValue:MH}=Vr,{useSyncExternalStoreWithSelector:IH}=ZP,DH=e=>e;function sA(e,t=DH,r){const n=IH(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return MH(n),n}const Wk=(e,t)=>{const r=KP(e),n=(a,i=t)=>sA(r,a,i);return Object.assign(n,r),n},RH=(e,t)=>e?Wk(e,t):Wk;function Ve(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const Vm=y.createContext(null),LH=Vm.Provider,oA=Un.error001();function be(e,t){const r=y.useContext(Vm);if(r===null)throw new Error(oA);return sA(r,e,t)}function We(){const e=y.useContext(Vm);if(e===null)throw new Error(oA);return y.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Kk={display:"none"},$H={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},lA="react-flow__node-desc",cA="react-flow__edge-desc",zH="react-flow__aria-live",FH=e=>e.ariaLiveMessage,BH=e=>e.ariaLabelConfig;function UH({rfId:e}){const t=be(FH);return o.jsx("div",{id:`${zH}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:$H,children:t})}function HH({rfId:e,disableKeyboardA11y:t}){const r=be(BH);return o.jsxs(o.Fragment,{children:[o.jsx("div",{id:`${lA}-${e}`,style:Kk,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),o.jsx("div",{id:`${cA}-${e}`,style:Kk,children:r["edge.a11yDescription.default"]}),!t&&o.jsx(UH,{rfId:e})]})}const Wm=y.forwardRef(({position:e="top-left",children:t,className:r,style:n,...a},i)=>{const s=`${e}`.split("-");return o.jsx("div",{className:ut(["react-flow__panel",r,...s]),style:n,ref:i,...a,children:t})});Wm.displayName="Panel";function VH({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:o.jsx(Wm,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:o.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const WH=e=>{const t=[],r=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,n]of e.edgeLookup)n.selected&&r.push(n);return{selectedNodes:t,selectedEdges:r}},Rd=e=>e.id;function KH(e,t){return Ve(e.selectedNodes.map(Rd),t.selectedNodes.map(Rd))&&Ve(e.selectedEdges.map(Rd),t.selectedEdges.map(Rd))}function qH({onSelectionChange:e}){const t=We(),{selectedNodes:r,selectedEdges:n}=be(WH,KH);return y.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(i=>i(a))},[r,n,e]),null}const YH=e=>!!e.onSelectionChangeHandlers;function XH({onSelectionChange:e}){const t=be(YH);return e||t?o.jsx(qH,{onSelectionChange:e}):null}const uA=[0,0],GH={x:0,y:0,zoom:1},QH=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],qk=[...QH,"rfId"],ZH=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Yk={translateExtent:$c,nodeOrigin:uA,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function JH(e){const{setNodes:t,setEdges:r,setMinZoom:n,setMaxZoom:a,setTranslateExtent:i,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:c}=be(ZH,Ve),u=We();y.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{d.current=Yk,l()}),[]);const d=y.useRef(Yk);return y.useEffect(()=>{for(const f of qk){const h=e[f],m=d.current[f];h!==m&&(typeof e[f]>"u"||(f==="nodes"?t(h):f==="edges"?r(h):f==="minZoom"?n(h):f==="maxZoom"?a(h):f==="translateExtent"?i(h):f==="nodeExtent"?s(h):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:WU(h)}):f==="fitView"?u.setState({fitViewQueued:h}):f==="fitViewOptions"?u.setState({fitViewOptions:h}):u.setState({[f]:h})))}d.current=e},qk.map(f=>e[f])),null}function Xk(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function eV(e){var n;const[t,r]=y.useState(e==="system"?null:e);return y.useEffect(()=>{if(e!=="system"){r(e);return}const a=Xk(),i=()=>r(a!=null&&a.matches?"dark":"light");return i(),a==null||a.addEventListener("change",i),()=>{a==null||a.removeEventListener("change",i)}},[e]),t!==null?t:(n=Xk())!=null&&n.matches?"dark":"light"}const Gk=typeof document<"u"?document:null;function Uc(e=null,t={target:Gk,actInsideInputWithModifier:!0}){const[r,n]=y.useState(!1),a=y.useRef(!1),i=y.useRef(new Set([])),[s,l]=y.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return y.useEffect(()=>{const c=(t==null?void 0:t.target)??Gk,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=m=>{var x,g;if(a.current=m.ctrlKey||m.metaKey||m.shiftKey||m.altKey,(!a.current||a.current&&!u)&&UO(m))return!1;const v=Zk(m.code,l);if(i.current.add(m[v]),Qk(s,i.current,!1)){const b=((g=(x=m.composedPath)==null?void 0:x.call(m))==null?void 0:g[0])||m.target,w=(b==null?void 0:b.nodeName)==="BUTTON"||(b==null?void 0:b.nodeName)==="A";t.preventDefault!==!1&&(a.current||!w)&&m.preventDefault(),n(!0)}},f=m=>{const p=Zk(m.code,l);Qk(s,i.current,!0)?(n(!1),i.current.clear()):i.current.delete(m[p]),m.key==="Meta"&&i.current.clear(),a.current=!1},h=()=>{i.current.clear(),n(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,n]),r}function Qk(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function Zk(e,t){return t.includes(e)?"code":"key"}const tV=()=>{const e=We();return y.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:n}=e.getState();return n?n.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[n,a,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??n,y:t.y??a,zoom:t.zoom??i},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,n]=e.getState().transform;return{x:t,y:r,zoom:n}},setCenter:async(t,r,n)=>e.getState().setCenter(t,r,n),fitBounds:async(t,r)=>{const{width:n,height:a,minZoom:i,maxZoom:s,panZoom:l}=e.getState(),c=ab(t,n,a,i,s,(r==null?void 0:r.padding)??.1);return l?(await l.setViewport(c,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:n,snapGrid:a,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:l,y:c}=s.getBoundingClientRect(),u={x:t.x-l,y:t.y-c},d=r.snapGrid??a,f=r.snapToGrid??i;return Cu(u,n,f,d)},flowToScreenPosition:t=>{const{transform:r,domNode:n}=e.getState();if(!n)return t;const{x:a,y:i}=n.getBoundingClientRect(),s=ph(t,r);return{x:s.x+a,y:s.y+i}}}),[])};function dA(e,t){const r=[],n=new Map,a=[];for(const i of e)if(i.type==="add"){a.push(i);continue}else if(i.type==="remove"||i.type==="replace")n.set(i.id,[i]);else{const s=n.get(i.id);s?s.push(i):n.set(i.id,[i])}for(const i of t){const s=n.get(i.id);if(!s){r.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){r.push({...s[0].item});continue}const l={...i};for(const c of s)rV(c,l);r.push(l)}return a.length&&a.forEach(i=>{i.index!==void 0?r.splice(i.index,0,{...i.item}):r.push({...i.item})}),r}function rV(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function fA(e,t){return dA(e,t)}function hA(e,t){return dA(e,t)}function Di(e,t){return{id:e,type:"select",selected:t}}function no(e,t=new Set,r=!1){const n=[];for(const[a,i]of e){const s=t.has(a);!(i.selected===void 0&&!s)&&i.selected!==s&&(r&&(i.selected=s),n.push(Di(i.id,s)))}return n}function Jk({items:e=[],lookup:t}){var a;const r=[],n=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const l=t.get(s.id),c=((a=l==null?void 0:l.internals)==null?void 0:a.userNode)??l;c!==void 0&&c!==s&&r.push({id:s.id,item:s,type:"replace"}),c===void 0&&r.push({item:s,type:"add",index:i})}for(const[i]of t)n.get(i)===void 0&&r.push({id:i,type:"remove"});return r}function eN(e){return{id:e.id,type:"remove"}}const tN=e=>DU(e),nV=e=>IO(e);function mA(e){return y.forwardRef(e)}const aV=typeof window<"u"?y.useLayoutEffect:y.useEffect;function rN(e){const[t,r]=y.useState(BigInt(0)),[n]=y.useState(()=>iV(()=>r(a=>a+BigInt(1))));return aV(()=>{const a=n.get();a.length&&(e(a),n.reset())},[t]),n}function iV(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const pA=y.createContext(null);function sV({children:e}){const t=We(),r=y.useCallback(l=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:d,onNodesChange:f,nodeLookup:h,fitViewQueued:m,onNodesChangeMiddlewareMap:p}=t.getState();let v=c;for(const g of l)v=typeof g=="function"?g(v):g;let x=Jk({items:v,lookup:h});for(const g of p.values())x=g(x);d&&u(v),x.length>0?f==null||f(x):m&&window.requestAnimationFrame(()=>{const{fitViewQueued:g,nodes:b,setNodes:w}=t.getState();g&&w(b)})},[]),n=rN(r),a=y.useCallback(l=>{const{edges:c=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:h}=t.getState();let m=c;for(const p of l)m=typeof p=="function"?p(m):p;d?u(m):f&&f(Jk({items:m,lookup:h}))},[]),i=rN(a),s=y.useMemo(()=>({nodeQueue:n,edgeQueue:i}),[]);return o.jsx(pA.Provider,{value:s,children:e})}function oV(){const e=y.useContext(pA);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const lV=e=>!!e.panZoom;function ul(){const e=tV(),t=We(),r=oV(),n=be(lV),a=y.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),s=f=>{r.nodeQueue.push(f)},l=f=>{r.edgeQueue.push(f)},c=f=>{var g,b;const{nodeLookup:h,nodeOrigin:m}=t.getState(),p=tN(f)?f:h.get(f.id),v=p.parentId?FO(p.position,p.measured,p.parentId,h,m):p.position,x={...p,position:v,width:((g=p.measured)==null?void 0:g.width)??p.width,height:((b=p.measured)==null?void 0:b.height)??p.height};return Bo(x)},u=(f,h,m={replace:!1})=>{s(p=>p.map(v=>{if(v.id===f){const x=typeof h=="function"?h(v):h;return m.replace&&tN(x)?x:{...v,...x}}return v}))},d=(f,h,m={replace:!1})=>{l(p=>p.map(v=>{if(v.id===f){const x=typeof h=="function"?h(v):h;return m.replace&&nV(x)?x:{...v,...x}}return v}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var h;return(h=i(f))==null?void 0:h.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(h=>({...h}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:s,setEdges:l,addNodes:f=>{const h=Array.isArray(f)?f:[f];r.nodeQueue.push(m=>[...m,...h])},addEdges:f=>{const h=Array.isArray(f)?f:[f];r.edgeQueue.push(m=>[...m,...h])},toObject:()=>{const{nodes:f=[],edges:h=[],transform:m}=t.getState(),[p,v,x]=m;return{nodes:f.map(g=>({...g})),edges:h.map(g=>({...g})),viewport:{x:p,y:v,zoom:x}}},deleteElements:async({nodes:f=[],edges:h=[]})=>{const{nodes:m,edges:p,onNodesDelete:v,onEdgesDelete:x,triggerNodeChanges:g,triggerEdgeChanges:b,onDelete:w,onBeforeDelete:j}=t.getState(),{nodes:k,edges:_}=await FU({nodesToRemove:f,edgesToRemove:h,nodes:m,edges:p,onBeforeDelete:j}),N=_.length>0,S=k.length>0;if(N){const E=_.map(eN);x==null||x(_),b(E)}if(S){const E=k.map(eN);v==null||v(k),g(E)}return(S||N)&&(w==null||w({nodes:k,edges:_})),{deletedNodes:k,deletedEdges:_}},getIntersectingNodes:(f,h=!0,m)=>{const p=Tk(f),v=p?f:c(f),x=m!==void 0;return v?(m||t.getState().nodes).filter(g=>{const b=t.getState().nodeLookup.get(g.id);if(b&&!p&&(g.id===f.id||!b.internals.positionAbsolute))return!1;const w=Bo(x?g:b),j=Fc(w,v);return h&&j>0||j>=w.width*w.height||j>=v.width*v.height}):[]},isNodeIntersecting:(f,h,m=!0)=>{const v=Tk(f)?f:c(f);if(!v)return!1;const x=Fc(v,h);return m&&x>0||x>=h.width*h.height||x>=v.width*v.height},updateNode:u,updateNodeData:(f,h,m={replace:!1})=>{u(f,p=>{const v=typeof h=="function"?h(p):h;return m.replace?{...p,data:v}:{...p,data:{...p.data,...v}}},m)},updateEdge:d,updateEdgeData:(f,h,m={replace:!1})=>{d(f,p=>{const v=typeof h=="function"?h(p):h;return m.replace?{...p,data:v}:{...p,data:{...p.data,...v}}},m)},getNodesBounds:f=>{const{nodeLookup:h,nodeOrigin:m}=t.getState();return RU(f,{nodeLookup:h,nodeOrigin:m})},getHandleConnections:({type:f,id:h,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}-${f}${h?`-${h}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:h,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}${f?h?`-${f}-${h}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const h=t.getState().fitViewResolver??VU();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:h}),r.nodeQueue.push(m=>[...m]),h.promise}}},[]);return y.useMemo(()=>({...a,...e,viewportInitialized:n}),[n])}const nN=e=>e.selected,cV=typeof window<"u"?window:void 0;function uV({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=We(),{deleteElements:n}=ul(),a=Uc(e,{actInsideInputWithModifier:!1}),i=Uc(t,{target:cV});y.useEffect(()=>{if(a){const{edges:s,nodes:l}=r.getState();n({nodes:l.filter(nN),edges:s.filter(nN)}),r.setState({nodesSelectionActive:!1})}},[a]),y.useEffect(()=>{r.setState({multiSelectionActive:i})},[i])}function dV(e){const t=We();y.useEffect(()=>{const r=()=>{var a,i,s,l;if(!e.current||!(((i=(a=e.current).checkVisibility)==null?void 0:i.call(a))??!0))return!1;const n=ib(e.current);(n.height===0||n.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",Un.error004())),t.setState({width:n.width||500,height:n.height||500})};if(e.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}}},[])}const Km={position:"absolute",width:"100%",height:"100%",top:0,left:0},fV=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function hV({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:a=.5,panOnScrollMode:i=ls.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:u,minZoom:d,maxZoom:f,zoomActivationKeyCode:h,preventScrolling:m=!0,children:p,noWheelClassName:v,noPanClassName:x,onViewportChange:g,isControlledViewport:b,paneClickDistance:w,selectionOnDrag:j}){const k=We(),_=y.useRef(null),{userSelectionActive:N,lib:S,connectionInProgress:E}=be(fV,Ve),T=Uc(h),O=y.useRef();dV(_);const P=y.useCallback(L=>{g==null||g({x:L[0],y:L[1],zoom:L[2]}),b||k.setState({transform:L})},[g,b]);return y.useEffect(()=>{if(_.current){O.current=SH({domNode:_.current,minZoom:d,maxZoom:f,translateExtent:u,viewport:c,onDraggingChange:I=>k.setState({paneDragging:I}),onPanZoomStart:(I,R)=>{const{onViewportChangeStart:A,onMoveStart:M}=k.getState();M==null||M(I,R),A==null||A(R)},onPanZoom:(I,R)=>{const{onViewportChange:A,onMove:M}=k.getState();M==null||M(I,R),A==null||A(R)},onPanZoomEnd:(I,R)=>{const{onViewportChangeEnd:A,onMoveEnd:M}=k.getState();M==null||M(I,R),A==null||A(R)}});const{x:L,y:C,zoom:D}=O.current.getViewport();return k.setState({panZoom:O.current,transform:[L,C,D],domNode:_.current.closest(".react-flow")}),()=>{var I;(I=O.current)==null||I.destroy()}}},[]),y.useEffect(()=>{var L;(L=O.current)==null||L.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:a,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:T,preventScrolling:m,noPanClassName:x,userSelectionActive:N,noWheelClassName:v,lib:S,onTransformChange:P,connectionInProgress:E,selectionOnDrag:j,paneClickDistance:w})},[e,t,r,n,a,i,s,l,T,m,x,N,v,S,P,E,j,w]),o.jsx("div",{className:"react-flow__renderer",ref:_,style:Km,children:p})}const mV=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function pV(){const{userSelectionActive:e,userSelectionRect:t}=be(mV,Ve);return e&&t?o.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Dg=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},gV=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function yV({isSelecting:e,selectionKeyPressed:t,selectionMode:r=zc.Full,panOnDrag:n,paneClickDistance:a,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:m,children:p}){const v=We(),{userSelectionActive:x,elementsSelectable:g,dragging:b,connectionInProgress:w}=be(gV,Ve),j=g&&(e||x),k=y.useRef(null),_=y.useRef(),N=y.useRef(new Set),S=y.useRef(new Set),E=y.useRef(!1),T=A=>{if(E.current||w){E.current=!1;return}c==null||c(A),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},O=A=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){A.preventDefault();return}u==null||u(A)},P=d?A=>d(A):void 0,L=A=>{E.current&&(A.stopPropagation(),E.current=!1)},C=A=>{var J,ce;const{domNode:M}=v.getState();if(_.current=M==null?void 0:M.getBoundingClientRect(),!_.current)return;const z=A.target===k.current;if(!z&&!!A.target.closest(".nokey")||!e||!(i&&z||t)||A.button!==0||!A.isPrimary)return;(ce=(J=A.target)==null?void 0:J.setPointerCapture)==null||ce.call(J,A.pointerId),E.current=!1;const{x:X,y:q}=gn(A.nativeEvent,_.current);v.setState({userSelectionRect:{width:0,height:0,startX:X,startY:q,x:X,y:q}}),z||(A.stopPropagation(),A.preventDefault())},D=A=>{const{userSelectionRect:M,transform:z,nodeLookup:H,edgeLookup:B,connectionLookup:X,triggerNodeChanges:q,triggerEdgeChanges:J,defaultEdgeOptions:ce,resetSelectedElements:re}=v.getState();if(!_.current||!M)return;const{x:Q,y:U}=gn(A.nativeEvent,_.current),{startX:Z,startY:ee}=M;if(!E.current){const Y=t?0:a;if(Math.hypot(Q-Z,U-ee)<=Y)return;re(),s==null||s(A)}E.current=!0;const V={startX:Z,startY:ee,x:Q<Z?Q:Z,y:U<ee?U:ee,width:Math.abs(Q-Z),height:Math.abs(U-ee)},ne=N.current,ue=S.current;N.current=new Set(nb(H,V,z,r===zc.Partial,!0).map(Y=>Y.id)),S.current=new Set;const F=(ce==null?void 0:ce.selectable)??!0;for(const Y of N.current){const ie=X.get(Y);if(ie)for(const{edgeId:he}of ie.values()){const je=B.get(he);je&&(je.selectable??F)&&S.current.add(he)}}if(!Mk(ne,N.current)){const Y=no(H,N.current,!0);q(Y)}if(!Mk(ue,S.current)){const Y=no(B,S.current);J(Y)}v.setState({userSelectionRect:V,userSelectionActive:!0,nodesSelectionActive:!1})},I=A=>{var M,z;A.button===0&&((z=(M=A.target)==null?void 0:M.releasePointerCapture)==null||z.call(M,A.pointerId),!x&&A.target===k.current&&v.getState().userSelectionRect&&(T==null||T(A)),v.setState({userSelectionActive:!1,userSelectionRect:null}),E.current&&(l==null||l(A),v.setState({nodesSelectionActive:N.current.size>0})))},R=n===!0||Array.isArray(n)&&n.includes(0);return o.jsxs("div",{className:ut(["react-flow__pane",{draggable:R,dragging:b,selection:e}]),onClick:j?void 0:Dg(T,k),onContextMenu:Dg(O,k),onWheel:Dg(P,k),onPointerEnter:j?void 0:f,onPointerMove:j?D:h,onPointerUp:j?I:void 0,onPointerDownCapture:j?C:void 0,onClickCapture:j?L:void 0,onPointerLeave:m,ref:k,style:Km,children:[p,o.jsx(pV,{})]})}function M0({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",Un.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):a([e])}function gA({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:i,nodeClickDistance:s}){const l=We(),[c,u]=y.useState(!1),d=y.useRef();return y.useEffect(()=>{d.current=fH({getStoreItems:()=>l.getState(),onNodeMouseDown:f=>{M0({id:f,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),y.useEffect(()=>{var f,h;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(h=d.current)==null||h.update({noDragClassName:r,handleSelector:n,domNode:e.current,isSelectable:i,nodeId:a,nodeClickDistance:s}),()=>{var m;(m=d.current)==null||m.destroy()}},[r,n,t,i,e,a]),c}const vV=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function yA(){const e=We();return y.useCallback(r=>{const{nodeExtent:n,snapToGrid:a,snapGrid:i,nodesDraggable:s,onError:l,updateNodePositions:c,nodeLookup:u,nodeOrigin:d}=e.getState(),f=new Map,h=vV(s),m=a?i[0]:5,p=a?i[1]:5,v=r.direction.x*m*r.factor,x=r.direction.y*p*r.factor;for(const[,g]of u){if(!h(g))continue;let b={x:g.internals.positionAbsolute.x+v,y:g.internals.positionAbsolute.y+x};a&&(b=Eu(b,i));const{position:w,positionAbsolute:j}=DO({nodeId:g.id,nextPosition:b,nodeLookup:u,nodeExtent:n,nodeOrigin:d,onError:l});g.position=w,g.internals.positionAbsolute=j,f.set(g.id,g)}c(f)},[])}const db=y.createContext(null),xV=db.Provider;db.Consumer;const vA=()=>y.useContext(db),bV=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),wV=(e,t,r)=>n=>{const{connectionClickStartHandle:a,connectionMode:i,connection:s}=n,{fromHandle:l,toHandle:c,isValid:u}=s,d=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===r;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===r,connectingTo:d,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,isPossibleEndHandle:i===zo.Strict?(l==null?void 0:l.type)!==r:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:d&&u}};function jV({type:e="source",position:t=fe.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},m){var D,I;const p=s||null,v=e==="target",x=We(),g=vA(),{connectOnClick:b,noPanClassName:w,rfId:j}=be(bV,Ve),{connectingFrom:k,connectingTo:_,clickConnecting:N,isPossibleEndHandle:S,connectionInProcess:E,clickConnectionInProcess:T,valid:O}=be(wV(g,p,e),Ve);g||(I=(D=x.getState()).onError)==null||I.call(D,"010",Un.error010());const P=R=>{const{defaultEdgeOptions:A,onConnect:M,hasDefaultEdges:z}=x.getState(),H={...A,...R};if(z){const{edges:B,setEdges:X}=x.getState();X(qO(H,B))}M==null||M(H),l==null||l(H)},L=R=>{if(!g)return;const A=HO(R.nativeEvent);if(a&&(A&&R.button===0||!A)){const M=x.getState();T0.onPointerDown(R.nativeEvent,{handleDomNode:R.currentTarget,autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:v,handleId:p,nodeId:g,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:P,isValidConnection:r||M.isValidConnection,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed,dragThreshold:M.connectionDragThreshold})}A?d==null||d(R):f==null||f(R)},C=R=>{const{onClickConnectStart:A,onClickConnectEnd:M,connectionClickStartHandle:z,connectionMode:H,isValidConnection:B,lib:X,rfId:q,nodeLookup:J,connection:ce}=x.getState();if(!g||!z&&!a)return;if(!z){A==null||A(R.nativeEvent,{nodeId:g,handleId:p,handleType:e}),x.setState({connectionClickStartHandle:{nodeId:g,type:e,id:p}});return}const re=BO(R.target),Q=r||B,{connection:U,isValid:Z}=T0.isValid(R.nativeEvent,{handle:{nodeId:g,id:p,type:e},connectionMode:H,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:Q,flowId:q,doc:re,lib:X,nodeLookup:J});Z&&U&&P(U);const ee=structuredClone(ce);delete ee.inProgress,ee.toPosition=ee.toHandle?ee.toHandle.position:null,M==null||M(R,ee),x.setState({connectionClickStartHandle:null})};return o.jsx("div",{"data-handleid":p,"data-nodeid":g,"data-handlepos":t,"data-id":`${j}-${g}-${p}-${e}`,className:ut(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!v,target:v,connectable:n,connectablestart:a,connectableend:i,clickconnecting:N,connectingfrom:k,connectingto:_,valid:O,connectionindicator:n&&(!E||S)&&(E||T?i:a)}]),onMouseDown:L,onTouchStart:L,onClick:b?C:void 0,ref:m,...h,children:c})}const Vo=y.memo(mA(jV));function kV({data:e,isConnectable:t,sourcePosition:r=fe.Bottom}){return o.jsxs(o.Fragment,{children:[e==null?void 0:e.label,o.jsx(Vo,{type:"source",position:r,isConnectable:t})]})}function NV({data:e,isConnectable:t,targetPosition:r=fe.Top,sourcePosition:n=fe.Bottom}){return o.jsxs(o.Fragment,{children:[o.jsx(Vo,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,o.jsx(Vo,{type:"source",position:n,isConnectable:t})]})}function _V(){return null}function SV({data:e,isConnectable:t,targetPosition:r=fe.Top}){return o.jsxs(o.Fragment,{children:[o.jsx(Vo,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const yh={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},aN={input:kV,default:NV,output:SV,group:_V};function EV(e){var t,r,n,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((n=e.style)==null?void 0:n.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const CV=e=>{const{width:t,height:r,x:n,y:a}=Su(e.nodeLookup,{filter:i=>!!i.selected});return{width:pn(t)?t:null,height:pn(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${n}px,${a}px)`}};function PV({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=We(),{width:a,height:i,transformString:s,userSelectionActive:l}=be(CV,Ve),c=yA(),u=y.useRef(null);if(y.useEffect(()=>{var h;r||(h=u.current)==null||h.focus({preventScroll:!0})},[r]),gA({nodeRef:u}),l||!a||!i)return null;const d=e?h=>{const m=n.getState().nodes.filter(p=>p.selected);e(h,m)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(yh,h.key)&&(h.preventDefault(),c({direction:yh[h.key],factor:h.shiftKey?4:1}))};return o.jsx("div",{className:ut(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:o.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:r?void 0:-1,onKeyDown:r?void 0:f,style:{width:a,height:i}})})}const iN=typeof window<"u"?window:void 0,OV=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function xA({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:d,selectionMode:f,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:p,panActivationKeyCode:v,zoomActivationKeyCode:x,elementsSelectable:g,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:j,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:S,defaultViewport:E,translateExtent:T,minZoom:O,maxZoom:P,preventScrolling:L,onSelectionContextMenu:C,noWheelClassName:D,noPanClassName:I,disableKeyboardA11y:R,onViewportChange:A,isControlledViewport:M}){const{nodesSelectionActive:z,userSelectionActive:H}=be(OV,Ve),B=Uc(u,{target:iN}),X=Uc(v,{target:iN}),q=X||S,J=X||j,ce=d&&q!==!0,re=B||H||ce;return uV({deleteKeyCode:c,multiSelectionKeyCode:p}),o.jsx(hV,{onPaneContextMenu:i,elementsSelectable:g,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:J,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:!B&&q,defaultViewport:E,translateExtent:T,minZoom:O,maxZoom:P,zoomActivationKeyCode:x,preventScrolling:L,noWheelClassName:D,noPanClassName:I,onViewportChange:A,isControlledViewport:M,paneClickDistance:l,selectionOnDrag:ce,children:o.jsxs(yV,{onSelectionStart:h,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:q,isSelecting:!!re,selectionMode:f,selectionKeyPressed:B,paneClickDistance:l,selectionOnDrag:ce,children:[e,z&&o.jsx(PV,{onSelectionContextMenu:C,noPanClassName:I,disableKeyboardA11y:R})]})})}xA.displayName="FlowRenderer";const AV=y.memo(xA),TV=e=>t=>e?nb(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function MV(e){return be(y.useCallback(TV(e),[e]),Ve)}const IV=e=>e.updateNodeInternals;function DV(){const e=be(IV),[t]=y.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(a=>{const i=a.target.getAttribute("data-id");n.set(i,{id:i,nodeElement:a.target,force:!0})}),e(n)}));return y.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function RV({node:e,nodeType:t,hasDimensions:r,resizeObserver:n}){const a=We(),i=y.useRef(null),s=y.useRef(null),l=y.useRef(e.sourcePosition),c=y.useRef(e.targetPosition),u=y.useRef(t),d=r&&!!e.internals.handleBounds;return y.useEffect(()=>{i.current&&!e.hidden&&(!d||s.current!==i.current)&&(s.current&&(n==null||n.unobserve(s.current)),n==null||n.observe(i.current),s.current=i.current)},[d,e.hidden]),y.useEffect(()=>()=>{s.current&&(n==null||n.unobserve(s.current),s.current=null)},[]),y.useEffect(()=>{if(i.current){const f=u.current!==t,h=l.current!==e.sourcePosition,m=c.current!==e.targetPosition;(f||h||m)&&(u.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function LV({id:e,onClick:t,onMouseEnter:r,onMouseMove:n,onMouseLeave:a,onContextMenu:i,onDoubleClick:s,nodesDraggable:l,elementsSelectable:c,nodesConnectable:u,nodesFocusable:d,resizeObserver:f,noDragClassName:h,noPanClassName:m,disableKeyboardA11y:p,rfId:v,nodeTypes:x,nodeClickDistance:g,onError:b}){const{node:w,internals:j,isParent:k}=be(Q=>{const U=Q.nodeLookup.get(e),Z=Q.parentLookup.has(e);return{node:U,internals:U.internals,isParent:Z}},Ve);let _=w.type||"default",N=(x==null?void 0:x[_])||aN[_];N===void 0&&(b==null||b("003",Un.error003(_)),_="default",N=(x==null?void 0:x.default)||aN.default);const S=!!(w.draggable||l&&typeof w.draggable>"u"),E=!!(w.selectable||c&&typeof w.selectable>"u"),T=!!(w.connectable||u&&typeof w.connectable>"u"),O=!!(w.focusable||d&&typeof w.focusable>"u"),P=We(),L=zO(w),C=RV({node:w,nodeType:_,hasDimensions:L,resizeObserver:f}),D=gA({nodeRef:C,disabled:w.hidden||!S,noDragClassName:h,handleSelector:w.dragHandle,nodeId:e,isSelectable:E,nodeClickDistance:g}),I=yA();if(w.hidden)return null;const R=Ma(w),A=EV(w),M=E||S||t||r||n||a,z=r?Q=>r(Q,{...j.userNode}):void 0,H=n?Q=>n(Q,{...j.userNode}):void 0,B=a?Q=>a(Q,{...j.userNode}):void 0,X=i?Q=>i(Q,{...j.userNode}):void 0,q=s?Q=>s(Q,{...j.userNode}):void 0,J=Q=>{const{selectNodesOnDrag:U,nodeDragThreshold:Z}=P.getState();E&&(!U||!S||Z>0)&&M0({id:e,store:P,nodeRef:C}),t&&t(Q,{...j.userNode})},ce=Q=>{if(!(UO(Q.nativeEvent)||p)){if(OO.includes(Q.key)&&E){const U=Q.key==="Escape";M0({id:e,store:P,unselect:U,nodeRef:C})}else if(S&&w.selected&&Object.prototype.hasOwnProperty.call(yh,Q.key)){Q.preventDefault();const{ariaLabelConfig:U}=P.getState();P.setState({ariaLiveMessage:U["node.a11yDescription.ariaLiveMessage"]({direction:Q.key.replace("Arrow","").toLowerCase(),x:~~j.positionAbsolute.x,y:~~j.positionAbsolute.y})}),I({direction:yh[Q.key],factor:Q.shiftKey?4:1})}}},re=()=>{var ue;if(p||!((ue=C.current)!=null&&ue.matches(":focus-visible")))return;const{transform:Q,width:U,height:Z,autoPanOnNodeFocus:ee,setCenter:V}=P.getState();if(!ee)return;nb(new Map([[e,w]]),{x:0,y:0,width:U,height:Z},Q,!0).length>0||V(w.position.x+R.width/2,w.position.y+R.height/2,{zoom:Q[2]})};return o.jsx("div",{className:ut(["react-flow__node",`react-flow__node-${_}`,{[m]:S},w.className,{selected:w.selected,selectable:E,parent:k,draggable:S,dragging:D}]),ref:C,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:M?"all":"none",visibility:L?"visible":"hidden",...w.style,...A},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:H,onMouseLeave:B,onContextMenu:X,onClick:J,onDoubleClick:q,onKeyDown:O?ce:void 0,tabIndex:O?0:void 0,onFocus:O?re:void 0,role:w.ariaRole??(O?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${lA}-${v}`,"aria-label":w.ariaLabel,...w.domAttributes,children:o.jsx(xV,{value:e,children:o.jsx(N,{id:e,data:w.data,type:_,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:w.selected??!1,selectable:E,draggable:S,deletable:w.deletable??!0,isConnectable:T,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:D,dragHandle:w.dragHandle,zIndex:j.z,parentId:w.parentId,...R})})})}var $V=y.memo(LV);const zV=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function bA(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,onError:i}=be(zV,Ve),s=MV(e.onlyRenderVisibleElements),l=DV();return o.jsx("div",{className:"react-flow__nodes",style:Km,children:s.map(c=>o.jsx($V,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:i},c))})}bA.displayName="NodeRenderer";const FV=y.memo(bA);function BV(e){return be(y.useCallback(r=>{if(!e)return r.edges.map(a=>a.id);const n=[];if(r.width&&r.height)for(const a of r.edges){const i=r.nodeLookup.get(a.source),s=r.nodeLookup.get(a.target);i&&s&&YU({sourceNode:i,targetNode:s,width:r.width,height:r.height,transform:r.transform})&&n.push(a.id)}return n},[e]),Ve)}const UV=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return o.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},HV=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return o.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},sN={[hh.Arrow]:UV,[hh.ArrowClosed]:HV};function VV(e){const t=We();return y.useMemo(()=>{var a,i;return Object.prototype.hasOwnProperty.call(sN,e)?sN[e]:((i=(a=t.getState()).onError)==null||i.call(a,"009",Un.error009(e)),null)},[e])}const WV=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const c=VV(t);return c?o.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:o.jsx(c,{color:r,strokeWidth:s})}):null},wA=({defaultColor:e,rfId:t})=>{const r=be(i=>i.edges),n=be(i=>i.defaultEdgeOptions),a=y.useMemo(()=>tH(r,{id:t,defaultColor:e,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,t,e]);return a.length?o.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:o.jsx("defs",{children:a.map(i=>o.jsx(WV,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};wA.displayName="MarkerDefinitions";var KV=y.memo(wA);function jA({x:e,y:t,label:r,labelStyle:n,labelShowBg:a=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d}){const[f,h]=y.useState({x:1,y:0,width:0,height:0}),m=ut(["react-flow__edge-textwrapper",u]),p=y.useRef(null);return y.useEffect(()=>{if(p.current){const v=p.current.getBBox();h({x:v.x,y:v.y,width:v.width,height:v.height})}},[r]),r?o.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:m,visibility:f.width?"visible":"hidden",...d,children:[a&&o.jsx("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),o.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:n,children:r}),c]}):null}jA.displayName="EdgeText";const qV=y.memo(jA);function Wo({path:e,labelX:t,labelY:r,label:n,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:u=20,...d}){return o.jsxs(o.Fragment,{children:[o.jsx("path",{...d,d:e,fill:"none",className:ut(["react-flow__edge-path",d.className])}),u?o.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,n&&pn(t)&&pn(r)?o.jsx(qV,{x:t,y:r,label:n,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function oN({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===fe.Left||e===fe.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function kA({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:i=fe.Top}){const[s,l]=oN({pos:r,x1:e,y1:t,x2:n,y2:a}),[c,u]=oN({pos:i,x1:n,y1:a,x2:e,y2:t}),[d,f,h,m]=VO({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${n},${a}`,d,f,h,m]}function NA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,sourcePosition:s,targetPosition:l,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:v,markerStart:x,interactionWidth:g})=>{const[b,w,j]=kA({sourceX:r,sourceY:n,sourcePosition:s,targetX:a,targetY:i,targetPosition:l}),k=e.isInternal?void 0:t;return o.jsx(Wo,{id:k,path:b,labelX:w,labelY:j,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:v,markerStart:x,interactionWidth:g})})}const YV=NA({isInternal:!1}),_A=NA({isInternal:!0});YV.displayName="SimpleBezierEdge";_A.displayName="SimpleBezierEdgeInternal";function SA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:m=fe.Bottom,targetPosition:p=fe.Top,markerEnd:v,markerStart:x,pathOptions:g,interactionWidth:b})=>{const[w,j,k]=gh({sourceX:r,sourceY:n,sourcePosition:m,targetX:a,targetY:i,targetPosition:p,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset,stepPosition:g==null?void 0:g.stepPosition}),_=e.isInternal?void 0:t;return o.jsx(Wo,{id:_,path:w,labelX:j,labelY:k,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:v,markerStart:x,interactionWidth:b})})}const EA=SA({isInternal:!1}),CA=SA({isInternal:!0});EA.displayName="SmoothStepEdge";CA.displayName="SmoothStepEdgeInternal";function PA(e){return y.memo(({id:t,...r})=>{var a;const n=e.isInternal?void 0:t;return o.jsx(EA,{...r,id:n,pathOptions:y.useMemo(()=>{var i;return{borderRadius:0,offset:(i=r.pathOptions)==null?void 0:i.offset}},[(a=r.pathOptions)==null?void 0:a.offset])})})}const XV=PA({isInternal:!1}),OA=PA({isInternal:!0});XV.displayName="StepEdge";OA.displayName="StepEdgeInternal";function AA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:p,interactionWidth:v})=>{const[x,g,b]=YO({sourceX:r,sourceY:n,targetX:a,targetY:i}),w=e.isInternal?void 0:t;return o.jsx(Wo,{id:w,path:x,labelX:g,labelY:b,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:p,interactionWidth:v})})}const GV=AA({isInternal:!1}),TA=AA({isInternal:!0});GV.displayName="StraightEdge";TA.displayName="StraightEdgeInternal";function MA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,sourcePosition:s=fe.Bottom,targetPosition:l=fe.Top,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:v,markerStart:x,pathOptions:g,interactionWidth:b})=>{const[w,j,k]=WO({sourceX:r,sourceY:n,sourcePosition:s,targetX:a,targetY:i,targetPosition:l,curvature:g==null?void 0:g.curvature}),_=e.isInternal?void 0:t;return o.jsx(Wo,{id:_,path:w,labelX:j,labelY:k,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:v,markerStart:x,interactionWidth:b})})}const QV=MA({isInternal:!1}),IA=MA({isInternal:!0});QV.displayName="BezierEdge";IA.displayName="BezierEdgeInternal";const lN={default:IA,straight:TA,step:OA,smoothstep:CA,simplebezier:_A},cN={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},ZV=(e,t,r)=>r===fe.Left?e-t:r===fe.Right?e+t:e,JV=(e,t,r)=>r===fe.Top?e-t:r===fe.Bottom?e+t:e,uN="react-flow__edgeupdater";function dN({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:i,onMouseOut:s,type:l}){return o.jsx("circle",{onMouseDown:a,onMouseEnter:i,onMouseOut:s,className:ut([uN,`${uN}-${l}`]),cx:ZV(t,n,e),cy:JV(r,n,e),r:n,stroke:"transparent",fill:"transparent"})}function eW({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:n,sourceY:a,targetX:i,targetY:s,sourcePosition:l,targetPosition:c,onReconnect:u,onReconnectStart:d,onReconnectEnd:f,setReconnecting:h,setUpdateHover:m}){const p=We(),v=(j,k)=>{if(j.button!==0)return;const{autoPanOnConnect:_,domNode:N,isValidConnection:S,connectionMode:E,connectionRadius:T,lib:O,onConnectStart:P,onConnectEnd:L,cancelConnection:C,nodeLookup:D,rfId:I,panBy:R,updateConnection:A}=p.getState(),M=k.type==="target",z=(X,q)=>{h(!1),f==null||f(X,r,k.type,q)},H=X=>u==null?void 0:u(r,X),B=(X,q)=>{h(!0),d==null||d(j,r,k.type),P==null||P(X,q)};T0.onPointerDown(j.nativeEvent,{autoPanOnConnect:_,connectionMode:E,connectionRadius:T,domNode:N,handleId:k.id,nodeId:k.nodeId,nodeLookup:D,isTarget:M,edgeUpdaterType:k.type,lib:O,flowId:I,cancelConnection:C,panBy:R,isValidConnection:S,onConnect:H,onConnectStart:B,onConnectEnd:L,onReconnectEnd:z,updateConnection:A,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:j.currentTarget})},x=j=>v(j,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),g=j=>v(j,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),b=()=>m(!0),w=()=>m(!1);return o.jsxs(o.Fragment,{children:[(e===!0||e==="source")&&o.jsx(dN,{position:l,centerX:n,centerY:a,radius:t,onMouseDown:x,onMouseEnter:b,onMouseOut:w,type:"source"}),(e===!0||e==="target")&&o.jsx(dN,{position:c,centerX:i,centerY:s,radius:t,onMouseDown:g,onMouseEnter:b,onMouseOut:w,type:"target"})]})}function tW({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:n,onClick:a,onDoubleClick:i,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,rfId:p,edgeTypes:v,noPanClassName:x,onError:g,disableKeyboardA11y:b}){let w=be(V=>V.edgeLookup.get(e));const j=be(V=>V.defaultEdgeOptions);w=j?{...j,...w}:w;let k=w.type||"default",_=(v==null?void 0:v[k])||lN[k];_===void 0&&(g==null||g("011",Un.error011(k)),k="default",_=(v==null?void 0:v.default)||lN.default);const N=!!(w.focusable||t&&typeof w.focusable>"u"),S=typeof f<"u"&&(w.reconnectable||r&&typeof w.reconnectable>"u"),E=!!(w.selectable||n&&typeof w.selectable>"u"),T=y.useRef(null),[O,P]=y.useState(!1),[L,C]=y.useState(!1),D=We(),{zIndex:I,sourceX:R,sourceY:A,targetX:M,targetY:z,sourcePosition:H,targetPosition:B}=be(y.useCallback(V=>{const ne=V.nodeLookup.get(w.source),ue=V.nodeLookup.get(w.target);if(!ne||!ue)return{zIndex:w.zIndex,...cN};const F=eH({id:e,sourceNode:ne,targetNode:ue,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:V.connectionMode,onError:g});return{zIndex:qU({selected:w.selected,zIndex:w.zIndex,sourceNode:ne,targetNode:ue,elevateOnSelect:V.elevateEdgesOnSelect,zIndexMode:V.zIndexMode}),...F||cN}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),Ve),X=y.useMemo(()=>w.markerStart?`url('#${O0(w.markerStart,p)}')`:void 0,[w.markerStart,p]),q=y.useMemo(()=>w.markerEnd?`url('#${O0(w.markerEnd,p)}')`:void 0,[w.markerEnd,p]);if(w.hidden||R===null||A===null||M===null||z===null)return null;const J=V=>{var Y;const{addSelectedEdges:ne,unselectNodesAndEdges:ue,multiSelectionActive:F}=D.getState();E&&(D.setState({nodesSelectionActive:!1}),w.selected&&F?(ue({nodes:[],edges:[w]}),(Y=T.current)==null||Y.blur()):ne([e])),a&&a(V,w)},ce=i?V=>{i(V,{...w})}:void 0,re=s?V=>{s(V,{...w})}:void 0,Q=l?V=>{l(V,{...w})}:void 0,U=c?V=>{c(V,{...w})}:void 0,Z=u?V=>{u(V,{...w})}:void 0,ee=V=>{var ne;if(!b&&OO.includes(V.key)&&E){const{unselectNodesAndEdges:ue,addSelectedEdges:F}=D.getState();V.key==="Escape"?((ne=T.current)==null||ne.blur(),ue({edges:[w]})):F([e])}};return o.jsx("svg",{style:{zIndex:I},children:o.jsxs("g",{className:ut(["react-flow__edge",`react-flow__edge-${k}`,w.className,x,{selected:w.selected,animated:w.animated,inactive:!E&&!a,updating:O,selectable:E}]),onClick:J,onDoubleClick:ce,onContextMenu:re,onMouseEnter:Q,onMouseMove:U,onMouseLeave:Z,onKeyDown:N?ee:void 0,tabIndex:N?0:void 0,role:w.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":N?`${cA}-${p}`:void 0,ref:T,...w.domAttributes,children:[!L&&o.jsx(_,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:E,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:R,sourceY:A,targetX:M,targetY:z,sourcePosition:H,targetPosition:B,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:X,markerEnd:q,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),S&&o.jsx(eW,{edge:w,isReconnectable:S,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,sourceX:R,sourceY:A,targetX:M,targetY:z,sourcePosition:H,targetPosition:B,setUpdateHover:P,setReconnecting:C})]})})}var rW=y.memo(tW);const nW=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function DA({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:n,noPanClassName:a,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:m,onReconnectEnd:p,disableKeyboardA11y:v}){const{edgesFocusable:x,edgesReconnectable:g,elementsSelectable:b,onError:w}=be(nW,Ve),j=BV(t);return o.jsxs("div",{className:"react-flow__edges",children:[o.jsx(KV,{defaultColor:e,rfId:r}),j.map(k=>o.jsx(rW,{id:k,edgesFocusable:x,edgesReconnectable:g,elementsSelectable:b,noPanClassName:a,onReconnect:i,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,reconnectRadius:f,onDoubleClick:h,onReconnectStart:m,onReconnectEnd:p,rfId:r,onError:w,edgeTypes:n,disableKeyboardA11y:v},k))]})}DA.displayName="EdgeRenderer";const aW=y.memo(DA),iW=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function sW({children:e}){const t=be(iW);return o.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function oW(e){const t=ul(),r=y.useRef(!1);y.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const lW=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function cW(e){const t=be(lW),r=We();return y.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function uW(e){return e.connection.inProgress?{...e.connection,to:Cu(e.connection.to,e.transform)}:{...e.connection}}function dW(e){return uW}function fW(e){const t=dW();return be(t,Ve)}const hW=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function mW({containerStyle:e,style:t,type:r,component:n}){const{nodesConnectable:a,width:i,height:s,isValid:l,inProgress:c}=be(hW,Ve);return!(i&&a&&c)?null:o.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:o.jsx("g",{className:ut(["react-flow__connection",MO(l)]),children:o.jsx(RA,{style:t,type:r,CustomComponent:n,isValid:l})})})}const RA=({style:e,type:t=Ya.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:a,from:i,fromNode:s,fromHandle:l,fromPosition:c,to:u,toNode:d,toHandle:f,toPosition:h,pointer:m}=fW();if(!a)return;if(r)return o.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:h,connectionStatus:MO(n),toNode:d,toHandle:f,pointer:m});let p="";const v={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:h};switch(t){case Ya.Bezier:[p]=WO(v);break;case Ya.SimpleBezier:[p]=kA(v);break;case Ya.Step:[p]=gh({...v,borderRadius:0});break;case Ya.SmoothStep:[p]=gh(v);break;default:[p]=YO(v)}return o.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};RA.displayName="ConnectionLine";const pW={};function fN(e=pW){y.useRef(e),We(),y.useEffect(()=>{},[e])}function gW(){We(),y.useRef(!1),y.useEffect(()=>{},[])}function LA({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:n,onEdgeClick:a,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:h,onSelectionEnd:m,connectionLineType:p,connectionLineStyle:v,connectionLineComponent:x,connectionLineContainerStyle:g,selectionKeyCode:b,selectionOnDrag:w,selectionMode:j,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:N,deleteKeyCode:S,onlyRenderVisibleElements:E,elementsSelectable:T,defaultViewport:O,translateExtent:P,minZoom:L,maxZoom:C,preventScrolling:D,defaultMarkerColor:I,zoomOnScroll:R,zoomOnPinch:A,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:H,zoomOnDoubleClick:B,panOnDrag:X,onPaneClick:q,onPaneMouseEnter:J,onPaneMouseMove:ce,onPaneMouseLeave:re,onPaneScroll:Q,onPaneContextMenu:U,paneClickDistance:Z,nodeClickDistance:ee,onEdgeContextMenu:V,onEdgeMouseEnter:ne,onEdgeMouseMove:ue,onEdgeMouseLeave:F,reconnectRadius:Y,onReconnect:ie,onReconnectStart:he,onReconnectEnd:je,noDragClassName:_e,noWheelClassName:Vt,noPanClassName:nr,disableKeyboardA11y:vr,nodeExtent:Dr,rfId:Cn,viewport:bt,onViewportChange:Zn}){return fN(e),fN(t),gW(),oW(r),cW(bt),o.jsx(AV,{onPaneClick:q,onPaneMouseEnter:J,onPaneMouseMove:ce,onPaneMouseLeave:re,onPaneContextMenu:U,onPaneScroll:Q,paneClickDistance:Z,deleteKeyCode:S,selectionKeyCode:b,selectionOnDrag:w,selectionMode:j,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:N,elementsSelectable:T,zoomOnScroll:R,zoomOnPinch:A,zoomOnDoubleClick:B,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:H,panOnDrag:X,defaultViewport:O,translateExtent:P,minZoom:L,maxZoom:C,onSelectionContextMenu:f,preventScrolling:D,noDragClassName:_e,noWheelClassName:Vt,noPanClassName:nr,disableKeyboardA11y:vr,onViewportChange:Zn,isControlledViewport:!!bt,children:o.jsxs(sW,{children:[o.jsx(aW,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:s,onReconnect:ie,onReconnectStart:he,onReconnectEnd:je,onlyRenderVisibleElements:E,onEdgeContextMenu:V,onEdgeMouseEnter:ne,onEdgeMouseMove:ue,onEdgeMouseLeave:F,reconnectRadius:Y,defaultMarkerColor:I,noPanClassName:nr,disableKeyboardA11y:vr,rfId:Cn}),o.jsx(mW,{style:v,type:p,component:x,containerStyle:g}),o.jsx("div",{className:"react-flow__edgelabel-renderer"}),o.jsx(FV,{nodeTypes:e,onNodeClick:n,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:ee,onlyRenderVisibleElements:E,noPanClassName:nr,noDragClassName:_e,disableKeyboardA11y:vr,nodeExtent:Dr,rfId:Cn}),o.jsx("div",{className:"react-flow__viewport-portal"})]})})}LA.displayName="GraphView";const yW=y.memo(LA),hN=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:s,fitViewOptions:l,minZoom:c=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:f,zIndexMode:h="basic"}={})=>{const m=new Map,p=new Map,v=new Map,x=new Map,g=n??t??[],b=r??e??[],w=d??[0,0],j=f??$c;QO(v,x,g);const k=A0(b,m,p,{nodeOrigin:w,nodeExtent:j,zIndexMode:h});let _=[0,0,1];if(s&&a&&i){const N=Su(m,{filter:O=>!!((O.width||O.initialWidth)&&(O.height||O.initialHeight))}),{x:S,y:E,zoom:T}=ab(N,a,i,c,u,(l==null?void 0:l.padding)??.1);_=[S,E,T]}return{rfId:"1",width:a??0,height:i??0,transform:_,nodes:b,nodesInitialized:k,nodeLookup:m,parentLookup:p,edges:g,edgeLookup:x,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:c,maxZoom:u,translateExtent:$c,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:zo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...TO},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:BU,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:AO,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},vW=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:s,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h})=>RH((m,p)=>{async function v(){const{nodeLookup:x,panZoom:g,fitViewOptions:b,fitViewResolver:w,width:j,height:k,minZoom:_,maxZoom:N}=p();g&&(await zU({nodes:x,width:j,height:k,panZoom:g,minZoom:_,maxZoom:N},b),w==null||w.resolve(!0),m({fitViewResolver:null}))}return{...hN({nodes:e,edges:t,width:a,height:i,fitView:s,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,defaultNodes:r,defaultEdges:n,zIndexMode:h}),setNodes:x=>{const{nodeLookup:g,parentLookup:b,nodeOrigin:w,elevateNodesOnSelect:j,fitViewQueued:k,zIndexMode:_}=p(),N=A0(x,g,b,{nodeOrigin:w,nodeExtent:f,elevateNodesOnSelect:j,checkEquality:!0,zIndexMode:_});k&&N?(v(),m({nodes:x,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):m({nodes:x,nodesInitialized:N})},setEdges:x=>{const{connectionLookup:g,edgeLookup:b}=p();QO(g,b,x),m({edges:x})},setDefaultNodesAndEdges:(x,g)=>{if(x){const{setNodes:b}=p();b(x),m({hasDefaultNodes:!0})}if(g){const{setEdges:b}=p();b(g),m({hasDefaultEdges:!0})}},updateNodeInternals:x=>{const{triggerNodeChanges:g,nodeLookup:b,parentLookup:w,domNode:j,nodeOrigin:k,nodeExtent:_,debug:N,fitViewQueued:S,zIndexMode:E}=p(),{changes:T,updatedInternals:O}=lH(x,b,w,j,k,_,E);O&&(aH(b,w,{nodeOrigin:k,nodeExtent:_,zIndexMode:E}),S?(v(),m({fitViewQueued:!1,fitViewOptions:void 0})):m({}),(T==null?void 0:T.length)>0&&(N&&console.log("React Flow: trigger node changes",T),g==null||g(T)))},updateNodePositions:(x,g=!1)=>{const b=[];let w=[];const{nodeLookup:j,triggerNodeChanges:k,connection:_,updateConnection:N,onNodesChangeMiddlewareMap:S}=p();for(const[E,T]of x){const O=j.get(E),P=!!(O!=null&&O.expandParent&&(O!=null&&O.parentId)&&(T!=null&&T.position)),L={id:E,type:"position",position:P?{x:Math.max(0,T.position.x),y:Math.max(0,T.position.y)}:T.position,dragging:g};if(O&&_.inProgress&&_.fromNode.id===O.id){const C=ks(O,_.fromHandle,fe.Left,!0);N({..._,from:C})}P&&O.parentId&&b.push({id:E,parentId:O.parentId,rect:{...T.internals.positionAbsolute,width:T.measured.width??0,height:T.measured.height??0}}),w.push(L)}if(b.length>0){const{parentLookup:E,nodeOrigin:T}=p(),O=ub(b,j,E,T);w.push(...O)}for(const E of S.values())w=E(w);k(w)},triggerNodeChanges:x=>{const{onNodesChange:g,setNodes:b,nodes:w,hasDefaultNodes:j,debug:k}=p();if(x!=null&&x.length){if(j){const _=fA(x,w);b(_)}k&&console.log("React Flow: trigger node changes",x),g==null||g(x)}},triggerEdgeChanges:x=>{const{onEdgesChange:g,setEdges:b,edges:w,hasDefaultEdges:j,debug:k}=p();if(x!=null&&x.length){if(j){const _=hA(x,w);b(_)}k&&console.log("React Flow: trigger edge changes",x),g==null||g(x)}},addSelectedNodes:x=>{const{multiSelectionActive:g,edgeLookup:b,nodeLookup:w,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(g){const _=x.map(N=>Di(N,!0));j(_);return}j(no(w,new Set([...x]),!0)),k(no(b))},addSelectedEdges:x=>{const{multiSelectionActive:g,edgeLookup:b,nodeLookup:w,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(g){const _=x.map(N=>Di(N,!0));k(_);return}k(no(b,new Set([...x]))),j(no(w,new Set,!0))},unselectNodesAndEdges:({nodes:x,edges:g}={})=>{const{edges:b,nodes:w,nodeLookup:j,triggerNodeChanges:k,triggerEdgeChanges:_}=p(),N=x||w,S=g||b,E=N.map(O=>{const P=j.get(O.id);return P&&(P.selected=!1),Di(O.id,!1)}),T=S.map(O=>Di(O.id,!1));k(E),_(T)},setMinZoom:x=>{const{panZoom:g,maxZoom:b}=p();g==null||g.setScaleExtent([x,b]),m({minZoom:x})},setMaxZoom:x=>{const{panZoom:g,minZoom:b}=p();g==null||g.setScaleExtent([b,x]),m({maxZoom:x})},setTranslateExtent:x=>{var g;(g=p().panZoom)==null||g.setTranslateExtent(x),m({translateExtent:x})},resetSelectedElements:()=>{const{edges:x,nodes:g,triggerNodeChanges:b,triggerEdgeChanges:w,elementsSelectable:j}=p();if(!j)return;const k=g.reduce((N,S)=>S.selected?[...N,Di(S.id,!1)]:N,[]),_=x.reduce((N,S)=>S.selected?[...N,Di(S.id,!1)]:N,[]);b(k),w(_)},setNodeExtent:x=>{const{nodes:g,nodeLookup:b,parentLookup:w,nodeOrigin:j,elevateNodesOnSelect:k,nodeExtent:_,zIndexMode:N}=p();x[0][0]===_[0][0]&&x[0][1]===_[0][1]&&x[1][0]===_[1][0]&&x[1][1]===_[1][1]||(A0(g,b,w,{nodeOrigin:j,nodeExtent:x,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:N}),m({nodeExtent:x}))},panBy:x=>{const{transform:g,width:b,height:w,panZoom:j,translateExtent:k}=p();return cH({delta:x,panZoom:j,transform:g,translateExtent:k,width:b,height:w})},setCenter:async(x,g,b)=>{const{width:w,height:j,maxZoom:k,panZoom:_}=p();if(!_)return Promise.resolve(!1);const N=typeof(b==null?void 0:b.zoom)<"u"?b.zoom:k;return await _.setViewport({x:w/2-x*N,y:j/2-g*N,zoom:N},{duration:b==null?void 0:b.duration,ease:b==null?void 0:b.ease,interpolate:b==null?void 0:b.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{m({connection:{...TO}})},updateConnection:x=>{m({connection:x})},reset:()=>m({...hN()})}},Object.is);function $A({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:n,initialWidth:a,initialHeight:i,initialMinZoom:s,initialMaxZoom:l,initialFitViewOptions:c,fitView:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h,children:m}){const[p]=y.useState(()=>vW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:u,minZoom:s,maxZoom:l,fitViewOptions:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h}));return o.jsx(LH,{value:p,children:o.jsx(sV,{children:m})})}function xW({children:e,nodes:t,edges:r,defaultNodes:n,defaultEdges:a,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:m}){return y.useContext(Vm)?o.jsx(o.Fragment,{children:e}):o.jsx($A,{initialNodes:t,initialEdges:r,defaultNodes:n,defaultEdges:a,initialWidth:i,initialHeight:s,fitView:l,initialFitViewOptions:c,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:m,children:e})}const bW={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function wW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:i,edgeTypes:s,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:m,onConnectStart:p,onConnectEnd:v,onClickConnectStart:x,onClickConnectEnd:g,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:_,onNodeDragStart:N,onNodeDrag:S,onNodeDragStop:E,onNodesDelete:T,onEdgesDelete:O,onDelete:P,onSelectionChange:L,onSelectionDragStart:C,onSelectionDrag:D,onSelectionDragStop:I,onSelectionContextMenu:R,onSelectionStart:A,onSelectionEnd:M,onBeforeDelete:z,connectionMode:H,connectionLineType:B=Ya.Bezier,connectionLineStyle:X,connectionLineComponent:q,connectionLineContainerStyle:J,deleteKeyCode:ce="Backspace",selectionKeyCode:re="Shift",selectionOnDrag:Q=!1,selectionMode:U=zc.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:ee=Bc()?"Meta":"Control",zoomActivationKeyCode:V=Bc()?"Meta":"Control",snapToGrid:ne,snapGrid:ue,onlyRenderVisibleElements:F=!1,selectNodesOnDrag:Y,nodesDraggable:ie,autoPanOnNodeFocus:he,nodesConnectable:je,nodesFocusable:_e,nodeOrigin:Vt=uA,edgesFocusable:nr,edgesReconnectable:vr,elementsSelectable:Dr=!0,defaultViewport:Cn=GH,minZoom:bt=.5,maxZoom:Zn=2,translateExtent:f1=$c,preventScrolling:p3=!0,nodeExtent:Kp,defaultMarkerColor:g3="#b1b1b7",zoomOnScroll:y3=!0,zoomOnPinch:v3=!0,panOnScroll:x3=!1,panOnScrollSpeed:b3=.5,panOnScrollMode:w3=ls.Free,zoomOnDoubleClick:j3=!0,panOnDrag:k3=!0,onPaneClick:N3,onPaneMouseEnter:_3,onPaneMouseMove:S3,onPaneMouseLeave:E3,onPaneScroll:C3,onPaneContextMenu:P3,paneClickDistance:O3=1,nodeClickDistance:A3=0,children:T3,onReconnect:M3,onReconnectStart:I3,onReconnectEnd:D3,onEdgeContextMenu:R3,onEdgeDoubleClick:L3,onEdgeMouseEnter:$3,onEdgeMouseMove:z3,onEdgeMouseLeave:F3,reconnectRadius:B3=10,onNodesChange:U3,onEdgesChange:H3,noDragClassName:V3="nodrag",noWheelClassName:W3="nowheel",noPanClassName:h1="nopan",fitView:m1,fitViewOptions:p1,connectOnClick:K3,attributionPosition:q3,proOptions:Y3,defaultEdgeOptions:X3,elevateNodesOnSelect:G3=!0,elevateEdgesOnSelect:Q3=!1,disableKeyboardA11y:g1=!1,autoPanOnConnect:Z3,autoPanOnNodeDrag:J3,autoPanSpeed:e4,connectionRadius:t4,isValidConnection:r4,onError:n4,style:a4,id:y1,nodeDragThreshold:i4,connectionDragThreshold:s4,viewport:o4,onViewportChange:l4,width:c4,height:u4,colorMode:d4="light",debug:f4,onScroll:ad,ariaLabelConfig:h4,zIndexMode:v1="basic",...m4},p4){const qp=y1||"1",g4=eV(d4),y4=y.useCallback(x1=>{x1.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),ad==null||ad(x1)},[ad]);return o.jsx("div",{"data-testid":"rf__wrapper",...m4,onScroll:y4,style:{...a4,...bW},ref:p4,className:ut(["react-flow",a,g4]),id:y1,role:"application",children:o.jsxs(xW,{nodes:e,edges:t,width:c4,height:u4,fitView:m1,fitViewOptions:p1,minZoom:bt,maxZoom:Zn,nodeOrigin:Vt,nodeExtent:Kp,zIndexMode:v1,children:[o.jsx(yW,{onInit:u,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:_,nodeTypes:i,edgeTypes:s,connectionLineType:B,connectionLineStyle:X,connectionLineComponent:q,connectionLineContainerStyle:J,selectionKeyCode:re,selectionOnDrag:Q,selectionMode:U,deleteKeyCode:ce,multiSelectionKeyCode:ee,panActivationKeyCode:Z,zoomActivationKeyCode:V,onlyRenderVisibleElements:F,defaultViewport:Cn,translateExtent:f1,minZoom:bt,maxZoom:Zn,preventScrolling:p3,zoomOnScroll:y3,zoomOnPinch:v3,zoomOnDoubleClick:j3,panOnScroll:x3,panOnScrollSpeed:b3,panOnScrollMode:w3,panOnDrag:k3,onPaneClick:N3,onPaneMouseEnter:_3,onPaneMouseMove:S3,onPaneMouseLeave:E3,onPaneScroll:C3,onPaneContextMenu:P3,paneClickDistance:O3,nodeClickDistance:A3,onSelectionContextMenu:R,onSelectionStart:A,onSelectionEnd:M,onReconnect:M3,onReconnectStart:I3,onReconnectEnd:D3,onEdgeContextMenu:R3,onEdgeDoubleClick:L3,onEdgeMouseEnter:$3,onEdgeMouseMove:z3,onEdgeMouseLeave:F3,reconnectRadius:B3,defaultMarkerColor:g3,noDragClassName:V3,noWheelClassName:W3,noPanClassName:h1,rfId:qp,disableKeyboardA11y:g1,nodeExtent:Kp,viewport:o4,onViewportChange:l4}),o.jsx(JH,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:m,onConnectStart:p,onConnectEnd:v,onClickConnectStart:x,onClickConnectEnd:g,nodesDraggable:ie,autoPanOnNodeFocus:he,nodesConnectable:je,nodesFocusable:_e,edgesFocusable:nr,edgesReconnectable:vr,elementsSelectable:Dr,elevateNodesOnSelect:G3,elevateEdgesOnSelect:Q3,minZoom:bt,maxZoom:Zn,nodeExtent:Kp,onNodesChange:U3,onEdgesChange:H3,snapToGrid:ne,snapGrid:ue,connectionMode:H,translateExtent:f1,connectOnClick:K3,defaultEdgeOptions:X3,fitView:m1,fitViewOptions:p1,onNodesDelete:T,onEdgesDelete:O,onDelete:P,onNodeDragStart:N,onNodeDrag:S,onNodeDragStop:E,onSelectionDrag:D,onSelectionDragStart:C,onSelectionDragStop:I,onMove:d,onMoveStart:f,onMoveEnd:h,noPanClassName:h1,nodeOrigin:Vt,rfId:qp,autoPanOnConnect:Z3,autoPanOnNodeDrag:J3,autoPanSpeed:e4,onError:n4,connectionRadius:t4,isValidConnection:r4,selectNodesOnDrag:Y,nodeDragThreshold:i4,connectionDragThreshold:s4,onBeforeDelete:z,debug:f4,ariaLabelConfig:h4,zIndexMode:v1}),o.jsx(XH,{onSelectionChange:L}),T3,o.jsx(VH,{proOptions:Y3,position:q3}),o.jsx(HH,{rfId:qp,disableKeyboardA11y:g1})]})})}var jW=mA(wW);const kW=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function NW({children:e}){const t=be(kW);return t?du.createPortal(e,t):null}function _W({dimensions:e,lineWidth:t,variant:r,className:n}){return o.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:ut(["react-flow__background-pattern",r,n])})}function SW({radius:e,className:t}){return o.jsx("circle",{cx:e,cy:e,r:e,className:ut(["react-flow__background-pattern","dots",t])})}var pi;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(pi||(pi={}));const EW={[pi.Dots]:1,[pi.Lines]:1,[pi.Cross]:6},CW=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function zA({id:e,variant:t=pi.Dots,gap:r=20,size:n,lineWidth:a=1,offset:i=0,color:s,bgColor:l,style:c,className:u,patternClassName:d}){const f=y.useRef(null),{transform:h,patternId:m}=be(CW,Ve),p=n||EW[t],v=t===pi.Dots,x=t===pi.Cross,g=Array.isArray(r)?r:[r,r],b=[g[0]*h[2]||1,g[1]*h[2]||1],w=p*h[2],j=Array.isArray(i)?i:[i,i],k=x?[w,w]:b,_=[j[0]*h[2]||1+k[0]/2,j[1]*h[2]||1+k[1]/2],N=`${m}${e||""}`;return o.jsxs("svg",{className:ut(["react-flow__background",u]),style:{...c,...Km,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:f,"data-testid":"rf__background",children:[o.jsx("pattern",{id:N,x:h[0]%b[0],y:h[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:v?o.jsx(SW,{radius:w/2,className:d}):o.jsx(_W,{dimensions:k,lineWidth:a,variant:t,className:d})}),o.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}zA.displayName="Background";const PW=y.memo(zA);function OW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:o.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function AW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:o.jsx("path",{d:"M0 0h32v4.2H0z"})})}function TW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:o.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function MW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function IW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ld({children:e,className:t,...r}){return o.jsx("button",{type:"button",className:ut(["react-flow__controls-button",t]),...r,children:e})}const DW=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function FA({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left",orientation:h="vertical","aria-label":m}){const p=We(),{isInteractive:v,minZoomReached:x,maxZoomReached:g,ariaLabelConfig:b}=be(DW,Ve),{zoomIn:w,zoomOut:j,fitView:k}=ul(),_=()=>{w(),i==null||i()},N=()=>{j(),s==null||s()},S=()=>{k(a),l==null||l()},E=()=>{p.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),c==null||c(!v)},T=h==="horizontal"?"horizontal":"vertical";return o.jsxs(Wm,{className:ut(["react-flow__controls",T,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":m??b["controls.ariaLabel"],children:[t&&o.jsxs(o.Fragment,{children:[o.jsx(Ld,{onClick:_,className:"react-flow__controls-zoomin",title:b["controls.zoomIn.ariaLabel"],"aria-label":b["controls.zoomIn.ariaLabel"],disabled:g,children:o.jsx(OW,{})}),o.jsx(Ld,{onClick:N,className:"react-flow__controls-zoomout",title:b["controls.zoomOut.ariaLabel"],"aria-label":b["controls.zoomOut.ariaLabel"],disabled:x,children:o.jsx(AW,{})})]}),r&&o.jsx(Ld,{className:"react-flow__controls-fitview",onClick:S,title:b["controls.fitView.ariaLabel"],"aria-label":b["controls.fitView.ariaLabel"],children:o.jsx(TW,{})}),n&&o.jsx(Ld,{className:"react-flow__controls-interactive",onClick:E,title:b["controls.interactive.ariaLabel"],"aria-label":b["controls.interactive.ariaLabel"],children:v?o.jsx(IW,{}):o.jsx(MW,{})}),d]})}FA.displayName="Controls";const RW=y.memo(FA);function LW({id:e,x:t,y:r,width:n,height:a,style:i,color:s,strokeColor:l,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,selected:h,onClick:m}){const{background:p,backgroundColor:v}=i||{},x=s||p||v;return o.jsx("rect",{className:ut(["react-flow__minimap-node",{selected:h},u]),x:t,y:r,rx:d,ry:d,width:n,height:a,style:{fill:x,stroke:l,strokeWidth:c},shapeRendering:f,onClick:m?g=>m(g,e):void 0})}const $W=y.memo(LW),zW=e=>e.nodes.map(t=>t.id),Rg=e=>e instanceof Function?e:()=>e;function FW({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:a,nodeComponent:i=$W,onClick:s}){const l=be(zW,Ve),c=Rg(t),u=Rg(e),d=Rg(r),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return o.jsx(o.Fragment,{children:l.map(h=>o.jsx(UW,{id:h,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:n,nodeStrokeWidth:a,NodeComponent:i,onClick:s,shapeRendering:f},h))})}function BW({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:a,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:l,onClick:c}){const{node:u,x:d,y:f,width:h,height:m}=be(p=>{const{internals:v}=p.nodeLookup.get(e),x=v.userNode,{x:g,y:b}=v.positionAbsolute,{width:w,height:j}=Ma(x);return{node:x,x:g,y:b,width:w,height:j}},Ve);return!u||u.hidden||!zO(u)?null:o.jsx(l,{x:d,y:f,width:h,height:m,style:u.style,selected:!!u.selected,className:n(u),color:t(u),borderRadius:a,strokeColor:r(u),strokeWidth:i,shapeRendering:s,onClick:c,id:u.id})}const UW=y.memo(BW);var HW=y.memo(FW);const VW=200,WW=150,KW=e=>!e.hidden,qW=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?$O(Su(e.nodeLookup,{filter:KW}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},YW="react-flow__minimap-desc";function BA({style:e,className:t,nodeStrokeColor:r,nodeColor:n,nodeClassName:a="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:c,maskColor:u,maskStrokeColor:d,maskStrokeWidth:f,position:h="bottom-right",onClick:m,onNodeClick:p,pannable:v=!1,zoomable:x=!1,ariaLabel:g,inversePan:b,zoomStep:w=1,offsetScale:j=5}){const k=We(),_=y.useRef(null),{boundingRect:N,viewBB:S,rfId:E,panZoom:T,translateExtent:O,flowWidth:P,flowHeight:L,ariaLabelConfig:C}=be(qW,Ve),D=(e==null?void 0:e.width)??VW,I=(e==null?void 0:e.height)??WW,R=N.width/D,A=N.height/I,M=Math.max(R,A),z=M*D,H=M*I,B=j*M,X=N.x-(z-N.width)/2-B,q=N.y-(H-N.height)/2-B,J=z+B*2,ce=H+B*2,re=`${YW}-${E}`,Q=y.useRef(0),U=y.useRef();Q.current=M,y.useEffect(()=>{if(_.current&&T)return U.current=vH({domNode:_.current,panZoom:T,getTransform:()=>k.getState().transform,getViewScale:()=>Q.current}),()=>{var ne;(ne=U.current)==null||ne.destroy()}},[T]),y.useEffect(()=>{var ne;(ne=U.current)==null||ne.update({translateExtent:O,width:P,height:L,inversePan:b,pannable:v,zoomStep:w,zoomable:x})},[v,x,b,w,O,P,L]);const Z=m?ne=>{var Y;const[ue,F]=((Y=U.current)==null?void 0:Y.pointer(ne))||[0,0];m(ne,{x:ue,y:F})}:void 0,ee=p?y.useCallback((ne,ue)=>{const F=k.getState().nodeLookup.get(ue).internals.userNode;p(ne,F)},[]):void 0,V=g??C["minimap.ariaLabel"];return o.jsx(Wm,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*M:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:ut(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:o.jsxs("svg",{width:D,height:I,viewBox:`${X} ${q} ${J} ${ce}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":re,ref:_,onClick:Z,children:[V&&o.jsx("title",{id:re,children:V}),o.jsx(HW,{onClick:ee,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:i,nodeClassName:a,nodeStrokeWidth:s,nodeComponent:l}),o.jsx("path",{className:"react-flow__minimap-mask",d:`M${X-B},${q-B}h${J+B*2}v${ce+B*2}h${-J-B*2}z
        M${S.x},${S.y}h${S.width}v${S.height}h${-S.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}BA.displayName="MiniMap";y.memo(BA);const XW=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,GW={[Ho.Line]:"right",[Ho.Handle]:"bottom-right"};function QW({nodeId:e,position:t,variant:r=Ho.Handle,className:n,style:a=void 0,children:i,color:s,minWidth:l=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:h,autoScale:m=!0,shouldResize:p,onResizeStart:v,onResize:x,onResizeEnd:g}){const b=vA(),w=typeof e=="string"?e:b,j=We(),k=y.useRef(null),_=r===Ho.Handle,N=be(y.useCallback(XW(_&&m),[_,m]),Ve),S=y.useRef(null),E=t??GW[r];y.useEffect(()=>{if(!(!k.current||!w))return S.current||(S.current=TH({domNode:k.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:O,transform:P,snapGrid:L,snapToGrid:C,nodeOrigin:D,domNode:I}=j.getState();return{nodeLookup:O,transform:P,snapGrid:L,snapToGrid:C,nodeOrigin:D,paneDomNode:I}},onChange:(O,P)=>{const{triggerNodeChanges:L,nodeLookup:C,parentLookup:D,nodeOrigin:I}=j.getState(),R=[],A={x:O.x,y:O.y},M=C.get(w);if(M&&M.expandParent&&M.parentId){const z=M.origin??I,H=O.width??M.measured.width??0,B=O.height??M.measured.height??0,X={id:M.id,parentId:M.parentId,rect:{width:H,height:B,...FO({x:O.x??M.position.x,y:O.y??M.position.y},{width:H,height:B},M.parentId,C,z)}},q=ub([X],C,D,I);R.push(...q),A.x=O.x?Math.max(z[0]*H,O.x):void 0,A.y=O.y?Math.max(z[1]*B,O.y):void 0}if(A.x!==void 0&&A.y!==void 0){const z={id:w,type:"position",position:{...A}};R.push(z)}if(O.width!==void 0&&O.height!==void 0){const H={id:w,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:O.width,height:O.height}};R.push(H)}for(const z of P){const H={...z,type:"position"};R.push(H)}L(R)},onEnd:({width:O,height:P})=>{const L={id:w,type:"dimensions",resizing:!1,dimensions:{width:O,height:P}};j.getState().triggerNodeChanges([L])}})),S.current.update({controlPosition:E,boundaries:{minWidth:l,minHeight:c,maxWidth:u,maxHeight:d},keepAspectRatio:f,resizeDirection:h,onResizeStart:v,onResize:x,onResizeEnd:g,shouldResize:p}),()=>{var O;(O=S.current)==null||O.destroy()}},[E,l,c,u,d,f,v,x,g,p]);const T=E.split("-");return o.jsx("div",{className:ut(["react-flow__resize-control","nodrag",...T,r,n]),ref:k,style:{...a,scale:N,...s&&{[_?"backgroundColor":"borderColor"]:s}},children:i})}y.memo(QW);const ge=qx((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:r=>e({executionResult:r}),setGraph:(r,n)=>e({nodes:r,edges:n}),onNodesChange:r=>{e({nodes:fA(r,t().nodes)})},onEdgesChange:r=>{e({edges:hA(r,t().edges)})},onConnect:r=>{e({edges:qO(r,t().edges)})},addNode:(r,n,a={})=>{const i=ke.get(r);if(!i)return console.error(`Node type ${r} not found in registry`),"";const s=`${r}-${Date.now()}`,l={id:s,type:"custom",position:n,data:{definitionType:r,catalogType:r,...i.getDefaultConfig(),...a}};return e({nodes:[...t().nodes,l]}),s},updateNodeData:(r,n)=>{e({nodes:t().nodes.map(a=>a.id===r?{...a,data:{...a.data,...n}}:a)})},validateGraph:async()=>{const{nodes:r,edges:n}=t();if(r.length===0)return!1;for(const a of r){const i=ke.get(a.data.definitionType);if(i){const s=i.validate(a.data);if(!s.isValid)return console.warn(`Node ${a.id} validation failed: ${s.message}`),!1}}for(const a of r){const i=ke.get(a.data.definitionType);if(i&&i.inputs.length>0&&!n.some(l=>l.target===a.id))return console.warn(`Node ${a.id} (${i.label}) is disconnected.`),!1}return!0}})),ZW=()=>{const e=ke.getAll(),t=ge(l=>l.addNode),[r,n]=y.useState(""),a=(l,c)=>{l.dataTransfer.setData("application/reactflow",c),l.dataTransfer.effectAllowed="move"},i=e.filter(l=>l.label.toLowerCase().includes(r.toLowerCase())||l.category.toLowerCase().includes(r.toLowerCase())),s=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return o.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10",children:[o.jsxs("div",{className:"p-4 border-b space-y-3",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Ms,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:r,onChange:l=>n(l.target.value)})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:s.map(l=>{const c=i.filter(u=>u.category===l);return c.length===0?null:o.jsxs("div",{children:[o.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:l}),o.jsx("div",{className:"space-y-2",children:c.map(u=>o.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:d=>a(d,u.type),onClick:()=>t(u.type,{x:100,y:100}),children:[o.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:u.icon&&o.jsx(u.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium truncate",children:u.label}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:u.description})]})]},u.type))})]},l)})})]})};function JW(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const{useRef:eK}=Vr;function tK(e){const t=eK();return r=>{const n=e(r);return JW(t.current,n)?t.current:t.current=n}}const rK=y.memo(({id:e,data:t,selected:r})=>{const n=t.definitionType,a=ke.get(n),{deleteElements:i}=ul(),s=ge(u=>u.executionResult),l=s==null?void 0:s.node_results[e],c=u=>{u.stopPropagation(),i({nodes:[{id:e}]})};return a?o.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${r?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[o.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[o.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:a.icon&&o.jsx(a.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-sm font-bold",children:a.label}),l&&o.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${l.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:l.status==="success"?o.jsx(fF,{size:10}):o.jsx(hF,{size:10})})]}),o.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:a.category})]}),o.jsx("button",{onClick:c,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:o.jsx(Gr,{size:14})})]}),o.jsx("div",{className:"p-3",children:a.component?o.jsx(a.component,{data:t}):o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),a.inputs.map((u,d)=>o.jsx(Vo,{type:"target",position:fe.Left,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(a.inputs.length+1)}%`},children:o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`input-${u.id}`)),a.outputs.map((u,d)=>o.jsx(Vo,{type:"source",position:fe.Right,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(a.outputs.length+1)}%`},children:o.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`output-${u.id}`))]}):o.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[o.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[o.jsx(ka,{size:16}),o.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),o.jsxs("div",{className:"text-xs mt-1",children:["Type: ",n]})]})}),nK=({id:e,sourceX:t,sourceY:r,targetX:n,targetY:a,sourcePosition:i,targetPosition:s,style:l={},markerEnd:c})=>{const{deleteElements:u}=ul(),[d,f,h]=gh({sourceX:t,sourceY:r,sourcePosition:i,targetX:n,targetY:a,targetPosition:s,borderRadius:24}),m=p=>{p.stopPropagation(),u({edges:[{id:e}]})};return o.jsxs(o.Fragment,{children:[o.jsx(Wo,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),o.jsx(Wo,{path:d,markerEnd:c,style:{...l,strokeWidth:2},className:"react-flow__edge-path"}),o.jsx(NW,{children:o.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${h}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:o.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:m,title:"Remove Connection",children:o.jsx(Gr,{size:10})})})})]})},aK={custom:rK},iK={custom:nK},sK=()=>{const e=y.useRef(null),{screenToFlowPosition:t}=ul(),{nodes:r,edges:n,onNodesChange:a,onEdgesChange:i,onConnect:s,addNode:l}=ge(tK(d=>({nodes:d.nodes,edges:d.edges,onNodesChange:d.onNodesChange,onEdgesChange:d.onEdgesChange,onConnect:d.onConnect,addNode:d.addNode}))),c=y.useCallback(d=>{d.preventDefault(),d.dataTransfer.dropEffect="move"},[]),u=y.useCallback(d=>{d.preventDefault();const f=d.dataTransfer.getData("application/reactflow");if(typeof f>"u"||!f)return;const h=t({x:d.clientX,y:d.clientY});l(f,h)},[t,l]);return o.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:o.jsxs(jW,{nodes:r,edges:n,onNodesChange:a,onEdgesChange:i,onConnect:s,nodeTypes:aK,onDragOver:c,onDrop:u,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:iK,deleteKeyCode:["Backspace","Delete"],children:[o.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"edge-gradient",children:[o.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),o.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),o.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),o.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[o.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),o.jsx(PW,{}),o.jsx(RW,{position:"top-left"})]})})},oK=()=>o.jsx($A,{children:o.jsx(sK,{})}),lK=()=>{const e=ge(f=>f.nodes),t=ge(f=>f.updateNodeData),r=ge(f=>f.onNodesChange),[n,a]=y.useState(!1),i=e.find(f=>f.selected);if(!i)return o.jsxs("aside",{className:"w-80 border-l bg-background p-8 flex flex-col items-center justify-center text-muted-foreground text-center shrink-0",children:[o.jsx("div",{className:"p-4 bg-muted/50 rounded-full mb-4",children:o.jsx(Bx,{className:"w-8 h-8 opacity-50"})}),o.jsx("h3",{className:"font-medium mb-1",children:"No Node Selected"}),o.jsx("p",{className:"text-sm",children:"Select a node on the canvas to configure its properties."})]});const s=()=>{r([{id:i.id,type:"select",selected:!1}])},l=()=>{a(!n)},c=i.data.definitionType,u=ke.get(c);if(!u)return o.jsx("aside",{className:"w-80 border-l bg-background p-4 shrink-0",children:o.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[o.jsx(Gr,{className:"w-4 h-4"}),"Error: Node definition '",c,"' not found."]})});const d=u.settings;return o.jsxs("aside",{className:`
        border-l bg-background flex flex-col h-full shadow-xl z-20 transition-all duration-300 ease-in-out
        ${n?"absolute right-0 top-0 bottom-0 w-[calc(100%-16rem)]":"w-80 shrink-0"}
      `,children:[o.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/10 rounded-md",children:u.icon&&o.jsx(u.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold text-sm",children:u.label}),o.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:u.category})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:l,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:n?"Collapse":"Expand",children:n?o.jsx(PF,{className:"w-4 h-4"}):o.jsx(CF,{className:"w-4 h-4"})}),o.jsx("button",{onClick:s,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Close",children:o.jsx(Gr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:d?o.jsx(d,{config:i.data,onChange:f=>t(i.id,f),nodeId:i.id}):o.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground italic",children:"No configuration options available for this node."})}),o.jsxs("div",{className:"p-3 border-t bg-muted/5 text-[10px] text-muted-foreground font-mono flex justify-between",children:[o.jsxs("span",{children:["ID: ",i.id]}),o.jsx("span",{children:"v1.0"})]})]})},Nr={runPipeline:async e=>(await st.post("/pipeline/run",e)).data,getJob:async e=>(await st.get(`/pipeline/jobs/${e}`)).data,cancelJob:async e=>{await st.post(`/pipeline/jobs/${e}/cancel`)},listJobs:async(e=50)=>(await st.get("/pipeline/jobs",{params:{limit:e}})).data,getHyperparameters:async e=>(await st.get(`/pipeline/hyperparameters/${e}`)).data,getDefaultSearchSpace:async e=>(await st.get(`/pipeline/hyperparameters/${e}/defaults`)).data,getLatestTuningJob:async e=>(await st.get(`/pipeline/jobs/tuning/latest/${e}`)).data,getBestTuningJobForModel:async e=>(await st.get(`/pipeline/jobs/tuning/best/${e}`)).data,getTuningJobsForModel:async e=>(await st.get(`/pipeline/jobs/tuning/history/${e}`)).data},cK=3e3,dl=qx((e,t)=>{let r=null;return{jobs:[],isLoading:!1,isDrawerOpen:!1,activeTab:"training",fetchJobs:async()=>{e({isLoading:!0});try{const n=await Nr.listJobs();e({jobs:n,isLoading:!1})}catch(n){console.error("Failed to fetch jobs:",n),e({isLoading:!1})}},submitJob:async n=>{try{const a=await Nr.runPipeline(n);return await t().fetchJobs(),t().startPolling(),a.job_id}catch(a){throw console.error("Failed to submit job:",a),a}},cancelJob:async n=>{try{await Nr.cancelJob(n),await t().fetchJobs()}catch(a){throw console.error("Failed to cancel job:",a),a}},toggleDrawer:n=>{const a=t().isDrawerOpen,i=n!==void 0?n:!a;e({isDrawerOpen:i}),i?(t().fetchJobs(),t().startPolling()):t().jobs.some(l=>l.status==="running"||l.status==="queued")||t().stopPolling()},setTab:n=>e({activeTab:n}),startPolling:()=>{r||(r=setInterval(async()=>{try{const n=await Nr.listJobs();e({jobs:n}),!n.some(i=>i.status==="running"||i.status==="queued")&&!t().isDrawerOpen&&t().stopPolling()}catch(n){console.error("Polling error:",n)}},cK))},stopPolling:()=>{r&&(clearInterval(r),r=null)}}}),fb=(e,t)=>{const r=[],n=new Set,a=[],i=e.find(l=>l.data.definitionType==="dataset_node"),s=i==null?void 0:i.data.datasetId;for(i&&a.push(i.id);a.length>0;){const l=a.shift();if(n.has(l))continue;n.add(l);const c=e.find(p=>p.id===l);if(!c)continue;let u="unknown",d={};const h=t.filter(p=>p.target===l).map(p=>p.source);if(c.data.definitionType==="dataset_node")u="data_loader",d={dataset_id:c.data.datasetId};else if(c.data.definitionType==="imputation_node"){const p=c.data.method||"simple";p==="knn"?(u="KNNImputer",d={columns:c.data.columns,n_neighbors:c.data.n_neighbors,weights:c.data.weights}):p==="iterative"?(u="IterativeImputer",d={columns:c.data.columns,max_iter:c.data.max_iter,estimator:c.data.estimator,random_state:0}):(u="SimpleImputer",d={columns:c.data.columns,strategy:c.data.strategy,fill_value:c.data.fill_value})}else if(c.data.definitionType==="simple_imputer")u="SimpleImputer",d=c.data||{};else if(c.data.definitionType==="drop_missing_columns"||c.data.definitionType==="DropMissingColumns")u="DropMissingColumns",d={columns:c.data.columns||[],missing_threshold:c.data.missing_threshold};else if(c.data.definitionType==="drop_missing_rows"||c.data.definitionType==="DropMissingRows")u="DropMissingRows",d={missing_threshold:c.data.missing_threshold,drop_if_any_missing:c.data.drop_if_any_missing};else if(c.data.definitionType==="deduplicate"||c.data.definitionType==="Deduplicate")u="Deduplicate",d={subset:c.data.subset,keep:c.data.keep};else if(c.data.definitionType==="casting"||c.data.definitionType==="Casting")u="Casting",d={column_types:c.data.column_types};else if(c.data.definitionType==="MissingIndicator"||c.data.definitionType==="missing_indicator")u="MissingIndicator",d={columns:c.data.columns,flag_suffix:c.data.flag_suffix};else if(c.data.definitionType==="scale_numeric_features"){const p=c.data||{},v=p.method||"standard";v==="minmax"?u="MinMaxScaler":v==="maxabs"?u="MaxAbsScaler":v==="robust"?u="RobustScaler":u="StandardScaler",d=p}else if(c.data.definitionType==="encoding"){const p=c.data.method;p==="onehot"?u="OneHotEncoder":p==="dummy"?(u="DummyEncoder",d={...c.data,drop_first:!0}):p==="label"?u="LabelEncoder":p==="ordinal"?u="OrdinalEncoder":p==="target"?u="TargetEncoder":p==="hash"?u="HashEncoder":u="OneHotEncoder",u!=="DummyEncoder"&&(d=c.data)}else if(c.data.definitionType==="TrainTestSplitter")u="TrainTestSplitter",d=c.data||{};else if(c.data.definitionType==="label_encoding")u="LabelEncoder",d=c.data||{};else if(c.data.definitionType==="feature_target_split")u="feature_target_split",d=c.data||{};else if(c.data.definitionType==="feature_selection")u="feature_selection",d=c.data||{};else if(c.data.definitionType==="outlier"){const p=c.data.method||"iqr";p==="iqr"?u="IQR":p==="zscore"?u="ZScore":p==="winsorize"?u="Winsorize":p==="elliptic_envelope"?u="EllipticEnvelope":u="IQR",d=c.data}else if(c.data.definitionType==="TransformationNode"){u="GeneralTransformation";const p=c.data.transformations||[],v=[];for(const x of p)if(x.columns&&Array.isArray(x.columns))for(const g of x.columns)v.push({column:g,method:x.method,...x.params});d={transformations:v}}else c.data.definitionType==="BinningNode"?(u="GeneralBinning",d={columns:c.data.columns,strategy:c.data.strategy,n_bins:c.data.n_bins,label_format:c.data.label_format,output_suffix:c.data.output_suffix,drop_original:c.data.drop_original,custom_bins:c.data.custom_bins,custom_labels:c.data.custom_labels}):c.data.definitionType==="ResamplingNode"?((c.data.type||"oversampling")==="oversampling"?u="Oversampling":u="Undersampling",d=c.data):c.data.definitionType==="FeatureGenerationNode"?(u="FeatureMath",d={operations:c.data.operations}):c.data.definitionType==="TextCleaning"?(u="TextCleaning",d=c.data):c.data.definitionType==="ValueReplacement"?(u="ValueReplacement",d=c.data):c.data.definitionType==="AliasReplacement"?(u="AliasReplacement",d=c.data):c.data.definitionType==="InvalidValueReplacement"?(u="InvalidValueReplacement",d=c.data):c.data.definitionType==="model_training"?(u="model_training",d={target_column:c.data.target_column,model_type:c.data.model_type,hyperparameters:c.data.hyperparameters,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state}):c.data.definitionType==="hyperparameter_tuning"?(u="model_tuning",d={target_column:c.data.target_column,algorithm:c.data.model_type,tuning_config:{strategy:c.data.search_strategy,metric:c.data.metric,n_trials:c.data.n_trials,search_space:c.data.search_space,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state,random_state:c.data.random_state}}):(console.warn(`Unknown node type: ${c.data.definitionType}`),u="Unknown",d=c.data);r.push({node_id:c.id,step_type:u,params:d,inputs:h}),t.filter(p=>p.source===l).forEach(p=>a.push(p.target))}return{pipeline_id:`preview_${Date.now()}`,nodes:r,metadata:{dataset_source_id:s}}},uK=()=>{const e=ge(v=>v.nodes),t=ge(v=>v.edges),r=ge(v=>v.setExecutionResult),n=ge(v=>v.setGraph),{toggleDrawer:a}=dl(),[i,s]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),f=()=>({nodes:e.map(v=>({id:v.id,type:v.type,position:v.position,data:{...v.data,catalogType:v.data.catalogType||v.data.definitionType}})),edges:t.map(v=>({id:v.id,source:v.source,target:v.target,sourceHandle:v.sourceHandle,targetHandle:v.targetHandle,type:v.type,data:v.data}))}),h=async()=>{const v=e.find(g=>g.data.definitionType==="dataset_node"),x=v==null?void 0:v.data.datasetId;if(!x){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}c(!0);try{await E8(x,{name:"My Pipeline",description:"Saved from V2 Canvas",graph:f()}),alert("Pipeline saved successfully!")}catch(g){console.error("Save failed:",g),alert("Failed to save pipeline.")}finally{c(!1)}},m=async()=>{const v=e.find(g=>g.data.definitionType==="dataset_node"),x=v==null?void 0:v.data.datasetId;if(!x){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){d(!0);try{const g=await C8(x);g&&g.graph?(n(g.graph.nodes,g.graph.edges),alert("Pipeline loaded successfully!")):alert("No saved pipeline found for this dataset.")}catch(g){console.error("Load failed:",g),alert("Failed to load pipeline.")}finally{d(!1)}}},p=async()=>{const v=e.find(g=>g.data.definitionType==="dataset_node");if(!(v==null?void 0:v.data.datasetId)){alert("No dataset node found!");return}s(!0),r(null);try{const g=fb(e,t),b=await _8(g);r(b)}catch(g){console.error("Pipeline failed:",g),alert("Pipeline execution failed. Check console for details.")}finally{s(!1)}};return o.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[o.jsxs("button",{onClick:()=>a(),className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors",children:[o.jsx(SF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Jobs"})]}),o.jsxs("button",{onClick:m,disabled:u||i,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[u?o.jsx(is,{className:"w-4 h-4 animate-spin"}):o.jsx(kF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:u?"Loading...":"Load"})]}),o.jsxs("button",{onClick:h,disabled:l||i,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[l?o.jsx(is,{className:"w-4 h-4 animate-spin"}):o.jsx(RF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:l?"Saving...":"Save"})]}),o.jsxs("button",{onClick:p,disabled:i,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[i?o.jsx(is,{className:"w-4 h-4 animate-spin"}):o.jsx(vu,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:i?"Running...":"Run Preview"})]})]})},dK=()=>{const e=ge(h=>h.executionResult),[t,r]=y.useState(!0),[n,a]=y.useState(null),i=y.useMemo(()=>e!=null&&e.preview_data?Array.isArray(e.preview_data)?{Result:e.preview_data}:typeof e.preview_data=="object"?e.preview_data:{}:{},[e]),s=Object.keys(i);if(Vr.useEffect(()=>{s.length>0&&(!n||!s.includes(n))&&(s.includes("train")?a("train"):s.includes("X")?a("X"):a(s[0]))},[s,n]),!e)return null;const l=n&&i[n]?i[n]:[],c=l.length>0?Object.keys(l[0]):[],u=e.node_results?Object.keys(e.node_results):[],d=Object.keys(e.node_results||{}).find(h=>e.node_results[h].status==="failed"),f=d?e.node_results[d].error:null;return o.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>r(!t),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(HF,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),o.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[l.length," rows shown"]}),e.status==="failed"&&o.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),o.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?o.jsx(Qt,{className:"w-4 h-4"}):o.jsx(ol,{className:"w-4 h-4"})})]}),t&&o.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&o.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[o.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),o.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:f||"Unknown error occurred during execution."})]}),s.length>1&&o.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[o.jsx(EF,{className:"w-3 h-3 text-muted-foreground mr-1"}),s.map(h=>o.jsx("button",{onClick:()=>a(h),className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${n===h?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:h},h))]}),u.length>0&&e.status!=="failed"&&o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:u.map((h,m)=>o.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:h},m))}),o.jsxs("div",{className:"flex-1 overflow-auto",children:[o.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[o.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:o.jsx("tr",{children:c.map(h=>o.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:h},h))})}),o.jsx("tbody",{children:l.map((h,m)=>o.jsx("tr",{className:"border-b hover:bg-muted/10",children:c.map(p=>o.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:h[p]!==null?String(h[p]):o.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${m}-${p}`))},m))})]}),l.length===0&&o.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",n?`for ${n}`:""]})]})]})]})},UA=qx(e=>({activeView:"canvas",setView:t=>e({activeView:t})})),fK=()=>{const[e,t]=y.useState(!1),{activeView:r,setView:n}=UA();y.useEffect(()=>{document.documentElement.classList.contains("dark")?t(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),t(!0))},[]);const a=()=>{const i=!e;t(i),i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return o.jsxs("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-between shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-8",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gu,{to:"/",className:"mr-2 p-2 hover:bg-accent rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Back to Dashboard",children:o.jsx(dP,{className:"w-5 h-5"})}),o.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:o.jsx(TF,{className:"w-5 h-5 text-primary"})}),o.jsx("h1",{className:"font-bold text-lg tracking-tight bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"Skyulf ML Canvas"})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg",children:[o.jsxs("button",{onClick:()=>n("canvas"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${r==="canvas"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(pP,{className:"w-4 h-4"}),"Canvas"]}),o.jsxs("button",{onClick:()=>n("experiments"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${r==="experiments"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(lF,{className:"w-4 h-4"}),"Experiments"]}),o.jsxs("button",{onClick:()=>n("inference"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${r==="inference"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(Fx,{className:"w-4 h-4"}),"Inference"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("a",{href:"/ml-workflow-v1",className:"text-sm text-muted-foreground hover:text-primary transition-colors mr-2",target:"_blank",rel:"noopener noreferrer",children:"Switch to Legacy V1"}),o.jsx("button",{onClick:a,className:"p-2 hover:bg-accent rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Toggle Theme",children:e?o.jsx(OF,{className:"w-5 h-5"}):o.jsx(BF,{className:"w-5 h-5"})})]})]})},hK=()=>{const{isDrawerOpen:e,toggleDrawer:t,jobs:r,isLoading:n,activeTab:a,setTab:i,fetchJobs:s}=dl(),[l,c]=y.useState(null);if(!e)return null;const u=r.filter(d=>d.job_type===a);return o.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),o.jsx("div",{className:"relative w-[900px] h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-lg flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden transition-all",children:l?o.jsx(mK,{job:l,onBack:()=>c(null),onClose:()=>t(!1)}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[o.jsx("h2",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Job History"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>s(),className:`p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 ${n?"animate-spin":""}`,title:"Refresh",children:o.jsx(Pm,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>t(!1),className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:o.jsx(Gr,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[o.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="tuning"?"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-50/50 dark:bg-purple-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>i("tuning"),children:"Model Optimization"}),o.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="training"?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>i("training"),children:"Standard Training"})]}),o.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-2 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"col-span-2",children:"Status"}),o.jsx("div",{className:"col-span-2",children:"Dataset / Model"}),o.jsx("div",{className:"col-span-1",children:"Job ID"}),o.jsx("div",{className:"col-span-2",children:"Started"}),o.jsx("div",{className:"col-span-1",children:"Duration"}),o.jsx("div",{className:"col-span-2",children:"Model Ready"}),o.jsx("div",{className:"col-span-2",children:"Result"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-gray-50/30 dark:bg-gray-900/30",children:u.length===0?o.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500 text-sm",children:["No ",a==="tuning"?"optimization":"training"," jobs found."]}):u.map(d=>o.jsx(pK,{job:d,onClick:()=>c(d)},d.job_id))})]})})]})},mK=({job:e,onBack:t,onClose:r})=>{const{cancelJob:n}=dl(),[a,i]=y.useState(e),[s,l]=y.useState("overview"),[c,u]=y.useState(!1),d=y.useRef(null);y.useEffect(()=>{let h;const m=async()=>{try{const p=await Nr.getJob(e.job_id);i(p)}catch(p){console.error("Failed to fetch job details",p)}};return m(),(a.status==="running"||a.status==="queued")&&(h=setInterval(m,2e3)),()=>{h&&clearInterval(h)}},[e.job_id,a.status]),y.useEffect(()=>{s==="logs"&&d.current&&d.current.scrollIntoView({behavior:"smooth"})},[a.logs,s]);const f=async()=>{if(confirm("Are you sure you want to stop this job?")){u(!0);try{await n(a.job_id)}catch{alert("Failed to cancel job")}finally{u(!1)}}};return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-500",children:o.jsx(dP,{className:"w-4 h-4"})}),o.jsx("div",{children:o.jsxs("h2",{className:"font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:["Job Details",o.jsx("span",{className:"text-xs font-normal text-gray-500 font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:a.job_id.slice(0,8)})]})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[(a.status==="running"||a.status==="queued")&&o.jsxs("button",{onClick:f,disabled:c,className:"flex items-center gap-1 px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 rounded text-xs font-medium transition-colors border border-red-200 dark:border-red-800",children:[o.jsx(FF,{className:"w-3 h-3 fill-current"}),c?"Stopping...":"Stop Job"]}),o.jsx("button",{onClick:r,className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:o.jsx(Gr,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 px-4",children:[o.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="overview"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>l("overview"),children:[o.jsx(gP,{className:"w-4 h-4"}),"Overview"]}),o.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="logs"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>l("logs"),children:[o.jsx(zx,{className:"w-4 h-4"}),"Live Logs",a.status==="running"&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s==="overview"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),o.jsx("div",{className:"font-medium capitalize flex items-center gap-2 text-gray-800 dark:text-gray-200",children:a.status})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Dataset"}),o.jsxs("div",{className:"font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[o.jsx(Si,{className:"w-3 h-3 text-gray-400"}),a.dataset_name||a.dataset_id||"Unknown"]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Duration"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200 font-mono",children:a.start_time&&a.end_time?`${Math.round((new Date(a.end_time).getTime()-new Date(a.start_time).getTime())/1e3)}s`:"-"})]})]}),a.error&&o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg",children:[o.jsxs("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300 mb-2 flex items-center gap-2",children:[o.jsx(ka,{className:"w-4 h-4"}),"Error Log"]}),o.jsx("pre",{className:"text-xs text-red-700 dark:text-red-400 whitespace-pre-wrap font-mono",children:a.error})]}),a.result&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[o.jsx(VF,{className:"w-4 h-4"}),"Execution Results"]}),a.status==="completed"&&o.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 font-medium",children:[o.jsx(Mc,{className:"w-3 h-3"})," Model Ready"]})]}),a.job_type==="training"&&a.result.metrics&&o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).map(([h,m])=>o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:h.replace(/_/g," ")}),o.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof m=="number"?m.toFixed(4):String(m)})]},h))}),a.job_type==="tuning"&&a.result.best_params&&o.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-xs overflow-x-auto",children:[o.jsx("div",{className:"text-gray-500 mb-2",children:"# Best Hyperparameters"}),o.jsx("pre",{children:JSON.stringify(a.result.best_params,null,2)})]})]})]}):o.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 min-h-[400px] font-mono text-xs text-gray-300 overflow-x-auto",children:[a.logs&&a.logs.length>0?a.logs.map((h,m)=>o.jsx("div",{className:"mb-1 border-b border-gray-800 pb-1 last:border-0",children:h},m)):o.jsx("div",{className:"text-gray-500 italic",children:"No logs available yet..."}),o.jsx("div",{ref:d})]})})]})},pK=({job:e,onClick:t})=>{var s,l;const r=c=>{switch(c){case"completed":case"succeeded":return o.jsx(Mc,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return o.jsx(ka,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"running":return o.jsx(Pm,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 animate-spin"});default:return o.jsx(mF,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}},n=c=>{switch(c){case"completed":return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50";case"failed":return"bg-red-50/30 dark:bg-red-900/10 border-red-100 dark:border-red-900/30 hover:bg-red-50/50 dark:hover:bg-red-900/20";case"running":return"bg-blue-50/30 dark:bg-blue-900/10 border-blue-100 dark:border-blue-900/30 hover:bg-blue-50/50 dark:hover:bg-blue-900/20";default:return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}},a=c=>c?new Date(c).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",i=(c,u)=>{if(!c||!u)return"-";const d=new Date(u).getTime()-new Date(c).getTime(),f=Math.floor(d/1e3);return f<60?`${f}s`:`${Math.floor(f/60)}m ${f%60}s`};return o.jsxs("div",{onClick:t,className:`grid grid-cols-12 gap-4 p-3 rounded-lg border text-sm items-center transition-colors cursor-pointer ${n(e.status)}`,children:[o.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[r(e.status),o.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300 capitalize truncate",children:e.status})]}),o.jsxs("div",{className:"col-span-2 flex flex-col justify-center text-xs text-gray-600 dark:text-gray-400 truncate",children:[o.jsxs("div",{className:"flex items-center gap-1",title:e.dataset_name||e.dataset_id,children:[o.jsx(Si,{className:"w-3 h-3"}),o.jsx("span",{className:"truncate",children:e.dataset_name||e.dataset_id||"-"})]}),o.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] text-gray-500",children:[o.jsx("span",{className:"font-medium truncate",children:e.model_type||"Unknown Model"}),e.job_type==="tuning"&&((l=(s=e.config)==null?void 0:s.tuning)==null?void 0:l.strategy)&&o.jsxs("span",{className:"text-gray-400 truncate",children:["(",e.config.tuning.strategy,")"]})]})]}),o.jsx("div",{className:"col-span-1 font-mono text-xs text-gray-500 dark:text-gray-400 truncate",title:e.job_id,children:e.job_id.slice(0,8)}),o.jsx("div",{className:"col-span-2 text-gray-600 dark:text-gray-400 text-xs",children:a(e.start_time)}),o.jsx("div",{className:"col-span-1 text-gray-600 dark:text-gray-400 text-xs font-mono",children:i(e.start_time,e.end_time)}),o.jsx("div",{className:"col-span-2",children:e.status==="completed"&&o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 w-fit",children:[o.jsx(Mc,{className:"w-3 h-3"})," Ready"]})}),o.jsx("div",{className:"col-span-2",children:e.error?o.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs truncate block",title:e.error,children:"Error"}):e.status==="completed"&&e.result?e.job_type==="training"&&e.result.metrics?o.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.result.metrics).slice(0,1).map(([c,u])=>o.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 truncate max-w-full",children:[c,": ",Number(u).toFixed(3)]},c))}):e.job_type==="tuning"&&e.result.best_params?o.jsx("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",title:JSON.stringify(e.result.best_params),children:"Params found"}):o.jsx("span",{className:"text-gray-400 text-xs",children:"-"}):o.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]})};function HA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=HA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Se(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=HA(e))&&(n&&(n+=" "),n+=t);return n}var gK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function hb(e){if(typeof e!="string")return!1;var t=gK;return t.includes(e)}var yK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vK=new Set(yK);function VA(e){return typeof e!="string"?!1:vK.has(e)}function WA(e){return typeof e=="string"&&e.startsWith("data-")}function Or(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(VA(r)||WA(r))&&(t[r]=e[r]);return t}function fl(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Or(t)}return typeof e=="object"&&!Array.isArray(e)?Or(e):null}function Ht(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(VA(r)||WA(r)||hb(r))&&(t[r]=e[r]);return t}function xK(e){return e==null?null:y.isValidElement(e)?Ht(e.props):typeof e=="object"&&!Array.isArray(e)?Ht(e):null}var bK=["children","width","height","viewBox","className","style","title","desc"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(null,arguments)}function wK(e,t){if(e==null)return{};var r,n,a=jK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mb=y.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:l,title:c,desc:u}=e,d=wK(e,bK),f=i||{width:n,height:a,x:0,y:0},h=Se("recharts-surface",s);return y.createElement("svg",I0({},Ht(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,u),r)}),kK=["children","className"];function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(null,arguments)}function NK(e,t){if(e==null)return{};var r,n,a=_K(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _K(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Et=y.forwardRef((e,t)=>{var{children:r,className:n}=e,a=NK(e,kK),i=Se("recharts-layer",n);return y.createElement("g",D0({className:i},Ht(a),{ref:t}),r)}),KA=y.createContext(null),SK=()=>y.useContext(KA);function Ie(e){return function(){return e}}const qA=Math.cos,vh=Math.sin,En=Math.sqrt,xh=Math.PI,qm=2*xh,R0=Math.PI,L0=2*R0,Ri=1e-6,EK=L0-Ri;function YA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function CK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return YA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class PK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YA:CK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ri)if(!(Math.abs(f*c-u*d)>Ri)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,p=a-l,v=c*c+u*u,x=m*m+p*p,g=Math.sqrt(v),b=Math.sqrt(h),w=i*Math.tan((R0-Math.acos((v+h-x)/(2*g*b)))/2),j=w/b,k=w/g;Math.abs(j-1)>Ri&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*m>d*p)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ri||Math.abs(this._y1-d)>Ri)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%L0+L0),h>EK?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ri&&this._append`A${n},${n},0,${+(h>=R0)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function pb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new PK(t)}function gb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function XA(e){this._context=e}XA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ym(e){return new XA(e)}function GA(e){return e[0]}function QA(e){return e[1]}function ZA(e,t){var r=Ie(!0),n=null,a=Ym,i=null,s=pb(l);e=typeof e=="function"?e:e===void 0?GA:Ie(e),t=typeof t=="function"?t:t===void 0?QA:Ie(t);function l(c){var u,d=(c=gb(c)).length,f,h=!1,m;for(n==null&&(i=a(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ie(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ie(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ie(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function $d(e,t,r){var n=null,a=Ie(!0),i=null,s=Ym,l=null,c=pb(u);e=typeof e=="function"?e:e===void 0?GA:Ie(+e),t=typeof t=="function"?t:Ie(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?QA:Ie(+r);function u(f){var h,m,p,v=(f=gb(f)).length,x,g=!1,b,w=new Array(v),j=new Array(v);for(i==null&&(l=s(b=c())),h=0;h<=v;++h){if(!(h<v&&a(x=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(w[p],j[p]);l.lineEnd(),l.areaEnd()}g&&(w[h]=+e(x,h,f),j[h]=+t(x,h,f),l.point(n?+n(x,h,f):w[h],r?+r(x,h,f):j[h]))}if(b)return l=null,b+""||null}function d(){return ZA().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ie(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ie(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ie(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ie(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ie(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ie(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ie(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class JA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function OK(e){return new JA(e,!0)}function AK(e){return new JA(e,!1)}const yb={draw(e,t){const r=En(t/xh);e.moveTo(r,0),e.arc(0,0,r,0,qm)}},TK={draw(e,t){const r=En(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},eT=En(1/3),MK=eT*2,IK={draw(e,t){const r=En(t/MK),n=r*eT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},DK={draw(e,t){const r=En(t),n=-r/2;e.rect(n,n,r,r)}},RK=.8908130915292852,tT=vh(xh/10)/vh(7*xh/10),LK=vh(qm/10)*tT,$K=-qA(qm/10)*tT,zK={draw(e,t){const r=En(t*RK),n=LK*r,a=$K*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=qm*i/5,l=qA(s),c=vh(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Lg=En(3),FK={draw(e,t){const r=-En(t/(Lg*3));e.moveTo(0,r*2),e.lineTo(-Lg*r,-r),e.lineTo(Lg*r,-r),e.closePath()}},Rr=-.5,Lr=En(3)/2,$0=1/En(12),BK=($0/2+1)*3,UK={draw(e,t){const r=En(t/BK),n=r/2,a=r*$0,i=n,s=r*$0+r,l=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,c),e.lineTo(Rr*n-Lr*a,Lr*n+Rr*a),e.lineTo(Rr*i-Lr*s,Lr*i+Rr*s),e.lineTo(Rr*l-Lr*c,Lr*l+Rr*c),e.lineTo(Rr*n+Lr*a,Rr*a-Lr*n),e.lineTo(Rr*i+Lr*s,Rr*s-Lr*i),e.lineTo(Rr*l+Lr*c,Rr*c-Lr*l),e.closePath()}};function HK(e,t){let r=null,n=pb(a);e=typeof e=="function"?e:Ie(e||yb),t=typeof t=="function"?t:Ie(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ie(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ie(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function bh(){}function wh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function rT(e){this._context=e}rT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VK(e){return new rT(e)}function nT(e){this._context=e}nT.prototype={areaStart:bh,areaEnd:bh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WK(e){return new nT(e)}function aT(e){this._context=e}aT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KK(e){return new aT(e)}function iT(e){this._context=e}iT.prototype={areaStart:bh,areaEnd:bh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qK(e){return new iT(e)}function mN(e){return e<0?-1:1}function pN(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(mN(i)+mN(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function gN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $g(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function jh(e){this._context=e}jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$g(this,this._t0,gN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$g(this,gN(this,r=pN(this,e,t)),r);break;default:$g(this,this._t0,r=pN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function sT(e){this._context=new oT(e)}(sT.prototype=Object.create(jh.prototype)).point=function(e,t){jh.prototype.point.call(this,t,e)};function oT(e){this._context=e}oT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function YK(e){return new jh(e)}function XK(e){return new sT(e)}function lT(e){this._context=e}lT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=yN(e),a=yN(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yN(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function GK(e){return new lT(e)}function Xm(e,t){this._context=e,this._t=t}Xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function QK(e){return new Xm(e,.5)}function ZK(e){return new Xm(e,0)}function JK(e){return new Xm(e,1)}function Ko(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function z0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function eq(e,t){return e[t]}function tq(e){const t=[];return t.key=e,t}function rq(){var e=Ie([]),t=z0,r=Ko,n=eq;function a(i){var s=Array.from(e.apply(this,arguments),tq),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=gb(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ie(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ie(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?z0:typeof i=="function"?i:Ie(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ko,a):r},a}function nq(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Ko(e,t)}}function aq(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ko(e,t)}}function iq(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var v=e[t[p]],x=v[n][1]||0,g=v[n-1][1]||0;m+=x-g}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ko(e,t)}}var Gm={},cT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(cT);var vb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(vb);var Qm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Qm);var Zm={},uT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(uT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT,r=Qm;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],s=a.length;if(s===0)return i;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<s;){const f=a[l];u?f==="\\"&&l+1<s?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,l++}return c&&i.push(c),i}e.toPath=n})(Zm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cT,r=vb,n=Qm,a=Zm;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function s(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Gm);var sq=Gm.get;const qo=qn(sq);var ur=e=>e===0?0:e>0?1:-1,Ar=e=>typeof e=="number"&&e!=+e,_a=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,de=e=>(typeof e=="number"||e instanceof Number)&&!Ar(e),Qr=e=>de(e)||typeof e=="string",oq=0,Hc=e=>{var t=++oq;return"".concat(e||"").concat(t)},jn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&typeof t!="string")return n;var i;if(_a(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Ar(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},dT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function De(e,t,r){return de(e)&&de(t)?e+r*(t-e):t}function fT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):qo(n,t))===r)}var lq=e=>{for(var t=e.length,r=0,n=0,a=0,i=0,s=1/0,l=-1/0,c=0,u=0,d=0;d<t;d++)c=e[d].cx||0,u=e[d].cy||0,r+=c,n+=u,a+=c*u,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var f=t*i!==r*r?(t*a-r*n)/(t*i-r*r):0;return{xmin:s,xmax:l,a:f,b:(n-f*r)/t}},Oe=e=>e===null||typeof e>"u",Pu=e=>Oe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function cq(e){return e!=null}function Ou(){}var uq=["type","size","sizeType"];function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(null,arguments)}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t,r){return(t=fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mq(e,t){if(e==null)return{};var r,n,a=pq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hT={symbolCircle:yb,symbolCross:TK,symbolDiamond:IK,symbolSquare:DK,symbolStar:zK,symbolTriangle:FK,symbolWye:UK},gq=Math.PI/180,yq=e=>{var t="symbol".concat(Pu(e));return hT[t]||yb},vq=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*gq;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},xq=(e,t)=>{hT["symbol".concat(Pu(e))]=t},Jm=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=mq(e,uq),i=xN(xN({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var l=()=>{var h=yq(s),m=HK().type(h).size(vq(r,n,s)),p=m();if(p!==null)return p},{className:c,cx:u,cy:d}=i,f=Ht(i);return de(u)&&de(d)&&de(r)?y.createElement("path",F0({},f,{className:Se("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};Jm.registerSymbol=xq;var mT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,xb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{hb(a)&&(n[a]=i=>r[a](r,i))}),n},bq=(e,t,r)=>n=>(e(t,r,n),null),Au=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];hb(a)&&typeof i=="function"&&(n||(n={}),n[a]=bq(i,t,r))}),n},wq=e=>Array.isArray(e)&&e.length>0;function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kq(e,t,r){return(t=Nq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nq(e){var t=_q(e,"string");return typeof t=="symbol"?t:t+""}function _q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dt(e,t){var r=jq({},e),n=t,a=Object.keys(t),i=a.reduce((s,l)=>(s[l]===void 0&&n[l]!==void 0&&(s[l]=n[l]),s),r);return i}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(null,arguments)}function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){Eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eq(e,t,r){return(t=Cq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zr=32,Oq={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Aq(e){var{data:t,iconType:r,inactiveColor:n}=e,a=zr/2,i=zr/6,s=zr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return y.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:zr,y2:a,className:"recharts-legend-icon"})}if(c==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(zr,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return y.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(zr/8,"h").concat(zr,"v").concat(zr*3/4,"h").concat(-zr,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var d=Sq({},t);return delete d.legendIcon,y.cloneElement(t.legendIcon,d)}return y.createElement(Jm,{fill:l,cx:a,cy:a,size:zr,sizeType:"diameter",type:c})}function Tq(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=e,l={x:0,y:0,width:zr,height:zr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=Se({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?i:d.color,v=h?h(d.value,d,f):d.value;return y.createElement("li",kh({className:m,style:c,key:"legend-item-".concat(f)},Au(e,d,f)),y.createElement(mb,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(v," legend icon")},y.createElement(Aq,{data:d,iconType:s,inactiveColor:i})),y.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},v))})}var Mq=e=>{var t=dt(e,Oq),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:i},y.createElement(Tq,kh({},t,{payload:r})))},pT={},gT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],l=n(s);a.has(l)||a.set(l,s)}return Array.from(a.values())}e.uniqBy=t})(gT);var bb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(bb);var yT={},ep={},vT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(vT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vT;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ep);var xT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(xT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ep,r=xT;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(yT);var bT={},wT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gm;function r(n){return function(a){return t.get(a,n)}}e.property=r})(wT);var jT={},wb={},kT={},jb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(jb);var kb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(kb);var Nb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Nb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jb,r=kb,n=Nb;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(p,v,x,g,b,w){const j=h(p,v,x,g,b,w);return j!==void 0?!!j:i(p,v,m,w)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<p.length;v++){const x=p[v];if(!r.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!h(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,v]of f.entries()){const x=d.get(p);if(h(x,v,p,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let v=0;v<f.length;v++){const x=f[v];let g=!1;for(let b=0;b<d.length;b++){if(p.has(b))continue;const w=d[b];let j=!1;if(h(w,x,v,d,f,m)&&(j=!0),j){p.add(b),g=!0;break}}if(!g)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(kT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kT;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(wb);var NT={},_b={},_T={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(_T);var Sb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Sb);var Eb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",v="[object DataView]",x="[object Uint8Array]",g="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",j="[object BigUint64Array]",k="[object Int8Array]",_="[object Int16Array]",N="[object Int32Array]",S="[object BigInt64Array]",E="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=v,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=E,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=N,e.int8ArrayTag=k,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=g})(Eb);var ST={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(ST);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_T,r=Sb,n=Eb,a=kb,i=ST;function s(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,p=void 0){const v=p==null?void 0:p(d,f,h,m);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=l(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[g,b]of d)x.set(g,l(b,g,h,m,p));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const g of d)x.add(l(g,void 0,h,m,p));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=l(d[g],g,h,m,p);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),c(x,d,h,m,p),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),c(x,d,h,m,p),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),c(x,d,h,m,p),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,h,m,p),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),c(x,d,h,m,p),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),c(x,d,h,m,p),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),c(x,d,h,m,p),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),c(x,d,h,m,p),x}return d}function c(d,f,h=d,m,p){const v=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<v.length;x++){const g=v[x],b=Object.getOwnPropertyDescriptor(d,g);(b==null||b.writable)&&(d[g]=l(f[g],g,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=c})(_b);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_b;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(NT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wb,r=NT;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(jT);var ET={},CT={},PT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_b,r=Eb;function n(a,i){return t.cloneDeepWith(a,(s,l,c,u)=>{const d=i==null?void 0:i(s,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(PT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PT;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(CT);var OT={},Cb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Cb);var AT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sb;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(AT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vb,r=Cb,n=AT,a=Zm;function i(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(s==null?void 0:s[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(OT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wb,r=Qm,n=CT,a=Gm,i=OT;function s(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(ET);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bb,r=wT,n=jT,a=ET;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(bT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT,r=bb,n=yT,a=bT;function i(s,l=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(l)):[]}e.uniqBy=i})(pT);var Iq=pT.uniqBy;const jN=qn(Iq);function TT(e,t,r){return t===!0?jN(e,r):typeof t=="function"?jN(e,t):e}var Pb=y.createContext(null),Dq=e=>e,Ke=()=>{var e=y.useContext(Pb);return e?e.store.dispatch:Dq},_f=()=>{},Rq=()=>_f,Lq=(e,t)=>e===t;function oe(e){var t=y.useContext(Pb);return QP.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Rq,t?t.store.getState:_f,t?t.store.getState:_f,t?e:_f,Lq)}function $q(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function zq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Fq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var kN=e=>Array.isArray(e)?e:[e];function Bq(e){const t=Array.isArray(e[0])?e[0]:e;return Fq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Uq(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Hq=class{constructor(e){this.value=e}deref(){return this.value}},Vq=typeof WeakRef<"u"?WeakRef:Hq,Wq=0,NN=1;function zd(){return{s:Wq,v:void 0,o:null,p:null}}function MT(e,t={}){let r=zd();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const x=v.get(p);x===void 0?(l=zd(),v.set(p,l)):l=x}else{let v=l.p;v===null&&(l.p=v=new Map);const x=v.get(p);x===void 0?(l=zd(),v.set(p,l)):l=x}}const u=l;let d;if(l.s===NN)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new Vq(d):d}return u.s=NN,u.v=d,d}return s.clearCache=()=>{r=zd(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function Kq(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),$q(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=MT,argsMemoizeOptions:p=[]}=d,v=kN(h),x=kN(p),g=Bq(a),b=f(function(){return i++,u.apply(null,arguments)},...v),w=m(function(){s++;const k=Uq(g,arguments);return l=b.apply(null,k),l},...x);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:g,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var W=Kq(MT),qq=Object.assign((e,t=W)=>{zq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,l,c)=>(s[r[c]]=l,s),{}))},{withTypes:()=>qq}),IT={},DT={},RT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),l=t(a);if(s===l&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-s:s-l}return 0};e.compareValues=r})(RT);var LT={},Ob={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ob);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ob,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(LT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RT,r=LT,n=Zm;function a(i,s,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,p)=>{let v=m;for(let x=0;x<p.length&&v!=null;++x)v=v[p[x]];return v},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let v=0;v<f.length;v++){const x=t.compareValues(m.criteria[v],p.criteria[v],l[v]);if(x!==0)return x}return 0}).map(m=>m.original)}e.orderBy=a})(DT);var $T={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?s(d,c+1):a.push(d)}};return s(r,0),a}e.flatten=t})($T);var Ab={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cb,r=ep,n=jb,a=Nb;function i(s,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],s):!1}e.isIterateeCall=i})(Ab);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DT,r=$T,n=Ab;function a(i,...s){const l=s.length;return l>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:l>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(IT);var Yq=IT.sortBy;const tp=qn(Yq);var zT=e=>e.legend.settings,Xq=e=>e.legend.size,Gq=e=>e.legend.payload,Qq=W([Gq,zT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?tp(n,r):n});function Zq(){return oe(Qq)}var Fd=1;function FT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>Fd||Math.abs(s.left-t.left)>Fd||Math.abs(s.top-t.top)>Fd||Math.abs(s.width-t.width)>Fd)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ot(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Jq=typeof Symbol=="function"&&Symbol.observable||"@@observable",_N=Jq,zg=()=>Math.random().toString(36).substring(7).split("").join("."),eY={INIT:`@@redux/INIT${zg()}`,REPLACE:`@@redux/REPLACE${zg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zg()}`},Nh=eY;function Tb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function BT(e,t,r){if(typeof e!="function")throw new Error(Ot(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ot(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ot(1));return r(BT)(e,t)}let n=e,a=t,i=new Map,s=i,l=0,c=!1;function u(){s===i&&(s=new Map,i.forEach((x,g)=>{s.set(g,x)}))}function d(){if(c)throw new Error(Ot(3));return a}function f(x){if(typeof x!="function")throw new Error(Ot(4));if(c)throw new Error(Ot(5));let g=!0;u();const b=l++;return s.set(b,x),function(){if(g){if(c)throw new Error(Ot(6));g=!1,u(),s.delete(b),i=null}}}function h(x){if(!Tb(x))throw new Error(Ot(7));if(typeof x.type>"u")throw new Error(Ot(8));if(typeof x.type!="string")throw new Error(Ot(17));if(c)throw new Error(Ot(9));try{c=!0,a=n(a,x)}finally{c=!1}return(i=s).forEach(b=>{b()}),x}function m(x){if(typeof x!="function")throw new Error(Ot(10));n=x,h({type:Nh.REPLACE})}function p(){const x=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Ot(11));function b(){const j=g;j.next&&j.next(d())}return b(),{unsubscribe:x(b)}},[_N](){return this}}}return h({type:Nh.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[_N]:p}}function tY(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Nh.INIT})>"u")throw new Error(Ot(12));if(typeof r(void 0,{type:Nh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ot(13))})}function UT(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{tY(r)}catch(i){a=i}return function(s={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=s[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(Ot(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(s).length,c?u:s}}function _h(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function rY(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Ot(15))};const s={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(s));return i=_h(...l)(a.dispatch),{...a,dispatch:i}}}function HT(e){return Tb(e)&&"type"in e&&typeof e.type=="string"}var VT=Symbol.for("immer-nothing"),SN=Symbol.for("immer-draftable"),Zt=Symbol.for("immer-state");function hn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _r=Object,Yo=_r.getPrototypeOf,Sh="constructor",rp="prototype",B0="configurable",Eh="enumerable",Sf="writable",Vc="value",Sa=e=>!!e&&!!e[Zt];function kn(e){var t;return e?WT(e)||np(e)||!!e[SN]||!!((t=e[Sh])!=null&&t[SN])||ap(e)||ip(e):!1}var nY=_r[rp][Sh].toString(),EN=new WeakMap;function WT(e){if(!e||!Mb(e))return!1;const t=Yo(e);if(t===null||t===_r[rp])return!0;const r=_r.hasOwnProperty.call(t,Sh)&&t[Sh];if(r===Object)return!0;if(!Hs(r))return!1;let n=EN.get(r);return n===void 0&&(n=Function.toString.call(r),EN.set(r,n)),n===nY}function Tu(e,t,r=!0){Mu(e)===0?(r?Reflect.ownKeys(e):_r.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Mu(e){const t=e[Zt];return t?t.type_:np(e)?1:ap(e)?2:ip(e)?3:0}var CN=(e,t,r=Mu(e))=>r===2?e.has(t):_r[rp].hasOwnProperty.call(e,t),U0=(e,t,r=Mu(e))=>r===2?e.get(t):e[t],Ch=(e,t,r,n=Mu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function aY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var np=Array.isArray,ap=e=>e instanceof Map,ip=e=>e instanceof Set,Mb=e=>typeof e=="object",Hs=e=>typeof e=="function",Fg=e=>typeof e=="boolean",na=e=>e.copy_||e.base_,Ib=e=>e.modified_?e.copy_:e.base_;function H0(e,t){if(ap(e))return new Map(e);if(ip(e))return new Set(e);if(np(e))return Array[rp].slice.call(e);const r=WT(e);if(t===!0||t==="class_only"&&!r){const n=_r.getOwnPropertyDescriptors(e);delete n[Zt];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],l=n[s];l[Sf]===!1&&(l[Sf]=!0,l[B0]=!0),(l.get||l.set)&&(n[s]={[B0]:!0,[Sf]:!0,[Eh]:l[Eh],[Vc]:e[s]})}return _r.create(Yo(e),n)}else{const n=Yo(e);if(n!==null&&r)return{...e};const a=_r.create(n);return _r.assign(a,e)}}function Db(e,t=!1){return sp(e)||Sa(e)||!kn(e)||(Mu(e)>1&&_r.defineProperties(e,{set:Bd,add:Bd,clear:Bd,delete:Bd}),_r.freeze(e),t&&Tu(e,(r,n)=>{Db(n,!0)},!1)),e}function iY(){hn(2)}var Bd={[Vc]:iY};function sp(e){return e===null||!Mb(e)?!0:_r.isFrozen(e)}var Ph="MapSet",V0="Patches",KT={};function Xo(e){const t=KT[e];return t||hn(0,e),t}var sY=e=>!!KT[e],Wc,qT=()=>Wc,oY=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:sY(Ph)?Xo(Ph):void 0});function PN(e,t){t&&(e.patchPlugin_=Xo(V0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function W0(e){K0(e),e.drafts_.forEach(lY),e.drafts_=null}function K0(e){e===Wc&&(Wc=e.parent_)}var ON=e=>Wc=oY(Wc,e);function lY(e){const t=e[Zt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function AN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Zt].modified_&&(W0(t),hn(4)),kn(e)&&(e=TN(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Zt].base_,e,t)}else e=TN(t,r);return cY(t,e,!0),W0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==VT?e:void 0}function TN(e,t){if(sp(t))return t;const r=t[Zt];if(!r)return Rb(t,e.handledSet_,e);if(!op(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);GT(r,e)}return r.copy_}function cY(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Db(t,r)}function YT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var op=(e,t)=>e.scope_===t,uY=[];function XT(e,t,r,n){const a=na(e),i=e.type_;if(n!==void 0&&U0(a,n,i)===t){Ch(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Tu(a,(c,u)=>{if(Sa(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const s=e.draftLocations_.get(t)??uY;for(const l of s)Ch(a,l,r,i)}function dY(e,t,r){e.callbacks_.push(function(a){var l;const i=t;if(!i||!op(i,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(i);const s=Ib(i);XT(e,i.draft_??i,s,r),GT(i,a)})}function GT(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}YT(e)}}function fY(e,t,r){const{scope_:n}=e;if(Sa(r)){const a=r[Zt];op(a,n)&&a.callbacks_.push(function(){Ef(e);const s=Ib(a);XT(e,r,s,t)})}else kn(r)&&e.callbacks_.push(function(){const i=na(e);U0(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Rb(U0(e.copy_,t,e.type_),n.handledSet_,n)})}function Rb(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Sa(e)||t.has(e)||!kn(e)||sp(e)||(t.add(e),Tu(e,(n,a)=>{if(Sa(a)){const i=a[Zt];if(op(i,r)){const s=Ib(i);Ch(e,n,s,e.type_),YT(i)}}else kn(a)&&Rb(a,t,r)})),e}function hY(e,t){const r=np(e),n={type_:r?1:0,scope_:t?t.scope_:qT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Lb;r&&(a=[n],i=Kc);const{revoke:s,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=s,[l,n]}var Lb={get(e,t){if(t===Zt)return e;const r=na(e);if(!CN(r,t,e.type_))return mY(e,r,t);const n=r[t];if(e.finalized_||!kn(n))return n;if(n===Bg(e.base_,t)){Ef(e);const a=e.type_===1?+t:t,i=Y0(e.scope_,n,e,a);return e.copy_[a]=i}return n},has(e,t){return t in na(e)},ownKeys(e){return Reflect.ownKeys(na(e))},set(e,t,r){const n=QT(na(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Bg(na(e),t),i=a==null?void 0:a[Zt];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(aY(r,a)&&(r!==void 0||CN(e.base_,t,e.type_)))return!0;Ef(e),q0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),fY(e,t,r)),!0},deleteProperty(e,t){return Ef(e),Bg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),q0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=na(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Sf]:!0,[B0]:e.type_!==1||t!=="length",[Eh]:n[Eh],[Vc]:r[t]}},defineProperty(){hn(11)},getPrototypeOf(e){return Yo(e.base_)},setPrototypeOf(){hn(12)}},Kc={};Tu(Lb,(e,t)=>{Kc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Kc.deleteProperty=function(e,t){return Kc.set.call(this,e,t,void 0)};Kc.set=function(e,t,r){return Lb.set.call(this,e[0],t,r,e[0])};function Bg(e,t){const r=e[Zt];return(r?na(r):e)[t]}function mY(e,t,r){var a;const n=QT(t,r);return n?Vc in n?n[Vc]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function QT(e,t){if(!(t in e))return;let r=Yo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Yo(r)}}function q0(e){e.modified_||(e.modified_=!0,e.parent_&&q0(e.parent_))}function Ef(e){e.copy_||(e.assigned_=new Map,e.copy_=H0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var pY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Hs(r)&&!Hs(n)){const s=n;n=r;const l=this;return function(u=s,...d){return l.produce(u,f=>n.call(this,f,...d))}}Hs(n)||hn(6),a!==void 0&&!Hs(a)&&hn(7);let i;if(kn(r)){const s=ON(this),l=Y0(s,r,void 0);let c=!0;try{i=n(l),c=!1}finally{c?W0(s):K0(s)}return PN(s,a),AN(i,s)}else if(!r||!Mb(r)){if(i=n(r),i===void 0&&(i=r),i===VT&&(i=void 0),this.autoFreeze_&&Db(i,!0),a){const s=[],l=[];Xo(V0).generateReplacementPatches_(r,i,{patches_:s,inversePatches_:l}),a(s,l)}return i}else hn(1,r)},this.produceWithPatches=(r,n)=>{if(Hs(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,i;return[this.produce(r,n,(l,c)=>{a=l,i=c}),a,i]},Fg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Fg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Fg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){kn(t)||hn(8),Sa(t)&&(t=xn(t));const r=ON(this),n=Y0(r,t,void 0);return n[Zt].isManual_=!0,K0(r),n}finishDraft(t,r){const n=t&&t[Zt];(!n||!n.isManual_)&&hn(9);const{scope_:a}=n;return PN(a,r),AN(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Xo(V0).applyPatches_;return Sa(t)?a(t,r):this.produce(t,i=>a(i,r))}};function Y0(e,t,r,n){const[a,i]=ap(t)?Xo(Ph).proxyMap_(t,r):ip(t)?Xo(Ph).proxySet_(t,r):hY(t,r);return((r==null?void 0:r.scope_)??qT()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?dY(r,i,n):i.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),a}function xn(e){return Sa(e)||hn(10,e),ZT(e)}function ZT(e){if(!kn(e)||sp(e))return e;const t=e[Zt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=H0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=H0(e,!0);return Tu(r,(a,i)=>{Ch(r,a,ZT(i))},n),t&&(t.finalized_=!1),r}var gY=new pY,JT=gY.produce;function eM(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var yY=eM(),vY=eM,xY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_h:_h.apply(null,arguments)};function Zr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Er(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>HT(n)&&n.type===e,r}var tM=class Gl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Gl.prototype)}static get[Symbol.species](){return Gl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Gl(...t[0].concat(this)):new Gl(...t.concat(this))}};function MN(e){return kn(e)?JT(e,()=>{}):e}function Ud(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function bY(e){return typeof e=="boolean"}var wY=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new tM;return r&&(bY(r)?s.push(yY):s.push(vY(r.extraArgument))),s},rM="RTK_autoBatch",Be=()=>e=>({payload:e,meta:{[rM]:!0}}),IN=e=>t=>{setTimeout(t,e)},nM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:IN(10):e.type==="callback"?e.queueNotification:IN(e.timeout),u=()=>{s=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[rM]),i=!a,i&&(s||(s=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},jY=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new tM(e);return n&&a.push(nM(typeof n=="object"?n:void 0)),a};function kY(e){const t=wY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Tb(r))l=UT(r);else throw new Error(Er(1));let c;typeof n=="function"?c=n(t):c=t();let u=_h;a&&(u=xY({trace:!1,...typeof a=="object"&&a}));const d=rY(...c),f=jY(d);let h=typeof s=="function"?s(f):f();const m=u(...h);return BT(l,i,m)}function aM(e){const t={},r=[];let n;const a={addCase(i,s){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Er(28));if(l in t)throw new Error(Er(29));return t[l]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function NY(e){return typeof e=="function"}function _Y(e,t){let[r,n,a]=aM(t),i;if(NY(e))i=()=>MN(e());else{const l=MN(e);i=()=>l}function s(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Sa(d)){const m=f(d,c);return m===void 0?d:m}else{if(kn(d))return JT(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return s.getInitialState=i,s}var SY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",EY=(e=21)=>{let t="",r=e;for(;r--;)t+=SY[Math.random()*64|0];return t},CY=Symbol.for("rtk-slice-createasyncthunk");function PY(e,t){return`${e}/${t}`}function OY({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[CY];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(Er(11));const l=(typeof a.reducers=="function"?a.reducers(TY()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,k){const _=typeof j=="string"?j:j.type;if(!_)throw new Error(Er(12));if(_ in u.sliceCaseReducersByType)throw new Error(Er(13));return u.sliceCaseReducersByType[_]=k,d},addMatcher(j,k){return u.sliceMatchers.push({matcher:j,reducer:k}),d},exposeAction(j,k){return u.actionCreators[j]=k,d},exposeCaseReducer(j,k){return u.sliceCaseReducersByName[j]=k,d}};c.forEach(j=>{const k=l[j],_={reducerName:j,type:PY(i,j),createNotation:typeof a.reducers=="function"};IY(k)?RY(_,k,d,t):MY(_,k,d)});function f(){const[j={},k=[],_=void 0]=typeof a.extraReducers=="function"?aM(a.extraReducers):[a.extraReducers],N={...j,...u.sliceCaseReducersByType};return _Y(a.initialState,S=>{for(let E in N)S.addCase(E,N[E]);for(let E of u.sliceMatchers)S.addMatcher(E.matcher,E.reducer);for(let E of k)S.addMatcher(E.matcher,E.reducer);_&&S.addDefaultCase(_)})}const h=j=>j,m=new Map,p=new WeakMap;let v;function x(j,k){return v||(v=f()),v(j,k)}function g(){return v||(v=f()),v.getInitialState()}function b(j,k=!1){function _(S){let E=S[j];return typeof E>"u"&&k&&(E=Ud(p,_,g)),E}function N(S=h){const E=Ud(m,k,()=>new WeakMap);return Ud(E,S,()=>{const T={};for(const[O,P]of Object.entries(a.selectors??{}))T[O]=AY(P,S,()=>Ud(p,S,g),k);return T})}return{reducerPath:j,getSelectors:N,get selectors(){return N(_)},selectSlice:_}}const w={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...b(s),injectInto(j,{reducerPath:k,..._}={}){const N=k??s;return j.inject({reducerPath:N,reducer:x},_),{...w,...b(N,!0)}}};return w}}function AY(e,t,r,n){function a(i,...s){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...s)}return a.unwrapped=e,a}var yr=OY();function TY(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function MY({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!DY(n))throw new Error(Er(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Zr(e,s):Zr(e))}function IY(e){return e._reducerDefinitionType==="asyncThunk"}function DY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function RY({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Er(18));const{payloadCreator:i,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||Hd,pending:l||Hd,rejected:c||Hd,settled:u||Hd})}function Hd(){}var LY="task",iM="listener",sM="completed",$b="cancelled",$Y=`task-${$b}`,zY=`task-${sM}`,X0=`${iM}-${$b}`,FY=`${iM}-${sM}`,lp=class{constructor(e){jl(this,"name","TaskAbortError");jl(this,"message");this.code=e,this.message=`${LY} ${$b} (reason: ${e})`}},zb=(e,t)=>{if(typeof e!="function")throw new TypeError(Er(32))},Oh=()=>{},oM=(e,t=Oh)=>(e.catch(t),e),lM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),cs=e=>{if(e.aborted)throw new lp(e.reason)};function cM(e,t){let r=Oh;return new Promise((n,a)=>{const i=()=>a(new lp(e.reason));if(e.aborted){i();return}r=lM(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Oh})}var BY=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof lp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Ah=e=>t=>oM(cM(e,t).then(r=>(cs(e),r))),uM=e=>{const t=Ah(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:po}=Object,DN={},cp="listenerMiddleware",UY=(e,t)=>{const r=n=>lM(e,()=>n.abort(e.reason));return(n,a)=>{zb(n);const i=new AbortController;r(i);const s=BY(async()=>{cs(e),cs(i.signal);const l=await n({pause:Ah(i.signal),delay:uM(i.signal),signal:i.signal});return cs(i.signal),l},()=>i.abort(zY));return a!=null&&a.autoJoin&&t.push(s.catch(Oh)),{result:Ah(e)(s),cancel(){i.abort($Y)}}}},HY=(e,t)=>{const r=async(n,a)=>{cs(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await cM(t,Promise.race(l));return cs(t),c}finally{i()}};return(n,a)=>oM(r(n,a))},dM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Zr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Er(21));return zb(i),{predicate:a,type:t,effect:i}},fM=po(e=>{const{type:t,predicate:r,effect:n}=dM(e);return{id:EY(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Er(22))}}},{withTypes:()=>fM}),RN=(e,t)=>{const{type:r,effect:n,predicate:a}=dM(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},G0=e=>{e.pending.forEach(t=>{t.abort(X0)})},VY=(e,t)=>()=>{for(const r of t.keys())G0(r);e.clear()},LN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},hM=po(Zr(`${cp}/add`),{withTypes:()=>hM}),WY=Zr(`${cp}/removeAll`),mM=po(Zr(`${cp}/remove`),{withTypes:()=>mM}),KY=(...e)=>{console.error(`${cp}/error`,...e)},Iu=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:i,onError:s=KY}=e;zb(s);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&G0(m)}),c=m=>{const p=RN(t,m)??fM(m);return l(p)};po(c,{withTypes:()=>c});const u=m=>{const p=RN(t,m);return p&&(p.unsubscribe(),m.cancelActive&&G0(p)),!!p};po(u,{withTypes:()=>u});const d=async(m,p,v,x)=>{const g=new AbortController,b=HY(c,g.signal),w=[];try{m.pending.add(g),n(m),await Promise.resolve(m.effect(p,po({},v,{getOriginalState:x,condition:(j,k)=>b(j,k).then(Boolean),take:b,delay:uM(g.signal),pause:Ah(g.signal),extra:i,signal:g.signal,fork:UY(g.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((j,k,_)=>{j!==g&&(j.abort(X0),_.delete(j))})},cancel:()=>{g.abort(X0),m.pending.delete(g)},throwIfCancelled:()=>{cs(g.signal)}})))}catch(j){j instanceof lp||LN(s,j,{raisedBy:"effect"})}finally{await Promise.all(w),g.abort(FY),a(m),m.pending.delete(g)}},f=VY(t,r);return{middleware:m=>p=>v=>{if(!HT(v))return p(v);if(hM.match(v))return c(v.payload);if(WY.match(v)){f();return}if(mM.match(v))return u(v.payload);let x=m.getState();const g=()=>{if(x===DN)throw new Error(Er(23));return x};let b;try{if(b=p(v),t.size>0){const w=m.getState(),j=Array.from(t.values());for(const k of j){let _=!1;try{_=k.predicate(v,w,x)}catch(N){_=!1,LN(s,N,{raisedBy:"predicate"})}_&&d(k,v,m,g)}}}finally{x=DN}return b},startListening:c,stopListening:u,clearListeners:f}};function Er(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},pM=yr({name:"chartLayout",initialState:qY,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:YY,setLayout:XY,setChartSize:GY,setScale:QY}=pM.actions,ZY=pM.reducer;function gM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){JY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JY(e,t,r){return(t=eX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eX(e){var t=tX(e,"string");return typeof t=="symbol"?t:t+""}function tX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ge(e,t,r){return Oe(e)||Oe(t)?r:Qr(t)?qo(e,t,r):typeof t=="function"?t(e):r}var rX=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&i!=="center"&&de(e[i]))return ao(ao({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&s!=="middle"&&de(e[s]))return ao(ao({},e),{},{[s]:e[s]+(a||0)})}return e},Pi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",yM=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,s=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||s.push(t),i||s.push(r),s},vM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=a==="category"&&s.bandwidth?s.bandwidth()/p:0;if(v=m==="angleAxis"&&i&&i.length>=2?ur(i[0]-i[1])*2*v:v,f||h){var x=(f||h||[]).map((g,b)=>{var w=n?n.indexOf(g):g;return{coordinate:s(w)+v,value:g,offset:v,index:b}});return x.filter(g=>!Ar(g.coordinate))}return c&&u?u.map((g,b)=>({coordinate:s(g)+v,value:g,index:b,offset:v})):s.ticks&&d!=null?s.ticks(d).map((g,b)=>({coordinate:s(g)+v,value:g,offset:v,index:b})):s.domain().map((g,b)=>({coordinate:s(g)+v,value:n?n[g]:g,index:b,offset:v}))},zN=1e-4,nX=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-zN,i=Math.max(n[0],n[1])+zN,s=e(t[0]),l=e(t[r-1]);(s<a||s>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},aX=(e,t)=>{if(!t||t.length!==2||!de(t[0])||!de(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(a[0]=r),(!de(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},iX=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var l=Ar(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+l,i=e[s][r][1])}},sX=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=Ar(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},oX={sign:iX,expand:nq,none:Ko,silhouette:aq,wiggle:iq,positive:sX},lX=(e,t,r)=>{var n=oX[r],a=rq().keys(t).value((i,s)=>Number(Ge(i,s,0))).order(z0).offset(n);return a(e)};function cX(e){return e==null?void 0:String(e)}function Th(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Oe(a[t.dataKey])){var l=fT(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Ge(a,Oe(s)?t.dataKey:s);return Oe(c)?null:t.scale(c)}var FN=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var l=Ge(i,t.dataKey,t.scale.domain()[s]);return Oe(l)?null:t.scale(l)-a/2+n},uX=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},dX=e=>{var t=e.flat(2).filter(de);return[Math.min(...t),Math.max(...t)]},fX=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hX=(e,t,r)=>{if(e!=null)return fX(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,l=s.reduce((c,u)=>{var d=gM(u,t,r),f=dX(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},BN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Go=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=tp(t,d=>d.coordinate),i=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function HN(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return ao(ao({},t),{},{dataKey:r,payload:n,value:a,name:i})}function hl(e,t){if(e)return String(e);if(typeof t=="string")return t}var mX=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},pX=(e,t)=>t==="centric"?e.angle:e.radius,Ia=e=>e.layout.width,Da=e=>e.layout.height,gX=e=>e.layout.scale,xM=e=>e.layout.margin,up=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),dp=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),bM="data-recharts-item-index",wM="data-recharts-item-data-key",Du=60;function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){yX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yX(e,t,r){return(t=vX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vX(e){var t=xX(e,"string");return typeof t=="symbol"?t:t+""}function xX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bX=e=>e.brush.height;function wX(e){var t=dp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Du;return r+a}return r},0)}function jX(e){var t=dp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Du;return r+a}return r},0)}function kX(e){var t=up(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function NX(e){var t=up(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ct=W([Ia,Da,xM,bX,wX,jX,kX,NX,zT,Xq],(e,t,r,n,a,i,s,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+l},h=Vd(Vd({},f),d),m=h.bottom;h.bottom+=n,h=rX(h,c,u);var p=e-h.left-h.right,v=t-h.top-h.bottom;return Vd(Vd({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(v,0)})}),_X=W(Ct,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Fb=W(Ia,Da,(e,t)=>({x:0,y:0,width:e,height:t})),SX=y.createContext(null),pt=()=>y.useContext(SX)!=null,fp=e=>e.brush,hp=W([fp,Ct,xM],(e,t,r)=>({height:e.height,x:de(e.x)?e.x:t.left,y:de(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:de(e.width)?e.width:t.width})),jM={},kM={},NM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(s,l),s=void 0,l=null)},f=()=>{u&&d(),v()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{p(),s=void 0,l=null},x=()=>{d()},g=function(...b){if(a!=null&&a.aborted)return;s=this,l=b;const w=h==null;m(),c&&w&&d()};return g.schedule=m,g.cancel=v,g.flush=x,a==null||a.addEventListener("abort",v,{once:!0}),g}e.debounce=t})(NM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NM;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);s&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...v){d=n.apply(this,v),f=null},a,{edges:u}),m=function(...v){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,v),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(kM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kM;function r(n,a=0,i={}){const{leading:s=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:l})}e.throttle=r})(jM);var EX=jM.throttle;const CX=qn(EX);var Mh=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>a[s++]))}},_M=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:s}=r,l=_a(n)?e:Number(n),c=_a(a)?t:Number(a);return i&&i>0&&(l?c=l/i:c&&(l=c*i),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:l,calculatedHeight:c}},PX={width:0,height:0,overflow:"visible"},OX={width:0,overflowX:"visible"},AX={height:0,overflowY:"visible"},TX={},MX=e=>{var{width:t,height:r}=e,n=_a(t),a=_a(r);return n&&a?PX:n?OX:a?AX:TX};function IX(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Fe(e){return Number.isFinite(e)}function Hn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(null,arguments)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){DX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DX(e,t,r){return(t=RX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=LX(e,"string");return typeof t=="symbol"?t:t+""}function LX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SM=y.createContext({width:-1,height:-1});function $X(e){return Hn(e.width)&&Hn(e.height)}function EM(e){var{children:t,width:r,height:n}=e,a=y.useMemo(()=>({width:r,height:n}),[r,n]);return $X(a)?y.createElement(SM.Provider,{value:a},t):null}var Bb=()=>y.useContext(SM),zX=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,v=y.useRef(null),x=y.useRef();x.current=m,y.useImperativeHandle(t,()=>v.current);var[g,b]=y.useState({containerWidth:n.width,containerHeight:n.height}),w=y.useCallback((S,E)=>{b(T=>{var O=Math.round(S),P=Math.round(E);return T.containerWidth===O&&T.containerHeight===P?T:{containerWidth:O,containerHeight:P}})},[]);y.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Ou;var S=P=>{var L,{width:C,height:D}=P[0].contentRect;w(C,D),(L=x.current)===null||L===void 0||L.call(x,C,D)};d>0&&(S=CX(S,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(S),{width:T,height:O}=v.current.getBoundingClientRect();return w(T,O),E.observe(v.current),()=>{E.disconnect()}},[w,d]);var{containerWidth:j,containerHeight:k}=g;Mh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:N}=_M(j,k,{width:a,height:i,aspect:r,maxHeight:c});return Mh(_!=null&&_>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,N,a,i,s,l,r),y.createElement("div",{id:f?"".concat(f):void 0,className:Se("recharts-responsive-container",h),style:KN(KN({},p),{},{width:a,height:i,minWidth:s,minHeight:l,maxHeight:c}),ref:v},y.createElement("div",{style:MX({width:a,height:i})},y.createElement(EM,{width:_,height:N},u)))}),Wd=y.forwardRef((e,t)=>{var r=Bb();if(Hn(r.width)&&Hn(r.height))return e.children;var{width:n,height:a}=IX({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=_M(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return de(i)&&de(s)?y.createElement(EM,{width:i,height:s},e.children):y.createElement(zX,Q0({},e,{width:n,height:a,ref:t}))});function CM(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ml=()=>{var e,t=pt(),r=oe(_X),n=oe(hp),a=(e=oe(fp))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},FX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},PM=()=>{var e;return(e=oe(Ct))!==null&&e!==void 0?e:FX},Ub=()=>oe(Ia),Hb=()=>oe(Da),BX=()=>oe(e=>e.layout.margin),Ee=e=>e.layout.layoutType,Ru=()=>oe(Ee),UX=()=>{var e=Ru();return e!==void 0},mp=e=>{var t=Ke(),r=pt(),{width:n,height:a}=e,i=Bb(),s=n,l=a;return i&&(s=i.width>0?i.width:n,l=i.height>0?i.height:a),y.useEffect(()=>{!r&&Hn(s)&&Hn(l)&&t(GY({width:s,height:l}))},[t,r,s,l]),null},OM=Symbol.for("immer-nothing"),qN=Symbol.for("immer-draftable"),Tr=Symbol.for("immer-state");function mn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qc=Object.getPrototypeOf;function Qo(e){return!!e&&!!e[Tr]}function Ns(e){var t;return e?AM(e)||Array.isArray(e)||!!e[qN]||!!((t=e.constructor)!=null&&t[qN])||Lu(e)||gp(e):!1}var HX=Object.prototype.constructor.toString(),YN=new WeakMap;function AM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=YN.get(r);return n===void 0&&(n=Function.toString.call(r),YN.set(r,n)),n===HX}function Ih(e,t,r=!0){pp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function pp(e){const t=e[Tr];return t?t.type_:Array.isArray(e)?1:Lu(e)?2:gp(e)?3:0}function Z0(e,t){return pp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function TM(e,t,r){const n=pp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function VX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Lu(e){return e instanceof Map}function gp(e){return e instanceof Set}function Li(e){return e.copy_||e.base_}function J0(e,t){if(Lu(e))return new Map(e);if(gp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=AM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Tr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],l=n[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(qc(e),n)}else{const n=qc(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Vb(e,t=!1){return yp(e)||Qo(e)||!Ns(e)||(pp(e)>1&&Object.defineProperties(e,{set:Kd,add:Kd,clear:Kd,delete:Kd}),Object.freeze(e),t&&Object.values(e).forEach(r=>Vb(r,!0))),e}function WX(){mn(2)}var Kd={value:WX};function yp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var KX={};function _s(e){const t=KX[e];return t||mn(0,e),t}var Yc;function MM(){return Yc}function qX(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XN(e,t){t&&(_s("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ev(e){tv(e),e.drafts_.forEach(YX),e.drafts_=null}function tv(e){e===Yc&&(Yc=e.parent_)}function GN(e){return Yc=qX(Yc,e)}function YX(e){const t=e[Tr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function QN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Tr].modified_&&(ev(t),mn(4)),Ns(e)&&(e=Dh(t,e),t.parent_||Rh(t,e)),t.patches_&&_s("Patches").generateReplacementPatches_(r[Tr].base_,e,t.patches_,t.inversePatches_)):e=Dh(t,r,[]),ev(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==OM?e:void 0}function Dh(e,t,r){if(yp(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Tr];if(!a)return Ih(t,(i,s)=>ZN(e,a,t,i,s,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Rh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let s=i,l=!1;a.type_===3&&(s=new Set(i),i.clear(),l=!0),Ih(s,(c,u)=>ZN(e,a,i,c,u,r,l),n),Rh(e,i,!1),r&&e.patches_&&_s("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function ZN(e,t,r,n,a,i,s){if(a==null||typeof a!="object"&&!s)return;const l=yp(a);if(!(l&&!s)){if(Qo(a)){const c=i&&t&&t.type_!==3&&!Z0(t.assigned_,n)?i.concat(n):void 0,u=Dh(e,a,c);if(TM(r,n,u),Qo(u))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(Ns(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Dh(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Lu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Rh(e,a)}}}function Rh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vb(t,r)}function XX(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:MM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Wb;r&&(a=[n],i=Xc);const{revoke:s,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=s,l}var Wb={get(e,t){if(t===Tr)return e;const r=Li(e);if(!Z0(r,t))return GX(e,r,t);const n=r[t];return e.finalized_||!Ns(n)?n:n===Ug(e.base_,t)?(Hg(e),e.copy_[t]=nv(n,e)):n},has(e,t){return t in Li(e)},ownKeys(e){return Reflect.ownKeys(Li(e))},set(e,t,r){const n=IM(Li(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Ug(Li(e),t),i=a==null?void 0:a[Tr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(VX(r,a)&&(r!==void 0||Z0(e.base_,t)))return!0;Hg(e),rv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ug(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Hg(e),rv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Li(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){mn(11)},getPrototypeOf(e){return qc(e.base_)},setPrototypeOf(){mn(12)}},Xc={};Ih(Wb,(e,t)=>{Xc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xc.deleteProperty=function(e,t){return Xc.set.call(this,e,t,void 0)};Xc.set=function(e,t,r){return Wb.set.call(this,e[0],t,r,e[0])};function Ug(e,t){const r=e[Tr];return(r?Li(r):e)[t]}function GX(e,t,r){var a;const n=IM(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function IM(e,t){if(!(t in e))return;let r=qc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=qc(r)}}function rv(e){e.modified_||(e.modified_=!0,e.parent_&&rv(e.parent_))}function Hg(e){e.copy_||(e.copy_=J0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var QX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(c=i,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&mn(6),n!==void 0&&typeof n!="function"&&mn(7);let a;if(Ns(t)){const i=GN(this),s=nv(t,void 0);let l=!0;try{a=r(s),l=!1}finally{l?ev(i):tv(i)}return XN(i,n),QN(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===OM&&(a=void 0),this.autoFreeze_&&Vb(a,!0),n){const i=[],s=[];_s("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else mn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,c=>t(c,...l));let n,a;return[this.produce(t,r,(s,l)=>{n=s,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ns(e)||mn(8),Qo(e)&&(e=ZX(e));const t=GN(this),r=nv(e,void 0);return r[Tr].isManual_=!0,tv(t),r}finishDraft(e,t){const r=e&&e[Tr];(!r||!r.isManual_)&&mn(9);const{scope_:n}=r;return XN(n,t),QN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=_s("Patches").applyPatches_;return Qo(e)?n(e,t):this.produce(e,a=>n(a,t))}};function nv(e,t){const r=Lu(e)?_s("MapSet").proxyMap_(e,t):gp(e)?_s("MapSet").proxySet_(e,t):XX(e,t);return(t?t.scope_:MM()).drafts_.push(r),r}function ZX(e){return Qo(e)||mn(10,e),DM(e)}function DM(e){if(!Ns(e)||yp(e))return e;const t=e[Tr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=J0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=J0(e,!0);return Ih(r,(a,i)=>{TM(r,a,DM(i))},n),t&&(t.finalized_=!1),r}var JX=new QX;JX.produce;var eG={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},RM=yr({name:"legend",initialState:eG,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Be()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=xn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Be()},removeLegendPayload:{reducer(e,t){var r=xn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Be()}}}),{setLegendSize:JN,setLegendSettings:tG,addLegendPayload:rG,replaceLegendPayload:nG,removeLegendPayload:aG}=RM.actions,iG=RM.reducer,sG=["contextPayload"];function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},av.apply(null,arguments)}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){oG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oG(e,t,r){return(t=lG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uG(e,t){if(e==null)return{};var r,n,a=dG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fG(e){return e.value}function hG(e){var{contextPayload:t}=e,r=uG(e,sG),n=TT(t,e.payloadUniqBy,fG),a=Zo(Zo({},r),{},{payload:n});return y.isValidElement(e.content)?y.cloneElement(e.content,a):typeof e.content=="function"?y.createElement(e.content,a):y.createElement(Mq,a)}function mG(e,t,r,n,a,i){var{layout:s,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&s==="vertical"?u={left:((n||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Zo(Zo({},u),d)}function pG(e){var t=Ke();return y.useEffect(()=>{t(tG(e))},[t,e]),null}function gG(e){var t=Ke();return y.useEffect(()=>(t(JN(e)),()=>{t(JN({width:0,height:0}))}),[t,e]),null}function yG(e,t,r,n){return e==="vertical"&&de(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var vG={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function LM(e){var t=dt(e,vG),r=Zq(),n=SK(),a=BX(),{width:i,height:s,wrapperStyle:l,portal:c}=t,[u,d]=FT([r]),f=Ub(),h=Hb();if(f==null||h==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),p=yG(t.layout,s,i,m),v=c?l:Zo(Zo({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||s||"auto"},mG(l,t,a,f,h,u)),l),x=c??n;if(x==null||r==null)return null;var g=y.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},y.createElement(pG,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&y.createElement(gG,{width:u.width,height:u.height}),y.createElement(hG,av({},t,p,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return du.createPortal(g,x)}LM.displayName="Legend";function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iv.apply(null,arguments)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){xG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xG(e,t,r){return(t=bG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=wG(e,"string");return typeof t=="symbol"?t:t+""}function wG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jG(e){return Array.isArray(e)&&Qr(e[0])&&Qr(e[1])?e.join(" ~ "):e}var kG=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var k={padding:0,margin:0},_=(l?tp(i,l):i).map((N,S)=>{if(N.type==="none")return null;var E=N.formatter||s||jG,{value:T,name:O}=N,P=T,L=O;if(E){var C=E(T,O,N,S,i);if(Array.isArray(C))[P,L]=C;else if(C!=null)P=C;else return null}var D=Vg({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:D},Qr(L)?y.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Qr(L)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},P),y.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:k},_)}return null},p=Vg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=Vg({margin:0},a),x=!Oe(d),g=x?d:"",b=Se("recharts-default-tooltip",c),w=Se("recharts-tooltip-label",u);x&&f&&i!==void 0&&i!==null&&(g=f(d,i));var j=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",iv({className:b,style:p},j),y.createElement("p",{className:w,style:v},y.isValidElement(g)?g:"".concat(g)),m())},Dl="recharts-tooltip-wrapper",NG={visibility:"hidden"};function _G(e){var{coordinate:t,translateX:r,translateY:n}=e;return Se(Dl,{["".concat(Dl,"-right")]:de(r)&&t&&de(t.x)&&r>=t.x,["".concat(Dl,"-left")]:de(r)&&t&&de(t.x)&&r<t.x,["".concat(Dl,"-bottom")]:de(n)&&t&&de(t.y)&&n>=t.y,["".concat(Dl,"-top")]:de(n)&&t&&de(t.y)&&n<t.y})}function r_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&de(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return s[n]?d:f;var h=c[n];if(h==null)return 0;if(s[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var v=f+l,x=h+u;return v>x?Math.max(d,h):Math.max(f,h)}function SG(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function EG(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:l,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=r_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=r_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=SG({translateX:d,translateY:f,useTranslate3d:l})):u=NG,{cssProperties:u,cssClasses:_G({translateX:d,translateY:f,coordinate:r})}}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){sv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sv(e,t,r){return(t=CG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=PG(e,"string");return typeof t=="symbol"?t:t+""}function PG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class OG extends y.PureComponent{constructor(){super(...arguments),sv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),sv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:v,innerRef:x,hasPortalFromProps:g}=this.props,{cssClasses:b,cssProperties:w}=EG({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:m}),j=g?{}:qd(qd({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=qd(qd({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:k,ref:x},i)}}var $M=()=>{var e;return(e=oe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(null,arguments)}function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){AG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AG(e,t,r){return(t=TG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TG(e){var t=MG(e,"string");return typeof t=="symbol"?t:t+""}function MG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s_={curveBasisClosed:WK,curveBasisOpen:KK,curveBasis:VK,curveBumpX:OK,curveBumpY:AK,curveLinearClosed:qK,curveLinear:Ym,curveMonotoneX:YK,curveMonotoneY:XK,curveNatural:GK,curveStep:QK,curveStepAfter:JK,curveStepBefore:ZK},Lh=e=>Fe(e.x)&&Fe(e.y),o_=e=>e.base!=null&&Lh(e.base)&&Lh(e),Rl=e=>e.x,Ll=e=>e.y,IG=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Pu(e));return(r==="curveMonotone"||r==="curveBump")&&t?s_["".concat(r).concat(t==="vertical"?"Y":"X")]:s_[r]||Ym},DG=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=IG(t,a),l=i?r.filter(Lh):r,c;if(Array.isArray(n)){var u=r.map((m,p)=>i_(i_({},m),{},{base:n[p]}));a==="vertical"?c=$d().y(Ll).x1(Rl).x0(m=>m.base.x):c=$d().x(Rl).y1(Ll).y0(m=>m.base.y);var d=c.defined(o_).curve(s),f=i?u.filter(o_):u;return d(f)}a==="vertical"&&de(n)?c=$d().y(Ll).x1(Rl).x0(n):de(n)?c=$d().x(Rl).y1(Ll).y0(n):c=ZA().x(Rl).y(Ll);var h=c.defined(Lh).curve(s);return h(l)},Kb=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?DG(e):n;return y.createElement("path",ov({},Or(e),xb(e),{className:Se("recharts-curve",t),d:i===null?void 0:i,ref:a}))},RG=["x","y","top","left","width","height","className"];function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(null,arguments)}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){$G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $G(e,t,r){return(t=zG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=FG(e,"string");return typeof t=="symbol"?t:t+""}function FG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BG(e,t){if(e==null)return{};var r,n,a=UG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HG=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),VG=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:l}=e,c=BG(e,RG),u=LG({x:t,y:r,top:n,left:a,width:i,height:s},c);return!de(t)||!de(r)||!de(i)||!de(s)||!de(n)||!de(a)?null:y.createElement("path",lv({},Ht(u),{className:Se("recharts-cross",l),d:HG(t,r,i,s,n,a)}))};function WG(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){KG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KG(e,t,r){return(t=qG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qG(e){var t=YG(e,"string");return typeof t=="symbol"?t:t+""}function YG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XG=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),zM=(e,t,r)=>e.map(n=>"".concat(XG(n)," ").concat(t,"ms ").concat(r)).join(","),GG=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Gc=(e,t)=>Object.keys(t).reduce((r,n)=>u_(u_({},r),{},{[n]:e(n,t[n])}),{});function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){QG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QG(e,t,r){return(t=ZG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $h=(e,t,r)=>e+(t-e)*r,cv=e=>{var{from:t,to:r}=e;return t!==r},FM=(e,t,r)=>{var n=Gc((a,i)=>{if(cv(i)){var[s,l]=e(i.from,i.to,i.velocity);return ht(ht({},i),{},{from:s,velocity:l})}return i},t);return r<1?Gc((a,i)=>cv(i)?ht(ht({},i),{},{velocity:$h(i.velocity,n[a].velocity,r),from:$h(i.from,n[a].from,r)}):i,t):FM(e,n,r-1)};function eQ(e,t,r,n,a,i){var s,l=n.reduce((h,m)=>ht(ht({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Gc((h,m)=>m.from,l),u=()=>!Object.values(l).filter(cv).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/r.dt;l=FM(r,l,p),a(ht(ht(ht({},e),t),c())),s=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function tQ(e,t,r,n,a,i,s){var l=null,c=a.reduce((f,h)=>ht(ht({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Gc((v,x)=>$h(...x,r(h)),c);if(i(ht(ht(ht({},e),t),m)),h<1)l=s.setTimeout(d);else{var p=Gc((v,x)=>$h(...x,r(1)),c);i(ht(ht(ht({},e),t),p))}};return()=>(l=s.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const rQ=(e,t,r,n,a,i)=>{var s=GG(e,t);return r==null?()=>(a(ht(ht({},e),t)),()=>{}):r.isStepper===!0?eQ(e,t,r,s,a,i):tQ(e,t,r,n,s,a,i)};var zh=1e-4,BM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],UM=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),f_=(e,t)=>r=>{var n=BM(e,t);return UM(n,r)},nQ=(e,t)=>r=>{var n=BM(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return UM(a,r)},aQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((a=i[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var s=i[1].split(")")[0].split(",").map(l=>parseFloat(l));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},iQ=(e,t,r,n)=>{var a=f_(e,r),i=f_(t,n),s=nQ(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,p=s(f);if(Math.abs(m-d)<zh||p<zh)return i(f);f=l(f-m/p)}return i(f)};return c.isStepper=!1,c},h_=function(){return iQ(...aQ(...arguments))},sQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,l,c)=>{var u=-(s-l)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+s;return Math.abs(h-l)<zh&&Math.abs(f)<zh?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},oQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return h_(e);case"spring":return sQ();default:if(e.split("(")[0]==="cubic-bezier")return h_(e)}return typeof e=="function"?e:null};function lQ(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class cQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function uQ(){return lQ(new cQ)}var dQ=y.createContext(uQ);function fQ(e,t){var r=y.useContext(dQ);return y.useMemo(()=>t??r(e),[e,t,r])}var hQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$u={devToolsEnabled:!1,isSsr:hQ()},mQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},m_={t:0},Wg={t:1};function zu(e){var t=dt(e,mQ),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!$u.isSsr:r,f=fQ(t.animationId,t.animationManager),[h,m]=y.useState(d?m_:Wg),p=y.useRef(null);return y.useEffect(()=>{d||m(Wg)},[d]),y.useEffect(()=>{if(!d||!n)return Ou;var v=rQ(m_,Wg,oQ(i),a,m,f.getTimeoutController()),x=()=>{p.current=v()};return f.start([c,s,x,a,l]),()=>{f.stop(),p.current&&p.current(),l()}},[d,n,a,i,s,c,l,f]),u(h.t)}function Fu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(Hc(t)),n=y.useRef(e);return n.current!==e&&(r.current=Hc(t),n.current=e),r.current}var pQ=["radius"],gQ=["radius"];function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){yQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yQ(e,t,r){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=xQ(e,"string");return typeof t=="symbol"?t:t+""}function xQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(null,arguments)}function y_(e,t){if(e==null)return{};var r,n,a=bQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v_=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},x_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HM=e=>{var t=dt(e,x_),r=y.useRef(null),[n,a]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&a(R)}catch{}},[]);var{x:i,y:s,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:v}=t,x=y.useRef(l),g=y.useRef(c),b=y.useRef(i),w=y.useRef(s),j=y.useMemo(()=>({x:i,y:s,width:l,height:c,radius:u}),[i,s,l,c,u]),k=Fu(j,"rectangle-");if(i!==+i||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var _=Se("recharts-rectangle",d);if(!v){var N=Ht(t),{radius:S}=N,E=y_(N,pQ);return y.createElement("path",Fh({},E,{radius:typeof u=="number"?u:void 0,className:_,d:v_(i,s,l,c,u)}))}var T=x.current,O=g.current,P=b.current,L=w.current,C="0px ".concat(n===-1?1:n,"px"),D="".concat(n,"px 0px"),I=zM(["strokeDasharray"],h,typeof f=="string"?f:x_.animationEasing);return y.createElement(zu,{animationId:k,key:k,canBegin:n>0,duration:h,easing:f,isActive:v,begin:m},R=>{var A=De(T,l,R),M=De(O,c,R),z=De(P,i,R),H=De(L,s,R);r.current&&(x.current=A,g.current=M,b.current=z,w.current=H);var B;p?R>0?B={transition:I,strokeDasharray:D}:B={strokeDasharray:C}:B={strokeDasharray:D};var X=Ht(t),{radius:q}=X,J=y_(X,gQ);return y.createElement("path",Fh({},J,{radius:typeof u=="number"?u:void 0,className:_,d:v_(z,H,A,M,u),ref:r,style:g_(g_({},B),t.style)}))})};function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){wQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wQ(e,t,r){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jQ(e){var t=kQ(e,"string");return typeof t=="symbol"?t:t+""}function kQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bh=Math.PI/180,NQ=e=>e*180/Math.PI,Mt=(e,t,r,n)=>({x:e+Math.cos(-Bh*n)*r,y:t+Math.sin(-Bh*n)*r}),_Q=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},SQ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},EQ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=SQ({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var l=(r-a)/s,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:s,angle:NQ(c),angleInRadian:c}},CQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},PQ=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},OQ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=EQ({x:r,y:n},t),{innerRadius:s,outerRadius:l}=t;if(a<s||a>l||a===0)return null;var{startAngle:c,endAngle:u}=CQ(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?w_(w_({},t),{},{radius:a,angle:PQ(d,t)}):null};function VM(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=Mt(t,r,n,a),l=Mt(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(null,arguments)}var AQ=(e,t)=>{var r=ur(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Yd=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:l,cornerIsExternal:c}=e,u=l*(s?1:-1)+n,d=Math.asin(l/u)/Bh,f=c?a:a+i*d,h=Mt(t,r,u,f),m=Mt(t,r,n,f),p=c?a-i*d:a,v=Mt(t,r,u*Math.cos(d*Bh),p);return{center:h,circleTangency:m,lineTangency:v,theta:d}},WM=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,l=AQ(i,s),c=i+l,u=Mt(t,r,a,i),d=Mt(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Mt(t,r,n,i),m=Mt(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},TQ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=ur(u-c),{circleTangency:f,lineTangency:h,theta:m}=Yd({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:p,lineTangency:v,theta:x}=Yd({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),g=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(g<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):WM({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:j,theta:k}=Yd({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:_,lineTangency:N,theta:S}=Yd({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),E=l?Math.abs(c-u):Math.abs(c-u)-k-S;if(E<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},MQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KM=e=>{var t=dt(e,MQ),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=Se("recharts-sector",f),m=i-a,p=jn(s,m,0,!0),v;return p>0&&Math.abs(u-d)<360?v=TQ({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=WM({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),y.createElement("path",uv({},Ht(t),{className:h,d:v}))};function IQ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(mT(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:s,angle:l}=t,c=Mt(n,a,i,l),u=Mt(n,a,s,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return VM(t)}}var qM={},YM={},XM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ob;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(XM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XM;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(YM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ab,r=YM;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const l=Math.max(Math.ceil((i-a)/(s||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=s;return c}e.range=n})(qM);var DQ=qM.range;const GM=qn(DQ);function gi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qb(e){let t,r,n;e.length!==2?(t=gi,r=(l,c)=>gi(e(l),c),n=(l,c)=>e(l)-c):(t=e===gi||e===RQ?e:LQ,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function LQ(){return 0}function QM(e){return e===null?NaN:+e}function*$Q(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const zQ=qb(gi),Bu=zQ.right;qb(QM).center;class j_ extends Map{constructor(t,r=UQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(k_(this,t))}has(t){return super.has(k_(this,t))}set(t,r){return super.set(FQ(this,t),r)}delete(t){return super.delete(BQ(this,t))}}function k_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function FQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function BQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function UQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function HQ(e=gi){if(e===gi)return ZM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ZM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const VQ=Math.sqrt(50),WQ=Math.sqrt(10),KQ=Math.sqrt(2);function Uh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=VQ?10:i>=WQ?5:i>=KQ?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Uh(e,t,r*2):[l,c,u]}function dv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Uh(t,e,r):Uh(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function fv(e,t,r){return t=+t,e=+e,r=+r,Uh(e,t,r)[2]}function hv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?fv(t,e,r):fv(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function N_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function __(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function JM(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?ZM:HQ(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));JM(e,t,m,p,a)}const i=e[t];let s=r,l=n;for($l(e,r,t),a(e[n],i)>0&&$l(e,r,n);s<l;){for($l(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?$l(e,r,l):(++l,$l(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function $l(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function qQ(e,t,r){if(e=Float64Array.from($Q(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return __(e);if(t>=1)return N_(e);var n,a=(n-1)*t,i=Math.floor(a),s=N_(JM(e,i).subarray(0,i+1)),l=__(e.subarray(i+1));return s+(l-s)*(a-i)}}function YQ(e,t,r=QM){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function XQ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function tn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ra(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mv=Symbol("implicit");function Yb(){var e=new j_,t=[],r=[],n=mv;function a(i){let s=e.get(i);if(s===void 0){if(n!==mv)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new j_;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Yb(t,r).unknown(n)},tn.apply(a,arguments),a}function Xb(){var e=Yb().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,v=m?n:a;i=(v-p)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),p+=(v-p-i*(h-c))*d,s=i*(1-c),l&&(p=Math.round(p),s=Math.round(s));var x=XQ(h).map(function(g){return p+i*g});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Xb(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},tn.apply(f(),arguments)}function eI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return eI(t())},e}function GQ(){return eI(Xb.apply(null,arguments).paddingInner(1))}function QQ(e){return function(){return e}}function Hh(e){return+e}var S_=[0,1];function Xt(e){return e}function pv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:QQ(isNaN(t)?NaN:.5)}function ZQ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function JQ(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=pv(a,n),i=r(s,i)):(n=pv(n,a),i=r(i,s)),function(l){return i(n(l))}}function eZ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=pv(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var c=Bu(e,l,1,n)-1;return i[c](a[c](l))}}function Uu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vp(){var e=S_,t=S_,r=pa,n,a,i,s=Xt,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Xt&&(s=ZQ(e[0],e[h-1])),l=h>2?eZ:JQ,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=l(t,e.map(n),dn)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Hh),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Zx,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Xt,d()):s!==Xt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function Gb(){return vp()(Xt,Xt)}function tZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Jo(e){return e=Vh(Math.abs(e)),e?e[1]:NaN}function rZ(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function nZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var aZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qc(e){if(!(t=aZ.exec(e)))throw new Error("invalid format: "+e);var t;return new Qb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qc.prototype=Qb.prototype;function Qb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iZ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var tI;function sZ(e,t){var r=Vh(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(tI=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Vh(e,Math.max(0,t+i-1))[0]}function E_(e,t){var r=Vh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const C_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>E_(e*100,t),r:E_,s:sZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function P_(e){return e}var O_=Array.prototype.map,A_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oZ(e){var t=e.grouping===void 0||e.thousands===void 0?P_:rZ(O_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?P_:nZ(O_.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Qc(f);var h=f.fill,m=f.align,p=f.sign,v=f.symbol,x=f.zero,g=f.width,b=f.comma,w=f.precision,j=f.trim,k=f.type;k==="n"?(b=!0,k="g"):C_[k]||(w===void 0&&(w=12),j=!0,k="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var _=v==="$"?r:v==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",N=v==="$"?n:/[%p]/.test(k)?s:"",S=C_[k],E=/[defgprs%]/.test(k);w=w===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(O){var P=_,L=N,C,D,I;if(k==="c")L=S(O)+L,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?c:S(Math.abs(O),w),j&&(O=iZ(O)),R&&+O==0&&p!=="+"&&(R=!1),P=(R?p==="("?p:l:p==="-"||p==="("?"":p)+P,L=(k==="s"?A_[8+tI/3]:"")+L+(R&&p==="("?")":""),E){for(C=-1,D=O.length;++C<D;)if(I=O.charCodeAt(C),48>I||I>57){L=(I===46?a+O.slice(C+1):O.slice(C))+L,O=O.slice(0,C);break}}}b&&!x&&(O=t(O,1/0));var A=P.length+O.length+L.length,M=A<g?new Array(g-A+1).join(h):"";switch(b&&x&&(O=t(M+O,M.length?g-L.length:1/0),M=""),m){case"<":O=P+O+L+M;break;case"=":O=P+M+O+L;break;case"^":O=M.slice(0,A=M.length>>1)+P+O+L+M.slice(A);break;default:O=M+P+O+L;break}return i(O)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=Qc(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Jo(h)/3)))*3,v=Math.pow(10,-p),x=A_[8+p/3];return function(g){return m(v*g)+x}}return{format:u,formatPrefix:d}}var Xd,Zb,rI;lZ({thousands:",",grouping:[3],currency:["$",""]});function lZ(e){return Xd=oZ(e),Zb=Xd.format,rI=Xd.formatPrefix,Xd}function cZ(e){return Math.max(0,-Jo(Math.abs(e)))}function uZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jo(t)/3)))*3-Jo(Math.abs(e)))}function dZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jo(t)-Jo(e))+1}function nI(e,t,r,n){var a=hv(e,t,r),i;switch(n=Qc(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=uZ(a,s))&&(n.precision=i),rI(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=dZ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=cZ(a))&&(n.precision=i-(n.type==="%")*2);break}}return Zb(n)}function Oi(e){var t=e.domain;return e.ticks=function(r){var n=t();return dv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return nI(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=fv(s,l,r),u===c)return n[a]=s,n[i]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function aI(){var e=Gb();return e.copy=function(){return Uu(e,aI())},tn.apply(e,arguments),Oi(e)}function iI(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return iI(e).unknown(t)},e=arguments.length?Array.from(e,Hh):[0,1],Oi(r)}function sI(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function T_(e){return Math.log(e)}function M_(e){return Math.exp(e)}function fZ(e){return-Math.log(-e)}function hZ(e){return-Math.exp(-e)}function mZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pZ(e){return e===10?mZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function I_(e){return(t,r)=>-e(-t,r)}function Jb(e){const t=e(T_,M_),r=t.domain;let n=10,a,i;function s(){return a=gZ(n),i=pZ(n),r()[0]<0?(a=I_(a),i=I_(i),e(fZ,hZ)):e(T_,M_),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,v;const x=l==null?10:+l;let g=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(v=h<0?p/i(-h):p*i(h),!(v<u)){if(v>d)break;g.push(v)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(v=h>0?p/i(-h):p*i(h),!(v<u)){if(v>d)break;g.push(v)}g.length*2<x&&(g=dv(u,d,x))}else g=dv(h,m,Math.min(m-h,x)).map(i);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Qc(c)).precision==null&&(c.trim=!0),c=Zb(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(sI(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function oI(){const e=Jb(vp()).domain([1,10]);return e.copy=()=>Uu(e,oI()).base(e.base()),tn.apply(e,arguments),e}function D_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function R_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ew(e){var t=1,r=e(D_(t),R_(t));return r.constant=function(n){return arguments.length?e(D_(t=+n),R_(t)):t},Oi(r)}function lI(){var e=ew(vp());return e.copy=function(){return Uu(e,lI()).constant(e.constant())},tn.apply(e,arguments)}function L_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vZ(e){return e<0?-e*e:e*e}function tw(e){var t=e(Xt,Xt),r=1;function n(){return r===1?e(Xt,Xt):r===.5?e(yZ,vZ):e(L_(r),L_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Oi(t)}function rw(){var e=tw(vp());return e.copy=function(){return Uu(e,rw()).exponent(e.exponent())},tn.apply(e,arguments),e}function xZ(){return rw.apply(null,arguments).exponent(.5)}function $_(e){return Math.sign(e)*e*e}function bZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function cI(){var e=Gb(),t=[0,1],r=!1,n;function a(i){var s=bZ(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert($_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Hh)).map($_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return cI(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},tn.apply(a,arguments),Oi(a)}function uI(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=YQ(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Bu(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(gi),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return uI().domain(e).range(t).unknown(n)},tn.apply(i,arguments)}function dI(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Bu(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return dI().domain([e,t]).range(a).unknown(i)},tn.apply(Oi(s),arguments)}function fI(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Bu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return fI().domain(e).range(t).unknown(r)},tn.apply(a,arguments)}const Kg=new Date,qg=new Date;function gt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<s);return c},a.filter=i=>gt(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Kg.setTime(+i),qg.setTime(+s),e(Kg),e(qg),Math.floor(r(Kg,qg))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Wh=gt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Wh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?gt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Wh);Wh.range;const da=1e3,Kr=da*60,fa=Kr*60,Ea=fa*24,nw=Ea*7,z_=Ea*30,Yg=Ea*365,Ki=gt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getUTCSeconds());Ki.range;const aw=gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*da)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getMinutes());aw.range;const iw=gt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getUTCMinutes());iw.range;const sw=gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*da-e.getMinutes()*Kr)},(e,t)=>{e.setTime(+e+t*fa)},(e,t)=>(t-e)/fa,e=>e.getHours());sw.range;const ow=gt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*fa)},(e,t)=>(t-e)/fa,e=>e.getUTCHours());ow.range;const Hu=gt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kr)/Ea,e=>e.getDate()-1);Hu.range;const xp=gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ea,e=>e.getUTCDate()-1);xp.range;const hI=gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ea,e=>Math.floor(e/Ea));hI.range;function Is(e){return gt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Kr)/nw)}const bp=Is(0),Kh=Is(1),wZ=Is(2),jZ=Is(3),el=Is(4),kZ=Is(5),NZ=Is(6);bp.range;Kh.range;wZ.range;jZ.range;el.range;kZ.range;NZ.range;function Ds(e){return gt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/nw)}const wp=Ds(0),qh=Ds(1),_Z=Ds(2),SZ=Ds(3),tl=Ds(4),EZ=Ds(5),CZ=Ds(6);wp.range;qh.range;_Z.range;SZ.range;tl.range;EZ.range;CZ.range;const lw=gt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());lw.range;const cw=gt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());cw.range;const Ca=gt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ca.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ca.range;const Pa=gt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Pa.range;function mI(e,t,r,n,a,i){const s=[[Ki,1,da],[Ki,5,5*da],[Ki,15,15*da],[Ki,30,30*da],[i,1,Kr],[i,5,5*Kr],[i,15,15*Kr],[i,30,30*Kr],[a,1,fa],[a,3,3*fa],[a,6,6*fa],[a,12,12*fa],[n,1,Ea],[n,2,2*Ea],[r,1,nw],[t,1,z_],[t,3,3*z_],[e,1,Yg]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=qb(([,,x])=>x).right(s,h);if(m===s.length)return e.every(hv(u/Yg,d/Yg,f));if(m===0)return Wh.every(Math.max(hv(u,d,f),1));const[p,v]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(v)}return[l,c]}const[PZ,OZ]=mI(Pa,cw,wp,hI,ow,iw),[AZ,TZ]=mI(Ca,lw,bp,Hu,sw,aw);function Xg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function MZ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=Fl(a),d=Bl(a),f=Fl(i),h=Bl(i),m=Fl(s),p=Bl(s),v=Fl(l),x=Bl(l),g=Fl(c),b=Bl(c),w={a:R,A,b:M,B:z,c:null,d:W_,e:W_,f:rJ,g:fJ,G:mJ,H:JZ,I:eJ,j:tJ,L:pI,m:nJ,M:aJ,p:H,q:B,Q:Y_,s:X_,S:iJ,u:sJ,U:oJ,V:lJ,w:cJ,W:uJ,x:null,X:null,y:dJ,Y:hJ,Z:pJ,"%":q_},j={a:X,A:q,b:J,B:ce,c:null,d:K_,e:K_,f:xJ,g:PJ,G:AJ,H:gJ,I:yJ,j:vJ,L:yI,m:bJ,M:wJ,p:re,q:Q,Q:Y_,s:X_,S:jJ,u:kJ,U:NJ,V:_J,w:SJ,W:EJ,x:null,X:null,y:CJ,Y:OJ,Z:TJ,"%":q_},k={a:T,A:O,b:P,B:L,c:C,d:H_,e:H_,f:XZ,g:U_,G:B_,H:V_,I:V_,j:WZ,L:YZ,m:VZ,M:KZ,p:E,q:HZ,Q:QZ,s:ZZ,S:qZ,u:$Z,U:zZ,V:FZ,w:LZ,W:BZ,x:D,X:I,y:U_,Y:B_,Z:UZ,"%":GZ};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(U,Z){return function(ee){var V=[],ne=-1,ue=0,F=U.length,Y,ie,he;for(ee instanceof Date||(ee=new Date(+ee));++ne<F;)U.charCodeAt(ne)===37&&(V.push(U.slice(ue,ne)),(ie=F_[Y=U.charAt(++ne)])!=null?Y=U.charAt(++ne):ie=Y==="e"?" ":"0",(he=Z[Y])&&(Y=he(ee,ie)),V.push(Y),ue=ne+1);return V.push(U.slice(ue,ne)),V.join("")}}function N(U,Z){return function(ee){var V=zl(1900,void 0,1),ne=S(V,U,ee+="",0),ue,F;if(ne!=ee.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(Z&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(ue=Gg(zl(V.y,0,1)),F=ue.getUTCDay(),ue=F>4||F===0?qh.ceil(ue):qh(ue),ue=xp.offset(ue,(V.V-1)*7),V.y=ue.getUTCFullYear(),V.m=ue.getUTCMonth(),V.d=ue.getUTCDate()+(V.w+6)%7):(ue=Xg(zl(V.y,0,1)),F=ue.getDay(),ue=F>4||F===0?Kh.ceil(ue):Kh(ue),ue=Hu.offset(ue,(V.V-1)*7),V.y=ue.getFullYear(),V.m=ue.getMonth(),V.d=ue.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),F="Z"in V?Gg(zl(V.y,0,1)).getUTCDay():Xg(zl(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(F+5)%7:V.w+V.U*7-(F+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,Gg(V)):Xg(V)}}function S(U,Z,ee,V){for(var ne=0,ue=Z.length,F=ee.length,Y,ie;ne<ue;){if(V>=F)return-1;if(Y=Z.charCodeAt(ne++),Y===37){if(Y=Z.charAt(ne++),ie=k[Y in F_?Z.charAt(ne++):Y],!ie||(V=ie(U,ee,V))<0)return-1}else if(Y!=ee.charCodeAt(V++))return-1}return V}function E(U,Z,ee){var V=u.exec(Z.slice(ee));return V?(U.p=d.get(V[0].toLowerCase()),ee+V[0].length):-1}function T(U,Z,ee){var V=m.exec(Z.slice(ee));return V?(U.w=p.get(V[0].toLowerCase()),ee+V[0].length):-1}function O(U,Z,ee){var V=f.exec(Z.slice(ee));return V?(U.w=h.get(V[0].toLowerCase()),ee+V[0].length):-1}function P(U,Z,ee){var V=g.exec(Z.slice(ee));return V?(U.m=b.get(V[0].toLowerCase()),ee+V[0].length):-1}function L(U,Z,ee){var V=v.exec(Z.slice(ee));return V?(U.m=x.get(V[0].toLowerCase()),ee+V[0].length):-1}function C(U,Z,ee){return S(U,t,Z,ee)}function D(U,Z,ee){return S(U,r,Z,ee)}function I(U,Z,ee){return S(U,n,Z,ee)}function R(U){return s[U.getDay()]}function A(U){return i[U.getDay()]}function M(U){return c[U.getMonth()]}function z(U){return l[U.getMonth()]}function H(U){return a[+(U.getHours()>=12)]}function B(U){return 1+~~(U.getMonth()/3)}function X(U){return s[U.getUTCDay()]}function q(U){return i[U.getUTCDay()]}function J(U){return c[U.getUTCMonth()]}function ce(U){return l[U.getUTCMonth()]}function re(U){return a[+(U.getUTCHours()>=12)]}function Q(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var Z=_(U+="",w);return Z.toString=function(){return U},Z},parse:function(U){var Z=N(U+="",!1);return Z.toString=function(){return U},Z},utcFormat:function(U){var Z=_(U+="",j);return Z.toString=function(){return U},Z},utcParse:function(U){var Z=N(U+="",!0);return Z.toString=function(){return U},Z}}}var F_={"-":"",_:" ",0:"0"},Pt=/^\s*\d+/,IZ=/^%/,DZ=/[\\^$*+?|[\]().{}]/g;function Ne(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function RZ(e){return e.replace(DZ,"\\$&")}function Fl(e){return new RegExp("^(?:"+e.map(RZ).join("|")+")","i")}function Bl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function LZ(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $Z(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function zZ(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function FZ(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function BZ(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function B_(e,t,r){var n=Pt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function U_(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function UZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function HZ(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function VZ(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function H_(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function WZ(e,t,r){var n=Pt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function V_(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function KZ(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function qZ(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function YZ(e,t,r){var n=Pt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function XZ(e,t,r){var n=Pt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GZ(e,t,r){var n=IZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function QZ(e,t,r){var n=Pt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ZZ(e,t,r){var n=Pt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function W_(e,t){return Ne(e.getDate(),t,2)}function JZ(e,t){return Ne(e.getHours(),t,2)}function eJ(e,t){return Ne(e.getHours()%12||12,t,2)}function tJ(e,t){return Ne(1+Hu.count(Ca(e),e),t,3)}function pI(e,t){return Ne(e.getMilliseconds(),t,3)}function rJ(e,t){return pI(e,t)+"000"}function nJ(e,t){return Ne(e.getMonth()+1,t,2)}function aJ(e,t){return Ne(e.getMinutes(),t,2)}function iJ(e,t){return Ne(e.getSeconds(),t,2)}function sJ(e){var t=e.getDay();return t===0?7:t}function oJ(e,t){return Ne(bp.count(Ca(e)-1,e),t,2)}function gI(e){var t=e.getDay();return t>=4||t===0?el(e):el.ceil(e)}function lJ(e,t){return e=gI(e),Ne(el.count(Ca(e),e)+(Ca(e).getDay()===4),t,2)}function cJ(e){return e.getDay()}function uJ(e,t){return Ne(Kh.count(Ca(e)-1,e),t,2)}function dJ(e,t){return Ne(e.getFullYear()%100,t,2)}function fJ(e,t){return e=gI(e),Ne(e.getFullYear()%100,t,2)}function hJ(e,t){return Ne(e.getFullYear()%1e4,t,4)}function mJ(e,t){var r=e.getDay();return e=r>=4||r===0?el(e):el.ceil(e),Ne(e.getFullYear()%1e4,t,4)}function pJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ne(t/60|0,"0",2)+Ne(t%60,"0",2)}function K_(e,t){return Ne(e.getUTCDate(),t,2)}function gJ(e,t){return Ne(e.getUTCHours(),t,2)}function yJ(e,t){return Ne(e.getUTCHours()%12||12,t,2)}function vJ(e,t){return Ne(1+xp.count(Pa(e),e),t,3)}function yI(e,t){return Ne(e.getUTCMilliseconds(),t,3)}function xJ(e,t){return yI(e,t)+"000"}function bJ(e,t){return Ne(e.getUTCMonth()+1,t,2)}function wJ(e,t){return Ne(e.getUTCMinutes(),t,2)}function jJ(e,t){return Ne(e.getUTCSeconds(),t,2)}function kJ(e){var t=e.getUTCDay();return t===0?7:t}function NJ(e,t){return Ne(wp.count(Pa(e)-1,e),t,2)}function vI(e){var t=e.getUTCDay();return t>=4||t===0?tl(e):tl.ceil(e)}function _J(e,t){return e=vI(e),Ne(tl.count(Pa(e),e)+(Pa(e).getUTCDay()===4),t,2)}function SJ(e){return e.getUTCDay()}function EJ(e,t){return Ne(qh.count(Pa(e)-1,e),t,2)}function CJ(e,t){return Ne(e.getUTCFullYear()%100,t,2)}function PJ(e,t){return e=vI(e),Ne(e.getUTCFullYear()%100,t,2)}function OJ(e,t){return Ne(e.getUTCFullYear()%1e4,t,4)}function AJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?tl(e):tl.ceil(e),Ne(e.getUTCFullYear()%1e4,t,4)}function TJ(){return"+0000"}function q_(){return"%"}function Y_(e){return+e}function X_(e){return Math.floor(+e/1e3)}var zs,xI,bI;MJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MJ(e){return zs=MZ(e),xI=zs.format,zs.parse,bI=zs.utcFormat,zs.utcParse,zs}function IJ(e){return new Date(e)}function DJ(e){return e instanceof Date?+e:+new Date(+e)}function uw(e,t,r,n,a,i,s,l,c,u){var d=Gb(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),v=u("%I:%M"),x=u("%I %p"),g=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function k(_){return(c(_)<_?m:l(_)<_?p:s(_)<_?v:i(_)<_?x:n(_)<_?a(_)<_?g:b:r(_)<_?w:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,DJ)):h().map(IJ)},d.ticks=function(_){var N=h();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?k:u(N)},d.nice=function(_){var N=h();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?h(sI(N,_)):d},d.copy=function(){return Uu(d,uw(e,t,r,n,a,i,s,l,c,u))},d}function RJ(){return tn.apply(uw(AZ,TZ,Ca,lw,bp,Hu,sw,aw,Ki,xI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LJ(){return tn.apply(uw(PZ,OZ,Pa,cw,wp,xp,ow,iw,Ki,bI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jp(){var e=0,t=1,r,n,a,i,s=Xt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),u):[s(0),s(1)]}}return u.range=d(pa),u.rangeRound=d(Zx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ai(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wI(){var e=Oi(jp()(Xt));return e.copy=function(){return Ai(e,wI())},Ra.apply(e,arguments)}function jI(){var e=Jb(jp()).domain([1,10]);return e.copy=function(){return Ai(e,jI()).base(e.base())},Ra.apply(e,arguments)}function kI(){var e=ew(jp());return e.copy=function(){return Ai(e,kI()).constant(e.constant())},Ra.apply(e,arguments)}function dw(){var e=tw(jp());return e.copy=function(){return Ai(e,dw()).exponent(e.exponent())},Ra.apply(e,arguments)}function $J(){return dw.apply(null,arguments).exponent(.5)}function NI(){var e=[],t=Xt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(gi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>qQ(e,i/n))},r.copy=function(){return NI(t).domain(e)},Ra.apply(r,arguments)}function kp(){var e=0,t=.5,r=1,n=1,a,i,s,l,c,u=Xt,d,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-i)*(n*v<n*i?l:c),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function p(v){return function(x){var g,b,w;return arguments.length?([g,b,w]=x,u=y9(v,[g,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=p(pa),m.rangeRound=p(Zx),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return d=v,a=v(e),i=v(t),s=v(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m}}function _I(){var e=Oi(kp()(Xt));return e.copy=function(){return Ai(e,_I())},Ra.apply(e,arguments)}function SI(){var e=Jb(kp()).domain([.1,1,10]);return e.copy=function(){return Ai(e,SI()).base(e.base())},Ra.apply(e,arguments)}function EI(){var e=ew(kp());return e.copy=function(){return Ai(e,EI()).constant(e.constant())},Ra.apply(e,arguments)}function fw(){var e=tw(kp());return e.copy=function(){return Ai(e,fw()).exponent(e.exponent())},Ra.apply(e,arguments)}function zJ(){return fw.apply(null,arguments).exponent(.5)}const Ql=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xb,scaleDiverging:_I,scaleDivergingLog:SI,scaleDivergingPow:fw,scaleDivergingSqrt:zJ,scaleDivergingSymlog:EI,scaleIdentity:iI,scaleImplicit:mv,scaleLinear:aI,scaleLog:oI,scaleOrdinal:Yb,scalePoint:GQ,scalePow:rw,scaleQuantile:uI,scaleQuantize:dI,scaleRadial:cI,scaleSequential:wI,scaleSequentialLog:jI,scaleSequentialPow:dw,scaleSequentialQuantile:NI,scaleSequentialSqrt:$J,scaleSequentialSymlog:kI,scaleSqrt:xZ,scaleSymlog:lI,scaleThreshold:fI,scaleTime:RJ,scaleUtc:LJ,tickFormat:nI},Symbol.toStringTag,{value:"Module"}));var Ti=e=>e.chartData,FJ=W([Ti],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Vu=(e,t,r,n)=>n?FJ(e):Ti(e);function xi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Fe(t)&&Fe(r))return!0}return!1}function G_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function CI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Fe(r))a=r;else if(typeof r=="function")return;if(Fe(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(xi(s))return s}}function BJ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(xi(n))return G_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,l;if(a==="auto")t!=null&&(s=Math.min(...t));else if(de(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&BN.test(a)){var c=BN.exec(a);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(de(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&UN.test(i)){var d=UN.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[s,l];if(xi(h))return t==null?h:G_(h,t,r)}}}var pl=1e9,UJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mw,He=!0,Jr="[DecimalError] ",us=Jr+"Invalid argument: ",hw=Jr+"Exponent out of range: ",gl=Math.floor,$i=Math.pow,HJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jr,Nt=1e7,$e=7,PI=9007199254740991,Yh=gl(PI/$e),le={};le.absoluteValue=le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};le.comparedTo=le.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};le.decimalPlaces=le.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$e;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};le.dividedBy=le.div=function(e){return ga(this,new this.constructor(e))};le.dividedToIntegerBy=le.idiv=function(e){var t=this,r=t.constructor;return Te(ga(t,new r(e),0,1),r.precision)};le.equals=le.eq=function(e){return!this.cmp(e)};le.exponent=function(){return ct(this)};le.greaterThan=le.gt=function(e){return this.cmp(e)>0};le.greaterThanOrEqualTo=le.gte=function(e){return this.cmp(e)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(e){return this.cmp(e)<0};le.lessThanOrEqualTo=le.lte=function(e){return this.cmp(e)<1};le.logarithm=le.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(jr))throw Error(Jr+"NaN");if(r.s<1)throw Error(Jr+(r.s?"NaN":"-Infinity"));return r.eq(jr)?new n(0):(He=!1,t=ga(Zc(r,i),Zc(e,i),i),He=!0,Te(t,a))};le.minus=le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TI(t,e):OI(t,(e.s=-e.s,e))};le.modulo=le.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Jr+"NaN");return r.s?(He=!1,t=ga(r,e,0,1).times(e),He=!0,r.minus(t)):Te(new n(r),a)};le.naturalExponential=le.exp=function(){return AI(this)};le.naturalLogarithm=le.ln=function(){return Zc(this)};le.negated=le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};le.plus=le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OI(t,e):TI(t,(e.s=-e.s,e))};le.precision=le.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(us+e);if(t=ct(a)+1,n=a.d.length-1,r=n*$e+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};le.squareRoot=le.sqrt=function(){var e,t,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Jr+"NaN")}for(e=ct(l),He=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=$n(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=gl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(ga(l,i,s+2)).times(.5),$n(i.d).slice(0,s)===(t=$n(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Te(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return He=!0,Te(n,r)};le.times=le.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%Nt|0,t=l/Nt|0;i[a]=(i[a]+t)%Nt|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,He?Te(e,f.precision):e};le.toDecimalPlaces=le.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Vn(e,0,pl),t===void 0?t=n.rounding:Vn(t,0,8),Te(r,e+ct(r)+1,t))};le.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ss(n,!0):(Vn(e,0,pl),t===void 0?t=a.rounding:Vn(t,0,8),n=Te(new a(n),e+1,t),r=Ss(n,!0,e+1)),r};le.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ss(a):(Vn(e,0,pl),t===void 0?t=i.rounding:Vn(t,0,8),n=Te(new i(a),e+ct(a)+1,t),r=Ss(n.abs(),!1,e+ct(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};le.toInteger=le.toint=function(){var e=this,t=e.constructor;return Te(new t(e),ct(e)+1,t.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(e){var t,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(jr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Jr+"Infinity");return l}if(l.eq(jr))return l;if(n=c.precision,e.eq(jr))return Te(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=PI){for(a=new c(jr),t=Math.ceil(n/$e+4),He=!1;r%2&&(a=a.times(l),Z_(a.d,t)),r=gl(r/2),r!==0;)l=l.times(l),Z_(l.d,t);return He=!0,e.s<0?new c(jr).div(a):Te(a,n)}}else if(i<0)throw Error(Jr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,He=!1,a=e.times(Zc(l,n+u)),He=!0,a=AI(a),a.s=i,a};le.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ct(a),n=Ss(a,r<=i.toExpNeg||r>=i.toExpPos)):(Vn(e,1,pl),t===void 0?t=i.rounding:Vn(t,0,8),a=Te(new i(a),e,t),r=ct(a),n=Ss(a,e<=r||r<=i.toExpNeg,e)),n};le.toSignificantDigits=le.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Vn(e,1,pl),t===void 0?t=n.rounding:Vn(t,0,8)),Te(new n(r),e,t)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ct(e),r=e.constructor;return Ss(e,t<=r.toExpNeg||t>=r.toExpPos)};function OI(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),He?Te(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/$e),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Nt|0,c[i]%=Nt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,He?Te(t,f):t}function Vn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(us+e)}function $n(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=$e-n.length,r&&(i+=Va(r)),i+=n;s=e[t],n=s+"",r=$e-n.length,r&&(i+=Va(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ga=function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%Nt|0,s=i/Nt|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Nt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,h,m,p,v,x,g,b,w,j,k,_,N,S,E=n.constructor,T=n.s==a.s?1:-1,O=n.d,P=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Jr+"Division by zero");for(c=n.e-a.e,N=P.length,k=O.length,m=new E(T),p=m.d=[],u=0;P[u]==(O[u]||0);)++u;if(P[u]>(O[u]||0)&&--c,i==null?b=i=E.precision:s?b=i+(ct(n)-ct(a))+1:b=i,b<0)return new E(0);if(b=b/$e+2|0,u=0,N==1)for(d=0,P=P[0],b++;(u<k||d)&&b--;u++)w=d*Nt+(O[u]||0),p[u]=w/P|0,d=w%P|0;else{for(d=Nt/(P[0]+1)|0,d>1&&(P=e(P,d),O=e(O,d),N=P.length,k=O.length),j=N,v=O.slice(0,N),x=v.length;x<N;)v[x++]=0;S=P.slice(),S.unshift(0),_=P[0],P[1]>=Nt/2&&++_;do d=0,l=t(P,v,N,x),l<0?(g=v[0],N!=x&&(g=g*Nt+(v[1]||0)),d=g/_|0,d>1?(d>=Nt&&(d=Nt-1),f=e(P,d),h=f.length,x=v.length,l=t(f,v,h,x),l==1&&(d--,r(f,N<h?S:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<x&&f.unshift(0),r(v,f,x),l==-1&&(x=v.length,l=t(P,v,N,x),l<1&&(d++,r(v,N<x?S:P,x))),x=v.length):l===0&&(d++,v=[0]),p[u++]=d,l&&v[0]?v[x++]=O[j]||0:(v=[O[j]],x=1);while((j++<k||v[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=c,Te(m,s?i+ct(m)+1:i)}}();function AI(e,t){var r,n,a,i,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(ct(e)>16)throw Error(hw+ct(e));if(!e.s)return new d(jr);for(He=!1,l=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log($i(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(jr),d.precision=l;;){if(a=Te(a.times(e),l),r=r.times(++c),s=i.plus(ga(a,r,l)),$n(s.d).slice(0,l)===$n(i.d).slice(0,l)){for(;u--;)i=Te(i.times(i),l);return d.precision=f,t==null?(He=!0,Te(i,f)):i}i=s}}function ct(e){for(var t=e.e*$e,r=e.d[0];r>=10;r/=10)t++;return t}function Qg(e,t,r){if(t>e.LN10.sd())throw He=!0,r&&(e.precision=r),Error(Jr+"LN10 precision limit exceeded");return Te(new e(e.LN10),t)}function Va(e){for(var t="";e--;)t+="0";return t}function Zc(e,t){var r,n,a,i,s,l,c,u,d,f=1,h=10,m=e,p=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(Jr+(m.s?"NaN":"-Infinity"));if(m.eq(jr))return new v(0);if(t==null?(He=!1,u=x):u=t,m.eq(10))return t==null&&(He=!0),Qg(v,u);if(u+=h,v.precision=u,r=$n(p),n=r.charAt(0),i=ct(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=$n(m.d),n=r.charAt(0),f++;i=ct(m),n>1?(m=new v("0."+r),i++):m=new v(n+"."+r.slice(1))}else return c=Qg(v,u+2,x).times(i+""),m=Zc(new v(n+"."+r.slice(1)),u-h).plus(c),v.precision=x,t==null?(He=!0,Te(m,x)):m;for(l=s=m=ga(m.minus(jr),m.plus(jr),u),d=Te(m.times(m),u),a=3;;){if(s=Te(s.times(d),u),c=l.plus(ga(s,new v(a),u)),$n(c.d).slice(0,u)===$n(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Qg(v,u+2,x).times(i+""))),l=ga(l,new v(f),u),v.precision=x,t==null?(He=!0,Te(l,x)):l;l=c,a+=2}}function Q_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=gl(r/$e),e.d=[],n=(r+1)%$e,r<0&&(n+=$e),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=$e;n<a;)e.d.push(+t.slice(n,n+=$e));t=t.slice(n),n=$e-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),He&&(e.e>Yh||e.e<-Yh))throw Error(hw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Te(e,t,r){var n,a,i,s,l,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=$e,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/$e),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=$e,a=n-$e+s}if(r!==void 0&&(i=$i(10,s-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/$i(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ct(e),f.length=1,t=t-i-1,f[0]=$i(10,($e-t%$e)%$e),e.e=gl(-t/$e)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=$i(10,$e-n),f[d]=a>0?(u/$i(10,s-a)%$i(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Nt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Nt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(He&&(e.e>Yh||e.e<-Yh))throw Error(hw+ct(e));return e}function TI(e,t){var r,n,a,i,s,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),He?Te(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/$e),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Nt-1;--c[i],c[a]+=Nt}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,He?Te(t,m):t):new h(0)}function Ss(e,t,r){var n,a=ct(e),i=$n(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Va(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Va(-a-1)+i,r&&(n=r-s)>0&&(i+=Va(n))):a>=s?(i+=Va(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Va(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Va(n))),e.s<0?"-"+i:i}function Z_(e,t){if(e.length>t)return e.length=t,!0}function MI(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(us+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return Q_(s,i.toString())}else if(typeof i!="string")throw Error(us+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,HJ.test(i))Q_(s,i);else throw Error(us+i)}if(a.prototype=le,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=MI,a.config=a.set=VJ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function VJ(e){if(!e||typeof e!="object")throw Error(Jr+"Object expected");var t,r,n,a=["precision",1,pl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(gl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(us+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(us+r+": "+n);return this}var mw=MI(UJ);jr=new mw(1);const Pe=mw;var WJ=e=>e,II={},DI=e=>e===II,J_=e=>function t(){return arguments.length===0||arguments.length===1&&DI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},RI=(e,t)=>e===1?t:J_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==II).length;return i>=e?t(...n):RI(e-i,J_(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=n.map(d=>DI(d)?l.shift():d);return t(...u,...l)}))}),KJ=e=>RI(e.length,e),gv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},qJ=KJ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),YJ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return WJ;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((l,c)=>c(l),i(...arguments))}},yv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function LI(e){var t;return e===0?t=1:t=Math.floor(new Pe(e).abs().log(10).toNumber())+1,t}function $I(e,t,r){for(var n=new Pe(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var zI=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},FI=(e,t,r)=>{if(e.lte(0))return new Pe(0);var n=LI(e.toNumber()),a=new Pe(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new Pe(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?new Pe(c.toNumber()):new Pe(Math.ceil(c.toNumber()))},XJ=(e,t,r)=>{var n=new Pe(1),a=new Pe(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Pe(10).pow(LI(e)-1),a=new Pe(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Pe(Math.floor(e)))}else e===0?a=new Pe(Math.floor((t-1)/2)):r||(a=new Pe(Math.floor(e)));var s=Math.floor((t-1)/2),l=YJ(qJ(c=>a.add(new Pe(c-s).mul(n)).toNumber()),gv);return l(0,t)},BI=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Pe(0),tickMin:new Pe(0),tickMax:new Pe(0)};var s=FI(new Pe(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new Pe(0):(l=new Pe(t).add(r).div(2),l=l.sub(new Pe(l).mod(s)));var c=Math.ceil(l.sub(t).div(s).toNumber()),u=Math.ceil(new Pe(r).sub(l).div(s).toNumber()),d=c+u+1;return d>n?BI(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:l.sub(new Pe(c).mul(s)),tickMax:l.add(new Pe(u).mul(s))})},GJ=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),[l,c]=zI([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...gv(0,a-1).map(()=>1/0)]:[...gv(0,a-1).map(()=>-1/0),c];return r>n?yv(u):u}if(l===c)return XJ(l,a,i);var{step:d,tickMin:f,tickMax:h}=BI(l,c,s,i,0),m=$I(f,h.add(new Pe(.1).mul(d)),d);return r>n?yv(m):m},QJ=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=zI([n,a]);if(s===-1/0||l===1/0)return[n,a];if(s===l)return[s];var c=Math.max(r,2),u=FI(new Pe(l).sub(s).div(c-1),i,0),d=[...$I(new Pe(s),new Pe(l),u),l];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?yv(d):d},UI=e=>e.rootProps.maxBarSize,ZJ=e=>e.rootProps.barGap,HI=e=>e.rootProps.barCategoryGap,JJ=e=>e.rootProps.barSize,Np=e=>e.rootProps.stackOffset,VI=e=>e.rootProps.reverseStackOrder,pw=e=>e.options.chartName,gw=e=>e.rootProps.syncId,WI=e=>e.rootProps.syncMethod,yw=e=>e.options.eventEmitter,at={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},sa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},br={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},_p=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},eee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:sa.angleAxisId,includeHidden:!1,name:void 0,reversed:sa.reversed,scale:sa.scale,tick:sa.tick,tickCount:void 0,ticks:void 0,type:sa.type,unit:void 0},tee={allowDataOverflow:br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:br.scale,tick:br.tick,tickCount:br.tickCount,ticks:void 0,type:br.type,unit:void 0},ree={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:sa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sa.scale,tick:sa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},nee={allowDataOverflow:br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:br.scale,tick:br.tick,tickCount:br.tickCount,ticks:void 0,type:"category",unit:void 0},vw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?ree:eee,xw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?nee:tee,Sp=e=>e.polarOptions,bw=W([Ia,Da,Ct],_Q),KI=W([Sp,bw],(e,t)=>{if(e!=null)return jn(e.innerRadius,t,0)}),qI=W([Sp,bw],(e,t)=>{if(e!=null)return jn(e.outerRadius,t,t*.8)}),aee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},YI=W([Sp],aee);W([vw,YI],_p);var XI=W([bw,KI,qI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});W([xw,XI],_p);var GI=W([Ee,Sp,KI,qI,Ia,Da],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:l,startAngle:c,endAngle:u}=t;return{cx:jn(s,a,a/2),cy:jn(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),yt=(e,t)=>t,Ep=(e,t,r)=>r;function ww(e){return e==null?void 0:e.id}function QI(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=ww(l);u.forEach((f,h)=>{var m=i==null||a?h:String(Ge(f,i,null)),p=Ge(f,l.dataKey,0),v;s.has(m)?v=s.get(m):v={},Object.assign(v,{[d]:p}),s.set(m,v)})}}),Array.from(s.values())}function Cp(e){return e.stackId!=null&&e.dataKey!=null}var Pp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Op(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function iee(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var vt=e=>{var t=Ee(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},yl=e=>e.tooltip.settings.axisId;function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){see(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function see(e,t,r){return(t=oee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oee(e){var t=lee(e,"string");return typeof t=="symbol"?t:t+""}function lee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vv=[0,"auto"],wt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ZI=(e,t)=>e.cartesianAxis.xAxis[t],Gn=(e,t)=>{var r=ZI(e,t);return r??wt},jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:vv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Du},JI=(e,t)=>e.cartesianAxis.yAxis[t],Qn=(e,t)=>{var r=JI(e,t);return r??jt},eD={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},jw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??eD},tr=(e,t,r)=>{switch(t){case"xAxis":return Gn(e,r);case"yAxis":return Qn(e,r);case"zAxis":return jw(e,r);case"angleAxis":return vw(e,r);case"radiusAxis":return xw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},cee=(e,t,r)=>{switch(t){case"xAxis":return Gn(e,r);case"yAxis":return Qn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Wu=(e,t,r)=>{switch(t){case"xAxis":return Gn(e,r);case"yAxis":return Qn(e,r);case"angleAxis":return vw(e,r);case"radiusAxis":return xw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},tD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function rD(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ku=e=>e.graphicalItems.cartesianItems,uee=W([yt,Ep],rD),nD=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),qu=W([Ku,tr,uee],nD,{memoizeOptions:{resultEqualityCheck:Op}}),aD=W([qu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Cp)),iD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),dee=W([qu],iD),sD=e=>e.map(t=>t.data).filter(Boolean).flat(1),fee=W([qu],sD,{memoizeOptions:{resultEqualityCheck:Op}}),oD=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},kw=W([fee,Vu],oD),lD=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ge(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Ge(a,n)}))):e.map(n=>({value:n})),Ap=W([kw,tr,qu],lD);function cD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Cf(e){if(Qr(e)||e instanceof Date){var t=Number(e);if(Fe(t))return t}}function tS(e){if(Array.isArray(e)){var t=[Cf(e[0]),Cf(e[1])];return xi(t)?t:void 0}var r=Cf(e);if(r!=null)return[r,r]}function Oa(e){return e.map(Cf).filter(cq)}function hee(e,t,r){return!r||typeof t!="number"||Ar(t)?[]:r.length?Oa(r.flatMap(n=>{var a=Ge(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!Fe(i)||!Fe(s)))return[t-i,t+s]})):[]}var xt=e=>{var t=vt(e),r=yl(e);return Wu(e,t,r)},Yu=W([xt],e=>e==null?void 0:e.dataKey),mee=W([aD,Vu,xt],QI),uD=(e,t,r,n)=>{var a={},i=t.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),a);return Object.fromEntries(Object.entries(i).map(s=>{var[l,c]=s,u=n?[...c].reverse():c,d=u.map(ww);return[l,{stackedData:lX(e,d,r),graphicalItems:u}]}))},xv=W([mee,aD,Np,VI],uD),dD=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var s=hX(e,a,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},pee=W([tr],e=>e.allowDataOverflow),Nw=e=>{var t;if(e==null||!("domain"in e))return vv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Oa(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:vv},fD=W([tr],Nw),hD=W([fD,pee],CI),gee=W([xv,Ti,yt,hD],dD,{memoizeOptions:{resultEqualityCheck:Pp}}),_w=e=>e.errorBars,yee=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>cD(r,n)),Gh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),l=Math.max(...i);return[s,l]}},mD=(e,t,r,n,a)=>{var i,s;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(g=>cD(a,g)),h=Ge(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=hee(l,h,f);if(m.length>=2){var p=Math.min(...m),v=Math.max(...m);(i==null||p<i)&&(i=p),(s==null||v>s)&&(s=v)}var x=tS(h);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=tS(Ge(l,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Fe(i)&&Fe(s))return[i,s]},vee=W([kw,tr,dee,_w,yt],mD,{memoizeOptions:{resultEqualityCheck:Pp}});function xee(e){var{value:t}=e;if(Qr(t)||t instanceof Date)return t}var bee=(e,t,r)=>{var n=e.map(xee).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&dT(n))?GM(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},pD=e=>e.referenceElements.dots,vl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),wee=W([pD,yt,Ep],vl),gD=e=>e.referenceElements.areas,jee=W([gD,yt,Ep],vl),yD=e=>e.referenceElements.lines,kee=W([yD,yt,Ep],vl),vD=(e,t)=>{var r=Oa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nee=W(wee,yt,vD),xD=(e,t)=>{var r=Oa(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},_ee=W([jee,yt],xD);function See(e){var t;if(e.x!=null)return Oa([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Oa(r)}function Eee(e){var t;if(e.y!=null)return Oa([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Oa(r)}var bD=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?See(n):Eee(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Cee=W([kee,yt],bD),Pee=W(Nee,Cee,_ee,(e,t,r)=>Gh(e,r,t)),wD=(e,t,r,n,a,i,s,l)=>{if(r!=null)return r;var c=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",u=c?Gh(n,i,a):Gh(i,a);return BJ(t,u,e.allowDataOverflow)},Oee=W([tr,fD,hD,gee,vee,Pee,Ee,yt],wD,{memoizeOptions:{resultEqualityCheck:Pp}}),Aee=[0,1],jD=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:l,type:c}=e,u=Pi(t,i);if(u&&l==null){var d;return GM(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?bee(n,e,u):a==="expand"?Aee:s}},Sw=W([tr,Ee,kw,Ap,Np,yt,Oee],jD),kD=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Pu(i));return l in Ql?l:"point"}}},Xu=W([tr,Ee,tD,pw,yt],kD);function Tee(e){if(e!=null){if(e in Ql)return Ql[e]();var t="scale".concat(Pu(e));if(t in Ql)return Ql[t]()}}function Ew(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Tee(t);if(a!=null){var i=a.domain(r).range(n);return nX(i),i}}}var ND=(e,t,r)=>{var n=Nw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&xi(e))return GJ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&xi(e))return QJ(e,t.tickCount,t.allowDecimals)}},Cw=W([Sw,Wu,Xu],ND),_D=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&xi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(s,l)]}return t},Mee=W([tr,Sw,Cw,yt],_D),Iee=W(Ap,tr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Oa(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),SD=W(Iee,Ee,HI,Ct,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Fe(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=jn(r,e*i),l=e*i/2;return l-s-(l-s)/i*s}return 0}),Dee=(e,t)=>{var r=Gn(e,t);return r==null||typeof r.padding!="string"?0:SD(e,"xAxis",t,r.padding)},Ree=(e,t)=>{var r=Qn(e,t);return r==null||typeof r.padding!="string"?0:SD(e,"yAxis",t,r.padding)},Lee=W(Gn,Dee,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),$ee=W(Qn,Ree,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),zee=W([Ct,Lee,hp,fp,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Fee=W([Ct,Ee,$ee,hp,fp,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Gu=(e,t,r,n)=>{var a;switch(t){case"xAxis":return zee(e,r,n);case"yAxis":return Fee(e,r,n);case"zAxis":return(a=jw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return YI(e);case"radiusAxis":return XI(e,r);default:return}},ED=W([tr,Gu],_p),bi=W([tr,Xu,Mee,ED],Ew);W([qu,_w,yt],yee);function CD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Tp=(e,t)=>t,Mp=(e,t,r)=>r,Bee=W(up,Tp,Mp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(CD)),Uee=W(dp,Tp,Mp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(CD)),PD=(e,t)=>({width:e.width,height:t.height}),Hee=(e,t)=>{var r=typeof t.width=="number"?t.width:Du;return{width:r,height:e.height}},OD=W(Ct,Gn,PD),Vee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Wee=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Kee=W(Da,Ct,Bee,Tp,Mp,(e,t,r,n,a)=>{var i={},s;return r.forEach(l=>{var c=PD(t,l);s==null&&(s=Vee(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),i}),qee=W(Ia,Ct,Uee,Tp,Mp,(e,t,r,n,a)=>{var i={},s;return r.forEach(l=>{var c=Hee(t,l);s==null&&(s=Wee(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),i}),Yee=(e,t)=>{var r=Gn(e,t);if(r!=null)return Kee(e,r.orientation,r.mirror)},Xee=W([Ct,Gn,Yee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Gee=(e,t)=>{var r=Qn(e,t);if(r!=null)return qee(e,r.orientation,r.mirror)},Qee=W([Ct,Qn,Gee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),AD=W(Ct,Qn,(e,t)=>{var r=typeof t.width=="number"?t.width:Du;return{width:r,height:e.height}}),rS=(e,t,r)=>{switch(t){case"xAxis":return OD(e,r).width;case"yAxis":return AD(e,r).height;default:return}},TD=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,l=Pi(e,n),c=t.map(u=>u.value);if(s&&l&&i==="category"&&a&&dT(c))return c}},Pw=W([Ee,Ap,tr,yt],TD),MD=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=Pi(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},Ow=W([Ee,Ap,Wu,yt],MD),nS=W([Ee,cee,Xu,bi,Pw,Ow,Gu,Cw,yt],(e,t,r,n,a,i,s,l,c)=>{if(t!=null){var u=Pi(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:s,realScaleType:r,scale:n}}}),Zee=(e,t,r,n,a,i,s,l,c)=>{if(!(t==null||n==null)){var u=Pi(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&i!=null&&i.length>=2?ur(i[0]-i[1])*2*p:p;var v=f||a;if(v){var x=v.map((g,b)=>{var w=s?s.indexOf(g):g;return{index:b,coordinate:n(w)+p,value:g,offset:p}});return x.filter(g=>Fe(g.coordinate))}return u&&l?l.map((g,b)=>({coordinate:n(g)+p,value:g,index:b,offset:p})).filter(g=>Fe(g.coordinate)):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+p,value:g,offset:p})):n.domain().map((g,b)=>({coordinate:n(g)+p,value:s?s[g]:g,index:b,offset:p}))}},ID=W([Ee,Wu,Xu,bi,Cw,Gu,Pw,Ow,yt],Zee),Jee=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Pi(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?ur(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Wn=W([Ee,Wu,bi,Gu,Pw,Ow,yt],Jee),Kn=W(tr,bi,(e,t)=>{if(!(e==null||t==null))return Xh(Xh({},e),{},{scale:t})}),ete=W([tr,Xu,Sw,ED],Ew),tte=W((e,t,r)=>jw(e,r),ete,(e,t)=>{if(!(e==null||t==null))return Xh(Xh({},e),{},{scale:t})}),rte=W([Ee,up,dp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),DD=e=>e.options.defaultTooltipEventType,RD=e=>e.options.validateTooltipEventTypes;function LD(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Aw(e,t){var r=DD(e),n=RD(e);return LD(t,r,n)}function nte(e){return oe(t=>Aw(t,e))}var $D=(e,t)=>{var r,n=Number(t);if(!(Ar(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},ate=e=>e.tooltip.settings,Xa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ite={itemInteraction:{click:Xa,hover:Xa},axisInteraction:{click:Xa,hover:Xa},keyboardInteraction:Xa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zD=yr({name:"tooltip",initialState:ite,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Be()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=xn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Be()},removeTooltipEntrySettings:{reducer(e,t){var r=xn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Be()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ste,replaceTooltipEntrySettings:ote,removeTooltipEntrySettings:lte,setTooltipSettingsState:cte,setActiveMouseOverItemIndex:FD,mouseLeaveItem:ute,mouseLeaveChart:BD,setActiveClickItemIndex:dte,setMouseOverAxisIndex:UD,setMouseClickAxisIndex:fte,setSyncInteraction:bv,setKeyboardInteraction:wv}=zD.actions,hte=zD.reducer;function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){mte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mte(e,t,r){return(t=pte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pte(e){var t=gte(e,"string");return typeof t=="symbol"?t:t+""}function gte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function vte(e){return e.index!=null}var HD=(e,t,r,n)=>{if(t==null)return Xa;var a=yte(e,t,r);if(a==null)return Xa;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(vte(a)){if(i)return Gd(Gd({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Gd(Gd({},Xa),{},{coordinate:a.coordinate})};function xte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function bte(e,t){var r=xte(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),s=Math.max(n,a);return r>=i&&r<=s}function wte(e,t,r){if(r==null||t==null)return!0;var n=Ge(e,t);return n==null||!xi(r)?!0:bte(n,r)}var Tw=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Fe(i))return a;var s=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(s,Math.min(i,l)),u=t[c];return u==null||wte(u,r,n)?String(c):null},VD=(e,t,r,n,a,i,s,l)=>{if(!(i==null||l==null)){var c=s[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},WD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},Qu=e=>e.options.tooltipPayloadSearcher,xl=e=>e.tooltip;function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){jte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jte(e,t,r){return(t=kte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kte(e){var t=Nte(e,"string");return typeof t=="symbol"?t:t+""}function Nte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _te(e,t){return e??t}var KD=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:v,settings:x}=m,g=_te(v,l),b=Array.isArray(g)?gM(g,u,d):g,w=(p=x==null?void 0:x.dataKey)!==null&&p!==void 0?p:n,j=x==null?void 0:x.nameKey,k;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?k=fT(b,n,a):k=i(b,t,c,j),Array.isArray(k))k.forEach(N=>{var S=sS(sS({},x),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(HN({tooltipEntrySettings:S,dataKey:N.dataKey,payload:N.payload,value:Ge(N.payload,N.dataKey),name:N.name}))});else{var _;h.push(HN({tooltipEntrySettings:x,dataKey:w,payload:k,value:Ge(k,w),name:(_=Ge(k,j))!==null&&_!==void 0?_:x==null?void 0:x.name}))}return h},f)}},Mw=W([xt,Ee,tD,pw,vt],kD),Ste=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ete=W([vt,yl],rD),Zu=W([Ste,xt,Ete],nD,{memoizeOptions:{resultEqualityCheck:Op}}),Cte=W([Zu],e=>e.filter(Cp)),Pte=W([Zu],sD,{memoizeOptions:{resultEqualityCheck:Op}}),bl=W([Pte,Ti],oD),Ote=W([Cte,Ti,xt],QI),Iw=W([bl,xt,Zu],lD),qD=W([xt],Nw),Ate=W([xt],e=>e.allowDataOverflow),YD=W([qD,Ate],CI),Tte=W([Zu],e=>e.filter(Cp)),Mte=W([Ote,Tte,Np,VI],uD),Ite=W([Mte,Ti,vt,YD],dD),Dte=W([Zu],iD),Rte=W([bl,xt,Dte,_w,vt],mD,{memoizeOptions:{resultEqualityCheck:Pp}}),Lte=W([pD,vt,yl],vl),$te=W([Lte,vt],vD),zte=W([gD,vt,yl],vl),Fte=W([zte,vt],xD),Bte=W([yD,vt,yl],vl),Ute=W([Bte,vt],bD),Hte=W([$te,Ute,Fte],Gh),Vte=W([xt,qD,YD,Ite,Rte,Hte,Ee,vt],wD),Ju=W([xt,Ee,bl,Iw,Np,vt,Vte],jD),Wte=W([Ju,xt,Mw],ND),Kte=W([xt,Ju,Wte,vt],_D),XD=e=>{var t=vt(e),r=yl(e),n=!1;return Gu(e,t,r,n)},GD=W([xt,XD],_p),QD=W([xt,Mw,Kte,GD],Ew),qte=W([Ee,Iw,xt,vt],TD),Yte=W([Ee,Iw,xt,vt],MD),Xte=(e,t,r,n,a,i,s,l)=>{if(t){var{type:c}=t,u=Pi(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ur(a[0]-a[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},La=W([Ee,xt,Mw,QD,XD,qte,Yte,vt],Xte),Dw=W([DD,RD,ate],(e,t,r)=>LD(r.shared,e,t)),ZD=e=>e.tooltip.settings.trigger,Rw=e=>e.tooltip.settings.defaultIndex,ed=W([xl,Dw,ZD,Rw],HD),wi=W([ed,bl,Yu,Ju],Tw),JD=W([La,wi],$D),eR=W([ed],e=>{if(e)return e.dataKey});W([ed],e=>{if(e)return e.graphicalItemId});var tR=W([xl,Dw,ZD,Rw],WD),Gte=W([Ia,Da,Ee,Ct,La,Rw,tR,Qu],VD),Qte=W([ed,Gte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Zte=W([ed],e=>e.active),Jte=W([tR,wi,Ti,Yu,JD,Qu,Dw],KD),ere=W([Jte],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){tre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tre(e,t,r){return(t=rre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rre(e){var t=nre(e,"string");return typeof t=="symbol"?t:t+""}function nre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var are=()=>oe(xt),ire=()=>{var e=are(),t=oe(La),r=oe(QD);return Go(!e||!r?void 0:lS(lS({},e),{},{scale:r}),t)};function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){sre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sre(e,t,r){return(t=ore(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ore(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cre=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},ure=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:s}=n;return Fs(Fs(Fs({},n),Mt(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var l=a.coordinate,{angle:c}=n;return Fs(Fs(Fs({},n),Mt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function dre(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var rR=(e,t,r,n,a)=>{var i,s=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(ur(d-u)!==ur(f-d)){var m=[];if(ur(f-d)===ur(a[1]-a[0])){h=f;var p=d+a[1]-a[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var v=f+a[1]-a[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){({index:s}=r[c]);break}}else{var g=Math.min(u,f),b=Math.max(u,f);if(e>(g+d)/2&&e<=(b+d)/2){({index:s}=r[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:s}=t[w]);break}}return s},fre=()=>oe(pw),Lw=(e,t)=>t,nR=(e,t,r)=>r,$w=(e,t,r,n)=>n,hre=W(La,e=>tp(e,t=>t.coordinate)),zw=W([xl,Lw,nR,$w],HD),Fw=W([zw,bl,Yu,Ju],Tw),mre=(e,t,r)=>{if(t!=null){var n=xl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},aR=W([xl,Lw,nR,$w],WD),Qh=W([Ia,Da,Ee,Ct,La,$w,aR,Qu],VD),pre=W([zw,Qh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),iR=W([La,Fw],$D),gre=W([aR,Fw,Ti,Yu,iR,Qu,Lw],KD),yre=W([zw,Fw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),vre=(e,t,r,n,a,i,s)=>{if(!(!e||!r||!n||!a)&&dre(e,s)){var l=mX(e,t),c=rR(l,i,a,r,n),u=cre(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},xre=(e,t,r,n,a,i,s)=>{if(!(!e||!n||!a||!i||!r)){var l=OQ(e,r);if(l){var c=pX(l,t),u=rR(c,s,i,n,a),d=ure(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},bre=(e,t,r,n,a,i,s,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?vre(e,t,n,a,i,s,l):xre(e,t,r,n,a,i,s)},wre=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),jre=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(at)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:iee}});function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(n){kre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kre(e,t,r){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nre(e){var t=_re(e,"string");return typeof t=="symbol"?t:t+""}function _re(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sre={},Ere={zIndexMap:Object.values(at).reduce((e,t)=>dS(dS({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Sre)},Cre=new Set(Object.values(at));function Pre(e){return Cre.has(e)}var sR=yr({name:"zIndex",initialState:Ere,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Be()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Pre(r)&&delete e.zIndexMap[r])},prepare:Be()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:Be()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Be()}}}),{registerZIndexPortal:Ore,unregisterZIndexPortal:Are,registerZIndexPortalId:Tre,unregisterZIndexPortalId:Mre}=sR.actions,Ire=sR.reducer;function rr(e){var{zIndex:t,children:r}=e,n=UX(),a=n&&t!==void 0&&t!==0,i=pt(),s=Ke();y.useLayoutEffect(()=>a?(s(Ore({zIndex:t})),()=>{s(Are({zIndex:t}))}):Ou,[s,t,a]);var l=oe(u=>wre(u,t,i));if(!a)return r;if(!l)return null;var c=document.getElementById(l);return c?du.createPortal(r,c):null}function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jv.apply(null,arguments)}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){Dre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dre(e,t,r){return(t=Rre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rre(e){var t=Lre(e,"string");return typeof t=="symbol"?t:t+""}function Lre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $re(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return y.isValidElement(t)?y.cloneElement(t,n):y.createElement(r,n)}function zre(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:s,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,v,x;if(d==="ScatterChart")p=f,v=VG,x=at.cursorLine;else if(d==="BarChart")p=WG(l,f,i,s),v=HM,x=at.cursorRectangle;else if(l==="radial"&&mT(f)){var{cx:g,cy:b,radius:w,startAngle:j,endAngle:k}=VM(f);p={cx:g,cy:b,startAngle:j,endAngle:k,innerRadius:w,outerRadius:w},v=KM,x=at.cursorLine}else p={points:IQ(l,f,i)},v=Kb,x=at.cursorLine;var _=typeof c=="object"&&"className"in c?c.className:void 0,N=Qd(Qd(Qd(Qd({stroke:"#ccc",pointerEvents:"none"},i),p),fl(c)),{},{payload:h,payloadIndex:m,className:Se("recharts-tooltip-cursor",_)});return y.createElement(rr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},y.createElement($re,{cursor:c,cursorComp:v,cursorProps:N}))}function Fre(e){var t=ire(),r=PM(),n=Ru(),a=fre();return t==null||r==null||n==null||a==null?null:y.createElement(zre,jv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var oR=y.createContext(null),Bre=()=>y.useContext(oR),lR={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var v=r?r+u:u;if(!this._events[v])return!1;var x=this._events[v],g=arguments.length,b,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,p),!0}for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];x.fn.apply(x.context,b)}else{var j=x.length,k;for(w=0;w<j;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),g){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,f);break;case 4:x[w].fn.call(x[w].context,d,f,h);break;default:if(!b)for(k=1,b=new Array(g-1);k<g;k++)b[k-1]=arguments[k];x[w].fn.apply(x[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var v=0,x=[],g=p.length;v<g;v++)(p[v].fn!==d||h&&!p[v].once||f&&p[v].context!==f)&&x.push(p[v]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(lR);var Ure=lR.exports;const Hre=qn(Ure);var Jc=new Hre,kv="recharts.syncEvent.tooltip",hS="recharts.syncEvent.brush";function Bw(e,t){if(t){var r=Number.parseInt(t,10);if(!Ar(r))return e==null?void 0:e[r]}}var Vre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},cR=yr({name:"options",initialState:Vre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Wre=cR.reducer,{createEventEmitter:Kre}=cR.actions;function qre(e){return e.tooltip.syncInteraction}var Yre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},uR=yr({name:"chartData",initialState:Yre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:mS,setDataStartEndIndexes:Xre,setComputedData:ufe}=uR.actions,Gre=uR.reducer,Qre=["x","y"];function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){Zre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zre(e,t,r){return(t=Jre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jre(e){var t=ene(e,"string");return typeof t=="symbol"?t:t+""}function ene(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tne(e,t){if(e==null)return{};var r,n,a=rne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nne(){var e=oe(gw),t=oe(yw),r=Ke(),n=oe(WI),a=oe(La),i=Ru(),s=ml(),l=oe(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return Ou;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:v}=m,x=tne(m,Qre),{x:g,y:b,width:w,height:j}=d.payload.sourceViewBox,k=Bs(Bs({},x),{},{x:s.x+(w?(p-g)/w:0)*s.width,y:s.y+(j?(v-b)/j:0)*s.height});r(Bs(Bs({},d),{},{payload:Bs(Bs({},d.payload),{},{coordinate:k})}))}else r(d);return}if(a!=null){var _;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(a,N);_=a[S]}else n==="value"&&(_=a.find(I=>String(I.value)===d.payload.label));var{coordinate:E}=d.payload;if(_==null||d.payload.active===!1||E==null||s==null){r(bv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:O}=E,P=Math.min(T,s.x+s.width),L=Math.min(O,s.y+s.height),C={x:i==="horizontal"?_.coordinate:P,y:i==="horizontal"?L:_.coordinate},D=bv({active:d.payload.active,coordinate:C,dataKey:d.payload.dataKey,index:String(_.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(D)}}};return Jc.on(kv,c),()=>{Jc.off(kv,c)}},[l,r,t,e,n,a,i,s])}function ane(){var e=oe(gw),t=oe(yw),r=Ke();y.useEffect(()=>{if(e==null)return Ou;var n=(a,i,s)=>{t!==s&&e===a&&r(Xre(i))};return Jc.on(hS,n),()=>{Jc.off(hS,n)}},[r,t,e])}function ine(){var e=Ke();y.useEffect(()=>{e(Kre())},[e]),nne(),ane()}function sne(e,t,r,n,a,i){var s=oe(m=>mre(m,e,t)),l=oe(yw),c=oe(gw),u=oe(WI),d=oe(qre),f=d==null?void 0:d.active,h=ml();y.useEffect(()=>{if(!f&&c!=null&&l!=null){var m=bv({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Jc.emit(kv,c,m,l)}},[f,r,s,a,n,l,c,u,i,h])}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){one(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function one(e,t,r){return(t=lne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lne(e){var t=cne(e,"string");return typeof t=="symbol"?t:t+""}function cne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function une(e){return e.dataKey}function dne(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(kG,t)}var vS=[],fne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Zd(e){var t,r,n=dt(e,fne),{active:a,allowEscapeViewBox:i,animationDuration:s,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:v,wrapperStyle:x,cursor:g,shared:b,trigger:w,defaultIndex:j,portal:k,axisId:_}=n,N=Ke(),S=typeof j=="number"?String(j):j;y.useEffect(()=>{N(cte({shared:b,trigger:w,axisId:_,active:a,defaultIndex:S}))},[N,b,w,_,a,S]);var E=ml(),T=$M(),O=nte(b),{activeIndex:P,isActive:L}=(t=oe(re=>yre(re,O,w,S)))!==null&&t!==void 0?t:{},C=oe(re=>gre(re,O,w,S)),D=oe(re=>iR(re,O,w,S)),I=oe(re=>pre(re,O,w,S)),R=C,A=Bre(),M=(r=a??L)!==null&&r!==void 0?r:!1,[z,H]=FT([R,M]),B=O==="axis"?D:void 0;sne(O,w,I,B,P,M);var X=k??A;if(X==null||E==null||O==null)return null;var q=R??vS;M||(q=vS),u&&q.length&&(q=TT(q.filter(re=>re.value!=null&&(re.hide!==!0||n.includeHidden)),h,une));var J=q.length>0,ce=y.createElement(OG,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:d,active:M,coordinate:I,hasPayload:J,offset:f,position:m,reverseDirection:p,useTranslate3d:v,viewBox:E,wrapperStyle:x,lastBoundingBox:z,innerRef:H,hasPortalFromProps:!!k},dne(c,yS(yS({},n),{},{payload:q,label:B,active:M,activeIndex:P,coordinate:I,accessibilityLayer:T})));return y.createElement(y.Fragment,null,du.createPortal(ce,X),M&&y.createElement(Fre,{cursor:g,tooltipEventType:O,coordinate:I,payload:q,index:P}))}var Uw=e=>null;Uw.displayName="Cell";function hne(e,t,r){return(t=mne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mne(e){var t=pne(e,"string");return typeof t=="symbol"?t:t+""}function pne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class gne{constructor(t){hne(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vne(e,t,r){return(t=xne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xne(e){var t=bne(e,"string");return typeof t=="symbol"?t:t+""}function bne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wne={cacheSize:2e3,enableCache:!0},dR=yne({},wne),bS=new gne(dR.cacheSize),jne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wS="recharts_measurement_span";function kne(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(l)}var jS=(e,t)=>{try{var r=document.getElementById(wS);r||(r=document.createElement("span"),r.setAttribute("id",wS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,jne,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},dc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$u.isSsr)return{width:0,height:0};if(!dR.enableCache)return jS(t,r);var n=kne(t,r),a=bS.get(n);if(a)return a;var i=jS(t,r);return bS.set(n,i),i},kS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_ne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Sne=Object.keys(fR),io="NaN";function Ene(e,t){return e*fR[t]}class ir{static parse(t){var r,[,n,a]=(r=_ne.exec(t))!==null&&r!==void 0?r:[];return new ir(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ar(t)&&(this.unit=""),r!==""&&!Nne.test(r)&&(this.num=NaN,this.unit=""),Sne.includes(r)&&(this.num=Ene(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ir(NaN,""):new ir(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ir(NaN,""):new ir(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ir(NaN,""):new ir(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ir(NaN,""):new ir(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ar(this.num)}}function hR(e){if(e.includes(io))return io;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=kS.exec(t))!==null&&r!==void 0?r:[],s=ir.parse(n??""),l=ir.parse(i??""),c=a==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return io;t=t.replace(kS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=NS.exec(t))!==null&&u!==void 0?u:[],m=ir.parse(d??""),p=ir.parse(h??""),v=f==="+"?m.add(p):m.subtract(p);if(v.isNaN())return io;t=t.replace(NS,v.toString())}return t}var _S=/\(([^()]*)\)/;function Cne(e){for(var t=e,r;(r=_S.exec(t))!=null;){var[,n]=r;t=t.replace(_S,hR(n))}return t}function Pne(e){var t=e.replace(/\s+/g,"");return t=Cne(t),t=hR(t),t}function One(e){try{return Pne(e)}catch{return io}}function Zg(e){var t=One(e.slice(5,-1));return t===io?"":t}var Ane=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Tne=["dx","dy","angle","className","breakAll"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nv.apply(null,arguments)}function SS(e,t){if(e==null)return{};var r,n,a=Mne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mR=/[ \f\n\r\t\v\u2028\u2029]+/,pR=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Oe(t)||(r?a=t.toString().split(""):a=t.toString().split(mR));var i=a.map(l=>({word:l,width:dc(l,n).width})),s=r?0:dc("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}};function Ine(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var gR=(e,t,r,n)=>e.reduce((a,i)=>{var{word:s,width:l}=i,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(s),c.width+=l+r;else{var u={words:[s],width:l};a.push(u)}return a},[]),yR=e=>e.reduce((t,r)=>t.width>r.width?t:r),Dne="",ES=(e,t,r,n,a,i,s,l)=>{var c=e.slice(0,t),u=pR({breakAll:r,style:n,children:c+Dne});if(!u)return[!1,[]];var d=gR(u.wordsWithComputedWidth,i,s,l),f=d.length>a||yR(d).width>Number(i);return[f,d]},Rne=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:l,breakAll:c}=e,u=de(i),d=String(s),f=gR(t,n,r,a);if(!u||a)return f;var h=f.length>i||yR(f).width>Number(n);if(!h)return f;for(var m=0,p=d.length-1,v=0,x;m<=p&&v<=d.length-1;){var g=Math.floor((m+p)/2),b=g-1,[w,j]=ES(d,b,c,l,i,n,r,a),[k]=ES(d,g,c,l,i,n,r,a);if(!w&&!k&&(m=g+1),w&&k&&(p=g-1),!w&&k){x=j;break}v++}return x||f},CS=e=>{var t=Oe(e)?[]:e.toString().split(mR);return[{words:t,width:void 0}]},Lne=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!$u.isSsr){var l,c,u=pR({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return CS(n);return Rne({breakAll:i,children:n,maxLines:s,style:a},l,c,t,!!r)}return CS(n)},vR="#808080",$ne={angle:0,breakAll:!1,capHeight:"0.71em",fill:vR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Hw=y.forwardRef((e,t)=>{var r=dt(e,$ne),{x:n,y:a,lineHeight:i,capHeight:s,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=SS(r,Ane),h=y.useMemo(()=>Lne({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:p,angle:v,className:x,breakAll:g}=f,b=SS(f,Tne);if(!Qr(n)||!Qr(a)||h.length===0)return null;var w=Number(n)+(de(m)?m:0),j=Number(a)+(de(p)?p:0);if(!Fe(w)||!Fe(j))return null;var k;switch(d){case"start":k=Zg("calc(".concat(s,")"));break;case"middle":k=Zg("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:k=Zg("calc(".concat(h.length-1," * -").concat(i,")"));break}var _=[];if(c){var N=h[0].width,{width:S}=f;_.push("scale(".concat(de(S)&&de(N)?S/N:1,")"))}return v&&_.push("rotate(".concat(v,", ").concat(w,", ").concat(j,")")),_.length&&(b.transform=_.join(" ")),y.createElement("text",Nv({},Ht(b),{ref:t,x:w,y:j,className:Se("recharts-text",x),textAnchor:u,fill:l.includes("url")?vR:l}),h.map((E,T)=>{var O=E.words.join(g?"":" ");return y.createElement("tspan",{x:w,dy:T===0?k:i,key:"".concat(O,"-").concat(T)},O)}))});Hw.displayName="Text";var zne=["labelRef"];function Fne(e,t){if(e==null)return{};var r,n,a=Bne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){Une(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Une(e,t,r){return(t=Hne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hne(e){var t=Vne(e,"string");return typeof t=="symbol"?t:t+""}function Vne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oa.apply(null,arguments)}var xR=y.createContext(null),bR=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s,children:l}=e,c=y.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s}),[t,r,n,a,i,s]);return y.createElement(xR.Provider,{value:c},l)},wR=()=>{var e=y.useContext(xR),t=ml();return e||CM(t)},Wne=y.createContext(null),Kne=()=>{var e=y.useContext(Wne),t=oe(GI);return e||t},qne=e=>{var{value:t,formatter:r}=e,n=Oe(e.children)?t:e.children;return typeof r=="function"?r(n):n},Vw=e=>e!=null&&typeof e=="function",Yne=(e,t)=>{var r=ur(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Xne=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,p=(u+d)/2,v=Yne(f,h),x=v>=0?1:-1,g,b;switch(t){case"insideStart":g=f+x*i,b=m;break;case"insideEnd":g=h-x*i,b=!m;break;case"end":g=h+x*i,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var w=Mt(l,c,p,g),j=Mt(l,c,p,g+(b?1:-1)*359),k="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(j.x,",").concat(j.y),_=Oe(e.id)?Hc("recharts-radial-line-"):e.id;return y.createElement("text",oa({},n,{dominantBaseline:"central",className:Se("recharts-radial-bar-label",s)}),y.createElement("defs",null,y.createElement("path",{id:_,d:k})),y.createElement("textPath",{xlinkHref:"#".concat(_)},r))},Gne=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Mt(n,a,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:m,y:p}=Mt(n,a,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},_v=e=>"cx"in e&&de(e.cx),Qne=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!_v(r)&&(i=r);var{x:s,y:l,upperWidth:c,lowerWidth:u,height:d}=t,f=s,h=s+(c-u)/2,m=(f+h)/2,p=(c+u)/2,v=f+c/2,x=d>=0?1:-1,g=x*n,b=x>0?"end":"start",w=x>0?"start":"end",j=c>=0?1:-1,k=j*n,_=j>0?"end":"start",N=j>0?"start":"end";if(a==="top"){var S={x:f+c/2,y:l-g,textAnchor:"middle",verticalAnchor:b};return rt(rt({},S),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var E={x:h+u/2,y:l+d+g,textAnchor:"middle",verticalAnchor:w};return rt(rt({},E),i?{height:Math.max(i.y+i.height-(l+d),0),width:u}:{})}if(a==="left"){var T={x:m-k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return rt(rt({},T),i?{width:Math.max(T.x-i.x,0),height:d}:{})}if(a==="right"){var O={x:m+p+k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"};return rt(rt({},O),i?{width:Math.max(i.x+i.width-O.x,0),height:d}:{})}var P=i?{width:p,height:d}:{};return a==="insideLeft"?rt({x:m+k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"},P):a==="insideRight"?rt({x:m+p-k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},P):a==="insideTop"?rt({x:f+c/2,y:l+g,textAnchor:"middle",verticalAnchor:w},P):a==="insideBottom"?rt({x:h+u/2,y:l+d-g,textAnchor:"middle",verticalAnchor:b},P):a==="insideTopLeft"?rt({x:f+k,y:l+g,textAnchor:N,verticalAnchor:w},P):a==="insideTopRight"?rt({x:f+c-k,y:l+g,textAnchor:_,verticalAnchor:w},P):a==="insideBottomLeft"?rt({x:h+k,y:l+d-g,textAnchor:N,verticalAnchor:b},P):a==="insideBottomRight"?rt({x:h+u-k,y:l+d-g,textAnchor:_,verticalAnchor:b},P):a&&typeof a=="object"&&(de(a.x)||_a(a.x))&&(de(a.y)||_a(a.y))?rt({x:s+jn(a.x,p),y:l+jn(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):rt({x:v,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Zne={angle:0,offset:5,zIndex:at.label,position:"middle",textBreakAll:!1};function Wa(e){var t=dt(e,Zne),{viewBox:r,position:n,value:a,children:i,content:s,className:l="",textBreakAll:c,labelRef:u}=t,d=Kne(),f=wR(),h=n==="center"?f:d??f,m,p,v;if(r==null?m=h:_v(r)?m=r:m=CM(r),!m||Oe(a)&&Oe(i)&&!y.isValidElement(s)&&typeof s!="function")return null;var x=rt(rt({},t),{},{viewBox:m});if(y.isValidElement(s)){var{labelRef:g}=x,b=Fne(x,zne);return y.cloneElement(s,b)}if(typeof s=="function"){if(p=y.createElement(s,x),y.isValidElement(p))return p}else p=qne(t);var w=Ht(t);if(_v(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Xne(t,n,p,w,m);v=Gne(m,t.offset,t.position)}else v=Qne(t,m);return y.createElement(rr,{zIndex:t.zIndex},y.createElement(Hw,oa({ref:u,className:Se("recharts-label",l)},w,v,{textAnchor:Ine(w.textAnchor)?w.textAnchor:v.textAnchor,breakAll:c}),p))}Wa.displayName="Label";var Jne=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(Wa,oa({key:"label-implicit"},n)):Qr(e)?y.createElement(Wa,oa({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===Wa?y.cloneElement(e,rt({key:"label-implicit"},n)):y.createElement(Wa,oa({key:"label-implicit",content:e},n)):Vw(e)?y.createElement(Wa,oa({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(Wa,oa({},e,{key:"label-implicit"},n)):null};function jR(e){var{label:t,labelRef:r}=e,n=wR();return Jne(t,n,r)||null}var kR={},NR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(NR);var _R={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(_R);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NR,r=_R,n=ep;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(kR);var eae=kR.last;const tae=qn(eae);var rae=["valueAccessor"],nae=["dataKey","clockWise","id","textBreakAll","zIndex"];function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zh.apply(null,arguments)}function OS(e,t){if(e==null)return{};var r,n,a=aae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iae=e=>Array.isArray(e.value)?tae(e.value):e.value,SR=y.createContext(void 0),Ww=SR.Provider,ER=y.createContext(void 0);ER.Provider;function sae(){return y.useContext(SR)}function oae(){return y.useContext(ER)}function Pf(e){var{valueAccessor:t=iae}=e,r=OS(e,rae),{dataKey:n,clockWise:a,id:i,textBreakAll:s,zIndex:l}=r,c=OS(r,nae),u=sae(),d=oae(),f=u||d;return!f||!f.length?null:y.createElement(rr,{zIndex:l??at.label},y.createElement(Et,{className:"recharts-label-list"},f.map((h,m)=>{var p,v=Oe(n)?t(h,m):Ge(h&&h.payload,n),x=Oe(i)?{}:{id:"".concat(i,"-").concat(m)};return y.createElement(Wa,Zh({key:"label-".concat(m)},Ht(h),c,x,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}Pf.displayName="LabelList";function Kw(e){var{label:t}=e;return t?t===!0?y.createElement(Pf,{key:"labelList-implicit"}):y.isValidElement(t)||Vw(t)?y.createElement(Pf,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(Pf,Zh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sv.apply(null,arguments)}var CR=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Se("recharts-dot",a);return de(t)&&de(r)&&de(n)?y.createElement("circle",Sv({},Or(e),xb(e),{className:i,cx:t,cy:r,r:n})):null},lae={radiusAxis:{},angleAxis:{}},PR=yr({name:"polarAxis",initialState:lae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:dfe,removeRadiusAxis:ffe,addAngleAxis:hfe,removeAngleAxis:mfe}=PR.actions,cae=PR.reducer,OR={exports:{}},Me={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=Symbol.for("react.transitional.element"),Yw=Symbol.for("react.portal"),Ip=Symbol.for("react.fragment"),Dp=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),Lp=Symbol.for("react.consumer"),$p=Symbol.for("react.context"),zp=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),Up=Symbol.for("react.memo"),Hp=Symbol.for("react.lazy"),uae=Symbol.for("react.view_transition"),dae=Symbol.for("react.client.reference");function rn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case qw:switch(e=e.type,e){case Ip:case Rp:case Dp:case Fp:case Bp:case uae:return e;default:switch(e=e&&e.$$typeof,e){case $p:case zp:case Hp:case Up:return e;case Lp:return e;default:return t}}case Yw:return t}}}Me.ContextConsumer=Lp;Me.ContextProvider=$p;Me.Element=qw;Me.ForwardRef=zp;Me.Fragment=Ip;Me.Lazy=Hp;Me.Memo=Up;Me.Portal=Yw;Me.Profiler=Rp;Me.StrictMode=Dp;Me.Suspense=Fp;Me.SuspenseList=Bp;Me.isContextConsumer=function(e){return rn(e)===Lp};Me.isContextProvider=function(e){return rn(e)===$p};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===qw};Me.isForwardRef=function(e){return rn(e)===zp};Me.isFragment=function(e){return rn(e)===Ip};Me.isLazy=function(e){return rn(e)===Hp};Me.isMemo=function(e){return rn(e)===Up};Me.isPortal=function(e){return rn(e)===Yw};Me.isProfiler=function(e){return rn(e)===Rp};Me.isStrictMode=function(e){return rn(e)===Dp};Me.isSuspense=function(e){return rn(e)===Fp};Me.isSuspenseList=function(e){return rn(e)===Bp};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ip||e===Rp||e===Dp||e===Fp||e===Bp||typeof e=="object"&&e!==null&&(e.$$typeof===Hp||e.$$typeof===Up||e.$$typeof===$p||e.$$typeof===Lp||e.$$typeof===zp||e.$$typeof===dae||e.getModuleId!==void 0)};Me.typeOf=rn;OR.exports=Me;var fae=OR.exports,AS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",TS=null,Jg=null,AR=e=>{if(e===TS&&Array.isArray(Jg))return Jg;var t=[];return y.Children.forEach(e,r=>{Oe(r)||(fae.isFragment(r)?t=t.concat(AR(r.props.children)):t.push(r))}),Jg=t,TS=e,t};function TR(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>AS(a)):n=[AS(t)],AR(e).forEach(a=>{var i=qo(a,"type.displayName")||qo(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var MR=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,IR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(IR);var hae=IR.isPlainObject;const mae=qn(hae);function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){pae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pae(e,t,r){return(t=gae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jh.apply(null,arguments)}var DS=(e,t,r,n,a)=>{var i=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},vae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xae=e=>{var t=dt(e,vae),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=y.useRef(null),[m,p]=y.useState(-1),v=y.useRef(a),x=y.useRef(i),g=y.useRef(s),b=y.useRef(r),w=y.useRef(n),j=Fu(e,"trapezoid-");if(y.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var C=h.current.getTotalLength();C&&p(C)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var k=Se("recharts-trapezoid",l);if(!f)return y.createElement("g",null,y.createElement("path",Jh({},Ht(t),{className:k,d:DS(r,n,a,i,s)})));var _=v.current,N=x.current,S=g.current,E=b.current,T=w.current,O="0px ".concat(m===-1?1:m,"px"),P="".concat(m,"px 0px"),L=zM(["strokeDasharray"],u,c);return y.createElement(zu,{animationId:j,key:j,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},C=>{var D=De(_,a,C),I=De(N,i,C),R=De(S,s,C),A=De(E,r,C),M=De(T,n,C);h.current&&(v.current=D,x.current=I,g.current=R,b.current=A,w.current=M);var z=C>0?{transition:L,strokeDasharray:P}:{strokeDasharray:O};return y.createElement("path",Jh({},Ht(t),{className:k,d:DS(A,M,D,I,R),ref:h,style:IS(IS({},z),t.style)}))})},bae=["option","shapeType","propTransformer","activeClassName"];function wae(e,t){if(e==null)return{};var r,n,a=jae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){kae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kae(e,t,r){return(t=Nae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nae(e){var t=_ae(e,"string");return typeof t=="symbol"?t:t+""}function _ae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sae(e,t){return em(em({},t),e)}function Eae(e,t){return e==="symbols"}function LS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(HM,r);case"trapezoid":return y.createElement(xae,r);case"sector":return y.createElement(KM,r);case"symbols":if(Eae(t))return y.createElement(Jm,r);break;case"curve":return y.createElement(Kb,r);default:return null}}function Cae(e){return y.isValidElement(e)?e.props:e}function tm(e){var{option:t,shapeType:r,propTransformer:n=Sae,activeClassName:a="recharts-active-shape"}=e,i=wae(e,bae),s;if(y.isValidElement(t))s=y.cloneElement(t,em(em({},i),Cae(t)));else if(typeof t=="function")s=t(i,i.index);else if(mae(t)&&typeof t!="boolean"){var l=n(t,i);s=y.createElement(LS,{shapeType:r,elementProps:l})}else{var c=i;s=y.createElement(LS,{shapeType:r,elementProps:c})}return i.isActive?y.createElement(Et,{className:a},s):s}var Xw=(e,t,r)=>{var n=Ke();return(a,i)=>s=>{e==null||e(a,i,s),n(FD({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},Gw=e=>{var t=Ke();return(r,n)=>a=>{e==null||e(r,n,a),t(ute())}},Qw=(e,t,r)=>{var n=Ke();return(a,i)=>s=>{e==null||e(a,i,s),n(dte({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function Zw(e){var{tooltipEntrySettings:t}=e,r=Ke(),n=pt(),a=y.useRef(null);return y.useLayoutEffect(()=>{n||(a.current===null?r(ste(t)):a.current!==t&&r(ote({prev:a.current,next:t})),a.current=t)},[t,r,n]),y.useLayoutEffect(()=>()=>{a.current&&(r(lte(a.current)),a.current=null)},[r]),null}function Jw(e){var{legendPayload:t}=e,r=Ke(),n=pt(),a=y.useRef(null);return y.useLayoutEffect(()=>{n||(a.current===null?r(rG(t)):a.current!==t&&r(nG({prev:a.current,next:t})),a.current=t)},[r,n,t]),y.useLayoutEffect(()=>()=>{a.current&&(r(aG(a.current)),a.current=null)},[r]),null}var ey,Pae=()=>{var[e]=y.useState(()=>Hc("uid-"));return e},Oae=(ey=R4.useId)!==null&&ey!==void 0?ey:Pae;function DR(e,t){var r=Oae();return t||(e?"".concat(e,"-").concat(r):r)}var Aae=y.createContext(void 0),e1=e=>{var{id:t,type:r,children:n}=e,a=DR("recharts-".concat(r),t);return y.createElement(Aae.Provider,{value:a},n(a))},Tae={cartesianItems:[],polarItems:[]},RR=yr({name:"graphicalItems",initialState:Tae,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Be()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=xn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Be()},removeCartesianGraphicalItem:{reducer(e,t){var r=xn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Be()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Be()},removePolarGraphicalItem:{reducer(e,t){var r=xn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Be()}}}),{addCartesianGraphicalItem:Mae,replaceCartesianGraphicalItem:Iae,removeCartesianGraphicalItem:Dae,addPolarGraphicalItem:pfe,removePolarGraphicalItem:gfe}=RR.actions,Rae=RR.reducer,Lae=e=>{var t=Ke(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(Mae(e)):r.current!==e&&t(Iae({prev:r.current,next:e})),r.current=e},[t,e]),y.useLayoutEffect(()=>()=>{r.current&&(t(Dae(r.current)),r.current=null)},[t]),null},t1=y.memo(Lae),$ae=["points"];function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ty(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){zae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zae(e,t,r){return(t=Fae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fae(e){var t=Bae(e,"string");return typeof t=="symbol"?t:t+""}function Bae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rm.apply(null,arguments)}function Uae(e,t){if(e==null)return{};var r,n,a=Hae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vae(e){var{option:t,dotProps:r,className:n}=e;if(y.isValidElement(t))return y.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Se(n,typeof t!="boolean"?t.className:""),i=r??{},{points:s}=i,l=Uae(i,$ae);return y.createElement(CR,rm({},l,{className:a}))}function Wae(e,t){return e==null?!1:t?!0:e.length===1}function Kae(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:s,needClip:l,clipPathId:c,zIndex:u=at.scatter}=e;if(!Wae(t,r))return null;var d=MR(r),f=xK(r),h=t.map((p,v)=>{var x,g,b=ty(ty(ty({r:3},s),f),{},{index:v,cx:(x=p.x)!==null&&x!==void 0?x:void 0,cy:(g=p.y)!==null&&g!==void 0?g:void 0,dataKey:i,value:p.value,payload:p.payload,points:t});return y.createElement(Vae,{key:"dot-".concat(v),option:r,dotProps:b,className:a})}),m={};return l&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),y.createElement(rr,{zIndex:u},y.createElement(Et,rm({className:n},m),h))}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){qae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qae(e,t,r){return(t=Yae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yae(e){var t=Xae(e,"string");return typeof t=="symbol"?t:t+""}function Xae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gae={xAxis:{},yAxis:{},zAxis:{}},LR=yr({name:"cartesianAxis",initialState:Gae,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Be()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Be()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Be()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Be()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Be()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Be()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Be()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Be()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Be()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var s=[...i,n].slice(-3);e.yAxis[r]=FS(FS({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:Qae,replaceXAxis:Zae,removeXAxis:Jae,addYAxis:eie,replaceYAxis:tie,removeYAxis:rie,addZAxis:yfe,replaceZAxis:vfe,removeZAxis:xfe,updateYAxisWidth:nie}=LR.actions,aie=LR.reducer,iie=W([Ct],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),sie=W([iie,Ia,Da],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),r1=()=>oe(sie),oie=()=>oe(ere);function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ry(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){lie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lie(e,t,r){return(t=cie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cie(e){var t=uie(e,"string");return typeof t=="symbol"?t:t+""}function uie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var die=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:s}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=ry(ry(ry({},l),fl(a)),xb(a)),u;return y.isValidElement(a)?u=y.cloneElement(a,c):typeof a=="function"?u=a(c):u=y.createElement(CR,c),y.createElement(Et,{className:"recharts-active-dot",clipPath:s},u)};function fie(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:s=at.activeDot}=e,l=oe(wi),c=oie();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return Oe(u)?null:y.createElement(rr,{zIndex:s},y.createElement(die,{point:u,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var hie="Invariant failed";function mie(e,t){throw new Error(hie)}var pie=["x","y"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(null,arguments)}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){gie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gie(e,t,r){return(t=yie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yie(e){var t=vie(e,"string");return typeof t=="symbol"?t:t+""}function vie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xie(e,t){if(e==null)return{};var r,n,a=bie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wie(e,t){var{x:r,y:n}=e,a=xie(e,pie),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Ul(Ul(Ul(Ul(Ul({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function nm(e){return y.createElement(tm,Ev({shapeType:"rectangle",propTransformer:wie,activeClassName:"recharts-active-bar"},e))}var jie=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(de(t))return t;var i=de(n)||Oe(n);return i?t(n,a):(i||mie(),r)}},kie={},$R=yr({name:"errorBars",initialState:kie,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:bfe,replaceErrorBar:wfe,removeErrorBar:jfe}=$R.actions,Nie=$R.reducer,_ie=["children"];function Sie(e,t){if(e==null)return{};var r,n,a=Eie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Eie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Pie=y.createContext(Cie);function n1(e){var{children:t}=e,r=Sie(e,_ie);return y.createElement(Pie.Provider,{value:r},t)}function Vp(e,t){var r,n,a=oe(u=>Gn(u,e)),i=oe(u=>Qn(u,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:wt.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:jt.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function a1(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=r1(),{needClipX:i,needClipY:s,needClip:l}=Vp(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:i?c:c-d/2,y:s?u:u-f/2,width:i?d:d*2,height:s?f:f*2}))}function Oie(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Fe(e.zIndex)?e.zIndex:t}var Aie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=y;function Tie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mie=typeof Object.is=="function"?Object.is:Tie,Iie=td.useSyncExternalStore,Die=td.useRef,Rie=td.useEffect,Lie=td.useMemo,$ie=td.useDebugValue;Aie.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Die(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Lie(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&s.hasValue){var p=s.value;if(a(p,m))return f=p}return f=m}if(p=f,Mie(d,m))return p;var v=n(m);return a!==void 0&&a(p,v)?(d=m,p):(d=m,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=Iie(e,i[0],i[1]);return Rie(function(){s.hasValue=!0,s.value=l},[l]),$ie(l),l};function zie(e){e()}function Fie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){zie(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var HS={notify(){},get:()=>[]};function Bie(e,t){let r,n=HS,a=0,i=!1;function s(v){d();const x=n.subscribe(v);let g=!1;return()=>{g||(g=!0,x(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=Fie())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=HS)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const p={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var Uie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hie=Uie(),Vie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Wie=Vie(),Kie=()=>Hie||Wie?y.useLayoutEffect:y.useEffect,qie=Kie();function VS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Yie(e,t){if(VS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!VS(e[r[a]],t[r[a]]))return!1;return!0}var ny=Symbol.for("react-redux-context"),ay=typeof globalThis<"u"?globalThis:{};function Xie(){if(!y.createContext)return{};const e=ay[ny]??(ay[ny]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var Gie=Xie();function Qie(e){const{children:t,context:r,serverState:n,store:a}=e,i=y.useMemo(()=>{const c=Bie(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),s=y.useMemo(()=>a.getState(),[a]);qie(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,s]);const l=r||Gie;return y.createElement(l.Provider,{value:i},t)}var Zie=Qie,Jie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function ese(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function rd(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Jie.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Yie(e[n],t[n]))return!1}else if(!ese(e[n],t[n]))return!1;return!0}var tse=["onMouseEnter","onMouseLeave","onClick"],rse=["value","background","tooltipPosition"],nse=["id"],ase=["onMouseEnter","onClick","onMouseLeave"];function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aa.apply(null,arguments)}function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(n){ise(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ise(e,t,r){return(t=sse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sse(e){var t=ose(e,"string");return typeof t=="symbol"?t:t+""}function ose(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function am(e,t){if(e==null)return{};var r,n,a=lse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cse=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:hl(r,t),payload:e}]},use=y.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:hl(i,t),hide:s,type:c,color:a,unit:l}};return y.createElement(Zw,{tooltipEntrySettings:u})});function dse(e){var t=oe(wi),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=i,u=am(i,tse),d=Xw(s,n),f=Gw(l),h=Qw(c,n);if(!a||r==null)return null;var m=fl(a);return y.createElement(rr,{zIndex:Oie(a,at.barBackground)},r.map((p,v)=>{var{value:x,background:g,tooltipPosition:b}=p,w=am(p,rse);if(!g)return null;var j=d(p,v),k=f(p,v),_=h(p,v),N=Yt(Yt(Yt(Yt(Yt({option:a,isActive:String(v)===t},w),{},{fill:"#eee"},g),m),Au(u,p,v)),{},{onMouseEnter:j,onMouseLeave:k,onClick:_,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return y.createElement(nm,Aa({key:"background-bar-".concat(v)},N))}))}function fse(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Yt(Yt({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return y.createElement(Ww,{value:t?a:void 0},r)}function hse(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,l=oe(wi),c=oe(eR),u=r&&String(i)===l&&(c==null||s===c),d=u?r:t;return u?y.createElement(rr,{zIndex:at.activeBar},y.createElement(nm,Aa({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:s}))):y.createElement(nm,Aa({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:s}))}function mse(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return y.createElement(nm,Aa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function pse(e){var t,{data:r,props:n}=e,a=(t=Or(n))!==null&&t!==void 0?t:{},{id:i}=a,s=am(a,nse),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=am(n,ase),p=Xw(d,c),v=Gw(h),x=Qw(f,c);return r?y.createElement(y.Fragment,null,r.map((g,b)=>y.createElement(Et,Aa({key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(b),className:"recharts-bar-rectangle"},Au(m,g,b),{onMouseEnter:p(g,b),onMouseLeave:v(g,b),onClick:x(g,b)}),u?y.createElement(hse,{shape:l,activeBar:u,baseProps:s,entry:g,index:b,dataKey:c}):y.createElement(mse,{shape:l,baseProps:s,entry:g,index:b,dataKey:c})))):null}function gse(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=Fu(t,"recharts-bar-"),[m,p]=y.useState(!1),v=!m,x=y.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),g=y.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return y.createElement(fse,{showLabels:v,rects:n},y.createElement(zu,{animationId:h,begin:s,duration:l,isActive:i,easing:c,onAnimationEnd:x,onAnimationStart:g,key:h},b=>{var w=b===1?n:n==null?void 0:n.map((j,k)=>{var _=f&&f[k];if(_)return Yt(Yt({},j),{},{x:De(_.x,j.x,b),y:De(_.y,j.y,b),width:De(_.width,j.width,b),height:De(_.height,j.height,b)});if(a==="horizontal"){var N=De(0,j.height,b),S=De(j.stackedBarStart,j.y,b);return Yt(Yt({},j),{},{y:S,height:N})}var E=De(0,j.width,b),T=De(j.stackedBarStart,j.x,b);return Yt(Yt({},j),{},{width:E,x:T})});return b>0&&(r.current=w??null),w==null?null:y.createElement(Et,null,y.createElement(pse,{props:t,data:w}))}),y.createElement(Kw,{label:t.label}),t.children)}function yse(e){var t=y.useRef(null);return y.createElement(gse,{previousRectanglesRef:t,props:e})}var zR=0,vse=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ge(e,t)}};class xse extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Se("recharts-bar",a),f=u;return y.createElement(Et,{className:d,id:u},l&&y.createElement("defs",null,y.createElement(a1,{clipPathId:f,xAxisId:i,yAxisId:s})),y.createElement(Et,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},y.createElement(dse,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),y.createElement(yse,this.props)))}}var bse={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:zR,xAxisId:0,yAxisId:0,zIndex:at.bar};function wse(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Vp(t,r),h=Ru(),m=pt(),p=TR(e.children,Uw),v=oe(b=>Xse(b,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var x,g=v==null?void 0:v[0];return g==null||g.height==null||g.width==null?x=0:x=h==="vertical"?g.height/2:g.width/2,y.createElement(n1,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:vse,errorBarOffset:x},y.createElement(xse,Aa({},e,{layout:h,needClip:f,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function jse(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p,dataStartIndex:v}=e,x=t==="horizontal"?l:s,g=d?x.scale.domain():null,b=uX({numericAxis:x}),w=x.scale(b);return f.map((j,k)=>{var _,N,S,E,T,O;d?_=aX(d[k+v],g):(_=Ge(j,r),Array.isArray(_)||(_=[b,_]));var P=jie(n,zR)(_[1],k);if(t==="horizontal"){var L,[C,D]=[l.scale(_[0]),l.scale(_[1])];N=FN({axis:s,ticks:c,bandSize:i,offset:a.offset,entry:j,index:k}),S=(L=D??C)!==null&&L!==void 0?L:void 0,E=a.size;var I=C-D;if(T=Ar(I)?0:I,O={x:N,y:h.top,width:E,height:h.height},Math.abs(P)>0&&Math.abs(T)<Math.abs(P)){var R=ur(T||P)*(Math.abs(P)-Math.abs(T));S-=R,T+=R}}else{var[A,M]=[s.scale(_[0]),s.scale(_[1])];if(N=A,S=FN({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:j,index:k}),E=M-A,T=a.size,O={x:h.left,y:S,width:h.width,height:T},Math.abs(P)>0&&Math.abs(E)<Math.abs(P)){var z=ur(E||P)*(Math.abs(P)-Math.abs(E));E+=z}}if(N==null||S==null||E==null||T==null)return null;var H=Yt(Yt({},j),{},{stackedBarStart:w,x:N,y:S,width:E,height:T,value:d?_:_[1],payload:j,background:O,tooltipPosition:{x:N+E/2,y:S+T/2},parentViewBox:p},m&&m[k]&&m[k].props);return H}).filter(Boolean)}function kse(e){var t=dt(e,bse),r=pt();return y.createElement(e1,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(Jw,{legendPayload:cse(t)}),y.createElement(use,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),y.createElement(t1,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:cX(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(rr,{zIndex:t.zIndex},y.createElement(wse,Aa({},t,{id:n})))))}var FR=y.memo(kse,rd);FR.displayName="Bar";function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){Nse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nse(e,t,r){return(t=_se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _se(e){var t=Sse(e,"string");return typeof t=="symbol"?t:t+""}function Sse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ese=(e,t)=>t,Cse=(e,t,r)=>r,Pse=(e,t,r,n)=>n,Ose=(e,t,r,n,a)=>a,nd=W([Ku,Ose],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Ase=W([nd],e=>e==null?void 0:e.maxBarSize),Tse=(e,t,r,n,a,i)=>i,qS=(e,t,r)=>{var n=r??e;if(!Oe(n))return jn(n,t,0)},Mse=W([Ee,Ku,Ese,Cse,Pse],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Ise=(e,t,r,n)=>{var a=Ee(e);return a==="horizontal"?xv(e,"yAxis",r,n):xv(e,"xAxis",t,n)},Dse=(e,t,r)=>{var n=Ee(e);return n==="horizontal"?rS(e,"xAxis",t):rS(e,"yAxis",r)},Rse=(e,t,r)=>{var n={},a=e.filter(Cp),i=e.filter(u=>u.stackId==null),s=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(s).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=qS(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=qS(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},Lse=W([Mse,JJ,Dse],Rse),$se=(e,t,r,n,a)=>{var i,s,l=nd(e,t,r,n,a);if(l!=null){var c=Ee(e),u=UI(e),{maxBarSize:d}=l,f=Oe(d)?u:d,h,m;return c==="horizontal"?(h=Kn(e,"xAxis",t,n),m=Wn(e,"xAxis",t,n)):(h=Kn(e,"yAxis",r,n),m=Wn(e,"yAxis",r,n)),(i=(s=Go(h,m,!0))!==null&&s!==void 0?s:f)!==null&&i!==void 0?i:0}},BR=(e,t,r,n)=>{var a=Ee(e),i,s;return a==="horizontal"?(i=Kn(e,"xAxis",t,n),s=Wn(e,"xAxis",t,n)):(i=Kn(e,"yAxis",r,n),s=Wn(e,"yAxis",r,n)),Go(i,s)};function zse(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=jn(e,r,0,!0),l,c=[];if(Fe(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((g,b)=>g+(b.barSize||0),0);f+=(i-1)*s,f>=r&&(f-=(i-1)*s,s=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-s,size:0};l=n.reduce((g,b)=>{var w,j={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m.offset+m.size+s,size:u?d:(w=b.barSize)!==null&&w!==void 0?w:0}},k=[...g,j];return m=k[k.length-1].position,k},c)}else{var p=jn(t,r,0,!0);r-2*p-(i-1)*s<=0&&(s=0);var v=(r-2*p-(i-1)*s)/i;v>1&&(v>>=0);var x=Fe(a)?Math.min(v,a):v;l=n.reduce((g,b,w)=>[...g,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p+(v+s)*w+(v-x)/2,size:x}}],c)}return l}}var Fse=(e,t,r,n,a,i,s)=>{var l=Oe(s)?t:s,c=zse(r,n,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(u=>Jd(Jd({},u),{},{position:Jd(Jd({},u.position),{},{offset:u.position.offset-a/2})}))),c},Bse=W([Lse,UI,ZJ,HI,$se,BR,Ase],Fse),Use=(e,t,r,n)=>Kn(e,"xAxis",t,n),Hse=(e,t,r,n)=>Kn(e,"yAxis",r,n),Vse=(e,t,r,n)=>Wn(e,"xAxis",t,n),Wse=(e,t,r,n)=>Wn(e,"yAxis",r,n),Kse=W([Bse,nd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),qse=(e,t)=>{var r=ww(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}},Yse=W([Ise,nd],qse),Xse=W([Ct,Fb,Use,Hse,Vse,Wse,Kse,Ee,Vu,BR,Yse,nd,Tse],(e,t,r,n,a,i,s,l,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:v}=c;if(!(f==null||s==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:x}=f,g;if(x!=null&&x.length>0?g=x:g=m==null?void 0:m.slice(p,v+1),g!=null)return jse({layout:l,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:p})}}),Gse=e=>{var{chartData:t}=e,r=Ke(),n=pt();return y.useEffect(()=>n?()=>{}:(r(mS(t)),()=>{r(mS(void 0))}),[t,r,n]),null},YS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},UR=yr({name:"brush",initialState:YS,reducers:{setBrushSettings(e,t){return t.payload==null?YS:t.payload}}}),{setBrushSettings:kfe}=UR.actions,Qse=UR.reducer;function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ef(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){HR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HR(e,t,r){return(t=Zse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zse(e){var t=Jse(e,"string");return typeof t=="symbol"?t:t+""}function Jse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eoe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},toe=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return eoe({x:t,y:r},{x:n,y:a})};class Wp{static create(t){return new Wp(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}HR(Wp,"EPS",1e-4);var roe=e=>{var t=Object.keys(e).reduce((r,n)=>ef(ef({},r),{},{[n]:Wp.create(e[n])}),{});return ef(ef({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(i=>{var[s,l]=i;return[s,t[s].apply(l,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function noe(e){return(e%180+180)%180}var aoe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=noe(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},ioe={dots:[],areas:[],lines:[]},VR=yr({name:"referenceElements",initialState:ioe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=xn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=xn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=xn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Nfe,removeDot:_fe,addArea:Sfe,removeArea:Efe,addLine:soe,removeLine:ooe}=VR.actions,loe=VR.reducer,WR=y.createContext(void 0),coe=e=>{var{children:t}=e,[r]=y.useState("".concat(Hc("recharts"),"-clip")),n=r1();if(n==null)return null;var{x:a,y:i,width:s,height:l}=n;return y.createElement(WR.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:a,y:i,height:l,width:s}))),t)},uoe=()=>y.useContext(WR);function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){doe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function doe(e,t,r){return(t=foe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function foe(e){var t=hoe(e,"string");return typeof t=="symbol"?t:t+""}function hoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(null,arguments)}var moe=(e,t)=>{var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!Fe(t.x1)||!Fe(t.y1)||!Fe(t.x2)||!Fe(t.y2))return null;r=y.createElement("line",im({},t,{className:"recharts-reference-line-line"}))}return r},poe=(e,t,r,n,a,i)=>{var{x:s,width:l}=i,c=a.y.apply(e,{position:r});if(Ar(c)||t==="discard"&&!a.y.isInRange(c))return null;var u=[{x:s+l,y:c},{x:s,y:c}];return n==="left"?u.reverse():u},goe=(e,t,r,n,a,i)=>{var{y:s,height:l}=i,c=a.x.apply(e,{position:r});if(Ar(c)||t==="discard"&&!a.x.isInRange(c))return null;var u=[{x:c,y:s+l},{x:c,y:s}];return n==="top"?u.reverse():u},yoe=(e,t,r,n)=>{var a=e.map(i=>n.apply(i,{position:r}));return t==="discard"&&a.some(i=>!n.isInRange(i))?null:a},voe=(e,t,r,n,a,i)=>{var{x:s,y:l,segment:c,ifOverflow:u}=i,d=Qr(s),f=Qr(l);return f?poe(l,u,r,a,e,t):d?goe(s,u,r,n,e,t):c!=null&&c.length===2?yoe(c,u,r,e):null};function xoe(e){var t=Ke();return y.useEffect(()=>(t(soe(e)),()=>{t(ooe(e))})),null}function boe(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:i}=e,s=pt(),l=uoe(),c=oe(_=>Gn(_,t)),u=oe(_=>Qn(_,r)),d=oe(_=>bi(_,"xAxis",t,s)),f=oe(_=>bi(_,"yAxis",r,s)),h=ml();if(!l||!h||c==null||u==null||d==null||f==null)return null;var m=roe({x:d,y:f}),p=voe(m,h,e.position,c.orientation,u.orientation,e);if(!p)return null;var[{x:v,y:x},{x:g,y:b}]=p,w=i==="hidden"?"url(#".concat(l,")"):void 0,j=QS(QS({clipPath:w},Ht(e)),{},{x1:v,y1:x,x2:g,y2:b}),k=toe({x1:v,y1:x,x2:g,y2:b});return y.createElement(rr,{zIndex:e.zIndex},y.createElement(Et,{className:Se("recharts-reference-line",a)},moe(n,j),y.createElement(bR,im({},k,{lowerWidth:k.width,upperWidth:k.width}),y.createElement(jR,{label:e.label}),e.children)))}var woe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:at.line};function KR(e){var t=dt(e,woe);return y.createElement(y.Fragment,null,y.createElement(xoe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),y.createElement(boe,t))}KR.displayName="ReferenceLine";function qR(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function joe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return aoe(n,r)}function koe(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:l}=e;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function sm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Noe(e,t){return qR(e,t+1)}function _oe(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:qR(n,u)};var v=c,x,g=()=>(x===void 0&&(x=r(p,v)),x),b=p.coordinate,w=c===0||sm(e,b,g,d,l);w||(c=0,d=s,u+=1),w&&(d=b+e*(g()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){Soe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Soe(e,t,r){return(t=Eoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eoe(e){var t=Coe(e,"string");return typeof t=="symbol"?t:t+""}function Coe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Poe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:l}=t,{end:c}=t,u=function(h){var m=i[h],p,v=()=>(p===void 0&&(p=r(m,h)),p);if(h===s-1){var x=e*(m.coordinate+e*v()/2-c);i[h]=m=$t($t({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[h]=m=$t($t({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var g=sm(e,m.tickCoord,v,l,c);g&&(c=m.tickCoord-e*(v()/2+a),i[h]=$t($t({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return i}function Ooe(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,{start:c,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);if(s[l-1]=d=$t($t({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=sm(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),s[l-1]=$t($t({},d),{},{isShow:!0}))}}for(var p=i?l-1:l,v=function(b){var w=s[b],j,k=()=>(j===void 0&&(j=r(w,b)),j);if(b===0){var _=e*(w.coordinate-e*k()/2-c);s[b]=w=$t($t({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else s[b]=w=$t($t({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var N=sm(e,w.tickCoord,k,c,u);N&&(c=w.tickCoord+e*(k()/2+a),s[b]=$t($t({},w),{},{isShow:!0}))}},x=0;x<p;x++)v(x);return s}function i1(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(de(c)||$u.isSsr){var h;return(h=Noe(a,de(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",v=d&&p==="width"?dc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(w,j)=>{var k=typeof u=="function"?u(w.value,j):w.value;return p==="width"?joe(dc(k,{fontSize:t,letterSpacing:r}),v,f):dc(k,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?ur(a[1].coordinate-a[0].coordinate):1,b=koe(i,g,p);return c==="equidistantPreserveStart"?_oe(g,b,x,a,s):(c==="preserveStart"||c==="preserveStartEnd"?m=Ooe(g,b,x,a,s,c==="preserveStartEnd"):m=Poe(g,b,x,a,s),m.filter(w=>w.isShow))}var Aoe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,u=s+c+l+(r?n:0);return Math.round(u)}return 0},Toe=["axisLine","width","height","className","hide","ticks","axisType"];function Moe(e,t){if(e==null)return{};var r,n,a=Ioe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ioe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Es.apply(null,arguments)}function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){Doe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Doe(e,t,r){return(t=Roe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Roe(e){var t=Loe(e,"string");return typeof t=="symbol"?t:t+""}function Loe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ya={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:at.axis};function $oe(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=ot(ot(ot({},c),Or(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!s||i==="bottom"&&s);u=ot(ot({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);u=ot(ot({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return y.createElement("line",Es({},u,{className:Se("recharts-cartesian-axis-line",qo(l,"className"))}))}function zoe(e,t,r,n,a,i,s,l,c){var u,d,f,h,m,p,v=l?-1:1,x=e.tickSize||s,g=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-v*x,p=f-v*c,m=g;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-v*x,m=u-v*c,p=g;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+v*x,m=u+v*c,p=g;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+v*x,p=f+v*c,m=g;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function Foe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Boe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Uoe(e){var{option:t,tickProps:r,value:n}=e,a,i=Se(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))a=y.cloneElement(t,ot(ot({},r),{},{className:i}));else if(typeof t=="function")a=t(ot(ot({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Se(s,t==null?void 0:t.className)),a=y.createElement(Hw,Es({},r,{className:s}),n)}return a}var Hoe=y.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:s,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:v,tickSize:x,tickMargin:g,fontSize:b,letterSpacing:w,getTicksConfig:j,events:k,axisType:_}=e,N=i1(ot(ot({},j),{},{ticks:r}),b,w),S=Foe(d,f),E=Boe(d,f),T=Or(j),O=fl(n),P={};typeof a=="object"&&(P=a);var L=ot(ot({},T),{},{fill:"none"},P),C=N.map(R=>ot({entry:R},zoe(R,h,m,p,v,d,x,f,g))),D=C.map(R=>{var{entry:A,line:M}=R;return y.createElement(Et,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},a&&y.createElement("line",Es({},L,M,{className:Se("recharts-cartesian-axis-tick-line",qo(a,"className"))})))}),I=C.map((R,A)=>{var{entry:M,tick:z}=R,H=ot(ot(ot(ot({textAnchor:S,verticalAnchor:E},T),{},{stroke:"none",fill:i},O),z),{},{index:A,payload:M,visibleTicksCount:N.length,tickFormatter:s,padding:c},u);return y.createElement(Et,Es({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Au(k,M,A)),n&&y.createElement(Uoe,{option:n,tickProps:H,value:"".concat(typeof s=="function"?s(M.value,A):M.value).concat(l||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},I.length>0&&y.createElement(rr,{zIndex:at.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},I)),D.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},D))}),Voe=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:l,axisType:c}=e,u=Moe(e,Toe),[d,f]=y.useState(""),[h,m]=y.useState(""),p=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return Aoe({ticks:p.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=y.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=g;var b=g[0];if(b){var w=window.getComputedStyle(b),j=w.fontSize,k=w.letterSpacing;(j!==d||k!==h)&&(f(j),m(k))}}},[d,h]);return s||n!=null&&n<=0||a!=null&&a<=0?null:y.createElement(rr,{zIndex:e.zIndex},y.createElement(Et,{className:Se("recharts-cartesian-axis",i)},y.createElement($oe,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Or(e)}),y.createElement(Hoe,{ref:v,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(bR,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(jR,{label:e.label,labelRef:e.labelRef}),e.children)))}),s1=y.forwardRef((e,t)=>{var r=dt(e,ya);return y.createElement(Voe,Es({},r,{ref:t}))});s1.displayName="CartesianAxis";var Woe=["x1","y1","x2","y2","key"],Koe=["offset"],qoe=["xAxisId","yAxisId"],Yoe=["xAxisId","yAxisId"];function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){Xoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xoe(e,t,r){return(t=Goe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Goe(e){var t=Qoe(e,"string");return typeof t=="symbol"?t:t+""}function Qoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qi.apply(null,arguments)}function om(e,t){if(e==null)return{};var r,n,a=Zoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Joe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:l}=e;return y.createElement("rect",{x:n,y:a,ry:l,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function YR(e){var{option:t,lineItemProps:r}=e,n;if(y.isValidElement(t))n=y.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:s,x2:l,y2:c,key:u}=r,d=om(r,Woe),f=(a=Or(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=om(f,Koe);n=y.createElement("line",qi({},m,{x1:i,y1:s,x2:l,y2:c,fill:"none",key:u}))}return n}function ele(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,l=om(e,qoe),c=a.map((u,d)=>{var f=Ft(Ft({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return y.createElement(YR,{key:"line-".concat(d),option:n,lineItemProps:f})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function tle(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,l=om(e,Yoe),c=a.map((u,d)=>{var f=Ft(Ft({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return y.createElement(YR,{option:n,lineItemProps:f,key:"line-".concat(d)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function rle(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+s-f:u[h+1]-f;if(p<=0)return null;var v=h%t.length;return y.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function nle(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+s-f:u[h+1]-f;if(p<=0)return null;var v=h%r.length;return y.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:l,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ale=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return yM(i1(Ft(Ft(Ft({},ya),r),{},{ticks:vM(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},ile=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return yM(i1(Ft(Ft(Ft({},ya),r),{},{ticks:vM(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},sle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:at.grid};function Zl(e){var t=Ub(),r=Hb(),n=PM(),a=Ft(Ft({},dt(e,sle)),{},{x:de(e.x)?e.x:n.left,y:de(e.y)?e.y:n.top,width:de(e.width)?e.width:n.width,height:de(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=pt(),v=oe(E=>nS(E,"xAxis",i,p)),x=oe(E=>nS(E,"yAxis",s,p));if(!Hn(u)||!Hn(d)||!de(l)||!de(c))return null;var g=a.verticalCoordinatesGenerator||ale,b=a.horizontalCoordinatesGenerator||ile,{horizontalPoints:w,verticalPoints:j}=a;if((!w||!w.length)&&typeof b=="function"){var k=h&&h.length,_=b({yAxis:x?Ft(Ft({},x),{},{ticks:k?h:x.ticks}):void 0,width:t??u,height:r??d,offset:n},k?!0:f);Mh(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(w=_)}if((!j||!j.length)&&typeof g=="function"){var N=m&&m.length,S=g({xAxis:v?Ft(Ft({},v),{},{ticks:N?m:v.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);Mh(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return y.createElement(rr,{zIndex:a.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(Joe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),y.createElement(rle,qi({},a,{horizontalPoints:w})),y.createElement(nle,qi({},a,{verticalPoints:j})),y.createElement(ele,qi({},a,{offset:n,horizontalPoints:w,xAxis:v,yAxis:x})),y.createElement(tle,qi({},a,{offset:n,verticalPoints:j,xAxis:v,yAxis:x}))))}Zl.displayName="CartesianGrid";var XR=(e,t,r,n)=>Kn(e,"xAxis",t,n),GR=(e,t,r,n)=>Wn(e,"xAxis",t,n),QR=(e,t,r,n)=>Kn(e,"yAxis",r,n),ZR=(e,t,r,n)=>Wn(e,"yAxis",r,n),ole=W([Ee,XR,QR,GR,ZR],(e,t,r,n,a)=>Pi(e,"xAxis")?Go(t,n,!1):Go(r,a,!1)),lle=(e,t,r,n,a)=>a;function cle(e){return e.type==="line"}var ule=W([Ku,lle],(e,t)=>e.filter(cle).find(r=>r.id===t)),dle=W([Ee,XR,QR,GR,ZR,ule,ole,Vu],(e,t,r,n,a,i,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return Tle({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:m})}});function fle(e){var t=fl(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,s=Number(a),l=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(l)||l<0)&&(l=n),{r:s,strokeWidth:l}}return{r,strokeWidth:n}}var hle=["id"],mle=["type","layout","connectNulls","needClip","shape"],ple=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eu.apply(null,arguments)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){gle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gle(e,t,r){return(t=yle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yle(e){var t=vle(e,"string");return typeof t=="symbol"?t:t+""}function vle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o1(e,t){if(e==null)return{};var r,n,a=xle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ble=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:hl(r,t),payload:e}]},wle=y.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:l,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:hl(s,t),hide:l,type:u,color:n,unit:c}};return y.createElement(Zw,{tooltipEntrySettings:d})}),JR=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function jle(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var kle=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return JR(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){l=[...r.slice(0,c),i-u];break}var d=l.length%2===0?[0,s]:[s];return[...jle(r,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function Nle(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n,{id:l}=n,c=o1(n,hle),u=Or(c);return y.createElement(Kae,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:s,clipPathId:t})}function _le(e){var{showLabels:t,children:r,points:n}=e,a=y.useMemo(()=>n==null?void 0:n.map(i=>{var s,l,c={x:(s=i.x)!==null&&s!==void 0?s:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Rn(Rn({},c),{},{value:i.value,payload:i.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return y.createElement(Ww,{value:t?a:void 0},r)}function r2(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:l,connectNulls:c,needClip:u,shape:d}=i,f=o1(i,mle),h=Rn(Rn({},Ht(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:l,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return y.createElement(y.Fragment,null,(n==null?void 0:n.length)>1&&y.createElement(tm,eu({shapeType:"curve",option:d},h,{pathRef:r})),y.createElement(Nle,{points:n,clipPathId:t,props:i}))}function Sle(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Ele(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:v,onAnimationStart:x}=r,g=a.current,b=Fu(s,"recharts-line-"),w=y.useRef(b),[j,k]=y.useState(!1),_=!j,N=y.useCallback(()=>{typeof v=="function"&&v(),k(!1)},[v]),S=y.useCallback(()=>{typeof x=="function"&&x(),k(!0)},[x]),E=Sle(n.current),T=y.useRef(0);w.current!==b&&(T.current=i.current,w.current=b);var O=T.current;return y.createElement(_le,{points:s,showLabels:_},r.children,y.createElement(zu,{animationId:b,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:S,key:b},P=>{var L=De(O,E+O,P),C=Math.min(L,E),D;if(c)if(l){var I="".concat(l).split(/[,\s]+/gim).map(M=>parseFloat(M));D=kle(C,E,I)}else D=JR(E,C);else D=l==null?void 0:String(l);if(P>0&&E>0&&(a.current=s,i.current=Math.max(i.current,C)),g){var R=g.length/s.length,A=P===1?s:s.map((M,z)=>{var H=Math.floor(z*R);if(g[H]){var B=g[H];return Rn(Rn({},M),{},{x:De(B.x,M.x,P),y:De(B.y,M.y,P)})}return h?Rn(Rn({},M),{},{x:De(m*2,M.x,P),y:De(p/2,M.y,P)}):Rn(Rn({},M),{},{x:M.x,y:M.y})});return a.current=A,y.createElement(r2,{props:r,points:A,clipPathId:t,pathRef:n,strokeDasharray:D})}return y.createElement(r2,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:D})}),y.createElement(Kw,{label:r.label}))}function Cle(e){var{clipPathId:t,props:r}=e,n=y.useRef(null),a=y.useRef(0),i=y.useRef(null);return y.createElement(Ele,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Ple=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Ge(e.payload,t)}};class Ole extends y.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:s,top:l,left:c,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=Se("recharts-line",a),v=f,{r:x,strokeWidth:g}=fle(r),b=MR(r),w=x*2+g,j=h?"url(#clipPath-".concat(b?"":"dots-").concat(v,")"):void 0;return y.createElement(rr,{zIndex:m},y.createElement(Et,{className:p},h&&y.createElement("defs",null,y.createElement(a1,{clipPathId:v,xAxisId:i,yAxisId:s}),!b&&y.createElement("clipPath",{id:"clipPath-dots-".concat(v)},y.createElement("rect",{x:c-w/2,y:l-w/2,width:u+w,height:d+w}))),y.createElement(n1,{xAxisId:i,yAxisId:s,data:n,dataPointFormatter:Ple,errorBarOffset:0},y.createElement(Cle,{props:this.props,clipPathId:v}))),y.createElement(fie,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:j}))}}var e3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:at.line,type:"linear"};function Ale(e){var t=dt(e,e3),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:v}=t,x=o1(t,ple),{needClip:g}=Vp(m,p),b=r1(),w=Ru(),j=pt(),k=oe(T=>dle(T,m,p,j,v));if(w!=="horizontal"&&w!=="vertical"||k==null||b==null)return null;var{height:_,width:N,x:S,y:E}=b;return y.createElement(Ole,eu({},x,{id:v,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:k,layout:w,height:_,width:N,left:S,top:E,needClip:g}))}function Tle(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=Ge(u,s);if(t==="horizontal"){var h=Th({axis:r,ticks:a,bandSize:l,entry:u,index:d}),m=Oe(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var p=Oe(f)?null:r.scale(f),v=Th({axis:n,ticks:i,bandSize:l,entry:u,index:d});return p==null||v==null?null:{x:p,y:v,value:f,payload:u}}).filter(Boolean)}function Mle(e){var t=dt(e,e3),r=pt();return y.createElement(e1,{id:t.id,type:"line"},n=>y.createElement(y.Fragment,null,y.createElement(Jw,{legendPayload:ble(t)}),y.createElement(wle,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),y.createElement(t1,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),y.createElement(Ale,eu({},t,{id:n}))))}var Of=y.memo(Mle,rd);Of.displayName="Line";var Ile=["option","isActive"];function fc(){return fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fc.apply(null,arguments)}function Dle(e,t){if(e==null)return{};var r,n,a=Rle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Lle(e){var{option:t,isActive:r}=e,n=Dle(e,Ile);return typeof t=="string"?y.createElement(tm,fc({option:y.createElement(Jm,fc({type:t},n)),isActive:r,shapeType:"symbols"},n)):y.createElement(tm,fc({option:t,isActive:r,shapeType:"symbols"},n))}var $le=(e,t,r,n,a,i,s)=>Kn(e,"xAxis",t,s),zle=(e,t,r,n,a,i,s)=>Wn(e,"xAxis",t,s),Fle=(e,t,r,n,a,i,s)=>Kn(e,"yAxis",r,s),Ble=(e,t,r,n,a,i,s)=>Wn(e,"yAxis",r,s),Ule=(e,t,r,n)=>tte(e,"zAxis",n,!1),Hle=(e,t,r,n,a)=>a,Vle=(e,t,r,n,a,i)=>i,Wle=(e,t,r,n,a,i,s)=>Vu(e,t,r,s),Kle=W([Ku,Hle],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),qle=W([Wle,$le,zle,Fle,Ble,Ule,Kle,Vle],(e,t,r,n,a,i,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(s!=null){var f;if((s==null?void 0:s.data)!=null&&s.data.length>0?f=s.data:f=c==null?void 0:c.slice(u,d+1),!(f==null||t==null||n==null||r==null||a==null||(r==null?void 0:r.length)===0||(a==null?void 0:a.length)===0))return oce({displayedData:f,xAxis:t,yAxis:n,zAxis:i,scatterSettings:s,xAxisTicks:r,yAxisTicks:a,cells:l})}}),Yle=["onMouseEnter","onClick","onMouseLeave"],Xle=["id"],Gle=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Cv(e,t){if(e==null)return{};var r,n,a=Qle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(null,arguments)}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){Zle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zle(e,t,r){return(t=Jle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jle(e){var t=ece(e,"string");return typeof t=="symbol"?t:t+""}function ece(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tce=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:hl(r,t),payload:e}]},rce=y.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:l,tooltipType:c}=e,u={dataDefinedOnItem:r==null?void 0:r.map(d=>d.tooltipPayload),positions:r==null?void 0:r.map(d=>d.tooltipPosition),settings:{stroke:n,strokeWidth:a,fill:i,nameKey:void 0,dataKey:t,name:hl(s,t),hide:l,type:c,color:i,unit:""}};return y.createElement(Zw,{tooltipEntrySettings:u})});function nce(e){var{points:t,props:r}=e,{line:n,lineType:a,lineJointType:i}=r;if(!n)return null;var s=Or(r),l=fl(n),c,u;if(a==="joint")c=t.map(x=>{var g,b;return{x:(g=x.cx)!==null&&g!==void 0?g:null,y:(b=x.cy)!==null&&b!==void 0?b:null}});else if(a==="fitting"){var{xmin:d,xmax:f,a:h,b:m}=lq(t),p=x=>h*x+m;c=[{x:d,y:p(d)},{x:f,y:p(f)}]}var v=dr(dr(dr({},s),{},{fill:"none",stroke:s&&s.fill},l),{},{points:c});return y.isValidElement(n)?u=y.cloneElement(n,v):typeof n=="function"?u=n(v):u=y.createElement(Kb,Cs({},v,{type:i})),y.createElement(Et,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function ace(e){var{showLabels:t,points:r,children:n}=e,a=ml(),i=y.useMemo(()=>r==null?void 0:r.map(s=>{var l,c,u={x:(l=s.x)!==null&&l!==void 0?l:0,y:(c=s.y)!==null&&c!==void 0?c:0,width:s.width,height:s.height,lowerWidth:s.width,upperWidth:s.width};return dr(dr({},u),{},{value:void 0,payload:s.payload,viewBox:u,parentViewBox:a,fill:void 0})}),[a,r]);return y.createElement(Ww,{value:t?i:void 0},n)}function ice(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:a,dataKey:i}=r,s=oe(wi),{onMouseEnter:l,onClick:c,onMouseLeave:u}=r,d=Cv(r,Yle),f=Xw(l,r.dataKey),h=Gw(u),m=Qw(c,r.dataKey);if(!wq(t))return null;var{id:p}=r,v=Cv(r,Xle),x=Or(v);return y.createElement(y.Fragment,null,y.createElement(nce,{points:t,props:v}),t.map((g,b)=>{var w=a!=null&&a!==!1,j=w&&s===String(b),k=w&&j?a:n,_=dr(dr(dr({},x),g),{},{[bM]:b,[wM]:String(i)});return y.createElement(rr,{key:"symbol-".concat(g==null?void 0:g.cx,"-").concat(g==null?void 0:g.cy,"-").concat(g==null?void 0:g.size,"-").concat(b),zIndex:j?at.activeDot:void 0},y.createElement(Et,Cs({className:"recharts-scatter-symbol"},Au(d,g,b),{onMouseEnter:f(g,b),onMouseLeave:h(g,b),onClick:m(g,b)}),y.createElement(Lle,Cs({option:k,isActive:j},_))))}))}function sce(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:l}=r,c=t.current,u=Fu(r,"recharts-scatter-"),[d,f]=y.useState(!1),h=y.useCallback(()=>{f(!1)},[]),m=y.useCallback(()=>{f(!0)},[]),p=!d;return y.createElement(ace,{showLabels:p,points:n},r.children,y.createElement(zu,{animationId:u,begin:i,duration:s,isActive:a,easing:l,onAnimationEnd:h,onAnimationStart:m,key:u},v=>{var x=v===1?n:n==null?void 0:n.map((g,b)=>{var w=c&&c[b];return w?dr(dr({},g),{},{cx:g.cx==null?void 0:De(w.cx,g.cx,v),cy:g.cy==null?void 0:De(w.cy,g.cy,v),size:De(w.size,g.size,v)}):dr(dr({},g),{},{size:De(0,g.size,v)})});return v>0&&(t.current=x),y.createElement(Et,null,y.createElement(ice,{points:x,allOtherScatterProps:r,showLabels:p}))}),y.createElement(Kw,{label:r.label}))}function oce(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:a,scatterSettings:i,xAxisTicks:s,yAxisTicks:l,cells:c}=e,u=Oe(r.dataKey)?i.dataKey:r.dataKey,d=Oe(n.dataKey)?i.dataKey:n.dataKey,f=a&&a.dataKey,h=a?a.range:eD.range,m=h&&h[0],p=r.scale.bandwidth?r.scale.bandwidth():0,v=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((x,g)=>{var b=Ge(x,u),w=Ge(x,d),j=!Oe(f)&&Ge(x,f)||"-",k=[{name:Oe(r.dataKey)?i.name:r.name||String(r.dataKey),unit:r.unit||"",value:b,payload:x,dataKey:u,type:i.tooltipType},{name:Oe(n.dataKey)?i.name:n.name||String(n.dataKey),unit:n.unit||"",value:w,payload:x,dataKey:d,type:i.tooltipType}];j!=="-"&&k.push({name:a.name||a.dataKey,unit:a.unit||"",value:j,payload:x,dataKey:f,type:i.tooltipType});var _=Th({axis:r,ticks:s,bandSize:p,entry:x,index:g,dataKey:u}),N=Th({axis:n,ticks:l,bandSize:v,entry:x,index:g,dataKey:d}),S=j!=="-"?a.scale(j):m,E=Math.sqrt(Math.max(S,0)/Math.PI);return dr(dr({},x),{},{cx:_,cy:N,x:_==null?void 0:_-E,y:N==null?void 0:N-E,width:2*E,height:2*E,size:S,node:{x:b,y:w,z:j},tooltipPayload:k,tooltipPosition:{x:_,y:N},payload:x},c&&c[g]&&c[g].props)})}var lce=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Ge(e,t)});function cce(e){var{hide:t,points:r,className:n,needClip:a,xAxisId:i,yAxisId:s,id:l}=e,c=y.useRef(null);if(t)return null;var u=Se("recharts-scatter",n),d=l;return y.createElement(rr,{zIndex:e.zIndex},y.createElement(Et,{className:u,clipPath:a?"url(#clipPath-".concat(d,")"):void 0,id:l},a&&y.createElement("defs",null,y.createElement(a1,{clipPathId:d,xAxisId:i,yAxisId:s})),y.createElement(n1,{xAxisId:i,yAxisId:s,data:r,dataPointFormatter:lce,errorBarOffset:0},y.createElement(Et,{key:"recharts-scatter-symbols"},y.createElement(sce,{props:e,previousPointsRef:c})))))}var t3={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:at.scatter};function uce(e){var t=dt(e,t3),{animationBegin:r,animationDuration:n,animationEasing:a,hide:i,isAnimationActive:s,legendType:l,lineJointType:c,lineType:u,shape:d,xAxisId:f,yAxisId:h,zAxisId:m}=t,p=Cv(t,Gle),{needClip:v}=Vp(f,h),x=y.useMemo(()=>TR(e.children,Uw),[e.children]),g=pt(),b=oe(w=>qle(w,f,h,m,e.id,x,g));return v==null||b==null?null:y.createElement(y.Fragment,null,y.createElement(rce,{dataKey:e.dataKey,points:b,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),y.createElement(cce,Cs({},p,{xAxisId:f,yAxisId:h,zAxisId:m,lineType:u,lineJointType:c,legendType:l,shape:d,hide:i,isAnimationActive:s,animationBegin:r,animationDuration:n,animationEasing:a,points:b,needClip:v})))}function dce(e){var t=dt(e,t3),r=pt();return y.createElement(e1,{id:t.id,type:"scatter"},n=>y.createElement(y.Fragment,null,y.createElement(Jw,{legendPayload:tce(t)}),y.createElement(t1,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),y.createElement(uce,Cs({},t,{id:n}))))}var Pv=y.memo(dce,rd);Pv.displayName="Scatter";var fce=["domain","range"],hce=["domain","range"];function a2(e,t){if(e==null)return{};var r,n,a=mce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function i2(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function r3(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=a2(e,fce),{domain:i,range:s}=t,l=a2(t,hce);return!i2(r,i)||!i2(n,s)?!1:rd(a,l)}var pce=["dangerouslySetInnerHTML","ticks"],gce=["id"];function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ov.apply(null,arguments)}function s2(e,t){if(e==null)return{};var r,n,a=yce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vce(e){var t=Ke(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(Qae(e)):r.current!==e&&t(Zae({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(Jae(r.current)),r.current=null)},[t]),null}var xce=e=>{var{xAxisId:t,className:r}=e,n=oe(Fb),a=pt(),i="xAxis",s=oe(x=>bi(x,i,t,a)),l=oe(x=>ID(x,i,t,a)),c=oe(x=>OD(x,t)),u=oe(x=>Xee(x,t)),d=oe(x=>ZI(x,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=s2(e,pce),{id:p}=d,v=s2(d,gce);return y.createElement(s1,Ov({},m,v,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Se("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l,axisType:i}))},bce={allowDataOverflow:wt.allowDataOverflow,allowDecimals:wt.allowDecimals,allowDuplicatedCategory:wt.allowDuplicatedCategory,angle:wt.angle,axisLine:ya.axisLine,height:wt.height,hide:!1,includeHidden:wt.includeHidden,interval:wt.interval,minTickGap:wt.minTickGap,mirror:wt.mirror,orientation:wt.orientation,padding:wt.padding,reversed:wt.reversed,scale:wt.scale,tick:wt.tick,tickCount:wt.tickCount,tickLine:ya.tickLine,tickSize:ya.tickSize,type:wt.type,xAxisId:0},wce=e=>{var t=dt(e,bce);return y.createElement(y.Fragment,null,y.createElement(vce,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(xce,t))},Jl=y.memo(wce,r3);Jl.displayName="XAxis";var jce=["dangerouslySetInnerHTML","ticks"],kce=["id"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(null,arguments)}function o2(e,t){if(e==null)return{};var r,n,a=Nce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _ce(e){var t=Ke(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(eie(e)):r.current!==e&&t(tie({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(rie(r.current)),r.current=null)},[t]),null}var Sce=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=y.useRef(null),s=y.useRef(null),l=oe(Fb),c=pt(),u=Ke(),d="yAxis",f=oe(k=>bi(k,d,t,c)),h=oe(k=>AD(k,t)),m=oe(k=>Qee(k,t)),p=oe(k=>ID(k,d,t,c)),v=oe(k=>JI(k,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!h||Vw(a)||y.isValidElement(a)||v==null)){var k=i.current;if(k){var _=k.getCalculatedWidth();Math.round(h.width)!==Math.round(_)&&u(nie({id:t,width:_}))}}},[p,h,u,a,t,n,v]),h==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:x,ticks:g}=e,b=o2(e,jce),{id:w}=v,j=o2(v,kce);return y.createElement(s1,Av({},b,j,{ref:i,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Se("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:p,axisType:d}))},Ece={allowDataOverflow:jt.allowDataOverflow,allowDecimals:jt.allowDecimals,allowDuplicatedCategory:jt.allowDuplicatedCategory,angle:jt.angle,axisLine:ya.axisLine,hide:!1,includeHidden:jt.includeHidden,interval:jt.interval,minTickGap:jt.minTickGap,mirror:jt.mirror,orientation:jt.orientation,padding:jt.padding,reversed:jt.reversed,scale:jt.scale,tick:jt.tick,tickCount:jt.tickCount,tickLine:ya.tickLine,tickSize:ya.tickSize,type:jt.type,width:jt.width,yAxisId:0},Cce=e=>{var t=dt(e,Ece);return y.createElement(y.Fragment,null,y.createElement(_ce,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(Sce,t))},ec=y.memo(Cce,r3);ec.displayName="YAxis";var Pce=(e,t)=>t,l1=W([Pce,Ee,GI,vt,GD,La,hre,Ct],bre),c1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},n3=Zr("mouseClick"),a3=Iu();a3.startListening({actionCreator:n3,effect:(e,t)=>{var r=e.payload,n=l1(t.getState(),c1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(fte({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Tv=Zr("mouseMove"),i3=Iu(),tf=null;i3.startListening({actionCreator:Tv,effect:(e,t)=>{var r=e.payload;tf!==null&&cancelAnimationFrame(tf);var n=c1(r);tf=requestAnimationFrame(()=>{var a=t.getState(),i=Aw(a,a.tooltip.settings.shared);if(i==="axis"){var s=l1(a,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(UD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(BD())}tf=null})}});var l2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},s3=yr({name:"rootProps",initialState:l2,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:l2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Oce=s3.reducer,{updateOptions:Ace}=s3.actions,o3=yr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Cfe}=o3.actions,Tce=o3.reducer,l3=Zr("keyDown"),c3=Zr("focus"),u1=Iu();u1.startListening({actionCreator:l3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Tw(a,bl(r),Yu(r),Ju(r)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var c=La(r);if(i==="Enter"){var u=Qh(r,"axis","hover",String(a.index));t.dispatch(wv({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var d=rte(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=l+h*f;if(!(c==null||m>=c.length||m<0)){var p=Qh(r,"axis","hover",String(m));t.dispatch(wv({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}}});u1.startListening({actionCreator:c3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=Qh(r,"axis","hover",String(i));t.dispatch(wv({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var $r=Zr("externalEvent"),u3=Iu(),iy=new Map;u3.startListening({actionCreator:$r,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=iy.get(a);i!==void 0&&cancelAnimationFrame(i);var s=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:Qte(l),activeDataKey:eR(l),activeIndex:wi(l),activeLabel:JD(l),activeTooltipIndex:wi(l),isTooltipActive:Zte(l)};r(c,n)}finally{iy.delete(a)}});iy.set(a,s)}}});var Mce=W([xl],e=>e.tooltipItemPayloads),Ice=W([Mce,Qu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),d3=Zr("touchMove"),f3=Iu();f3.startListening({actionCreator:d3,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Aw(n,n.tooltip.settings.shared);if(a==="axis"){var i=l1(n,c1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(UD({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,l=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(bM),d=(s=c.getAttribute(wM))!==null&&s!==void 0?s:void 0,f=Ice(t.getState(),u,d);t.dispatch(FD({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var Dce=UT({brush:Qse,cartesianAxis:aie,chartData:Gre,errorBars:Nie,graphicalItems:Rae,layout:ZY,legend:iG,options:Wre,polarAxis:cae,polarOptions:Tce,referenceElements:loe,rootProps:Oce,tooltip:hte,zIndex:Ire}),Rce=function(t){return kY({reducer:Dce,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([a3.middleware,i3.middleware,u1.middleware,u3.middleware,f3.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(nM({type:"raf"}))},devTools:$u.devToolsEnabled})};function Lce(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=pt(),i=y.useRef(null);if(a)return r;i.current==null&&(i.current=Rce(t));var s=Pb;return y.createElement(Zie,{context:s,store:i.current},r)}function $ce(e){var{layout:t,margin:r}=e,n=Ke(),a=pt();return y.useEffect(()=>{a||(n(XY(t)),n(YY(r)))},[n,a,t,r]),null}var zce=y.memo($ce,rd);function Fce(e){var t=Ke();return y.useEffect(()=>{t(Ace(e))},[t,e]),null}function c2(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=DR("".concat(n).concat(t)),i=Ke();return y.useLayoutEffect(()=>(i(Tre({zIndex:t,elementId:a,isPanorama:r})),()=>{i(Mre({zIndex:t,isPanorama:r}))}),[i,t,a,r]),y.createElement("g",{tabIndex:-1,id:a})}function u2(e){var{children:t,isPanorama:r}=e,n=oe(jre);if(!n||n.length===0)return t;var a=n.filter(s=>s<0),i=n.filter(s=>s>0);return y.createElement(y.Fragment,null,a.map(s=>y.createElement(c2,{key:s,zIndex:s,isPanorama:r})),t,i.map(s=>y.createElement(c2,{key:s,zIndex:s,isPanorama:r})))}var Bce=["children"];function Uce(e,t){if(e==null)return{};var r,n,a=Hce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lm.apply(null,arguments)}var Vce={width:"100%",height:"100%",display:"block"},Wce=y.forwardRef((e,t)=>{var r=Ub(),n=Hb(),a=$M();if(!Hn(r)||!Hn(n))return null;var{children:i,otherAttributes:s,title:l,desc:c}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=a?0:void 0,typeof s.role=="string"?d=s.role:d=a?"application":void 0),y.createElement(mb,lm({},s,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:Vce,ref:t}),i)}),Kce=e=>{var{children:t}=e,r=oe(hp);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return y.createElement(mb,{width:n,height:a,x:s,y:i},t)},d2=y.forwardRef((e,t)=>{var{children:r}=e,n=Uce(e,Bce),a=pt();return a?y.createElement(Kce,null,y.createElement(u2,{isPanorama:!0},r)):y.createElement(Wce,lm({ref:t},n),y.createElement(u2,{isPanorama:!1},r))});function qce(){var e=Ke(),[t,r]=y.useState(null),n=oe(gX);return y.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Fe(i)&&i!==n&&e(QY(i))}},[t,e,n]),r}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){Xce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xce(e,t,r){return(t=Gce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gce(e){var t=Qce(e,"string");return typeof t=="symbol"?t:t+""}function Qce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(null,arguments)}var Zce=()=>(ine(),null);function cm(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Jce=y.forwardRef((e,t)=>{var r,n,a=y.useRef(null),[i,s]=y.useState({containerWidth:cm((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:cm((n=e.style)===null||n===void 0?void 0:n.height)}),l=y.useCallback((u,d)=>{s(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=y.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=p=>{var{width:v,height:x}=p[0].contentRect;l(v,x)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,l]);return y.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),y.createElement(y.Fragment,null,y.createElement(mp,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",Ps({ref:c},e)))}),eue=y.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=y.useState({containerWidth:cm(r),containerHeight:cm(n)}),s=y.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=y.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[t,s]);return y.createElement(y.Fragment,null,y.createElement(mp,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",Ps({ref:l},e)))}),tue=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return y.createElement(y.Fragment,null,y.createElement(mp,{width:r,height:n}),y.createElement("div",Ps({ref:t},e)))}),rue=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return _a(r)||_a(n)?y.createElement(eue,Ps({},e,{ref:t})):y.createElement(tue,Ps({},e,{ref:t}))});function nue(e){return e===!0?Jce:rue}var aue=y.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:v,style:x,width:g,responsive:b,dispatchTouchEvents:w=!0}=e,j=y.useRef(null),k=Ke(),[_,N]=y.useState(null),[S,E]=y.useState(null),T=qce(),O=Bb(),P=(O==null?void 0:O.width)>0?O.width:g,L=(O==null?void 0:O.height)>0?O.height:a,C=y.useCallback(U=>{T(U),typeof t=="function"&&t(U),N(U),E(U),U!=null&&(j.current=U)},[T,t,N,E]),D=y.useCallback(U=>{k(n3(U)),k($r({handler:i,reactEvent:U}))},[k,i]),I=y.useCallback(U=>{k(Tv(U)),k($r({handler:u,reactEvent:U}))},[k,u]),R=y.useCallback(U=>{k(BD()),k($r({handler:d,reactEvent:U}))},[k,d]),A=y.useCallback(U=>{k(Tv(U)),k($r({handler:f,reactEvent:U}))},[k,f]),M=y.useCallback(()=>{k(c3())},[k]),z=y.useCallback(U=>{k(l3(U.key))},[k]),H=y.useCallback(U=>{k($r({handler:s,reactEvent:U}))},[k,s]),B=y.useCallback(U=>{k($r({handler:l,reactEvent:U}))},[k,l]),X=y.useCallback(U=>{k($r({handler:c,reactEvent:U}))},[k,c]),q=y.useCallback(U=>{k($r({handler:h,reactEvent:U}))},[k,h]),J=y.useCallback(U=>{k($r({handler:v,reactEvent:U}))},[k,v]),ce=y.useCallback(U=>{w&&k(d3(U)),k($r({handler:p,reactEvent:U}))},[k,w,p]),re=y.useCallback(U=>{k($r({handler:m,reactEvent:U}))},[k,m]),Q=nue(b);return y.createElement(oR.Provider,{value:_},y.createElement(KA.Provider,{value:S},y.createElement(Q,{width:P??(x==null?void 0:x.width),height:L??(x==null?void 0:x.height),className:Se("recharts-wrapper",n),style:Yce({position:"relative",cursor:"default",width:P,height:L},x),onClick:D,onContextMenu:H,onDoubleClick:B,onFocus:M,onKeyDown:z,onMouseDown:X,onMouseEnter:I,onMouseLeave:R,onMouseMove:A,onMouseUp:q,onTouchEnd:re,onTouchMove:ce,onTouchStart:J,ref:C},y.createElement(Zce,null),r)))}),iue=["width","height","responsive","children","className","style","compact","title","desc"];function sue(e,t){if(e==null)return{};var r,n,a=oue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lue=y.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:s,style:l,compact:c,title:u,desc:d}=e,f=sue(e,iue),h=Or(f);return c?y.createElement(y.Fragment,null,y.createElement(mp,{width:r,height:n}),y.createElement(d2,{otherAttributes:h,title:u,desc:d},i)):y.createElement(aue,{className:s,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(d2,{otherAttributes:h,title:u,desc:d,ref:t},y.createElement(coe,null,i)))});function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mv.apply(null,arguments)}var cue={top:5,right:5,bottom:5,left:5},uue={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:cue,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},d1=y.forwardRef(function(t,r){var n,a=dt(t.categoricalChartProps,uue),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return y.createElement(Lce,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},y.createElement(Gse,{chartData:u.data}),y.createElement(zce,{layout:a.layout,margin:a.margin}),y.createElement(Fce,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),y.createElement(lue,Mv({},a,{ref:r})))}),due=["axis"],fue=y.forwardRef((e,t)=>y.createElement(d1,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:due,tooltipPayloadSearcher:Bw,categoricalChartProps:e,ref:t})),hue=["axis","item"],mue=y.forwardRef((e,t)=>y.createElement(d1,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hue,tooltipPayloadSearcher:Bw,categoricalChartProps:e,ref:t})),pue=["item"],h2=y.forwardRef((e,t)=>y.createElement(d1,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pue,tooltipPayloadSearcher:Bw,categoricalChartProps:e,ref:t}));const Af={deploy:async e=>(await st.post(`/deployment/deploy/${e}`)).data,getActive:async()=>(await st.get("/deployment/active")).data,deactivate:async()=>{await st.post("/deployment/deactivate")},predict:async e=>(await st.post("/deployment/predict",{data:e})).data},gue=()=>{var ne,ue;const{jobs:e,fetchJobs:t}=dl(),[r,n]=y.useState([]),[a,i]=y.useState("all"),[s,l]=y.useState([]),[c,u]=y.useState("all"),[d,f]=y.useState(null),[h,m]=y.useState(!0),[p,v]=y.useState(!0),[x,g]=y.useState(!0),[b,w]=y.useState(!0),[j,k]=y.useState(!0),[_,N]=y.useState("charts"),[S,E]=y.useState(null),[T,O]=y.useState(!1),[P,L]=y.useState(null),[C,D]=y.useState(null),[I,R]=y.useState(null);y.useEffect(()=>{t(),A()},[t]),y.useEffect(()=>{var F,Y,ie,he;((he=(ie=(Y=(F=S==null?void 0:S.splits)==null?void 0:F.train)==null?void 0:Y.y_proba)==null?void 0:ie.classes)==null?void 0:he.length)>0&&R(S.splits.train.y_proba.classes[0])},[S]);const A=async()=>{try{const F=await st.get("/pipeline/datasets/list");l(F.data)}catch(F){console.error("Failed to fetch datasets",F)}},M=async(F,Y)=>{if(F.stopPropagation(),!!confirm("Are you sure you want to deploy this model to production?"))try{await Af.deploy(Y),alert("Model deployed successfully!")}catch(ie){alert("Failed to deploy model"),console.error(ie)}},z=async F=>{var Y,ie;O(!0),E(null),L(null),D(F);try{const he=await st.get(`/pipeline/jobs/${F}/evaluation`);E(he.data)}catch(he){console.error("Failed to fetch evaluation data",he),L(((ie=(Y=he.response)==null?void 0:Y.data)==null?void 0:ie.detail)||"Failed to fetch evaluation data")}finally{O(!1)}},H=(F,Y)=>{const ie=Array.from(new Set([...F,...Y])).sort(),he=ie.map(je=>ie.map(_e=>F.reduce((Vt,nr,vr)=>{const Dr=Y[vr];return nr===je&&Dr===_e?Vt+1:Vt},0)));return{classes:ie,matrix:he}},B=(F,Y,ie)=>{if(!Y||!Y.values)return null;const he=Y.classes.indexOf(ie);if(he===-1)return null;const _e=Y.values.map(bt=>bt[he]).map((bt,Zn)=>({score:bt,actual:F[Zn]===ie?1:0}));_e.sort((bt,Zn)=>Zn.score-bt.score);const Vt=[];let nr=0,vr=0;const Dr=_e.filter(bt=>bt.actual===1).length,Cn=_e.length-Dr;if(Dr===0||Cn===0)return null;Vt.push({fpr:0,tpr:0});for(let bt=0;bt<_e.length;bt++)_e[bt].actual===1?nr++:vr++,Vt.push({fpr:vr/Cn,tpr:nr/Dr});return Vt};y.useEffect(()=>{_==="evaluation"&&(!C&&r.length>0||C&&!r.includes(C)&&r.length>0?z(r[0]):r.length===0&&(E(null),D(null)))},[_,r,C]);const X=e.filter(F=>{const Y=a==="all"||F.job_type===a,ie=c==="all"||F.dataset_id===c;return Y&&ie}),q=e.filter(F=>r.includes(F.job_id)),J=F=>{n(Y=>Y.includes(F)?Y.filter(ie=>ie!==F):[...Y,F])},ce=q.map(F=>{var ie;const Y=F.metrics||((ie=F.result)==null?void 0:ie.metrics)||{};return{name:F.job_id.slice(0,8),...Y}}),re=Array.from(new Set(q.flatMap(F=>{var ie;const Y=F.metrics||((ie=F.result)==null?void 0:ie.metrics)||{};return Object.keys(Y).filter(he=>{const je=Y[he];return typeof je=="number"&&!isNaN(je)})}))).filter(F=>!(F.startsWith("train_")&&!h||F.startsWith("test_")&&!p||F.startsWith("val_")&&!x)),Q=(F,Y)=>{if(!F||!Y)return"-";const ie=new Date(Y).getTime()-new Date(F).getTime(),he=Math.floor(ie/1e3);return he<60?`${he}s`:`${Math.floor(he/60)}m ${he%60}s`},U=F=>F==="best_score"?{type:"val",base:"best_score"}:F.startsWith("train_")?{type:"train",base:F.replace("train_","")}:F.startsWith("test_")?{type:"test",base:F.replace("test_","")}:F.startsWith("val_")?{type:"val",base:F.replace("val_","")}:{type:"other",base:F},Z=new Map;re.forEach(F=>{const{base:Y}=U(F);Z.has(Y)||Z.set(Y,[]),Z.get(Y).push(F)}),Z.forEach((F,Y)=>{Z.set(Y,F.sort())});const ee=Array.from(Z.keys()).sort(),V=d&&ee.includes(d)?d:ee[0]||null;return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Experiments & Comparison"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Compare metrics and parameters across multiple runs"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:c,onChange:F=>u(F.target.value),children:[o.jsx("option",{value:"all",children:"All Datasets"}),s.map(F=>o.jsx("option",{value:F.id,children:F.name},F.id))]}),o.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:a,onChange:F=>i(F.target.value),children:[o.jsx("option",{value:"all",children:"All Experiments"}),o.jsx("option",{value:"tuning",children:"Model Optimization"}),o.jsx("option",{value:"training",children:"Standard Training"})]})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col",children:[o.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 text-xs font-medium text-gray-500 uppercase",children:["Select Runs to Compare (",r.length,")"]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:X.map(F=>{var Y,ie;return o.jsxs("div",{onClick:()=>J(F.job_id),className:`p-3 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${r.includes(F.job_id)?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"border-l-4 border-l-transparent"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("span",{className:"font-mono text-xs font-semibold text-gray-700 dark:text-gray-300",children:F.job_id.slice(0,8)}),o.jsxs("div",{className:"flex items-center gap-2",children:[F.status==="completed"&&(F.job_type==="training"||F.job_type==="tuning")&&o.jsx("button",{onClick:he=>M(he,F.job_id),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600 dark:text-blue-400",title:"Deploy to Test",children:o.jsx(Fx,{className:"w-3 h-3"})}),o.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded capitalize ${F.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":F.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:F.status})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[F.model_type,"  ",F.dataset_name||"Unknown Dataset",F.job_type==="tuning"&&((ie=(Y=F.config)==null?void 0:Y.tuning)==null?void 0:ie.strategy)&&o.jsxs("span",{className:"ml-1 text-gray-400",children:["(",F.config.tuning.strategy,")"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:[o.jsx("span",{children:new Date(F.start_time||F.created_at).toLocaleString()}),o.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300",children:Q(F.start_time,F.end_time)})]})]},F.job_id)})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:q.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[o.jsx(mP,{className:"w-12 h-12 mb-4 opacity-20"}),o.jsx("p",{children:"Select runs from the sidebar to compare them."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${_==="charts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>N("charts"),children:"Visual Comparison"}),o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${_==="table"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>N("table"),children:"Detailed Metrics & Params"}),o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${_==="evaluation"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>N("evaluation"),children:"Model Evaluation"})]}),_==="charts"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Metrics Comparison"}),o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:h,onChange:F=>m(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:p,onChange:F=>v(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:F=>g(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]})]}),ee.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:ee.map(F=>o.jsx("button",{onClick:()=>f(F),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${V===F?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:F.toUpperCase()},F))}),V&&Z.has(V)&&o.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:o.jsx("div",{className:"h-[300px] w-full",children:o.jsx(Wd,{width:"100%",height:"100%",children:o.jsxs(mue,{data:ce,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(Zl,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),o.jsx(Jl,{dataKey:"name",stroke:"#6B7280",fontSize:12}),o.jsx(ec,{stroke:"#6B7280",fontSize:12}),o.jsx(Zd,{shared:!1,cursor:{fill:"rgba(107, 114, 128, 0.1)"},contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"}}),o.jsx(LM,{}),Z.get(V).map(F=>{const{type:Y}=U(F);let ie="#8884d8";return Y==="train"&&(ie="#3b82f6"),Y==="test"&&(ie="#22c55e"),Y==="val"&&(ie="#f97316"),Y==="other"&&(ie="#a855f7"),o.jsx(FR,{dataKey:F,fill:ie,name:`${Y} (${V})`},F)})]})})})})]}),_==="table"&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in duration-300",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Detailed Comparison"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-xs text-left",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-900/50 dark:text-gray-400",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Parameter / Metric"}),q.map(F=>o.jsx("th",{className:"px-4 py-2 font-mono",children:F.job_id.slice(0,8)},F.job_id))]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[o.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100",children:"Model Type"}),q.map(F=>o.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:F.model_type},F.job_id))]}),o.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>w(!b),children:o.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:q.length+1,children:[b?o.jsx(Qt,{className:"w-3 h-3"}):o.jsx(ys,{className:"w-3 h-3"}),"Key Metrics"]})}),b&&re.map(F=>o.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[o.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:F}),q.map(Y=>{var je;const he=(Y.metrics||((je=Y.result)==null?void 0:je.metrics)||{})[F];return o.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:typeof he=="number"?he.toFixed(4):"-"},Y.job_id)})]},F)),o.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>k(!j),children:o.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:q.length+1,children:[j?o.jsx(Qt,{className:"w-3 h-3"}):o.jsx(ys,{className:"w-3 h-3"}),"Hyperparameters"]})}),j&&Array.from(new Set(q.flatMap(F=>Object.keys(F.hyperparameters||{})))).map(F=>o.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[o.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:F}),q.map(Y=>{var ie;return o.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:String(((ie=Y.hyperparameters)==null?void 0:ie[F])??"-")},Y.job_id)})]},F))]})]})})]}),_==="evaluation"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[r.length>1&&o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:r.map(F=>o.jsx("button",{onClick:()=>z(F),className:`px-3 py-1 text-xs font-mono rounded border ${C===F?"bg-blue-100 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700 dark:text-blue-300":"bg-white border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"}`,children:F.slice(0,8)},F))}),T?o.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400",children:[o.jsx(en,{className:"w-6 h-6 animate-spin mr-2"}),"Loading evaluation data..."]}):P?o.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[o.jsx("p",{className:"font-medium",children:"Error loading evaluation data"}),o.jsx("p",{className:"text-sm mt-2 opacity-80",children:P})]}):S?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:h,onChange:F=>m(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:p,onChange:F=>v(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:F=>g(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]}),S.problem_type==="classification"&&((ue=(ne=S.splits)==null?void 0:ne.train)==null?void 0:ue.y_proba)&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Target Class (ROC):"}),o.jsx("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-1.5",value:I||"",onChange:F=>R(F.target.value),children:S.splits.train.y_proba.classes.map(F=>o.jsx("option",{value:F,children:F},F))})]})]}),o.jsx("div",{className:"flex flex-col gap-6",children:Object.entries(S.splits||{}).filter(([F])=>!(F==="train"&&!h||F==="test"&&!p||F==="validation"&&!x)).map(([F,Y])=>{const ie=Y.y_true.map((he,je)=>({x:he,y:Y.y_pred[je]}));return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4 capitalize",children:[F," Set"]}),S.problem_type==="regression"?o.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[o.jsxs("div",{className:"h-[300px]",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Actual vs Predicted"}),o.jsx(Wd,{width:"100%",height:"100%",children:o.jsxs(h2,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(Zl,{strokeDasharray:"3 3",opacity:.2}),o.jsx(Jl,{type:"number",dataKey:"x",name:"Actual",unit:"",label:{value:"Actual Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),o.jsx(ec,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),o.jsx(Zd,{cursor:{strokeDasharray:"3 3"},content:({active:he,payload:je})=>{if(he&&je&&je.length){const _e=je[0].payload;return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[o.jsxs("p",{className:"font-medium",children:["Actual: ",_e.x.toFixed(4)]}),o.jsxs("p",{className:"font-medium",children:["Predicted: ",_e.y.toFixed(4)]}),o.jsxs("p",{className:"text-gray-500",children:["Error: ",(_e.y-_e.x).toFixed(4)]})]})}return null}}),o.jsx(Of,{dataKey:"x",stroke:"#ccc",strokeDasharray:"3 3",dot:!1,activeDot:!1,legendType:"none",isAnimationActive:!1}),o.jsx(Pv,{name:"Predictions",data:ie,fill:"#8884d8",fillOpacity:.6})]})})]}),o.jsxs("div",{className:"h-[300px]",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Residuals vs Predicted"}),o.jsx(Wd,{width:"100%",height:"100%",children:o.jsxs(h2,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(Zl,{strokeDasharray:"3 3",opacity:.2}),o.jsx(Jl,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),o.jsx(ec,{type:"number",dataKey:"residual",name:"Residual",unit:"",label:{value:"Residuals (Actual - Predicted)",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),o.jsx(Zd,{cursor:{strokeDasharray:"3 3"},content:({active:he,payload:je})=>{if(he&&je&&je.length){const _e=je[0].payload;return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[o.jsxs("p",{className:"font-medium",children:["Predicted: ",_e.y.toFixed(4)]}),o.jsxs("p",{className:"font-medium",children:["Residual: ",_e.residual.toFixed(4)]})]})}return null}}),o.jsx(KR,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),o.jsx(Pv,{name:"Residuals",data:ie.map(he=>({...he,residual:he.x-he.y})),fill:"#82ca9d",fillOpacity:.6})]})})]})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"h-[300px] flex flex-col items-center justify-center",children:(()=>{const{classes:he,matrix:je}=H(Y.y_true,Y.y_pred);return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-8"})," ",o.jsxs("div",{className:"flex ml-2",children:[" ",he.map(_e=>o.jsxs("div",{className:"w-16 text-center text-xs font-medium text-gray-500 dark:text-gray-400 pb-2",children:["Pred ",_e]},_e))]})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex flex-col justify-center mr-2",children:he.map(_e=>o.jsxs("div",{className:"h-16 flex items-center justify-end text-xs font-medium text-gray-500 dark:text-gray-400 pr-2",children:["True ",_e]},_e))}),o.jsx("div",{className:"border border-gray-200 dark:border-gray-700",children:je.map((_e,Vt)=>o.jsx("div",{className:"flex",children:_e.map((nr,vr)=>{const Dr=Math.max(...je.flat()),Cn=Dr>0?nr/Dr:0;return o.jsx("div",{className:"w-16 h-16 flex items-center justify-center text-sm font-mono border border-gray-100 dark:border-gray-800",style:{backgroundColor:`rgba(59, 130, 246, ${Cn*.8+.1})`,color:Cn>.5?"white":"inherit"},title:`True: ${he[Vt]}, Pred: ${he[vr]}, Count: ${nr}`,children:nr},vr)})},Vt))})]}),o.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"Confusion Matrix"})]})})()}),Y.y_proba&&o.jsxs("div",{className:"h-[300px] w-full",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"ROC Curve"}),(()=>{const he=B(Y.y_true,Y.y_proba,I);return he?o.jsx(Wd,{width:"100%",height:"100%",children:o.jsxs(fue,{data:he,margin:{top:5,right:20,bottom:20,left:20},children:[o.jsx(Zl,{strokeDasharray:"3 3",opacity:.1}),o.jsx(Jl,{type:"number",dataKey:"fpr",domain:[0,1],label:{value:"False Positive Rate",position:"bottom",offset:0,fontSize:12}}),o.jsx(ec,{type:"number",dataKey:"tpr",domain:[0,1],label:{value:"True Positive Rate",angle:-90,position:"left",fontSize:12}}),o.jsx(Zd,{}),o.jsx(Of,{type:"monotone",dataKey:"tpr",stroke:"#8884d8",dot:!1,strokeWidth:2}),o.jsx(Of,{dataKey:"fpr",stroke:"#ccc",strokeDasharray:"3 3",dot:!1})]})}):o.jsx("div",{className:"text-center text-xs text-gray-400",children:"ROC not available (multiclass or missing proba)"})})()]})]})]},F)})})]}):o.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400 italic text-center",children:[o.jsx("p",{children:"Select a completed job to view evaluation details."}),o.jsx("p",{className:"text-xs mt-2 opacity-70",children:"(Note: Only jobs run after this update have evaluation artifacts)"})]})]})]})})]})]})},yue=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(`[
  {
    "feature1": 0.5,
    "feature2": 1.2
  }
]`),[a,i]=y.useState(null),[s,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(null);y.useEffect(()=>{h()},[]);const h=async()=>{var v;try{const x=await Af.getActive();if(t(x),x&&x.job_id)try{const g=await Nr.getJob(x.job_id);if(g.dataset_id){let b=null,w=[];try{const k=await fetch(`/ml-workflow/api/pipelines/${g.dataset_id}`);k.ok&&(((v=(await k.json()).graph)==null?void 0:v.nodes)||[]).forEach(S=>{var O,P;const E=((O=S.data)==null?void 0:O.catalogType)||S.type,T=((P=S.data)==null?void 0:P.config)||S.parameters||{};E==="train_test_split"&&T.target_column&&(b=T.target_column),E==="drop_missing_columns"&&Array.isArray(T.columns)&&w.push(...T.columns),E==="drop_column_recommendations"&&Array.isArray(T.columns)&&w.push(...T.columns),E==="drop_columns"&&Array.isArray(T.columns)&&w.push(...T.columns),E==="feature_selection"&&Array.isArray(T.dropped_columns)&&w.push(...T.dropped_columns)})}catch(k){console.warn("Failed to fetch pipeline for inference filtering",k)}const j=await xs.getSample(g.dataset_id,1);if(j&&j.length>0){const k=j.map(N=>{const S={...N};return b&&b in S&&delete S[b],w.forEach(E=>{E in S&&delete S[E]}),S});n(JSON.stringify(k,null,2));const _=[];b&&_.push(`Target: ${b}`),w.length>0&&_.push(`Dropped: ${w.length} cols`),_.length>0&&f(`Auto-filtered: ${_.join(", ")}`)}}}catch(g){console.warn("Failed to fetch dataset sample for inference auto-fill",g)}}catch{t(null)}},m=async()=>{if(confirm("Are you sure you want to undeploy the current model?"))try{await Af.deactivate(),t(null),i(null)}catch(v){console.error("Failed to deactivate",v)}},p=async()=>{l(!0),u(null),i(null);try{const v=JSON.parse(r);if(!Array.isArray(v))throw new Error("Input must be a JSON array of objects");const x=await Af.predict(v);i(x.predictions)}catch(v){u(v.message||"Prediction failed")}finally{l(!1)}};return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 p-6 overflow-hidden",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6 shrink-0",children:"Model Inference"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Input Data (JSON)"}),d&&o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded border border-amber-200 dark:border-amber-800",children:d}),o.jsx("span",{className:"text-[10px] text-gray-400 mt-1",children:"Please verify fields before running"})]})]}),o.jsx("textarea",{className:"flex-1 w-full p-4 font-mono text-sm bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none",value:r,onChange:v=>n(v.target.value),placeholder:'[{"col1": 1, "col2": "A"}]'}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsx("button",{onClick:p,disabled:!e||s,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${!e||s?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-800 dark:text-gray-600":"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"}`,children:s?"Running...":o.jsxs(o.Fragment,{children:[o.jsx(vu,{className:"w-4 h-4"})," Run Prediction"]})})})]}),o.jsxs("div",{className:"flex flex-col gap-6 h-full min-h-0",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 shrink-0",children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cF,{className:"w-5 h-5 text-blue-500"}),"Active Deployment"]}),e&&o.jsxs("button",{onClick:m,className:"flex items-center gap-1 text-xs px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50 transition-colors",title:"Undeploy Model",children:[o.jsx(IF,{className:"w-3 h-3"}),"Undeploy"]})]}),e?o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Model Type"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:e.model_type})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Job ID"}),o.jsx("div",{className:"font-mono text-sm text-gray-800 dark:text-gray-200",children:e.job_id.slice(0,8)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Deployed At"}),o.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:new Date(e.created_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),o.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-medium text-sm",children:[o.jsx(Mc,{className:"w-4 h-4"})," Active"]})]})]}):o.jsxs("div",{className:"text-gray-500 dark:text-gray-400 italic flex items-center gap-2",children:[o.jsx(ka,{className:"w-4 h-4"}),"No model is currently deployed. Go to Experiments page to deploy one."]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col flex-1 min-h-0",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Prediction Results"}),o.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4 overflow-auto",children:c?o.jsxs("div",{className:"text-red-600 dark:text-red-400 flex items-start gap-2",children:[o.jsx(ka,{className:"w-5 h-5 shrink-0 mt-0.5"}),o.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm",children:c})]}):a?o.jsx("div",{className:"space-y-2",children:a.map((v,x)=>o.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-800 rounded border border-gray-100 dark:border-gray-700",children:[o.jsxs("span",{className:"text-xs text-gray-500 w-8",children:["#",x+1]}),o.jsx("span",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof v=="object"?JSON.stringify(v):String(v)})]},x))}):o.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm italic",children:"Run a prediction to see results here..."})})]})]})]})]})},vue=()=>{const{activeView:e}=UA();return o.jsxs("div",{className:"flex h-full w-full bg-background overflow-hidden flex-col",children:[o.jsx(hK,{}),o.jsx(fK,{}),e==="canvas"?o.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[o.jsx(ZW,{}),o.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[o.jsx(uK,{}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(oK,{}),o.jsx(dK,{})]})]}),o.jsx(lK,{})]}):e==="experiments"?o.jsx(gue,{}):o.jsx(yue,{})]})},xue=()=>{const e=ge(t=>t.addNode);return Vr.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("source_id");r&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:r})},100)},[]),o.jsx(vue,{})};function bue(){return o.jsx(Yz,{children:o.jsxs(_z,{children:[o.jsxs(Us,{path:"/",element:o.jsx(YF,{}),children:[o.jsx(Us,{index:!0,element:o.jsx(P8,{})}),o.jsx(Us,{path:"data",element:o.jsx(A8,{})}),o.jsx(Us,{path:"deployments",element:o.jsx("div",{className:"p-8",children:"Deployments (Coming Soon)"})})]}),o.jsx(Us,{path:"/canvas",element:o.jsx(xue,{})})]})})}const wue=({config:e,onChange:t})=>o.jsxs("div",{className:"p-4 space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Debug Message"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:e.message,onChange:r=>t({...e,message:r.target.value})})]}),jue={type:"debug_node",label:"Debug Node",category:"Utility",description:"A simple node for testing the registry.",icon:dF,inputs:[{id:"in",label:"Input",type:"any"}],outputs:[{id:"out",label:"Output",type:"any"}],component:({data:e})=>o.jsxs("div",{className:"text-xs",children:["Msg: ",o.jsx("span",{className:"font-mono",children:e.message||"..."})]}),settings:wue,validate:e=>({isValid:e.message.length>0,message:e.message.length===0?"Message is required":void 0}),getDefaultConfig:()=>({message:"Hello World"})},Ze=e=>O$({queryKey:["dataset-schema",e],queryFn:()=>S8(e),enabled:!!e,staleTime:1e3*60*5}),kue=({config:e,onChange:t})=>{const[r,n]=y.useState([]),[a,i]=y.useState(!1),[s,l]=y.useState(!1),{data:c,isLoading:u}=Ze(e.datasetId),d=()=>{i(!0),xs.getAll().then(n).catch(console.error).finally(()=>i(!1))};y.useEffect(()=>{d()},[]);const f=m=>{const p=m.target.value,v=r.find(x=>String(x.id)===p);t({...e,datasetId:p,datasetName:v==null?void 0:v.name})},h=(m,p)=>{l(!1),d(),t({...e,datasetId:m,datasetName:p})};return s?o.jsx(VP,{onUploadComplete:h,onCancel:()=>l(!1)}):o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),o.jsxs("button",{onClick:()=>l(!0),className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium",children:[o.jsx(Ts,{size:14}),"New Upload"]})]}),a?o.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:f,children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(m=>o.jsx("option",{value:m.id,children:m.name},m.id))]})]}),e.datasetId&&o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[o.jsx(UF,{size:14}),o.jsx("span",{children:"Dataset Schema"})]}),u?o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-y-auto",children:o.jsxs("table",{className:"w-full text-xs text-left",children:[o.jsx("thead",{className:"bg-muted/20 sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2 font-medium border-b",children:"Column"}),o.jsx("th",{className:"p-2 font-medium border-b",children:"Type"}),o.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Missing"}),o.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Unique"})]})}),o.jsx("tbody",{children:Object.values(c.columns).map(m=>o.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[o.jsx("td",{className:"p-2 font-mono font-medium",children:m.name}),o.jsx("td",{className:"p-2 text-muted-foreground",children:m.dtype}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.missing_count}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.unique_count})]},m.name))})]})}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},Nue=({data:e})=>{const[t,r]=y.useState(void 0);y.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&xs.getById(e.datasetId).then(a=>r(a.name)).catch(()=>r(e.datasetId))},[e.datasetId,e.datasetName,t]);const n=e.datasetName||t||e.datasetId;return o.jsx("div",{className:"text-xs",children:e.datasetId?o.jsx("div",{className:"font-medium truncate max-w-[150px]",title:n,children:n||"Loading..."}):o.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},_ue={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:Si,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:kue,component:Nue,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},h3=(e,t,r,n=new Set)=>{var i;if(n.has(e.id))return;if(n.add(e.id),(i=e.data)!=null&&i.datasetId)return e.data.datasetId;const a=Ci(e,t,r);for(const s of a){const l=h3(s,t,r,n);if(l)return l}},it=e=>{const t=ge(i=>i.nodes),r=ge(i=>i.edges),n=t.find(i=>i.id===e);return n?Ci(n,t,r).map(i=>{const s=h3(i,t,r);return s&&!i.data.datasetId?{...i.data,datasetId:s}:i.data}):[]},wl=(e,t={})=>{var i;const n=(i=it(e).find(s=>s.datasetId))==null?void 0:i.datasetId,a=ge(s=>s.executionResult);return y.useMemo(()=>!n||!(a!=null&&a.recommendations)?[]:a.recommendations.filter(s=>{var l,c;if(t.types||t.suggestedNodeTypes){const u=(l=t.types)==null?void 0:l.includes(s.type),d=(c=t.suggestedNodeTypes)==null?void 0:c.includes(s.suggested_node_type);if(!u&&!d)return!1}return!(t.scope==="column"&&(!s.target_columns||s.target_columns.length===0))}),[a,n,t.types,t.suggestedNodeTypes,t.scope])},Rs=({recommendations:e,onApply:t,className:r=""})=>!e||e.length===0?null:o.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${r}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[o.jsx(yP,{className:"w-4 h-4"}),o.jsx("span",{children:"Recommendations"})]}),o.jsx("div",{className:"space-y-2",children:e.map(n=>o.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:n.type.replace("_"," ").toUpperCase()}),o.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:n.description}),n.reasoning&&o.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",n.reasoning]})]}),t&&o.jsx("button",{onClick:()=>t(n),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:o.jsx(Mc,{className:"w-5 h-5"})})]})},n.rule_id))})]}),Sue=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=it(r||"").find(_=>_.datasetId))==null?void 0:k.datasetId,{data:i,isLoading:s}=Ze(a),l=i?Object.values(i.columns).map(_=>_.name):[],c=ge(_=>_.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=y.useRef(null),[h,m]=y.useState(!1);y.useEffect(()=>{if(!f.current)return;const _=new ResizeObserver(N=>{for(const S of N)m(S.contentRect.width>450)});return _.observe(f.current),()=>_.disconnect()},[]);const p=wl(r||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),v=_=>{if(_.target_columns&&_.target_columns.length>0){const N=Array.from(new Set([...e.columns,..._.target_columns]));t({...e,columns:N})}},[x,g]=y.useState(""),b=y.useMemo(()=>l.filter(_=>_.toLowerCase().includes(x.toLowerCase())),[l,x]),w=()=>{t({...e,columns:b})},j=()=>{const _=e.columns.filter(N=>!b.includes(N));t({...e,columns:_})};return o.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&o.jsx("div",{className:"shrink-0",children:o.jsx(Rs,{recommendations:p,onApply:v})}),o.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),o.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),o.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),o.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:_=>t({...e,missing_threshold:parseInt(_.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),d&&d.dropped_columns_count!==void 0&&o.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(en,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),o.jsx("span",{className:"font-medium text-destructive",children:d.dropped_columns_count})]}),d.dropped_columns&&Array.isArray(d.dropped_columns)&&d.dropped_columns.length>0&&o.jsxs("div",{className:"pt-1 border-t mt-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:d.dropped_columns.map(_=>o.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:_},_))})]})]})]})]}),o.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${h?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[o.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("div",{className:"relative group",children:o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:x,onChange:_=>g(_.target.value)})}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:w,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:l.length>0?b.length>0?o.jsx("div",{className:"space-y-0.5",children:b.map(_=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(_),onChange:N=>{const S=N.target.checked?[...e.columns,_]:e.columns.filter(E=>E!==_);t({...e,columns:S})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),o.jsx("span",{className:"truncate font-mono text-xs",title:_,children:_})]},_))}):o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',x,'"']}):o.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},Eue={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:Ei,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:Sue,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},Cue=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=it(r||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:i,isLoading:s}=Ze(a),l=i?Object.values(i.columns).map(N=>N.name):[],c=ge(N=>N.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=y.useRef(null),[h,m]=y.useState(!1);y.useEffect(()=>{if(!f.current)return;const N=new ResizeObserver(S=>{for(const E of S)m(E.contentRect.width>450)});return N.observe(f.current),()=>N.disconnect()},[]);const p=wl(r||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),v=N=>{if(N.target_columns&&N.target_columns.length>0){const S=Array.from(new Set([...e.columns,...N.target_columns]));t({...e,columns:S})}},[x,g]=y.useState(""),b=y.useMemo(()=>l.filter(N=>N.toLowerCase().includes(x.toLowerCase())),[l,x]),w=()=>{t({...e,columns:b})},j=()=>{const N=e.columns.filter(S=>!b.includes(S));t({...e,columns:N})},k=()=>d?o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),d.fill_values&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.fill_values).map(([N,S])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),o.jsx("span",{className:"font-mono",children:typeof S=="number"?S.toFixed(4):String(S)})]},N))})]}),d.missing_counts&&o.jsxs("div",{className:"space-y-1 mt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.missing_counts).map(([N,S])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),o.jsx("span",{className:"font-mono",children:String(S)})]},N))}),d.total_missing!==void 0&&o.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",o.jsx("span",{className:"font-mono font-medium",children:d.total_missing})]})]}),!d.fill_values&&!d.missing_counts&&(u==null?void 0:u.status)==="success"&&o.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return o.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&o.jsx("div",{className:"shrink-0",children:o.jsx(Rs,{recommendations:p,onApply:v})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:N=>t({...e,method:N.target.value}),children:[o.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),o.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),o.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:N=>t({...e,strategy:N.target.value}),children:[o.jsx("option",{value:"mean",children:"Mean (Average)"}),o.jsx("option",{value:"median",children:"Median (Middle Value)"}),o.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),o.jsx("option",{value:"constant",children:"Constant Value"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:N=>t({...e,fill_value:N.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:N=>t({...e,n_neighbors:parseInt(N.target.value)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:N=>t({...e,weights:N.target.value}),children:[o.jsx("option",{value:"uniform",children:"Uniform"}),o.jsx("option",{value:"distance",children:"Distance"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:N=>t({...e,max_iter:parseInt(N.target.value)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:N=>t({...e,estimator:N.target.value}),children:[o.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),o.jsx("option",{value:"decision_tree",children:"Decision Tree"}),o.jsx("option",{value:"extra_trees",children:"Extra Trees"}),o.jsx("option",{value:"knn",children:"KNN"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:N=>t({...e,random_state:parseInt(N.target.value)})})]})]}),h&&o.jsx(k,{})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${h?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:w,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:x,onChange:N=>g(N.target.value)})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:b.length>0?b.map(N=>o.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:S=>{const E=S.target.checked?[...e.columns,N]:e.columns.filter(T=>T!==N);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),o.jsx("span",{className:"truncate",title:N,children:N})]}),(d==null?void 0:d.missing_counts)&&d.missing_counts[N]!==void 0&&o.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${d.missing_counts[N]} missing values filled`,children:d.missing_counts[N]})]},N)):o.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:l.length===0?"No columns available":"No matches found"})})]}),!h&&o.jsx(k,{})]})]})},Pue={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:AF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Cue,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:(e.method==="simple"||!e.method)&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},Oue=({config:e,onChange:t,nodeId:r})=>{var w;const a=(w=it(r||"").find(j=>j.datasetId))==null?void 0:w.datasetId,{data:i,isLoading:s}=Ze(a),l=ge(j=>j.executionResult),c=r?l==null?void 0:l.node_results[r]:null,u=y.useRef(null),[d,f]=y.useState(!1),[h,m]=y.useState("");y.useEffect(()=>{if(!u.current)return;const j=new ResizeObserver(k=>{for(const _ of k)f(_.contentRect.width>450)});return j.observe(u.current),()=>j.disconnect()},[]);const p=i?Object.values(i.columns).filter(j=>["int","float","number"].some(k=>{var _;return(_=j.dtype)==null?void 0:_.toLowerCase().includes(k)})).map(j=>j.name):[],v=p.filter(j=>j.toLowerCase().includes(h.toLowerCase())),x=()=>{t({...e,columns:v})},g=()=>{const j=e.columns.filter(k=>!v.includes(k));t({...e,columns:j})},b=()=>{if(!c||!c.metrics)return null;const j=c.metrics,k=j.columns;if(!k)return null;const _=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),o.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:_()})]}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:k.map((N,S)=>{var T,O,P,L,C,D,I;let E="";if(e.method==="standard"){const R=(T=j.mean)==null?void 0:T[S],A=(O=j.scale)==null?void 0:O[S];typeof R=="number"&&(E=`=${R.toFixed(2)}, =${typeof A=="number"?A.toFixed(2):"-"}`)}else if(e.method==="minmax"){const R=(P=j.data_min)==null?void 0:P[S],A=(L=j.data_max)==null?void 0:L[S];typeof R=="number"&&(E=`Min=${R.toFixed(2)}, Max=${typeof A=="number"?A.toFixed(2):"-"}`)}else if(e.method==="robust"){const R=(C=j.center)==null?void 0:C[S],A=(D=j.scale)==null?void 0:D[S];typeof R=="number"&&(E=`Med=${R.toFixed(2)}, IQR=${typeof A=="number"?A.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const R=(I=j.max_abs)==null?void 0:I[S];typeof R=="number"&&(E=`MaxAbs=${R.toFixed(2)}`)}return o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:N,children:N}),o.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:E})]},N)})})]})};return o.jsxs("div",{ref:u,className:`flex flex-col h-full w-full bg-background ${d?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${d?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${d?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:j=>t({...e,method:j.target.value}),children:[o.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),o.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),o.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),o.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:j=>t({...e,with_mean:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Center Data (with_mean)"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:j=>t({...e,with_std:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:j=>t({...e,feature_range_min:parseFloat(j.target.value)})}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:j=>t({...e,feature_range_max:parseFloat(j.target.value)})})]})]}),e.method==="robust"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:j=>t({...e,quantile_range_min:parseFloat(j.target.value)})}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:j=>t({...e,quantile_range_max:parseFloat(j.target.value)})})]}),o.jsxs("div",{className:"space-y-2 mt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:j=>t({...e,with_centering:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Center Data (Median)"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:j=>t({...e,with_scaling:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),d&&o.jsx(b,{})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${d?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:x,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:g,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:h,onChange:j=>m(j.target.value)})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:v.length>0?v.map(j=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(j),onChange:k=>{const _=k.target.checked?[...e.columns,j]:e.columns.filter(N=>N!==j);t({...e,columns:_})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:j,children:j})]},j)):o.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:s?"Loading schema...":p.length===0?"No numeric columns found":"No matches found"})})]}),!d&&o.jsx(b,{})]})]})},Aue={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:LF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:Oue,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})};function m3(){const[e,t]=y.useState(null),[r,n]=y.useState({width:0,height:0}),a=y.useCallback(i=>{if(!i||i.length===0)return;const{width:s,height:l}=i[0].contentRect;n({width:s,height:l})},[]);return y.useEffect(()=>{if(!e)return;const i=new ResizeObserver(a);return i.observe(e),()=>i.disconnect()},[e,a]),[t,r]}const Tue=({text:e})=>o.jsxs("div",{className:"group relative flex items-center",children:[o.jsx(hP,{className:"w-3 h-3 text-gray-400 cursor-help"}),o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,o.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),Mue=({isOpen:e,onClose:t,modelType:r,onSelect:n})=>{const[a,i]=y.useState(r),[s,l]=y.useState([]),[c,u]=y.useState(!1),[d,f]=y.useState(null);y.useEffect(()=>{e&&i(r)},[e,r]);const h=y.useCallback(()=>{a&&(u(!0),f(null),Nr.getTuningJobsForModel(a).then(m=>{l(m||[])}).catch(m=>{console.error("Failed to fetch jobs",m),f("Failed to load history.")}).finally(()=>u(!1)))},[a]);return y.useEffect(()=>{e&&h()},[e,h]),e?o.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:o.jsx(en,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Select parameters for:"}),o.jsxs("select",{value:a,onChange:m=>i(m.target.value),className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-blue-500 outline-none",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Pm,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:o.jsx(Gr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:c?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[o.jsx(is,{className:"w-8 h-8 animate-spin mb-2 text-blue-500"}),o.jsx("p",{className:"text-sm",children:"Loading history..."})]}):d?o.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx(ka,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:d}),o.jsx("button",{onClick:h,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):s.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx(Si,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),o.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):s.map(m=>{var p;return o.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-800 transition-all",children:o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",m.job_id.slice(0,8)]}),o.jsx("span",{className:"text-xs text-gray-400",children:m.end_time?new Date(m.end_time).toLocaleString():"Unknown Date"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[((p=m.result)==null?void 0:p.best_score)!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),o.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:m.result.best_score.toFixed(4)})]}),o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[o.jsx(ah,{className:"w-3 h-3"})," Model Ready"]})]})]}),o.jsxs("button",{onClick:()=>{var v;(v=m.result)!=null&&v.best_params&&(n({params:m.result.best_params,modelType:a}),t())},className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors flex items-center gap-1 shadow-sm shadow-blue-500/20",children:[o.jsx(ah,{className:"w-3 h-3"}),"Apply"]})]})},m.job_id)})})]})]}):null},Iue=({value:e,type:t,onChange:r,step:n,min:a,max:i})=>{const[s,l]=y.useState("");y.useEffect(()=>{l(e===null?"None":(e==null?void 0:e.toString())??"")},[e]);const c=()=>{const u=s.trim();if(u.toLowerCase()==="none"){r(null);return}if(t==="number"){if(u==="")return;const d=Number(u);isNaN(d)?l(e===null?"None":(e==null?void 0:e.toString())??""):r(d)}else t==="boolean"?u.toLowerCase()==="true"?r(!0):u.toLowerCase()==="false"?r(!1):l((e==null?void 0:e.toString())??""):r(u)};return o.jsx("input",{type:"text",value:s,onChange:u=>l(u.target.value),onBlur:c,placeholder:e===null?"None":"",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",...t==="number"?{step:n,min:a,max:i}:{}})},Due=({config:e,onChange:t,nodeId:r})=>{const[n,a]=y.useState([]),[i,s]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(()=>!sessionStorage.getItem("hide_info_model_training")),{toggleDrawer:f,setTab:h}=dl(),m=it(r||""),p=ge(C=>C.nodes),v=ge(C=>C.edges),g=(C=>{var R,A,M,z;const D=new Set,I=[C];for(;I.length>0;){const H=I.shift();if(D.has(H))continue;D.add(H);const B=p.find(q=>q.id===H);if(!B)continue;if(H!==C){if((R=B.data)!=null&&R.datasetId)return B.data.datasetId;if((A=B.data)!=null&&A.dataset_id)return B.data.dataset_id;if((M=B.data)!=null&&M.config){const q=B.data.config;if(q.datasetId)return q.datasetId;if(q.dataset_id)return q.dataset_id}if((z=B.data)!=null&&z.params){const q=B.data.params;if(q.datasetId)return q.datasetId;if(q.dataset_id)return q.dataset_id}}const X=Ci(B,p,v);for(const q of X)I.push(q.id)}})(r||""),{data:b}=Ze(g),w=b?Object.values(b.columns):[],[j,{width:k}]=m3(),_=k>450,[N,S]=y.useState("model"),[E,T]=y.useState(!1);y.useEffect(()=>{e.model_type&&(c(!0),Nr.getHyperparameters(e.model_type).then(a).catch(console.error).finally(()=>c(!1)))},[e.model_type]),y.useEffect(()=>{var D;const C=(D=m.find(I=>I.target_column))==null?void 0:D.target_column;C&&e.target_column!==C&&t({...e,target_column:C})},[m,e.target_column]);const O=async()=>{if(r)try{const C=fb(p,v);await Nr.runPipeline({...C,target_node_id:r,job_type:"training"}),alert("Training job submitted successfully!"),h("training"),f(!0)}catch(C){console.error("Failed to submit training job:",C),alert("Failed to submit training job. Check console for details.")}},P=o.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:e.model_type,onChange:C=>t({...e,model_type:C.target.value,hyperparameters:{}}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]}),o.jsx(Qt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),w.length===0&&o.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[o.jsx(Ux,{className:"w-3 h-3"}),o.jsx("span",{children:"Connect a dataset node to see available columns"})]}),o.jsxs("div",{className:"relative",children:[w.length>0?o.jsxs("select",{value:e.target_column,onChange:C=>t({...e,target_column:C.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Select target..."}),w.map(C=>o.jsx("option",{value:C.name,children:C.name},C.name))]}):o.jsx("input",{type:"text",value:e.target_column,onChange:C=>t({...e,target_column:C.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),w.length>0&&o.jsx(Qt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>T(!E),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Cm,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),o.jsx(ys,{className:`w-4 h-4 text-gray-400 transition-transform ${E?"rotate-90":""}`})]}),E&&o.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:C=>t({...e,cv_enabled:C.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&o.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),o.jsx("input",{type:"number",value:e.cv_folds??5,onChange:C=>t({...e,cv_folds:Number(C.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),o.jsxs("select",{value:e.cv_type??"k_fold",onChange:C=>t({...e,cv_type:C.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"k_fold",children:"K-Fold"}),o.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),o.jsx("option",{value:"time_series_split",children:"Time Series"}),o.jsx("option",{value:"shuffle_split",children:"Shuffle Split"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:C=>t({...e,cv_shuffle:C.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),L=()=>{const C=Object.keys(e.hyperparameters).length>0,D=I=>{if(I){const R={};n.forEach(A=>{R[A.name]=A.default}),t({...e,hyperparameters:R})}else t({...e,hyperparameters:{}})};return o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[o.jsx(Bx,{className:"w-4 h-4 text-blue-500"}),"Hyperparameters"]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("label",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2 cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:C,onChange:I=>D(I.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Customize"]})})]}),C?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex justify-end mb-2",children:o.jsxs("button",{onClick:()=>s(!0),className:"text-xs flex items-center gap-1.5 px-2 py-1 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:[o.jsx(qj,{className:"w-3 h-3"}),"Load Best"]})}),l?o.jsx("div",{className:"flex justify-center py-4",children:o.jsx(is,{className:"w-5 h-5 animate-spin text-blue-500"})}):n.map(I=>{var R;return o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:I.label}),I.description&&o.jsx(Tue,{text:I.description})]}),I.type==="select"?o.jsx("select",{value:e.hyperparameters[I.name]??I.default,onChange:A=>t({...e,hyperparameters:{...e.hyperparameters,[I.name]:A.target.value}}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:(R=I.options)==null?void 0:R.map(A=>o.jsx("option",{value:A.value,children:A.label},A.value))}):o.jsx(Iue,{type:I.type,value:e.hyperparameters[I.name]??I.default,onChange:A=>t({...e,hyperparameters:{...e.hyperparameters,[I.name]:A}}),step:I.step,min:I.min,max:I.max})]},I.name)}),n.length===0&&!l&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic text-center py-4",children:"No parameters available."})]}):o.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-dashed border-gray-200 dark:border-gray-700",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Using default hyperparameters."}),o.jsxs("button",{onClick:()=>s(!0),className:"mt-3 text-xs flex items-center gap-1.5 px-3 py-1.5 mx-auto bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded-md border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors shadow-sm",children:[o.jsx(qj,{className:"w-3 h-3"}),"Load Best Params"]})]})]})};return o.jsxs("div",{className:"flex flex-col h-full",ref:j,children:[u&&o.jsxs("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded text-xs text-blue-700 dark:text-blue-300 flex justify-between items-start gap-2",children:[o.jsx("span",{children:"Train a model using fixed parameters or defaults."}),o.jsx("button",{onClick:()=>{d(!1),sessionStorage.setItem("hide_info_model_training","true")},className:"text-blue-400 hover:text-blue-600 dark:hover:text-blue-200",children:o.jsx(Gr,{className:"w-3 h-3"})})]}),o.jsx(Mue,{isOpen:i,onClose:()=>s(!1),modelType:e.model_type,onSelect:C=>{C.modelType&&C.modelType!==e.model_type?t({...e,model_type:C.modelType,hyperparameters:C.params}):t({...e,hyperparameters:C.params})}}),!_&&o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${N==="model"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>S("model"),children:"Configuration"}),o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${N==="params"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>S("params"),children:"Hyperparameters"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:_?o.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[o.jsx("div",{className:"overflow-y-auto pr-2",children:P}),o.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:o.jsx(L,{})})]}):o.jsxs(o.Fragment,{children:[N==="model"&&P,N==="params"&&o.jsx(L,{})]})}),o.jsx("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:o.jsxs("button",{onClick:O,className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg shadow-purple-500/20 transition-all hover:shadow-purple-500/30 hover:-translate-y-0.5 active:translate-y-0",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)"},children:[o.jsx(vu,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-semibold",children:"Start Training"})]})})]})},Rue={type:"model_training",label:"Standard Training",category:"Modeling",description:"Train a model with fixed or default parameters.",icon:uF,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:Due,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",hyperparameters:{},cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42})},Lue=({text:e})=>o.jsxs("div",{className:"group relative flex items-center",children:[o.jsx(hP,{className:"w-3 h-3 text-gray-400 cursor-help"}),o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,o.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),$ue=({def:e,value:t,onChange:r})=>{const[n,a]=y.useState(""),[i,s]=y.useState(null);y.useEffect(()=>{a(Array.isArray(t)?t.map(u=>u===null?"None":u).join(", "):"")},[t]);const l=u=>{if(!u.trim())return[];const d=u.split(",").map(h=>h.trim()).filter(h=>h!==""),f=[];for(const h of d){if(h.toLowerCase()==="none"){f.push(null);continue}if(e.type==="number"){const m=Number(h);if(isNaN(m))throw new Error(`"${h}" is not a valid number`);f.push(m)}else if(e.type==="boolean"){const m=h.toLowerCase();if(m==="true")f.push(!0);else if(m==="false")f.push(!1);else throw new Error(`"${h}" must be true or false`)}else f.push(h)}return f},c=()=>{try{const u=l(n);s(null),JSON.stringify(u)!==JSON.stringify(t)&&r(u)}catch(u){s(u.message)}};return o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[e.label,e.description&&o.jsx(Lue,{text:e.description})]}),o.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:e.type})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:`w-full border rounded px-2 py-1.5 text-sm font-mono bg-white dark:bg-gray-900 dark:text-gray-100 outline-none transition-all ${i?"border-red-500 focus:ring-2 focus:ring-red-500/20":"border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500"}`,placeholder:e.type==="select"?"e.g. lbfgs, liblinear":"e.g. 10, 50, 100",value:n,onChange:u=>{a(u.target.value),s(null)},onBlur:c}),e.type==="select"&&e.options&&o.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.options.map(u=>o.jsx("button",{onClick:()=>{const d=l(n),h=d.includes(u.value)?d.filter(m=>m!==u.value):[...d,u.value];r(h)},className:`text-[10px] px-1.5 py-0.5 rounded border transition-colors ${t.includes(u.value)?"bg-purple-100 border-purple-200 text-purple-700 dark:bg-purple-900/30 dark:border-purple-800 dark:text-purple-300":"bg-gray-50 border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:u.label},u.value))})]}),i&&o.jsxs("p",{className:"text-[10px] text-red-500 flex items-center gap-1",children:[o.jsx(ka,{className:"w-3 h-3"}),i]})]})},zue=({isOpen:e,onClose:t,modelType:r})=>{const[n,a]=y.useState(r),[i,s]=y.useState([]),[l,c]=y.useState(!1),[u,d]=y.useState(null);y.useEffect(()=>{e&&a(r)},[e,r]);const f=y.useCallback(()=>{n&&(c(!0),d(null),Nr.getTuningJobsForModel(n).then(h=>{console.log("Fetched jobs for",n,h),s(h||[])}).catch(h=>{console.error("Failed to fetch jobs",h),d("Failed to load history.")}).finally(()=>c(!1)))},[n]);return y.useEffect(()=>{e&&f()},[e,f]),e?o.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:o.jsx(en,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View parameters for:"}),o.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-purple-500 outline-none",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Pm,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:o.jsx(Gr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:l?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[o.jsx(is,{className:"w-8 h-8 animate-spin mb-2 text-purple-500"}),o.jsx("p",{className:"text-sm",children:"Loading history..."})]}):u?o.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx(ka,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:u}),o.jsx("button",{onClick:f,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):i.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx(Si,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),o.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):i.map(h=>{var m;return o.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-purple-200 dark:hover:border-purple-800 transition-all",children:o.jsx("div",{className:"flex justify-between items-start mb-3",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",h.job_id.slice(0,8)]}),o.jsx("span",{className:"text-xs text-gray-400",children:h.end_time?new Date(h.end_time).toLocaleString():"Unknown Date"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[((m=h.result)==null?void 0:m.best_score)!==void 0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),o.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:h.result.best_score.toFixed(4)})]}),o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[o.jsx(ah,{className:"w-3 h-3"})," Model Ready"]})]})]})})},h.job_id)})})]})]}):null},Fue=({config:e,onChange:t,nodeId:r})=>{const[n,a]=y.useState([]),[i,s]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState("config"),[f,h]=y.useState(!1),[m,p]=y.useState(()=>!sessionStorage.getItem("hide_info_model_optimizer")),[v,{width:x}]=m3(),g=x>450,{toggleDrawer:b,setTab:w}=dl(),j=it(r||""),k=ge(D=>D.nodes),_=ge(D=>D.edges),S=(D=>{var A,M,z,H;const I=new Set,R=[D];for(;R.length>0;){const B=R.shift();if(I.has(B))continue;I.add(B);const X=k.find(J=>J.id===B);if(!X)continue;if(B!==D){if((A=X.data)!=null&&A.datasetId)return X.data.datasetId;if((M=X.data)!=null&&M.dataset_id)return X.data.dataset_id;const J=X.data;if((z=J==null?void 0:J.config)!=null&&z.datasetId)return J.config.datasetId;if((H=J==null?void 0:J.config)!=null&&H.dataset_id)return J.config.dataset_id}const q=Ci(X,k,_);for(const J of q)R.push(J.id)}})(r||""),{data:E}=Ze(S),T=E?Object.values(E.columns):[];y.useEffect(()=>{var I;const D=(I=j.find(R=>R.target_column))==null?void 0:I.target_column;D&&e.target_column!==D&&t({...e,target_column:D})},[j,e.target_column]);const O=y.useRef(null);y.useEffect(()=>{(async()=>{const I=e.model_type;if(!I)return;const R=I!==O.current;if(!(!R&&n.length>0)){s(!0);try{const A=await Nr.getHyperparameters(I);if(a(A),R||Object.keys(e.search_space||{}).length===0){const M=await Nr.getDefaultSearchSpace(I);t({...e,search_space:M||{}}),O.current=I}}catch(A){console.error("Failed to load model hyperparameters:",A)}finally{s(!1)}}})()},[e.model_type]);const P=async()=>{if(r)try{const D=fb(k,_);await Nr.runPipeline({...D,target_node_id:r,job_type:"tuning"}),alert("Tuning job submitted successfully!"),w("tuning"),b(!0)}catch(D){console.error("Failed to submit tuning job:",D),alert("Failed to submit tuning job.")}},L=o.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:e.model_type,onChange:D=>{O.current=null,t({...e,model_type:D.target.value,search_space:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]}),o.jsx(Qt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),T.length===0&&o.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[o.jsx(Ux,{className:"w-3 h-3"}),o.jsx("span",{children:"Connect a dataset node to see available columns"})]}),o.jsxs("div",{className:"relative",children:[T.length>0?o.jsxs("select",{value:e.target_column,onChange:D=>t({...e,target_column:D.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Select target..."}),T.map(D=>o.jsx("option",{value:D.name,children:D.name},D.name))]}):o.jsx("input",{type:"text",value:e.target_column,onChange:D=>t({...e,target_column:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),T.length>0&&o.jsx(Qt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tuning Strategy"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Search Method"}),o.jsxs("select",{value:e.search_strategy??"random",onChange:D=>t({...e,search_strategy:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"random",children:"Random Search"}),o.jsx("option",{value:"grid",children:"Grid Search"}),o.jsx("option",{value:"halving_grid",children:"Successive Halving (Grid)"}),o.jsx("option",{value:"halving_random",children:"Successive Halving (Randomized)"}),o.jsx("option",{value:"optuna",children:"Optuna Search"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Metric"}),o.jsxs("select",{value:e.metric,onChange:D=>t({...e,metric:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"accuracy",children:"Accuracy"}),o.jsx("option",{value:"f1",children:"F1 Score"}),o.jsx("option",{value:"roc_auc",children:"ROC AUC"}),o.jsx("option",{value:"mse",children:"MSE"}),o.jsx("option",{value:"r2",children:"R2 Score"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Trials"}),o.jsx("input",{type:"number",value:e.n_trials,onChange:D=>t({...e,n_trials:Number(D.target.value)}),disabled:["grid","halving_grid"].includes(e.search_strategy),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 disabled:opacity-50",min:1})]})]})]}),o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>h(!f),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Cm,{className:"w-4 h-4 text-purple-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),o.jsx(ys,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-90":""}`})]}),f&&o.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:D=>t({...e,cv_enabled:D.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&o.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),o.jsx("input",{type:"number",value:e.cv_folds??5,onChange:D=>t({...e,cv_folds:Number(D.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),o.jsxs("select",{value:e.cv_type??"k_fold",onChange:D=>t({...e,cv_type:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"k_fold",children:"K-Fold"}),o.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),o.jsx("option",{value:"time_series_split",children:"Time Series"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:D=>t({...e,cv_shuffle:D.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),C=o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[o.jsx(Bx,{className:"w-4 h-4 text-purple-500"}),"Hyperparameters"]})}),i?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(is,{className:"w-6 h-6 animate-spin text-purple-500"})}):o.jsxs("div",{className:"space-y-3",children:[n.map(D=>{var I;return o.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:o.jsx($ue,{def:D,value:((I=e.search_space)==null?void 0:I[D.name])||[],onChange:R=>{t({...e,search_space:{...e.search_space,[D.name]:R}})}})},`${e.model_type}-${D.name}`)}),n.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hyperparameters available for this model."})]})]});return o.jsxs("div",{className:"flex flex-col h-full",ref:v,children:[m&&o.jsxs("div",{className:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded text-xs text-purple-700 dark:text-purple-300 flex justify-between items-start gap-2",children:[o.jsx("span",{children:"Automatically explore configurations to find the best performing model."}),o.jsx("button",{onClick:()=>{p(!1),sessionStorage.setItem("hide_info_model_optimizer","true")},className:"text-purple-400 hover:text-purple-600 dark:hover:text-purple-200",children:o.jsx(Gr,{className:"w-3 h-3"})})]}),!g&&o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="config"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>d("config"),children:"Configuration"}),o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="search_space"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>d("search_space"),children:"Search Space"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:g?o.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[o.jsx("div",{className:"overflow-y-auto pr-2",children:L}),o.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:C})]}):o.jsxs(o.Fragment,{children:[u==="config"&&L,u==="search_space"&&C]})}),o.jsxs("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:[o.jsxs("button",{onClick:P,className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg shadow-purple-500/20 transition-all hover:shadow-purple-500/30 hover:-translate-y-0.5 active:translate-y-0",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)"},children:[o.jsx(vu,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-semibold",children:"Start Optimization"})]}),o.jsxs("button",{onClick:()=>c(!0),className:"text-xs text-gray-500 hover:text-purple-600 dark:text-gray-400 dark:hover:text-purple-400 flex items-center gap-1.5 transition-colors px-3 py-1 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800",children:[o.jsx(en,{className:"w-3.5 h-3.5"}),"View Best Parameters History"]})]}),o.jsx(zue,{isOpen:l,onClose:()=>c(!1),modelType:e.model_type})]})},Bue={type:"hyperparameter_tuning",label:"Train Model and Optimize",category:"Modeling",description:"Automatically optimize model performance.",icon:zF,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Best Model",type:"model"}],settings:Fue,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",n_trials:10,metric:"accuracy",search_strategy:"random",cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42,random_state:42,search_space:{}})},Uue=({config:e,onChange:t})=>{const r=["train","validation","test"],n=["accuracy","precision","recall","f1","roc_auc","mse","rmse","r2"],a=s=>{const l=e.splits.includes(s)?e.splits.filter(c=>c!==s):[...e.splits,s];t({...e,splits:l})},i=s=>{const l=e.metrics.includes(s)?e.metrics.filter(c=>c!==s):[...e.metrics,s];t({...e,metrics:l})};return o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Evaluation Splits"}),o.jsx("div",{className:"space-y-2",children:r.map(s=>o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.splits.includes(s),onChange:()=>a(s),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsxs("span",{className:"capitalize",children:[s," Set"]})]},s))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metrics to Track"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(s=>o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.metrics.includes(s),onChange:()=>i(s),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"uppercase",children:s.replace("_"," ")})]},s))})]})]})},Hue={type:"model_evaluation",label:"Model Evaluation",category:"Evaluation",description:"Evaluate model performance on specific splits.",icon:Cm,inputs:[{id:"model",label:"Trained Model",type:"model"}],outputs:[{id:"report",label:"Evaluation Report",type:"report"}],settings:Uue,validate:e=>({isValid:e.splits.length>0,message:e.splits.length===0?"Select at least one split to evaluate":void 0}),getDefaultConfig:()=>({splits:["validation"],metrics:["accuracy","f1"]})},Vue=({config:e,onChange:t,nodeId:r})=>{var j;const n=it(r||""),a=ge(k=>k.nodes),i=ge(k=>k.edges),s=ge(k=>k.executionResult),c=(k=>{var S;const _=new Set,N=[k];for(;N.length>0;){const E=N.shift();if(_.has(E))continue;_.add(E);const T=a.find(P=>P.id===E);if(!T)continue;if(E!==k&&((S=T.data)!=null&&S.datasetId))return T.data.datasetId;const O=Ci(T,a,i);for(const P of O)N.push(P.id)}})(r||""),u=(j=n.find(k=>k.target_column))==null?void 0:j.target_column;y.useEffect(()=>{const k={};c&&e.datasetId!==c&&(k.datasetId=c),u&&e.target_column!==u&&(k.target_column=u),Object.keys(k).length>0&&t({...e,...k})},[c,u,e.datasetId,e.target_column,t]);const{data:d,isLoading:f}=Ze(c||e.datasetId),h=d?Object.values(d.columns).map(k=>k.name):[],m=y.useRef(null),[p,v]=y.useState(!1);y.useEffect(()=>{if(!m.current)return;const k=new ResizeObserver(_=>{for(const N of _)v(N.contentRect.width>450)});return k.observe(m.current),()=>k.disconnect()},[]);const x=()=>{const k=e.problem_type||"auto";return k==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:k==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},g=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),b=["select_from_model","rfe"].includes(e.method),w=()=>{const k=s==null?void 0:s.node_results[r||""];if(!k)return null;const _=k.metrics||{},N=_.dropped_columns,S=_.feature_scores,E=_.p_values,T=_.feature_importances,O=_.variances,P=_.ranking;return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),k.error&&o.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:k.error}),N&&N.length>0?o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:o.jsxs("span",{children:["Dropped Columns (",N.length,")"]})}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:N.map(L=>{const C=S==null?void 0:S[L],D=E==null?void 0:E[L],I=T==null?void 0:T[L],R=O==null?void 0:O[L],A=P==null?void 0:P[L];return o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:L,children:L}),o.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[C!==void 0&&o.jsxs("span",{children:["Score: ",C.toFixed(4)]}),D!==void 0&&o.jsxs("span",{children:["p-val: ",D.toExponential(2)]}),I!==void 0&&o.jsxs("span",{children:["Imp: ",I.toFixed(4)]}),R!==void 0&&o.jsxs("span",{children:["Var: ",R.toFixed(4)]}),A!==void 0&&o.jsxs("span",{children:["Rank: ",A]})]})]},L)})})]}):k.status==="success"&&o.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[o.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(S||T)&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(S||T||{}).sort(([,L],[,C])=>C-L).slice(0,5).map(([L,C])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"truncate max-w-[120px]",title:L,children:L}),o.jsx("span",{className:"font-mono text-[10px]",children:C.toFixed(4)})]},L))})]})]})};return o.jsxs("div",{ref:m,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!c&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),f&&!!c&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:k=>t({...e,method:k.target.value}),children:[o.jsxs("optgroup",{label:"Simple",children:[o.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),o.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),o.jsxs("optgroup",{label:"Univariate",children:[o.jsx("option",{value:"select_k_best",children:"Select K Best"}),o.jsx("option",{value:"select_percentile",children:"Select Percentile"}),o.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),o.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),o.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),o.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),o.jsxs("optgroup",{label:"Model Based",children:[o.jsx("option",{value:"select_from_model",children:"Select From Model"}),o.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),u?o.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[u," ",o.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:k=>t({...e,target_column:k.target.value}),children:[o.jsx("option",{value:"",children:"Select Target..."}),h.map(k=>o.jsx("option",{value:k,children:k},k))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(g||b)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:k=>t({...e,problem_type:k.target.value}),children:[o.jsx("option",{value:"auto",children:"Auto-detect"}),o.jsx("option",{value:"classification",children:"Classification"}),o.jsx("option",{value:"regression",children:"Regression"})]})]}),p&&o.jsx(w,{})]}),o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[o.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:k=>t({...e,correlation_method:k.target.value}),children:[o.jsx("option",{value:"pearson",children:"Pearson"}),o.jsx("option",{value:"spearman",children:"Spearman"}),o.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),g&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:k=>t({...e,score_func:k.target.value}),children:[o.jsx("option",{value:"",children:"Auto (Default)"}),x().map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:k=>t({...e,k:parseInt(k.target.value)})})]}),e.method==="select_percentile"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:k=>t({...e,percentile:parseInt(k.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),o.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:k=>t({...e,alpha:parseFloat(k.target.value)})})]}),e.method==="generic_univariate_select"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Mode"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:k=>t({...e,mode:k.target.value}),children:[o.jsx("option",{value:"k_best",children:"K Best"}),o.jsx("option",{value:"percentile",children:"Percentile"}),o.jsx("option",{value:"fpr",children:"FPR"}),o.jsx("option",{value:"fdr",children:"FDR"}),o.jsx("option",{value:"fwe",children:"FWE"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),o.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:k=>t({...e,param:parseFloat(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),b&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:k=>t({...e,estimator:k.target.value}),children:[o.jsx("option",{value:"auto",children:"Auto"}),o.jsx("option",{value:"RandomForest",children:"Random Forest"}),o.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),o.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:k=>t({...e,threshold:k.target.value})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Step"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:k=>t({...e,step:parseInt(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[o.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:k=>t({...e,drop_columns:k.target.checked})}),o.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!p&&o.jsx(w,{})]})]})]})},Wue={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:mP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:Vue,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},Kue=({config:e,onChange:t,nodeId:r})=>{var g;const n=it(r||""),a=ge(b=>b.nodes),i=ge(b=>b.edges),l=(b=>{var k;const w=new Set,j=[b];for(;j.length>0;){const _=j.shift();if(w.has(_))continue;w.add(_);const N=a.find(E=>E.id===_);if(!N)continue;if(_!==b&&((k=N.data)!=null&&k.datasetId))return N.data.datasetId;const S=Ci(N,a,i);for(const E of S)j.push(E.id)}})(r||""),c=(g=n.find(b=>b.target_column))==null?void 0:g.target_column;Vr.useEffect(()=>{const b={};l&&e.datasetId!==l&&(b.datasetId=l),c&&e.target_column!==c&&(b.target_column=c),Object.keys(b).length>0&&t({...e,...b})},[l,c,e.datasetId,e.target_column,t]);const{data:u,isLoading:d}=Ze(l||e.datasetId),f=u?Object.values(u.columns).map(b=>b.name):[],h=e.validation_size||0,m=1-e.test_size-h,p=Vr.useRef(null),[v,x]=Vr.useState(!1);return Vr.useEffect(()=>{if(!p.current)return;const b=new ResizeObserver(w=>{for(const j of w)x(j.contentRect.width>450)});return b.observe(p.current),()=>b.disconnect()},[]),o.jsxs("div",{ref:p,className:`flex flex-col h-full w-full bg-background ${v?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!l&&!e.datasetId&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),d&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${v?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${v?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),o.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:b=>t({...e,test_size:parseFloat(b.target.value)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),o.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:h,onChange:b=>t({...e,validation_size:parseFloat(b.target.value)})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(m*100),"% Training, ",Math.round(h*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),m<=0&&o.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:b=>t({...e,random_state:parseInt(b.target.value)})})]})]}),o.jsxs("div",{className:`space-y-4 ${v?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:b=>t({...e,shuffle:b.target.checked})}),o.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:b=>t({...e,stratify:b.target.checked})}),o.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),o.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:b=>t({...e,target_column:b.target.value}),disabled:!e.stratify,children:[o.jsx("option",{value:"",children:"-- Select Target --"}),f.map(b=>o.jsx("option",{value:b,children:b},b))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},que={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:vP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:Kue,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},Yue=({config:e,onChange:t,nodeId:r})=>{const n=ge(u=>u.nodes),a=ge(u=>u.edges),s=(u=>{var h;const d=new Set,f=[u];for(;f.length>0;){const m=f.shift();if(d.has(m))continue;d.add(m);const p=n.find(x=>x.id===m);if(!p)continue;if(m!==u&&((h=p.data)!=null&&h.datasetId))return p.data.datasetId;const v=Ci(p,n,a);for(const x of v)f.push(x.id)}})(r||"");Vr.useEffect(()=>{s&&e.datasetId!==s&&t({...e,datasetId:s})},[s,e.datasetId,t]);const{data:l}=Ze(s||e.datasetId),c=l?Object.values(l.columns).map(u=>u.name):[];return o.jsx("div",{className:"p-4 space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:u=>t({...e,target_column:u.target.value}),children:[o.jsx("option",{value:"",children:"-- Select Target --"}),c.map(u=>o.jsx("option",{value:u,children:u},u))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},Xue={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:vP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:Yue,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},Gue=({config:e,onChange:t,nodeId:r})=>{var u;const a=(u=it(r||"").find(d=>d.datasetId))==null?void 0:u.datasetId,{isLoading:i}=Ze(a),s=ge(d=>d.executionResult),l=r?s==null?void 0:s.node_results[r]:null,c=l==null?void 0:l.metrics;return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:d=>t({...e,drop_if_any_missing:d.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),o.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[o.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:d=>t({...e,missing_threshold:parseInt(d.target.value)}),className:"flex-1"}),o.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),c&&c.DropMissingRows_rows_removed!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(en,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),o.jsx("span",{className:"font-medium text-destructive",children:c.DropMissingRows_rows_removed})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),o.jsx("span",{className:"font-medium",children:c.DropMissingRows_rows_remaining})]}),o.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),o.jsx("span",{className:"font-medium",children:c.DropMissingRows_rows_total})]})]})]})]})},Que={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:wF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Gue,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},Zue=({config:e,onChange:t,nodeId:r})=>{var x;const a=(x=it(r||"").find(g=>g.datasetId))==null?void 0:x.datasetId,{data:i,isLoading:s}=Ze(a),l=i?Object.values(i.columns).map(g=>g.name):[],c=ge(g=>g.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,[f,h]=y.useState(""),m=y.useMemo(()=>l.filter(g=>g.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,subset:m})},v=()=>{const g=e.subset.filter(b=>!m.includes(b));t({...e,subset:g})};return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:g=>t({...e,keep:g.target.value}),children:[o.jsx("option",{value:"first",children:"Keep First Occurrence"}),o.jsx("option",{value:"last",children:"Keep Last Occurrence"}),o.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:g=>h(g.target.value)}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:v,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[m.map(g=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(g),onChange:b=>{const w=b.target.checked?[...e.subset,g]:e.subset.filter(j=>j!==g);t({...e,subset:w})}}),g]},g)),m.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.Deduplicate_rows_removed!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(en,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),o.jsx("span",{className:"font-medium text-destructive",children:d.Deduplicate_rows_removed})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),o.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_remaining})]}),o.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),o.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_total})]})]})]})]})},Jue={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:gF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:Zue,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},ede=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],tde=({config:e,onChange:t,nodeId:r})=>{var b;const a=(b=it(r||"").find(w=>w.datasetId))==null?void 0:b.datasetId,{data:i,isLoading:s}=Ze(a),l=i?Object.values(i.columns).map(w=>w.name):[],c=ge(w=>w.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=y.useRef(null),[h,m]=y.useState(!1);y.useEffect(()=>{if(!f.current)return;const w=new ResizeObserver(j=>{for(const k of j)m(k.contentRect.width>450)});return w.observe(f.current),()=>w.disconnect()},[]);const p=()=>{if(l.length===0)return;const w=l.find(j=>!e.column_types[j])||l[0];t({...e,column_types:{...e.column_types,[w]:"float"}})},v=w=>{const j={...e.column_types};delete j[w],t({...e,column_types:j})},x=(w,j)=>{if(w===j)return;const k=e.column_types[w],_={...e.column_types};delete _[w],_[j]=k,t({...e,column_types:_})},g=(w,j)=>{t({...e,column_types:{...e.column_types,[w]:j}})};return o.jsxs("div",{ref:f,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),o.jsx("button",{onClick:p,disabled:!a||l.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:o.jsx(Ts,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:`space-y-2 ${h?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([w,j])=>o.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[o.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[o.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:w,onChange:k=>x(w,k.target.value),children:l.map(k=>o.jsx("option",{value:k,disabled:k!==w&&!!e.column_types[k],children:k},k))}),o.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:j,onChange:k=>g(w,k.target.value),children:ede.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))})]}),o.jsx("button",{onClick:()=>v(w),className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:o.jsx(Ei,{className:"w-4 h-4"})})]},w)),Object.keys(e.column_types).length===0&&o.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${h?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),d&&(d.cast_errors!==void 0||d.casted_columns_count!==void 0)&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(en,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[d.casted_columns_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),o.jsx("span",{className:"font-medium",children:d.casted_columns_count})]}),d.cast_errors!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),o.jsx("span",{className:"font-medium text-destructive",children:d.cast_errors})]})]})]})]})},rde={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:bF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:tde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},nde=({config:e,onChange:t,nodeId:r})=>{var x;const a=(x=it(r||"").find(g=>g.datasetId))==null?void 0:x.datasetId,{data:i,isLoading:s}=Ze(a),l=i?Object.values(i.columns).map(g=>g.name):[],c=ge(g=>g.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,[f,h]=y.useState(""),m=y.useMemo(()=>l.filter(g=>g.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,columns:m})},v=()=>{const g=e.columns.filter(b=>!m.includes(b));t({...e,columns:g})};return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:g=>t({...e,flag_suffix:g.target.value}),placeholder:"_was_missing"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:g=>h(g.target.value)}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:v,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[m.map(g=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(g),onChange:b=>{const w=b.target.checked?[...e.columns,g]:e.columns.filter(j=>j!==g);t({...e,columns:w})}}),g]},g)),m.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.missing_indicators_created!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(en,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),o.jsx("span",{className:"font-medium text-primary",children:d.missing_indicators_created})]}),d.missing_indicators_columns&&Array.isArray(d.missing_indicators_columns)&&d.missing_indicators_columns.length>0&&o.jsxs("div",{className:"pt-1 border-t mt-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:d.missing_indicators_columns.map(g=>o.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:g},g))})]})]})]})]})},ade={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:jF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:nde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},ide=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=it(r||"").find(_=>_.datasetId))==null?void 0:k.datasetId,{data:i,isLoading:s}=Ze(a),[l,c]=y.useState(""),u=y.useRef(null),[d,f]=y.useState(!1),h=ge(_=>_.executionResult),m=r?h==null?void 0:h.node_results[r]:null,p=m==null?void 0:m.metrics,x=((h==null?void 0:h.recommendations)||[]).filter(_=>_.suggested_node_type==="encoding"||_.type.includes("encoding")||_.type.includes("cardinality"));y.useEffect(()=>{if(!u.current)return;const _=new ResizeObserver(N=>{for(const S of N)f(S.contentRect.width>400)});return _.observe(u.current),()=>_.disconnect()},[]);const g=i?Object.values(i.columns).filter(_=>["object","string","category","bool"].some(N=>{var S;return(S=_.dtype)==null?void 0:S.toLowerCase().includes(N)})).map(_=>_.name):[],b=g.filter(_=>_.toLowerCase().includes(l.toLowerCase())),w=()=>{t({...e,columns:[...g]})},j=()=>{t({...e,columns:[]})};return o.jsxs("div",{ref:u,className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:`grid gap-4 ${d?"grid-cols-2":"grid-cols-1"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:_=>t({...e,method:_.target.value}),children:[o.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),o.jsx("option",{value:"dummy",children:"Dummy Encoding"}),o.jsx("option",{value:"label",children:"Label Encoding"}),o.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),o.jsx("option",{value:"target",children:"Target Encoding"}),o.jsx("option",{value:"hash",children:"Hash Encoding"})]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]}),o.jsxs("div",{className:"pt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:e.drop_original!==!1,onChange:_=>t({...e,drop_original:_.target.checked}),className:"rounded border-gray-300"}),"Drop Original Column"]}),o.jsx("p",{className:"text-[10px] text-muted-foreground ml-5",children:"If unchecked, keeps the original column alongside encoded features."})]})]}),o.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:_=>t({...e,drop_first:_.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),o.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:_=>t({...e,handle_unknown:_.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[o.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),o.jsx("option",{value:"error",children:"Raise Error"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:_=>t({...e,target_column:_.target.value}),children:[o.jsx("option",{value:"",children:"Select a target column..."}),i&&Object.values(i.columns).map(_=>o.jsxs("option",{value:_.name,children:[_.name," (",_.dtype,")"]},_.name))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:_=>t({...e,n_features:parseInt(_.target.value)})})]}),e.method==="ordinal"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:_=>t({...e,unknown_value:parseInt(_.target.value)}),title:"Integer to assign for unknown categories."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:_=>t({...e,missing_code:parseInt(_.target.value)}),title:"Integer to assign for missing or unknown categories."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:l,onChange:_=>c(_.target.value)}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:w,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),g.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[b.map(_=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(_),onChange:N=>{const S=N.target.checked?[...e.columns,_]:e.columns.filter(E=>E!==_);t({...e,columns:S})}}),_]},_)),b.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',l,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),x.length>0&&o.jsx(Rs,{recommendations:x}),p&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(en,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[p.encoded_columns_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),o.jsx("span",{className:"font-medium",children:p.encoded_columns_count})]}),p.new_features_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),o.jsx("span",{className:"font-medium text-primary",children:p.new_features_count})]}),p.categories_count&&o.jsxs("div",{className:"mt-2 border-t pt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(p.categories_count).map(([_,N])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),o.jsx("span",{className:"font-mono",children:N})]},_))})]}),p.classes_count&&o.jsxs("div",{className:"mt-2 border-t pt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(p.classes_count).map(([_,N])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),o.jsx("span",{className:"font-mono",children:N})]},_))})]})]})]})]})},sde={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:_F,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:ide,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},ode=({config:e,onChange:t,nodeId:r})=>{const n=ge(N=>N.nodes),a=ge(N=>N.edges),s=(N=>{var T;const S=new Set,E=[N];for(;E.length>0;){const O=E.shift();if(S.has(O))continue;S.add(O);const P=n.find(C=>C.id===O);if(!P)continue;if(O!==N&&((T=P.data)!=null&&T.datasetId))return P.data.datasetId;const L=Ci(P,n,a);for(const C of L)E.push(C.id)}})(r||""),{data:l,isLoading:c}=Ze(s),u=wl(r||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),d=ge(N=>N.executionResult),f=r?d==null?void 0:d.node_results[r]:null,h=y.useRef(null),[m,p]=y.useState(!1),[v,x]=y.useState("");y.useEffect(()=>{if(!h.current)return;const N=new ResizeObserver(S=>{for(const E of S)p(E.contentRect.width>450)});return N.observe(h.current),()=>N.disconnect()},[]);const g=l?Object.values(l.columns).filter(N=>["int","float","number"].some(S=>{var E;return(E=N.dtype)==null?void 0:E.toLowerCase().includes(S)})).map(N=>N.name):[],b=g.filter(N=>N.toLowerCase().includes(v.toLowerCase())),w=()=>{t({...e,columns:b})},j=()=>{const N=e.columns.filter(S=>!b.includes(S));t({...e,columns:N})},k=()=>{if(!f||!f.metrics)return null;const N=f.metrics,S=N.rows_removed,E=N.rows_remaining,T=N.rows_total??(S??0)+(E??0),O=N.bounds,P=N.stats,L=N.contamination,C=N.warnings,D=N.values_clipped;if(S===void 0&&!O&&!P&&L===void 0&&!C&&D===void 0)return null;const I=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),o.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:I()})]}),C&&C.length>0&&o.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[o.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),o.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:C.map((R,A)=>o.jsx("li",{className:"truncate",title:R,children:R},A))})]}),e.method==="winsorize"?o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"font-mono font-medium text-blue-600",children:D??0}),o.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):(S!==void 0||T!==void 0)&&o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center justify-end gap-1",children:[o.jsx("span",{className:"font-mono font-medium text-destructive",children:S??0}),T>0&&o.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((S??0)/T*100).toFixed(1),"%)"]})]}),E!==void 0&&o.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[E," remaining"]})]})]}),L!==void 0&&o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),o.jsxs("span",{className:"font-mono font-medium",children:[(L*100).toFixed(1),"%"]})]}),O&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(O).map(([R,A])=>o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),o.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",A.lower.toFixed(2),", ",A.upper.toFixed(2),"]"]})]},R))})]}),P&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(P).map(([R,A])=>o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),o.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",A.mean.toFixed(2),", =",A.std.toFixed(2)]})]},R))})]})]})},_=()=>{const N=[];if(f&&f.metrics){const E=f.metrics,T=E.rows_removed,P=E.rows_total??E[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if(T!==void 0&&P!==void 0&&P>0){const L=T/P;L>.2?N.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):L===0&&e.method!=="winsorize"&&N.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&N.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const S=[...u,...N];return S.length===0?null:o.jsx("div",{className:"mt-4",children:o.jsx(Rs,{recommendations:S})})};return o.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${m?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!s&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${m?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${m?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:N=>t({...e,method:N.target.value}),children:[o.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),o.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),o.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),o.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:N=>t({...e,multiplier:parseFloat(N.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:N=>t({...e,threshold:parseFloat(N.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:N=>t({...e,lower_percentile:parseFloat(N.target.value)})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:N=>t({...e,upper_percentile:parseFloat(N.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),o.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:N=>t({...e,contamination:parseFloat(N.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),m&&o.jsxs(o.Fragment,{children:[o.jsx(k,{}),o.jsx(_,{})]})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${m?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:w,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:v,onChange:N=>x(N.target.value)})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:b.length>0?b.map(N=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:S=>{const E=S.target.checked?[...e.columns,N]:e.columns.filter(T=>T!==N);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:N,children:N})]},N)):o.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:c?"Loading schema...":g.length===0?"No numeric columns found":"No matches found"})})]}),!m&&o.jsxs(o.Fragment,{children:[o.jsx(k,{}),o.jsx(_,{})]})]})]})},lde={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:$F,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:ode,validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},sy={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},cde=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",ude=({allColumns:e,selectedColumns:t,onChange:r})=>{const[n,a]=y.useState(""),i=y.useMemo(()=>e.filter(u=>u.toLowerCase().includes(n.toLowerCase())),[e,n]),s=()=>{const u=Array.from(new Set([...t,...i]));r(u)},l=()=>{const u=t.filter(d=>!i.includes(d));r(u)},c=u=>{t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return o.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[o.jsx("div",{className:"flex gap-2 items-center",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ms,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),o.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:n,onChange:u=>a(u.target.value)})]})}),o.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[o.jsx("button",{onClick:s,className:"text-primary hover:underline font-medium",children:"Select All"}),o.jsx("span",{className:"text-muted-foreground",children:"|"}),o.jsx("button",{onClick:l,className:"text-muted-foreground hover:underline",children:"None"}),o.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:i.length===0?o.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',n,'"']}):i.map(u=>o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:t.includes(u),onChange:()=>c(u),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:u,children:u})]},u))})]})},dde=({config:e,onChange:t,nodeId:r})=>{var j;const n=y.useMemo(()=>e||{transformations:[]},[e]),a=y.useMemo(()=>Array.isArray(n.transformations)?n.transformations:[],[n.transformations]),[i,s]=y.useState([]),l=y.useRef(null),[c,u]=y.useState(!1);y.useEffect(()=>{if(!l.current)return;const k=new ResizeObserver(_=>{for(const N of _)u(N.contentRect.width>450)});return k.observe(l.current),()=>k.disconnect()},[]);const f=(j=it(r||"").find(k=>k.datasetId))==null?void 0:j.datasetId,{data:h}=Ze(f),m=y.useMemo(()=>h!=null&&h.columns?Object.values(h.columns).filter(k=>["int","float","number"].some(_=>{var N;return(N=k.dtype)==null?void 0:N.toLowerCase().includes(_)})).map(k=>k.name):[],[h]),p=()=>{const k=a.length;s(_=>[..._,k]),t({transformations:[...a,{columns:[],method:"log",params:{}}]})},v=(k,_)=>{const N=[...a];N[k]={...N[k],..._},t({transformations:N})},x=k=>{const _=[...a];_.splice(k,1),t({transformations:_}),s(N=>N.filter(S=>S!==k).map(S=>S>k?S-1:S))},g=k=>{s(_=>_.includes(k)?_.filter(N=>N!==k):[..._,k])},b=(k,_)=>{const N=sy[_].methods[0].value;v(k,{method:N})},w=wl(r||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return o.jsxs("div",{ref:l,className:"p-4 space-y-6 h-full overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),o.jsxs("button",{onClick:p,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[o.jsx(Ts,{size:12})," Add Rule"]})]}),o.jsxs("div",{className:"space-y-4",children:[a.map((k,_)=>{var T,O,P;const N=cde(k.method),S=i.includes(_),E=((T=sy[N].methods.find(L=>L.value===k.method))==null?void 0:T.label)||k.method;return o.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>g(_),children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[S?o.jsx(Qt,{size:16,className:"text-muted-foreground flex-shrink-0"}):o.jsx(ys,{size:16,className:"text-muted-foreground flex-shrink-0"}),o.jsxs("div",{className:"flex flex-col overflow-hidden",children:[o.jsx("span",{className:"text-sm font-medium truncate",children:E}),o.jsx("span",{className:"text-xs text-muted-foreground truncate",children:k.columns.length===0?"No columns selected":`${k.columns.length} columns`})]})]}),o.jsx("button",{onClick:L=>{L.stopPropagation(),x(_)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:o.jsx(Ei,{size:14})})]}),S&&o.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${c?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),o.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:N,onChange:L=>b(_,L.target.value),onClick:L=>L.stopPropagation(),children:[o.jsx("option",{value:"simple",children:"Simple Math"}),o.jsx("option",{value:"power",children:"Power Transform"})]}),o.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:k.method,onChange:L=>v(_,{method:L.target.value}),onClick:L=>L.stopPropagation(),children:sy[N].methods.map(L=>o.jsx("option",{value:L.value,children:L.label},L.value))})]}),(k.method==="yeo-johnson"||k.method==="box-cox")&&o.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:L=>L.stopPropagation(),children:[o.jsx("input",{type:"checkbox",id:`std-${_}`,checked:((O=k.params)==null?void 0:O.standardize)!==!1,onChange:L=>v(_,{params:{...k.params,standardize:L.target.checked}})}),o.jsx("label",{htmlFor:`std-${_}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),k.method==="exponential"&&o.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:L=>L.stopPropagation(),children:[o.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),o.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((P=k.params)==null?void 0:P.clip_threshold)||700,onChange:L=>v(_,{params:{...k.params,clip_threshold:parseFloat(L.target.value)}})})]})]}),o.jsxs("div",{className:"space-y-1 min-w-0",onClick:L=>L.stopPropagation(),children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),o.jsx(ude,{allColumns:m,selectedColumns:k.columns||[],onChange:L=>v(_,{columns:L})})]})]})]},_)}),a.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",o.jsx("br",{}),'Click "Add Rule" to start.']})]}),o.jsx(Rs,{recommendations:w||[],onApply:k=>{var E,T;const _=k,N=((E=_.suggested_params)==null?void 0:E.method)||((T=_.params)==null?void 0:T.method)||"log",S=_.target_columns||[];if(S.length>0){const O=a.length;s(P=>[...P,O]),t({transformations:[...a,{columns:S,method:N,params:{}}]})}}})]})},fde={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:xP,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(!(e!=null&&e.transformations)||e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(!t.columns||t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:dde,getDefaultConfig:()=>({transformations:[]})},hde=({value:e,onChange:t})=>{const[r,n]=y.useState((e==null?void 0:e.join(", "))||""),a=y.useRef(e);y.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(a.current)&&(n((e==null?void 0:e.join(", "))||""),a.current=e)},[e]);const i=()=>{const s=r.split(",").map(l=>parseFloat(l.trim())).filter(l=>!isNaN(l)).sort((l,c)=>l-c);t(s)};return o.jsx("input",{type:"text",className:"w-full p-1 text-xs border rounded bg-background text-foreground",placeholder:"0, 10, 20, 100...",value:r,onChange:s=>n(s.target.value),onBlur:i})},mde=({config:e,onChange:t,nodeId:r})=>{var g;const a=(g=it(r||"").find(b=>b.datasetId))==null?void 0:g.datasetId,{data:i,isLoading:s}=Ze(a),l=y.useRef(null),[c,u]=y.useState(!1),[d,f]=y.useState("");y.useEffect(()=>{if(!l.current)return;const b=new ResizeObserver(w=>{for(const j of w)u(j.contentRect.width>450)});return b.observe(l.current),()=>b.disconnect()},[]);const h=i?Object.values(i.columns).filter(b=>["int","float","number"].some(w=>{var j;return(j=b.dtype)==null?void 0:j.toLowerCase().includes(w)})).map(b=>b.name):[],m=h.filter(b=>b.toLowerCase().includes(d.toLowerCase())),p=()=>{t({...e,columns:m})},v=()=>{const b=e.columns.filter(w=>!m.includes(w));t({...e,columns:b})},x=b=>{e.columns.includes(b)?t({...e,columns:e.columns.filter(w=>w!==b)}):t({...e,columns:[...e.columns,b]})};return o.jsxs("div",{ref:l,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o.jsxs("div",{className:`grid gap-4 ${c?"grid-cols-2":"grid-cols-1"}`,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Binning Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.strategy,onChange:b=>t({...e,strategy:b.target.value}),children:[o.jsx("option",{value:"equal_width",children:"Equal Width (Uniform)"}),o.jsx("option",{value:"equal_frequency",children:"Equal Frequency (Quantile)"}),o.jsx("option",{value:"kmeans",children:"K-Means Clustering"}),o.jsx("option",{value:"custom",children:"Custom Edges"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[e.strategy==="equal_width"&&"Bins have equal width ranges.",e.strategy==="equal_frequency"&&"Bins have equal number of records.",e.strategy==="kmeans"&&"Bins based on K-Means clustering centers.",e.strategy==="custom"&&"Define specific bin edges for each column."]})]}),e.strategy!=="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Number of Bins"}),o.jsx("input",{type:"number",min:2,max:100,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.n_bins,onChange:b=>t({...e,n_bins:parseInt(b.target.value)||5})})]}),e.strategy==="custom"&&o.jsxs("div",{className:"space-y-2 border rounded p-2 bg-muted/10",children:[o.jsx("label",{className:"block text-xs font-medium",children:"Custom Edges"}),e.columns.length===0?o.jsx("div",{className:"text-xs text-muted-foreground",children:"Select columns first."}):o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.columns.map(b=>{var w;return o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-medium",children:b}),o.jsx(hde,{value:(w=e.custom_bins)==null?void 0:w[b],onChange:j=>t({...e,custom_bins:{...e.custom_bins,[b]:j}})})]},b)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Label Format"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.label_format,onChange:b=>t({...e,label_format:b.target.value}),children:[o.jsx("option",{value:"ordinal",children:"Ordinal (0, 1, 2...)"}),o.jsx("option",{value:"range",children:"Range Intervals ([0-10], [10-20]...)"}),o.jsx("option",{value:"bin_index",children:"Bin Index"})]})]}),e.label_format==="range"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Precision (Decimals)"}),o.jsx("input",{type:"number",min:0,max:10,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.precision??3,onChange:b=>t({...e,precision:parseInt(b.target.value)||0})}),o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Number of decimal places to show in interval labels (e.g. 2 gives [0.00, 10.00])."})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"drop_original",checked:e.drop_original,onChange:b=>t({...e,drop_original:b.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("label",{htmlFor:"drop_original",className:"text-sm",children:"Drop Original Columns"})]}),!e.drop_original&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Suffix"}),o.jsx("input",{type:"text",className:"w-full p-1.5 border rounded text-xs",placeholder:"_binned",value:e.output_suffix||"",onChange:b=>t({...e,output_suffix:b.target.value})})]})]})]}),o.jsxs("div",{className:"space-y-2 flex flex-col h-full min-h-[200px]",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Columns"}),o.jsx("div",{className:"flex gap-2",children:o.jsx("input",{className:"w-full px-2 py-1 text-xs border rounded bg-background text-foreground",placeholder:"Search columns...",value:d,onChange:b=>f(b.target.value)})}),o.jsxs("div",{className:"flex gap-2 text-xs border-b pb-1",children:[o.jsx("button",{onClick:p,className:"text-primary hover:underline",children:"Select All"}),o.jsx("span",{className:"text-muted-foreground",children:"|"}),o.jsx("button",{onClick:v,className:"text-muted-foreground hover:underline",children:"None"}),o.jsxs("span",{className:"ml-auto text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("div",{className:"flex-1 border rounded bg-background overflow-y-auto p-2 max-h-[300px]",children:s?o.jsx("div",{className:"text-xs text-muted-foreground p-2",children:"Loading columns..."}):m.length===0?o.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:h.length===0?"No numeric columns found.":`No columns match "${d}"`}):o.jsx("div",{className:"space-y-1",children:m.map(b=>o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(b),onChange:()=>x(b),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:b,children:b})]},b))})})]})]})]})},pde={type:"BinningNode",label:"Binning / Discretization",description:"Convert continuous variables into discrete bins.",icon:Cm,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Binned"}],validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column to bin."}:e.n_bins<2?{isValid:!1,message:"Number of bins must be at least 2."}:{isValid:!0},settings:mde,getDefaultConfig:()=>({columns:[],strategy:"equal_width",n_bins:5,label_format:"ordinal",output_suffix:"_binned",drop_original:!1})},gde=({nodeId:e})=>{const t=ge(a=>a.executionResult),r=e?t==null?void 0:t.node_results[e]:null;if(!r)return null;const n=a=>a?o.jsx("div",{className:"space-y-1",children:Object.entries(a).map(([i,s])=>typeof s=="object"&&s!==null?o.jsxs("div",{className:"mt-1",children:[o.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[i.replace(/_/g," "),":"]}),o.jsx("div",{className:"pl-2 border-l-2 border-gray-200 dark:border-gray-700 ml-1",children:n(s)})]},i):o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[i.replace(/_/g," "),":"]}),o.jsx("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:String(s)})]},i))}):null;return o.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Last Run Results"}),o.jsxs("div",{className:"text-xs space-y-1 text-gray-600 dark:text-gray-300",children:[r.metrics&&o.jsx("div",{className:"mt-2",children:n(r.metrics)}),r.error&&o.jsxs("div",{className:"mt-2 text-red-500 break-words",children:["Error: ",r.error]}),!r.metrics&&!r.error&&o.jsx("div",{className:"italic text-gray-500",children:"No metrics available"})]})]})},yde=({config:e,onChange:t,nodeId:r})=>{var v,x;const n=y.useRef(null),[a,i]=y.useState(!1),[s,l]=y.useState(!0),c=it(r||""),u=(v=c.find(g=>g.datasetId))==null?void 0:v.datasetId,{data:d}=Ze(u),f=(x=c.find(g=>{var b;return(b=g.config)==null?void 0:b.target_column}))==null?void 0:x.config.target_column;y.useEffect(()=>{if(!e.target_column){if(f)t({...e,target_column:f});else if(d!=null&&d.columns){const g=Object.values(d.columns).find(b=>b.name.toLowerCase()==="target"||b.name.toLowerCase()==="class"||b.column_type==="target");g&&t({...e,target_column:g.name})}}},[d,f,e.target_column]),y.useEffect(()=>{if(!n.current)return;const g=new ResizeObserver(b=>{for(const w of b)i(w.contentRect.width>400)});return g.observe(n.current),()=>g.disconnect()},[]);const h=wl(r||"",{types:["resampling"],suggestedNodeTypes:["ResamplingNode"]}),m=g=>{g.suggested_params&&t({...e,...g.suggested_params})},p=(g,b)=>{const w={...e,[g]:b};g==="type"&&(b==="oversampling"?w.method="smote":w.method="random_under_sampling"),t(w)};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resampling Type"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.type,onChange:g=>p("type",g.target.value),children:[o.jsx("option",{value:"oversampling",children:"Oversampling (Minority)"}),o.jsx("option",{value:"undersampling",children:"Undersampling (Majority)"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Method"}),o.jsx("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.method,onChange:g=>p("method",g.target.value),children:e.type==="oversampling"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"smote",children:"SMOTE"}),o.jsx("option",{value:"adasyn",children:"ADASYN"}),o.jsx("option",{value:"borderline_smote",children:"Borderline SMOTE"}),o.jsx("option",{value:"svm_smote",children:"SVM SMOTE"}),o.jsx("option",{value:"kmeans_smote",children:"KMeans SMOTE"}),o.jsx("option",{value:"smote_tomek",children:"SMOTE + Tomek"})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"random_under_sampling",children:"Random Under Sampling"}),o.jsx("option",{value:"nearmiss",children:"NearMiss"}),o.jsx("option",{value:"tomek_links",children:"Tomek Links"}),o.jsx("option",{value:"edited_nearest_neighbours",children:"Edited Nearest Neighbours"})]})}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.type==="oversampling"?"Generate synthetic samples for the minority class.":"Remove samples from the majority class."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Column"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"e.g., target",value:e.target_column,onChange:g=>p("target_column",g.target.value),list:"target-column-suggestions"}),(d==null?void 0:d.columns)&&o.jsx("datalist",{id:"target-column-suggestions",children:Object.values(d.columns).map(g=>o.jsx("option",{value:g.name},g.name))})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f?"Auto-detected from upstream node.":"The column containing the class labels."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sampling Strategy"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.sampling_strategy,onChange:g=>p("sampling_strategy",g.target.value),children:[o.jsx("option",{value:"auto",children:"Auto (Resample all classes but majority)"}),o.jsx("option",{value:"minority",children:"Minority (Resample only minority class)"}),o.jsx("option",{value:"not minority",children:"Not Minority (Resample all but minority)"}),o.jsx("option",{value:"not majority",children:"Not Majority (Resample all but majority)"}),o.jsx("option",{value:"all",children:"All (Resample all classes)"})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Defines which classes to resample."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.random_state,onChange:g=>p("random_state",parseInt(g.target.value))})]})]}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[e.type==="oversampling"&&o.jsxs(o.Fragment,{children:[["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"k Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.k_neighbors??5,onChange:g=>p("k_neighbors",parseInt(g.target.value))})]}),["borderline_smote","svm_smote"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"m Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.m_neighbors??10,onChange:g=>p("m_neighbors",parseInt(g.target.value))})]}),e.method==="borderline_smote"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kind"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind??"borderline-1",onChange:g=>p("kind",g.target.value),children:[o.jsx("option",{value:"borderline-1",children:"Borderline-1"}),o.jsx("option",{value:"borderline-2",children:"Borderline-2"})]})]}),e.method==="svm_smote"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Out Step"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.out_step??.5,onChange:g=>p("out_step",parseFloat(g.target.value))})]}),e.method==="kmeans_smote"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cluster Balance Threshold"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.cluster_balance_threshold??.1,onChange:g=>p("cluster_balance_threshold",parseFloat(g.target.value))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Density Exponent"}),o.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.density_exponent??"auto",onChange:g=>p("density_exponent",g.target.value)})]})]})]}),e.type==="undersampling"&&e.method==="random_under_sampling"&&o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Replacement"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sample with replacement"})]}),o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:e.replacement??!1,onChange:g=>p("replacement",g.target.checked)})]}),e.type==="undersampling"&&e.method==="nearmiss"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Version"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.version??1,onChange:g=>p("version",parseInt(g.target.value)),children:[o.jsx("option",{value:"1",children:"1"}),o.jsx("option",{value:"2",children:"2"}),o.jsx("option",{value:"3",children:"3"})]})]}),e.type==="undersampling"&&e.method==="edited_nearest_neighbours"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"n Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.n_neighbors??3,onChange:g=>p("n_neighbors",parseInt(g.target.value))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selection Kind"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind_sel??"all",onChange:g=>p("kind_sel",g.target.value),children:[o.jsx("option",{value:"all",children:"All"}),o.jsx("option",{value:"mode",children:"Mode"})]})]})]}),h.length>0&&o.jsxs("div",{className:"mt-0 border rounded-md overflow-hidden border-gray-200 dark:border-gray-700",children:[o.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>l(!s),children:[o.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Recommendations (",h.length,")"]}),s?o.jsx(ol,{size:16}):o.jsx(Qt,{size:16})]}),s&&o.jsx("div",{className:"p-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:o.jsx(Rs,{recommendations:h,onApply:m})})]}),r&&o.jsx(gde,{nodeId:r})]})]})})},vde=e=>e.target_column?e.type==="oversampling"&&["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&(e.k_neighbors??5)<1?{isValid:!1,message:"k_neighbors must be at least 1."}:{isValid:!0}:{isValid:!1,message:"Target column is required for resampling."},xde={type:"ResamplingNode",label:"Resampling",category:"Preprocessing",description:"Balance dataset classes using oversampling or undersampling techniques.",icon:en,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Balanced Data",type:"dataset"}],settings:yde,validate:vde,getDefaultConfig:()=>({type:"oversampling",method:"smote",target_column:"",sampling_strategy:"auto",random_state:42,k_neighbors:5,replacement:!1,version:1,n_neighbors:3,kind_sel:"all"})},bde=[{value:"arithmetic",label:"Arithmetic",icon:$x},{value:"datetime_extract",label:"Date Extraction",icon:fP},{value:"ratio",label:"Ratio",icon:MF},{value:"similarity",label:"Similarity",icon:NF},{value:"polynomial",label:"Polynomial",icon:qF},{value:"group_agg",label:"Group Agg",icon:xP}],wde=["add","subtract","multiply","divide"],jde=["year","month","day","weekday","hour","quarter","is_weekend"],kde=["ratio","token_sort_ratio","token_set_ratio"],Nde=["mean","sum","count","min","max","std","median"],An=({columns:e,selected:t,onChange:r,label:n,single:a})=>{const[i,s]=y.useState(""),l=e.filter(u=>u.toLowerCase().includes(i.toLowerCase())),c=u=>{a?r([u]):t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return o.jsxs("div",{className:"space-y-1.5",children:[n&&o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ms,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:i,onChange:u=>s(u.target.value)})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:l.length>0?l.map(u=>{const d=t.includes(u);return o.jsxs("div",{onClick:()=>c(u),className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${d?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[o.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:d&&o.jsx(ah,{size:8,strokeWidth:4})}),o.jsx("span",{className:"truncate",children:u})]},u)}):o.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center italic",children:"No columns found"})})]})]})},_de=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=it(r||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:i}=Ze(a),s=ge(N=>N.executionResult),l=r?s==null?void 0:s.node_results[r]:null,c=l==null?void 0:l.metrics,[u,d]=y.useState(!1),f=i?Object.values(i.columns).map(N=>N.name):[],h=i?Object.values(i.columns).filter(N=>["int","float","number"].some(S=>{var E;return(E=N.dtype)==null?void 0:E.toLowerCase().includes(S)})).map(N=>N.name):[],m=i?Object.values(i.columns).filter(N=>["date","time"].some(S=>{var E;return(E=N.dtype)==null?void 0:E.toLowerCase().includes(S)})).map(N=>N.name):[],p=i?Object.values(i.columns).filter(N=>["string","object","text"].some(S=>{var E;return(E=N.dtype)==null?void 0:E.toLowerCase().includes(S)})).map(N=>N.name):[],v=wl(r||"",{types:["feature_generation"],suggestedNodeTypes:["FeatureGenerationNode"],scope:"column"}),x=N=>{console.log("Applying recommendation:",N)},g=N=>{const S={operation_type:N,method:N==="arithmetic"?"add":N==="similarity"?"ratio":N==="group_agg"?"mean":N==="polynomial"?"poly":"year",input_columns:[],output_column:"",datetime_features:N==="datetime_extract"?["year"]:void 0,degree:N==="polynomial"?2:void 0,interaction_only:N==="polynomial"?!1:void 0,isExpanded:!0};t({operations:[...e.operations||[],S]})},b=(N,S)=>{const E=[...e.operations||[]];E[N]={...E[N],...S},t({operations:E})},w=(N,S)=>{S.stopPropagation();const E=[...e.operations||[]];E.splice(N,1),t({operations:E})},j=N=>{const S=[...e.operations||[]];S[N]={...S[N],isExpanded:!S[N].isExpanded},t({operations:S})},k=(N,S)=>`${N.operation_type}_${S}`;return o.jsxs("div",{className:"flex h-full",children:[o.jsxs("div",{className:"w-20 border-r bg-muted/10 flex flex-col items-center py-4 gap-2 overflow-y-auto shrink-0",children:[o.jsx("span",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider",children:"Add"}),bde.map(N=>o.jsxs("button",{onClick:()=>g(N.value),className:"flex flex-col items-center justify-center gap-1 p-1.5 rounded-md border bg-card hover:bg-accent hover:border-primary/50 transition-all group w-16 h-14 shadow-sm",title:N.label,children:[o.jsx(N.icon,{size:18,className:"text-muted-foreground group-hover:text-primary"}),o.jsx("span",{className:"text-[9px] font-medium text-muted-foreground group-hover:text-foreground text-center leading-tight line-clamp-2",children:N.label.replace(" ",`
`)})]},N.value))]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:[v.length>0&&o.jsxs("div",{className:"border-b bg-muted/10",children:[o.jsxs("button",{onClick:()=>d(!u),className:"w-full flex items-center justify-between px-4 py-2 text-xs font-medium text-muted-foreground hover:text-primary hover:bg-muted/20 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(yP,{size:14,className:v.length>0?"text-yellow-500":""}),o.jsxs("span",{children:["Recommendations (",v.length,")"]})]}),u?o.jsx(Qt,{size:14}):o.jsx(ys,{size:14})]}),u&&o.jsx("div",{className:"p-4 bg-muted/5 border-t",children:o.jsx(Rs,{recommendations:v,onApply:x,className:"mb-0"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[(e.operations||[]).map((N,S)=>{var E,T,O;return o.jsxs("div",{className:"border rounded-lg bg-card shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>j(S),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[N.isExpanded?o.jsx(Qt,{size:14,className:"text-muted-foreground"}):o.jsx(ys,{size:14,className:"text-muted-foreground"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:N.operation_type==="datetime_extract"?"Date":N.operation_type.replace("_"," ")}),["arithmetic","similarity","group_agg"].includes(N.operation_type)&&o.jsx("select",{className:"text-sm border-none bg-transparent font-semibold focus:ring-0 cursor-pointer hover:text-primary",value:N.method,onClick:P=>P.stopPropagation(),onChange:P=>b(S,{method:P.target.value}),children:(N.operation_type==="arithmetic"?wde:N.operation_type==="similarity"?kde:N.operation_type==="group_agg"?Nde:[]).map(P=>o.jsx("option",{value:P,children:P.replace("_"," ")},P))})]}),o.jsx("button",{onClick:P=>w(S,P),className:"text-muted-foreground hover:text-destructive transition-colors p-1 rounded-full hover:bg-destructive/10",children:o.jsx(Ei,{size:14})})]}),N.isExpanded&&o.jsxs("div",{className:"p-3 space-y-4",children:[N.operation_type==="arithmetic"&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:N.method==="divide"?"Performs row-by-row division (Col A / Col B) for each record.":"Performs row-by-row arithmetic between two columns."}),o.jsx(An,{label:"Column A (Left Operand)",columns:h,selected:N.input_columns.slice(0,1),onChange:P=>b(S,{input_columns:P}),single:!0}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-px bg-border flex-1"}),o.jsx("span",{className:"text-lg font-bold text-muted-foreground bg-muted/20 w-8 h-8 rounded flex items-center justify-center",children:N.method==="add"?"+":N.method==="subtract"?"-":N.method==="multiply"?"":""}),o.jsx("div",{className:"h-px bg-border flex-1"})]}),o.jsx(An,{label:"Column B (Right Operand)",columns:h,selected:((E=N.secondary_columns)==null?void 0:E.slice(0,1))||[],onChange:P=>b(S,{secondary_columns:P}),single:!0})]}),N.operation_type==="ratio"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:["Calculates aggregate ratio: ",o.jsx("strong",{children:"Sum(Numerator) / Sum(Denominator)"}),"."]}),o.jsx(An,{label:"Numerator (Sum)",columns:h,selected:N.input_columns,onChange:P=>b(S,{input_columns:P})}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-dashed"})}),o.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Divided By"})]}),o.jsx(An,{label:"Denominator (Sum)",columns:h,selected:N.secondary_columns||[],onChange:P=>b(S,{secondary_columns:P})})]}),N.operation_type==="similarity"&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20 space-y-1",children:[o.jsx("p",{children:"Calculates string similarity score (0-100) between two text columns."}),o.jsxs("ul",{className:"list-disc pl-3 space-y-0.5 opacity-80",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Ratio:"}),' Strict character matching (Levenshtein). "apple banana" != "banana apple".']}),o.jsxs("li",{children:[o.jsx("strong",{children:"Token Sort:"}),' Sorts words alphabetically then compares. "apple banana" == "banana apple".']}),o.jsxs("li",{children:[o.jsx("strong",{children:"Token Set:"})," Compares intersection of words. Handles duplicates/subsets well."]})]})]}),o.jsx(An,{label:"String A",columns:p,selected:N.input_columns.slice(0,1),onChange:P=>b(S,{input_columns:P}),single:!0}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-px bg-border flex-1"}),o.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted/20 px-2 py-1 rounded",children:"vs"}),o.jsx("div",{className:"h-px bg-border flex-1"})]}),o.jsx(An,{label:"String B",columns:p,selected:((T=N.secondary_columns)==null?void 0:T.slice(0,1))||[],onChange:P=>b(S,{secondary_columns:P}),single:!0})]}),N.operation_type==="polynomial"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Generates polynomial and interaction features (e.g., A, AB)."}),o.jsx(An,{label:"Input Columns",columns:h,selected:N.input_columns,onChange:P=>b(S,{input_columns:P})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Degree"}),o.jsx("input",{type:"number",min:"2",max:"5",className:"w-full text-xs border rounded p-1.5",value:N.degree||2,onChange:P=>b(S,{degree:parseInt(P.target.value)})})]}),o.jsx("div",{className:"space-y-1 pt-5",children:o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:N.interaction_only||!1,onChange:P=>b(S,{interaction_only:P.target.checked})}),"Interaction Only"]})})]})]}),N.operation_type==="group_agg"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Calculates aggregate statistics (e.g., Mean Salary) grouped by a categorical column (e.g., Department) and assigns it back to each row."}),o.jsx(An,{label:"Group By (Categorical)",columns:p.length>0?p:f,selected:N.input_columns.slice(0,1),onChange:P=>b(S,{input_columns:P}),single:!0}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-dashed"})}),o.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Target Column"})]}),o.jsx(An,{label:"Target (Numeric)",columns:h,selected:((O=N.secondary_columns)==null?void 0:O.slice(0,1))||[],onChange:P=>b(S,{secondary_columns:P}),single:!0})]}),N.operation_type==="datetime_extract"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(An,{label:"Date Column",columns:m.length>0?m:f,selected:N.input_columns.slice(0,1),onChange:P=>b(S,{input_columns:P}),single:!0}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Features to Extract"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:jde.map(P=>o.jsxs("label",{className:"flex items-center gap-2 text-xs p-1.5 border rounded hover:bg-accent cursor-pointer transition-colors",children:[o.jsx("input",{type:"checkbox",className:"rounded border-muted-foreground/40 text-primary focus:ring-0",checked:(N.datetime_features||[]).includes(P),onChange:L=>{const C=N.datetime_features||[],D=L.target.checked?[...C,P]:C.filter(I=>I!==P);b(S,{datetime_features:D})}}),o.jsx("span",{className:"capitalize",children:P.replace("_"," ")})]},P))})]})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("label",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider mb-1 block",children:"Output Column Name"}),o.jsx("input",{type:"text",className:"w-full text-xs border rounded px-2 py-1.5 bg-background focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:k(N,S),value:N.output_column||"",onChange:P=>b(S,{output_column:P.target.value})})]})]})]},S)}),(!e.operations||e.operations.length===0)&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed rounded-lg bg-muted/5 text-muted-foreground",children:[o.jsx($x,{size:32,className:"mb-2 opacity-20"}),o.jsx("p",{className:"text-xs font-medium",children:"No operations added"}),o.jsx("p",{className:"text-[10px] opacity-70",children:"Select a type above to start"})]}),c&&o.jsxs("div",{className:"border rounded-lg bg-muted/10 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold text-primary",children:[o.jsx(en,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsx("div",{className:"space-y-2 text-xs",children:c.generated_features&&c.generated_features.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),o.jsx("span",{className:"font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:c.generated_features.length})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-semibold mb-1.5 block",children:"Generated Columns"}),o.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.generated_features.map(N=>o.jsx("span",{className:"px-2 py-1 bg-background border rounded text-[10px] font-mono text-foreground shadow-sm",children:N},N))})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[o.jsx(yu,{size:12}),o.jsx("span",{children:"No features generated in last run."})]})})]})]})]})]})},Sde={type:"FeatureGenerationNode",label:"Feature Generation",description:"Create new features via math, stats, or date extraction.",icon:$x,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Enhanced"}],validate:e=>{var t,r,n;if(!e.operations||e.operations.length===0)return{isValid:!1,message:"Add at least one operation."};for(const a of e.operations){if(a.operation_type==="arithmetic"&&(a.input_columns.length===0||!((t=a.secondary_columns)!=null&&t.length)&&!((r=a.constants)!=null&&r.length)))return{isValid:!1,message:"Arithmetic requires two operands."};if(a.operation_type==="datetime_extract"&&a.input_columns.length===0)return{isValid:!1,message:"Select a date column."};if(a.operation_type==="polynomial"&&a.input_columns.length===0)return{isValid:!1,message:"Select input columns for polynomial features."};if(a.operation_type==="group_agg"&&(a.input_columns.length===0||!((n=a.secondary_columns)!=null&&n.length)))return{isValid:!1,message:"Select both Group By and Target columns."}}return{isValid:!0}},settings:_de,getDefaultConfig:()=>({operations:[]})},Ede=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),s=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ms,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>a(l.target.value)})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>s(l),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Cde=({operation:e,onChange:t,onDelete:r})=>o.jsxs("div",{className:"p-3 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("select",{className:"text-xs font-medium bg-transparent border-none focus:ring-0 p-0 text-gray-900 dark:text-gray-100",value:e.op,onChange:n=>{const a=n.target.value;let i="both";a==="case"&&(i="lower"),a==="remove_special"&&(i="keep_alphanumeric"),a==="regex"&&(i="custom"),t({...e,op:a,mode:i})},children:[o.jsx("option",{value:"trim",children:"Trim Whitespace"}),o.jsx("option",{value:"case",children:"Change Case"}),o.jsx("option",{value:"remove_special",children:"Remove Special Chars"}),o.jsx("option",{value:"regex",children:"Regex Replace"})]}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Ei,{size:14})})]}),o.jsxs("div",{className:"space-y-2",children:[e.op==="trim"&&o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"both",children:"Both Ends"}),o.jsx("option",{value:"leading",children:"Leading Only"}),o.jsx("option",{value:"trailing",children:"Trailing Only"})]}),e.op==="case"&&o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"lower",children:"Lower Case"}),o.jsx("option",{value:"upper",children:"Upper Case"}),o.jsx("option",{value:"title",children:"Title Case"}),o.jsx("option",{value:"sentence",children:"Sentence Case"})]}),e.op==="remove_special"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"keep_alphanumeric",children:"Keep Alphanumeric"}),o.jsx("option",{value:"keep_alphanumeric_space",children:"Keep Alphanumeric & Space"}),o.jsx("option",{value:"letters_only",children:"Letters Only"}),o.jsx("option",{value:"digits_only",children:"Digits Only"})]}),o.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement (optional)",value:e.replacement||"",onChange:n=>t({...e,replacement:n.target.value})})]}),e.op==="regex"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"custom",children:"Custom Pattern"}),o.jsx("option",{value:"collapse_whitespace",children:"Collapse Whitespace"}),o.jsx("option",{value:"extract_digits",children:"Extract Digits"}),o.jsx("option",{value:"normalize_slash_dates",children:"Normalize Dates (MM/DD/YYYY)"})]}),e.mode==="custom"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5 font-mono",placeholder:"Regex Pattern",value:e.pattern||"",onChange:n=>t({...e,pattern:n.target.value})}),o.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",title:"Generate regex from literal text",onClick:()=>{const n=prompt("Enter the exact text you want to match (it will be escaped):");if(n){const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t({...e,pattern:a})}},children:o.jsx(KF,{size:14})})]}),o.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement",value:e.repl||"",onChange:n=>t({...e,repl:n.target.value})})]})]})]})]}),Pde=({config:e,onChange:t,nodeId:r})=>{var v;const n=y.useRef(null),[a,i]=y.useState(!1),[s,l]=y.useState(!0),u=(v=it(r||"").find(x=>x.datasetId))==null?void 0:v.datasetId,{data:d}=Ze(u),f=d?Object.values(d.columns).filter(x=>x.dtype==="object"||x.dtype==="string"||x.dtype==="category").map(x=>x.name):[];y.useEffect(()=>{if(!n.current)return;const x=new ResizeObserver(g=>{for(const b of g)i(b.contentRect.width>400)});return x.observe(n.current),()=>x.disconnect()},[]);const h=()=>{t({...e,operations:[...e.operations,{op:"trim",mode:"both"}]})},m=(x,g)=>{const b=[...e.operations];b[x]=g,t({...e,operations:b})},p=x=>{const g=e.operations.filter((b,w)=>w!==x);t({...e,operations:g})};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(Ede,{columns:f,selected:e.columns,onChange:x=>t({...e,columns:x})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>l(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(yu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Text Cleaning"}),s?o.jsx(ol,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(Qt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Clean and standardize text columns by trimming whitespace, changing case, removing special characters, or applying custom regex patterns."})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cleaning Operations"}),o.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[o.jsx(Ts,{size:14}),"Add Step"]})]}),o.jsx("div",{className:"space-y-3",children:e.operations.length===0?o.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"No operations added."}),o.jsx("button",{onClick:h,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first cleaning step"})]}):e.operations.map((x,g)=>o.jsx(Cde,{operation:x,onChange:b=>m(g,b),onDelete:()=>p(g)},g))})]})]})})},Ode={type:"TextCleaning",label:"Text Cleaning",category:"Preprocessing",description:"Clean and standardize text columns.",icon:yF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Pde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.operations.length===0?{isValid:!1,message:"Add at least one operation."}:{isValid:!0},getDefaultConfig:()=>({columns:[],operations:[{op:"trim",mode:"both"}]})},Ade=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),s=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ms,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>a(l.target.value)})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>s(l),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},m2=({value:e,type:t,onChange:r,placeholder:n})=>{const a=s=>{let l=e;s==="number"&&(l=Number(e)||0),s==="boolean"&&(l=!!e),s==="string"&&(l=String(e)),s==="null"&&(l=null),s==="nan"&&(l="NaN"),r(l,s)},i=s=>{let l=s.target.value;t==="number"&&(l=parseFloat(l)),r(l,t)};return o.jsxs("div",{className:"flex gap-1",children:[o.jsxs("select",{className:"w-20 text-[10px] rounded border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 px-1",value:t,onChange:s=>a(s.target.value),children:[o.jsx("option",{value:"string",children:"Text"}),o.jsx("option",{value:"number",children:"Num"}),o.jsx("option",{value:"boolean",children:"Bool"}),o.jsx("option",{value:"null",children:"Null"})]}),t==="string"&&o.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:i,placeholder:n}),t==="number"&&o.jsx("input",{type:"number",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e,onChange:i,placeholder:n}),t==="boolean"&&o.jsxs("select",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:String(e),onChange:s=>r(s.target.value==="true","boolean"),children:[o.jsx("option",{value:"true",children:"True"}),o.jsx("option",{value:"false",children:"False"})]}),(t==="null"||t==="nan")&&o.jsx("div",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 italic flex items-center",children:t==="null"?"None / Null":"NaN"})]})},Tde=({item:e,onChange:t,onDelete:r})=>o.jsxs("div",{className:"p-2 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Find"}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:o.jsx(Ei,{size:14})})]}),o.jsx(m2,{value:e.old,type:e.oldType,onChange:(n,a)=>t({...e,old:n,oldType:a}),placeholder:"Value to find"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-gray-400",children:o.jsx(oF,{size:14,className:"rotate-90"})}),o.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Replace With"})]}),o.jsx(m2,{value:e.new,type:e.newType,onChange:(n,a)=>t({...e,new:n,newType:a}),placeholder:"New value"})]}),Mde=({config:e,onChange:t,nodeId:r})=>{var v;const n=y.useRef(null),[a,i]=y.useState(!1),[s,l]=y.useState(!0),u=(v=it(r||"").find(x=>x.datasetId))==null?void 0:v.datasetId,{data:d}=Ze(u),f=d?Object.values(d.columns).map(x=>x.name):[];y.useEffect(()=>{if(!n.current)return;const x=new ResizeObserver(g=>{for(const b of g)i(b.contentRect.width>400)});return x.observe(n.current),()=>x.disconnect()},[]);const h=()=>{t({...e,replacements:[...e.replacements,{old:"",new:"",oldType:"string",newType:"string"}]})},m=(x,g)=>{const b=[...e.replacements];b[x]=g,t({...e,replacements:b})},p=x=>{const g=e.replacements.filter((b,w)=>w!==x);t({...e,replacements:g})};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(Ade,{columns:f,selected:e.columns,onChange:x=>t({...e,columns:x})})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>l(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(yu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Value Replacement"}),s?o.jsx(ol,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(Qt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:'Replace specific values with new ones. Useful for fixing typos, recoding categories (e.g., "Yes" to 1), or handling specific placeholders.'})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Value Mappings"}),o.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[o.jsx(Ts,{size:14}),"Add Mapping"]})]}),o.jsx("div",{className:"space-y-3",children:e.replacements.length===0?o.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"No replacements defined."}),o.jsx("button",{onClick:h,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first replacement"})]}):e.replacements.map((x,g)=>o.jsx(Tde,{item:x,onChange:b=>m(g,b),onDelete:()=>p(g)},g))})]})]})})},Ide={type:"ValueReplacement",label:"Value Replacement",category:"Preprocessing",description:"Replace specific values in columns.",icon:DF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Processed Data",type:"dataset"}],settings:Mde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.replacements.length===0?{isValid:!1,message:"Add at least one replacement."}:{isValid:!0},getDefaultConfig:()=>({columns:[],replacements:[{old:"",new:"",oldType:"string",newType:"string"}]})},Dde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),s=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ms,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>a(l.target.value)})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>s(l),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Rde=({pairs:e,onChange:t})=>{const[r,n]=y.useState(""),[a,i]=y.useState(""),s=()=>{r&&a&&(t({...e,[r]:a}),n(""),i(""))},l=c=>{const u={...e};delete u[c],t(u)};return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex gap-2 items-end",children:[o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Alias (Old)"}),o.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. NY",value:r,onChange:c=>n(c.target.value)})]}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Canonical (New)"}),o.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. New York",value:a,onChange:c=>i(c.target.value),onKeyDown:c=>c.key==="Enter"&&s()})]}),o.jsx("button",{onClick:s,disabled:!r||!a,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Ts,{size:16})})]}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2 bg-gray-50 dark:bg-gray-800/50",children:Object.entries(e).length===0?o.jsx("div",{className:"text-center text-xs text-gray-500 py-2",children:"No custom aliases defined."}):Object.entries(e).map(([c,u])=>o.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("span",{className:"font-medium text-red-600 truncate max-w-[80px]",children:c}),o.jsx(uP,{size:12,className:"text-gray-400 shrink-0"}),o.jsx("span",{className:"font-medium text-green-600 truncate max-w-[80px]",children:u})]}),o.jsx("button",{onClick:()=>l(c),className:"text-gray-400 hover:text-red-500",children:o.jsx(Ei,{size:14})})]},c))})]})},Lde=({config:e,onChange:t,nodeId:r})=>{var h;const n=y.useRef(null),[a,i]=y.useState(!1),[s,l]=y.useState(!0),u=(h=it(r||"").find(m=>m.datasetId))==null?void 0:h.datasetId,{data:d}=Ze(u),f=d?Object.values(d.columns).filter(m=>m.dtype==="object"||m.dtype==="string"||m.dtype==="category").map(m=>m.name):[];return y.useEffect(()=>{if(!n.current)return;const m=new ResizeObserver(p=>{for(const v of p)i(v.contentRect.width>400)});return m.observe(n.current),()=>m.disconnect()},[]),o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(Dde,{columns:f,selected:e.columns,onChange:m=>t({...e,columns:m})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>l(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(yu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Alias Replacement"}),s?o.jsx(ol,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(Qt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Standardize data by mapping multiple variations (aliases) to a single canonical value. Useful for country codes, boolean strings, or custom synonyms."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:m=>t({...e,mode:m.target.value}),children:[o.jsx("option",{value:"custom",children:"Custom Mapping"}),o.jsx("option",{value:"canonicalize_country_codes",children:"Canonicalize Country Codes"}),o.jsx("option",{value:"normalize_boolean",children:"Normalize Booleans (yes/no -> True/False)"}),o.jsx("option",{value:"punctuation",children:"Remove Punctuation"})]}),o.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="custom"&&"Define your own alias mappings below.",e.mode==="canonicalize_country_codes"&&"Standardizes country codes (e.g. 'USA', 'U.S.A.' -> 'US').",e.mode==="normalize_boolean"&&"Converts 'yes', 'y', '1' to True and 'no', 'n', '0' to False.",e.mode==="punctuation"&&"Removes common punctuation characters from text."]})]}),e.mode==="custom"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Custom Aliases"}),o.jsx(Rde,{pairs:e.custom_pairs,onChange:m=>t({...e,custom_pairs:m})})]})]})]})})},$de={type:"AliasReplacement",label:"Alias Replacement",category:"Preprocessing",description:"Standardize values by mapping aliases to canonical forms.",icon:uP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Standardized Data",type:"dataset"}],settings:Lde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom"&&Object.keys(e.custom_pairs).length===0?{isValid:!1,message:"Add at least one alias pair for custom mode."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"custom",custom_pairs:{}})},zde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),s=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ms,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>a(l.target.value)})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>s(l),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Fde=({config:e,onChange:t,nodeId:r})=>{var h;const n=y.useRef(null),[a,i]=y.useState(!1),[s,l]=y.useState(!0),u=(h=it(r||"").find(m=>m.datasetId))==null?void 0:h.datasetId,{data:d}=Ze(u),f=d?Object.values(d.columns).filter(m=>["int","float","number"].some(p=>{var v;return(v=m.dtype)==null?void 0:v.toLowerCase().includes(p)})).map(m=>m.name):[];return y.useEffect(()=>{if(!n.current)return;const m=new ResizeObserver(p=>{for(const v of p)i(v.contentRect.width>400)});return m.observe(n.current),()=>m.disconnect()},[]),o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(zde,{columns:f,selected:e.columns,onChange:m=>t({...e,columns:m})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only numeric columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>l(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(yu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Invalid Value Replacement"}),s?o.jsx(ol,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(Qt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Use this node to handle data quality issues by replacing invalid numeric values (like negative ages or out-of-bounds sensor readings) with NaN (Missing)."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:m=>t({...e,mode:m.target.value}),children:[o.jsx("option",{value:"negative_to_nan",children:"Negative to NaN"}),o.jsx("option",{value:"zero_to_nan",children:"Zero to NaN"}),o.jsx("option",{value:"percentage_bounds",children:"Percentage Bounds (0-100)"}),o.jsx("option",{value:"age_bounds",children:"Age Bounds (0-120)"}),o.jsx("option",{value:"custom_range",children:"Custom Range"})]}),o.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="negative_to_nan"&&"Replaces all negative values (< 0) with NaN.",e.mode==="zero_to_nan"&&"Replaces all zero values (== 0) with NaN.",e.mode==="percentage_bounds"&&"Replaces values outside 0-100 range with NaN.",e.mode==="age_bounds"&&"Replaces values outside 0-120 range with NaN.",e.mode==="custom_range"&&"Replaces values outside the specified Min/Max range with NaN."]})]}),(e.mode==="custom_range"||e.mode==="percentage_bounds"||e.mode==="age_bounds")&&o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Min Value"}),o.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"0":"Min",value:e.min_value??"",onChange:m=>t({...e,min_value:m.target.value?parseFloat(m.target.value):void 0})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Max Value"}),o.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"100":"Max",value:e.max_value??"",onChange:m=>t({...e,max_value:m.target.value?parseFloat(m.target.value):void 0})})]}),o.jsx("p",{className:"col-span-2 text-[10px] text-gray-500",children:"Values outside this range will be replaced with NaN."})]})]})]})})},Bde={type:"InvalidValueReplacement",label:"Invalid Value Replacement",category:"Preprocessing",description:"Replace invalid or out-of-range values with NaN.",icon:Ux,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Fde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom_range"&&e.min_value===void 0&&e.max_value===void 0?{isValid:!1,message:"Specify at least a min or max value for custom range."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"negative_to_nan"})},Ude=()=>{ke.register(jue),ke.register(_ue),ke.register(Eue),ke.register(Pue),ke.register(Aue),ke.register(lde),ke.register(fde),ke.register(pde),ke.register(xde),ke.register(Sde),ke.register(Ode),ke.register(Ide),ke.register($de),ke.register(Bde),ke.register(sde),ke.register(Wue),ke.register(que),ke.register(Xue),ke.register(Que),ke.register(Jue),ke.register(rde),ke.register(ade),ke.register(Rue),ke.register(Bue),ke.register(Hue),console.log("[Registry] Initialization complete. Total nodes:",ke.getAll().length)};Ude();const Hde=new g$;oy.createRoot(document.getElementById("root")).render(o.jsx(Vr.StrictMode,{children:o.jsx(v$,{client:Hde,children:o.jsx(bue,{})})}));
