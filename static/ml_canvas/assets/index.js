var Nw=Object.defineProperty;var jf=e=>{throw TypeError(e)};var Cw=(e,t,n)=>t in e?Nw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Vl=(e,t,n)=>Cw(e,typeof t!="symbol"?t+"":t,n),Ul=(e,t,n)=>t.has(e)||jf("Cannot "+n);var M=(e,t,n)=>(Ul(e,t,"read from private field"),n?n.call(e):t.get(e)),ee=(e,t,n)=>t.has(e)?jf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),q=(e,t,n,r)=>(Ul(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ae=(e,t,n)=>(Ul(e,t,"access private method"),n);var Co=(e,t,n,r)=>({set _(s){q(e,t,s,n)},get _(){return M(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Mm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jm={exports:{}},al={},Pm={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=Symbol.for("react.element"),bw=Symbol.for("react.portal"),Tw=Symbol.for("react.fragment"),Mw=Symbol.for("react.strict_mode"),jw=Symbol.for("react.profiler"),Pw=Symbol.for("react.provider"),Rw=Symbol.for("react.context"),Iw=Symbol.for("react.forward_ref"),Dw=Symbol.for("react.suspense"),Aw=Symbol.for("react.memo"),Lw=Symbol.for("react.lazy"),Pf=Symbol.iterator;function Ow(e){return e===null||typeof e!="object"?null:(e=Pf&&e[Pf]||e["@@iterator"],typeof e=="function"?e:null)}var Rm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Im=Object.assign,Dm={};function Vs(e,t,n){this.props=e,this.context=t,this.refs=Dm,this.updater=n||Rm}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Am(){}Am.prototype=Vs.prototype;function nd(e,t,n){this.props=e,this.context=t,this.refs=Dm,this.updater=n||Rm}var rd=nd.prototype=new Am;rd.constructor=nd;Im(rd,Vs.prototype);rd.isPureReactComponent=!0;var Rf=Array.isArray,Lm=Object.prototype.hasOwnProperty,sd={current:null},Om={key:!0,ref:!0,__self:!0,__source:!0};function zm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Lm.call(t,r)&&!Om.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ao,type:e,key:i,ref:o,props:s,_owner:sd.current}}function zw(e,t){return{$$typeof:ao,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function id(e){return typeof e=="object"&&e!==null&&e.$$typeof===ao}function Fw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var If=/\/+/g;function Wl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fw(""+e.key):t.toString(36)}function na(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ao:case bw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Wl(o,0):r,Rf(s)?(n="",e!=null&&(n=e.replace(If,"$&/")+"/"),na(s,t,n,"",function(u){return u})):s!=null&&(id(s)&&(s=zw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(If,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Rf(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Wl(i,a);o+=na(i,t,n,l,s)}else if(l=Ow(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Wl(i,a++),o+=na(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bo(e,t,n){if(e==null)return e;var r=[],s=0;return na(e,r,"","",function(i){return t.call(n,i,s++)}),r}function $w(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},ra={transition:null},Hw={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:ra,ReactCurrentOwner:sd};function Fm(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:bo,forEach:function(e,t,n){bo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bo(e,function(){t++}),t},toArray:function(e){return bo(e,function(t){return t})||[]},only:function(e){if(!id(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Vs;oe.Fragment=Tw;oe.Profiler=jw;oe.PureComponent=nd;oe.StrictMode=Mw;oe.Suspense=Dw;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hw;oe.act=Fm;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Im({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=sd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Lm.call(t,l)&&!Om.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ao,type:e.type,key:s,ref:i,props:r,_owner:o}};oe.createContext=function(e){return e={$$typeof:Rw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pw,_context:e},e.Consumer=e};oe.createElement=zm;oe.createFactory=function(e){var t=zm.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:Iw,render:e}};oe.isValidElement=id;oe.lazy=function(e){return{$$typeof:Lw,_payload:{_status:-1,_result:e},_init:$w}};oe.memo=function(e,t){return{$$typeof:Aw,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=ra.transition;ra.transition={};try{e()}finally{ra.transition=t}};oe.unstable_act=Fm;oe.useCallback=function(e,t){return Ze.current.useCallback(e,t)};oe.useContext=function(e){return Ze.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};oe.useEffect=function(e,t){return Ze.current.useEffect(e,t)};oe.useId=function(){return Ze.current.useId()};oe.useImperativeHandle=function(e,t,n){return Ze.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return Ze.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return Ze.current.useReducer(e,t,n)};oe.useRef=function(e){return Ze.current.useRef(e)};oe.useState=function(e){return Ze.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return Ze.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return Ze.current.useTransition()};oe.version="18.3.1";Pm.exports=oe;var D=Pm.exports;const At=Mm(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw=D,Vw=Symbol.for("react.element"),Uw=Symbol.for("react.fragment"),Ww=Object.prototype.hasOwnProperty,Qw=Bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qw={key:!0,ref:!0,__self:!0,__source:!0};function $m(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Ww.call(t,r)&&!qw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Vw,type:e,key:i,ref:o,props:s,_owner:Qw.current}}al.Fragment=Uw;al.jsx=$m;al.jsxs=$m;jm.exports=al;var p=jm.exports,ju={},Hm={exports:{}},yt={},Bm={exports:{}},Vm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,T){var O=b.length;b.push(T);e:for(;0<O;){var $=O-1>>>1,H=b[$];if(0<s(H,T))b[$]=T,b[O]=H,O=$;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var T=b[0],O=b.pop();if(O!==T){b[0]=O;e:for(var $=0,H=b.length,Q=H>>>1;$<Q;){var U=2*($+1)-1,Y=b[U],K=U+1,Z=b[K];if(0>s(Y,O))K<H&&0>s(Z,Y)?(b[$]=Z,b[K]=O,$=K):(b[$]=Y,b[U]=O,$=U);else if(K<H&&0>s(Z,O))b[$]=Z,b[K]=O,$=K;else break e}}return T}function s(b,T){var O=b.sortIndex-T.sortIndex;return O!==0?O:b.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,f=3,v=!1,m=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(b){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=b)r(u),T.sortIndex=T.expirationTime,t(l,T);else break;T=n(u)}}function x(b){if(w=!1,h(b),!m)if(n(l)!==null)m=!0,P(E);else{var T=n(u);T!==null&&z(x,T.startTime-b)}}function E(b,T){m=!1,w&&(w=!1,g(C),C=-1),v=!0;var O=f;try{for(h(T),c=n(l);c!==null&&(!(c.expirationTime>T)||b&&!R());){var $=c.callback;if(typeof $=="function"){c.callback=null,f=c.priorityLevel;var H=$(c.expirationTime<=T);T=e.unstable_now(),typeof H=="function"?c.callback=H:c===n(l)&&r(l),h(T)}else r(l);c=n(l)}if(c!==null)var Q=!0;else{var U=n(u);U!==null&&z(x,U.startTime-T),Q=!1}return Q}finally{c=null,f=O,v=!1}}var k=!1,_=null,C=-1,j=5,I=-1;function R(){return!(e.unstable_now()-I<j)}function A(){if(_!==null){var b=e.unstable_now();I=b;var T=!0;try{T=_(!0,b)}finally{T?B():(k=!1,_=null)}}else k=!1}var B;if(typeof y=="function")B=function(){y(A)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,L=N.port2;N.port1.onmessage=A,B=function(){L.postMessage(null)}}else B=function(){S(A,0)};function P(b){_=b,k||(k=!0,B())}function z(b,T){C=S(function(){b(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){m||v||(m=!0,P(E))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(b){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var O=f;f=T;try{return b()}finally{f=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,T){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var O=f;f=b;try{return T()}finally{f=O}},e.unstable_scheduleCallback=function(b,T,O){var $=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?$+O:$):O=$,b){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=O+H,b={id:d++,callback:T,priorityLevel:b,startTime:O,expirationTime:H,sortIndex:-1},O>$?(b.sortIndex=O,t(u,b),n(l)===null&&b===n(u)&&(w?(g(C),C=-1):w=!0,z(x,O-$))):(b.sortIndex=H,t(l,b),m||v||(m=!0,P(E))),b},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(b){var T=f;return function(){var O=f;f=T;try{return b.apply(this,arguments)}finally{f=O}}}})(Vm);Bm.exports=Vm;var Xw=Bm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw=D,mt=Xw;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Um=new Set,Ti={};function $r(e,t){Ns(e,t),Ns(e+"Capture",t)}function Ns(e,t){for(Ti[e]=t,e=0;e<t.length;e++)Um.add(t[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pu=Object.prototype.hasOwnProperty,Kw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Df={},Af={};function Gw(e){return Pu.call(Af,e)?!0:Pu.call(Df,e)?!1:Kw.test(e)?Af[e]=!0:(Df[e]=!0,!1)}function Zw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jw(e,t,n,r){if(t===null||typeof t>"u"||Zw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Je(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new Je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new Je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new Je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new Je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new Je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new Je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new Je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new Je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new Je(e,5,!1,e.toLowerCase(),null,!1,!1)});var od=/[\-:]([a-z])/g;function ad(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(od,ad);He[t]=new Je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(od,ad);He[t]=new Je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(od,ad);He[t]=new Je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new Je(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new Je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new Je(e,1,!1,e.toLowerCase(),null,!0,!0)});function ld(e,t,n,r){var s=He.hasOwnProperty(t)?He[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jw(t,n,s,r)&&(n=null),r||s===null?Gw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wn=Yw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,To=Symbol.for("react.element"),Wr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),ud=Symbol.for("react.strict_mode"),Ru=Symbol.for("react.profiler"),Wm=Symbol.for("react.provider"),Qm=Symbol.for("react.context"),cd=Symbol.for("react.forward_ref"),Iu=Symbol.for("react.suspense"),Du=Symbol.for("react.suspense_list"),dd=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),qm=Symbol.for("react.offscreen"),Lf=Symbol.iterator;function Js(e){return e===null||typeof e!="object"?null:(e=Lf&&e[Lf]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Ql;function ci(e){if(Ql===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ql=t&&t[1]||""}return`
`+Ql+e}var ql=!1;function Xl(e,t){if(!e||ql)return"";ql=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ql=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ci(e):""}function e1(e){switch(e.tag){case 5:return ci(e.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 2:case 15:return e=Xl(e.type,!1),e;case 11:return e=Xl(e.type.render,!1),e;case 1:return e=Xl(e.type,!0),e;default:return""}}function Au(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qr:return"Fragment";case Wr:return"Portal";case Ru:return"Profiler";case ud:return"StrictMode";case Iu:return"Suspense";case Du:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qm:return(e.displayName||"Context")+".Consumer";case Wm:return(e._context.displayName||"Context")+".Provider";case cd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dd:return t=e.displayName||null,t!==null?t:Au(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return Au(e(t))}catch{}}return null}function t1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Au(t);case 8:return t===ud?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n1(e){var t=Xm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mo(e){e._valueTracker||(e._valueTracker=n1(e))}function Ym(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lu(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Of(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Km(e,t){t=t.checked,t!=null&&ld(e,"checked",t,!1)}function Ou(e,t){Km(e,t);var n=Jn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zu(e,t.type,n):t.hasOwnProperty("defaultValue")&&zu(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zu(e,t,n){(t!=="number"||Ea(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var di=Array.isArray;function is(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ff(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(di(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jn(n)}}function Gm(e,t){var n=Jn(t.value),r=Jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $f(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $u(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jo,Jm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r1=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(e){r1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yi[t]=yi[e]})});function eg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yi.hasOwnProperty(e)&&yi[e]?(""+t).trim():t+"px"}function tg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=eg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var s1=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hu(e,t){if(t){if(s1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Bu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=null;function fd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uu=null,os=null,as=null;function Hf(e){if(e=co(e)){if(typeof Uu!="function")throw Error(V(280));var t=e.stateNode;t&&(t=fl(t),Uu(e.stateNode,e.type,t))}}function ng(e){os?as?as.push(e):as=[e]:os=e}function rg(){if(os){var e=os,t=as;if(as=os=null,Hf(e),t)for(e=0;e<t.length;e++)Hf(t[e])}}function sg(e,t){return e(t)}function ig(){}var Yl=!1;function og(e,t,n){if(Yl)return e(t,n);Yl=!0;try{return sg(e,t,n)}finally{Yl=!1,(os!==null||as!==null)&&(ig(),rg())}}function ji(e,t){var n=e.stateNode;if(n===null)return null;var r=fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Wu=!1;if(mn)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){Wu=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{Wu=!1}function i1(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var vi=!1,ka=null,_a=!1,Qu=null,o1={onError:function(e){vi=!0,ka=e}};function a1(e,t,n,r,s,i,o,a,l){vi=!1,ka=null,i1.apply(o1,arguments)}function l1(e,t,n,r,s,i,o,a,l){if(a1.apply(this,arguments),vi){if(vi){var u=ka;vi=!1,ka=null}else throw Error(V(198));_a||(_a=!0,Qu=u)}}function Hr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ag(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bf(e){if(Hr(e)!==e)throw Error(V(188))}function u1(e){var t=e.alternate;if(!t){if(t=Hr(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Bf(s),e;if(i===r)return Bf(s),t;i=i.sibling}throw Error(V(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function lg(e){return e=u1(e),e!==null?ug(e):null}function ug(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ug(e);if(t!==null)return t;e=e.sibling}return null}var cg=mt.unstable_scheduleCallback,Vf=mt.unstable_cancelCallback,c1=mt.unstable_shouldYield,d1=mt.unstable_requestPaint,Te=mt.unstable_now,f1=mt.unstable_getCurrentPriorityLevel,hd=mt.unstable_ImmediatePriority,dg=mt.unstable_UserBlockingPriority,Na=mt.unstable_NormalPriority,h1=mt.unstable_LowPriority,fg=mt.unstable_IdlePriority,ll=null,Gt=null;function p1(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ll,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:y1,m1=Math.log,g1=Math.LN2;function y1(e){return e>>>=0,e===0?32:31-(m1(e)/g1|0)|0}var Po=64,Ro=4194304;function fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ca(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=fi(a):(i&=o,i!==0&&(r=fi(i)))}else o=n&~s,o!==0?r=fi(o):i!==0&&(r=fi(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),s=1<<n,r|=e[n],t&=~s;return r}function v1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-zt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=v1(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function qu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hg(){var e=Po;return Po<<=1,!(Po&4194240)&&(Po=64),e}function Kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function w1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-zt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function pd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var me=0;function pg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mg,md,gg,yg,vg,Xu=!1,Io=[],Vn=null,Un=null,Wn=null,Pi=new Map,Ri=new Map,jn=[],S1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uf(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(t.pointerId)}}function ti(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=co(t),t!==null&&md(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function E1(e,t,n,r,s){switch(t){case"focusin":return Vn=ti(Vn,e,t,n,r,s),!0;case"dragenter":return Un=ti(Un,e,t,n,r,s),!0;case"mouseover":return Wn=ti(Wn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pi.set(i,ti(Pi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ri.set(i,ti(Ri.get(i)||null,e,t,n,r,s)),!0}return!1}function xg(e){var t=ur(e.target);if(t!==null){var n=Hr(t);if(n!==null){if(t=n.tag,t===13){if(t=ag(n),t!==null){e.blockedOn=t,vg(e.priority,function(){gg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vu=r,n.target.dispatchEvent(r),Vu=null}else return t=co(n),t!==null&&md(t),e.blockedOn=n,!1;t.shift()}return!0}function Wf(e,t,n){sa(e)&&n.delete(t)}function k1(){Xu=!1,Vn!==null&&sa(Vn)&&(Vn=null),Un!==null&&sa(Un)&&(Un=null),Wn!==null&&sa(Wn)&&(Wn=null),Pi.forEach(Wf),Ri.forEach(Wf)}function ni(e,t){e.blockedOn===t&&(e.blockedOn=null,Xu||(Xu=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,k1)))}function Ii(e){function t(s){return ni(s,e)}if(0<Io.length){ni(Io[0],e);for(var n=1;n<Io.length;n++){var r=Io[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vn!==null&&ni(Vn,e),Un!==null&&ni(Un,e),Wn!==null&&ni(Wn,e),Pi.forEach(t),Ri.forEach(t),n=0;n<jn.length;n++)r=jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)xg(n),n.blockedOn===null&&jn.shift()}var ls=wn.ReactCurrentBatchConfig,ba=!0;function _1(e,t,n,r){var s=me,i=ls.transition;ls.transition=null;try{me=1,gd(e,t,n,r)}finally{me=s,ls.transition=i}}function N1(e,t,n,r){var s=me,i=ls.transition;ls.transition=null;try{me=4,gd(e,t,n,r)}finally{me=s,ls.transition=i}}function gd(e,t,n,r){if(ba){var s=Yu(e,t,n,r);if(s===null)ou(e,t,r,Ta,n),Uf(e,r);else if(E1(s,e,t,n,r))r.stopPropagation();else if(Uf(e,r),t&4&&-1<S1.indexOf(e)){for(;s!==null;){var i=co(s);if(i!==null&&mg(i),i=Yu(e,t,n,r),i===null&&ou(e,t,r,Ta,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ou(e,t,r,null,n)}}var Ta=null;function Yu(e,t,n,r){if(Ta=null,e=fd(r),e=ur(e),e!==null)if(t=Hr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ag(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ta=e,null}function wg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f1()){case hd:return 1;case dg:return 4;case Na:case h1:return 16;case fg:return 536870912;default:return 16}default:return 16}}var Hn=null,yd=null,ia=null;function Sg(){if(ia)return ia;var e,t=yd,n=t.length,r,s="value"in Hn?Hn.value:Hn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ia=s.slice(e,1<r?1-r:void 0)}function oa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Do(){return!0}function Qf(){return!1}function vt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Do:Qf,this.isPropagationStopped=Qf,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Do)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Do)},persist:function(){},isPersistent:Do}),t}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vd=vt(Us),uo=Ne({},Us,{view:0,detail:0}),C1=vt(uo),Gl,Zl,ri,ul=Ne({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(Gl=e.screenX-ri.screenX,Zl=e.screenY-ri.screenY):Zl=Gl=0,ri=e),Gl)},movementY:function(e){return"movementY"in e?e.movementY:Zl}}),qf=vt(ul),b1=Ne({},ul,{dataTransfer:0}),T1=vt(b1),M1=Ne({},uo,{relatedTarget:0}),Jl=vt(M1),j1=Ne({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),P1=vt(j1),R1=Ne({},Us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),I1=vt(R1),D1=Ne({},Us,{data:0}),Xf=vt(D1),A1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=O1[e])?!!t[e]:!1}function xd(){return z1}var F1=Ne({},uo,{key:function(e){if(e.key){var t=A1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xd,charCode:function(e){return e.type==="keypress"?oa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$1=vt(F1),H1=Ne({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yf=vt(H1),B1=Ne({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xd}),V1=vt(B1),U1=Ne({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),W1=vt(U1),Q1=Ne({},ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q1=vt(Q1),X1=[9,13,27,32],wd=mn&&"CompositionEvent"in window,xi=null;mn&&"documentMode"in document&&(xi=document.documentMode);var Y1=mn&&"TextEvent"in window&&!xi,Eg=mn&&(!wd||xi&&8<xi&&11>=xi),Kf=" ",Gf=!1;function kg(e,t){switch(e){case"keyup":return X1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _g(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function K1(e,t){switch(e){case"compositionend":return _g(t);case"keypress":return t.which!==32?null:(Gf=!0,Kf);case"textInput":return e=t.data,e===Kf&&Gf?null:e;default:return null}}function G1(e,t){if(qr)return e==="compositionend"||!wd&&kg(e,t)?(e=Sg(),ia=yd=Hn=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eg&&t.locale!=="ko"?null:t.data;default:return null}}var Z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z1[e.type]:t==="textarea"}function Ng(e,t,n,r){ng(r),t=Ma(t,"onChange"),0<t.length&&(n=new vd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wi=null,Di=null;function J1(e){Lg(e,0)}function cl(e){var t=Kr(e);if(Ym(t))return e}function eS(e,t){if(e==="change")return t}var Cg=!1;if(mn){var eu;if(mn){var tu="oninput"in document;if(!tu){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),tu=typeof Jf.oninput=="function"}eu=tu}else eu=!1;Cg=eu&&(!document.documentMode||9<document.documentMode)}function eh(){wi&&(wi.detachEvent("onpropertychange",bg),Di=wi=null)}function bg(e){if(e.propertyName==="value"&&cl(Di)){var t=[];Ng(t,Di,e,fd(e)),og(J1,t)}}function tS(e,t,n){e==="focusin"?(eh(),wi=t,Di=n,wi.attachEvent("onpropertychange",bg)):e==="focusout"&&eh()}function nS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(Di)}function rS(e,t){if(e==="click")return cl(t)}function sS(e,t){if(e==="input"||e==="change")return cl(t)}function iS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:iS;function Ai(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Pu.call(t,s)||!$t(e[s],t[s]))return!1}return!0}function th(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nh(e,t){var n=th(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=th(n)}}function Tg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mg(){for(var e=window,t=Ea();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ea(e.document)}return t}function Sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oS(e){var t=Mg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tg(n.ownerDocument.documentElement,n)){if(r!==null&&Sd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=nh(n,i);var o=nh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aS=mn&&"documentMode"in document&&11>=document.documentMode,Xr=null,Ku=null,Si=null,Gu=!1;function rh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gu||Xr==null||Xr!==Ea(r)||(r=Xr,"selectionStart"in r&&Sd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Si&&Ai(Si,r)||(Si=r,r=Ma(Ku,"onSelect"),0<r.length&&(t=new vd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xr)))}function Ao(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yr={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionend:Ao("Transition","TransitionEnd")},nu={},jg={};mn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function dl(e){if(nu[e])return nu[e];if(!Yr[e])return e;var t=Yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jg)return nu[e]=t[n];return e}var Pg=dl("animationend"),Rg=dl("animationiteration"),Ig=dl("animationstart"),Dg=dl("transitionend"),Ag=new Map,sh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){Ag.set(e,t),$r(t,[e])}for(var ru=0;ru<sh.length;ru++){var su=sh[ru],lS=su.toLowerCase(),uS=su[0].toUpperCase()+su.slice(1);tr(lS,"on"+uS)}tr(Pg,"onAnimationEnd");tr(Rg,"onAnimationIteration");tr(Ig,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(Dg,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cS=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function ih(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,l1(r,t,void 0,e),e.currentTarget=null}function Lg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ih(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ih(s,a,u),i=l}}}if(_a)throw e=Qu,_a=!1,Qu=null,e}function ve(e,t){var n=t[nc];n===void 0&&(n=t[nc]=new Set);var r=e+"__bubble";n.has(r)||(Og(t,e,2,!1),n.add(r))}function iu(e,t,n){var r=0;t&&(r|=4),Og(n,e,r,t)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function Li(e){if(!e[Lo]){e[Lo]=!0,Um.forEach(function(n){n!=="selectionchange"&&(cS.has(n)||iu(n,!1,e),iu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lo]||(t[Lo]=!0,iu("selectionchange",!1,t))}}function Og(e,t,n,r){switch(wg(t)){case 1:var s=_1;break;case 4:s=N1;break;default:s=gd}n=s.bind(null,t,n,e),s=void 0,!Wu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ou(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ur(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}og(function(){var u=i,d=fd(n),c=[];e:{var f=Ag.get(e);if(f!==void 0){var v=vd,m=e;switch(e){case"keypress":if(oa(n)===0)break e;case"keydown":case"keyup":v=$1;break;case"focusin":m="focus",v=Jl;break;case"focusout":m="blur",v=Jl;break;case"beforeblur":case"afterblur":v=Jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=T1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=V1;break;case Pg:case Rg:case Ig:v=P1;break;case Dg:v=W1;break;case"scroll":v=C1;break;case"wheel":v=q1;break;case"copy":case"cut":case"paste":v=I1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Yf}var w=(t&4)!==0,S=!w&&e==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var y=u,h;y!==null;){h=y;var x=h.stateNode;if(h.tag===5&&x!==null&&(h=x,g!==null&&(x=ji(y,g),x!=null&&w.push(Oi(y,x,h)))),S)break;y=y.return}0<w.length&&(f=new v(f,m,null,n,d),c.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&n!==Vu&&(m=n.relatedTarget||n.fromElement)&&(ur(m)||m[gn]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(m=n.relatedTarget||n.toElement,v=u,m=m?ur(m):null,m!==null&&(S=Hr(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(v=null,m=u),v!==m)){if(w=qf,x="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=Yf,x="onPointerLeave",g="onPointerEnter",y="pointer"),S=v==null?f:Kr(v),h=m==null?f:Kr(m),f=new w(x,y+"leave",v,n,d),f.target=S,f.relatedTarget=h,x=null,ur(d)===u&&(w=new w(g,y+"enter",m,n,d),w.target=h,w.relatedTarget=S,x=w),S=x,v&&m)t:{for(w=v,g=m,y=0,h=w;h;h=Vr(h))y++;for(h=0,x=g;x;x=Vr(x))h++;for(;0<y-h;)w=Vr(w),y--;for(;0<h-y;)g=Vr(g),h--;for(;y--;){if(w===g||g!==null&&w===g.alternate)break t;w=Vr(w),g=Vr(g)}w=null}else w=null;v!==null&&oh(c,f,v,w,!1),m!==null&&S!==null&&oh(c,S,m,w,!0)}}e:{if(f=u?Kr(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var E=eS;else if(Zf(f))if(Cg)E=sS;else{E=nS;var k=tS}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=rS);if(E&&(E=E(e,u))){Ng(c,E,n,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&zu(f,"number",f.value)}switch(k=u?Kr(u):window,e){case"focusin":(Zf(k)||k.contentEditable==="true")&&(Xr=k,Ku=u,Si=null);break;case"focusout":Si=Ku=Xr=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,rh(c,n,d);break;case"selectionchange":if(aS)break;case"keydown":case"keyup":rh(c,n,d)}var _;if(wd)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else qr?kg(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Eg&&n.locale!=="ko"&&(qr||C!=="onCompositionStart"?C==="onCompositionEnd"&&qr&&(_=Sg()):(Hn=d,yd="value"in Hn?Hn.value:Hn.textContent,qr=!0)),k=Ma(u,C),0<k.length&&(C=new Xf(C,e,null,n,d),c.push({event:C,listeners:k}),_?C.data=_:(_=_g(n),_!==null&&(C.data=_)))),(_=Y1?K1(e,n):G1(e,n))&&(u=Ma(u,"onBeforeInput"),0<u.length&&(d=new Xf("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=_))}Lg(c,t)})}function Oi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ma(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ji(e,n),i!=null&&r.unshift(Oi(e,i,s)),i=ji(e,t),i!=null&&r.push(Oi(e,i,s))),e=e.return}return r}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ji(n,i),l!=null&&o.unshift(Oi(n,l,a))):s||(l=ji(n,i),l!=null&&o.push(Oi(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var dS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function ah(e){return(typeof e=="string"?e:""+e).replace(dS,`
`).replace(fS,"")}function Oo(e,t,n){if(t=ah(t),ah(e)!==t&&n)throw Error(V(425))}function ja(){}var Zu=null,Ju=null;function ec(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tc=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,lh=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof lh<"u"?function(e){return lh.resolve(null).then(e).catch(mS)}:tc;function mS(e){setTimeout(function(){throw e})}function au(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ii(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ii(t)}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Ws,zi="__reactProps$"+Ws,gn="__reactContainer$"+Ws,nc="__reactEvents$"+Ws,gS="__reactListeners$"+Ws,yS="__reactHandles$"+Ws;function ur(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uh(e);e!==null;){if(n=e[Kt])return n;e=uh(e)}return t}e=n,n=e.parentNode}return null}function co(e){return e=e[Kt]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function fl(e){return e[zi]||null}var rc=[],Gr=-1;function nr(e){return{current:e}}function xe(e){0>Gr||(e.current=rc[Gr],rc[Gr]=null,Gr--)}function ge(e,t){Gr++,rc[Gr]=e.current,e.current=t}var er={},qe=nr(er),ot=nr(!1),Mr=er;function Cs(e,t){var n=e.type.contextTypes;if(!n)return er;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function at(e){return e=e.childContextTypes,e!=null}function Pa(){xe(ot),xe(qe)}function ch(e,t,n){if(qe.current!==er)throw Error(V(168));ge(qe,t),ge(ot,n)}function zg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(V(108,t1(e)||"Unknown",s));return Ne({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,Mr=qe.current,ge(qe,e),ge(ot,ot.current),!0}function dh(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=zg(e,t,Mr),r.__reactInternalMemoizedMergedChildContext=e,xe(ot),xe(qe),ge(qe,e)):xe(ot),ge(ot,n)}var ln=null,hl=!1,lu=!1;function Fg(e){ln===null?ln=[e]:ln.push(e)}function vS(e){hl=!0,Fg(e)}function rr(){if(!lu&&ln!==null){lu=!0;var e=0,t=me;try{var n=ln;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,hl=!1}catch(s){throw ln!==null&&(ln=ln.slice(e+1)),cg(hd,rr),s}finally{me=t,lu=!1}}return null}var Zr=[],Jr=0,Ia=null,Da=0,St=[],Et=0,jr=null,dn=1,fn="";function ir(e,t){Zr[Jr++]=Da,Zr[Jr++]=Ia,Ia=e,Da=t}function $g(e,t,n){St[Et++]=dn,St[Et++]=fn,St[Et++]=jr,jr=e;var r=dn;e=fn;var s=32-zt(r)-1;r&=~(1<<s),n+=1;var i=32-zt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,dn=1<<32-zt(t)+s|n<<s|r,fn=i+e}else dn=1<<i|n<<s|r,fn=e}function Ed(e){e.return!==null&&(ir(e,1),$g(e,1,0))}function kd(e){for(;e===Ia;)Ia=Zr[--Jr],Zr[Jr]=null,Da=Zr[--Jr],Zr[Jr]=null;for(;e===jr;)jr=St[--Et],St[Et]=null,fn=St[--Et],St[Et]=null,dn=St[--Et],St[Et]=null}var pt=null,ht=null,we=!1,It=null;function Hg(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ht=Qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jr!==null?{id:dn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,ht=null,!0):!1;default:return!1}}function sc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ic(e){if(we){var t=ht;if(t){var n=t;if(!fh(e,t)){if(sc(e))throw Error(V(418));t=Qn(n.nextSibling);var r=pt;t&&fh(e,t)?Hg(r,n):(e.flags=e.flags&-4097|2,we=!1,pt=e)}}else{if(sc(e))throw Error(V(418));e.flags=e.flags&-4097|2,we=!1,pt=e}}}function hh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function zo(e){if(e!==pt)return!1;if(!we)return hh(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ec(e.type,e.memoizedProps)),t&&(t=ht)){if(sc(e))throw Bg(),Error(V(418));for(;t;)Hg(e,t),t=Qn(t.nextSibling)}if(hh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=Qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=pt?Qn(e.stateNode.nextSibling):null;return!0}function Bg(){for(var e=ht;e;)e=Qn(e.nextSibling)}function bs(){ht=pt=null,we=!1}function _d(e){It===null?It=[e]:It.push(e)}var xS=wn.ReactCurrentBatchConfig;function si(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Fo(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ph(e){var t=e._init;return t(e._payload)}function Vg(e){function t(g,y){if(e){var h=g.deletions;h===null?(g.deletions=[y],g.flags|=16):h.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Kn(g,y),g.index=0,g.sibling=null,g}function i(g,y,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<y?(g.flags|=2,y):h):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,y,h,x){return y===null||y.tag!==6?(y=mu(h,g.mode,x),y.return=g,y):(y=s(y,h),y.return=g,y)}function l(g,y,h,x){var E=h.type;return E===Qr?d(g,y,h.props.children,x,h.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tn&&ph(E)===y.type)?(x=s(y,h.props),x.ref=si(g,y,h),x.return=g,x):(x=ha(h.type,h.key,h.props,null,g.mode,x),x.ref=si(g,y,h),x.return=g,x)}function u(g,y,h,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==h.containerInfo||y.stateNode.implementation!==h.implementation?(y=gu(h,g.mode,x),y.return=g,y):(y=s(y,h.children||[]),y.return=g,y)}function d(g,y,h,x,E){return y===null||y.tag!==7?(y=Nr(h,g.mode,x,E),y.return=g,y):(y=s(y,h),y.return=g,y)}function c(g,y,h){if(typeof y=="string"&&y!==""||typeof y=="number")return y=mu(""+y,g.mode,h),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case To:return h=ha(y.type,y.key,y.props,null,g.mode,h),h.ref=si(g,null,y),h.return=g,h;case Wr:return y=gu(y,g.mode,h),y.return=g,y;case Tn:var x=y._init;return c(g,x(y._payload),h)}if(di(y)||Js(y))return y=Nr(y,g.mode,h,null),y.return=g,y;Fo(g,y)}return null}function f(g,y,h,x){var E=y!==null?y.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return E!==null?null:a(g,y,""+h,x);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case To:return h.key===E?l(g,y,h,x):null;case Wr:return h.key===E?u(g,y,h,x):null;case Tn:return E=h._init,f(g,y,E(h._payload),x)}if(di(h)||Js(h))return E!==null?null:d(g,y,h,x,null);Fo(g,h)}return null}function v(g,y,h,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(h)||null,a(y,g,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case To:return g=g.get(x.key===null?h:x.key)||null,l(y,g,x,E);case Wr:return g=g.get(x.key===null?h:x.key)||null,u(y,g,x,E);case Tn:var k=x._init;return v(g,y,h,k(x._payload),E)}if(di(x)||Js(x))return g=g.get(h)||null,d(y,g,x,E,null);Fo(y,x)}return null}function m(g,y,h,x){for(var E=null,k=null,_=y,C=y=0,j=null;_!==null&&C<h.length;C++){_.index>C?(j=_,_=null):j=_.sibling;var I=f(g,_,h[C],x);if(I===null){_===null&&(_=j);break}e&&_&&I.alternate===null&&t(g,_),y=i(I,y,C),k===null?E=I:k.sibling=I,k=I,_=j}if(C===h.length)return n(g,_),we&&ir(g,C),E;if(_===null){for(;C<h.length;C++)_=c(g,h[C],x),_!==null&&(y=i(_,y,C),k===null?E=_:k.sibling=_,k=_);return we&&ir(g,C),E}for(_=r(g,_);C<h.length;C++)j=v(_,g,C,h[C],x),j!==null&&(e&&j.alternate!==null&&_.delete(j.key===null?C:j.key),y=i(j,y,C),k===null?E=j:k.sibling=j,k=j);return e&&_.forEach(function(R){return t(g,R)}),we&&ir(g,C),E}function w(g,y,h,x){var E=Js(h);if(typeof E!="function")throw Error(V(150));if(h=E.call(h),h==null)throw Error(V(151));for(var k=E=null,_=y,C=y=0,j=null,I=h.next();_!==null&&!I.done;C++,I=h.next()){_.index>C?(j=_,_=null):j=_.sibling;var R=f(g,_,I.value,x);if(R===null){_===null&&(_=j);break}e&&_&&R.alternate===null&&t(g,_),y=i(R,y,C),k===null?E=R:k.sibling=R,k=R,_=j}if(I.done)return n(g,_),we&&ir(g,C),E;if(_===null){for(;!I.done;C++,I=h.next())I=c(g,I.value,x),I!==null&&(y=i(I,y,C),k===null?E=I:k.sibling=I,k=I);return we&&ir(g,C),E}for(_=r(g,_);!I.done;C++,I=h.next())I=v(_,g,C,I.value,x),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?C:I.key),y=i(I,y,C),k===null?E=I:k.sibling=I,k=I);return e&&_.forEach(function(A){return t(g,A)}),we&&ir(g,C),E}function S(g,y,h,x){if(typeof h=="object"&&h!==null&&h.type===Qr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case To:e:{for(var E=h.key,k=y;k!==null;){if(k.key===E){if(E=h.type,E===Qr){if(k.tag===7){n(g,k.sibling),y=s(k,h.props.children),y.return=g,g=y;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tn&&ph(E)===k.type){n(g,k.sibling),y=s(k,h.props),y.ref=si(g,k,h),y.return=g,g=y;break e}n(g,k);break}else t(g,k);k=k.sibling}h.type===Qr?(y=Nr(h.props.children,g.mode,x,h.key),y.return=g,g=y):(x=ha(h.type,h.key,h.props,null,g.mode,x),x.ref=si(g,y,h),x.return=g,g=x)}return o(g);case Wr:e:{for(k=h.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===h.containerInfo&&y.stateNode.implementation===h.implementation){n(g,y.sibling),y=s(y,h.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else t(g,y);y=y.sibling}y=gu(h,g.mode,x),y.return=g,g=y}return o(g);case Tn:return k=h._init,S(g,y,k(h._payload),x)}if(di(h))return m(g,y,h,x);if(Js(h))return w(g,y,h,x);Fo(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,h),y.return=g,g=y):(n(g,y),y=mu(h,g.mode,x),y.return=g,g=y),o(g)):n(g,y)}return S}var Ts=Vg(!0),Ug=Vg(!1),Aa=nr(null),La=null,es=null,Nd=null;function Cd(){Nd=es=La=null}function bd(e){var t=Aa.current;xe(Aa),e._currentValue=t}function oc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function us(e,t){La=e,Nd=es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Nd!==e)if(e={context:e,memoizedValue:t,next:null},es===null){if(La===null)throw Error(V(308));es=e,La.dependencies={lanes:0,firstContext:e}}else es=es.next=e;return t}var cr=null;function Td(e){cr===null?cr=[e]:cr.push(e)}function Wg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Td(t)):(n.next=s.next,s.next=n),t.interleaved=n,yn(e,r)}function yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mn=!1;function Md(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,yn(e,n)}return s=r.interleaved,s===null?(t.next=t,Td(r)):(t.next=s.next,s.next=t),r.interleaved=t,yn(e,n)}function aa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pd(e,n)}}function mh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oa(e,t,n,r){var s=e.updateQueue;Mn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var c=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,v=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,w=a;switch(f=t,v=n,w.tag){case 1:if(m=w.payload,typeof m=="function"){c=m.call(v,c,f);break e}c=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(v,c,f):m,f==null)break e;c=Ne({},c,f);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=c):d=d.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=c),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Rr|=o,e.lanes=o,e.memoizedState=c}}function gh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(V(191,s));s.call(r)}}}var fo={},Zt=nr(fo),Fi=nr(fo),$i=nr(fo);function dr(e){if(e===fo)throw Error(V(174));return e}function jd(e,t){switch(ge($i,t),ge(Fi,e),ge(Zt,fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$u(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$u(t,e)}xe(Zt),ge(Zt,t)}function Ms(){xe(Zt),xe(Fi),xe($i)}function qg(e){dr($i.current);var t=dr(Zt.current),n=$u(t,e.type);t!==n&&(ge(Fi,e),ge(Zt,n))}function Pd(e){Fi.current===e&&(xe(Zt),xe(Fi))}var ke=nr(0);function za(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uu=[];function Rd(){for(var e=0;e<uu.length;e++)uu[e]._workInProgressVersionPrimary=null;uu.length=0}var la=wn.ReactCurrentDispatcher,cu=wn.ReactCurrentBatchConfig,Pr=0,_e=null,Re=null,Ae=null,Fa=!1,Ei=!1,Hi=0,wS=0;function Ve(){throw Error(V(321))}function Id(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Dd(e,t,n,r,s,i){if(Pr=i,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=e===null||e.memoizedState===null?_S:NS,e=n(r,s),Ei){i=0;do{if(Ei=!1,Hi=0,25<=i)throw Error(V(301));i+=1,Ae=Re=null,t.updateQueue=null,la.current=CS,e=n(r,s)}while(Ei)}if(la.current=$a,t=Re!==null&&Re.next!==null,Pr=0,Ae=Re=_e=null,Fa=!1,t)throw Error(V(300));return e}function Ad(){var e=Hi!==0;return Hi=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?_e.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function Ct(){if(Re===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Ae===null?_e.memoizedState:Ae.next;if(t!==null)Ae=t,Re=e;else{if(e===null)throw Error(V(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ae===null?_e.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Bi(e,t){return typeof t=="function"?t(e):t}function du(e){var t=Ct(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=Re,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Pr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,o=r):l=l.next=c,_e.lanes|=d,Rr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,$t(r,t.memoizedState)||(rt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,_e.lanes|=i,Rr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fu(e){var t=Ct(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);$t(i,t.memoizedState)||(rt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Xg(){}function Yg(e,t){var n=_e,r=Ct(),s=t(),i=!$t(r.memoizedState,s);if(i&&(r.memoizedState=s,rt=!0),r=r.queue,Ld(Zg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,Vi(9,Gg.bind(null,n,r,s,t),void 0,null),Le===null)throw Error(V(349));Pr&30||Kg(n,t,s)}return s}function Kg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gg(e,t,n,r){t.value=n,t.getSnapshot=r,Jg(t)&&ey(e)}function Zg(e,t,n){return n(function(){Jg(t)&&ey(e)})}function Jg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function ey(e){var t=yn(e,1);t!==null&&Ft(t,e,1,-1)}function yh(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},t.queue=e,e=e.dispatch=kS.bind(null,_e,e),[t.memoizedState,e]}function Vi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ty(){return Ct().memoizedState}function ua(e,t,n,r){var s=Wt();_e.flags|=e,s.memoizedState=Vi(1|t,n,void 0,r===void 0?null:r)}function pl(e,t,n,r){var s=Ct();r=r===void 0?null:r;var i=void 0;if(Re!==null){var o=Re.memoizedState;if(i=o.destroy,r!==null&&Id(r,o.deps)){s.memoizedState=Vi(t,n,i,r);return}}_e.flags|=e,s.memoizedState=Vi(1|t,n,i,r)}function vh(e,t){return ua(8390656,8,e,t)}function Ld(e,t){return pl(2048,8,e,t)}function ny(e,t){return pl(4,2,e,t)}function ry(e,t){return pl(4,4,e,t)}function sy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iy(e,t,n){return n=n!=null?n.concat([e]):null,pl(4,4,sy.bind(null,t,e),n)}function Od(){}function oy(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Id(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ay(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Id(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ly(e,t,n){return Pr&21?($t(n,t)||(n=hg(),_e.lanes|=n,Rr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function SS(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=cu.transition;cu.transition={};try{e(!1),t()}finally{me=n,cu.transition=r}}function uy(){return Ct().memoizedState}function ES(e,t,n){var r=Yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cy(e))dy(t,n);else if(n=Wg(e,t,n,r),n!==null){var s=Ge();Ft(n,e,r,s),fy(n,t,r)}}function kS(e,t,n){var r=Yn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cy(e))dy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,$t(a,o)){var l=t.interleaved;l===null?(s.next=s,Td(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Wg(e,t,s,r),n!==null&&(s=Ge(),Ft(n,e,r,s),fy(n,t,r))}}function cy(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function dy(e,t){Ei=Fa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pd(e,n)}}var $a={readContext:Nt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},_S={readContext:Nt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:vh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ua(4194308,4,sy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return ua(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ES.bind(null,_e,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:yh,useDebugValue:Od,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=yh(!1),t=e[0];return e=SS.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_e,s=Wt();if(we){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Le===null)throw Error(V(349));Pr&30||Kg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,vh(Zg.bind(null,r,i,e),[e]),r.flags|=2048,Vi(9,Gg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Wt(),t=Le.identifierPrefix;if(we){var n=fn,r=dn;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NS={readContext:Nt,useCallback:oy,useContext:Nt,useEffect:Ld,useImperativeHandle:iy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ay,useReducer:du,useRef:ty,useState:function(){return du(Bi)},useDebugValue:Od,useDeferredValue:function(e){var t=Ct();return ly(t,Re.memoizedState,e)},useTransition:function(){var e=du(Bi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Xg,useSyncExternalStore:Yg,useId:uy,unstable_isNewReconciler:!1},CS={readContext:Nt,useCallback:oy,useContext:Nt,useEffect:Ld,useImperativeHandle:iy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ay,useReducer:fu,useRef:ty,useState:function(){return fu(Bi)},useDebugValue:Od,useDeferredValue:function(e){var t=Ct();return Re===null?t.memoizedState=e:ly(t,Re.memoizedState,e)},useTransition:function(){var e=fu(Bi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Xg,useSyncExternalStore:Yg,useId:uy,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ac(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ml={isMounted:function(e){return(e=e._reactInternals)?Hr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ge(),s=Yn(e),i=pn(r,s);i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,s),t!==null&&(Ft(t,e,s,r),aa(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ge(),s=Yn(e),i=pn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,s),t!==null&&(Ft(t,e,s,r),aa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),r=Yn(e),s=pn(n,r);s.tag=2,t!=null&&(s.callback=t),t=qn(e,s,r),t!==null&&(Ft(t,e,r,n),aa(t,e,r))}};function xh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ai(n,r)||!Ai(s,i):!0}function hy(e,t,n){var r=!1,s=er,i=t.contextType;return typeof i=="object"&&i!==null?i=Nt(i):(s=at(t)?Mr:qe.current,r=t.contextTypes,i=(r=r!=null)?Cs(e,s):er),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function wh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function lc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Md(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Nt(i):(i=at(t)?Mr:qe.current,s.context=Cs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ac(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ml.enqueueReplaceState(s,s.state,null),Oa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function js(e,t){try{var n="",r=t;do n+=e1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function hu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function uc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bS=typeof WeakMap=="function"?WeakMap:Map;function py(e,t,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ba||(Ba=!0,xc=r),uc(e,t)},n}function my(e,t,n){n=pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){uc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){uc(e,t),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Sh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bS;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=HS.bind(null,e,t,n),t.then(e,e))}function Eh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pn(-1,1),t.tag=2,qn(n,t,1))),n.lanes|=1),e)}var TS=wn.ReactCurrentOwner,rt=!1;function Ke(e,t,n,r){t.child=e===null?Ug(t,null,n,r):Ts(t,e.child,n,r)}function _h(e,t,n,r,s){n=n.render;var i=t.ref;return us(t,s),r=Dd(e,t,n,r,i,s),n=Ad(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(we&&n&&Ed(t),t.flags|=1,Ke(e,t,r,s),t.child)}function Nh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Wd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,gy(e,t,i,r,s)):(e=ha(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ai,n(o,r)&&e.ref===t.ref)return vn(e,t,s)}return t.flags|=1,e=Kn(i,r),e.ref=t.ref,e.return=t,t.child=e}function gy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ai(i,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,vn(e,t,s)}return cc(e,t,n,r,s)}function yy(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(ns,dt),dt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(ns,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(ns,dt),dt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ge(ns,dt),dt|=r;return Ke(e,t,s,n),t.child}function vy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function cc(e,t,n,r,s){var i=at(n)?Mr:qe.current;return i=Cs(t,i),us(t,s),n=Dd(e,t,n,r,i,s),r=Ad(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(we&&r&&Ed(t),t.flags|=1,Ke(e,t,n,s),t.child)}function Ch(e,t,n,r,s){if(at(n)){var i=!0;Ra(t)}else i=!1;if(us(t,s),t.stateNode===null)ca(e,t),hy(t,n,r),lc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=at(n)?Mr:qe.current,u=Cs(t,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&wh(t,o,r,u),Mn=!1;var f=t.memoizedState;o.state=f,Oa(t,r,o,s),l=t.memoizedState,a!==r||f!==l||ot.current||Mn?(typeof d=="function"&&(ac(t,n,d,r),l=t.memoizedState),(a=Mn||xh(t,n,a,r,f,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Qg(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Tt(t.type,a),o.props=u,c=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nt(l):(l=at(n)?Mr:qe.current,l=Cs(t,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||f!==l)&&wh(t,o,r,l),Mn=!1,f=t.memoizedState,o.state=f,Oa(t,r,o,s);var m=t.memoizedState;a!==c||f!==m||ot.current||Mn?(typeof v=="function"&&(ac(t,n,v,r),m=t.memoizedState),(u=Mn||xh(t,n,u,r,f,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return dc(e,t,n,r,i,s)}function dc(e,t,n,r,s,i){vy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&dh(t,n,!1),vn(e,t,i);r=t.stateNode,TS.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ts(t,e.child,null,i),t.child=Ts(t,null,a,i)):Ke(e,t,a,i),t.memoizedState=r.state,s&&dh(t,n,!0),t.child}function xy(e){var t=e.stateNode;t.pendingContext?ch(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ch(e,t.context,!1),jd(e,t.containerInfo)}function bh(e,t,n,r,s){return bs(),_d(s),t.flags|=256,Ke(e,t,n,r),t.child}var fc={dehydrated:null,treeContext:null,retryLane:0};function hc(e){return{baseLanes:e,cachePool:null,transitions:null}}function wy(e,t,n){var r=t.pendingProps,s=ke.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ge(ke,s&1),e===null)return ic(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vl(o,r,0,null),e=Nr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hc(n),t.memoizedState=fc,e):zd(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return MS(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Kn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Kn(a,i):(i=Nr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?hc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=fc,r}return i=e.child,e=i.sibling,r=Kn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zd(e,t){return t=vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $o(e,t,n,r){return r!==null&&_d(r),Ts(t,e.child,null,n),e=zd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MS(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=hu(Error(V(422))),$o(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=vl({mode:"visible",children:r.children},s,0,null),i=Nr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ts(t,e.child,null,o),t.child.memoizedState=hc(o),t.memoizedState=fc,i);if(!(t.mode&1))return $o(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(V(419)),r=hu(i,r,void 0),$o(e,t,o,r)}if(a=(o&e.childLanes)!==0,rt||a){if(r=Le,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yn(e,s),Ft(r,e,s,-1))}return Ud(),r=hu(Error(V(421))),$o(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=BS.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ht=Qn(s.nextSibling),pt=t,we=!0,It=null,e!==null&&(St[Et++]=dn,St[Et++]=fn,St[Et++]=jr,dn=e.id,fn=e.overflow,jr=t),t=zd(t,r.children),t.flags|=4096,t)}function Th(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oc(e.return,t,n)}function pu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Sy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ke(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Th(e,n,t);else if(e.tag===19)Th(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&za(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),pu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&za(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}pu(t,!0,n,null,i);break;case"together":pu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ca(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Kn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jS(e,t,n){switch(t.tag){case 3:xy(t),bs();break;case 5:qg(t);break;case 1:at(t.type)&&Ra(t);break;case 4:jd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ge(Aa,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?wy(e,t,n):(ge(ke,ke.current&1),e=vn(e,t,n),e!==null?e.sibling:null);ge(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Sy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,yy(e,t,n)}return vn(e,t,n)}var Ey,pc,ky,_y;Ey=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pc=function(){};ky=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,dr(Zt.current);var i=null;switch(n){case"input":s=Lu(e,s),r=Lu(e,r),i=[];break;case"select":s=Ne({},s,{value:void 0}),r=Ne({},r,{value:void 0}),i=[];break;case"textarea":s=Fu(e,s),r=Fu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ja)}Hu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ti.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ve("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};_y=function(e,t,n,r){n!==r&&(t.flags|=4)};function ii(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function PS(e,t,n){var r=t.pendingProps;switch(kd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return at(t.type)&&Pa(),Ue(t),null;case 3:return r=t.stateNode,Ms(),xe(ot),xe(qe),Rd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(Ec(It),It=null))),pc(e,t),Ue(t),null;case 5:Pd(t);var s=dr($i.current);if(n=t.type,e!==null&&t.stateNode!=null)ky(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Ue(t),null}if(e=dr(Zt.current),zo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Kt]=t,r[zi]=i,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<hi.length;s++)ve(hi[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Of(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":Ff(r,i),ve("invalid",r)}Hu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Oo(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Oo(r.textContent,a,e),s=["children",""+a]):Ti.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Mo(r),zf(r,i,!0);break;case"textarea":Mo(r),$f(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ja)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Kt]=t,e[zi]=r,Ey(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bu(n,r),n){case"dialog":ve("cancel",e),ve("close",e),s=r;break;case"iframe":case"object":case"embed":ve("load",e),s=r;break;case"video":case"audio":for(s=0;s<hi.length;s++)ve(hi[s],e);s=r;break;case"source":ve("error",e),s=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=r;break;case"details":ve("toggle",e),s=r;break;case"input":Of(e,r),s=Lu(e,r),ve("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ne({},r,{value:void 0}),ve("invalid",e);break;case"textarea":Ff(e,r),s=Fu(e,r),ve("invalid",e);break;default:s=r}Hu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?tg(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jm(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mi(e,l):typeof l=="number"&&Mi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ti.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ve("scroll",e):l!=null&&ld(e,i,l,o))}switch(n){case"input":Mo(e),zf(e,r,!1);break;case"textarea":Mo(e),$f(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?is(e,!!r.multiple,i,!1):r.defaultValue!=null&&is(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ja)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)_y(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=dr($i.current),dr(Zt.current),zo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kt]=t,(i=r.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:Oo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=t,t.stateNode=r}return Ue(t),null;case 13:if(xe(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&ht!==null&&t.mode&1&&!(t.flags&128))Bg(),bs(),t.flags|=98560,i=!1;else if(i=zo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[Kt]=t}else bs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),i=!1}else It!==null&&(Ec(It),It=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Ie===0&&(Ie=3):Ud())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return Ms(),pc(e,t),e===null&&Li(t.stateNode.containerInfo),Ue(t),null;case 10:return bd(t.type._context),Ue(t),null;case 17:return at(t.type)&&Pa(),Ue(t),null;case 19:if(xe(ke),i=t.memoizedState,i===null)return Ue(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ii(i,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=za(e),o!==null){for(t.flags|=128,ii(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(ke,ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>Ps&&(t.flags|=128,r=!0,ii(i,!1),t.lanes=4194304)}else{if(!r)if(e=za(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ii(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return Ue(t),null}else 2*Te()-i.renderingStartTime>Ps&&n!==1073741824&&(t.flags|=128,r=!0,ii(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=ke.current,ge(ke,r?n&1|2:n&1),t):(Ue(t),null);case 22:case 23:return Vd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dt&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function RS(e,t){switch(kd(t),t.tag){case 1:return at(t.type)&&Pa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),xe(ot),xe(qe),Rd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pd(t),null;case 13:if(xe(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));bs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ke),null;case 4:return Ms(),null;case 10:return bd(t.type._context),null;case 22:case 23:return Vd(),null;case 24:return null;default:return null}}var Ho=!1,We=!1,IS=typeof WeakSet=="function"?WeakSet:Set,X=null;function ts(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function mc(e,t,n){try{n()}catch(r){be(e,t,r)}}var Mh=!1;function DS(e,t){if(Zu=ba,e=Mg(),Sd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,c=e,f=null;t:for(;;){for(var v;c!==n||s!==0&&c.nodeType!==3||(a=o+s),c!==i||r!==0&&c.nodeType!==3||(l=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(v=c.firstChild)!==null;)f=c,c=v;for(;;){if(c===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(v=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ju={focusedElem:e,selectionRange:n},ba=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,S=m.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:Tt(t.type,w),S);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(x){be(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return m=Mh,Mh=!1,m}function ki(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&mc(t,n,i)}s=s.next}while(s!==r)}}function gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ny(e){var t=e.alternate;t!==null&&(e.alternate=null,Ny(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[zi],delete t[nc],delete t[gS],delete t[yS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cy(e){return e.tag===5||e.tag===3||e.tag===4}function jh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ja));else if(r!==4&&(e=e.child,e!==null))for(yc(e,t,n),e=e.sibling;e!==null;)yc(e,t,n),e=e.sibling}function vc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vc(e,t,n),e=e.sibling;e!==null;)vc(e,t,n),e=e.sibling}var ze=null,Pt=!1;function _n(e,t,n){for(n=n.child;n!==null;)by(e,t,n),n=n.sibling}function by(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 5:We||ts(n,t);case 6:var r=ze,s=Pt;ze=null,_n(e,t,n),ze=r,Pt=s,ze!==null&&(Pt?(e=ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Pt?(e=ze,n=n.stateNode,e.nodeType===8?au(e.parentNode,n):e.nodeType===1&&au(e,n),Ii(e)):au(ze,n.stateNode));break;case 4:r=ze,s=Pt,ze=n.stateNode.containerInfo,Pt=!0,_n(e,t,n),ze=r,Pt=s;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&mc(n,t,o),s=s.next}while(s!==r)}_n(e,t,n);break;case 1:if(!We&&(ts(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){be(n,t,a)}_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,_n(e,t,n),We=r):_n(e,t,n);break;default:_n(e,t,n)}}function Ph(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new IS),t.forEach(function(r){var s=VS.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ze=a.stateNode,Pt=!1;break e;case 3:ze=a.stateNode.containerInfo,Pt=!0;break e;case 4:ze=a.stateNode.containerInfo,Pt=!0;break e}a=a.return}if(ze===null)throw Error(V(160));by(i,o,s),ze=null,Pt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){be(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ty(t,e),t=t.sibling}function Ty(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),Vt(e),r&4){try{ki(3,e,e.return),gl(3,e)}catch(w){be(e,e.return,w)}try{ki(5,e,e.return)}catch(w){be(e,e.return,w)}}break;case 1:bt(t,e),Vt(e),r&512&&n!==null&&ts(n,n.return);break;case 5:if(bt(t,e),Vt(e),r&512&&n!==null&&ts(n,n.return),e.flags&32){var s=e.stateNode;try{Mi(s,"")}catch(w){be(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Km(s,i),Bu(a,o);var u=Bu(a,i);for(o=0;o<l.length;o+=2){var d=l[o],c=l[o+1];d==="style"?tg(s,c):d==="dangerouslySetInnerHTML"?Jm(s,c):d==="children"?Mi(s,c):ld(s,d,c,u)}switch(a){case"input":Ou(s,i);break;case"textarea":Gm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?is(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?is(s,!!i.multiple,i.defaultValue,!0):is(s,!!i.multiple,i.multiple?[]:"",!1))}s[zi]=i}catch(w){be(e,e.return,w)}}break;case 6:if(bt(t,e),Vt(e),r&4){if(e.stateNode===null)throw Error(V(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){be(e,e.return,w)}}break;case 3:if(bt(t,e),Vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ii(t.containerInfo)}catch(w){be(e,e.return,w)}break;case 4:bt(t,e),Vt(e);break;case 13:bt(t,e),Vt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hd=Te())),r&4&&Ph(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(We=(u=We)||d,bt(t,e),We=u):bt(t,e),Vt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(c=X=d;X!==null;){switch(f=X,v=f.child,f.tag){case 0:case 11:case 14:case 15:ki(4,f,f.return);break;case 1:ts(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(w){be(r,n,w)}}break;case 5:ts(f,f.return);break;case 22:if(f.memoizedState!==null){Ih(c);continue}}v!==null?(v.return=f,X=v):Ih(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{s=c.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eg("display",o))}catch(w){be(e,e.return,w)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(w){be(e,e.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:bt(t,e),Vt(e),r&4&&Ph(e);break;case 21:break;default:bt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cy(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Mi(s,""),r.flags&=-33);var i=jh(e);vc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=jh(e);yc(e,a,o);break;default:throw Error(V(161))}}catch(l){be(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AS(e,t,n){X=e,My(e)}function My(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ho;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||We;a=Ho;var u=We;if(Ho=o,(We=l)&&!u)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?Dh(s):l!==null?(l.return=o,X=l):Dh(s);for(;i!==null;)X=i,My(i),i=i.sibling;X=s,Ho=a,We=u}Rh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Rh(e)}}function Rh(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||gl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!We)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Ii(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}We||t.flags&512&&gc(t)}catch(f){be(t,t.return,f)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Ih(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Dh(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gl(4,t)}catch(l){be(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){be(t,s,l)}}var i=t.return;try{gc(t)}catch(l){be(t,i,l)}break;case 5:var o=t.return;try{gc(t)}catch(l){be(t,o,l)}}}catch(l){be(t,t.return,l)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var LS=Math.ceil,Ha=wn.ReactCurrentDispatcher,Fd=wn.ReactCurrentOwner,_t=wn.ReactCurrentBatchConfig,ce=0,Le=null,je=null,$e=0,dt=0,ns=nr(0),Ie=0,Ui=null,Rr=0,yl=0,$d=0,_i=null,nt=null,Hd=0,Ps=1/0,an=null,Ba=!1,xc=null,Xn=null,Bo=!1,Bn=null,Va=0,Ni=0,wc=null,da=-1,fa=0;function Ge(){return ce&6?Te():da!==-1?da:da=Te()}function Yn(e){return e.mode&1?ce&2&&$e!==0?$e&-$e:xS.transition!==null?(fa===0&&(fa=hg()),fa):(e=me,e!==0||(e=window.event,e=e===void 0?16:wg(e.type)),e):1}function Ft(e,t,n,r){if(50<Ni)throw Ni=0,wc=null,Error(V(185));lo(e,n,r),(!(ce&2)||e!==Le)&&(e===Le&&(!(ce&2)&&(yl|=n),Ie===4&&Pn(e,$e)),lt(e,r),n===1&&ce===0&&!(t.mode&1)&&(Ps=Te()+500,hl&&rr()))}function lt(e,t){var n=e.callbackNode;x1(e,t);var r=Ca(e,e===Le?$e:0);if(r===0)n!==null&&Vf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Vf(n),t===1)e.tag===0?vS(Ah.bind(null,e)):Fg(Ah.bind(null,e)),pS(function(){!(ce&6)&&rr()}),n=null;else{switch(pg(r)){case 1:n=hd;break;case 4:n=dg;break;case 16:n=Na;break;case 536870912:n=fg;break;default:n=Na}n=Oy(n,jy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jy(e,t){if(da=-1,fa=0,ce&6)throw Error(V(327));var n=e.callbackNode;if(cs()&&e.callbackNode!==n)return null;var r=Ca(e,e===Le?$e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ua(e,r);else{t=r;var s=ce;ce|=2;var i=Ry();(Le!==e||$e!==t)&&(an=null,Ps=Te()+500,_r(e,t));do try{FS();break}catch(a){Py(e,a)}while(!0);Cd(),Ha.current=i,ce=s,je!==null?t=0:(Le=null,$e=0,t=Ie)}if(t!==0){if(t===2&&(s=qu(e),s!==0&&(r=s,t=Sc(e,s))),t===1)throw n=Ui,_r(e,0),Pn(e,r),lt(e,Te()),n;if(t===6)Pn(e,r);else{if(s=e.current.alternate,!(r&30)&&!OS(s)&&(t=Ua(e,r),t===2&&(i=qu(e),i!==0&&(r=i,t=Sc(e,i))),t===1))throw n=Ui,_r(e,0),Pn(e,r),lt(e,Te()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:or(e,nt,an);break;case 3:if(Pn(e,r),(r&130023424)===r&&(t=Hd+500-Te(),10<t)){if(Ca(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ge(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=tc(or.bind(null,e,nt,an),t);break}or(e,nt,an);break;case 4:if(Pn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-zt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LS(r/1960))-r,10<r){e.timeoutHandle=tc(or.bind(null,e,nt,an),r);break}or(e,nt,an);break;case 5:or(e,nt,an);break;default:throw Error(V(329))}}}return lt(e,Te()),e.callbackNode===n?jy.bind(null,e):null}function Sc(e,t){var n=_i;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=Ua(e,t),e!==2&&(t=nt,nt=n,t!==null&&Ec(t)),e}function Ec(e){nt===null?nt=e:nt.push.apply(nt,e)}function OS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!$t(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~$d,t&=~yl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function Ah(e){if(ce&6)throw Error(V(327));cs();var t=Ca(e,0);if(!(t&1))return lt(e,Te()),null;var n=Ua(e,t);if(e.tag!==0&&n===2){var r=qu(e);r!==0&&(t=r,n=Sc(e,r))}if(n===1)throw n=Ui,_r(e,0),Pn(e,t),lt(e,Te()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,nt,an),lt(e,Te()),null}function Bd(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Ps=Te()+500,hl&&rr())}}function Ir(e){Bn!==null&&Bn.tag===0&&!(ce&6)&&cs();var t=ce;ce|=1;var n=_t.transition,r=me;try{if(_t.transition=null,me=1,e)return e()}finally{me=r,_t.transition=n,ce=t,!(ce&6)&&rr()}}function Vd(){dt=ns.current,xe(ns)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hS(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(kd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pa();break;case 3:Ms(),xe(ot),xe(qe),Rd();break;case 5:Pd(r);break;case 4:Ms();break;case 13:xe(ke);break;case 19:xe(ke);break;case 10:bd(r.type._context);break;case 22:case 23:Vd()}n=n.return}if(Le=e,je=e=Kn(e.current,null),$e=dt=t,Ie=0,Ui=null,$d=yl=Rr=0,nt=_i=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cr=null}return e}function Py(e,t){do{var n=je;try{if(Cd(),la.current=$a,Fa){for(var r=_e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Fa=!1}if(Pr=0,Ae=Re=_e=null,Ei=!1,Hi=0,Fd.current=null,n===null||n.return===null){Ie=1,Ui=t,je=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=$e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Eh(o);if(v!==null){v.flags&=-257,kh(v,o,a,i,t),v.mode&1&&Sh(i,u,t),t=v,l=u;var m=t.updateQueue;if(m===null){var w=new Set;w.add(l),t.updateQueue=w}else m.add(l);break e}else{if(!(t&1)){Sh(i,u,t),Ud();break e}l=Error(V(426))}}else if(we&&a.mode&1){var S=Eh(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),kh(S,o,a,i,t),_d(js(l,a));break e}}i=l=js(l,a),Ie!==4&&(Ie=2),_i===null?_i=[i]:_i.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=py(i,l,t);mh(i,g);break e;case 1:a=l;var y=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Xn===null||!Xn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=my(i,a,t);mh(i,x);break e}}i=i.return}while(i!==null)}Dy(n)}catch(E){t=E,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Ry(){var e=Ha.current;return Ha.current=$a,e===null?$a:e}function Ud(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Le===null||!(Rr&268435455)&&!(yl&268435455)||Pn(Le,$e)}function Ua(e,t){var n=ce;ce|=2;var r=Ry();(Le!==e||$e!==t)&&(an=null,_r(e,t));do try{zS();break}catch(s){Py(e,s)}while(!0);if(Cd(),ce=n,Ha.current=r,je!==null)throw Error(V(261));return Le=null,$e=0,Ie}function zS(){for(;je!==null;)Iy(je)}function FS(){for(;je!==null&&!c1();)Iy(je)}function Iy(e){var t=Ly(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?Dy(e):je=t,Fd.current=null}function Dy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=RS(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,je=null;return}}else if(n=PS(n,t,dt),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ie===0&&(Ie=5)}function or(e,t,n){var r=me,s=_t.transition;try{_t.transition=null,me=1,$S(e,t,n,r)}finally{_t.transition=s,me=r}return null}function $S(e,t,n,r){do cs();while(Bn!==null);if(ce&6)throw Error(V(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(w1(e,i),e===Le&&(je=Le=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bo||(Bo=!0,Oy(Na,function(){return cs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_t.transition,_t.transition=null;var o=me;me=1;var a=ce;ce|=4,Fd.current=null,DS(e,n),Ty(n,e),oS(Ju),ba=!!Zu,Ju=Zu=null,e.current=n,AS(n),d1(),ce=a,me=o,_t.transition=i}else e.current=n;if(Bo&&(Bo=!1,Bn=e,Va=s),i=e.pendingLanes,i===0&&(Xn=null),p1(n.stateNode),lt(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ba)throw Ba=!1,e=xc,xc=null,e;return Va&1&&e.tag!==0&&cs(),i=e.pendingLanes,i&1?e===wc?Ni++:(Ni=0,wc=e):Ni=0,rr(),null}function cs(){if(Bn!==null){var e=pg(Va),t=_t.transition,n=me;try{if(_t.transition=null,me=16>e?16:e,Bn===null)var r=!1;else{if(e=Bn,Bn=null,Va=0,ce&6)throw Error(V(331));var s=ce;for(ce|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:ki(8,d,i)}var c=d.child;if(c!==null)c.return=d,X=c;else for(;X!==null;){d=X;var f=d.sibling,v=d.return;if(Ny(d),d===u){X=null;break}if(f!==null){f.return=v,X=f;break}X=v}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ki(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,X=g;break e}X=i.return}}var y=e.current;for(X=y;X!==null;){o=X;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,X=h;else e:for(o=y;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gl(9,a)}}catch(E){be(a,a.return,E)}if(a===o){X=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,X=x;break e}X=a.return}}if(ce=s,rr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ll,e)}catch{}r=!0}return r}finally{me=n,_t.transition=t}}return!1}function Lh(e,t,n){t=js(n,t),t=py(e,t,1),e=qn(e,t,1),t=Ge(),e!==null&&(lo(e,1,t),lt(e,t))}function be(e,t,n){if(e.tag===3)Lh(e,e,n);else for(;t!==null;){if(t.tag===3){Lh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){e=js(n,e),e=my(t,e,1),t=qn(t,e,1),e=Ge(),t!==null&&(lo(t,1,e),lt(t,e));break}}t=t.return}}function HS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,Le===e&&($e&n)===n&&(Ie===4||Ie===3&&($e&130023424)===$e&&500>Te()-Hd?_r(e,0):$d|=n),lt(e,t)}function Ay(e,t){t===0&&(e.mode&1?(t=Ro,Ro<<=1,!(Ro&130023424)&&(Ro=4194304)):t=1);var n=Ge();e=yn(e,t),e!==null&&(lo(e,t,n),lt(e,n))}function BS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ay(e,n)}function VS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),Ay(e,n)}var Ly;Ly=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,jS(e,t,n);rt=!!(e.flags&131072)}else rt=!1,we&&t.flags&1048576&&$g(t,Da,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ca(e,t),e=t.pendingProps;var s=Cs(t,qe.current);us(t,n),s=Dd(null,t,r,e,s,n);var i=Ad();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(i=!0,Ra(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Md(t),s.updater=ml,t.stateNode=s,s._reactInternals=t,lc(t,r,e,n),t=dc(null,t,r,!0,i,n)):(t.tag=0,we&&i&&Ed(t),Ke(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ca(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=WS(r),e=Tt(r,e),s){case 0:t=cc(null,t,r,e,n);break e;case 1:t=Ch(null,t,r,e,n);break e;case 11:t=_h(null,t,r,e,n);break e;case 14:t=Nh(null,t,r,Tt(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),cc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),Ch(e,t,r,s,n);case 3:e:{if(xy(t),e===null)throw Error(V(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Qg(e,t),Oa(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=js(Error(V(423)),t),t=bh(e,t,r,n,s);break e}else if(r!==s){s=js(Error(V(424)),t),t=bh(e,t,r,n,s);break e}else for(ht=Qn(t.stateNode.containerInfo.firstChild),pt=t,we=!0,It=null,n=Ug(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bs(),r===s){t=vn(e,t,n);break e}Ke(e,t,r,n)}t=t.child}return t;case 5:return qg(t),e===null&&ic(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ec(r,s)?o=null:i!==null&&ec(r,i)&&(t.flags|=32),vy(e,t),Ke(e,t,o,n),t.child;case 6:return e===null&&ic(t),null;case 13:return wy(e,t,n);case 4:return jd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ts(t,null,r,n):Ke(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),_h(e,t,r,s,n);case 7:return Ke(e,t,t.pendingProps,n),t.child;case 8:return Ke(e,t,t.pendingProps.children,n),t.child;case 12:return Ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ge(Aa,r._currentValue),r._currentValue=o,i!==null)if($t(i.value,o)){if(i.children===s.children&&!ot.current){t=vn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=pn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),oc(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),oc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ke(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,us(t,n),s=Nt(s),r=r(s),t.flags|=1,Ke(e,t,r,n),t.child;case 14:return r=t.type,s=Tt(r,t.pendingProps),s=Tt(r.type,s),Nh(e,t,r,s,n);case 15:return gy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),ca(e,t),t.tag=1,at(r)?(e=!0,Ra(t)):e=!1,us(t,n),hy(t,r,s),lc(t,r,s,n),dc(null,t,r,!0,e,n);case 19:return Sy(e,t,n);case 22:return yy(e,t,n)}throw Error(V(156,t.tag))};function Oy(e,t){return cg(e,t)}function US(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new US(e,t,n,r)}function Wd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WS(e){if(typeof e=="function")return Wd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cd)return 11;if(e===dd)return 14}return 2}function Kn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ha(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Wd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qr:return Nr(n.children,s,i,t);case ud:o=8,s|=8;break;case Ru:return e=kt(12,n,t,s|2),e.elementType=Ru,e.lanes=i,e;case Iu:return e=kt(13,n,t,s),e.elementType=Iu,e.lanes=i,e;case Du:return e=kt(19,n,t,s),e.elementType=Du,e.lanes=i,e;case qm:return vl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wm:o=10;break e;case Qm:o=9;break e;case cd:o=11;break e;case dd:o=14;break e;case Tn:o=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=kt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Nr(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function vl(e,t,n,r){return e=kt(22,e,r,t),e.elementType=qm,e.lanes=n,e.stateNode={isHidden:!1},e}function mu(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function gu(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QS(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kl(0),this.expirationTimes=Kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qd(e,t,n,r,s,i,o,a,l){return e=new QS(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=kt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Md(i),e}function qS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zy(e){if(!e)return er;e=e._reactInternals;e:{if(Hr(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(at(n))return zg(e,n,t)}return t}function Fy(e,t,n,r,s,i,o,a,l){return e=Qd(n,r,!0,e,s,i,o,a,l),e.context=zy(null),n=e.current,r=Ge(),s=Yn(n),i=pn(r,s),i.callback=t??null,qn(n,i,s),e.current.lanes=s,lo(e,s,r),lt(e,r),e}function xl(e,t,n,r){var s=t.current,i=Ge(),o=Yn(s);return n=zy(n),t.context===null?t.context=n:t.pendingContext=n,t=pn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qn(s,t,o),e!==null&&(Ft(e,s,o,i),aa(e,s,o)),o}function Wa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Oh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qd(e,t){Oh(e,t),(e=e.alternate)&&Oh(e,t)}function XS(){return null}var $y=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xd(e){this._internalRoot=e}wl.prototype.render=Xd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));xl(e,t,null,null)};wl.prototype.unmount=Xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){xl(null,e,null,null)}),t[gn]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=yg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jn.length&&t!==0&&t<jn[n].priority;n++);jn.splice(n,0,e),n===0&&xg(e)}};function Yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zh(){}function YS(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Wa(o);i.call(u)}}var o=Fy(t,r,e,0,null,!1,!1,"",zh);return e._reactRootContainer=o,e[gn]=o.current,Li(e.nodeType===8?e.parentNode:e),Ir(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Wa(l);a.call(u)}}var l=Qd(e,0,!1,null,null,!1,!1,"",zh);return e._reactRootContainer=l,e[gn]=l.current,Li(e.nodeType===8?e.parentNode:e),Ir(function(){xl(t,l,n,r)}),l}function El(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Wa(o);a.call(l)}}xl(t,o,e,s)}else o=YS(n,t,e,s,r);return Wa(o)}mg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fi(t.pendingLanes);n!==0&&(pd(t,n|1),lt(t,Te()),!(ce&6)&&(Ps=Te()+500,rr()))}break;case 13:Ir(function(){var r=yn(e,1);if(r!==null){var s=Ge();Ft(r,e,1,s)}}),qd(e,1)}};md=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var n=Ge();Ft(t,e,134217728,n)}qd(e,134217728)}};gg=function(e){if(e.tag===13){var t=Yn(e),n=yn(e,t);if(n!==null){var r=Ge();Ft(n,e,t,r)}qd(e,t)}};yg=function(){return me};vg=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};Uu=function(e,t,n){switch(t){case"input":if(Ou(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=fl(r);if(!s)throw Error(V(90));Ym(r),Ou(r,s)}}}break;case"textarea":Gm(e,n);break;case"select":t=n.value,t!=null&&is(e,!!n.multiple,t,!1)}};sg=Bd;ig=Ir;var KS={usingClientEntryPoint:!1,Events:[co,Kr,fl,ng,rg,Bd]},oi={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GS={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lg(e),e===null?null:e.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||XS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{ll=Vo.inject(GS),Gt=Vo}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KS;yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yd(t))throw Error(V(200));return qS(e,t,null,n)};yt.createRoot=function(e,t){if(!Yd(e))throw Error(V(299));var n=!1,r="",s=$y;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Qd(e,1,!1,null,null,n,!1,r,s),e[gn]=t.current,Li(e.nodeType===8?e.parentNode:e),new Xd(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=lg(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return Ir(e)};yt.hydrate=function(e,t,n){if(!Sl(t))throw Error(V(200));return El(null,e,t,!0,n)};yt.hydrateRoot=function(e,t,n){if(!Yd(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$y;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Fy(t,null,e,1,n??null,s,!1,i,o),e[gn]=t.current,Li(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new wl(t)};yt.render=function(e,t,n){if(!Sl(t))throw Error(V(200));return El(null,e,t,!1,n)};yt.unmountComponentAtNode=function(e){if(!Sl(e))throw Error(V(40));return e._reactRootContainer?(Ir(function(){El(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};yt.unstable_batchedUpdates=Bd;yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sl(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return El(e,t,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function Hy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hy)}catch(e){console.error(e)}}Hy(),Hm.exports=yt;var By=Hm.exports,Fh=By;ju.createRoot=Fh.createRoot,ju.hydrateRoot=Fh.hydrateRoot;var ho=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ZS={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},In,td,xm,JS=(xm=class{constructor(){ee(this,In,ZS);ee(this,td,!1)}setTimeoutProvider(e){q(this,In,e)}setTimeout(e,t){return M(this,In).setTimeout(e,t)}clearTimeout(e){M(this,In).clearTimeout(e)}setInterval(e,t){return M(this,In).setInterval(e,t)}clearInterval(e){M(this,In).clearInterval(e)}},In=new WeakMap,td=new WeakMap,xm),fr=new JS;function e2(e){setTimeout(e,0)}var Dr=typeof window>"u"||"Deno"in globalThis;function tt(){}function t2(e,t){return typeof e=="function"?e(t):e}function kc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Vy(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gn(e,t){return typeof e=="function"?e(t):e}function wt(e,t){return typeof e=="function"?e(t):e}function $h(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Kd(o,t.options))return!1}else if(!Qi(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Hh(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Wi(t.options.mutationKey)!==Wi(i))return!1}else if(!Qi(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Kd(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wi)(e)}function Wi(e){return JSON.stringify(e,(t,n)=>Nc(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Qi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Qi(e[n],t[n])):!1}var n2=Object.prototype.hasOwnProperty;function Uy(e,t){if(e===t)return e;const n=Bh(e)&&Bh(t);if(!n&&!(Nc(e)&&Nc(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u],c=e[d],f=t[d];if(c===f){a[d]=c,(n?u<s:n2.call(e,d))&&l++;continue}if(c===null||f===null||typeof c!="object"||typeof f!="object"){a[d]=f;continue}const v=Uy(c,f);a[d]=v,v===c&&l++}return s===o&&l===s?e:a}function _c(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Bh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nc(e){if(!Vh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Vh(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Vh(e){return Object.prototype.toString.call(e)==="[object Object]"}function r2(e){return new Promise(t=>{fr.setTimeout(t,e)})}function Cc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Uy(e,t):t}function s2(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function i2(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Gd=Symbol();function Wy(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Gd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function o2(e,t){return typeof e=="function"?e(...t):!!e}var mr,Dn,hs,wm,a2=(wm=class extends ho{constructor(){super();ee(this,mr);ee(this,Dn);ee(this,hs);q(this,hs,t=>{if(!Dr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,Dn)||this.setEventListener(M(this,hs))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,Dn))==null||t.call(this),q(this,Dn,void 0))}setEventListener(t){var n;q(this,hs,t),(n=M(this,Dn))==null||n.call(this),q(this,Dn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){M(this,mr)!==t&&(q(this,mr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof M(this,mr)=="boolean"?M(this,mr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},mr=new WeakMap,Dn=new WeakMap,hs=new WeakMap,wm),Zd=new a2;function bc(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var l2=e2;function u2(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=l2;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Fe=u2(),ps,An,ms,Sm,c2=(Sm=class extends ho{constructor(){super();ee(this,ps,!0);ee(this,An);ee(this,ms);q(this,ms,t=>{if(!Dr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,An)||this.setEventListener(M(this,ms))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,An))==null||t.call(this),q(this,An,void 0))}setEventListener(t){var n;q(this,ms,t),(n=M(this,An))==null||n.call(this),q(this,An,t(this.setOnline.bind(this)))}setOnline(t){M(this,ps)!==t&&(q(this,ps,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return M(this,ps)}},ps=new WeakMap,An=new WeakMap,ms=new WeakMap,Sm),Qa=new c2;function d2(e){return Math.min(1e3*2**e,3e4)}function Qy(e){return(e??"online")==="online"?Qa.isOnline():!0}var Tc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function qy(e){let t=!1,n=0,r;const s=bc(),i=()=>s.status!=="pending",o=w=>{var S;if(!i()){const g=new Tc(w);f(g),(S=e.onCancel)==null||S.call(e,g)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>Zd.isFocused()&&(e.networkMode==="always"||Qa.isOnline())&&e.canRun(),d=()=>Qy(e.networkMode)&&e.canRun(),c=w=>{i()||(r==null||r(),s.resolve(w))},f=w=>{i()||(r==null||r(),s.reject(w))},v=()=>new Promise(w=>{var S;r=g=>{(i()||u())&&w(g)},(S=e.onPause)==null||S.call(e)}).then(()=>{var w;r=void 0,i()||(w=e.onContinue)==null||w.call(e)}),m=()=>{if(i())return;let w;const S=n===0?e.initialPromise:void 0;try{w=S??e.fn()}catch(g){w=Promise.reject(g)}Promise.resolve(w).then(c).catch(g=>{var k;if(i())return;const y=e.retry??(Dr?0:3),h=e.retryDelay??d2,x=typeof h=="function"?h(n,g):h,E=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,g);if(t||!E){f(g);return}n++,(k=e.onFail)==null||k.call(e,n,g),r2(x).then(()=>u()?void 0:v()).then(()=>{t?f(g):m()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?m():v().then(m),s)}}var gr,Em,Xy=(Em=class{constructor(){ee(this,gr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kc(this.gcTime)&&q(this,gr,fr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Dr?1/0:5*60*1e3))}clearGcTimeout(){M(this,gr)&&(fr.clearTimeout(M(this,gr)),q(this,gr,void 0))}},gr=new WeakMap,Em),yr,gs,xt,vr,De,no,xr,Mt,on,km,f2=(km=class extends Xy{constructor(t){super();ee(this,Mt);ee(this,yr);ee(this,gs);ee(this,xt);ee(this,vr);ee(this,De);ee(this,no);ee(this,xr);q(this,xr,!1),q(this,no,t.defaultOptions),this.setOptions(t.options),this.observers=[],q(this,vr,t.client),q(this,xt,M(this,vr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,q(this,yr,Wh(this.options)),this.state=t.state??M(this,yr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=M(this,De))==null?void 0:t.promise}setOptions(t){if(this.options={...M(this,no),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Wh(this.options);n.data!==void 0&&(this.setState(Uh(n.data,n.dataUpdatedAt)),q(this,yr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,xt).remove(this)}setData(t,n){const r=Cc(this.state.data,t,this.options);return ae(this,Mt,on).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ae(this,Mt,on).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=M(this,De))==null?void 0:r.promise;return(s=M(this,De))==null||s.cancel(t),n?n.then(tt).catch(tt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,yr))}isActive(){return this.observers.some(t=>wt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Gn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Vy(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=M(this,De))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=M(this,De))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),M(this,xt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(M(this,De)&&(M(this,xr)?M(this,De).cancel({revert:!0}):M(this,De).cancelRetry()),this.scheduleGc()),M(this,xt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ae(this,Mt,on).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,d,c,f,v,m,w,S,g,y,h;if(this.state.fetchStatus!=="idle"&&((l=M(this,De))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(M(this,De))return M(this,De).continueRetry(),M(this,De).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(E=>E.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(q(this,xr,!0),r.signal)})},i=()=>{const x=Wy(this.options,n),k=(()=>{const _={client:M(this,vr),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return q(this,xr,!1),this.options.persister?this.options.persister(x,k,this):x(k)},a=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:M(this,vr),state:this.state,fetchFn:i};return s(x),x})();(u=this.options.behavior)==null||u.onFetch(a,this),q(this,gs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&ae(this,Mt,on).call(this,{type:"fetch",meta:(c=a.fetchOptions)==null?void 0:c.meta}),q(this,De,qy({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:x=>{x instanceof Tc&&x.revert&&this.setState({...M(this,gs),fetchStatus:"idle"}),r.abort()},onFail:(x,E)=>{ae(this,Mt,on).call(this,{type:"failed",failureCount:x,error:E})},onPause:()=>{ae(this,Mt,on).call(this,{type:"pause"})},onContinue:()=>{ae(this,Mt,on).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const x=await M(this,De).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(v=(f=M(this,xt).config).onSuccess)==null||v.call(f,x,this),(w=(m=M(this,xt).config).onSettled)==null||w.call(m,x,this.state.error,this),x}catch(x){if(x instanceof Tc){if(x.silent)return M(this,De).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw ae(this,Mt,on).call(this,{type:"error",error:x}),(g=(S=M(this,xt).config).onError)==null||g.call(S,x,this),(h=(y=M(this,xt).config).onSettled)==null||h.call(y,this.state.data,x,this),x}finally{this.scheduleGc()}}},yr=new WeakMap,gs=new WeakMap,xt=new WeakMap,vr=new WeakMap,De=new WeakMap,no=new WeakMap,xr=new WeakMap,Mt=new WeakSet,on=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Yy(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...Uh(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return q(this,gs,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Fe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),M(this,xt).notify({query:this,type:"updated",action:t})})},km);function Yy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Qy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Uh(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Wh(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var et,le,ro,Xe,wr,ys,un,Ln,so,vs,xs,Sr,Er,On,ws,he,pi,Mc,jc,Pc,Rc,Ic,Dc,Ac,Ky,_m,h2=(_m=class extends ho{constructor(t,n){super();ee(this,he);ee(this,et);ee(this,le);ee(this,ro);ee(this,Xe);ee(this,wr);ee(this,ys);ee(this,un);ee(this,Ln);ee(this,so);ee(this,vs);ee(this,xs);ee(this,Sr);ee(this,Er);ee(this,On);ee(this,ws,new Set);this.options=n,q(this,et,t),q(this,Ln,null),q(this,un,bc()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,le).addObserver(this),Qh(M(this,le),this.options)?ae(this,he,pi).call(this):this.updateResult(),ae(this,he,Rc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Lc(M(this,le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lc(M(this,le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ae(this,he,Ic).call(this),ae(this,he,Dc).call(this),M(this,le).removeObserver(this)}setOptions(t){const n=this.options,r=M(this,le);if(this.options=M(this,et).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wt(this.options.enabled,M(this,le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ae(this,he,Ac).call(this),M(this,le).setOptions(this.options),n._defaulted&&!_c(this.options,n)&&M(this,et).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,le),observer:this});const s=this.hasListeners();s&&qh(M(this,le),r,this.options,n)&&ae(this,he,pi).call(this),this.updateResult(),s&&(M(this,le)!==r||wt(this.options.enabled,M(this,le))!==wt(n.enabled,M(this,le))||Gn(this.options.staleTime,M(this,le))!==Gn(n.staleTime,M(this,le)))&&ae(this,he,Mc).call(this);const i=ae(this,he,jc).call(this);s&&(M(this,le)!==r||wt(this.options.enabled,M(this,le))!==wt(n.enabled,M(this,le))||i!==M(this,On))&&ae(this,he,Pc).call(this,i)}getOptimisticResult(t){const n=M(this,et).getQueryCache().build(M(this,et),t),r=this.createResult(n,t);return m2(this,r)&&(q(this,Xe,r),q(this,ys,this.options),q(this,wr,M(this,le).state)),r}getCurrentResult(){return M(this,Xe)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&M(this,un).status==="pending"&&M(this,un).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){M(this,ws).add(t)}getCurrentQuery(){return M(this,le)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=M(this,et).defaultQueryOptions(t),r=M(this,et).getQueryCache().build(M(this,et),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ae(this,he,pi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,Xe)))}createResult(t,n){var j;const r=M(this,le),s=this.options,i=M(this,Xe),o=M(this,wr),a=M(this,ys),u=t!==r?t.state:M(this,ro),{state:d}=t;let c={...d},f=!1,v;if(n._optimisticResults){const I=this.hasListeners(),R=!I&&Qh(t,n),A=I&&qh(t,r,n,s);(R||A)&&(c={...c,...Yy(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:m,errorUpdatedAt:w,status:S}=c;v=c.data;let g=!1;if(n.placeholderData!==void 0&&v===void 0&&S==="pending"){let I;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(I=i.data,g=!0):I=typeof n.placeholderData=="function"?n.placeholderData((j=M(this,xs))==null?void 0:j.state.data,M(this,xs)):n.placeholderData,I!==void 0&&(S="success",v=Cc(i==null?void 0:i.data,I,n),f=!0)}if(n.select&&v!==void 0&&!g)if(i&&v===(o==null?void 0:o.data)&&n.select===M(this,so))v=M(this,vs);else try{q(this,so,n.select),v=n.select(v),v=Cc(i==null?void 0:i.data,v,n),q(this,vs,v),q(this,Ln,null)}catch(I){q(this,Ln,I)}M(this,Ln)&&(m=M(this,Ln),v=M(this,vs),w=Date.now(),S="error");const y=c.fetchStatus==="fetching",h=S==="pending",x=S==="error",E=h&&y,k=v!==void 0,C={status:S,fetchStatus:c.fetchStatus,isPending:h,isSuccess:S==="success",isError:x,isInitialLoading:E,isLoading:E,data:v,dataUpdatedAt:c.dataUpdatedAt,error:m,errorUpdatedAt:w,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!h,isLoadingError:x&&!k,isPaused:c.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&k,isStale:Jd(t,n),refetch:this.refetch,promise:M(this,un),isEnabled:wt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=B=>{C.status==="error"?B.reject(C.error):C.data!==void 0&&B.resolve(C.data)},R=()=>{const B=q(this,un,C.promise=bc());I(B)},A=M(this,un);switch(A.status){case"pending":t.queryHash===r.queryHash&&I(A);break;case"fulfilled":(C.status==="error"||C.data!==A.value)&&R();break;case"rejected":(C.status!=="error"||C.error!==A.reason)&&R();break}}return C}updateResult(){const t=M(this,Xe),n=this.createResult(M(this,le),this.options);if(q(this,wr,M(this,le).state),q(this,ys,this.options),M(this,wr).data!==void 0&&q(this,xs,M(this,le)),_c(n,t))return;q(this,Xe,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!M(this,ws).size)return!0;const o=new Set(i??M(this,ws));return this.options.throwOnError&&o.add("error"),Object.keys(M(this,Xe)).some(a=>{const l=a;return M(this,Xe)[l]!==t[l]&&o.has(l)})};ae(this,he,Ky).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ae(this,he,Rc).call(this)}},et=new WeakMap,le=new WeakMap,ro=new WeakMap,Xe=new WeakMap,wr=new WeakMap,ys=new WeakMap,un=new WeakMap,Ln=new WeakMap,so=new WeakMap,vs=new WeakMap,xs=new WeakMap,Sr=new WeakMap,Er=new WeakMap,On=new WeakMap,ws=new WeakMap,he=new WeakSet,pi=function(t){ae(this,he,Ac).call(this);let n=M(this,le).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(tt)),n},Mc=function(){ae(this,he,Ic).call(this);const t=Gn(this.options.staleTime,M(this,le));if(Dr||M(this,Xe).isStale||!kc(t))return;const r=Vy(M(this,Xe).dataUpdatedAt,t)+1;q(this,Sr,fr.setTimeout(()=>{M(this,Xe).isStale||this.updateResult()},r))},jc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,le)):this.options.refetchInterval)??!1},Pc=function(t){ae(this,he,Dc).call(this),q(this,On,t),!(Dr||wt(this.options.enabled,M(this,le))===!1||!kc(M(this,On))||M(this,On)===0)&&q(this,Er,fr.setInterval(()=>{(this.options.refetchIntervalInBackground||Zd.isFocused())&&ae(this,he,pi).call(this)},M(this,On)))},Rc=function(){ae(this,he,Mc).call(this),ae(this,he,Pc).call(this,ae(this,he,jc).call(this))},Ic=function(){M(this,Sr)&&(fr.clearTimeout(M(this,Sr)),q(this,Sr,void 0))},Dc=function(){M(this,Er)&&(fr.clearInterval(M(this,Er)),q(this,Er,void 0))},Ac=function(){const t=M(this,et).getQueryCache().build(M(this,et),this.options);if(t===M(this,le))return;const n=M(this,le);q(this,le,t),q(this,ro,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Ky=function(t){Fe.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(M(this,Xe))}),M(this,et).getQueryCache().notify({query:M(this,le),type:"observerResultsUpdated"})})},_m);function p2(e,t){return wt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Qh(e,t){return p2(e,t)||e.state.data!==void 0&&Lc(e,t,t.refetchOnMount)}function Lc(e,t,n){if(wt(t.enabled,e)!==!1&&Gn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Jd(e,t)}return!1}function qh(e,t,n,r){return(e!==t||wt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Jd(e,n)}function Jd(e,t){return wt(t.enabled,e)!==!1&&e.isStaleByTime(Gn(t.staleTime,e))}function m2(e,t){return!_c(e.getCurrentResult(),t)}function Xh(e){return{onFetch:(t,n)=>{var d,c,f,v,m;const r=t.options,s=(f=(c=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:c.fetchMore)==null?void 0:f.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],o=((m=t.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const S=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},g=Wy(t.options,t.fetchOptions),y=async(h,x,E)=>{if(w)return Promise.reject();if(x==null&&h.pages.length)return Promise.resolve(h);const _=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:x,direction:E?"backward":"forward",meta:t.options.meta};return S(R),R})(),C=await g(_),{maxPages:j}=t.options,I=E?i2:s2;return{pages:I(h.pages,C,j),pageParams:I(h.pageParams,x,j)}};if(s&&i.length){const h=s==="backward",x=h?g2:Yh,E={pages:i,pageParams:o},k=x(r,E);a=await y(E,k,h)}else{const h=e??i.length;do{const x=l===0?o[0]??r.initialPageParam:Yh(r,a);if(l>0&&x==null)break;a=await y(a,x),l++}while(l<h)}return a};t.options.persister?t.fetchFn=()=>{var w,S;return(S=(w=t.options).persister)==null?void 0:S.call(w,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Yh(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function g2(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var io,Qt,Ye,kr,qt,bn,Nm,y2=(Nm=class extends Xy{constructor(t){super();ee(this,qt);ee(this,io);ee(this,Qt);ee(this,Ye);ee(this,kr);q(this,io,t.client),this.mutationId=t.mutationId,q(this,Ye,t.mutationCache),q(this,Qt,[]),this.state=t.state||v2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){M(this,Qt).includes(t)||(M(this,Qt).push(t),this.clearGcTimeout(),M(this,Ye).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){q(this,Qt,M(this,Qt).filter(n=>n!==t)),this.scheduleGc(),M(this,Ye).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){M(this,Qt).length||(this.state.status==="pending"?this.scheduleGc():M(this,Ye).remove(this))}continue(){var t;return((t=M(this,kr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,d,c,f,v,m,w,S,g,y,h,x,E,k,_,C,j;const n=()=>{ae(this,qt,bn).call(this,{type:"continue"})},r={client:M(this,io),meta:this.options.meta,mutationKey:this.options.mutationKey};q(this,kr,qy({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(I,R)=>{ae(this,qt,bn).call(this,{type:"failed",failureCount:I,error:R})},onPause:()=>{ae(this,qt,bn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,Ye).canRun(this)}));const s=this.state.status==="pending",i=!M(this,kr).canStart();try{if(s)n();else{ae(this,qt,bn).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=M(this,Ye).config).onMutate)==null?void 0:a.call(o,t,this,r));const R=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,r));R!==this.state.context&&ae(this,qt,bn).call(this,{type:"pending",context:R,variables:t,isPaused:i})}const I=await M(this,kr).start();return await((c=(d=M(this,Ye).config).onSuccess)==null?void 0:c.call(d,I,t,this.state.context,this,r)),await((v=(f=this.options).onSuccess)==null?void 0:v.call(f,I,t,this.state.context,r)),await((w=(m=M(this,Ye).config).onSettled)==null?void 0:w.call(m,I,null,this.state.variables,this.state.context,this,r)),await((g=(S=this.options).onSettled)==null?void 0:g.call(S,I,null,t,this.state.context,r)),ae(this,qt,bn).call(this,{type:"success",data:I}),I}catch(I){try{throw await((h=(y=M(this,Ye).config).onError)==null?void 0:h.call(y,I,t,this.state.context,this,r)),await((E=(x=this.options).onError)==null?void 0:E.call(x,I,t,this.state.context,r)),await((_=(k=M(this,Ye).config).onSettled)==null?void 0:_.call(k,void 0,I,this.state.variables,this.state.context,this,r)),await((j=(C=this.options).onSettled)==null?void 0:j.call(C,void 0,I,t,this.state.context,r)),I}finally{ae(this,qt,bn).call(this,{type:"error",error:I})}}finally{M(this,Ye).runNext(this)}}},io=new WeakMap,Qt=new WeakMap,Ye=new WeakMap,kr=new WeakMap,qt=new WeakSet,bn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Fe.batch(()=>{M(this,Qt).forEach(r=>{r.onMutationUpdate(t)}),M(this,Ye).notify({mutation:this,type:"updated",action:t})})},Nm);function v2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cn,jt,oo,Cm,x2=(Cm=class extends ho{constructor(t={}){super();ee(this,cn);ee(this,jt);ee(this,oo);this.config=t,q(this,cn,new Set),q(this,jt,new Map),q(this,oo,0)}build(t,n,r){const s=new y2({client:t,mutationCache:this,mutationId:++Co(this,oo)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){M(this,cn).add(t);const n=Uo(t);if(typeof n=="string"){const r=M(this,jt).get(n);r?r.push(t):M(this,jt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(M(this,cn).delete(t)){const n=Uo(t);if(typeof n=="string"){const r=M(this,jt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&M(this,jt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Uo(t);if(typeof n=="string"){const r=M(this,jt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Uo(t);if(typeof n=="string"){const s=(r=M(this,jt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Fe.batch(()=>{M(this,cn).forEach(t=>{this.notify({type:"removed",mutation:t})}),M(this,cn).clear(),M(this,jt).clear()})}getAll(){return Array.from(M(this,cn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Hh(n,r))}findAll(t={}){return this.getAll().filter(n=>Hh(t,n))}notify(t){Fe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Fe.batch(()=>Promise.all(t.map(n=>n.continue().catch(tt))))}},cn=new WeakMap,jt=new WeakMap,oo=new WeakMap,Cm);function Uo(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Xt,bm,w2=(bm=class extends ho{constructor(t={}){super();ee(this,Xt);this.config=t,q(this,Xt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Kd(s,n);let o=this.get(i);return o||(o=new f2({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){M(this,Xt).has(t.queryHash)||(M(this,Xt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=M(this,Xt).get(t.queryHash);n&&(t.destroy(),n===t&&M(this,Xt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return M(this,Xt).get(t)}getAll(){return[...M(this,Xt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>$h(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>$h(t,r)):n}notify(t){Fe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Fe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xt=new WeakMap,bm),Ce,zn,Fn,Ss,Es,$n,ks,_s,Tm,S2=(Tm=class{constructor(e={}){ee(this,Ce);ee(this,zn);ee(this,Fn);ee(this,Ss);ee(this,Es);ee(this,$n);ee(this,ks);ee(this,_s);q(this,Ce,e.queryCache||new w2),q(this,zn,e.mutationCache||new x2),q(this,Fn,e.defaultOptions||{}),q(this,Ss,new Map),q(this,Es,new Map),q(this,$n,0)}mount(){Co(this,$n)._++,M(this,$n)===1&&(q(this,ks,Zd.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,Ce).onFocus())})),q(this,_s,Qa.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,Ce).onOnline())})))}unmount(){var e,t;Co(this,$n)._--,M(this,$n)===0&&((e=M(this,ks))==null||e.call(this),q(this,ks,void 0),(t=M(this,_s))==null||t.call(this),q(this,_s,void 0))}isFetching(e){return M(this,Ce).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return M(this,zn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=M(this,Ce).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=M(this,Ce).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Gn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return M(this,Ce).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=M(this,Ce).get(r.queryHash),i=s==null?void 0:s.state.data,o=t2(t,i);if(o!==void 0)return M(this,Ce).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Fe.batch(()=>M(this,Ce).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=M(this,Ce).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=M(this,Ce);Fe.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=M(this,Ce);return Fe.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Fe.batch(()=>M(this,Ce).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(tt).catch(tt)}invalidateQueries(e,t={}){return Fe.batch(()=>(M(this,Ce).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Fe.batch(()=>M(this,Ce).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(tt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(tt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=M(this,Ce).build(this,t);return n.isStaleByTime(Gn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(tt).catch(tt)}fetchInfiniteQuery(e){return e.behavior=Xh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(tt).catch(tt)}ensureInfiniteQueryData(e){return e.behavior=Xh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qa.isOnline()?M(this,zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,Ce)}getMutationCache(){return M(this,zn)}getDefaultOptions(){return M(this,Fn)}setDefaultOptions(e){q(this,Fn,e)}setQueryDefaults(e,t){M(this,Ss).set(Wi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...M(this,Ss).values()],n={};return t.forEach(r=>{Qi(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){M(this,Es).set(Wi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...M(this,Es).values()],n={};return t.forEach(r=>{Qi(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...M(this,Fn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Kd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Gd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...M(this,Fn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){M(this,Ce).clear(),M(this,zn).clear()}},Ce=new WeakMap,zn=new WeakMap,Fn=new WeakMap,Ss=new WeakMap,Es=new WeakMap,$n=new WeakMap,ks=new WeakMap,_s=new WeakMap,Tm),Gy=D.createContext(void 0),E2=e=>{const t=D.useContext(Gy);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},k2=({client:e,children:t})=>(D.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(Gy.Provider,{value:e,children:t})),Zy=D.createContext(!1),_2=()=>D.useContext(Zy);Zy.Provider;function N2(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var C2=D.createContext(N2()),b2=()=>D.useContext(C2),T2=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},M2=e=>{D.useEffect(()=>{e.clearReset()},[e])},j2=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||o2(n,[e.error,r])),P2=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},R2=(e,t)=>e.isLoading&&e.isFetching&&!t,I2=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Kh=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function D2(e,t,n){var c,f,v,m,w;const r=_2(),s=b2(),i=E2(),o=i.defaultQueryOptions(e);(f=(c=i.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||f.call(c,o),o._optimisticResults=r?"isRestoring":"optimistic",P2(o),T2(o,s),M2(s);const a=!i.getQueryCache().get(o.queryHash),[l]=D.useState(()=>new t(i,o)),u=l.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(S=>{const g=d?l.subscribe(Fe.batchCalls(S)):tt;return l.updateResult(),g},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),D.useEffect(()=>{l.setOptions(o)},[o,l]),I2(o,u))throw Kh(o,l,s);if(j2({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((m=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||m.call(v,o,u),o.experimental_prefetchInRender&&!Dr&&R2(u,r)){const S=a?Kh(o,l,s):(w=i.getQueryCache().get(o.queryHash))==null?void 0:w.promise;S==null||S.catch(tt).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function A2(e,t){return D2(e,h2)}const lr=class lr{constructor(){Vl(this,"nodes",new Map)}static getInstance(){return lr.instance||(lr.instance=new lr),lr.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t),console.log(`[Registry] Registered node: ${t.label} (${t.type})`)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(n=>{t[n.category]||(t[n.category]=[]),t[n.category].push(n)}),t}};Vl(lr,"instance");let Oc=lr;const Oe=Oc.getInstance();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const n=D.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>D.createElement("svg",{ref:d,...L2,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${O2(e)}`,a].join(" "),...u},[...t.map(([c,f])=>D.createElement(c,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=pe("Binary",[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=pe("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=pe("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=pe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=pe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=pe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=pe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=pe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=pe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=pe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=pe("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=pe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=pe("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=pe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=pe("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=pe("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cE=({config:e,onChange:t})=>p.jsxs("div",{className:"p-4 space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Debug Message"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:e.message,onChange:n=>t({...e,message:n.target.value})})]}),dE={type:"debug_node",label:"Debug Node",category:"Utility",description:"A simple node for testing the registry.",icon:$2,inputs:[{id:"in",label:"Input",type:"any"}],outputs:[{id:"out",label:"Output",type:"any"}],component:({data:e})=>p.jsxs("div",{className:"text-xs",children:["Msg: ",p.jsx("span",{className:"font-mono",children:e.message||"..."})]}),settings:cE,validate:e=>({isValid:e.message.length>0,message:e.message.length===0?"Message is required":void 0}),getDefaultConfig:()=>({message:"Hello World"})},Gh="/data/api",t0={getAll:async()=>{const e=await fetch(`${Gh}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getById:async e=>{const t=await fetch(`${Gh}/sources/${e}`);if(!t.ok)throw new Error("Failed to fetch dataset");return t.json()}},fE=({config:e,onChange:t})=>{const[n,r]=D.useState([]),[s,i]=D.useState(!1);D.useEffect(()=>{i(!0),t0.getAll().then(r).catch(console.error).finally(()=>i(!1))},[]);const o=a=>{const l=a.target.value,u=n.find(d=>String(d.id)===l);t({...e,datasetId:l,datasetName:u==null?void 0:u.name})};return p.jsxs("div",{className:"p-4 space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),s?p.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):p.jsxs("select",{className:"w-full p-2 border rounded bg-background",value:e.datasetId||"",onChange:o,children:[p.jsx("option",{value:"",children:"-- Select --"}),n.map(a=>p.jsx("option",{value:a.id,children:a.name},a.id))]})]})},hE=({data:e})=>{const[t,n]=D.useState(void 0);D.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&t0.getById(e.datasetId).then(s=>n(s.name)).catch(()=>n(e.datasetId))},[e.datasetId,e.datasetName,t]);const r=e.datasetName||t||e.datasetId;return p.jsx("div",{className:"text-xs",children:e.datasetId?p.jsx("div",{className:"font-medium truncate max-w-[150px]",title:r,children:r||"Loading..."}):p.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},pE={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:W2,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:fE,component:hE,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},mE={},Zh=e=>{let t;const n=new Set,r=(d,c)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const v=t;t=c??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,v))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(mE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,l);return l},n0=e=>e?Zh(e):Zh;var r0={exports:{}},s0={},i0={exports:{}},o0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs=D;function gE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yE=typeof Object.is=="function"?Object.is:gE,vE=Rs.useState,xE=Rs.useEffect,wE=Rs.useLayoutEffect,SE=Rs.useDebugValue;function EE(e,t){var n=t(),r=vE({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return wE(function(){s.value=n,s.getSnapshot=t,yu(s)&&i({inst:s})},[e,n,t]),xE(function(){return yu(s)&&i({inst:s}),e(function(){yu(s)&&i({inst:s})})},[e]),SE(n),n}function yu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yE(e,n)}catch{return!0}}function kE(e,t){return t()}var _E=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kE:EE;o0.useSyncExternalStore=Rs.useSyncExternalStore!==void 0?Rs.useSyncExternalStore:_E;i0.exports=o0;var NE=i0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=D,CE=NE;function bE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TE=typeof Object.is=="function"?Object.is:bE,ME=CE.useSyncExternalStore,jE=kl.useRef,PE=kl.useEffect,RE=kl.useMemo,IE=kl.useDebugValue;s0.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=jE(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=RE(function(){function l(v){if(!u){if(u=!0,d=v,v=r(v),s!==void 0&&o.hasValue){var m=o.value;if(s(m,v))return c=m}return c=v}if(m=c,TE(d,v))return m;var w=r(v);return s!==void 0&&s(m,w)?(d=v,m):(d=v,c=w)}var u=!1,d,c,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,s]);var a=ME(e,i[0],i[1]);return PE(function(){o.hasValue=!0,o.value=a},[a]),IE(a),a};r0.exports=s0;var DE=r0.exports;const a0=Mm(DE),l0={},{useDebugValue:AE}=At,{useSyncExternalStoreWithSelector:LE}=a0;let Jh=!1;const OE=e=>e;function zE(e,t=OE,n){(l0?"production":void 0)!=="production"&&n&&!Jh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Jh=!0);const r=LE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return AE(r),r}const ep=e=>{(l0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?n0(e):e,n=(r,s)=>zE(t,r,s);return Object.assign(n,t),n},FE=e=>e?ep(e):ep;function Pe(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Pe(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var $E={value:()=>{}};function _l(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new pa(n)}function pa(e){this._=e}function HE(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}pa.prototype=_l.prototype={constructor:pa,on:function(e,t){var n=this._,r=HE(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=BE(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=tp(n[s],e.name,t);else if(t==null)for(s in n)n[s]=tp(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new pa(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function BE(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function tp(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=$E,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var zc="http://www.w3.org/1999/xhtml";const np={svg:"http://www.w3.org/2000/svg",xhtml:zc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),np.hasOwnProperty(t)?{space:np[t],local:e}:e}function VE(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===zc&&t.documentElement.namespaceURI===zc?t.createElement(e):t.createElementNS(n,e)}}function UE(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function u0(e){var t=Nl(e);return(t.local?UE:VE)(t)}function WE(){}function ef(e){return e==null?WE:function(){return this.querySelector(e)}}function QE(e){typeof e!="function"&&(e=ef(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=new Array(o),l,u,d=0;d<o;++d)(l=i[d])&&(u=e.call(l,l.__data__,d,i))&&("__data__"in l&&(u.__data__=l.__data__),a[d]=u);return new gt(r,this._parents)}function qE(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function XE(){return[]}function c0(e){return e==null?XE:function(){return this.querySelectorAll(e)}}function YE(e){return function(){return qE(e.apply(this,arguments))}}function KE(e){typeof e=="function"?e=YE(e):e=c0(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),s.push(l));return new gt(r,s)}function d0(e){return function(){return this.matches(e)}}function f0(e){return function(t){return t.matches(e)}}var GE=Array.prototype.find;function ZE(e){return function(){return GE.call(this.children,e)}}function JE(){return this.firstElementChild}function ek(e){return this.select(e==null?JE:ZE(typeof e=="function"?e:f0(e)))}var tk=Array.prototype.filter;function nk(){return Array.from(this.children)}function rk(e){return function(){return tk.call(this.children,e)}}function sk(e){return this.selectAll(e==null?nk:rk(typeof e=="function"?e:f0(e)))}function ik(e){typeof e!="function"&&(e=d0(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,u=0;u<o;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&a.push(l);return new gt(r,this._parents)}function h0(e){return new Array(e.length)}function ok(){return new gt(this._enter||this._groups.map(h0),this._parents)}function Xa(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Xa.prototype={constructor:Xa,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ak(e){return function(){return e}}function lk(e,t,n,r,s,i){for(var o=0,a,l=t.length,u=i.length;o<u;++o)(a=t[o])?(a.__data__=i[o],r[o]=a):n[o]=new Xa(e,i[o]);for(;o<l;++o)(a=t[o])&&(s[o]=a)}function uk(e,t,n,r,s,i,o){var a,l,u=new Map,d=t.length,c=i.length,f=new Array(d),v;for(a=0;a<d;++a)(l=t[a])&&(f[a]=v=o.call(l,l.__data__,a,t)+"",u.has(v)?s[a]=l:u.set(v,l));for(a=0;a<c;++a)v=o.call(e,i[a],a,i)+"",(l=u.get(v))?(r[a]=l,l.__data__=i[a],u.delete(v)):n[a]=new Xa(e,i[a]);for(a=0;a<d;++a)(l=t[a])&&u.get(f[a])===l&&(s[a]=l)}function ck(e){return e.__data__}function dk(e,t){if(!arguments.length)return Array.from(this,ck);var n=t?uk:lk,r=this._parents,s=this._groups;typeof e!="function"&&(e=ak(e));for(var i=s.length,o=new Array(i),a=new Array(i),l=new Array(i),u=0;u<i;++u){var d=r[u],c=s[u],f=c.length,v=fk(e.call(d,d&&d.__data__,u,r)),m=v.length,w=a[u]=new Array(m),S=o[u]=new Array(m),g=l[u]=new Array(f);n(d,c,w,S,g,v,t);for(var y=0,h=0,x,E;y<m;++y)if(x=w[y]){for(y>=h&&(h=y+1);!(E=S[h])&&++h<m;);x._next=E||null}}return o=new gt(o,r),o._enter=a,o._exit=l,o}function fk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hk(){return new gt(this._exit||this._groups.map(h0),this._parents)}function pk(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function mk(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),a=new Array(s),l=0;l<o;++l)for(var u=n[l],d=r[l],c=u.length,f=a[l]=new Array(c),v,m=0;m<c;++m)(v=u[m]||d[m])&&(f[m]=v);for(;l<s;++l)a[l]=n[l];return new gt(a,this._parents)}function gk(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function yk(e){e||(e=vk);function t(c,f){return c&&f?e(c.__data__,f.__data__):!c-!f}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],a=o.length,l=s[i]=new Array(a),u,d=0;d<a;++d)(u=o[d])&&(l[d]=u);l.sort(t)}return new gt(s,this._parents).order()}function vk(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xk(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function wk(){return Array.from(this)}function Sk(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function Ek(){let e=0;for(const t of this)++e;return e}function kk(){return!this.node()}function _k(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,a;i<o;++i)(a=s[i])&&e.call(a,a.__data__,i,s);return this}function Nk(e){return function(){this.removeAttribute(e)}}function Ck(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bk(e,t){return function(){this.setAttribute(e,t)}}function Tk(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Mk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function jk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Pk(e,t){var n=Nl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Ck:Nk:typeof t=="function"?n.local?jk:Mk:n.local?Tk:bk)(n,t))}function p0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Rk(e){return function(){this.style.removeProperty(e)}}function Ik(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Dk(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ak(e,t,n){return arguments.length>1?this.each((t==null?Rk:typeof t=="function"?Dk:Ik)(e,t,n??"")):Is(this.node(),e)}function Is(e,t){return e.style.getPropertyValue(t)||p0(e).getComputedStyle(e,null).getPropertyValue(t)}function Lk(e){return function(){delete this[e]}}function Ok(e,t){return function(){this[e]=t}}function zk(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Fk(e,t){return arguments.length>1?this.each((t==null?Lk:typeof t=="function"?zk:Ok)(e,t)):this.node()[e]}function m0(e){return e.trim().split(/^|\s+/)}function tf(e){return e.classList||new g0(e)}function g0(e){this._node=e,this._names=m0(e.getAttribute("class")||"")}g0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function y0(e,t){for(var n=tf(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function v0(e,t){for(var n=tf(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function $k(e){return function(){y0(this,e)}}function Hk(e){return function(){v0(this,e)}}function Bk(e,t){return function(){(t.apply(this,arguments)?y0:v0)(this,e)}}function Vk(e,t){var n=m0(e+"");if(arguments.length<2){for(var r=tf(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Bk:t?$k:Hk)(n,t))}function Uk(){this.textContent=""}function Wk(e){return function(){this.textContent=e}}function Qk(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function qk(e){return arguments.length?this.each(e==null?Uk:(typeof e=="function"?Qk:Wk)(e)):this.node().textContent}function Xk(){this.innerHTML=""}function Yk(e){return function(){this.innerHTML=e}}function Kk(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Gk(e){return arguments.length?this.each(e==null?Xk:(typeof e=="function"?Kk:Yk)(e)):this.node().innerHTML}function Zk(){this.nextSibling&&this.parentNode.appendChild(this)}function Jk(){return this.each(Zk)}function e_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function t_(){return this.each(e_)}function n_(e){var t=typeof e=="function"?e:u0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function r_(){return null}function s_(e,t){var n=typeof e=="function"?e:u0(e),r=t==null?r_:typeof t=="function"?t:ef(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function i_(){var e=this.parentNode;e&&e.removeChild(this)}function o_(){return this.each(i_)}function a_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function l_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function u_(e){return this.select(e?l_:a_)}function c_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function d_(e){return function(t){e.call(this,t,this.__data__)}}function f_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function h_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function p_(e,t,n){return function(){var r=this.__on,s,i=d_(t);if(r){for(var o=0,a=r.length;o<a;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function m_(e,t,n){var r=f_(e+""),s,i=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,d;l<u;++l)for(s=0,d=a[l];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(a=t?p_:h_,s=0;s<i;++s)this.each(a(r[s],t,n));return this}function x0(e,t,n){var r=p0(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function g_(e,t){return function(){return x0(this,e,t)}}function y_(e,t){return function(){return x0(this,e,t.apply(this,arguments))}}function v_(e,t){return this.each((typeof t=="function"?y_:g_)(e,t))}function*x_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var w0=[null];function gt(e,t){this._groups=e,this._parents=t}function po(){return new gt([[document.documentElement]],w0)}function w_(){return this}gt.prototype=po.prototype={constructor:gt,select:QE,selectAll:KE,selectChild:ek,selectChildren:sk,filter:ik,data:dk,enter:ok,exit:hk,join:pk,merge:mk,selection:w_,order:gk,sort:yk,call:xk,nodes:wk,node:Sk,size:Ek,empty:kk,each:_k,attr:Pk,style:Ak,property:Fk,classed:Vk,text:qk,html:Gk,raise:Jk,lower:t_,append:n_,insert:s_,remove:o_,clone:u_,datum:c_,on:m_,dispatch:v_,[Symbol.iterator]:x_};function ft(e){return typeof e=="string"?new gt([[document.querySelector(e)]],[document.documentElement]):new gt([[e]],w0)}function S_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Rt(e,t){if(e=S_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const E_={passive:!1},qi={capture:!0,passive:!1};function vu(e){e.stopImmediatePropagation()}function ds(e){e.preventDefault(),e.stopImmediatePropagation()}function S0(e){var t=e.document.documentElement,n=ft(e).on("dragstart.drag",ds,qi);"onselectstart"in t?n.on("selectstart.drag",ds,qi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function E0(e,t){var n=e.document.documentElement,r=ft(e).on("dragstart.drag",null);t&&(r.on("click.drag",ds,qi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Qo=e=>()=>e;function Fc(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:a,dx:l,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Fc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function k_(e){return!e.ctrlKey&&!e.button}function __(){return this.parentNode}function N_(e,t){return t??{x:e.x,y:e.y}}function C_(){return navigator.maxTouchPoints||"ontouchstart"in this}function k0(){var e=k_,t=__,n=N_,r=C_,s={},i=_l("start","drag","end"),o=0,a,l,u,d,c=0;function f(x){x.on("mousedown.drag",v).filter(r).on("touchstart.drag",S).on("touchmove.drag",g,E_).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(x,E){if(!(d||!e.call(this,x,E))){var k=h(this,t.call(this,x,E),x,E,"mouse");k&&(ft(x.view).on("mousemove.drag",m,qi).on("mouseup.drag",w,qi),S0(x.view),vu(x),u=!1,a=x.clientX,l=x.clientY,k("start",x))}}function m(x){if(ds(x),!u){var E=x.clientX-a,k=x.clientY-l;u=E*E+k*k>c}s.mouse("drag",x)}function w(x){ft(x.view).on("mousemove.drag mouseup.drag",null),E0(x.view,u),ds(x),s.mouse("end",x)}function S(x,E){if(e.call(this,x,E)){var k=x.changedTouches,_=t.call(this,x,E),C=k.length,j,I;for(j=0;j<C;++j)(I=h(this,_,x,E,k[j].identifier,k[j]))&&(vu(x),I("start",x,k[j]))}}function g(x){var E=x.changedTouches,k=E.length,_,C;for(_=0;_<k;++_)(C=s[E[_].identifier])&&(ds(x),C("drag",x,E[_]))}function y(x){var E=x.changedTouches,k=E.length,_,C;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),_=0;_<k;++_)(C=s[E[_].identifier])&&(vu(x),C("end",x,E[_]))}function h(x,E,k,_,C,j){var I=i.copy(),R=Rt(j||k,E),A,B,N;if((N=n.call(x,new Fc("beforestart",{sourceEvent:k,target:f,identifier:C,active:o,x:R[0],y:R[1],dx:0,dy:0,dispatch:I}),_))!=null)return A=N.x-R[0]||0,B=N.y-R[1]||0,function L(P,z,b){var T=R,O;switch(P){case"start":s[C]=L,O=o++;break;case"end":delete s[C],--o;case"drag":R=Rt(b||z,E),O=o;break}I.call(P,x,new Fc(P,{sourceEvent:z,subject:N,target:f,identifier:C,active:O,x:R[0]+A,y:R[1]+B,dx:R[0]-T[0],dy:R[1]-T[1],dispatch:I}),_)}}return f.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Qo(!!x),f):e},f.container=function(x){return arguments.length?(t=typeof x=="function"?x:Qo(x),f):t},f.subject=function(x){return arguments.length?(n=typeof x=="function"?x:Qo(x),f):n},f.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:Qo(!!x),f):r},f.on=function(){var x=i.on.apply(i,arguments);return x===i?f:x},f.clickDistance=function(x){return arguments.length?(c=(x=+x)*x,f):Math.sqrt(c)},f}function nf(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _0(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mo(){}var Xi=.7,Ya=1/Xi,fs="\\s*([+-]?\\d+)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",b_=/^#([0-9a-f]{3,8})$/,T_=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),M_=new RegExp(`^rgb\\(${Jt},${Jt},${Jt}\\)$`),j_=new RegExp(`^rgba\\(${fs},${fs},${fs},${Yi}\\)$`),P_=new RegExp(`^rgba\\(${Jt},${Jt},${Jt},${Yi}\\)$`),R_=new RegExp(`^hsl\\(${Yi},${Jt},${Jt}\\)$`),I_=new RegExp(`^hsla\\(${Yi},${Jt},${Jt},${Yi}\\)$`),rp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nf(mo,Ar,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sp,formatHex:sp,formatHex8:D_,formatHsl:A_,formatRgb:ip,toString:ip});function sp(){return this.rgb().formatHex()}function D_(){return this.rgb().formatHex8()}function A_(){return N0(this).formatHsl()}function ip(){return this.rgb().formatRgb()}function Ar(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=b_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?op(t):n===3?new st(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?qo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?qo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=T_.exec(e))?new st(t[1],t[2],t[3],1):(t=M_.exec(e))?new st(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=j_.exec(e))?qo(t[1],t[2],t[3],t[4]):(t=P_.exec(e))?qo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=R_.exec(e))?up(t[1],t[2]/100,t[3]/100,1):(t=I_.exec(e))?up(t[1],t[2]/100,t[3]/100,t[4]):rp.hasOwnProperty(e)?op(rp[e]):e==="transparent"?new st(NaN,NaN,NaN,0):null}function op(e){return new st(e>>16&255,e>>8&255,e&255,1)}function qo(e,t,n,r){return r<=0&&(e=t=n=NaN),new st(e,t,n,r)}function L_(e){return e instanceof mo||(e=Ar(e)),e?(e=e.rgb(),new st(e.r,e.g,e.b,e.opacity)):new st}function $c(e,t,n,r){return arguments.length===1?L_(e):new st(e,t,n,r??1)}function st(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}nf(st,$c,_0(mo,{brighter(e){return e=e==null?Ya:Math.pow(Ya,e),new st(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xi:Math.pow(Xi,e),new st(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new st(Cr(this.r),Cr(this.g),Cr(this.b),Ka(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ap,formatHex:ap,formatHex8:O_,formatRgb:lp,toString:lp}));function ap(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}`}function O_(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}${hr((isNaN(this.opacity)?1:this.opacity)*255)}`}function lp(){const e=Ka(this.opacity);return`${e===1?"rgb(":"rgba("}${Cr(this.r)}, ${Cr(this.g)}, ${Cr(this.b)}${e===1?")":`, ${e})`}`}function Ka(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Cr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hr(e){return e=Cr(e),(e<16?"0":"")+e.toString(16)}function up(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dt(e,t,n,r)}function N0(e){if(e instanceof Dt)return new Dt(e.h,e.s,e.l,e.opacity);if(e instanceof mo||(e=Ar(e)),!e)return new Dt;if(e instanceof Dt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,a=i-s,l=(i+s)/2;return a?(t===i?o=(n-r)/a+(n<r)*6:n===i?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?i+s:2-i-s,o*=60):a=l>0&&l<1?0:o,new Dt(o,a,l,e.opacity)}function z_(e,t,n,r){return arguments.length===1?N0(e):new Dt(e,t,n,r??1)}function Dt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}nf(Dt,z_,_0(mo,{brighter(e){return e=e==null?Ya:Math.pow(Ya,e),new Dt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xi:Math.pow(Xi,e),new Dt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new st(xu(e>=240?e-240:e+120,s,r),xu(e,s,r),xu(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Dt(cp(this.h),Xo(this.s),Xo(this.l),Ka(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ka(this.opacity);return`${e===1?"hsl(":"hsla("}${cp(this.h)}, ${Xo(this.s)*100}%, ${Xo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function cp(e){return e=(e||0)%360,e<0?e+360:e}function Xo(e){return Math.max(0,Math.min(1,e||0))}function xu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const rf=e=>()=>e;function F_(e,t){return function(n){return e+n*t}}function $_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function H_(e){return(e=+e)==1?C0:function(t,n){return n-t?$_(t,n,e):rf(isNaN(t)?n:t)}}function C0(e,t){var n=t-e;return n?F_(e,n):rf(isNaN(e)?t:e)}const Ga=function e(t){var n=H_(t);function r(s,i){var o=n((s=$c(s)).r,(i=$c(i)).r),a=n(s.g,i.g),l=n(s.b,i.b),u=C0(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=a(d),s.b=l(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function B_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function V_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function U_(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Ci(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(a){for(o=0;o<r;++o)i[o]=s[o](a);return i}}function W_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Yt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Q_(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Ci(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var Hc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wu=new RegExp(Hc.source,"g");function q_(e){return function(){return e}}function X_(e){return function(t){return e(t)+""}}function b0(e,t){var n=Hc.lastIndex=wu.lastIndex=0,r,s,i,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Hc.exec(e))&&(s=wu.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:Yt(r,s)})),n=wu.lastIndex;return n<t.length&&(i=t.slice(n),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?X_(l[0].x):q_(t):(t=l.length,function(u){for(var d=0,c;d<t;++d)a[(c=l[d]).i]=c.x(u);return a.join("")})}function Ci(e,t){var n=typeof t,r;return t==null||n==="boolean"?rf(t):(n==="number"?Yt:n==="string"?(r=Ar(t))?(t=r,Ga):b0:t instanceof Ar?Ga:t instanceof Date?W_:V_(t)?B_:Array.isArray(t)?U_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Q_:Yt)(e,t)}var dp=180/Math.PI,Bc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function T0(e,t,n,r,s,i){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*dp,skewX:Math.atan(l)*dp,scaleX:o,scaleY:a}}var Yo;function Y_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Bc:T0(t.a,t.b,t.c,t.d,t.e,t.f)}function K_(e){return e==null||(Yo||(Yo=document.createElementNS("http://www.w3.org/2000/svg","g")),Yo.setAttribute("transform",e),!(e=Yo.transform.baseVal.consolidate()))?Bc:(e=e.matrix,T0(e.a,e.b,e.c,e.d,e.e,e.f))}function M0(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function i(u,d,c,f,v,m){if(u!==c||d!==f){var w=v.push("translate(",null,t,null,n);m.push({i:w-4,x:Yt(u,c)},{i:w-2,x:Yt(d,f)})}else(c||f)&&v.push("translate("+c+t+f+n)}function o(u,d,c,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:c.push(s(c)+"rotate(",null,r)-2,x:Yt(u,d)})):d&&c.push(s(c)+"rotate("+d+r)}function a(u,d,c,f){u!==d?f.push({i:c.push(s(c)+"skewX(",null,r)-2,x:Yt(u,d)}):d&&c.push(s(c)+"skewX("+d+r)}function l(u,d,c,f,v,m){if(u!==c||d!==f){var w=v.push(s(v)+"scale(",null,",",null,")");m.push({i:w-4,x:Yt(u,c)},{i:w-2,x:Yt(d,f)})}else(c!==1||f!==1)&&v.push(s(v)+"scale("+c+","+f+")")}return function(u,d){var c=[],f=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,c,f),o(u.rotate,d.rotate,c,f),a(u.skewX,d.skewX,c,f),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,c,f),u=d=null,function(v){for(var m=-1,w=f.length,S;++m<w;)c[(S=f[m]).i]=S.x(v);return c.join("")}}}var G_=M0(Y_,"px, ","px)","deg)"),Z_=M0(K_,", ",")",")"),J_=1e-12;function fp(e){return((e=Math.exp(e))+1/e)/2}function eN(e){return((e=Math.exp(e))-1/e)/2}function tN(e){return((e=Math.exp(2*e))-1)/(e+1)}const ma=function e(t,n,r){function s(i,o){var a=i[0],l=i[1],u=i[2],d=o[0],c=o[1],f=o[2],v=d-a,m=c-l,w=v*v+m*m,S,g;if(w<J_)g=Math.log(f/u)/t,S=function(_){return[a+_*v,l+_*m,u*Math.exp(t*_*g)]};else{var y=Math.sqrt(w),h=(f*f-u*u+r*w)/(2*u*n*y),x=(f*f-u*u-r*w)/(2*f*n*y),E=Math.log(Math.sqrt(h*h+1)-h),k=Math.log(Math.sqrt(x*x+1)-x);g=(k-E)/t,S=function(_){var C=_*g,j=fp(E),I=u/(n*y)*(j*tN(t*C+E)-eN(E));return[a+I*v,l+I*m,u*j/fp(t*C+E)]}}return S.duration=g*1e3*t/Math.SQRT2,S}return s.rho=function(i){var o=Math.max(.001,+i),a=o*o,l=a*a;return e(o,a,l)},s}(Math.SQRT2,2,4);var Ds=0,mi=0,ai=0,j0=1e3,Za,gi,Ja=0,Lr=0,Cl=0,Ki=typeof performance=="object"&&performance.now?performance:Date,P0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function sf(){return Lr||(P0(nN),Lr=Ki.now()+Cl)}function nN(){Lr=0}function el(){this._call=this._time=this._next=null}el.prototype=R0.prototype={constructor:el,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?sf():+n)+(t==null?0:+t),!this._next&&gi!==this&&(gi?gi._next=this:Za=this,gi=this),this._call=e,this._time=n,Vc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vc())}};function R0(e,t,n){var r=new el;return r.restart(e,t,n),r}function rN(){sf(),++Ds;for(var e=Za,t;e;)(t=Lr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ds}function hp(){Lr=(Ja=Ki.now())+Cl,Ds=mi=0;try{rN()}finally{Ds=0,iN(),Lr=0}}function sN(){var e=Ki.now(),t=e-Ja;t>j0&&(Cl-=t,Ja=e)}function iN(){for(var e,t=Za,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Za=n);gi=e,Vc(r)}function Vc(e){if(!Ds){mi&&(mi=clearTimeout(mi));var t=e-Lr;t>24?(e<1/0&&(mi=setTimeout(hp,e-Ki.now()-Cl)),ai&&(ai=clearInterval(ai))):(ai||(Ja=Ki.now(),ai=setInterval(sN,j0)),Ds=1,P0(hp))}}function pp(e,t,n){var r=new el;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var oN=_l("start","end","cancel","interrupt"),aN=[],I0=0,mp=1,Uc=2,ga=3,gp=4,Wc=5,ya=6;function bl(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;lN(e,n,{name:t,index:r,group:s,on:oN,tween:aN,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:I0})}function of(e,t){var n=Ht(e,t);if(n.state>I0)throw new Error("too late; already scheduled");return n}function tn(e,t){var n=Ht(e,t);if(n.state>ga)throw new Error("too late; already running");return n}function Ht(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function lN(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=R0(i,0,n.time);function i(u){n.state=mp,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,c,f,v;if(n.state!==mp)return l();for(d in r)if(v=r[d],v.name===n.name){if(v.state===ga)return pp(o);v.state===gp?(v.state=ya,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[d]):+d<t&&(v.state=ya,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[d])}if(pp(function(){n.state===ga&&(n.state=gp,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Uc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Uc){for(n.state=ga,s=new Array(f=n.tween.length),d=0,c=-1;d<f;++d)(v=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++c]=v);s.length=c+1}}function a(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Wc,1),c=-1,f=s.length;++c<f;)s[c].call(e,d);n.state===Wc&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ya,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function va(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>Uc&&r.state<Wc,r.state=ya,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function uN(e){return this.each(function(){va(this,e)})}function cN(e,t){var n,r;return function(){var s=tn(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function dN(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=tn(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var a={name:t,value:n},l=0,u=s.length;l<u;++l)if(s[l].name===t){s[l]=a;break}l===u&&s.push(a)}i.tween=s}}function fN(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ht(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?cN:dN)(n,e,t))}function af(e,t,n){var r=e._id;return e.each(function(){var s=tn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Ht(s,r).value[t]}}function D0(e,t){var n;return(typeof t=="number"?Yt:t instanceof Ar?Ga:(n=Ar(t))?(t=n,Ga):b0)(e,t)}function hN(e){return function(){this.removeAttribute(e)}}function pN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mN(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function gN(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function yN(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function vN(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function xN(e,t){var n=Nl(e),r=n==="transform"?Z_:D0;return this.attrTween(e,typeof t=="function"?(n.local?vN:yN)(n,r,af(this,"attr."+e,t)):t==null?(n.local?pN:hN)(n):(n.local?gN:mN)(n,r,t))}function wN(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function SN(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function EN(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&SN(e,i)),n}return s._value=t,s}function kN(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&wN(e,i)),n}return s._value=t,s}function _N(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Nl(e);return this.tween(n,(r.local?EN:kN)(r,t))}function NN(e,t){return function(){of(this,e).delay=+t.apply(this,arguments)}}function CN(e,t){return t=+t,function(){of(this,e).delay=t}}function bN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?NN:CN)(t,e)):Ht(this.node(),t).delay}function TN(e,t){return function(){tn(this,e).duration=+t.apply(this,arguments)}}function MN(e,t){return t=+t,function(){tn(this,e).duration=t}}function jN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?TN:MN)(t,e)):Ht(this.node(),t).duration}function PN(e,t){if(typeof t!="function")throw new Error;return function(){tn(this,e).ease=t}}function RN(e){var t=this._id;return arguments.length?this.each(PN(t,e)):Ht(this.node(),t).ease}function IN(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;tn(this,e).ease=n}}function DN(e){if(typeof e!="function")throw new Error;return this.each(IN(this._id,e))}function AN(e){typeof e!="function"&&(e=d0(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,u=0;u<o;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&a.push(l);return new xn(r,this._parents,this._name,this._id)}function LN(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),a=0;a<i;++a)for(var l=t[a],u=n[a],d=l.length,c=o[a]=new Array(d),f,v=0;v<d;++v)(f=l[v]||u[v])&&(c[v]=f);for(;a<r;++a)o[a]=t[a];return new xn(o,this._parents,this._name,this._id)}function ON(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function zN(e,t,n){var r,s,i=ON(t)?of:tn;return function(){var o=i(this,e),a=o.on;a!==r&&(s=(r=a).copy()).on(t,n),o.on=s}}function FN(e,t){var n=this._id;return arguments.length<2?Ht(this.node(),n).on.on(e):this.each(zN(n,e,t))}function $N(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function HN(){return this.on("end.remove",$N(this._id))}function BN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ef(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var a=r[o],l=a.length,u=i[o]=new Array(l),d,c,f=0;f<l;++f)(d=a[f])&&(c=e.call(d,d.__data__,f,a))&&("__data__"in d&&(c.__data__=d.__data__),u[f]=c,bl(u[f],t,n,f,u,Ht(d,n)));return new xn(i,this._parents,t,n)}function VN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=c0(e));for(var r=this._groups,s=r.length,i=[],o=[],a=0;a<s;++a)for(var l=r[a],u=l.length,d,c=0;c<u;++c)if(d=l[c]){for(var f=e.call(d,d.__data__,c,l),v,m=Ht(d,n),w=0,S=f.length;w<S;++w)(v=f[w])&&bl(v,t,n,w,f,m);i.push(f),o.push(d)}return new xn(i,o,t,n)}var UN=po.prototype.constructor;function WN(){return new UN(this._groups,this._parents)}function QN(e,t){var n,r,s;return function(){var i=Is(this,e),o=(this.style.removeProperty(e),Is(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function A0(e){return function(){this.style.removeProperty(e)}}function qN(e,t,n){var r,s=n+"",i;return function(){var o=Is(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function XN(e,t,n){var r,s,i;return function(){var o=Is(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Is(this,e))),o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a))}}function YN(e,t){var n,r,s,i="style."+t,o="end."+i,a;return function(){var l=tn(this,e),u=l.on,d=l.value[i]==null?a||(a=A0(t)):void 0;(u!==n||s!==d)&&(r=(n=u).copy()).on(o,s=d),l.on=r}}function KN(e,t,n){var r=(e+="")=="transform"?G_:D0;return t==null?this.styleTween(e,QN(e,r)).on("end.style."+e,A0(e)):typeof t=="function"?this.styleTween(e,XN(e,r,af(this,"style."+e,t))).each(YN(this._id,e)):this.styleTween(e,qN(e,r,t),n).on("end.style."+e,null)}function GN(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ZN(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&GN(e,o,n)),r}return i._value=t,i}function JN(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ZN(e,t,n??""))}function eC(e){return function(){this.textContent=e}}function tC(e){return function(){var t=e(this);this.textContent=t??""}}function nC(e){return this.tween("text",typeof e=="function"?tC(af(this,"text",e)):eC(e==null?"":e+""))}function rC(e){return function(t){this.textContent=e.call(this,t)}}function sC(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&rC(s)),t}return r._value=e,r}function iC(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,sC(e))}function oC(){for(var e=this._name,t=this._id,n=L0(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var d=Ht(l,t);bl(l,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new xn(r,this._parents,e,n)}function aC(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var a={value:o},l={value:function(){--s===0&&i()}};n.each(function(){var u=tn(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),s===0&&i()})}var lC=0;function xn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function L0(){return++lC}var sn=po.prototype;xn.prototype={constructor:xn,select:BN,selectAll:VN,selectChild:sn.selectChild,selectChildren:sn.selectChildren,filter:AN,merge:LN,selection:WN,transition:oC,call:sn.call,nodes:sn.nodes,node:sn.node,size:sn.size,empty:sn.empty,each:sn.each,on:FN,attr:xN,attrTween:_N,style:KN,styleTween:JN,text:nC,textTween:iC,remove:HN,tween:fN,delay:bN,duration:jN,ease:RN,easeVarying:DN,end:aC,[Symbol.iterator]:sn[Symbol.iterator]};function uC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var cC={time:null,delay:0,duration:250,ease:uC};function dC(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function fC(e){var t,n;e instanceof xn?(t=e._id,e=e._name):(t=L0(),(n=cC).time=sf(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,u=0;u<a;++u)(l=o[u])&&bl(l,e,t,u,o,n||dC(l,t));return new xn(r,this._parents,e,t)}po.prototype.interrupt=uN;po.prototype.transition=fC;const Ko=e=>()=>e;function hC(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function hn(e,t,n){this.k=e,this.x=t,this.y=n}hn.prototype={constructor:hn,scale:function(e){return e===1?this:new hn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new hn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Tl=new hn(1,0,0);O0.prototype=hn.prototype;function O0(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Tl;return e.__zoom}function Su(e){e.stopImmediatePropagation()}function li(e){e.preventDefault(),e.stopImmediatePropagation()}function pC(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function mC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function yp(){return this.__zoom||Tl}function gC(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function yC(){return navigator.maxTouchPoints||"ontouchstart"in this}function vC(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function z0(){var e=pC,t=mC,n=vC,r=gC,s=yC,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=ma,u=_l("start","zoom","end"),d,c,f,v=500,m=150,w=0,S=10;function g(N){N.property("__zoom",yp).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",I).filter(s).on("touchstart.zoom",R).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(N,L,P,z){var b=N.selection?N.selection():N;b.property("__zoom",yp),N!==b?E(N,L,P,z):b.interrupt().each(function(){k(this,arguments).event(z).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},g.scaleBy=function(N,L,P,z){g.scaleTo(N,function(){var b=this.__zoom.k,T=typeof L=="function"?L.apply(this,arguments):L;return b*T},P,z)},g.scaleTo=function(N,L,P,z){g.transform(N,function(){var b=t.apply(this,arguments),T=this.__zoom,O=P==null?x(b):typeof P=="function"?P.apply(this,arguments):P,$=T.invert(O),H=typeof L=="function"?L.apply(this,arguments):L;return n(h(y(T,H),O,$),b,o)},P,z)},g.translateBy=function(N,L,P,z){g.transform(N,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof P=="function"?P.apply(this,arguments):P),t.apply(this,arguments),o)},null,z)},g.translateTo=function(N,L,P,z,b){g.transform(N,function(){var T=t.apply(this,arguments),O=this.__zoom,$=z==null?x(T):typeof z=="function"?z.apply(this,arguments):z;return n(Tl.translate($[0],$[1]).scale(O.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof P=="function"?-P.apply(this,arguments):-P),T,o)},z,b)};function y(N,L){return L=Math.max(i[0],Math.min(i[1],L)),L===N.k?N:new hn(L,N.x,N.y)}function h(N,L,P){var z=L[0]-P[0]*N.k,b=L[1]-P[1]*N.k;return z===N.x&&b===N.y?N:new hn(N.k,z,b)}function x(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function E(N,L,P,z){N.on("start.zoom",function(){k(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(z).end()}).tween("zoom",function(){var b=this,T=arguments,O=k(b,T).event(z),$=t.apply(b,T),H=P==null?x($):typeof P=="function"?P.apply(b,T):P,Q=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),U=b.__zoom,Y=typeof L=="function"?L.apply(b,T):L,K=l(U.invert(H).concat(Q/U.k),Y.invert(H).concat(Q/Y.k));return function(Z){if(Z===1)Z=Y;else{var W=K(Z),J=Q/W[2];Z=new hn(J,H[0]-W[0]*J,H[1]-W[1]*J)}O.zoom(null,Z)}})}function k(N,L,P){return!P&&N.__zooming||new _(N,L)}function _(N,L){this.that=N,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,L),this.taps=0}_.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,L){return this.mouse&&N!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var L=ft(this.that).datum();u.call(N,this.that,new hC(N,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),L)}};function C(N,...L){if(!e.apply(this,arguments))return;var P=k(this,L).event(N),z=this.__zoom,b=Math.max(i[0],Math.min(i[1],z.k*Math.pow(2,r.apply(this,arguments)))),T=Rt(N);if(P.wheel)(P.mouse[0][0]!==T[0]||P.mouse[0][1]!==T[1])&&(P.mouse[1]=z.invert(P.mouse[0]=T)),clearTimeout(P.wheel);else{if(z.k===b)return;P.mouse=[T,z.invert(T)],va(this),P.start()}li(N),P.wheel=setTimeout(O,m),P.zoom("mouse",n(h(y(z,b),P.mouse[0],P.mouse[1]),P.extent,o));function O(){P.wheel=null,P.end()}}function j(N,...L){if(f||!e.apply(this,arguments))return;var P=N.currentTarget,z=k(this,L,!0).event(N),b=ft(N.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",Q,!0),T=Rt(N,P),O=N.clientX,$=N.clientY;S0(N.view),Su(N),z.mouse=[T,this.__zoom.invert(T)],va(this),z.start();function H(U){if(li(U),!z.moved){var Y=U.clientX-O,K=U.clientY-$;z.moved=Y*Y+K*K>w}z.event(U).zoom("mouse",n(h(z.that.__zoom,z.mouse[0]=Rt(U,P),z.mouse[1]),z.extent,o))}function Q(U){b.on("mousemove.zoom mouseup.zoom",null),E0(U.view,z.moved),li(U),z.event(U).end()}}function I(N,...L){if(e.apply(this,arguments)){var P=this.__zoom,z=Rt(N.changedTouches?N.changedTouches[0]:N,this),b=P.invert(z),T=P.k*(N.shiftKey?.5:2),O=n(h(y(P,T),z,b),t.apply(this,L),o);li(N),a>0?ft(this).transition().duration(a).call(E,O,z,N):ft(this).call(g.transform,O,z,N)}}function R(N,...L){if(e.apply(this,arguments)){var P=N.touches,z=P.length,b=k(this,L,N.changedTouches.length===z).event(N),T,O,$,H;for(Su(N),O=0;O<z;++O)$=P[O],H=Rt($,this),H=[H,this.__zoom.invert(H),$.identifier],b.touch0?!b.touch1&&b.touch0[2]!==H[2]&&(b.touch1=H,b.taps=0):(b.touch0=H,T=!0,b.taps=1+!!d);d&&(d=clearTimeout(d)),T&&(b.taps<2&&(c=H[0],d=setTimeout(function(){d=null},v)),va(this),b.start())}}function A(N,...L){if(this.__zooming){var P=k(this,L).event(N),z=N.changedTouches,b=z.length,T,O,$,H;for(li(N),T=0;T<b;++T)O=z[T],$=Rt(O,this),P.touch0&&P.touch0[2]===O.identifier?P.touch0[0]=$:P.touch1&&P.touch1[2]===O.identifier&&(P.touch1[0]=$);if(O=P.that.__zoom,P.touch1){var Q=P.touch0[0],U=P.touch0[1],Y=P.touch1[0],K=P.touch1[1],Z=(Z=Y[0]-Q[0])*Z+(Z=Y[1]-Q[1])*Z,W=(W=K[0]-U[0])*W+(W=K[1]-U[1])*W;O=y(O,Math.sqrt(Z/W)),$=[(Q[0]+Y[0])/2,(Q[1]+Y[1])/2],H=[(U[0]+K[0])/2,(U[1]+K[1])/2]}else if(P.touch0)$=P.touch0[0],H=P.touch0[1];else return;P.zoom("touch",n(h(O,$,H),P.extent,o))}}function B(N,...L){if(this.__zooming){var P=k(this,L).event(N),z=N.changedTouches,b=z.length,T,O;for(Su(N),f&&clearTimeout(f),f=setTimeout(function(){f=null},v),T=0;T<b;++T)O=z[T],P.touch0&&P.touch0[2]===O.identifier?delete P.touch0:P.touch1&&P.touch1[2]===O.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(O=Rt(O,this),Math.hypot(c[0]-O[0],c[1]-O[1])<S)){var $=ft(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return g.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:Ko(+N),g):r},g.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Ko(!!N),g):e},g.touchable=function(N){return arguments.length?(s=typeof N=="function"?N:Ko(!!N),g):s},g.extent=function(N){return arguments.length?(t=typeof N=="function"?N:Ko([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),g):t},g.scaleExtent=function(N){return arguments.length?(i[0]=+N[0],i[1]=+N[1],g):[i[0],i[1]]},g.translateExtent=function(N){return arguments.length?(o[0][0]=+N[0][0],o[1][0]=+N[1][0],o[0][1]=+N[0][1],o[1][1]=+N[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(N){return arguments.length?(n=N,g):n},g.duration=function(N){return arguments.length?(a=+N,g):a},g.interpolate=function(N){return arguments.length?(l=N,g):l},g.on=function(){var N=u.on.apply(u,arguments);return N===u?g:N},g.clickDistance=function(N){return arguments.length?(w=(N=+N)*N,g):Math.sqrt(w)},g.tapDistance=function(N){return arguments.length?(S=+N,g):S},g}const en={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Gi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],F0=["Enter"," ","Escape"],$0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var As;(function(e){e.Strict="strict",e.Loose="loose"})(As||(As={}));var br;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(br||(br={}));var Zi;(function(e){e.Partial="partial",e.Full="full"})(Zi||(Zi={}));const H0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Rn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Rn||(Rn={}));var tl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(tl||(tl={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));const vp={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top};function B0(e){return e===null?null:e?"valid":"invalid"}const V0=e=>"id"in e&&"source"in e&&"target"in e,xC=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),lf=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),wC=(e,t,n)=>{if(!e.id)return[];const r=new Set;return n.forEach(s=>{s.target===e.id&&r.add(s.source)}),t.filter(s=>r.has(s.id))},go=(e,t=[0,0])=>{const{width:n,height:r}=Sn(e),s=e.origin??t,i=n*s[0],o=r*s[1];return{x:e.position.x-i,y:e.position.y-o}},SC=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const i=typeof s=="string";let o=!t.nodeLookup&&!i?s:void 0;t.nodeLookup&&(o=i?t.nodeLookup.get(s):lf(s)?s:t.nodeLookup.get(s.id));const a=o?nl(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ml(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return jl(n)},yo=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(s=>{(t.filter===void 0||t.filter(s))&&(n=Ml(n,nl(s)),r=!0)}),r?jl(n):{x:0,y:0,width:0,height:0}},uf=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1)=>{const a={...xo(t,[n,r,s]),width:t.width/s,height:t.height/s},l=[];for(const u of e.values()){const{measured:d,selectable:c=!0,hidden:f=!1}=u;if(o&&!c||f)continue;const v=d.width??u.width??u.initialWidth??null,m=d.height??u.height??u.initialHeight??null,w=Ji(a,Os(u)),S=(v??0)*(m??0),g=i&&w>0;(!u.internals.handleBounds||g||w>=S||u.dragging)&&l.push(u)}return l},EC=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function kC(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function _C({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:i},o){if(e.size===0)return Promise.resolve(!0);const a=kC(e,o),l=yo(a),u=cf(l,t,n,(o==null?void 0:o.minZoom)??s,(o==null?void 0:o.maxZoom)??i,(o==null?void 0:o.padding)??.1);return await r.setViewport(u,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function U0({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:i}){const o=n.get(e),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},d=o.origin??r;let c=o.extent||s;if(o.extent==="parent"&&!o.expandParent)if(!a)i==null||i("005",en.error005());else{const v=a.measured.width,m=a.measured.height;v&&m&&(c=[[l,u],[l+v,u+m]])}else a&&zs(o.extent)&&(c=[[o.extent[0][0]+l,o.extent[0][1]+u],[o.extent[1][0]+l,o.extent[1][1]+u]]);const f=zs(c)?Or(t,c,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(i==null||i("015",en.error015())),{position:{x:f.x-l+(o.measured.width??0)*d[0],y:f.y-u+(o.measured.height??0)*d[1]},positionAbsolute:f}}async function NC({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const i=new Set(e.map(f=>f.id)),o=[];for(const f of n){if(f.deletable===!1)continue;const v=i.has(f.id),m=!v&&f.parentId&&o.find(w=>w.id===f.parentId);(v||m)&&o.push(f)}const a=new Set(t.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),d=EC(o,l);for(const f of l)a.has(f.id)&&!d.find(m=>m.id===f.id)&&d.push(f);if(!s)return{edges:d,nodes:o};const c=await s({nodes:o,edges:d});return typeof c=="boolean"?c?{edges:d,nodes:o}:{edges:[],nodes:[]}:c}const Ls=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Or=(e={x:0,y:0},t,n)=>({x:Ls(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Ls(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function W0(e,t,n){const{width:r,height:s}=Sn(n),{x:i,y:o}=n.internals.positionAbsolute;return Or(e,[[i,o],[i+r,o+s]],t)}const xp=(e,t,n)=>e<t?Ls(Math.abs(e-t),1,t)/t:e>n?-Ls(Math.abs(e-n),1,t)/t:0,Q0=(e,t,n=15,r=40)=>{const s=xp(e.x,r,t.width-r)*n,i=xp(e.y,r,t.height-r)*n;return[s,i]},Ml=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Qc=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),jl=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Os=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=lf(e)?e.internals.positionAbsolute:go(e,t);return{x:n,y:r,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},nl=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=lf(e)?e.internals.positionAbsolute:go(e,t);return{x:n,y:r,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},q0=(e,t)=>jl(Ml(Qc(e),Qc(t))),Ji=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},wp=e=>Lt(e.width)&&Lt(e.height)&&Lt(e.x)&&Lt(e.y),Lt=e=>!isNaN(e)&&isFinite(e),CC=(e,t)=>{},vo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),xo=({x:e,y:t},[n,r,s],i=!1,o=[1,1])=>{const a={x:(e-n)/s,y:(t-r)/s};return i?vo(a,o):a},rl=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function Ur(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function bC(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Ur(e,n),s=Ur(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=Ur(e.top??e.y??0,n),s=Ur(e.bottom??e.y??0,n),i=Ur(e.left??e.x??0,t),o=Ur(e.right??e.x??0,t);return{top:r,right:o,bottom:s,left:i,x:i+o,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function TC(e,t,n,r,s,i){const{x:o,y:a}=rl(e,[t,n,r]),{x:l,y:u}=rl({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=s-l,c=i-u;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(d),bottom:Math.floor(c)}}const cf=(e,t,n,r,s,i)=>{const o=bC(i,t,n),a=(t-o.x)/e.width,l=(n-o.y)/e.height,u=Math.min(a,l),d=Ls(u,r,s),c=e.x+e.width/2,f=e.y+e.height/2,v=t/2-c*d,m=n/2-f*d,w=TC(e,v,m,d,t,n),S={left:Math.min(w.left-o.left,0),top:Math.min(w.top-o.top,0),right:Math.min(w.right-o.right,0),bottom:Math.min(w.bottom-o.bottom,0)};return{x:v-S.left+S.right,y:m-S.top+S.bottom,zoom:d}},eo=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function zs(e){return e!=null&&e!=="parent"}function Sn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function X0(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Y0(e,t={width:0,height:0},n,r,s){const i={...e},o=r.get(n);if(o){const a=o.origin||s;i.x+=o.internals.positionAbsolute.x-(t.width??0)*a[0],i.y+=o.internals.positionAbsolute.y-(t.height??0)*a[1]}return i}function Sp(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function MC(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function jC(e){return{...$0,...e||{}}}function bi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:i,y:o}=Ot(e),a=xo({x:i-((s==null?void 0:s.left)??0),y:o-((s==null?void 0:s.top)??0)},r),{x:l,y:u}=n?vo(a,t):a;return{xSnapped:l,ySnapped:u,...a}}const df=e=>({width:e.offsetWidth,height:e.offsetHeight}),K0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},PC=["INPUT","SELECT","TEXTAREA"];function G0(e){var r,s;const t=((s=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:PC.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Z0=e=>"clientX"in e,Ot=(e,t)=>{var i,o;const n=Z0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Ep=(e,t,n,r,s)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:s,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...df(o)}})};function J0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:a}){const l=e*.125+s*.375+o*.375+n*.125,u=t*.125+i*.375+a*.375+r*.125,d=Math.abs(l-e),c=Math.abs(u-t);return[l,u,d,c]}function Go(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function kp({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case G.Left:return[t-Go(t-r,i),n];case G.Right:return[t+Go(r-t,i),n];case G.Top:return[t,n-Go(n-s,i)];case G.Bottom:return[t,n+Go(s-n,i)]}}function ev({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,curvature:o=.25}){const[a,l]=kp({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[u,d]=kp({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[c,f,v,m]=J0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${e},${t} C${a},${l} ${u},${d} ${r},${s}`,c,f,v,m]}function tv({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[i,a,s,o]}function RC({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:s=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const o=s&&n?r+1e3:r,a=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return o+a}function IC({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const i=Ml(nl(e),nl(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const o={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return Ji(o,jl(i))>0}const DC=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,AC=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),nv=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||DC;let s;return V0(e)?s={...e}:s={...e,id:r(e)},AC(s,t)?t:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,t.concat(s))};function rv({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,a]=tv({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,a]}const _p={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},LC=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Np=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function OC({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:r=G.Top,center:s,offset:i,stepPosition:o}){const a=_p[t],l=_p[r],u={x:e.x+a.x*i,y:e.y+a.y*i},d={x:n.x+l.x*i,y:n.y+l.y*i},c=LC({source:u,sourcePosition:t,target:d}),f=c.x!==0?"x":"y",v=c[f];let m=[],w,S;const g={x:0,y:0},y={x:0,y:0},[,,h,x]=tv({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*l[f]===-1){f==="x"?(w=s.x??u.x+(d.x-u.x)*o,S=s.y??(u.y+d.y)/2):(w=s.x??(u.x+d.x)/2,S=s.y??u.y+(d.y-u.y)*o);const k=[{x:w,y:u.y},{x:w,y:d.y}],_=[{x:u.x,y:S},{x:d.x,y:S}];a[f]===v?m=f==="x"?k:_:m=f==="x"?_:k}else{const k=[{x:u.x,y:d.y}],_=[{x:d.x,y:u.y}];if(f==="x"?m=a.x===v?_:k:m=a.y===v?k:_,t===r){const A=Math.abs(e[f]-n[f]);if(A<=i){const B=Math.min(i-1,i-A);a[f]===v?g[f]=(u[f]>e[f]?-1:1)*B:y[f]=(d[f]>n[f]?-1:1)*B}}if(t!==r){const A=f==="x"?"y":"x",B=a[f]===l[A],N=u[A]>d[A],L=u[A]<d[A];(a[f]===1&&(!B&&N||B&&L)||a[f]!==1&&(!B&&L||B&&N))&&(m=f==="x"?k:_)}const C={x:u.x+g.x,y:u.y+g.y},j={x:d.x+y.x,y:d.y+y.y},I=Math.max(Math.abs(C.x-m[0].x),Math.abs(j.x-m[0].x)),R=Math.max(Math.abs(C.y-m[0].y),Math.abs(j.y-m[0].y));I>=R?(w=(C.x+j.x)/2,S=m[0].y):(w=m[0].x,S=(C.y+j.y)/2)}return[[e,{x:u.x+g.x,y:u.y+g.y},...m,{x:d.x+y.x,y:d.y+y.y},n],w,S,h,x]}function zC(e,t,n,r){const s=Math.min(Np(e,t)/2,Np(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+s*u},${o}Q ${i},${o} ${i},${o+s*d}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${o+s*l}Q ${i},${o} ${i+s*a},${o}`}function sl({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20,stepPosition:d=.5}){const[c,f,v,m,w]=OC({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:a,y:l},offset:u,stepPosition:d});return[c.reduce((g,y,h)=>{let x="";return h>0&&h<c.length-1?x=zC(c[h-1],y,c[h+1],o):x=`${h===0?"M":"L"}${y.x} ${y.y}`,g+=x,g},""),f,v,m,w]}function Cp(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function FC(e){var c;const{sourceNode:t,targetNode:n}=e;if(!Cp(t)||!Cp(n))return null;const r=t.internals.handleBounds||bp(t.handles),s=n.internals.handleBounds||bp(n.handles),i=Tp((r==null?void 0:r.source)??[],e.sourceHandle),o=Tp(e.connectionMode===As.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!i||!o)return(c=e.onError)==null||c.call(e,"008",en.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(i==null?void 0:i.position)||G.Bottom,l=(o==null?void 0:o.position)||G.Top,u=zr(t,i,a),d=zr(n,o,l);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:a,targetPosition:l}}function bp(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function zr(e,t,n=G.Left,r=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:a}=t??Sn(e);if(r)return{x:s+o/2,y:i+a/2};switch((t==null?void 0:t.position)??n){case G.Top:return{x:s+o/2,y:i};case G.Right:return{x:s+o,y:i+a/2};case G.Bottom:return{x:s+o/2,y:i+a};case G.Left:return{x:s,y:i+a/2}}}function Tp(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function qc(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function $C(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const i=new Set;return e.reduce((o,a)=>([a.markerStart||r,a.markerEnd||s].forEach(l=>{if(l&&typeof l=="object"){const u=qc(l,t);i.has(u)||(o.push({id:u,color:l.color||n,...l}),i.add(u))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const sv=1e3,HC=10,ff={nodeOrigin:[0,0],nodeExtent:Gi,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},BC={...ff,checkEquality:!0};function hf(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function VC(e,t,n){const r=hf(ff,n);for(const s of e.values())if(s.parentId)mf(s,e,t,r);else{const i=go(s,r.nodeOrigin),o=zs(s.extent)?s.extent:r.nodeExtent,a=Or(i,o,Sn(s));s.internals.positionAbsolute=a}}function UC(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const s of e.handles){const i={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?n.push(i):s.type==="target"&&r.push(i)}return{source:n,target:r}}function pf(e){return e==="manual"}function Xc(e,t,n,r={}){var u,d;const s=hf(BC,r),i={i:0},o=new Map(t),a=s!=null&&s.elevateNodesOnSelect&&!pf(s.zIndexMode)?sv:0;let l=e.length>0;t.clear(),n.clear();for(const c of e){let f=o.get(c.id);if(s.checkEquality&&c===(f==null?void 0:f.internals.userNode))t.set(c.id,f);else{const v=go(c,s.nodeOrigin),m=zs(c.extent)?c.extent:s.nodeExtent,w=Or(v,m,Sn(c));f={...s.defaults,...c,measured:{width:(u=c.measured)==null?void 0:u.width,height:(d=c.measured)==null?void 0:d.height},internals:{positionAbsolute:w,handleBounds:UC(c,f),z:iv(c,a,s.zIndexMode),userNode:c}},t.set(c.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(l=!1),c.parentId&&mf(f,t,n,r,i)}return l}function WC(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function mf(e,t,n,r,s){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:a,zIndexMode:l}=hf(ff,r),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}WC(e,n),s&&!d.parentId&&d.internals.rootParentIndex===void 0&&l==="auto"&&(d.internals.rootParentIndex=++s.i,d.internals.z=d.internals.z+s.i*HC),s&&d.internals.rootParentIndex!==void 0&&(s.i=d.internals.rootParentIndex);const c=i&&!pf(l)?sv:0,{x:f,y:v,z:m}=QC(e,d,o,a,c,l),{positionAbsolute:w}=e.internals,S=f!==w.x||v!==w.y;(S||m!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:S?{x:f,y:v}:w,z:m}})}function iv(e,t,n){const r=Lt(e.zIndex)?e.zIndex:0;return pf(n)?r:r+(e.selected?t:0)}function QC(e,t,n,r,s,i){const{x:o,y:a}=t.internals.positionAbsolute,l=Sn(e),u=go(e,n),d=zs(e.extent)?Or(u,e.extent,l):u;let c=Or({x:o+d.x,y:a+d.y},r,l);e.extent==="parent"&&(c=W0(c,l,t));const f=iv(e,s,i),v=t.internals.z??0;return{x:c.x,y:c.y,z:v>=f?v+1:f}}function gf(e,t,n,r=[0,0]){var o;const s=[],i=new Map;for(const a of e){const l=t.get(a.parentId);if(!l)continue;const u=((o=i.get(a.parentId))==null?void 0:o.expandedRect)??Os(l),d=q0(u,a.rect);i.set(a.parentId,{expandedRect:d,parent:l})}return i.size>0&&i.forEach(({expandedRect:a,parent:l},u)=>{var h;const d=l.internals.positionAbsolute,c=Sn(l),f=l.origin??r,v=a.x<d.x?Math.round(Math.abs(d.x-a.x)):0,m=a.y<d.y?Math.round(Math.abs(d.y-a.y)):0,w=Math.max(c.width,Math.round(a.width)),S=Math.max(c.height,Math.round(a.height)),g=(w-c.width)*f[0],y=(S-c.height)*f[1];(v>0||m>0||g||y)&&(s.push({id:u,type:"position",position:{x:l.position.x-v+g,y:l.position.y-m+y}}),(h=n.get(u))==null||h.forEach(x=>{e.some(E=>E.id===x.id)||s.push({id:x.id,type:"position",position:{x:x.position.x+v,y:x.position.y+m}})})),(c.width<a.width||c.height<a.height||v||m)&&s.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:w+(v?f[0]*v-g:0),height:S+(m?f[1]*m-y:0)}})}),s}function qC(e,t,n,r,s,i,o){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!a)return{changes:[],updatedInternals:l};const u=[],d=window.getComputedStyle(a),{m22:c}=new window.DOMMatrixReadOnly(d.transform),f=[];for(const v of e.values()){const m=t.get(v.id);if(!m)continue;if(m.hidden){t.set(m.id,{...m,internals:{...m.internals,handleBounds:void 0}}),l=!0;continue}const w=df(v.nodeElement),S=m.measured.width!==w.width||m.measured.height!==w.height;if(!!(w.width&&w.height&&(S||!m.internals.handleBounds||v.force))){const y=v.nodeElement.getBoundingClientRect(),h=zs(m.extent)?m.extent:i;let{positionAbsolute:x}=m.internals;m.parentId&&m.extent==="parent"?x=W0(x,w,t.get(m.parentId)):h&&(x=Or(x,h,w));const E={...m,measured:w,internals:{...m.internals,positionAbsolute:x,handleBounds:{source:Ep("source",v.nodeElement,y,c,m.id),target:Ep("target",v.nodeElement,y,c,m.id)}}};t.set(m.id,E),m.parentId&&mf(E,t,n,{nodeOrigin:s,zIndexMode:o}),l=!0,S&&(u.push({id:m.id,type:"dimensions",dimensions:w}),m.expandParent&&m.parentId&&f.push({id:m.id,parentId:m.parentId,rect:Os(E,s)}))}}if(f.length>0){const v=gf(f,t,n,s);u.push(...v)}return{changes:u,updatedInternals:l}}async function XC({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,i]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function Mp(e,t,n,r,s,i){let o=s;const a=r.get(o)||new Map;r.set(o,a.set(n,t)),o=`${s}-${e}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,t)),i){o=`${s}-${e}-${i}`;const u=r.get(o)||new Map;r.set(o,u.set(n,t))}}function ov(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:i,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:s,target:i,sourceHandle:o,targetHandle:a},u=`${s}-${o}--${i}-${a}`,d=`${i}-${a}--${s}-${o}`;Mp("source",l,d,e,s,o),Mp("target",l,u,e,i,a),t.set(r.id,r)}}function av(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:av(n,t):!1}function jp(e,t,n){var s;let r=e;do{if((s=r==null?void 0:r.matches)!=null&&s.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function YC(e,t,n,r){const s=new Map;for(const[i,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!av(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const a=e.get(i);a&&s.set(i,{id:i,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return s}function Eu({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var o,a,l;const s=[];for(const[u,d]of t){const c=(o=n.get(u))==null?void 0:o.internals.userNode;c&&s.push({...c,position:d.position,dragging:r})}if(!e)return[s[0],s];const i=(a=n.get(e))==null?void 0:a.internals.userNode;return[i?{...i,position:((l=t.get(e))==null?void 0:l.position)||i.position,dragging:r}:s[0],s]}function KC({dragItems:e,snapGrid:t,x:n,y:r}){const s=e.values().next().value;if(!s)return null;const i={x:n-s.distance.x,y:r-s.distance.y},o=vo(i,t);return{x:o.x-i.x,y:o.y-i.y}}function GC({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let i={x:null,y:null},o=0,a=new Map,l=!1,u={x:0,y:0},d=null,c=!1,f=null,v=!1,m=!1,w=null;function S({noDragClassName:y,handleSelector:h,domNode:x,isSelectable:E,nodeId:k,nodeClickDistance:_=0}){f=ft(x);function C({x:A,y:B}){const{nodeLookup:N,nodeExtent:L,snapGrid:P,snapToGrid:z,nodeOrigin:b,onNodeDrag:T,onSelectionDrag:O,onError:$,updateNodePositions:H}=t();i={x:A,y:B};let Q=!1;const U=a.size>1,Y=U&&L?Qc(yo(a)):null,K=U&&z?KC({dragItems:a,snapGrid:P,x:A,y:B}):null;for(const[Z,W]of a){if(!N.has(Z))continue;let J={x:A-W.distance.x,y:B-W.distance.y};z&&(J=K?{x:Math.round(J.x+K.x),y:Math.round(J.y+K.y)}:vo(J,P));let ie=null;if(U&&L&&!W.extent&&Y){const{positionAbsolute:te}=W.internals,fe=te.x-Y.x+L[0][0],ye=te.x+W.measured.width-Y.x2+L[1][0],de=te.y-Y.y+L[0][1],Be=te.y+W.measured.height-Y.y2+L[1][1];ie=[[fe,de],[ye,Be]]}const{position:re,positionAbsolute:ne}=U0({nodeId:Z,nextPosition:J,nodeLookup:N,nodeExtent:ie||L,nodeOrigin:b,onError:$});Q=Q||W.position.x!==re.x||W.position.y!==re.y,W.position=re,W.internals.positionAbsolute=ne}if(m=m||Q,!!Q&&(H(a,!0),w&&(r||T||!k&&O))){const[Z,W]=Eu({nodeId:k,dragItems:a,nodeLookup:N});r==null||r(w,a,Z,W),T==null||T(w,Z,W),k||O==null||O(w,W)}}async function j(){if(!d)return;const{transform:A,panBy:B,autoPanSpeed:N,autoPanOnNodeDrag:L}=t();if(!L){l=!1,cancelAnimationFrame(o);return}const[P,z]=Q0(u,d,N);(P!==0||z!==0)&&(i.x=(i.x??0)-P/A[2],i.y=(i.y??0)-z/A[2],await B({x:P,y:z})&&C(i)),o=requestAnimationFrame(j)}function I(A){var U;const{nodeLookup:B,multiSelectionActive:N,nodesDraggable:L,transform:P,snapGrid:z,snapToGrid:b,selectNodesOnDrag:T,onNodeDragStart:O,onSelectionDragStart:$,unselectNodesAndEdges:H}=t();c=!0,(!T||!E)&&!N&&k&&((U=B.get(k))!=null&&U.selected||H()),E&&T&&k&&(e==null||e(k));const Q=bi(A.sourceEvent,{transform:P,snapGrid:z,snapToGrid:b,containerBounds:d});if(i=Q,a=YC(B,L,Q,k),a.size>0&&(n||O||!k&&$)){const[Y,K]=Eu({nodeId:k,dragItems:a,nodeLookup:B});n==null||n(A.sourceEvent,a,Y,K),O==null||O(A.sourceEvent,Y,K),k||$==null||$(A.sourceEvent,K)}}const R=k0().clickDistance(_).on("start",A=>{const{domNode:B,nodeDragThreshold:N,transform:L,snapGrid:P,snapToGrid:z}=t();d=(B==null?void 0:B.getBoundingClientRect())||null,v=!1,m=!1,w=A.sourceEvent,N===0&&I(A),i=bi(A.sourceEvent,{transform:L,snapGrid:P,snapToGrid:z,containerBounds:d}),u=Ot(A.sourceEvent,d)}).on("drag",A=>{const{autoPanOnNodeDrag:B,transform:N,snapGrid:L,snapToGrid:P,nodeDragThreshold:z,nodeLookup:b}=t(),T=bi(A.sourceEvent,{transform:N,snapGrid:L,snapToGrid:P,containerBounds:d});if(w=A.sourceEvent,(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1||k&&!b.has(k))&&(v=!0),!v){if(!l&&B&&c&&(l=!0,j()),!c){const O=Ot(A.sourceEvent,d),$=O.x-u.x,H=O.y-u.y;Math.sqrt($*$+H*H)>z&&I(A)}(i.x!==T.xSnapped||i.y!==T.ySnapped)&&a&&c&&(u=Ot(A.sourceEvent,d),C(T))}}).on("end",A=>{if(!(!c||v)&&(l=!1,c=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:B,updateNodePositions:N,onNodeDragStop:L,onSelectionDragStop:P}=t();if(m&&(N(a,!1),m=!1),s||L||!k&&P){const[z,b]=Eu({nodeId:k,dragItems:a,nodeLookup:B,dragging:!1});s==null||s(A.sourceEvent,a,z,b),L==null||L(A.sourceEvent,z,b),k||P==null||P(A.sourceEvent,b)}}}).filter(A=>{const B=A.target;return!A.button&&(!y||!jp(B,`.${y}`,x))&&(!h||jp(B,h,x))});f.call(R)}function g(){f==null||f.on(".drag",null)}return{update:S,destroy:g}}function ZC(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())Ji(s,Os(i))>0&&r.push(i);return r}const JC=250;function eb(e,t,n,r){var a,l;let s=[],i=1/0;const o=ZC(e,n,t+JC);for(const u of o){const d=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const c of d){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:f,y:v}=zr(u,c,c.position,!0),m=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(v-e.y,2));m>t||(m<i?(s=[{...c,x:f,y:v}],i=m):m===i&&s.push({...c,x:f,y:v}))}}if(!s.length)return null;if(s.length>1){const u=r.type==="source"?"target":"source";return s.find(d=>d.type===u)??s[0]}return s[0]}function lv(e,t,n,r,s,i=!1){var u,d,c;const o=r.get(e);if(!o)return null;const a=s==="strict"?(u=o.internals.handleBounds)==null?void 0:u[t]:[...((d=o.internals.handleBounds)==null?void 0:d.source)??[],...((c=o.internals.handleBounds)==null?void 0:c.target)??[]],l=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return l&&i?{...l,...zr(o,l,l.position,!0)}:l}function uv(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function tb(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const cv=()=>!0;function nb(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:i,isTarget:o,domNode:a,nodeLookup:l,lib:u,autoPanOnConnect:d,flowId:c,panBy:f,cancelConnection:v,onConnectStart:m,onConnect:w,onConnectEnd:S,isValidConnection:g=cv,onReconnectEnd:y,updateConnection:h,getTransform:x,getFromHandle:E,autoPanSpeed:k,dragThreshold:_=1,handleDomNode:C}){const j=K0(e.target);let I=0,R;const{x:A,y:B}=Ot(e),N=uv(i,C),L=a==null?void 0:a.getBoundingClientRect();let P=!1;if(!L||!N)return;const z=lv(s,N,r,l,t);if(!z)return;let b=Ot(e,L),T=!1,O=null,$=!1,H=null;function Q(){if(!d||!L)return;const[re,ne]=Q0(b,L,k);f({x:re,y:ne}),I=requestAnimationFrame(Q)}const U={...z,nodeId:s,type:N,position:z.position},Y=l.get(s);let Z={inProgress:!0,isValid:null,from:zr(Y,U,G.Left,!0),fromHandle:U,fromPosition:U.position,fromNode:Y,to:b,toHandle:null,toPosition:vp[U.position],toNode:null,pointer:b};function W(){P=!0,h(Z),m==null||m(e,{nodeId:s,handleId:r,handleType:N})}_===0&&W();function J(re){if(!P){const{x:Be,y:kn}=Ot(re),rn=Be-A,sr=kn-B;if(!(rn*rn+sr*sr>_*_))return;W()}if(!E()||!U){ie(re);return}const ne=x();b=Ot(re,L),R=eb(xo(b,ne,!1,[1,1]),n,l,U),T||(Q(),T=!0);const te=dv(re,{handle:R,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:o?"target":"source",isValidConnection:g,doc:j,lib:u,flowId:c,nodeLookup:l});H=te.handleDomNode,O=te.connection,$=tb(!!R,te.isValid);const fe=l.get(s),ye=fe?zr(fe,U,G.Left,!0):Z.from,de={...Z,from:ye,isValid:$,to:te.toHandle&&$?rl({x:te.toHandle.x,y:te.toHandle.y},ne):b,toHandle:te.toHandle,toPosition:$&&te.toHandle?te.toHandle.position:vp[U.position],toNode:te.toHandle?l.get(te.toHandle.nodeId):null,pointer:b};h(de),Z=de}function ie(re){if(!("touches"in re&&re.touches.length>0)){if(P){(R||H)&&O&&$&&(w==null||w(O));const{inProgress:ne,...te}=Z,fe={...te,toPosition:Z.toHandle?Z.toPosition:null};S==null||S(re,fe),i&&(y==null||y(re,fe))}v(),cancelAnimationFrame(I),T=!1,$=!1,O=null,H=null,j.removeEventListener("mousemove",J),j.removeEventListener("mouseup",ie),j.removeEventListener("touchmove",J),j.removeEventListener("touchend",ie)}}j.addEventListener("mousemove",J),j.addEventListener("mouseup",ie),j.addEventListener("touchmove",J),j.addEventListener("touchend",ie)}function dv(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:i,doc:o,lib:a,flowId:l,isValidConnection:u=cv,nodeLookup:d}){const c=i==="target",f=t?o.querySelector(`.${a}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:v,y:m}=Ot(e),w=o.elementFromPoint(v,m),S=w!=null&&w.classList.contains(`${a}-flow__handle`)?w:f,g={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const y=uv(void 0,S),h=S.getAttribute("data-nodeid"),x=S.getAttribute("data-handleid"),E=S.classList.contains("connectable"),k=S.classList.contains("connectableend");if(!h||!y)return g;const _={source:c?h:r,sourceHandle:c?x:s,target:c?r:h,targetHandle:c?s:x};g.connection=_;const j=E&&k&&(n===As.Strict?c&&y==="source"||!c&&y==="target":h!==r||x!==s);g.isValid=j&&u(_),g.toHandle=lv(h,y,x,d,n,!0)}return g}const Yc={onPointerDown:nb,isValid:dv};function rb({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=ft(e);function i({translateExtent:a,width:l,height:u,zoomStep:d=1,pannable:c=!0,zoomable:f=!0,inversePan:v=!1}){const m=h=>{if(h.sourceEvent.type!=="wheel"||!t)return;const x=n(),E=h.sourceEvent.ctrlKey&&eo()?10:1,k=-h.sourceEvent.deltaY*(h.sourceEvent.deltaMode===1?.05:h.sourceEvent.deltaMode?1:.002)*d,_=x[2]*Math.pow(2,k*E);t.scaleTo(_)};let w=[0,0];const S=h=>{(h.sourceEvent.type==="mousedown"||h.sourceEvent.type==="touchstart")&&(w=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY])},g=h=>{const x=n();if(h.sourceEvent.type!=="mousemove"&&h.sourceEvent.type!=="touchmove"||!t)return;const E=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY],k=[E[0]-w[0],E[1]-w[1]];w=E;const _=r()*Math.max(x[2],Math.log(x[2]))*(v?-1:1),C={x:x[0]-k[0]*_,y:x[1]-k[1]*_},j=[[0,0],[l,u]];t.setViewportConstrained({x:C.x,y:C.y,zoom:x[2]},j,a)},y=z0().on("start",S).on("zoom",c?g:null).on("zoom.wheel",f?m:null);s.call(y,{})}function o(){s.on("zoom",null)}return{update:i,destroy:o,pointer:Rt}}const Pl=e=>({x:e.x,y:e.y,zoom:e.k}),ku=({x:e,y:t,zoom:n})=>Tl.translate(e,t).scale(n),rs=(e,t)=>e.target.closest(`.${t}`),fv=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),sb=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,_u=(e,t=0,n=sb,r=()=>{})=>{const s=typeof t=="number"&&t>0;return s||r(),s?e.transition().duration(t).ease(n).on("end",r):e},hv=e=>{const t=e.ctrlKey&&eo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function ib({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:i,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:u}){return d=>{if(rs(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(d.ctrlKey&&o){const S=Rt(d),g=hv(d),y=c*Math.pow(2,g);r.scaleTo(n,y,S,d);return}const f=d.deltaMode===1?20:1;let v=s===br.Vertical?0:d.deltaX*f,m=s===br.Horizontal?0:d.deltaY*f;!eo()&&d.shiftKey&&s!==br.Vertical&&(v=d.deltaY*f,m=0),r.translateBy(n,-(v/c)*i,-(m/c)*i,{internal:!0});const w=Pl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(l==null||l(d,w),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,w),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(d,w))}}function ob({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const i=r.type==="wheel",o=!t&&i&&!r.ctrlKey,a=rs(r,e);if(r.ctrlKey&&i&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,s)}}function ab({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,o,a;if((i=r.sourceEvent)!=null&&i.internal)return;const s=Pl(r.transform);e.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,s))}}function lb({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return i=>{var o,a;e.usedRightMouseButton=!!(n&&fv(t,e.mouseButton??0)),(o=i.sourceEvent)!=null&&o.sync||r([i.transform.x,i.transform.y,i.transform.k]),s&&!((a=i.sourceEvent)!=null&&a.internal)&&(s==null||s(i.sourceEvent,Pl(i.transform)))}}function ub({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:i}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,i&&fv(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&i(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),s)){const l=Pl(o.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(o.sourceEvent,l)},n?150:0)}}}function cb({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:i,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:u,connectionInProgress:d}){return c=>{var S;const f=e||t,v=n&&c.ctrlKey,m=c.type==="wheel";if(c.button===1&&c.type==="mousedown"&&(rs(c,`${u}-flow__node`)||rs(c,`${u}-flow__edge`)))return!0;if(!r&&!f&&!s&&!i&&!n||o||d&&!m||rs(c,a)&&m||rs(c,l)&&(!m||s&&m&&!e)||!n&&c.ctrlKey&&m)return!1;if(!n&&c.type==="touchstart"&&((S=c.touches)==null?void 0:S.length)>1)return c.preventDefault(),!1;if(!f&&!s&&!v&&m||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const w=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||m)&&w}}function db({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:s,onPanZoom:i,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:l}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),c=z0().scaleExtent([t,n]).translateExtent(r),f=ft(e).call(c);y({x:s.x,y:s.y,zoom:Ls(s.zoom,t,n)},[[0,0],[d.width,d.height]],r);const v=f.on("wheel.zoom"),m=f.on("dblclick.zoom");c.wheelDelta(hv);function w(R,A){return f?new Promise(B=>{c==null||c.interpolate((A==null?void 0:A.interpolate)==="linear"?Ci:ma).transform(_u(f,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>B(!0)),R)}):Promise.resolve(!1)}function S({noWheelClassName:R,noPanClassName:A,onPaneContextMenu:B,userSelectionActive:N,panOnScroll:L,panOnDrag:P,panOnScrollMode:z,panOnScrollSpeed:b,preventScrolling:T,zoomOnPinch:O,zoomOnScroll:$,zoomOnDoubleClick:H,zoomActivationKeyPressed:Q,lib:U,onTransformChange:Y,connectionInProgress:K,paneClickDistance:Z,selectionOnDrag:W}){N&&!u.isZoomingOrPanning&&g();const J=L&&!Q&&!N;c.clickDistance(W?1/0:!Lt(Z)||Z<0?0:Z);const ie=J?ib({zoomPanValues:u,noWheelClassName:R,d3Selection:f,d3Zoom:c,panOnScrollMode:z,panOnScrollSpeed:b,zoomOnPinch:O,onPanZoomStart:o,onPanZoom:i,onPanZoomEnd:a}):ob({noWheelClassName:R,preventScrolling:T,d3ZoomHandler:v});if(f.on("wheel.zoom",ie,{passive:!1}),!N){const ne=ab({zoomPanValues:u,onDraggingChange:l,onPanZoomStart:o});c.on("start",ne);const te=lb({zoomPanValues:u,panOnDrag:P,onPaneContextMenu:!!B,onPanZoom:i,onTransformChange:Y});c.on("zoom",te);const fe=ub({zoomPanValues:u,panOnDrag:P,panOnScroll:L,onPaneContextMenu:B,onPanZoomEnd:a,onDraggingChange:l});c.on("end",fe)}const re=cb({zoomActivationKeyPressed:Q,panOnDrag:P,zoomOnScroll:$,panOnScroll:L,zoomOnDoubleClick:H,zoomOnPinch:O,userSelectionActive:N,noPanClassName:A,noWheelClassName:R,lib:U,connectionInProgress:K});c.filter(re),H?f.on("dblclick.zoom",m):f.on("dblclick.zoom",null)}function g(){c.on("zoom",null)}async function y(R,A,B){const N=ku(R),L=c==null?void 0:c.constrain()(N,A,B);return L&&await w(L),new Promise(P=>P(L))}async function h(R,A){const B=ku(R);return await w(B,A),new Promise(N=>N(B))}function x(R){if(f){const A=ku(R),B=f.property("__zoom");(B.k!==R.zoom||B.x!==R.x||B.y!==R.y)&&(c==null||c.transform(f,A,null,{sync:!0}))}}function E(){const R=f?O0(f.node()):{x:0,y:0,k:1};return{x:R.x,y:R.y,zoom:R.k}}function k(R,A){return f?new Promise(B=>{c==null||c.interpolate((A==null?void 0:A.interpolate)==="linear"?Ci:ma).scaleTo(_u(f,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>B(!0)),R)}):Promise.resolve(!1)}function _(R,A){return f?new Promise(B=>{c==null||c.interpolate((A==null?void 0:A.interpolate)==="linear"?Ci:ma).scaleBy(_u(f,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>B(!0)),R)}):Promise.resolve(!1)}function C(R){c==null||c.scaleExtent(R)}function j(R){c==null||c.translateExtent(R)}function I(R){const A=!Lt(R)||R<0?0:R;c==null||c.clickDistance(A)}return{update:S,destroy:g,setViewport:h,setViewportConstrained:y,getViewport:E,scaleTo:k,scaleBy:_,setScaleExtent:C,setTranslateExtent:j,syncViewport:x,setClickDistance:I}}var Fs;(function(e){e.Line="line",e.Handle="handle"})(Fs||(Fs={}));function fb({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:i}){const o=e-t,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&s&&(l[0]=l[0]*-1),a&&i&&(l[1]=l[1]*-1),l}function Pp(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function Nn(e,t){return Math.max(0,t-e)}function Cn(e,t){return Math.max(0,e-t)}function Zo(e,t,n){return Math.max(0,t-e,e-n)}function Rp(e,t){return e?!t:t}function hb(e,t,n,r,s,i,o,a){let{affectsX:l,affectsY:u}=t;const{isHorizontal:d,isVertical:c}=t,f=d&&c,{xSnapped:v,ySnapped:m}=n,{minWidth:w,maxWidth:S,minHeight:g,maxHeight:y}=r,{x:h,y:x,width:E,height:k,aspectRatio:_}=e;let C=Math.floor(d?v-e.pointerX:0),j=Math.floor(c?m-e.pointerY:0);const I=E+(l?-C:C),R=k+(u?-j:j),A=-i[0]*E,B=-i[1]*k;let N=Zo(I,w,S),L=Zo(R,g,y);if(o){let b=0,T=0;l&&C<0?b=Nn(h+C+A,o[0][0]):!l&&C>0&&(b=Cn(h+I+A,o[1][0])),u&&j<0?T=Nn(x+j+B,o[0][1]):!u&&j>0&&(T=Cn(x+R+B,o[1][1])),N=Math.max(N,b),L=Math.max(L,T)}if(a){let b=0,T=0;l&&C>0?b=Cn(h+C,a[0][0]):!l&&C<0&&(b=Nn(h+I,a[1][0])),u&&j>0?T=Cn(x+j,a[0][1]):!u&&j<0&&(T=Nn(x+R,a[1][1])),N=Math.max(N,b),L=Math.max(L,T)}if(s){if(d){const b=Zo(I/_,g,y)*_;if(N=Math.max(N,b),o){let T=0;!l&&!u||l&&!u&&f?T=Cn(x+B+I/_,o[1][1])*_:T=Nn(x+B+(l?C:-C)/_,o[0][1])*_,N=Math.max(N,T)}if(a){let T=0;!l&&!u||l&&!u&&f?T=Nn(x+I/_,a[1][1])*_:T=Cn(x+(l?C:-C)/_,a[0][1])*_,N=Math.max(N,T)}}if(c){const b=Zo(R*_,w,S)/_;if(L=Math.max(L,b),o){let T=0;!l&&!u||u&&!l&&f?T=Cn(h+R*_+A,o[1][0])/_:T=Nn(h+(u?j:-j)*_+A,o[0][0])/_,L=Math.max(L,T)}if(a){let T=0;!l&&!u||u&&!l&&f?T=Nn(h+R*_,a[1][0])/_:T=Cn(h+(u?j:-j)*_,a[0][0])/_,L=Math.max(L,T)}}}j=j+(j<0?L:-L),C=C+(C<0?N:-N),s&&(f?I>R*_?j=(Rp(l,u)?-C:C)/_:C=(Rp(l,u)?-j:j)*_:d?(j=C/_,u=l):(C=j*_,l=u));const P=l?h+C:h,z=u?x+j:x;return{width:E+(l?-C:C),height:k+(u?-j:j),x:i[0]*C*(l?-1:1)+P,y:i[1]*j*(u?-1:1)+z}}const pv={width:0,height:0,x:0,y:0},pb={...pv,pointerX:0,pointerY:0,aspectRatio:1};function mb(e){return[[0,0],[e.measured.width,e.measured.height]]}function gb(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,i=e.measured.width??0,o=e.measured.height??0,a=n[0]*i,l=n[1]*o;return[[r-a,s-l],[r+i-a,s+o-l]]}function yb({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const i=ft(e);let o={controlDirection:Pp("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:u,boundaries:d,keepAspectRatio:c,resizeDirection:f,onResizeStart:v,onResize:m,onResizeEnd:w,shouldResize:S}){let g={...pv},y={...pb};o={boundaries:d,resizeDirection:f,keepAspectRatio:c,controlDirection:Pp(u)};let h,x=null,E=[],k,_,C,j=!1;const I=k0().on("start",R=>{const{nodeLookup:A,transform:B,snapGrid:N,snapToGrid:L,nodeOrigin:P,paneDomNode:z}=n();if(h=A.get(t),!h)return;x=(z==null?void 0:z.getBoundingClientRect())??null;const{xSnapped:b,ySnapped:T}=bi(R.sourceEvent,{transform:B,snapGrid:N,snapToGrid:L,containerBounds:x});g={width:h.measured.width??0,height:h.measured.height??0,x:h.position.x??0,y:h.position.y??0},y={...g,pointerX:b,pointerY:T,aspectRatio:g.width/g.height},k=void 0,h.parentId&&(h.extent==="parent"||h.expandParent)&&(k=A.get(h.parentId),_=k&&h.extent==="parent"?mb(k):void 0),E=[],C=void 0;for(const[O,$]of A)if($.parentId===t&&(E.push({id:O,position:{...$.position},extent:$.extent}),$.extent==="parent"||$.expandParent)){const H=gb($,h,$.origin??P);C?C=[[Math.min(H[0][0],C[0][0]),Math.min(H[0][1],C[0][1])],[Math.max(H[1][0],C[1][0]),Math.max(H[1][1],C[1][1])]]:C=H}v==null||v(R,{...g})}).on("drag",R=>{const{transform:A,snapGrid:B,snapToGrid:N,nodeOrigin:L}=n(),P=bi(R.sourceEvent,{transform:A,snapGrid:B,snapToGrid:N,containerBounds:x}),z=[];if(!h)return;const{x:b,y:T,width:O,height:$}=g,H={},Q=h.origin??L,{width:U,height:Y,x:K,y:Z}=hb(y,o.controlDirection,P,o.boundaries,o.keepAspectRatio,Q,_,C),W=U!==O,J=Y!==$,ie=K!==b&&W,re=Z!==T&&J;if(!ie&&!re&&!W&&!J)return;if((ie||re||Q[0]===1||Q[1]===1)&&(H.x=ie?K:g.x,H.y=re?Z:g.y,g.x=H.x,g.y=H.y,E.length>0)){const ye=K-b,de=Z-T;for(const Be of E)Be.position={x:Be.position.x-ye+Q[0]*(U-O),y:Be.position.y-de+Q[1]*(Y-$)},z.push(Be)}if((W||J)&&(H.width=W&&(!o.resizeDirection||o.resizeDirection==="horizontal")?U:g.width,H.height=J&&(!o.resizeDirection||o.resizeDirection==="vertical")?Y:g.height,g.width=H.width,g.height=H.height),k&&h.expandParent){const ye=Q[0]*(H.width??0);H.x&&H.x<ye&&(g.x=ye,y.x=y.x-(H.x-ye));const de=Q[1]*(H.height??0);H.y&&H.y<de&&(g.y=de,y.y=y.y-(H.y-de))}const ne=fb({width:g.width,prevWidth:O,height:g.height,prevHeight:$,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),te={...g,direction:ne};(S==null?void 0:S(R,te))!==!1&&(j=!0,m==null||m(R,te),r(H,z))}).on("end",R=>{j&&(w==null||w(R,{...g}),s==null||s({...g}),j=!1)});i.call(I)}function l(){i.on(".drag",null)}return{update:a,destroy:l}}const{useDebugValue:vb}=At,{useSyncExternalStoreWithSelector:xb}=a0,wb=e=>e;function mv(e,t=wb,n){const r=xb(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return vb(r),r}const Ip=(e,t)=>{const n=n0(e),r=(s,i=t)=>mv(n,s,i);return Object.assign(r,n),r},Sb=(e,t)=>e?Ip(e,t):Ip;function Se(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Rl=D.createContext(null),Eb=Rl.Provider,gv=en.error001();function ue(e,t){const n=D.useContext(Rl);if(n===null)throw new Error(gv);return mv(n,e,t)}function Ee(){const e=D.useContext(Rl);if(e===null)throw new Error(gv);return D.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Dp={display:"none"},kb={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},yv="react-flow__node-desc",vv="react-flow__edge-desc",_b="react-flow__aria-live",Nb=e=>e.ariaLiveMessage,Cb=e=>e.ariaLabelConfig;function bb({rfId:e}){const t=ue(Nb);return p.jsx("div",{id:`${_b}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:kb,children:t})}function Tb({rfId:e,disableKeyboardA11y:t}){const n=ue(Cb);return p.jsxs(p.Fragment,{children:[p.jsx("div",{id:`${yv}-${e}`,style:Dp,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),p.jsx("div",{id:`${vv}-${e}`,style:Dp,children:n["edge.a11yDescription.default"]}),!t&&p.jsx(bb,{rfId:e})]})}const Il=D.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},i)=>{const o=`${e}`.split("-");return p.jsx("div",{className:Pe(["react-flow__panel",n,...o]),style:r,ref:i,...s,children:t})});Il.displayName="Panel";function Mb({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:p.jsx(Il,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:p.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const jb=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Jo=e=>e.id;function Pb(e,t){return Se(e.selectedNodes.map(Jo),t.selectedNodes.map(Jo))&&Se(e.selectedEdges.map(Jo),t.selectedEdges.map(Jo))}function Rb({onSelectionChange:e}){const t=Ee(),{selectedNodes:n,selectedEdges:r}=ue(jb,Pb);return D.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(i=>i(s))},[n,r,e]),null}const Ib=e=>!!e.onSelectionChangeHandlers;function Db({onSelectionChange:e}){const t=ue(Ib);return e||t?p.jsx(Rb,{onSelectionChange:e}):null}const xv=[0,0],Ab={x:0,y:0,zoom:1},Lb=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Ap=[...Lb,"rfId"],Ob=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Lp={translateExtent:Gi,nodeOrigin:xv,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function zb(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:i,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l}=ue(Ob,Se),u=Ee();D.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{d.current=Lp,a()}),[]);const d=D.useRef(Lp);return D.useEffect(()=>{for(const c of Ap){const f=e[c],v=d.current[c];f!==v&&(typeof e[c]>"u"||(c==="nodes"?t(f):c==="edges"?n(f):c==="minZoom"?r(f):c==="maxZoom"?s(f):c==="translateExtent"?i(f):c==="nodeExtent"?o(f):c==="ariaLabelConfig"?u.setState({ariaLabelConfig:jC(f)}):c==="fitView"?u.setState({fitViewQueued:f}):c==="fitViewOptions"?u.setState({fitViewOptions:f}):u.setState({[c]:f})))}d.current=e},Ap.map(c=>e[c])),null}function Op(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Fb(e){var r;const[t,n]=D.useState(e==="system"?null:e);return D.useEffect(()=>{if(e!=="system"){n(e);return}const s=Op(),i=()=>n(s!=null&&s.matches?"dark":"light");return i(),s==null||s.addEventListener("change",i),()=>{s==null||s.removeEventListener("change",i)}},[e]),t!==null?t:(r=Op())!=null&&r.matches?"dark":"light"}const zp=typeof document<"u"?document:null;function to(e=null,t={target:zp,actInsideInputWithModifier:!0}){const[n,r]=D.useState(!1),s=D.useRef(!1),i=D.useRef(new Set([])),[o,a]=D.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(c=>typeof c=="string").map(c=>c.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((c,f)=>c.concat(...f),[]);return[u,d]}return[[],[]]},[e]);return D.useEffect(()=>{const l=(t==null?void 0:t.target)??zp,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=v=>{var S,g;if(s.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!s.current||s.current&&!u)&&G0(v))return!1;const w=$p(v.code,a);if(i.current.add(v[w]),Fp(o,i.current,!1)){const y=((g=(S=v.composedPath)==null?void 0:S.call(v))==null?void 0:g[0])||v.target,h=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";t.preventDefault!==!1&&(s.current||!h)&&v.preventDefault(),r(!0)}},c=v=>{const m=$p(v.code,a);Fp(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(v[m]),v.key==="Meta"&&i.current.clear(),s.current=!1},f=()=>{i.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",d),l==null||l.addEventListener("keyup",c),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{l==null||l.removeEventListener("keydown",d),l==null||l.removeEventListener("keyup",c),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[e,r]),n}function Fp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function $p(e,t){return t.includes(e)?"code":"key"}const $b=()=>{const e=Ee();return D.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,i],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:i,maxZoom:o,panZoom:a}=e.getState(),l=cf(t,r,s,i,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:i,domNode:o}=e.getState();if(!o)return t;const{x:a,y:l}=o.getBoundingClientRect(),u={x:t.x-a,y:t.y-l},d=n.snapGrid??s,c=n.snapToGrid??i;return xo(u,r,c,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:i}=r.getBoundingClientRect(),o=rl(t,n);return{x:o.x+s,y:o.y+i}}}),[])};function wv(e,t){const n=[],r=new Map,s=[];for(const i of e)if(i.type==="add"){s.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const o=r.get(i.id);o?o.push(i):r.set(i.id,[i])}for(const i of t){const o=r.get(i.id);if(!o){n.push(i);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...i};for(const l of o)Hb(l,a);n.push(a)}return s.length&&s.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function Hb(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Sv(e,t){return wv(e,t)}function Ev(e,t){return wv(e,t)}function ar(e,t){return{id:e,type:"select",selected:t}}function ss(e,t=new Set,n=!1){const r=[];for(const[s,i]of e){const o=t.has(s);!(i.selected===void 0&&!o)&&i.selected!==o&&(n&&(i.selected=o),r.push(ar(i.id,o)))}return r}function Hp({items:e=[],lookup:t}){var s;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,o]of e.entries()){const a=t.get(o.id),l=((s=a==null?void 0:a.internals)==null?void 0:s.userNode)??a;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Bp(e){return{id:e.id,type:"remove"}}const Vp=e=>xC(e),Bb=e=>V0(e);function kv(e){return D.forwardRef(e)}const Vb=typeof window<"u"?D.useLayoutEffect:D.useEffect;function Up(e){const[t,n]=D.useState(BigInt(0)),[r]=D.useState(()=>Ub(()=>n(s=>s+BigInt(1))));return Vb(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function Ub(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const _v=D.createContext(null);function Wb({children:e}){const t=Ee(),n=D.useCallback(a=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:d,onNodesChange:c,nodeLookup:f,fitViewQueued:v,onNodesChangeMiddlewareMap:m}=t.getState();let w=l;for(const g of a)w=typeof g=="function"?g(w):g;let S=Hp({items:w,lookup:f});for(const g of m.values())S=g(S);d&&u(w),S.length>0?c==null||c(S):v&&window.requestAnimationFrame(()=>{const{fitViewQueued:g,nodes:y,setNodes:h}=t.getState();g&&h(y)})},[]),r=Up(n),s=D.useCallback(a=>{const{edges:l=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:c,edgeLookup:f}=t.getState();let v=l;for(const m of a)v=typeof m=="function"?m(v):m;d?u(v):c&&c(Hp({items:v,lookup:f}))},[]),i=Up(s),o=D.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return p.jsx(_v.Provider,{value:o,children:e})}function Qb(){const e=D.useContext(_v);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const qb=e=>!!e.panZoom;function Qs(){const e=$b(),t=Ee(),n=Qb(),r=ue(qb),s=D.useMemo(()=>{const i=c=>t.getState().nodeLookup.get(c),o=c=>{n.nodeQueue.push(c)},a=c=>{n.edgeQueue.push(c)},l=c=>{var g,y;const{nodeLookup:f,nodeOrigin:v}=t.getState(),m=Vp(c)?c:f.get(c.id),w=m.parentId?Y0(m.position,m.measured,m.parentId,f,v):m.position,S={...m,position:w,width:((g=m.measured)==null?void 0:g.width)??m.width,height:((y=m.measured)==null?void 0:y.height)??m.height};return Os(S)},u=(c,f,v={replace:!1})=>{o(m=>m.map(w=>{if(w.id===c){const S=typeof f=="function"?f(w):f;return v.replace&&Vp(S)?S:{...w,...S}}return w}))},d=(c,f,v={replace:!1})=>{a(m=>m.map(w=>{if(w.id===c){const S=typeof f=="function"?f(w):f;return v.replace&&Bb(S)?S:{...w,...S}}return w}))};return{getNodes:()=>t.getState().nodes.map(c=>({...c})),getNode:c=>{var f;return(f=i(c))==null?void 0:f.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:c=[]}=t.getState();return c.map(f=>({...f}))},getEdge:c=>t.getState().edgeLookup.get(c),setNodes:o,setEdges:a,addNodes:c=>{const f=Array.isArray(c)?c:[c];n.nodeQueue.push(v=>[...v,...f])},addEdges:c=>{const f=Array.isArray(c)?c:[c];n.edgeQueue.push(v=>[...v,...f])},toObject:()=>{const{nodes:c=[],edges:f=[],transform:v}=t.getState(),[m,w,S]=v;return{nodes:c.map(g=>({...g})),edges:f.map(g=>({...g})),viewport:{x:m,y:w,zoom:S}}},deleteElements:async({nodes:c=[],edges:f=[]})=>{const{nodes:v,edges:m,onNodesDelete:w,onEdgesDelete:S,triggerNodeChanges:g,triggerEdgeChanges:y,onDelete:h,onBeforeDelete:x}=t.getState(),{nodes:E,edges:k}=await NC({nodesToRemove:c,edgesToRemove:f,nodes:v,edges:m,onBeforeDelete:x}),_=k.length>0,C=E.length>0;if(_){const j=k.map(Bp);S==null||S(k),y(j)}if(C){const j=E.map(Bp);w==null||w(E),g(j)}return(C||_)&&(h==null||h({nodes:E,edges:k})),{deletedNodes:E,deletedEdges:k}},getIntersectingNodes:(c,f=!0,v)=>{const m=wp(c),w=m?c:l(c),S=v!==void 0;return w?(v||t.getState().nodes).filter(g=>{const y=t.getState().nodeLookup.get(g.id);if(y&&!m&&(g.id===c.id||!y.internals.positionAbsolute))return!1;const h=Os(S?g:y),x=Ji(h,w);return f&&x>0||x>=h.width*h.height||x>=w.width*w.height}):[]},isNodeIntersecting:(c,f,v=!0)=>{const w=wp(c)?c:l(c);if(!w)return!1;const S=Ji(w,f);return v&&S>0||S>=f.width*f.height||S>=w.width*w.height},updateNode:u,updateNodeData:(c,f,v={replace:!1})=>{u(c,m=>{const w=typeof f=="function"?f(m):f;return v.replace?{...m,data:w}:{...m,data:{...m.data,...w}}},v)},updateEdge:d,updateEdgeData:(c,f,v={replace:!1})=>{d(c,m=>{const w=typeof f=="function"?f(m):f;return v.replace?{...m,data:w}:{...m,data:{...m.data,...w}}},v)},getNodesBounds:c=>{const{nodeLookup:f,nodeOrigin:v}=t.getState();return SC(c,{nodeLookup:f,nodeOrigin:v})},getHandleConnections:({type:c,id:f,nodeId:v})=>{var m;return Array.from(((m=t.getState().connectionLookup.get(`${v}-${c}${f?`-${f}`:""}`))==null?void 0:m.values())??[])},getNodeConnections:({type:c,handleId:f,nodeId:v})=>{var m;return Array.from(((m=t.getState().connectionLookup.get(`${v}${c?f?`-${c}-${f}`:`-${c}`:""}`))==null?void 0:m.values())??[])},fitView:async c=>{const f=t.getState().fitViewResolver??MC();return t.setState({fitViewQueued:!0,fitViewOptions:c,fitViewResolver:f}),n.nodeQueue.push(v=>[...v]),f.promise}}},[]);return D.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const Wp=e=>e.selected,Xb=typeof window<"u"?window:void 0;function Yb({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Ee(),{deleteElements:r}=Qs(),s=to(e,{actInsideInputWithModifier:!1}),i=to(t,{target:Xb});D.useEffect(()=>{if(s){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(Wp),edges:o.filter(Wp)}),n.setState({nodesSelectionActive:!1})}},[s]),D.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function Kb(e){const t=Ee();D.useEffect(()=>{const n=()=>{var s,i,o,a;if(!e.current||!(((i=(s=e.current).checkVisibility)==null?void 0:i.call(s))??!0))return!1;const r=df(e.current);(r.height===0||r.width===0)&&((a=(o=t.getState()).onError)==null||a.call(o,"004",en.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Dl={position:"absolute",width:"100%",height:"100%",top:0,left:0},Gb=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function Zb({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:i=br.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:u,minZoom:d,maxZoom:c,zoomActivationKeyCode:f,preventScrolling:v=!0,children:m,noWheelClassName:w,noPanClassName:S,onViewportChange:g,isControlledViewport:y,paneClickDistance:h,selectionOnDrag:x}){const E=Ee(),k=D.useRef(null),{userSelectionActive:_,lib:C,connectionInProgress:j}=ue(Gb,Se),I=to(f),R=D.useRef();Kb(k);const A=D.useCallback(B=>{g==null||g({x:B[0],y:B[1],zoom:B[2]}),y||E.setState({transform:B})},[g,y]);return D.useEffect(()=>{if(k.current){R.current=db({domNode:k.current,minZoom:d,maxZoom:c,translateExtent:u,viewport:l,onDraggingChange:P=>E.setState({paneDragging:P}),onPanZoomStart:(P,z)=>{const{onViewportChangeStart:b,onMoveStart:T}=E.getState();T==null||T(P,z),b==null||b(z)},onPanZoom:(P,z)=>{const{onViewportChange:b,onMove:T}=E.getState();T==null||T(P,z),b==null||b(z)},onPanZoomEnd:(P,z)=>{const{onViewportChangeEnd:b,onMoveEnd:T}=E.getState();T==null||T(P,z),b==null||b(z)}});const{x:B,y:N,zoom:L}=R.current.getViewport();return E.setState({panZoom:R.current,transform:[B,N,L],domNode:k.current.closest(".react-flow")}),()=>{var P;(P=R.current)==null||P.destroy()}}},[]),D.useEffect(()=>{var B;(B=R.current)==null||B.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:i,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:I,preventScrolling:v,noPanClassName:S,userSelectionActive:_,noWheelClassName:w,lib:C,onTransformChange:A,connectionInProgress:j,selectionOnDrag:x,paneClickDistance:h})},[e,t,n,r,s,i,o,a,I,v,S,_,w,C,A,j,x,h]),p.jsx("div",{className:"react-flow__renderer",ref:k,style:Dl,children:m})}const Jb=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function eT(){const{userSelectionActive:e,userSelectionRect:t}=ue(Jb,Se);return e&&t?p.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Nu=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},tT=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function nT({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Zi.Full,panOnDrag:r,paneClickDistance:s,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:a,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:c,onPaneMouseMove:f,onPaneMouseLeave:v,children:m}){const w=Ee(),{userSelectionActive:S,elementsSelectable:g,dragging:y,connectionInProgress:h}=ue(tT,Se),x=g&&(e||S),E=D.useRef(null),k=D.useRef(),_=D.useRef(new Set),C=D.useRef(new Set),j=D.useRef(!1),I=b=>{if(j.current||h){j.current=!1;return}l==null||l(b),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},R=b=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){b.preventDefault();return}u==null||u(b)},A=d?b=>d(b):void 0,B=b=>{j.current&&(b.stopPropagation(),j.current=!1)},N=b=>{var Y,K;const{domNode:T}=w.getState();if(k.current=T==null?void 0:T.getBoundingClientRect(),!k.current)return;const O=b.target===E.current;if(!O&&!!b.target.closest(".nokey")||!e||!(i&&O||t)||b.button!==0||!b.isPrimary)return;(K=(Y=b.target)==null?void 0:Y.setPointerCapture)==null||K.call(Y,b.pointerId),j.current=!1;const{x:Q,y:U}=Ot(b.nativeEvent,k.current);w.setState({userSelectionRect:{width:0,height:0,startX:Q,startY:U,x:Q,y:U}}),O||(b.stopPropagation(),b.preventDefault())},L=b=>{const{userSelectionRect:T,transform:O,nodeLookup:$,edgeLookup:H,connectionLookup:Q,triggerNodeChanges:U,triggerEdgeChanges:Y,defaultEdgeOptions:K,resetSelectedElements:Z}=w.getState();if(!k.current||!T)return;const{x:W,y:J}=Ot(b.nativeEvent,k.current),{startX:ie,startY:re}=T;if(!j.current){const de=t?0:s;if(Math.hypot(W-ie,J-re)<=de)return;Z(),o==null||o(b)}j.current=!0;const ne={startX:ie,startY:re,x:W<ie?W:ie,y:J<re?J:re,width:Math.abs(W-ie),height:Math.abs(J-re)},te=_.current,fe=C.current;_.current=new Set(uf($,ne,O,n===Zi.Partial,!0).map(de=>de.id)),C.current=new Set;const ye=(K==null?void 0:K.selectable)??!0;for(const de of _.current){const Be=Q.get(de);if(Be)for(const{edgeId:kn}of Be.values()){const rn=H.get(kn);rn&&(rn.selectable??ye)&&C.current.add(kn)}}if(!Sp(te,_.current)){const de=ss($,_.current,!0);U(de)}if(!Sp(fe,C.current)){const de=ss(H,C.current);Y(de)}w.setState({userSelectionRect:ne,userSelectionActive:!0,nodesSelectionActive:!1})},P=b=>{var T,O;b.button===0&&((O=(T=b.target)==null?void 0:T.releasePointerCapture)==null||O.call(T,b.pointerId),!S&&b.target===E.current&&w.getState().userSelectionRect&&(I==null||I(b)),w.setState({userSelectionActive:!1,userSelectionRect:null}),j.current&&(a==null||a(b),w.setState({nodesSelectionActive:_.current.size>0})))},z=r===!0||Array.isArray(r)&&r.includes(0);return p.jsxs("div",{className:Pe(["react-flow__pane",{draggable:z,dragging:y,selection:e}]),onClick:x?void 0:Nu(I,E),onContextMenu:Nu(R,E),onWheel:Nu(A,E),onPointerEnter:x?void 0:c,onPointerMove:x?L:f,onPointerUp:x?P:void 0,onPointerDownCapture:x?N:void 0,onClickCapture:x?B:void 0,onPointerLeave:v,ref:E,style:Dl,children:[m,p.jsx(eT,{})]})}function Kc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeLookup:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",en.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function Nv({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,nodeClickDistance:o}){const a=Ee(),[l,u]=D.useState(!1),d=D.useRef();return D.useEffect(()=>{d.current=GC({getStoreItems:()=>a.getState(),onNodeMouseDown:c=>{Kc({id:c,store:a,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),D.useEffect(()=>{var c,f;if(t)(c=d.current)==null||c.destroy();else if(e.current)return(f=d.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:s,nodeClickDistance:o}),()=>{var v;(v=d.current)==null||v.destroy()}},[n,r,t,i,e,s]),l}const rT=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Cv(){const e=Ee();return D.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:i,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:u,nodeOrigin:d}=e.getState(),c=new Map,f=rT(o),v=s?i[0]:5,m=s?i[1]:5,w=n.direction.x*v*n.factor,S=n.direction.y*m*n.factor;for(const[,g]of u){if(!f(g))continue;let y={x:g.internals.positionAbsolute.x+w,y:g.internals.positionAbsolute.y+S};s&&(y=vo(y,i));const{position:h,positionAbsolute:x}=U0({nodeId:g.id,nextPosition:y,nodeLookup:u,nodeExtent:r,nodeOrigin:d,onError:a});g.position=h,g.internals.positionAbsolute=x,c.set(g.id,g)}l(c)},[])}const yf=D.createContext(null),sT=yf.Provider;yf.Consumer;const bv=()=>D.useContext(yf),iT=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),oT=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:i,connection:o}=r,{fromHandle:a,toHandle:l,isValid:u}=o,d=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:d,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:i===As.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!s,valid:d&&u}};function aT({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:d,onTouchStart:c,...f},v){var L,P;const m=o||null,w=e==="target",S=Ee(),g=bv(),{connectOnClick:y,noPanClassName:h,rfId:x}=ue(iT,Se),{connectingFrom:E,connectingTo:k,clickConnecting:_,isPossibleEndHandle:C,connectionInProcess:j,clickConnectionInProcess:I,valid:R}=ue(oT(g,m,e),Se);g||(P=(L=S.getState()).onError)==null||P.call(L,"010",en.error010());const A=z=>{const{defaultEdgeOptions:b,onConnect:T,hasDefaultEdges:O}=S.getState(),$={...b,...z};if(O){const{edges:H,setEdges:Q}=S.getState();Q(nv($,H))}T==null||T($),a==null||a($)},B=z=>{if(!g)return;const b=Z0(z.nativeEvent);if(s&&(b&&z.button===0||!b)){const T=S.getState();Yc.onPointerDown(z.nativeEvent,{handleDomNode:z.currentTarget,autoPanOnConnect:T.autoPanOnConnect,connectionMode:T.connectionMode,connectionRadius:T.connectionRadius,domNode:T.domNode,nodeLookup:T.nodeLookup,lib:T.lib,isTarget:w,handleId:m,nodeId:g,flowId:T.rfId,panBy:T.panBy,cancelConnection:T.cancelConnection,onConnectStart:T.onConnectStart,onConnectEnd:T.onConnectEnd,updateConnection:T.updateConnection,onConnect:A,isValidConnection:n||T.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:T.autoPanSpeed,dragThreshold:T.connectionDragThreshold})}b?d==null||d(z):c==null||c(z)},N=z=>{const{onClickConnectStart:b,onClickConnectEnd:T,connectionClickStartHandle:O,connectionMode:$,isValidConnection:H,lib:Q,rfId:U,nodeLookup:Y,connection:K}=S.getState();if(!g||!O&&!s)return;if(!O){b==null||b(z.nativeEvent,{nodeId:g,handleId:m,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:g,type:e,id:m}});return}const Z=K0(z.target),W=n||H,{connection:J,isValid:ie}=Yc.isValid(z.nativeEvent,{handle:{nodeId:g,id:m,type:e},connectionMode:$,fromNodeId:O.nodeId,fromHandleId:O.id||null,fromType:O.type,isValidConnection:W,flowId:U,doc:Z,lib:Q,nodeLookup:Y});ie&&J&&A(J);const re=structuredClone(K);delete re.inProgress,re.toPosition=re.toHandle?re.toHandle.position:null,T==null||T(z,re),S.setState({connectionClickStartHandle:null})};return p.jsx("div",{"data-handleid":m,"data-nodeid":g,"data-handlepos":t,"data-id":`${x}-${g}-${m}-${e}`,className:Pe(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",h,u,{source:!w,target:w,connectable:r,connectablestart:s,connectableend:i,clickconnecting:_,connectingfrom:E,connectingto:k,valid:R,connectionindicator:r&&(!j||C)&&(j||I?i:s)}]),onMouseDown:B,onTouchStart:B,onClick:y?N:void 0,ref:v,...f,children:l})}const $s=D.memo(kv(aT));function lT({data:e,isConnectable:t,sourcePosition:n=G.Bottom}){return p.jsxs(p.Fragment,{children:[e==null?void 0:e.label,p.jsx($s,{type:"source",position:n,isConnectable:t})]})}function uT({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:r=G.Bottom}){return p.jsxs(p.Fragment,{children:[p.jsx($s,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,p.jsx($s,{type:"source",position:r,isConnectable:t})]})}function cT(){return null}function dT({data:e,isConnectable:t,targetPosition:n=G.Top}){return p.jsxs(p.Fragment,{children:[p.jsx($s,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const il={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Qp={input:lT,default:uT,output:dT,group:cT};function fT(e){var t,n,r,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const hT=e=>{const{width:t,height:n,x:r,y:s}=yo(e.nodeLookup,{filter:i=>!!i.selected});return{width:Lt(t)?t:null,height:Lt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function pT({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ee(),{width:s,height:i,transformString:o,userSelectionActive:a}=ue(hT,Se),l=Cv(),u=D.useRef(null);if(D.useEffect(()=>{var f;n||(f=u.current)==null||f.focus({preventScroll:!0})},[n]),Nv({nodeRef:u}),a||!s||!i)return null;const d=e?f=>{const v=r.getState().nodes.filter(m=>m.selected);e(f,v)}:void 0,c=f=>{Object.prototype.hasOwnProperty.call(il,f.key)&&(f.preventDefault(),l({direction:il[f.key],factor:f.shiftKey?4:1}))};return p.jsx("div",{className:Pe(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:p.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:c,style:{width:s,height:i}})})}const qp=typeof window<"u"?window:void 0,mT=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Tv({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:d,selectionMode:c,onSelectionStart:f,onSelectionEnd:v,multiSelectionKeyCode:m,panActivationKeyCode:w,zoomActivationKeyCode:S,elementsSelectable:g,zoomOnScroll:y,zoomOnPinch:h,panOnScroll:x,panOnScrollSpeed:E,panOnScrollMode:k,zoomOnDoubleClick:_,panOnDrag:C,defaultViewport:j,translateExtent:I,minZoom:R,maxZoom:A,preventScrolling:B,onSelectionContextMenu:N,noWheelClassName:L,noPanClassName:P,disableKeyboardA11y:z,onViewportChange:b,isControlledViewport:T}){const{nodesSelectionActive:O,userSelectionActive:$}=ue(mT,Se),H=to(u,{target:qp}),Q=to(w,{target:qp}),U=Q||C,Y=Q||x,K=d&&U!==!0,Z=H||$||K;return Yb({deleteKeyCode:l,multiSelectionKeyCode:m}),p.jsx(Zb,{onPaneContextMenu:i,elementsSelectable:g,zoomOnScroll:y,zoomOnPinch:h,panOnScroll:Y,panOnScrollSpeed:E,panOnScrollMode:k,zoomOnDoubleClick:_,panOnDrag:!H&&U,defaultViewport:j,translateExtent:I,minZoom:R,maxZoom:A,zoomActivationKeyCode:S,preventScrolling:B,noWheelClassName:L,noPanClassName:P,onViewportChange:b,isControlledViewport:T,paneClickDistance:a,selectionOnDrag:K,children:p.jsxs(nT,{onSelectionStart:f,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:U,isSelecting:!!Z,selectionMode:c,selectionKeyPressed:H,paneClickDistance:a,selectionOnDrag:K,children:[e,O&&p.jsx(pT,{onSelectionContextMenu:N,noPanClassName:P,disableKeyboardA11y:z})]})})}Tv.displayName="FlowRenderer";const gT=D.memo(Tv),yT=e=>t=>e?uf(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function vT(e){return ue(D.useCallback(yT(e),[e]),Se)}const xT=e=>e.updateNodeInternals;function wT(){const e=ue(xT),[t]=D.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const i=s.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:s.target,force:!0})}),e(r)}));return D.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function ST({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=Ee(),i=D.useRef(null),o=D.useRef(null),a=D.useRef(e.sourcePosition),l=D.useRef(e.targetPosition),u=D.useRef(t),d=n&&!!e.internals.handleBounds;return D.useEffect(()=>{i.current&&!e.hidden&&(!d||o.current!==i.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(i.current),o.current=i.current)},[d,e.hidden]),D.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),D.useEffect(()=>{if(i.current){const c=u.current!==t,f=a.current!==e.sourcePosition,v=l.current!==e.targetPosition;(c||f||v)&&(u.current=t,a.current=e.sourcePosition,l.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function ET({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:i,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:u,nodesFocusable:d,resizeObserver:c,noDragClassName:f,noPanClassName:v,disableKeyboardA11y:m,rfId:w,nodeTypes:S,nodeClickDistance:g,onError:y}){const{node:h,internals:x,isParent:E}=ue(W=>{const J=W.nodeLookup.get(e),ie=W.parentLookup.has(e);return{node:J,internals:J.internals,isParent:ie}},Se);let k=h.type||"default",_=(S==null?void 0:S[k])||Qp[k];_===void 0&&(y==null||y("003",en.error003(k)),k="default",_=(S==null?void 0:S.default)||Qp.default);const C=!!(h.draggable||a&&typeof h.draggable>"u"),j=!!(h.selectable||l&&typeof h.selectable>"u"),I=!!(h.connectable||u&&typeof h.connectable>"u"),R=!!(h.focusable||d&&typeof h.focusable>"u"),A=Ee(),B=X0(h),N=ST({node:h,nodeType:k,hasDimensions:B,resizeObserver:c}),L=Nv({nodeRef:N,disabled:h.hidden||!C,noDragClassName:f,handleSelector:h.dragHandle,nodeId:e,isSelectable:j,nodeClickDistance:g}),P=Cv();if(h.hidden)return null;const z=Sn(h),b=fT(h),T=j||C||t||n||r||s,O=n?W=>n(W,{...x.userNode}):void 0,$=r?W=>r(W,{...x.userNode}):void 0,H=s?W=>s(W,{...x.userNode}):void 0,Q=i?W=>i(W,{...x.userNode}):void 0,U=o?W=>o(W,{...x.userNode}):void 0,Y=W=>{const{selectNodesOnDrag:J,nodeDragThreshold:ie}=A.getState();j&&(!J||!C||ie>0)&&Kc({id:e,store:A,nodeRef:N}),t&&t(W,{...x.userNode})},K=W=>{if(!(G0(W.nativeEvent)||m)){if(F0.includes(W.key)&&j){const J=W.key==="Escape";Kc({id:e,store:A,unselect:J,nodeRef:N})}else if(C&&h.selected&&Object.prototype.hasOwnProperty.call(il,W.key)){W.preventDefault();const{ariaLabelConfig:J}=A.getState();A.setState({ariaLiveMessage:J["node.a11yDescription.ariaLiveMessage"]({direction:W.key.replace("Arrow","").toLowerCase(),x:~~x.positionAbsolute.x,y:~~x.positionAbsolute.y})}),P({direction:il[W.key],factor:W.shiftKey?4:1})}}},Z=()=>{var fe;if(m||!((fe=N.current)!=null&&fe.matches(":focus-visible")))return;const{transform:W,width:J,height:ie,autoPanOnNodeFocus:re,setCenter:ne}=A.getState();if(!re)return;uf(new Map([[e,h]]),{x:0,y:0,width:J,height:ie},W,!0).length>0||ne(h.position.x+z.width/2,h.position.y+z.height/2,{zoom:W[2]})};return p.jsx("div",{className:Pe(["react-flow__node",`react-flow__node-${k}`,{[v]:C},h.className,{selected:h.selected,selectable:j,parent:E,draggable:C,dragging:L}]),ref:N,style:{zIndex:x.z,transform:`translate(${x.positionAbsolute.x}px,${x.positionAbsolute.y}px)`,pointerEvents:T?"all":"none",visibility:B?"visible":"hidden",...h.style,...b},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:O,onMouseMove:$,onMouseLeave:H,onContextMenu:Q,onClick:Y,onDoubleClick:U,onKeyDown:R?K:void 0,tabIndex:R?0:void 0,onFocus:R?Z:void 0,role:h.ariaRole??(R?"group":void 0),"aria-roledescription":"node","aria-describedby":m?void 0:`${yv}-${w}`,"aria-label":h.ariaLabel,...h.domAttributes,children:p.jsx(sT,{value:e,children:p.jsx(_,{id:e,data:h.data,type:k,positionAbsoluteX:x.positionAbsolute.x,positionAbsoluteY:x.positionAbsolute.y,selected:h.selected??!1,selectable:j,draggable:C,deletable:h.deletable??!0,isConnectable:I,sourcePosition:h.sourcePosition,targetPosition:h.targetPosition,dragging:L,dragHandle:h.dragHandle,zIndex:x.z,parentId:h.parentId,...z})})})}var kT=D.memo(ET);const _T=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Mv(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:i}=ue(_T,Se),o=vT(e.onlyRenderVisibleElements),a=wT();return p.jsx("div",{className:"react-flow__nodes",style:Dl,children:o.map(l=>p.jsx(kT,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:i},l))})}Mv.displayName="NodeRenderer";const NT=D.memo(Mv);function CT(e){return ue(D.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const i=n.nodeLookup.get(s.source),o=n.nodeLookup.get(s.target);i&&o&&IC({sourceNode:i,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),Se)}const bT=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return p.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},TT=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return p.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Xp={[tl.Arrow]:bT,[tl.ArrowClosed]:TT};function MT(e){const t=Ee();return D.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(Xp,e)?Xp[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",en.error009(e)),null)},[e])}const jT=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=MT(t);return l?p.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0",children:p.jsx(l,{color:n,strokeWidth:o})}):null},jv=({defaultColor:e,rfId:t})=>{const n=ue(i=>i.edges),r=ue(i=>i.defaultEdgeOptions),s=D.useMemo(()=>$C(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return s.length?p.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:p.jsx("defs",{children:s.map(i=>p.jsx(jT,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};jv.displayName="MarkerDefinitions";var PT=D.memo(jv);function Pv({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:i,labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...d}){const[c,f]=D.useState({x:1,y:0,width:0,height:0}),v=Pe(["react-flow__edge-textwrapper",u]),m=D.useRef(null);return D.useEffect(()=>{if(m.current){const w=m.current.getBBox();f({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),n?p.jsxs("g",{transform:`translate(${e-c.width/2} ${t-c.height/2})`,className:v,visibility:c.width?"visible":"hidden",...d,children:[s&&p.jsx("rect",{width:c.width+2*o[0],x:-o[0],y:-o[1],height:c.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),p.jsx("text",{className:"react-flow__edge-text",y:c.height/2,dy:"0.3em",ref:m,style:r,children:n}),l]}):null}Pv.displayName="EdgeText";const RT=D.memo(Pv);function Hs({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:u=20,...d}){return p.jsxs(p.Fragment,{children:[p.jsx("path",{...d,d:e,fill:"none",className:Pe(["react-flow__edge-path",d.className])}),u?p.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&Lt(t)&&Lt(n)?p.jsx(RT,{x:t,y:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function Yp({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===G.Left||e===G.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function Rv({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top}){const[o,a]=Yp({pos:n,x1:e,y1:t,x2:r,y2:s}),[l,u]=Yp({pos:i,x1:r,y1:s,x2:e,y2:t}),[d,c,f,v]=J0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${o},${a} ${l},${u} ${r},${s}`,d,c,f,v]}function Iv(e){return D.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o,targetPosition:a,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:v,style:m,markerEnd:w,markerStart:S,interactionWidth:g})=>{const[y,h,x]=Rv({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:a}),E=e.isInternal?void 0:t;return p.jsx(Hs,{id:E,path:y,labelX:h,labelY:x,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:v,style:m,markerEnd:w,markerStart:S,interactionWidth:g})})}const IT=Iv({isInternal:!1}),Dv=Iv({isInternal:!0});IT.displayName="SimpleBezierEdge";Dv.displayName="SimpleBezierEdgeInternal";function Av(e){return D.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:f,sourcePosition:v=G.Bottom,targetPosition:m=G.Top,markerEnd:w,markerStart:S,pathOptions:g,interactionWidth:y})=>{const[h,x,E]=sl({sourceX:n,sourceY:r,sourcePosition:v,targetX:s,targetY:i,targetPosition:m,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset,stepPosition:g==null?void 0:g.stepPosition}),k=e.isInternal?void 0:t;return p.jsx(Hs,{id:k,path:h,labelX:x,labelY:E,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:f,markerEnd:w,markerStart:S,interactionWidth:y})})}const Lv=Av({isInternal:!1}),Ov=Av({isInternal:!0});Lv.displayName="SmoothStepEdge";Ov.displayName="SmoothStepEdgeInternal";function zv(e){return D.memo(({id:t,...n})=>{var s;const r=e.isInternal?void 0:t;return p.jsx(Lv,{...n,id:r,pathOptions:D.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const DT=zv({isInternal:!1}),Fv=zv({isInternal:!0});DT.displayName="StepEdge";Fv.displayName="StepEdgeInternal";function $v(e){return D.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:f,markerEnd:v,markerStart:m,interactionWidth:w})=>{const[S,g,y]=rv({sourceX:n,sourceY:r,targetX:s,targetY:i}),h=e.isInternal?void 0:t;return p.jsx(Hs,{id:h,path:S,labelX:g,labelY:y,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:f,markerEnd:v,markerStart:m,interactionWidth:w})})}const AT=$v({isInternal:!1}),Hv=$v({isInternal:!0});AT.displayName="StraightEdge";Hv.displayName="StraightEdgeInternal";function Bv(e){return D.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o=G.Bottom,targetPosition:a=G.Top,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:v,style:m,markerEnd:w,markerStart:S,pathOptions:g,interactionWidth:y})=>{const[h,x,E]=ev({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:a,curvature:g==null?void 0:g.curvature}),k=e.isInternal?void 0:t;return p.jsx(Hs,{id:k,path:h,labelX:x,labelY:E,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:v,style:m,markerEnd:w,markerStart:S,interactionWidth:y})})}const LT=Bv({isInternal:!1}),Vv=Bv({isInternal:!0});LT.displayName="BezierEdge";Vv.displayName="BezierEdgeInternal";const Kp={default:Vv,straight:Hv,step:Fv,smoothstep:Ov,simplebezier:Dv},Gp={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},OT=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,zT=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,Zp="react-flow__edgeupdater";function Jp({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:a}){return p.jsx("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:Pe([Zp,`${Zp}-${a}`]),cx:OT(t,r,e),cy:zT(n,r,e),r,stroke:"transparent",fill:"transparent"})}function FT({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:i,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:u,onReconnectStart:d,onReconnectEnd:c,setReconnecting:f,setUpdateHover:v}){const m=Ee(),w=(x,E)=>{if(x.button!==0)return;const{autoPanOnConnect:k,domNode:_,isValidConnection:C,connectionMode:j,connectionRadius:I,lib:R,onConnectStart:A,onConnectEnd:B,cancelConnection:N,nodeLookup:L,rfId:P,panBy:z,updateConnection:b}=m.getState(),T=E.type==="target",O=(Q,U)=>{f(!1),c==null||c(Q,n,E.type,U)},$=Q=>u==null?void 0:u(n,Q),H=(Q,U)=>{f(!0),d==null||d(x,n,E.type),A==null||A(Q,U)};Yc.onPointerDown(x.nativeEvent,{autoPanOnConnect:k,connectionMode:j,connectionRadius:I,domNode:_,handleId:E.id,nodeId:E.nodeId,nodeLookup:L,isTarget:T,edgeUpdaterType:E.type,lib:R,flowId:P,cancelConnection:N,panBy:z,isValidConnection:C,onConnect:$,onConnectStart:H,onConnectEnd:B,onReconnectEnd:O,updateConnection:b,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle,dragThreshold:m.getState().connectionDragThreshold,handleDomNode:x.currentTarget})},S=x=>w(x,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),g=x=>w(x,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),y=()=>v(!0),h=()=>v(!1);return p.jsxs(p.Fragment,{children:[(e===!0||e==="source")&&p.jsx(Jp,{position:a,centerX:r,centerY:s,radius:t,onMouseDown:S,onMouseEnter:y,onMouseOut:h,type:"source"}),(e===!0||e==="target")&&p.jsx(Jp,{position:l,centerX:i,centerY:o,radius:t,onMouseDown:g,onMouseEnter:y,onMouseOut:h,type:"target"})]})}function $T({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:i,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,reconnectRadius:d,onReconnect:c,onReconnectStart:f,onReconnectEnd:v,rfId:m,edgeTypes:w,noPanClassName:S,onError:g,disableKeyboardA11y:y}){let h=ue(ne=>ne.edgeLookup.get(e));const x=ue(ne=>ne.defaultEdgeOptions);h=x?{...x,...h}:h;let E=h.type||"default",k=(w==null?void 0:w[E])||Kp[E];k===void 0&&(g==null||g("011",en.error011(E)),E="default",k=(w==null?void 0:w.default)||Kp.default);const _=!!(h.focusable||t&&typeof h.focusable>"u"),C=typeof c<"u"&&(h.reconnectable||n&&typeof h.reconnectable>"u"),j=!!(h.selectable||r&&typeof h.selectable>"u"),I=D.useRef(null),[R,A]=D.useState(!1),[B,N]=D.useState(!1),L=Ee(),{zIndex:P,sourceX:z,sourceY:b,targetX:T,targetY:O,sourcePosition:$,targetPosition:H}=ue(D.useCallback(ne=>{const te=ne.nodeLookup.get(h.source),fe=ne.nodeLookup.get(h.target);if(!te||!fe)return{zIndex:h.zIndex,...Gp};const ye=FC({id:e,sourceNode:te,targetNode:fe,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:ne.connectionMode,onError:g});return{zIndex:RC({selected:h.selected,zIndex:h.zIndex,sourceNode:te,targetNode:fe,elevateOnSelect:ne.elevateEdgesOnSelect,zIndexMode:ne.zIndexMode}),...ye||Gp}},[h.source,h.target,h.sourceHandle,h.targetHandle,h.selected,h.zIndex]),Se),Q=D.useMemo(()=>h.markerStart?`url('#${qc(h.markerStart,m)}')`:void 0,[h.markerStart,m]),U=D.useMemo(()=>h.markerEnd?`url('#${qc(h.markerEnd,m)}')`:void 0,[h.markerEnd,m]);if(h.hidden||z===null||b===null||T===null||O===null)return null;const Y=ne=>{var de;const{addSelectedEdges:te,unselectNodesAndEdges:fe,multiSelectionActive:ye}=L.getState();j&&(L.setState({nodesSelectionActive:!1}),h.selected&&ye?(fe({nodes:[],edges:[h]}),(de=I.current)==null||de.blur()):te([e])),s&&s(ne,h)},K=i?ne=>{i(ne,{...h})}:void 0,Z=o?ne=>{o(ne,{...h})}:void 0,W=a?ne=>{a(ne,{...h})}:void 0,J=l?ne=>{l(ne,{...h})}:void 0,ie=u?ne=>{u(ne,{...h})}:void 0,re=ne=>{var te;if(!y&&F0.includes(ne.key)&&j){const{unselectNodesAndEdges:fe,addSelectedEdges:ye}=L.getState();ne.key==="Escape"?((te=I.current)==null||te.blur(),fe({edges:[h]})):ye([e])}};return p.jsx("svg",{style:{zIndex:P},children:p.jsxs("g",{className:Pe(["react-flow__edge",`react-flow__edge-${E}`,h.className,S,{selected:h.selected,animated:h.animated,inactive:!j&&!s,updating:R,selectable:j}]),onClick:Y,onDoubleClick:K,onContextMenu:Z,onMouseEnter:W,onMouseMove:J,onMouseLeave:ie,onKeyDown:_?re:void 0,tabIndex:_?0:void 0,role:h.ariaRole??(_?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":h.ariaLabel===null?void 0:h.ariaLabel||`Edge from ${h.source} to ${h.target}`,"aria-describedby":_?`${vv}-${m}`:void 0,ref:I,...h.domAttributes,children:[!B&&p.jsx(k,{id:e,source:h.source,target:h.target,type:h.type,selected:h.selected,animated:h.animated,selectable:j,deletable:h.deletable??!0,label:h.label,labelStyle:h.labelStyle,labelShowBg:h.labelShowBg,labelBgStyle:h.labelBgStyle,labelBgPadding:h.labelBgPadding,labelBgBorderRadius:h.labelBgBorderRadius,sourceX:z,sourceY:b,targetX:T,targetY:O,sourcePosition:$,targetPosition:H,data:h.data,style:h.style,sourceHandleId:h.sourceHandle,targetHandleId:h.targetHandle,markerStart:Q,markerEnd:U,pathOptions:"pathOptions"in h?h.pathOptions:void 0,interactionWidth:h.interactionWidth}),C&&p.jsx(FT,{edge:h,isReconnectable:C,reconnectRadius:d,onReconnect:c,onReconnectStart:f,onReconnectEnd:v,sourceX:z,sourceY:b,targetX:T,targetY:O,sourcePosition:$,targetPosition:H,setUpdateHover:A,setReconnecting:N})]})})}var HT=D.memo($T);const BT=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Uv({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:i,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:c,onEdgeDoubleClick:f,onReconnectStart:v,onReconnectEnd:m,disableKeyboardA11y:w}){const{edgesFocusable:S,edgesReconnectable:g,elementsSelectable:y,onError:h}=ue(BT,Se),x=CT(t);return p.jsxs("div",{className:"react-flow__edges",children:[p.jsx(PT,{defaultColor:e,rfId:n}),x.map(E=>p.jsx(HT,{id:E,edgesFocusable:S,edgesReconnectable:g,elementsSelectable:y,noPanClassName:s,onReconnect:i,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:d,reconnectRadius:c,onDoubleClick:f,onReconnectStart:v,onReconnectEnd:m,rfId:n,onError:h,edgeTypes:r,disableKeyboardA11y:w},E))]})}Uv.displayName="EdgeRenderer";const VT=D.memo(Uv),UT=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function WT({children:e}){const t=ue(UT);return p.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function QT(e){const t=Qs(),n=D.useRef(!1);D.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const qT=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function XT(e){const t=ue(qT),n=Ee();return D.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function YT(e){return e.connection.inProgress?{...e.connection,to:xo(e.connection.to,e.transform)}:{...e.connection}}function KT(e){return YT}function GT(e){const t=KT();return ue(t,Se)}const ZT=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function JT({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:i,height:o,isValid:a,inProgress:l}=ue(ZT,Se);return!(i&&s&&l)?null:p.jsx("svg",{style:e,width:i,height:o,className:"react-flow__connectionline react-flow__container",children:p.jsx("g",{className:Pe(["react-flow__connection",B0(a)]),children:p.jsx(Wv,{style:t,type:n,CustomComponent:r,isValid:a})})})}const Wv=({style:e,type:t=Rn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:i,fromNode:o,fromHandle:a,fromPosition:l,to:u,toNode:d,toHandle:c,toPosition:f,pointer:v}=GT();if(!s)return;if(n)return p.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:a,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:f,connectionStatus:B0(r),toNode:d,toHandle:c,pointer:v});let m="";const w={sourceX:i.x,sourceY:i.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:f};switch(t){case Rn.Bezier:[m]=ev(w);break;case Rn.SimpleBezier:[m]=Rv(w);break;case Rn.Step:[m]=sl({...w,borderRadius:0});break;case Rn.SmoothStep:[m]=sl(w);break;default:[m]=rv(w)}return p.jsx("path",{d:m,fill:"none",className:"react-flow__connection-path",style:e})};Wv.displayName="ConnectionLine";const eM={};function em(e=eM){D.useRef(e),Ee(),D.useEffect(()=>{},[e])}function tM(){Ee(),D.useRef(!1),D.useEffect(()=>{},[])}function Qv({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:i,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:c,onSelectionStart:f,onSelectionEnd:v,connectionLineType:m,connectionLineStyle:w,connectionLineComponent:S,connectionLineContainerStyle:g,selectionKeyCode:y,selectionOnDrag:h,selectionMode:x,multiSelectionKeyCode:E,panActivationKeyCode:k,zoomActivationKeyCode:_,deleteKeyCode:C,onlyRenderVisibleElements:j,elementsSelectable:I,defaultViewport:R,translateExtent:A,minZoom:B,maxZoom:N,preventScrolling:L,defaultMarkerColor:P,zoomOnScroll:z,zoomOnPinch:b,panOnScroll:T,panOnScrollSpeed:O,panOnScrollMode:$,zoomOnDoubleClick:H,panOnDrag:Q,onPaneClick:U,onPaneMouseEnter:Y,onPaneMouseMove:K,onPaneMouseLeave:Z,onPaneScroll:W,onPaneContextMenu:J,paneClickDistance:ie,nodeClickDistance:re,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:fe,onEdgeMouseLeave:ye,reconnectRadius:de,onReconnect:Be,onReconnectStart:kn,onReconnectEnd:rn,noDragClassName:sr,noWheelClassName:Ys,noPanClassName:Ks,disableKeyboardA11y:Gs,nodeExtent:$l,rfId:_o,viewport:Br,onViewportChange:Zs}){return em(e),em(t),tM(),QT(n),XT(Br),p.jsx(gT,{onPaneClick:U,onPaneMouseEnter:Y,onPaneMouseMove:K,onPaneMouseLeave:Z,onPaneContextMenu:J,onPaneScroll:W,paneClickDistance:ie,deleteKeyCode:C,selectionKeyCode:y,selectionOnDrag:h,selectionMode:x,onSelectionStart:f,onSelectionEnd:v,multiSelectionKeyCode:E,panActivationKeyCode:k,zoomActivationKeyCode:_,elementsSelectable:I,zoomOnScroll:z,zoomOnPinch:b,zoomOnDoubleClick:H,panOnScroll:T,panOnScrollSpeed:O,panOnScrollMode:$,panOnDrag:Q,defaultViewport:R,translateExtent:A,minZoom:B,maxZoom:N,onSelectionContextMenu:c,preventScrolling:L,noDragClassName:sr,noWheelClassName:Ys,noPanClassName:Ks,disableKeyboardA11y:Gs,onViewportChange:Zs,isControlledViewport:!!Br,children:p.jsxs(WT,{children:[p.jsx(VT,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:o,onReconnect:Be,onReconnectStart:kn,onReconnectEnd:rn,onlyRenderVisibleElements:j,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:fe,onEdgeMouseLeave:ye,reconnectRadius:de,defaultMarkerColor:P,noPanClassName:Ks,disableKeyboardA11y:Gs,rfId:_o}),p.jsx(JT,{style:w,type:m,component:S,containerStyle:g}),p.jsx("div",{className:"react-flow__edgelabel-renderer"}),p.jsx(NT,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:re,onlyRenderVisibleElements:j,noPanClassName:Ks,noDragClassName:sr,disableKeyboardA11y:Gs,nodeExtent:$l,rfId:_o}),p.jsx("div",{className:"react-flow__viewport-portal"})]})})}Qv.displayName="GraphView";const nM=D.memo(Qv),tm=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:a,minZoom:l=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:c,zIndexMode:f="basic"}={})=>{const v=new Map,m=new Map,w=new Map,S=new Map,g=r??t??[],y=n??e??[],h=d??[0,0],x=c??Gi;ov(w,S,g);const E=Xc(y,v,m,{nodeOrigin:h,nodeExtent:x,zIndexMode:f});let k=[0,0,1];if(o&&s&&i){const _=yo(v,{filter:R=>!!((R.width||R.initialWidth)&&(R.height||R.initialHeight))}),{x:C,y:j,zoom:I}=cf(_,s,i,l,u,(a==null?void 0:a.padding)??.1);k=[C,j,I]}return{rfId:"1",width:s??0,height:i??0,transform:k,nodes:y,nodesInitialized:E,nodeLookup:v,parentLookup:m,edges:g,edgeLookup:S,connectionLookup:w,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:Gi,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:As.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:h,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:a,fitViewResolver:null,connection:{...H0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:CC,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:$0,zIndexMode:f,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},rM=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:d,nodeExtent:c,zIndexMode:f})=>Sb((v,m)=>{async function w(){const{nodeLookup:S,panZoom:g,fitViewOptions:y,fitViewResolver:h,width:x,height:E,minZoom:k,maxZoom:_}=m();g&&(await _C({nodes:S,width:x,height:E,panZoom:g,minZoom:k,maxZoom:_},y),h==null||h.resolve(!0),v({fitViewResolver:null}))}return{...tm({nodes:e,edges:t,width:s,height:i,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:d,nodeExtent:c,defaultNodes:n,defaultEdges:r,zIndexMode:f}),setNodes:S=>{const{nodeLookup:g,parentLookup:y,nodeOrigin:h,elevateNodesOnSelect:x,fitViewQueued:E,zIndexMode:k}=m(),_=Xc(S,g,y,{nodeOrigin:h,nodeExtent:c,elevateNodesOnSelect:x,checkEquality:!0,zIndexMode:k});E&&_?(w(),v({nodes:S,nodesInitialized:_,fitViewQueued:!1,fitViewOptions:void 0})):v({nodes:S,nodesInitialized:_})},setEdges:S=>{const{connectionLookup:g,edgeLookup:y}=m();ov(g,y,S),v({edges:S})},setDefaultNodesAndEdges:(S,g)=>{if(S){const{setNodes:y}=m();y(S),v({hasDefaultNodes:!0})}if(g){const{setEdges:y}=m();y(g),v({hasDefaultEdges:!0})}},updateNodeInternals:S=>{const{triggerNodeChanges:g,nodeLookup:y,parentLookup:h,domNode:x,nodeOrigin:E,nodeExtent:k,debug:_,fitViewQueued:C,zIndexMode:j}=m(),{changes:I,updatedInternals:R}=qC(S,y,h,x,E,k,j);R&&(VC(y,h,{nodeOrigin:E,nodeExtent:k,zIndexMode:j}),C?(w(),v({fitViewQueued:!1,fitViewOptions:void 0})):v({}),(I==null?void 0:I.length)>0&&(_&&console.log("React Flow: trigger node changes",I),g==null||g(I)))},updateNodePositions:(S,g=!1)=>{const y=[];let h=[];const{nodeLookup:x,triggerNodeChanges:E,connection:k,updateConnection:_,onNodesChangeMiddlewareMap:C}=m();for(const[j,I]of S){const R=x.get(j),A=!!(R!=null&&R.expandParent&&(R!=null&&R.parentId)&&(I!=null&&I.position)),B={id:j,type:"position",position:A?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:g};if(R&&k.inProgress&&k.fromNode.id===R.id){const N=zr(R,k.fromHandle,G.Left,!0);_({...k,from:N})}A&&R.parentId&&y.push({id:j,parentId:R.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width??0,height:I.measured.height??0}}),h.push(B)}if(y.length>0){const{parentLookup:j,nodeOrigin:I}=m(),R=gf(y,x,j,I);h.push(...R)}for(const j of C.values())h=j(h);E(h)},triggerNodeChanges:S=>{const{onNodesChange:g,setNodes:y,nodes:h,hasDefaultNodes:x,debug:E}=m();if(S!=null&&S.length){if(x){const k=Sv(S,h);y(k)}E&&console.log("React Flow: trigger node changes",S),g==null||g(S)}},triggerEdgeChanges:S=>{const{onEdgesChange:g,setEdges:y,edges:h,hasDefaultEdges:x,debug:E}=m();if(S!=null&&S.length){if(x){const k=Ev(S,h);y(k)}E&&console.log("React Flow: trigger edge changes",S),g==null||g(S)}},addSelectedNodes:S=>{const{multiSelectionActive:g,edgeLookup:y,nodeLookup:h,triggerNodeChanges:x,triggerEdgeChanges:E}=m();if(g){const k=S.map(_=>ar(_,!0));x(k);return}x(ss(h,new Set([...S]),!0)),E(ss(y))},addSelectedEdges:S=>{const{multiSelectionActive:g,edgeLookup:y,nodeLookup:h,triggerNodeChanges:x,triggerEdgeChanges:E}=m();if(g){const k=S.map(_=>ar(_,!0));E(k);return}E(ss(y,new Set([...S]))),x(ss(h,new Set,!0))},unselectNodesAndEdges:({nodes:S,edges:g}={})=>{const{edges:y,nodes:h,nodeLookup:x,triggerNodeChanges:E,triggerEdgeChanges:k}=m(),_=S||h,C=g||y,j=_.map(R=>{const A=x.get(R.id);return A&&(A.selected=!1),ar(R.id,!1)}),I=C.map(R=>ar(R.id,!1));E(j),k(I)},setMinZoom:S=>{const{panZoom:g,maxZoom:y}=m();g==null||g.setScaleExtent([S,y]),v({minZoom:S})},setMaxZoom:S=>{const{panZoom:g,minZoom:y}=m();g==null||g.setScaleExtent([y,S]),v({maxZoom:S})},setTranslateExtent:S=>{var g;(g=m().panZoom)==null||g.setTranslateExtent(S),v({translateExtent:S})},resetSelectedElements:()=>{const{edges:S,nodes:g,triggerNodeChanges:y,triggerEdgeChanges:h,elementsSelectable:x}=m();if(!x)return;const E=g.reduce((_,C)=>C.selected?[..._,ar(C.id,!1)]:_,[]),k=S.reduce((_,C)=>C.selected?[..._,ar(C.id,!1)]:_,[]);y(E),h(k)},setNodeExtent:S=>{const{nodes:g,nodeLookup:y,parentLookup:h,nodeOrigin:x,elevateNodesOnSelect:E,nodeExtent:k,zIndexMode:_}=m();S[0][0]===k[0][0]&&S[0][1]===k[0][1]&&S[1][0]===k[1][0]&&S[1][1]===k[1][1]||(Xc(g,y,h,{nodeOrigin:x,nodeExtent:S,elevateNodesOnSelect:E,checkEquality:!1,zIndexMode:_}),v({nodeExtent:S}))},panBy:S=>{const{transform:g,width:y,height:h,panZoom:x,translateExtent:E}=m();return XC({delta:S,panZoom:x,transform:g,translateExtent:E,width:y,height:h})},setCenter:async(S,g,y)=>{const{width:h,height:x,maxZoom:E,panZoom:k}=m();if(!k)return Promise.resolve(!1);const _=typeof(y==null?void 0:y.zoom)<"u"?y.zoom:E;return await k.setViewport({x:h/2-S*_,y:x/2-g*_,zoom:_},{duration:y==null?void 0:y.duration,ease:y==null?void 0:y.ease,interpolate:y==null?void 0:y.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{v({connection:{...H0}})},updateConnection:S=>{v({connection:S})},reset:()=>v({...tm()})}},Object.is);function qv({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:i,initialMinZoom:o,initialMaxZoom:a,initialFitViewOptions:l,fitView:u,nodeOrigin:d,nodeExtent:c,zIndexMode:f,children:v}){const[m]=D.useState(()=>rM({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:u,minZoom:o,maxZoom:a,fitViewOptions:l,nodeOrigin:d,nodeExtent:c,zIndexMode:f}));return p.jsx(Eb,{value:m,children:p.jsx(Wb,{children:v})})}function sM({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:i,height:o,fitView:a,fitViewOptions:l,minZoom:u,maxZoom:d,nodeOrigin:c,nodeExtent:f,zIndexMode:v}){return D.useContext(Rl)?p.jsx(p.Fragment,{children:e}):p.jsx(qv,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:i,initialHeight:o,fitView:a,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:c,nodeExtent:f,zIndexMode:v,children:e})}const iM={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function oM({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:d,onMoveStart:c,onMoveEnd:f,onConnect:v,onConnectStart:m,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:g,onNodeMouseEnter:y,onNodeMouseMove:h,onNodeMouseLeave:x,onNodeContextMenu:E,onNodeDoubleClick:k,onNodeDragStart:_,onNodeDrag:C,onNodeDragStop:j,onNodesDelete:I,onEdgesDelete:R,onDelete:A,onSelectionChange:B,onSelectionDragStart:N,onSelectionDrag:L,onSelectionDragStop:P,onSelectionContextMenu:z,onSelectionStart:b,onSelectionEnd:T,onBeforeDelete:O,connectionMode:$,connectionLineType:H=Rn.Bezier,connectionLineStyle:Q,connectionLineComponent:U,connectionLineContainerStyle:Y,deleteKeyCode:K="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:W=!1,selectionMode:J=Zi.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:re=eo()?"Meta":"Control",zoomActivationKeyCode:ne=eo()?"Meta":"Control",snapToGrid:te,snapGrid:fe,onlyRenderVisibleElements:ye=!1,selectNodesOnDrag:de,nodesDraggable:Be,autoPanOnNodeFocus:kn,nodesConnectable:rn,nodesFocusable:sr,nodeOrigin:Ys=xv,edgesFocusable:Ks,edgesReconnectable:Gs,elementsSelectable:$l=!0,defaultViewport:_o=Ab,minZoom:Br=.5,maxZoom:Zs=2,translateExtent:Ef=Gi,preventScrolling:Ex=!0,nodeExtent:Hl,defaultMarkerColor:kx="#b1b1b7",zoomOnScroll:_x=!0,zoomOnPinch:Nx=!0,panOnScroll:Cx=!1,panOnScrollSpeed:bx=.5,panOnScrollMode:Tx=br.Free,zoomOnDoubleClick:Mx=!0,panOnDrag:jx=!0,onPaneClick:Px,onPaneMouseEnter:Rx,onPaneMouseMove:Ix,onPaneMouseLeave:Dx,onPaneScroll:Ax,onPaneContextMenu:Lx,paneClickDistance:Ox=1,nodeClickDistance:zx=0,children:Fx,onReconnect:$x,onReconnectStart:Hx,onReconnectEnd:Bx,onEdgeContextMenu:Vx,onEdgeDoubleClick:Ux,onEdgeMouseEnter:Wx,onEdgeMouseMove:Qx,onEdgeMouseLeave:qx,reconnectRadius:Xx=10,onNodesChange:Yx,onEdgesChange:Kx,noDragClassName:Gx="nodrag",noWheelClassName:Zx="nowheel",noPanClassName:kf="nopan",fitView:_f,fitViewOptions:Nf,connectOnClick:Jx,attributionPosition:ew,proOptions:tw,defaultEdgeOptions:nw,elevateNodesOnSelect:rw=!0,elevateEdgesOnSelect:sw=!1,disableKeyboardA11y:Cf=!1,autoPanOnConnect:iw,autoPanOnNodeDrag:ow,autoPanSpeed:aw,connectionRadius:lw,isValidConnection:uw,onError:cw,style:dw,id:bf,nodeDragThreshold:fw,connectionDragThreshold:hw,viewport:pw,onViewportChange:mw,width:gw,height:yw,colorMode:vw="light",debug:xw,onScroll:No,ariaLabelConfig:ww,zIndexMode:Tf="basic",...Sw},Ew){const Bl=bf||"1",kw=Fb(vw),_w=D.useCallback(Mf=>{Mf.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),No==null||No(Mf)},[No]);return p.jsx("div",{"data-testid":"rf__wrapper",...Sw,onScroll:_w,style:{...dw,...iM},ref:Ew,className:Pe(["react-flow",s,kw]),id:bf,role:"application",children:p.jsxs(sM,{nodes:e,edges:t,width:gw,height:yw,fitView:_f,fitViewOptions:Nf,minZoom:Br,maxZoom:Zs,nodeOrigin:Ys,nodeExtent:Hl,zIndexMode:Tf,children:[p.jsx(nM,{onInit:u,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:y,onNodeMouseMove:h,onNodeMouseLeave:x,onNodeContextMenu:E,onNodeDoubleClick:k,nodeTypes:i,edgeTypes:o,connectionLineType:H,connectionLineStyle:Q,connectionLineComponent:U,connectionLineContainerStyle:Y,selectionKeyCode:Z,selectionOnDrag:W,selectionMode:J,deleteKeyCode:K,multiSelectionKeyCode:re,panActivationKeyCode:ie,zoomActivationKeyCode:ne,onlyRenderVisibleElements:ye,defaultViewport:_o,translateExtent:Ef,minZoom:Br,maxZoom:Zs,preventScrolling:Ex,zoomOnScroll:_x,zoomOnPinch:Nx,zoomOnDoubleClick:Mx,panOnScroll:Cx,panOnScrollSpeed:bx,panOnScrollMode:Tx,panOnDrag:jx,onPaneClick:Px,onPaneMouseEnter:Rx,onPaneMouseMove:Ix,onPaneMouseLeave:Dx,onPaneScroll:Ax,onPaneContextMenu:Lx,paneClickDistance:Ox,nodeClickDistance:zx,onSelectionContextMenu:z,onSelectionStart:b,onSelectionEnd:T,onReconnect:$x,onReconnectStart:Hx,onReconnectEnd:Bx,onEdgeContextMenu:Vx,onEdgeDoubleClick:Ux,onEdgeMouseEnter:Wx,onEdgeMouseMove:Qx,onEdgeMouseLeave:qx,reconnectRadius:Xx,defaultMarkerColor:kx,noDragClassName:Gx,noWheelClassName:Zx,noPanClassName:kf,rfId:Bl,disableKeyboardA11y:Cf,nodeExtent:Hl,viewport:pw,onViewportChange:mw}),p.jsx(zb,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:m,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:g,nodesDraggable:Be,autoPanOnNodeFocus:kn,nodesConnectable:rn,nodesFocusable:sr,edgesFocusable:Ks,edgesReconnectable:Gs,elementsSelectable:$l,elevateNodesOnSelect:rw,elevateEdgesOnSelect:sw,minZoom:Br,maxZoom:Zs,nodeExtent:Hl,onNodesChange:Yx,onEdgesChange:Kx,snapToGrid:te,snapGrid:fe,connectionMode:$,translateExtent:Ef,connectOnClick:Jx,defaultEdgeOptions:nw,fitView:_f,fitViewOptions:Nf,onNodesDelete:I,onEdgesDelete:R,onDelete:A,onNodeDragStart:_,onNodeDrag:C,onNodeDragStop:j,onSelectionDrag:L,onSelectionDragStart:N,onSelectionDragStop:P,onMove:d,onMoveStart:c,onMoveEnd:f,noPanClassName:kf,nodeOrigin:Ys,rfId:Bl,autoPanOnConnect:iw,autoPanOnNodeDrag:ow,autoPanSpeed:aw,onError:cw,connectionRadius:lw,isValidConnection:uw,selectNodesOnDrag:de,nodeDragThreshold:fw,connectionDragThreshold:hw,onBeforeDelete:O,debug:xw,ariaLabelConfig:ww,zIndexMode:Tf}),p.jsx(Db,{onSelectionChange:B}),Fx,p.jsx(Mb,{proOptions:tw,position:ew}),p.jsx(Tb,{rfId:Bl,disableKeyboardA11y:Cf})]})})}var aM=kv(oM);const lM=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function uM({children:e}){const t=ue(lM);return t?By.createPortal(e,t):null}function cM({dimensions:e,lineWidth:t,variant:n,className:r}){return p.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Pe(["react-flow__background-pattern",n,r])})}function dM({radius:e,className:t}){return p.jsx("circle",{cx:e,cy:e,r:e,className:Pe(["react-flow__background-pattern","dots",t])})}var Zn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Zn||(Zn={}));const fM={[Zn.Dots]:1,[Zn.Lines]:1,[Zn.Cross]:6},hM=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Xv({id:e,variant:t=Zn.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=0,color:o,bgColor:a,style:l,className:u,patternClassName:d}){const c=D.useRef(null),{transform:f,patternId:v}=ue(hM,Se),m=r||fM[t],w=t===Zn.Dots,S=t===Zn.Cross,g=Array.isArray(n)?n:[n,n],y=[g[0]*f[2]||1,g[1]*f[2]||1],h=m*f[2],x=Array.isArray(i)?i:[i,i],E=S?[h,h]:y,k=[x[0]*f[2]||1+E[0]/2,x[1]*f[2]||1+E[1]/2],_=`${v}${e||""}`;return p.jsxs("svg",{className:Pe(["react-flow__background",u]),style:{...l,...Dl,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:c,"data-testid":"rf__background",children:[p.jsx("pattern",{id:_,x:f[0]%y[0],y:f[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`,children:w?p.jsx(dM,{radius:h/2,className:d}):p.jsx(cM,{dimensions:E,lineWidth:s,variant:t,className:d})}),p.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${_})`})]})}Xv.displayName="Background";const pM=D.memo(Xv);function mM(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:p.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function gM(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:p.jsx("path",{d:"M0 0h32v4.2H0z"})})}function yM(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:p.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function vM(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function xM(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ea({children:e,className:t,...n}){return p.jsx("button",{type:"button",className:Pe(["react-flow__controls-button",t]),...n,children:e})}const wM=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Yv({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:d,position:c="bottom-left",orientation:f="vertical","aria-label":v}){const m=Ee(),{isInteractive:w,minZoomReached:S,maxZoomReached:g,ariaLabelConfig:y}=ue(wM,Se),{zoomIn:h,zoomOut:x,fitView:E}=Qs(),k=()=>{h(),i==null||i()},_=()=>{x(),o==null||o()},C=()=>{E(s),a==null||a()},j=()=>{m.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),l==null||l(!w)},I=f==="horizontal"?"horizontal":"vertical";return p.jsxs(Il,{className:Pe(["react-flow__controls",I,u]),position:c,style:e,"data-testid":"rf__controls","aria-label":v??y["controls.ariaLabel"],children:[t&&p.jsxs(p.Fragment,{children:[p.jsx(ea,{onClick:k,className:"react-flow__controls-zoomin",title:y["controls.zoomIn.ariaLabel"],"aria-label":y["controls.zoomIn.ariaLabel"],disabled:g,children:p.jsx(mM,{})}),p.jsx(ea,{onClick:_,className:"react-flow__controls-zoomout",title:y["controls.zoomOut.ariaLabel"],"aria-label":y["controls.zoomOut.ariaLabel"],disabled:S,children:p.jsx(gM,{})})]}),n&&p.jsx(ea,{className:"react-flow__controls-fitview",onClick:C,title:y["controls.fitView.ariaLabel"],"aria-label":y["controls.fitView.ariaLabel"],children:p.jsx(yM,{})}),r&&p.jsx(ea,{className:"react-flow__controls-interactive",onClick:j,title:y["controls.interactive.ariaLabel"],"aria-label":y["controls.interactive.ariaLabel"],children:w?p.jsx(xM,{}):p.jsx(vM,{})}),d]})}Yv.displayName="Controls";const SM=D.memo(Yv);function EM({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:d,shapeRendering:c,selected:f,onClick:v}){const{background:m,backgroundColor:w}=i||{},S=o||m||w;return p.jsx("rect",{className:Pe(["react-flow__minimap-node",{selected:f},u]),x:t,y:n,rx:d,ry:d,width:r,height:s,style:{fill:S,stroke:a,strokeWidth:l},shapeRendering:c,onClick:v?g=>v(g,e):void 0})}const kM=D.memo(EM),_M=e=>e.nodes.map(t=>t.id),Cu=e=>e instanceof Function?e:()=>e;function NM({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:i=kM,onClick:o}){const a=ue(_M,Se),l=Cu(t),u=Cu(e),d=Cu(n),c=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return p.jsx(p.Fragment,{children:a.map(f=>p.jsx(bM,{id:f,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:i,onClick:o,shapeRendering:c},f))})}function CM({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:i,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:u,x:d,y:c,width:f,height:v}=ue(m=>{const{internals:w}=m.nodeLookup.get(e),S=w.userNode,{x:g,y}=w.positionAbsolute,{width:h,height:x}=Sn(S);return{node:S,x:g,y,width:h,height:x}},Se);return!u||u.hidden||!X0(u)?null:p.jsx(a,{x:d,y:c,width:f,height:v,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:s,strokeColor:n(u),strokeWidth:i,shapeRendering:o,onClick:l,id:u.id})}const bM=D.memo(CM);var TM=D.memo(NM);const MM=200,jM=150,PM=e=>!e.hidden,RM=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?q0(yo(e.nodeLookup,{filter:PM}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},IM="react-flow__minimap-desc";function Kv({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:u,maskStrokeColor:d,maskStrokeWidth:c,position:f="bottom-right",onClick:v,onNodeClick:m,pannable:w=!1,zoomable:S=!1,ariaLabel:g,inversePan:y,zoomStep:h=1,offsetScale:x=5}){const E=Ee(),k=D.useRef(null),{boundingRect:_,viewBB:C,rfId:j,panZoom:I,translateExtent:R,flowWidth:A,flowHeight:B,ariaLabelConfig:N}=ue(RM,Se),L=(e==null?void 0:e.width)??MM,P=(e==null?void 0:e.height)??jM,z=_.width/L,b=_.height/P,T=Math.max(z,b),O=T*L,$=T*P,H=x*T,Q=_.x-(O-_.width)/2-H,U=_.y-($-_.height)/2-H,Y=O+H*2,K=$+H*2,Z=`${IM}-${j}`,W=D.useRef(0),J=D.useRef();W.current=T,D.useEffect(()=>{if(k.current&&I)return J.current=rb({domNode:k.current,panZoom:I,getTransform:()=>E.getState().transform,getViewScale:()=>W.current}),()=>{var te;(te=J.current)==null||te.destroy()}},[I]),D.useEffect(()=>{var te;(te=J.current)==null||te.update({translateExtent:R,width:A,height:B,inversePan:y,pannable:w,zoomStep:h,zoomable:S})},[w,S,y,h,R,A,B]);const ie=v?te=>{var de;const[fe,ye]=((de=J.current)==null?void 0:de.pointer(te))||[0,0];v(te,{x:fe,y:ye})}:void 0,re=m?D.useCallback((te,fe)=>{const ye=E.getState().nodeLookup.get(fe).internals.userNode;m(te,ye)},[]):void 0,ne=g??N["minimap.ariaLabel"];return p.jsx(Il,{position:f,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof c=="number"?c*T:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Pe(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:p.jsxs("svg",{width:L,height:P,viewBox:`${Q} ${U} ${Y} ${K}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Z,ref:k,onClick:ie,children:[ne&&p.jsx("title",{id:Z,children:ne}),p.jsx(TM,{onClick:re,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:a}),p.jsx("path",{className:"react-flow__minimap-mask",d:`M${Q-H},${U-H}h${Y+H*2}v${K+H*2}h${-Y-H*2}z
        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Kv.displayName="MiniMap";D.memo(Kv);const DM=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,AM={[Fs.Line]:"right",[Fs.Handle]:"bottom-right"};function LM({nodeId:e,position:t,variant:n=Fs.Handle,className:r,style:s=void 0,children:i,color:o,minWidth:a=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:c=!1,resizeDirection:f,autoScale:v=!0,shouldResize:m,onResizeStart:w,onResize:S,onResizeEnd:g}){const y=bv(),h=typeof e=="string"?e:y,x=Ee(),E=D.useRef(null),k=n===Fs.Handle,_=ue(D.useCallback(DM(k&&v),[k,v]),Se),C=D.useRef(null),j=t??AM[n];D.useEffect(()=>{if(!(!E.current||!h))return C.current||(C.current=yb({domNode:E.current,nodeId:h,getStoreItems:()=>{const{nodeLookup:R,transform:A,snapGrid:B,snapToGrid:N,nodeOrigin:L,domNode:P}=x.getState();return{nodeLookup:R,transform:A,snapGrid:B,snapToGrid:N,nodeOrigin:L,paneDomNode:P}},onChange:(R,A)=>{const{triggerNodeChanges:B,nodeLookup:N,parentLookup:L,nodeOrigin:P}=x.getState(),z=[],b={x:R.x,y:R.y},T=N.get(h);if(T&&T.expandParent&&T.parentId){const O=T.origin??P,$=R.width??T.measured.width??0,H=R.height??T.measured.height??0,Q={id:T.id,parentId:T.parentId,rect:{width:$,height:H,...Y0({x:R.x??T.position.x,y:R.y??T.position.y},{width:$,height:H},T.parentId,N,O)}},U=gf([Q],N,L,P);z.push(...U),b.x=R.x?Math.max(O[0]*$,R.x):void 0,b.y=R.y?Math.max(O[1]*H,R.y):void 0}if(b.x!==void 0&&b.y!==void 0){const O={id:h,type:"position",position:{...b}};z.push(O)}if(R.width!==void 0&&R.height!==void 0){const $={id:h,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:R.width,height:R.height}};z.push($)}for(const O of A){const $={...O,type:"position"};z.push($)}B(z)},onEnd:({width:R,height:A})=>{const B={id:h,type:"dimensions",resizing:!1,dimensions:{width:R,height:A}};x.getState().triggerNodeChanges([B])}})),C.current.update({controlPosition:j,boundaries:{minWidth:a,minHeight:l,maxWidth:u,maxHeight:d},keepAspectRatio:c,resizeDirection:f,onResizeStart:w,onResize:S,onResizeEnd:g,shouldResize:m}),()=>{var R;(R=C.current)==null||R.destroy()}},[j,a,l,u,d,c,w,S,g,m]);const I=j.split("-");return p.jsx("div",{className:Pe(["react-flow__resize-control","nodrag",...I,n,r]),ref:E,style:{...s,scale:_,...o&&{[k?"backgroundColor":"borderColor"]:o}},children:i})}D.memo(LM);const it=FE((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:n=>e({executionResult:n}),setGraph:(n,r)=>e({nodes:n,edges:r}),onNodesChange:n=>{e({nodes:Sv(n,t().nodes)})},onEdgesChange:n=>{e({edges:Ev(n,t().edges)})},onConnect:n=>{e({edges:nv(n,t().edges)})},addNode:(n,r,s={})=>{const i=Oe.get(n);if(!i)return console.error(`Node type ${n} not found in registry`),"";const o=`${n}-${Date.now()}`,a={id:o,type:"custom",position:r,data:{definitionType:n,catalogType:n,...i.getDefaultConfig(),...s}};return e({nodes:[...t().nodes,a]}),o},updateNodeData:(n,r)=>{e({nodes:t().nodes.map(s=>s.id===n?{...s,data:{...s.data,...r}}:s)})},validateGraph:async()=>{const{nodes:n,edges:r}=t();if(n.length===0)return!1;for(const s of n){const i=Oe.get(s.data.definitionType);if(i){const o=i.validate(s.data);if(!o.isValid)return console.warn(`Node ${s.id} validation failed: ${o.message}`),!1}}for(const s of n){const i=Oe.get(s.data.definitionType);if(i&&i.inputs.length>0&&!r.some(a=>a.target===s.id))return console.warn(`Node ${s.id} (${i.label}) is disconnected.`),!1}return!0}})),nn=e=>{const t=it(i=>i.nodes),n=it(i=>i.edges),r=t.find(i=>i.id===e);return r?wC(r,t,n).map(i=>i.data):[]};function Gv(e,t){return function(){return e.apply(t,arguments)}}const{toString:OM}=Object.prototype,{getPrototypeOf:vf}=Object,{iterator:Al,toStringTag:Zv}=Symbol,Ll=(e=>t=>{const n=OM.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Bt=e=>(e=e.toLowerCase(),t=>Ll(t)===e),Ol=e=>t=>typeof t===e,{isArray:qs}=Array,Bs=Ol("undefined");function wo(e){return e!==null&&!Bs(e)&&e.constructor!==null&&!Bs(e.constructor)&&ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jv=Bt("ArrayBuffer");function zM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Jv(e.buffer),t}const FM=Ol("string"),ut=Ol("function"),ex=Ol("number"),So=e=>e!==null&&typeof e=="object",$M=e=>e===!0||e===!1,xa=e=>{if(Ll(e)!=="object")return!1;const t=vf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Zv in e)&&!(Al in e)},HM=e=>{if(!So(e)||wo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},BM=Bt("Date"),VM=Bt("File"),UM=Bt("Blob"),WM=Bt("FileList"),QM=e=>So(e)&&ut(e.pipe),qM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ut(e.append)&&((t=Ll(e))==="formdata"||t==="object"&&ut(e.toString)&&e.toString()==="[object FormData]"))},XM=Bt("URLSearchParams"),[YM,KM,GM,ZM]=["ReadableStream","Request","Response","Headers"].map(Bt),JM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Eo(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),qs(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(wo(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function tx(e,t){if(wo(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nx=e=>!Bs(e)&&e!==pr;function Gc(){const{caseless:e,skipUndefined:t}=nx(this)&&this||{},n={},r=(s,i)=>{const o=e&&tx(n,i)||i;xa(n[o])&&xa(s)?n[o]=Gc(n[o],s):xa(s)?n[o]=Gc({},s):qs(s)?n[o]=s.slice():(!t||!Bs(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Eo(arguments[s],r);return n}const ej=(e,t,n,{allOwnKeys:r}={})=>(Eo(t,(s,i)=>{n&&ut(s)?e[i]=Gv(s,n):e[i]=s},{allOwnKeys:r}),e),tj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),nj=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},rj=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&vf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},sj=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},ij=e=>{if(!e)return null;if(qs(e))return e;let t=e.length;if(!ex(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},oj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vf(Uint8Array)),aj=(e,t)=>{const r=(e&&e[Al]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},lj=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},uj=Bt("HTMLFormElement"),cj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),nm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),dj=Bt("RegExp"),rx=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Eo(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},fj=e=>{rx(e,(t,n)=>{if(ut(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ut(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},hj=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return qs(e)?r(e):r(String(e).split(t)),n},pj=()=>{},mj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function gj(e){return!!(e&&ut(e.append)&&e[Zv]==="FormData"&&e[Al])}const yj=e=>{const t=new Array(10),n=(r,s)=>{if(So(r)){if(t.indexOf(r)>=0)return;if(wo(r))return r;if(!("toJSON"in r)){t[s]=r;const i=qs(r)?[]:{};return Eo(r,(o,a)=>{const l=n(o,s+1);!Bs(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},vj=Bt("AsyncFunction"),xj=e=>e&&(So(e)||ut(e))&&ut(e.then)&&ut(e.catch),sx=((e,t)=>e?setImmediate:t?((n,r)=>(pr.addEventListener("message",({source:s,data:i})=>{s===pr&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),pr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ut(pr.postMessage)),wj=typeof queueMicrotask<"u"?queueMicrotask.bind(pr):typeof process<"u"&&process.nextTick||sx,Sj=e=>e!=null&&ut(e[Al]),F={isArray:qs,isArrayBuffer:Jv,isBuffer:wo,isFormData:qM,isArrayBufferView:zM,isString:FM,isNumber:ex,isBoolean:$M,isObject:So,isPlainObject:xa,isEmptyObject:HM,isReadableStream:YM,isRequest:KM,isResponse:GM,isHeaders:ZM,isUndefined:Bs,isDate:BM,isFile:VM,isBlob:UM,isRegExp:dj,isFunction:ut,isStream:QM,isURLSearchParams:XM,isTypedArray:oj,isFileList:WM,forEach:Eo,merge:Gc,extend:ej,trim:JM,stripBOM:tj,inherits:nj,toFlatObject:rj,kindOf:Ll,kindOfTest:Bt,endsWith:sj,toArray:ij,forEachEntry:aj,matchAll:lj,isHTMLForm:uj,hasOwnProperty:nm,hasOwnProp:nm,reduceDescriptors:rx,freezeMethods:fj,toObjectSet:hj,toCamelCase:cj,noop:pj,toFiniteNumber:mj,findKey:tx,global:pr,isContextDefined:nx,isSpecCompliantForm:gj,toJSONObject:yj,isAsyncFn:vj,isThenable:xj,setImmediate:sx,asap:wj,isIterable:Sj};function se(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}F.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const ix=se.prototype,ox={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ox[e]={value:e}});Object.defineProperties(se,ox);Object.defineProperty(ix,"isAxiosError",{value:!0});se.from=(e,t,n,r,s,i)=>{const o=Object.create(ix);F.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return se.call(o,a,l,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Ej=null;function Zc(e){return F.isPlainObject(e)||F.isArray(e)}function ax(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function rm(e,t,n){return e?e.concat(t).map(function(s,i){return s=ax(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function kj(e){return F.isArray(e)&&!e.some(Zc)}const _j=F.toFlatObject(F,{},null,function(t){return/^is[A-Z]/.test(t)});function zl(e,t,n){if(!F.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!F.isUndefined(S[w])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(s))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(F.isDate(m))return m.toISOString();if(F.isBoolean(m))return m.toString();if(!l&&F.isBlob(m))throw new se("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(m)||F.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,w,S){let g=m;if(m&&!S&&typeof m=="object"){if(F.endsWith(w,"{}"))w=r?w:w.slice(0,-2),m=JSON.stringify(m);else if(F.isArray(m)&&kj(m)||(F.isFileList(m)||F.endsWith(w,"[]"))&&(g=F.toArray(m)))return w=ax(w),g.forEach(function(h,x){!(F.isUndefined(h)||h===null)&&t.append(o===!0?rm([w],x,i):o===null?w:w+"[]",u(h))}),!1}return Zc(m)?!0:(t.append(rm(S,w,i),u(m)),!1)}const c=[],f=Object.assign(_j,{defaultVisitor:d,convertValue:u,isVisitable:Zc});function v(m,w){if(!F.isUndefined(m)){if(c.indexOf(m)!==-1)throw Error("Circular reference detected in "+w.join("."));c.push(m),F.forEach(m,function(g,y){(!(F.isUndefined(g)||g===null)&&s.call(t,g,F.isString(y)?y.trim():y,w,f))===!0&&v(g,w?w.concat(y):[y])}),c.pop()}}if(!F.isObject(e))throw new TypeError("data must be an object");return v(e),t}function sm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function xf(e,t){this._pairs=[],e&&zl(e,this,t)}const lx=xf.prototype;lx.append=function(t,n){this._pairs.push([t,n])};lx.toString=function(t){const n=t?function(r){return t.call(this,r,sm)}:sm;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Nj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ux(e,t,n){if(!t)return e;const r=n&&n.encode||Nj;F.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=F.isURLSearchParams(t)?t.toString():new xf(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class im{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,function(r){r!==null&&t(r)})}}const cx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cj=typeof URLSearchParams<"u"?URLSearchParams:xf,bj=typeof FormData<"u"?FormData:null,Tj=typeof Blob<"u"?Blob:null,Mj={isBrowser:!0,classes:{URLSearchParams:Cj,FormData:bj,Blob:Tj},protocols:["http","https","file","blob","url","data"]},wf=typeof window<"u"&&typeof document<"u",Jc=typeof navigator=="object"&&navigator||void 0,jj=wf&&(!Jc||["ReactNative","NativeScript","NS"].indexOf(Jc.product)<0),Pj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rj=wf&&window.location.href||"http://localhost",Ij=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wf,hasStandardBrowserEnv:jj,hasStandardBrowserWebWorkerEnv:Pj,navigator:Jc,origin:Rj},Symbol.toStringTag,{value:"Module"})),Qe={...Ij,...Mj};function Dj(e,t){return zl(e,new Qe.classes.URLSearchParams,{visitor:function(n,r,s,i){return Qe.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Aj(e){return F.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Lj(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function dx(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&F.isArray(s)?s.length:o,l?(F.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!F.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&F.isArray(s[o])&&(s[o]=Lj(s[o])),!a)}if(F.isFormData(e)&&F.isFunction(e.entries)){const n={};return F.forEachEntry(e,(r,s)=>{t(Aj(r),s,n,0)}),n}return null}function Oj(e,t,n){if(F.isString(e))try{return(t||JSON.parse)(e),F.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ko={transitional:cx,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=F.isObject(t);if(i&&F.isHTMLForm(t)&&(t=new FormData(t)),F.isFormData(t))return s?JSON.stringify(dx(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t)||F.isReadableStream(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Dj(t,this.formSerializer).toString();if((a=F.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return zl(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),Oj(t)):t}],transformResponse:[function(t){const n=this.transitional||ko.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(F.isResponse(t)||F.isReadableStream(t))return t;if(t&&F.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?se.from(a,se.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qe.classes.FormData,Blob:Qe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],e=>{ko.headers[e]={}});const zj=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fj=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&zj[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},om=Symbol("internals");function ui(e){return e&&String(e).trim().toLowerCase()}function wa(e){return e===!1||e==null?e:F.isArray(e)?e.map(wa):String(e)}function $j(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Hj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function bu(e,t,n,r,s){if(F.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!F.isString(t)){if(F.isString(r))return t.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(t)}}function Bj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Vj(e,t){const n=F.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let ct=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,u){const d=ui(l);if(!d)throw new Error("header name must be a non-empty string");const c=F.findKey(s,d);(!c||s[c]===void 0||u===!0||u===void 0&&s[c]!==!1)&&(s[c||l]=wa(a))}const o=(a,l)=>F.forEach(a,(u,d)=>i(u,d,l));if(F.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(F.isString(t)&&(t=t.trim())&&!Hj(t))o(Fj(t),n);else if(F.isObject(t)&&F.isIterable(t)){let a={},l,u;for(const d of t){if(!F.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?F.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=ui(t),t){const r=F.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return $j(s);if(F.isFunction(n))return n.call(this,s,r);if(F.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ui(t),t){const r=F.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||bu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=ui(o),o){const a=F.findKey(r,o);a&&(!n||bu(r,r[a],a,n))&&(delete r[a],s=!0)}}return F.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||bu(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return F.forEach(this,(s,i)=>{const o=F.findKey(r,i);if(o){n[o]=wa(s),delete n[i];return}const a=t?Bj(i):String(i).trim();a!==i&&delete n[i],n[a]=wa(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return F.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[om]=this[om]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=ui(o);r[a]||(Vj(s,o),r[a]=!0)}return F.isArray(t)?t.forEach(i):i(t),this}};ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(ct.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});F.freezeMethods(ct);function Tu(e,t){const n=this||ko,r=t||n,s=ct.from(r.headers);let i=r.data;return F.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function fx(e){return!!(e&&e.__CANCEL__)}function Xs(e,t,n){se.call(this,e??"canceled",se.ERR_CANCELED,t,n),this.name="CanceledError"}F.inherits(Xs,se,{__CANCEL__:!0});function hx(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Uj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Wj(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=r[i];o||(o=u),n[s]=l,r[s]=u;let c=i,f=0;for(;c!==s;)f+=n[c++],c=c%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const v=d&&u-d;return v?Math.round(f*1e3/v):void 0}}function Qj(e,t){let n=0,r=1e3/t,s,i;const o=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),c=d-n;c>=r?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-c)))},()=>s&&o(s)]}const ol=(e,t,n=3)=>{let r=0;const s=Wj(50,250);return Qj(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),d=o<=a;r=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(c)},n)},am=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},lm=e=>(...t)=>F.asap(()=>e(...t)),qj=Qe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Qe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Qe.origin),Qe.navigator&&/(msie|trident)/i.test(Qe.navigator.userAgent)):()=>!0,Xj=Qe.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];F.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),F.isString(r)&&a.push(`path=${r}`),F.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),F.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Yj(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Kj(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function px(e,t,n){let r=!Yj(t);return e&&(r||n==!1)?Kj(e,t):t}const um=e=>e instanceof ct?{...e}:e;function Fr(e,t){t=t||{};const n={};function r(u,d,c,f){return F.isPlainObject(u)&&F.isPlainObject(d)?F.merge.call({caseless:f},u,d):F.isPlainObject(d)?F.merge({},d):F.isArray(d)?d.slice():d}function s(u,d,c,f){if(F.isUndefined(d)){if(!F.isUndefined(u))return r(void 0,u,c,f)}else return r(u,d,c,f)}function i(u,d){if(!F.isUndefined(d))return r(void 0,d)}function o(u,d){if(F.isUndefined(d)){if(!F.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,c){if(c in t)return r(u,d);if(c in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,c)=>s(um(u),um(d),c,!0)};return F.forEach(Object.keys({...e,...t}),function(d){const c=l[d]||s,f=c(e[d],t[d],d);F.isUndefined(f)&&c!==a||(n[d]=f)}),n}const mx=e=>{const t=Fr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=ct.from(o),t.url=ux(px(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),F.isFormData(n)){if(Qe.hasStandardBrowserEnv||Qe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(F.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,c])=>{u.includes(d.toLowerCase())&&o.set(d,c)})}}if(Qe.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(t)),r||r!==!1&&qj(t.url))){const l=s&&i&&Xj.read(i);l&&o.set(s,l)}return t},Gj=typeof XMLHttpRequest<"u",Zj=Gj&&function(e){return new Promise(function(n,r){const s=mx(e);let i=s.data;const o=ct.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,d,c,f,v,m;function w(){v&&v(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function g(){if(!S)return;const h=ct.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:h,config:e,request:S};hx(function(_){n(_),w()},function(_){r(_),w()},E),S=null}"onloadend"in S?S.onloadend=g:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(g)},S.onabort=function(){S&&(r(new se("Request aborted",se.ECONNABORTED,e,S)),S=null)},S.onerror=function(x){const E=x&&x.message?x.message:"Network Error",k=new se(E,se.ERR_NETWORK,e,S);k.event=x||null,r(k),S=null},S.ontimeout=function(){let x=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||cx;s.timeoutErrorMessage&&(x=s.timeoutErrorMessage),r(new se(x,E.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&F.forEach(o.toJSON(),function(x,E){S.setRequestHeader(E,x)}),F.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),a&&a!=="json"&&(S.responseType=s.responseType),u&&([f,m]=ol(u,!0),S.addEventListener("progress",f)),l&&S.upload&&([c,v]=ol(l),S.upload.addEventListener("progress",c),S.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(d=h=>{S&&(r(!h||h.type?new Xs(null,e,S):h),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const y=Uj(s.url);if(y&&Qe.protocols.indexOf(y)===-1){r(new se("Unsupported protocol "+y+":",se.ERR_BAD_REQUEST,e));return}S.send(i||null)})},Jj=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof se?d:new Xs(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>F.asap(a),l}},e4=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},t4=async function*(e,t){for await(const n of n4(e))yield*e4(n,t)},n4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},cm=(e,t,n,r)=>{const s=t4(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await s.next();if(u){a(),l.close();return}let c=d.byteLength;if(n){let f=i+=c;n(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},dm=64*1024,{isFunction:ta}=F,r4=(({Request:e,Response:t})=>({Request:e,Response:t}))(F.global),{ReadableStream:fm,TextEncoder:hm}=F.global,pm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},s4=e=>{e=F.merge.call({skipUndefined:!0},r4,e);const{fetch:t,Request:n,Response:r}=e,s=t?ta(t):typeof fetch=="function",i=ta(n),o=ta(r);if(!s)return!1;const a=s&&ta(fm),l=s&&(typeof hm=="function"?(m=>w=>m.encode(w))(new hm):async m=>new Uint8Array(await new n(m).arrayBuffer())),u=i&&a&&pm(()=>{let m=!1;const w=new n(Qe.origin,{body:new fm,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!w}),d=o&&a&&pm(()=>F.isReadableStream(new r("").body)),c={stream:d&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!c[m]&&(c[m]=(w,S)=>{let g=w&&w[m];if(g)return g.call(w);throw new se(`Response type '${m}' is not supported`,se.ERR_NOT_SUPPORT,S)})});const f=async m=>{if(m==null)return 0;if(F.isBlob(m))return m.size;if(F.isSpecCompliantForm(m))return(await new n(Qe.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(F.isArrayBufferView(m)||F.isArrayBuffer(m))return m.byteLength;if(F.isURLSearchParams(m)&&(m=m+""),F.isString(m))return(await l(m)).byteLength},v=async(m,w)=>{const S=F.toFiniteNumber(m.getContentLength());return S??f(w)};return async m=>{let{url:w,method:S,data:g,signal:y,cancelToken:h,timeout:x,onDownloadProgress:E,onUploadProgress:k,responseType:_,headers:C,withCredentials:j="same-origin",fetchOptions:I}=mx(m),R=t||fetch;_=_?(_+"").toLowerCase():"text";let A=Jj([y,h&&h.toAbortSignal()],x),B=null;const N=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let L;try{if(k&&u&&S!=="get"&&S!=="head"&&(L=await v(C,g))!==0){let $=new n(w,{method:"POST",body:g,duplex:"half"}),H;if(F.isFormData(g)&&(H=$.headers.get("content-type"))&&C.setContentType(H),$.body){const[Q,U]=am(L,ol(lm(k)));g=cm($.body,dm,Q,U)}}F.isString(j)||(j=j?"include":"omit");const P=i&&"credentials"in n.prototype,z={...I,signal:A,method:S.toUpperCase(),headers:C.normalize().toJSON(),body:g,duplex:"half",credentials:P?j:void 0};B=i&&new n(w,z);let b=await(i?R(B,I):R(w,z));const T=d&&(_==="stream"||_==="response");if(d&&(E||T&&N)){const $={};["status","statusText","headers"].forEach(Y=>{$[Y]=b[Y]});const H=F.toFiniteNumber(b.headers.get("content-length")),[Q,U]=E&&am(H,ol(lm(E),!0))||[];b=new r(cm(b.body,dm,Q,()=>{U&&U(),N&&N()}),$)}_=_||"text";let O=await c[F.findKey(c,_)||"text"](b,m);return!T&&N&&N(),await new Promise(($,H)=>{hx($,H,{data:O,headers:ct.from(b.headers),status:b.status,statusText:b.statusText,config:m,request:B})})}catch(P){throw N&&N(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,m,B),{cause:P.cause||P}):se.from(P,P&&P.code,m,B)}}},i4=new Map,gx=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,a=o,l,u,d=i4;for(;a--;)l=i[a],u=d.get(l),u===void 0&&d.set(l,u=a?new Map:s4(t)),d=u;return u};gx();const Sf={http:Ej,xhr:Zj,fetch:{get:gx}};F.forEach(Sf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const mm=e=>`- ${e}`,o4=e=>F.isFunction(e)||e===null||e===!1;function a4(e,t){e=F.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!o4(r)&&(s=Sf[(a=String(r)).toLowerCase()],s===void 0))throw new se(`Unknown adapter '${a}'`);if(s&&(F.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(mm).join(`
`):" "+mm(o[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const yx={getAdapter:a4,adapters:Sf};function Mu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xs(null,e)}function gm(e){return Mu(e),e.headers=ct.from(e.headers),e.data=Tu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),yx.getAdapter(e.adapter||ko.adapter,e)(e).then(function(r){return Mu(e),r.data=Tu.call(e,e.transformResponse,r),r.headers=ct.from(r.headers),r},function(r){return fx(r)||(Mu(e),r&&r.response&&(r.response.data=Tu.call(e,e.transformResponse,r.response),r.response.headers=ct.from(r.response.headers))),Promise.reject(r)})}const vx="1.13.2",Fl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Fl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ym={};Fl.transitional=function(t,n,r){function s(i,o){return"[Axios v"+vx+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new se(s(o," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!ym[o]&&(ym[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Fl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function l4(e,t,n){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new se("option "+i+" must be "+l,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+i,se.ERR_BAD_OPTION)}}const Sa={assertOptions:l4,validators:Fl},Ut=Sa.validators;let Tr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new im,response:new im}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Fr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Sa.assertOptions(r,{silentJSONParsing:Ut.transitional(Ut.boolean),forcedJSONParsing:Ut.transitional(Ut.boolean),clarifyTimeoutError:Ut.transitional(Ut.boolean)},!1),s!=null&&(F.isFunction(s)?n.paramsSerializer={serialize:s}:Sa.assertOptions(s,{encode:Ut.function,serialize:Ut.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sa.assertOptions(n,{baseUrl:Ut.spelling("baseURL"),withXsrfToken:Ut.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&F.merge(i.common,i[n.method]);i&&F.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=ct.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,c=0,f;if(!l){const m=[gm.bind(this),void 0];for(m.unshift(...a),m.push(...u),f=m.length,d=Promise.resolve(n);c<f;)d=d.then(m[c++],m[c++]);return d}f=a.length;let v=n;for(;c<f;){const m=a[c++],w=a[c++];try{v=m(v)}catch(S){w.call(this,S);break}}try{d=gm.call(this,v)}catch(m){return Promise.reject(m)}for(c=0,f=u.length;c<f;)d=d.then(u[c++],u[c++]);return d}getUri(t){t=Fr(this.defaults,t);const n=px(t.baseURL,t.url,t.allowAbsoluteUrls);return ux(n,t.params,t.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(t){Tr.prototype[t]=function(n,r){return this.request(Fr(r||{},{method:t,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Fr(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Tr.prototype[t]=n(),Tr.prototype[t+"Form"]=n(!0)});let u4=class xx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new Xs(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new xx(function(s){t=s}),cancel:t}}};function c4(e){return function(n){return e.apply(null,n)}}function d4(e){return F.isObject(e)&&e.isAxiosError===!0}const ed={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ed).forEach(([e,t])=>{ed[t]=e});function wx(e){const t=new Tr(e),n=Gv(Tr.prototype.request,t);return F.extend(n,Tr.prototype,t,{allOwnKeys:!0}),F.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return wx(Fr(e,s))},n}const Me=wx(ko);Me.Axios=Tr;Me.CanceledError=Xs;Me.CancelToken=u4;Me.isCancel=fx;Me.VERSION=vx;Me.toFormData=zl;Me.AxiosError=se;Me.Cancel=Me.CanceledError;Me.all=function(t){return Promise.all(t)};Me.spread=c4;Me.isAxiosError=d4;Me.mergeConfig=Fr;Me.AxiosHeaders=ct;Me.formToJSON=e=>dx(F.isHTMLForm(e)?new FormData(e):e);Me.getAdapter=yx.getAdapter;Me.HttpStatusCode=ed;Me.default=Me;const{Axios:iP,AxiosError:oP,CanceledError:aP,isCancel:lP,CancelToken:uP,VERSION:cP,all:dP,Cancel:fP,isAxiosError:hP,spread:pP,toFormData:mP,AxiosHeaders:gP,HttpStatusCode:yP,formToJSON:vP,getAdapter:xP,mergeConfig:wP}=Me,f4="/api",Sx=Me.create({baseURL:f4,headers:{"Content-Type":"application/json"}}),h4=async e=>(await Sx.post("/pipeline/preview",e)).data,p4=async e=>(await Sx.get(`/pipeline/datasets/${e}/schema`)).data,vm=async(e,t)=>(console.warn("savePipeline is not yet implemented in V2",e,t),{id:"mock_id"}),m4=async e=>(console.warn("fetchPipeline is not yet implemented in V2",e),null),g4=async e=>(console.warn("submitTrainingJob is not yet implemented in V2",e),{job_id:"mock_job_id"}),En=e=>A2({queryKey:["dataset-schema",e],queryFn:()=>p4(e),enabled:!!e,staleTime:1e3*60*5}),y4=(e,t={})=>{var i;const r=(i=nn(e).find(o=>o.datasetId))==null?void 0:i.datasetId,s=it(o=>o.executionResult);return D.useMemo(()=>!r||!(s!=null&&s.recommendations)?[]:s.recommendations.filter(o=>{var a,l;if(t.types||t.suggestedNodeTypes){const u=(a=t.types)==null?void 0:a.includes(o.type),d=(l=t.suggestedNodeTypes)==null?void 0:l.includes(o.suggested_node_type);if(!u&&!d)return!1}return!(t.scope==="column"&&(!o.target_columns||o.target_columns.length===0))}),[s,r,t.types,t.suggestedNodeTypes,t.scope])},v4=({recommendations:e,onApply:t,className:n=""})=>!e||e.length===0?null:p.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${n}`,children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[p.jsx(K2,{className:"w-4 h-4"}),p.jsx("span",{children:"Recommendations"})]}),p.jsx("div",{className:"space-y-2",children:e.map(r=>p.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:p.jsxs("div",{className:"flex justify-between items-start gap-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:r.type.replace("_"," ").toUpperCase()}),p.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:r.description}),r.reasoning&&p.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",r.reasoning]})]}),t&&p.jsx("button",{onClick:()=>t(r),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:p.jsx(U2,{className:"w-5 h-5"})})]})},r.rule_id))})]}),x4=({config:e,onChange:t,nodeId:n})=>{var y;const s=(y=nn(n||"").find(h=>h.datasetId))==null?void 0:y.datasetId,{data:i,isLoading:o}=En(s),a=i?Object.values(i.columns).map(h=>h.name):[],l=D.useRef(null),[u,d]=D.useState(!1);D.useEffect(()=>{if(!l.current)return;const h=new ResizeObserver(x=>{for(const E of x)d(E.contentRect.width>450)});return h.observe(l.current),()=>h.disconnect()},[]);const c=y4(n||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),f=h=>{if(h.target_columns&&h.target_columns.length>0){const x=Array.from(new Set([...e.columns,...h.target_columns]));t({...e,columns:x})}},[v,m]=D.useState(""),w=D.useMemo(()=>a.filter(h=>h.toLowerCase().includes(v.toLowerCase())),[a,v]),S=()=>{t({...e,columns:w})},g=()=>{const h=e.columns.filter(x=>!w.includes(x));t({...e,columns:h})};return p.jsxs("div",{ref:l,className:`flex flex-col h-full w-full bg-background ${u?"overflow-hidden":"overflow-y-auto"}`,children:[p.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!s&&p.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&p.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),p.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${u?"grid grid-cols-2":"flex flex-col"}`,children:[p.jsxs("div",{className:`space-y-4 ${u?"overflow-y-auto pr-2":"shrink-0"}`,children:[c.length>0&&p.jsx("div",{className:"shrink-0",children:p.jsx(v4,{recommendations:c,onApply:f})}),p.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),p.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),p.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),p.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:h=>t({...e,missing_threshold:parseInt(h.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]})]}),p.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${u?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[p.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),p.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),p.jsx("div",{className:"relative group",children:p.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:v,onChange:h=>m(h.target.value)})}),p.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[p.jsx("button",{onClick:S,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),p.jsx("span",{className:"text-border",children:"|"}),p.jsx("button",{onClick:g,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:a.length>0?w.length>0?p.jsx("div",{className:"space-y-0.5",children:w.map(h=>p.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[p.jsx("input",{type:"checkbox",checked:e.columns.includes(h),onChange:x=>{const E=x.target.checked?[...e.columns,h]:e.columns.filter(k=>k!==h);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),p.jsx("span",{className:"truncate font-mono text-xs",title:h,children:h})]},h))}):p.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',v,'"']}):p.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},w4={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:uE,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:x4,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},S4=({config:e,onChange:t,nodeId:n})=>{var l;const s=(l=nn(n||"").find(u=>u.datasetId))==null?void 0:l.datasetId,{data:i,isLoading:o}=En(s),a=i?Object.values(i.columns).map(u=>u.name):[];return p.jsxs("div",{className:"p-4 space-y-4",children:[!s&&p.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&p.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Strategy"}),p.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:u=>t({...e,strategy:u.target.value}),children:[p.jsx("option",{value:"mean",children:"Mean (Average)"}),p.jsx("option",{value:"median",children:"Median (Middle Value)"}),p.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),p.jsx("option",{value:"constant",children:"Constant Value"})]})]}),e.strategy==="constant"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:u=>t({...e,fill_value:u.target.value}),placeholder:"Enter value..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Target Columns"}),a.length>0?p.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto border rounded p-2 bg-background",children:a.map(u=>p.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:e.columns.includes(u),onChange:d=>{const c=d.target.checked?[...e.columns,u]:e.columns.filter(f=>f!==u);t({...e,columns:c})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),p.jsx("span",{children:u})]},u))}):p.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]})]})},E4={type:"simple_imputer",label:"Imputation",category:"Preprocessing",description:"Fill missing values in selected columns.",icon:eE,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Filled Data",type:"dataset"}],settings:S4,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],strategy:"mean"})},k4=({config:e,onChange:t,nodeId:n})=>{var l;const s=(l=nn(n||"").find(u=>u.datasetId))==null?void 0:l.datasetId,{data:i,isLoading:o}=En(s),a=i?Object.values(i.columns).filter(u=>["int","float","number"].some(d=>{var c;return(c=u.dtype)==null?void 0:c.toLowerCase().includes(d)})).map(u=>u.name):[];return p.jsxs("div",{className:"p-4 space-y-4",children:[!s&&p.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),p.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:u=>t({...e,method:u.target.value}),children:[p.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),p.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),p.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),p.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),p.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Numeric Columns"}),a.length>0?p.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto border rounded p-2 bg-background",children:a.map(u=>p.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:e.columns.includes(u),onChange:d=>{const c=d.target.checked?[...e.columns,u]:e.columns.filter(f=>f!==u);t({...e,columns:c})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),p.jsx("span",{children:u})]},u))}):p.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:o?"Loading schema...":"No numeric columns found"})]})]})},_4={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:sE,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:k4,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})},N4=({config:e,onChange:t,nodeId:n})=>{var l;const s=(l=nn(n||"").find(u=>u.datasetId))==null?void 0:l.datasetId,{data:i,isLoading:o}=En(s),a=i?Object.values(i.columns).filter(u=>["object","string","category","bool"].some(d=>{var c;return(c=u.dtype)==null?void 0:c.toLowerCase().includes(d)})).map(u=>u.name):[];return p.jsxs("div",{className:"p-4 space-y-4",children:[!s&&p.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Categorical Columns"}),a.length>0?p.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto border rounded p-2 bg-background",children:a.map(u=>p.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:e.columns.includes(u),onChange:d=>{const c=d.target.checked?[...e.columns,u]:e.columns.filter(f=>f!==u);t({...e,columns:c})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),p.jsx("span",{children:u})]},u))}):p.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:o?"Loading schema...":"No categorical columns found"}),p.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"Creates binary columns for each category. Best for low-cardinality features."})]})]})},C4={type:"one_hot_encoding",label:"One-Hot Encoding",category:"Preprocessing",description:"Convert categorical variables into binary columns.",icon:F2,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:N4,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[]})},b4=({config:e,onChange:t,nodeId:n})=>{var l;const s=(l=nn(n||"").find(u=>u.datasetId))==null?void 0:l.datasetId,{data:i,isLoading:o}=En(s),a=i?Object.values(i.columns).filter(u=>["object","string","category","bool"].some(d=>{var c;return(c=u.dtype)==null?void 0:c.toLowerCase().includes(d)})).map(u=>u.name):[];return p.jsxs("div",{className:"p-4 space-y-4",children:[!s&&p.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Categorical Columns"}),a.length>0?p.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto border rounded p-2 bg-background",children:a.map(u=>p.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:e.columns.includes(u),onChange:d=>{const c=d.target.checked?[...e.columns,u]:e.columns.filter(f=>f!==u);t({...e,columns:c})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),p.jsx("span",{children:u})]},u))}):p.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:o?"Loading schema...":"No categorical columns found"}),p.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"Converts categories to integer codes (0, 1, 2...). Best for ordinal data."})]})]})},T4={type:"label_encoding",label:"Label Encoding",category:"Preprocessing",description:"Convert categorical variables into integer codes.",icon:X2,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:b4,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[]})},M4=({config:e,onChange:t,nodeId:n})=>{var u,d;const r=nn(n||""),s=(u=r.find(c=>c.datasetId))==null?void 0:u.datasetId,i=(d=r.find(c=>c.target_column))==null?void 0:d.target_column;At.useEffect(()=>{const c={};s&&e.datasetId!==s&&(c.datasetId=s),i&&e.targetColumn!==i&&(c.targetColumn=i),Object.keys(c).length>0&&t({...e,...c})},[s,i,e.datasetId,e.targetColumn,t]);const{data:o,isLoading:a}=En(s||e.datasetId),l=o?Object.values(o.columns).map(c=>c.name):[];return p.jsxs("div",{className:"p-4 space-y-4",children:[!s&&!e.datasetId&&p.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),a&&p.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Column"}),p.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.targetColumn??"",onChange:c=>t({...e,targetColumn:c.target.value}),disabled:!!i,children:[p.jsx("option",{value:"",children:"-- Select Target --"}),l.map(c=>p.jsx("option",{value:c,children:c},c))]}),i&&p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Target column inherited from upstream split."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Model Type"}),p.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.modelType,onChange:c=>t({...e,modelType:c.target.value}),children:[p.jsx("option",{value:"random_forest",children:"Random Forest"}),p.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),p.jsx("option",{value:"xgboost",children:"XGBoost"})]})]}),e.modelType==="random_forest"&&p.jsxs("div",{className:"space-y-2 border-t pt-2",children:[p.jsx("h4",{className:"text-xs font-semibold text-muted-foreground",children:"Hyperparameters"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs mb-1",children:"N Estimators"}),p.jsx("input",{type:"number",className:"w-full p-1 border rounded text-sm",value:e.hyperparameters.n_estimators||100,onChange:c=>t({...e,hyperparameters:{...e.hyperparameters,n_estimators:parseInt(c.target.value)}})})]})]})]})},j4={type:"train_model_draft",label:"Model Training",category:"Modeling",description:"Train a machine learning model.",icon:Jy,inputs:[{id:"train",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:M4,validate:e=>e.targetColumn?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({targetColumn:"",modelType:"random_forest",hyperparameters:{n_estimators:100}})},P4=({config:e,onChange:t})=>{const n=["train","validation","test"],r=["accuracy","precision","recall","f1","roc_auc","mse","rmse","r2"],s=o=>{const a=e.splits.includes(o)?e.splits.filter(l=>l!==o):[...e.splits,o];t({...e,splits:a})},i=o=>{const a=e.metrics.includes(o)?e.metrics.filter(l=>l!==o):[...e.metrics,o];t({...e,metrics:a})};return p.jsxs("div",{className:"p-4 space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Evaluation Splits"}),p.jsx("div",{className:"space-y-2",children:n.map(o=>p.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:e.splits.includes(o),onChange:()=>s(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),p.jsxs("span",{className:"capitalize",children:[o," Set"]})]},o))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metrics to Track"}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.map(o=>p.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:e.metrics.includes(o),onChange:()=>i(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),p.jsx("span",{className:"uppercase",children:o.replace("_"," ")})]},o))})]})]})},R4={type:"model_evaluation",label:"Model Evaluation",category:"Evaluation",description:"Evaluate model performance on specific splits.",icon:z2,inputs:[{id:"model",label:"Trained Model",type:"model"}],outputs:[{id:"report",label:"Evaluation Report",type:"report"}],settings:P4,validate:e=>({isValid:e.splits.length>0,message:e.splits.length===0?"Select at least one split to evaluate":void 0}),getDefaultConfig:()=>({splits:["validation"],metrics:["accuracy","f1"]})},I4=({config:e,onChange:t,nodeId:n})=>{var a;const s=(a=nn(n||"").find(l=>l.datasetId))==null?void 0:a.datasetId,{data:i}=En(s),o=i?Object.values(i.columns).map(l=>l.name):[];return p.jsxs("div",{className:"p-4 space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),p.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:l=>t({...e,method:l.target.value}),children:[p.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),p.jsx("option",{value:"select_k_best",children:"Select K Best"}),p.jsx("option",{value:"select_percentile",children:"Select Percentile"}),p.jsx("option",{value:"select_from_model",children:"Select From Model"}),p.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]}),e.method==="variance_threshold"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),p.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:l=>t({...e,threshold:parseFloat(l.target.value)})}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="select_k_best"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),p.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:l=>t({...e,k:parseInt(l.target.value)})})]}),e.method==="select_percentile"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),p.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:l=>t({...e,percentile:parseInt(l.target.value)})})]}),(e.method==="select_from_model"||e.method==="rfe")&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),p.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"RandomForest",onChange:l=>t({...e,estimator:l.target.value}),children:[p.jsx("option",{value:"RandomForest",children:"Random Forest"}),p.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),p.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method!=="variance_threshold"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),p.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:l=>t({...e,target_column:l.target.value}),children:[p.jsx("option",{value:"",children:"Select Target..."}),o.map(l=>p.jsx("option",{value:l,children:l},l))]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]})]})},D4={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:Q2,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:I4,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},A4=({config:e,onChange:t,nodeId:n})=>{var m,w;const r=nn(n||""),s=(m=r.find(S=>S.datasetId))==null?void 0:m.datasetId,i=(w=r.find(S=>S.target_column))==null?void 0:w.target_column;At.useEffect(()=>{const S={};s&&e.datasetId!==s&&(S.datasetId=s),i&&e.target_column!==i&&(S.target_column=i),Object.keys(S).length>0&&t({...e,...S})},[s,i,e.datasetId,e.target_column,t]);const{data:o,isLoading:a}=En(s||e.datasetId),l=o?Object.values(o.columns).map(S=>S.name):[],u=e.validation_size||0,d=1-e.test_size-u,c=At.useRef(null),[f,v]=At.useState(!1);return At.useEffect(()=>{if(!c.current)return;const S=new ResizeObserver(g=>{for(const y of g)v(y.contentRect.width>450)});return S.observe(c.current),()=>S.disconnect()},[]),p.jsxs("div",{ref:c,className:`flex flex-col h-full w-full bg-background ${f?"overflow-hidden":"overflow-y-auto"}`,children:[p.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!s&&!e.datasetId&&p.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),a&&p.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),p.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${f?"grid grid-cols-2":"flex flex-col"}`,children:[p.jsxs("div",{className:`space-y-4 ${f?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),p.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:S=>t({...e,test_size:parseFloat(S.target.value)})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),p.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:u,onChange:S=>t({...e,validation_size:parseFloat(S.target.value)})}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(d*100),"% Training, ",Math.round(u*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),d<=0&&p.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Random State"}),p.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:S=>t({...e,random_state:parseInt(S.target.value)})})]})]}),p.jsxs("div",{className:`space-y-4 ${f?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:S=>t({...e,shuffle:S.target.checked})}),p.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:S=>t({...e,stratify:S.target.checked})}),p.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),p.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[p.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),p.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:S=>t({...e,target_column:S.target.value}),disabled:!e.stratify,children:[p.jsx("option",{value:"",children:"-- Select Target --"}),l.map(S=>p.jsx("option",{value:S,children:S},S))]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},L4={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:e0,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:A4,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},O4=({config:e,onChange:t,nodeId:n})=>{var a;const s=(a=nn(n||"").find(l=>l.datasetId))==null?void 0:a.datasetId;At.useEffect(()=>{s&&e.datasetId!==s&&t({...e,datasetId:s})},[s,e.datasetId,t]);const{data:i}=En(s||e.datasetId),o=i?Object.values(i.columns).map(l=>l.name):[];return p.jsx("div",{className:"p-4 space-y-4",children:p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),p.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:l=>t({...e,target_column:l.target.value}),children:[p.jsx("option",{value:"",children:"-- Select Target --"}),o.map(l=>p.jsx("option",{value:l,children:l},l))]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},z4={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:e0,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:O4,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},F4=()=>{const e=Oe.getAll(),t=it(a=>a.addNode),[n,r]=D.useState(""),s=(a,l)=>{a.dataTransfer.setData("application/reactflow",l),a.dataTransfer.effectAllowed="move"},i=e.filter(a=>a.label.toLowerCase().includes(n.toLowerCase())||a.category.toLowerCase().includes(n.toLowerCase())),o=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return p.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10",children:[p.jsxs("div",{className:"p-4 border-b space-y-3",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),p.jsxs("div",{className:"relative",children:[p.jsx(iE,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),p.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:n,onChange:a=>r(a.target.value)})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:o.map(a=>{const l=i.filter(u=>u.category===a);return l.length===0?null:p.jsxs("div",{children:[p.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:a}),p.jsx("div",{className:"space-y-2",children:l.map(u=>p.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:d=>s(d,u.type),onClick:()=>t(u.type,{x:100,y:100}),children:[p.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:u.icon&&p.jsx(u.icon,{className:"w-4 h-4 text-primary"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"text-sm font-medium truncate",children:u.label}),p.jsx("div",{className:"text-xs text-muted-foreground truncate",children:u.description})]})]},u.type))})]},a)})})]})};function $4(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const{useRef:H4}=At;function B4(e){const t=H4();return n=>{const r=e(n);return $4(t.current,r)?t.current:t.current=r}}const V4=D.memo(({id:e,data:t,selected:n})=>{const r=t.definitionType,s=Oe.get(r),{deleteElements:i}=Qs(),o=a=>{a.stopPropagation(),i({nodes:[{id:e}]})};return s?p.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${n?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[p.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[p.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:s.icon&&p.jsx(s.icon,{className:"w-4 h-4 text-primary"})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-bold",children:s.label}),p.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:s.category})]}),p.jsx("button",{onClick:o,className:"absolute right-2 top-2 p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100",title:"Remove Node",children:p.jsx(qa,{size:14})})]}),p.jsx("div",{className:"p-3",children:s.component?p.jsx(s.component,{data:t}):p.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),s.inputs.map((a,l)=>p.jsx($s,{type:"target",position:G.Left,id:a.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(l+1)*100/(s.inputs.length+1)}%`},children:p.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:a.label})},`input-${a.id}`)),s.outputs.map((a,l)=>p.jsx($s,{type:"source",position:G.Right,id:a.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(l+1)*100/(s.outputs.length+1)}%`},children:p.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:a.label})},`output-${a.id}`))]}):p.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[p.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[p.jsx(V2,{size:16}),p.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),p.jsxs("div",{className:"text-xs mt-1",children:["Type: ",r]})]})}),U4=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:s,sourcePosition:i,targetPosition:o,style:a={},markerEnd:l})=>{const{deleteElements:u}=Qs(),[d,c,f]=sl({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:s,targetPosition:o,borderRadius:24}),v=m=>{m.stopPropagation(),u({edges:[{id:e}]})};return p.jsxs(p.Fragment,{children:[p.jsx(Hs,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),p.jsx(Hs,{path:d,markerEnd:l,style:{...a,strokeWidth:2},className:"react-flow__edge-path"}),p.jsx(uM,{children:p.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${c}px,${f}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:p.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:v,title:"Remove Connection",children:p.jsx(qa,{size:10})})})})]})},W4={custom:V4},Q4={custom:U4},q4=()=>{const e=D.useRef(null),{screenToFlowPosition:t}=Qs(),{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,addNode:a}=it(B4(d=>({nodes:d.nodes,edges:d.edges,onNodesChange:d.onNodesChange,onEdgesChange:d.onEdgesChange,onConnect:d.onConnect,addNode:d.addNode}))),l=D.useCallback(d=>{d.preventDefault(),d.dataTransfer.dropEffect="move"},[]),u=D.useCallback(d=>{d.preventDefault();const c=d.dataTransfer.getData("application/reactflow");if(typeof c>"u"||!c)return;const f=t({x:d.clientX,y:d.clientY});a(c,f)},[t,a]);return p.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:p.jsxs(aM,{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,nodeTypes:W4,onDragOver:l,onDrop:u,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:Q4,deleteKeyCode:["Backspace","Delete"],children:[p.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"edge-gradient",children:[p.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),p.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),p.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),p.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),p.jsx(pM,{}),p.jsx(SM,{position:"top-left"})]})})},X4=()=>p.jsx(qv,{children:p.jsx(q4,{})}),Y4=()=>{const e=it(c=>c.nodes),t=it(c=>c.updateNodeData),n=it(c=>c.onNodesChange),[r,s]=D.useState(!1),i=e.find(c=>c.selected);if(!i)return p.jsxs("aside",{className:"w-80 border-l bg-background p-8 flex flex-col items-center justify-center text-muted-foreground text-center shrink-0",children:[p.jsx("div",{className:"p-4 bg-muted/50 rounded-full mb-4",children:p.jsx(oE,{className:"w-8 h-8 opacity-50"})}),p.jsx("h3",{className:"font-medium mb-1",children:"No Node Selected"}),p.jsx("p",{className:"text-sm",children:"Select a node on the canvas to configure its properties."})]});const o=()=>{n([{id:i.id,type:"select",selected:!1}])},a=()=>{s(!r)},l=i.data.definitionType,u=Oe.get(l);if(!u)return p.jsx("aside",{className:"w-80 border-l bg-background p-4 shrink-0",children:p.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[p.jsx(qa,{className:"w-4 h-4"}),"Error: Node definition '",l,"' not found."]})});const d=u.settings;return p.jsxs("aside",{className:`
        border-l bg-background flex flex-col h-full shadow-xl z-20 transition-all duration-300 ease-in-out
        ${r?"absolute right-0 top-0 bottom-0 w-[calc(100%-16rem)]":"w-80 shrink-0"}
      `,children:[p.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/10",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-primary/10 rounded-md",children:u.icon&&p.jsx(u.icon,{className:"w-4 h-4 text-primary"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"font-semibold text-sm",children:u.label}),p.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:u.category})]})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:a,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:r?"Collapse":"Expand",children:r?p.jsx(Z2,{className:"w-4 h-4"}):p.jsx(G2,{className:"w-4 h-4"})}),p.jsx("button",{onClick:o,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Close",children:p.jsx(qa,{className:"w-4 h-4"})})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:d?p.jsx(d,{config:i.data,onChange:c=>t(i.id,c),nodeId:i.id}):p.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground italic",children:"No configuration options available for this node."})}),p.jsxs("div",{className:"p-3 border-t bg-muted/5 text-[10px] text-muted-foreground font-mono flex justify-between",children:[p.jsxs("span",{children:["ID: ",i.id]}),p.jsx("span",{children:"v1.0"})]})]})},K4=()=>{const e=it(y=>y.nodes),t=it(y=>y.edges),n=it(y=>y.setExecutionResult),r=it(y=>y.setGraph),[s,i]=D.useState(!1),[o,a]=D.useState(!1),[l,u]=D.useState(!1),[d,c]=D.useState(!1),f=()=>({nodes:e.map(y=>({id:y.id,type:y.type,position:y.position,data:{...y.data,catalogType:y.data.catalogType||y.data.definitionType}})),edges:t.map(y=>({id:y.id,source:y.source,target:y.target,sourceHandle:y.sourceHandle,targetHandle:y.targetHandle,type:y.type,data:y.data}))}),v=y=>{const h=[],x=new Set,E=[],k=e.find(_=>_.data.definitionType==="dataset_node");for(k&&E.push(k.id);E.length>0;){const _=E.shift();if(x.has(_))continue;x.add(_);const C=e.find(N=>N.id===_);if(!C)continue;let j="unknown",I={};const A=t.filter(N=>N.target===_).map(N=>N.source);if(C.data.definitionType==="dataset_node")j="data_loader",I={dataset_id:C.data.datasetId};else if(C.data.definitionType==="simple_imputer")j="SimpleImputer",I=C.data||{};else if(C.data.definitionType==="drop_missing_columns")j="DropMissingColumns",I={columns:C.data.columns||[],missing_threshold:C.data.missing_threshold};else if(C.data.definitionType==="scale_numeric_features"){const N=C.data||{},L=N.method||"standard";L==="minmax"?j="MinMaxScaler":L==="maxabs"?j="MaxAbsScaler":L==="robust"?j="RobustScaler":j="StandardScaler",I=N}else if(C.data.definitionType==="one_hot_encoding")j="OneHotEncoder",I=C.data||{};else if(C.data.definitionType==="label_encoding")j="LabelEncoder",I=C.data||{};else if(C.data.definitionType==="TrainTestSplitter")j="TrainTestSplitter",I=C.data||{};else if(C.data.definitionType==="feature_target_split")j="feature_target_split",I=C.data||{};else if(C.data.definitionType==="train_model_draft"){j="model_training";let N=C.data.modelType;N==="random_forest"&&(N="random_forest_classifier"),I={target_column:C.data.targetColumn,algorithm:N,hyperparameters:C.data.hyperparameters}}else throw console.error(`Unknown node type: ${C.data.definitionType}`),new Error(`Unknown node type: ${C.data.definitionType}. Pipeline execution stopped.`);h.push({node_id:C.id,step_type:j,params:I,inputs:A}),t.filter(N=>N.source===_).forEach(N=>E.push(N.target))}return{pipeline_id:`preview_${Date.now()}`,nodes:h,metadata:{dataset_source_id:y}}},m=async()=>{const y=e.find(x=>x.data.definitionType==="dataset_node"),h=y==null?void 0:y.data.datasetId;if(!h){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}a(!0);try{await vm(h,{name:"My Pipeline",description:"Saved from V2 Canvas",graph:f()}),alert("Pipeline saved successfully!")}catch(x){console.error("Save failed:",x),alert("Failed to save pipeline.")}finally{a(!1)}},w=async()=>{const y=e.find(x=>x.data.definitionType==="dataset_node"),h=y==null?void 0:y.data.datasetId;if(!h){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){u(!0);try{const x=await m4(h);x&&x.graph?(r(x.graph.nodes,x.graph.edges),alert("Pipeline loaded successfully!")):alert("No saved pipeline found for this dataset.")}catch(x){console.error("Load failed:",x),alert("Failed to load pipeline.")}finally{u(!1)}}},S=async()=>{const y=e.find(x=>x.data.definitionType==="dataset_node"),h=y==null?void 0:y.data.datasetId;if(!h){alert("No dataset node found!");return}i(!0),n(null);try{const x=v(h),E=await h4(x);n(E)}catch(x){console.error("Pipeline failed:",x),alert("Pipeline execution failed. Check console for details.")}finally{i(!1)}},g=async()=>{const y=e.find(E=>E.data.definitionType==="dataset_node"),h=y==null?void 0:y.data.datasetId,x=e.find(E=>E.data.definitionType==="train_model_draft");if(!h){alert("No dataset node found!");return}if(!x){alert('No training node found! Add a "Model Training" node to train a model.');return}c(!0);try{const E=await vm(h,{name:"Training Pipeline",description:"Auto-saved before training",graph:f()});await g4({dataset_source_id:h,pipeline_id:E.id.toString(),node_id:x.id,model_types:[x.data.modelType],hyperparameters:x.data.hyperparameters,graph:f(),run_training:!0}),alert("Training job submitted successfully! Check the jobs dashboard.")}catch(E){console.error("Training failed:",E),alert("Failed to submit training job.")}finally{c(!1)}};return p.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[p.jsxs("button",{onClick:w,disabled:l||s||d,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[l?p.jsx(Wo,{className:"w-4 h-4 animate-spin"}):p.jsx(q2,{className:"w-4 h-4"}),p.jsx("span",{className:"text-sm font-medium",children:l?"Loading...":"Load"})]}),p.jsxs("button",{onClick:m,disabled:o||s||d,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[o?p.jsx(Wo,{className:"w-4 h-4 animate-spin"}):p.jsx(rE,{className:"w-4 h-4"}),p.jsx("span",{className:"text-sm font-medium",children:o?"Saving...":"Save"})]}),p.jsxs("button",{onClick:S,disabled:s||d,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[s?p.jsx(Wo,{className:"w-4 h-4 animate-spin"}):p.jsx(nE,{className:"w-4 h-4"}),p.jsx("span",{className:"text-sm font-medium",children:s?"Running...":"Run Preview"})]}),p.jsxs("button",{onClick:g,disabled:s||d,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md shadow-sm hover:bg-green-700 transition-colors disabled:opacity-50",children:[d?p.jsx(Wo,{className:"w-4 h-4 animate-spin"}):p.jsx(Jy,{className:"w-4 h-4"}),p.jsx("span",{className:"text-sm font-medium",children:d?"Submitting...":"Train Model"})]})]})},G4=()=>{const e=it(f=>f.executionResult),[t,n]=D.useState(!0),[r,s]=D.useState(null),i=D.useMemo(()=>e!=null&&e.preview_data?Array.isArray(e.preview_data)?{Result:e.preview_data}:typeof e.preview_data=="object"?e.preview_data:{}:{},[e]),o=Object.keys(i);if(At.useEffect(()=>{o.length>0&&(!r||!o.includes(r))&&(o.includes("train")?s("train"):o.includes("X")?s("X"):s(o[0]))},[o,r]),!e)return null;const a=r&&i[r]?i[r]:[],l=a.length>0?Object.keys(a[0]):[],u=e.node_results?Object.keys(e.node_results):[],d=Object.keys(e.node_results||{}).find(f=>e.node_results[f].status==="failed"),c=d?e.node_results[d].error:null;return p.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[p.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>n(!t),children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(lE,{className:"w-4 h-4 text-primary"}),p.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),p.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[a.length," rows shown"]}),e.status==="failed"&&p.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),p.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?p.jsx(H2,{className:"w-4 h-4"}):p.jsx(B2,{className:"w-4 h-4"})})]}),t&&p.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&p.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[p.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),p.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:c||"Unknown error occurred during execution."})]}),o.length>1&&p.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[p.jsx(Y2,{className:"w-3 h-3 text-muted-foreground mr-1"}),o.map(f=>p.jsx("button",{onClick:()=>s(f),className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${r===f?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:f},f))]}),u.length>0&&e.status!=="failed"&&p.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:u.map((f,v)=>p.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:f},v))}),p.jsxs("div",{className:"flex-1 overflow-auto",children:[p.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[p.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:p.jsx("tr",{children:l.map(f=>p.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:f},f))})}),p.jsx("tbody",{children:a.map((f,v)=>p.jsx("tr",{className:"border-b hover:bg-muted/10",children:l.map(m=>p.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:f[m]!==null?String(f[m]):p.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${v}-${m}`))},v))})]}),a.length===0&&p.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",r?`for ${r}`:""]})]})]})]})},Z4=()=>{const[e,t]=D.useState(!1);D.useEffect(()=>{document.documentElement.classList.contains("dark")?t(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),t(!0))},[]);const n=()=>{const r=!e;t(r),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return p.jsxs("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-between shrink-0",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:p.jsx(tE,{className:"w-5 h-5 text-primary"})}),p.jsx("h1",{className:"font-bold text-lg tracking-tight bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"Skyulf ML Canvas"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("a",{href:"/ml-workflow-v1",className:"text-sm text-muted-foreground hover:text-primary transition-colors mr-2",target:"_blank",rel:"noopener noreferrer",children:"Switch to Legacy V1"}),p.jsx("button",{onClick:n,className:"p-2 hover:bg-accent rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Toggle Theme",children:e?p.jsx(J2,{className:"w-5 h-5"}):p.jsx(aE,{className:"w-5 h-5"})})]})]})},J4=()=>p.jsxs("div",{className:"flex h-screen w-full bg-background overflow-hidden flex-col",children:[p.jsx(Z4,{}),p.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[p.jsx(F4,{}),p.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[p.jsx(K4,{}),p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(X4,{}),p.jsx(G4,{})]})]}),p.jsx(Y4,{})]})]});Oe.register(dE);Oe.register(pE);Oe.register(w4);Oe.register(E4);Oe.register(_4);Oe.register(C4);Oe.register(T4);Oe.register(D4);Oe.register(L4);Oe.register(z4);Oe.register(j4);Oe.register(R4);function eP(){const e=it(t=>t.addNode);return D.useEffect(()=>{const n=new URLSearchParams(window.location.search).get("source_id");n&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:n})},100)},[]),D.useEffect(()=>{},[]),p.jsx(J4,{})}const tP=new S2;ju.createRoot(document.getElementById("root")).render(p.jsx(At.StrictMode,{children:p.jsx(k2,{client:tP,children:p.jsx(eP,{})})}));
