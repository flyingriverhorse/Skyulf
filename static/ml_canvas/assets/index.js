var j1=Object.defineProperty;var If=e=>{throw TypeError(e)};var T1=(e,t,n)=>t in e?j1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ql=(e,t,n)=>T1(e,typeof t!="symbol"?t+"":t,n),ql=(e,t,n)=>t.has(e)||If("Cannot "+n);var T=(e,t,n)=>(ql(e,t,"read from private field"),n?n.call(e):t.get(e)),ee=(e,t,n)=>t.has(e)?If("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),q=(e,t,n,r)=>(ql(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),le=(e,t,n)=>(ql(e,t,"access private method"),n);var Co=(e,t,n,r)=>({set _(s){q(e,t,s,n)},get _(){return T(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Rm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Im={exports:{}},ll={},Dm={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=Symbol.for("react.element"),M1=Symbol.for("react.portal"),P1=Symbol.for("react.fragment"),R1=Symbol.for("react.strict_mode"),I1=Symbol.for("react.profiler"),D1=Symbol.for("react.provider"),A1=Symbol.for("react.context"),L1=Symbol.for("react.forward_ref"),O1=Symbol.for("react.suspense"),z1=Symbol.for("react.memo"),F1=Symbol.for("react.lazy"),Df=Symbol.iterator;function $1(e){return e===null||typeof e!="object"?null:(e=Df&&e[Df]||e["@@iterator"],typeof e=="function"?e:null)}var Am={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lm=Object.assign,Om={};function Vs(e,t,n){this.props=e,this.context=t,this.refs=Om,this.updater=n||Am}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zm(){}zm.prototype=Vs.prototype;function id(e,t,n){this.props=e,this.context=t,this.refs=Om,this.updater=n||Am}var od=id.prototype=new zm;od.constructor=id;Lm(od,Vs.prototype);od.isPureReactComponent=!0;var Af=Array.isArray,Fm=Object.prototype.hasOwnProperty,ad={current:null},$m={key:!0,ref:!0,__self:!0,__source:!0};function Hm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Fm.call(t,r)&&!$m.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ao,type:e,key:i,ref:o,props:s,_owner:ad.current}}function H1(e,t){return{$$typeof:ao,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ld(e){return typeof e=="object"&&e!==null&&e.$$typeof===ao}function B1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lf=/\/+/g;function Xl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?B1(""+e.key):t.toString(36)}function ra(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ao:case M1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Xl(o,0):r,Af(s)?(n="",e!=null&&(n=e.replace(Lf,"$&/")+"/"),ra(s,t,n,"",function(u){return u})):s!=null&&(ld(s)&&(s=H1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Lf,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Af(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Xl(i,a);o+=ra(i,t,n,l,s)}else if(l=$1(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Xl(i,a++),o+=ra(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function jo(e,t,n){if(e==null)return e;var r=[],s=0;return ra(e,r,"","",function(i){return t.call(n,i,s++)}),r}function V1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},sa={transition:null},U1={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:sa,ReactCurrentOwner:ad};function Bm(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:jo,forEach:function(e,t,n){jo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jo(e,function(){t++}),t},toArray:function(e){return jo(e,function(t){return t})||[]},only:function(e){if(!ld(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Vs;ae.Fragment=P1;ae.Profiler=I1;ae.PureComponent=id;ae.StrictMode=R1;ae.Suspense=O1;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U1;ae.act=Bm;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Lm({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ad.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Fm.call(t,l)&&!$m.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ao,type:e.type,key:s,ref:i,props:r,_owner:o}};ae.createContext=function(e){return e={$$typeof:A1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:D1,_context:e},e.Consumer=e};ae.createElement=Hm;ae.createFactory=function(e){var t=Hm.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:L1,render:e}};ae.isValidElement=ld;ae.lazy=function(e){return{$$typeof:F1,_payload:{_status:-1,_result:e},_init:V1}};ae.memo=function(e,t){return{$$typeof:z1,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=sa.transition;sa.transition={};try{e()}finally{sa.transition=t}};ae.unstable_act=Bm;ae.useCallback=function(e,t){return Je.current.useCallback(e,t)};ae.useContext=function(e){return Je.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};ae.useEffect=function(e,t){return Je.current.useEffect(e,t)};ae.useId=function(){return Je.current.useId()};ae.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return Je.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};ae.useRef=function(e){return Je.current.useRef(e)};ae.useState=function(e){return Je.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return Je.current.useTransition()};ae.version="18.3.1";Dm.exports=ae;var I=Dm.exports;const Ot=Rm(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1=I,Q1=Symbol.for("react.element"),q1=Symbol.for("react.fragment"),X1=Object.prototype.hasOwnProperty,K1=W1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y1={key:!0,ref:!0,__self:!0,__source:!0};function Vm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)X1.call(t,r)&&!Y1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Q1,type:e,key:i,ref:o,props:s,_owner:K1.current}}ll.Fragment=q1;ll.jsx=Vm;ll.jsxs=Vm;Im.exports=ll;var c=Im.exports,Iu={},Um={exports:{}},xt={},Wm={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,j){var O=C.length;C.push(j);e:for(;0<O;){var $=O-1>>>1,H=C[$];if(0<s(H,j))C[$]=j,C[O]=H,O=$;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var j=C[0],O=C.pop();if(O!==j){C[0]=O;e:for(var $=0,H=C.length,Q=H>>>1;$<Q;){var U=2*($+1)-1,K=C[U],Y=U+1,Z=C[Y];if(0>s(K,O))Y<H&&0>s(Z,K)?(C[$]=Z,C[Y]=O,$=Y):(C[$]=K,C[U]=O,$=U);else if(Y<H&&0>s(Z,O))C[$]=Z,C[Y]=O,$=Y;else break e}}return j}function s(C,j){var O=C.sortIndex-j.sortIndex;return O!==0?O:C.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,h=3,v=!1,x=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=C)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function y(C){if(w=!1,p(C),!x)if(n(l)!==null)x=!0,P(b);else{var j=n(u);j!==null&&z(y,j.startTime-C)}}function b(C,j){x=!1,w&&(w=!1,m(k),k=-1),v=!0;var O=h;try{for(p(j),d=n(l);d!==null&&(!(d.expirationTime>j)||C&&!R());){var $=d.callback;if(typeof $=="function"){d.callback=null,h=d.priorityLevel;var H=$(d.expirationTime<=j);j=e.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),p(j)}else r(l);d=n(l)}if(d!==null)var Q=!0;else{var U=n(u);U!==null&&z(y,U.startTime-j),Q=!1}return Q}finally{d=null,h=O,v=!1}}var N=!1,_=null,k=-1,M=5,D=-1;function R(){return!(e.unstable_now()-D<M)}function A(){if(_!==null){var C=e.unstable_now();D=C;var j=!0;try{j=_(!0,C)}finally{j?B():(N=!1,_=null)}}else N=!1}var B;if(typeof g=="function")B=function(){g(A)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,L=E.port2;E.port1.onmessage=A,B=function(){L.postMessage(null)}}else B=function(){S(A,0)};function P(C){_=C,N||(N=!0,B())}function z(C,j){k=S(function(){C(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,P(b))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var O=h;h=j;try{return C()}finally{h=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,j){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var O=h;h=C;try{return j()}finally{h=O}},e.unstable_scheduleCallback=function(C,j,O){var $=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?$+O:$):O=$,C){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=O+H,C={id:f++,callback:j,priorityLevel:C,startTime:O,expirationTime:H,sortIndex:-1},O>$?(C.sortIndex=O,t(u,C),n(l)===null&&C===n(u)&&(w?(m(k),k=-1):w=!0,z(y,O-$))):(C.sortIndex=H,t(l,C),x||v||(x=!0,P(b))),C},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(C){var j=h;return function(){var O=h;h=j;try{return C.apply(this,arguments)}finally{h=O}}}})(Qm);Wm.exports=Qm;var G1=Wm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1=I,gt=G1;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qm=new Set,ji={};function $r(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(ji[e]=t,e=0;e<t.length;e++)qm.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Du=Object.prototype.hasOwnProperty,J1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Of={},zf={};function ew(e){return Du.call(zf,e)?!0:Du.call(Of,e)?!1:J1.test(e)?zf[e]=!0:(Of[e]=!0,!1)}function tw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nw(e,t,n,r){if(t===null||typeof t>"u"||tw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var ud=/[\-:]([a-z])/g;function cd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ud,cd);Be[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ud,cd);Be[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ud,cd);Be[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function dd(e,t,n,r){var s=Be.hasOwnProperty(t)?Be[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nw(t,n,s,r)&&(n=null),r||s===null?ew(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Sn=Z1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,To=Symbol.for("react.element"),Wr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),fd=Symbol.for("react.strict_mode"),Au=Symbol.for("react.profiler"),Xm=Symbol.for("react.provider"),Km=Symbol.for("react.context"),hd=Symbol.for("react.forward_ref"),Lu=Symbol.for("react.suspense"),Ou=Symbol.for("react.suspense_list"),pd=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),Ym=Symbol.for("react.offscreen"),Ff=Symbol.iterator;function Js(e){return e===null||typeof e!="object"?null:(e=Ff&&e[Ff]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,Kl;function ci(e){if(Kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Kl=t&&t[1]||""}return`
`+Kl+e}var Yl=!1;function Gl(e,t){if(!e||Yl)return"";Yl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ci(e):""}function rw(e){switch(e.tag){case 5:return ci(e.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 2:case 15:return e=Gl(e.type,!1),e;case 11:return e=Gl(e.type.render,!1),e;case 1:return e=Gl(e.type,!0),e;default:return""}}function zu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qr:return"Fragment";case Wr:return"Portal";case Au:return"Profiler";case fd:return"StrictMode";case Lu:return"Suspense";case Ou:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Km:return(e.displayName||"Context")+".Consumer";case Xm:return(e._context.displayName||"Context")+".Provider";case hd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pd:return t=e.displayName||null,t!==null?t:zu(e.type)||"Memo";case jn:t=e._payload,e=e._init;try{return zu(e(t))}catch{}}return null}function sw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zu(t);case 8:return t===fd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iw(e){var t=Gm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mo(e){e._valueTracker||(e._valueTracker=iw(e))}function Zm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Gm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Na(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fu(e,t){var n=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $f(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jm(e,t){t=t.checked,t!=null&&dd(e,"checked",t,!1)}function $u(e,t){Jm(e,t);var n=Jn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hu(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hu(e,t,n){(t!=="number"||Na(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var di=Array.isArray;function is(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Bu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(di(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jn(n)}}function eg(e,t){var n=Jn(t.value),r=Jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Po,ng=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Po=Po||document.createElement("div"),Po.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Po.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ti(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ow=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(e){ow.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yi[t]=yi[e]})});function rg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yi.hasOwnProperty(e)&&yi[e]?(""+t).trim():t+"px"}function sg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=rg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var aw=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uu(e,t){if(t){if(aw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Wu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=null;function md(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qu=null,os=null,as=null;function Uf(e){if(e=co(e)){if(typeof qu!="function")throw Error(V(280));var t=e.stateNode;t&&(t=hl(t),qu(e.stateNode,e.type,t))}}function ig(e){os?as?as.push(e):as=[e]:os=e}function og(){if(os){var e=os,t=as;if(as=os=null,Uf(e),t)for(e=0;e<t.length;e++)Uf(t[e])}}function ag(e,t){return e(t)}function lg(){}var Zl=!1;function ug(e,t,n){if(Zl)return e(t,n);Zl=!0;try{return ag(e,t,n)}finally{Zl=!1,(os!==null||as!==null)&&(lg(),og())}}function Mi(e,t){var n=e.stateNode;if(n===null)return null;var r=hl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Xu=!1;if(gn)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){Xu=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{Xu=!1}function lw(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var xi=!1,_a=null,ka=!1,Ku=null,uw={onError:function(e){xi=!0,_a=e}};function cw(e,t,n,r,s,i,o,a,l){xi=!1,_a=null,lw.apply(uw,arguments)}function dw(e,t,n,r,s,i,o,a,l){if(cw.apply(this,arguments),xi){if(xi){var u=_a;xi=!1,_a=null}else throw Error(V(198));ka||(ka=!0,Ku=u)}}function Hr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wf(e){if(Hr(e)!==e)throw Error(V(188))}function fw(e){var t=e.alternate;if(!t){if(t=Hr(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Wf(s),e;if(i===r)return Wf(s),t;i=i.sibling}throw Error(V(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function dg(e){return e=fw(e),e!==null?fg(e):null}function fg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fg(e);if(t!==null)return t;e=e.sibling}return null}var hg=gt.unstable_scheduleCallback,Qf=gt.unstable_cancelCallback,hw=gt.unstable_shouldYield,pw=gt.unstable_requestPaint,Me=gt.unstable_now,mw=gt.unstable_getCurrentPriorityLevel,gd=gt.unstable_ImmediatePriority,pg=gt.unstable_UserBlockingPriority,Ea=gt.unstable_NormalPriority,gw=gt.unstable_LowPriority,mg=gt.unstable_IdlePriority,ul=null,Jt=null;function yw(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ul,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:ww,xw=Math.log,vw=Math.LN2;function ww(e){return e>>>=0,e===0?32:31-(xw(e)/vw|0)|0}var Ro=64,Io=4194304;function fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ca(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=fi(a):(i&=o,i!==0&&(r=fi(i)))}else o=n&~s,o!==0?r=fi(o):i!==0&&(r=fi(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),s=1<<n,r|=e[n],t&=~s;return r}function Sw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-$t(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Sw(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Yu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gg(){var e=Ro;return Ro<<=1,!(Ro&4194240)&&(Ro=64),e}function Jl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function Nw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-$t(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function yd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var me=0;function yg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xg,xd,vg,wg,Sg,Gu=!1,Do=[],Vn=null,Un=null,Wn=null,Pi=new Map,Ri=new Map,Mn=[],_w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qf(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(t.pointerId)}}function ti(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=co(t),t!==null&&xd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function kw(e,t,n,r,s){switch(t){case"focusin":return Vn=ti(Vn,e,t,n,r,s),!0;case"dragenter":return Un=ti(Un,e,t,n,r,s),!0;case"mouseover":return Wn=ti(Wn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pi.set(i,ti(Pi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ri.set(i,ti(Ri.get(i)||null,e,t,n,r,s)),!0}return!1}function bg(e){var t=ur(e.target);if(t!==null){var n=Hr(t);if(n!==null){if(t=n.tag,t===13){if(t=cg(n),t!==null){e.blockedOn=t,Sg(e.priority,function(){vg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ia(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Qu=r,n.target.dispatchEvent(r),Qu=null}else return t=co(n),t!==null&&xd(t),e.blockedOn=n,!1;t.shift()}return!0}function Xf(e,t,n){ia(e)&&n.delete(t)}function Ew(){Gu=!1,Vn!==null&&ia(Vn)&&(Vn=null),Un!==null&&ia(Un)&&(Un=null),Wn!==null&&ia(Wn)&&(Wn=null),Pi.forEach(Xf),Ri.forEach(Xf)}function ni(e,t){e.blockedOn===t&&(e.blockedOn=null,Gu||(Gu=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,Ew)))}function Ii(e){function t(s){return ni(s,e)}if(0<Do.length){ni(Do[0],e);for(var n=1;n<Do.length;n++){var r=Do[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vn!==null&&ni(Vn,e),Un!==null&&ni(Un,e),Wn!==null&&ni(Wn,e),Pi.forEach(t),Ri.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)bg(n),n.blockedOn===null&&Mn.shift()}var ls=Sn.ReactCurrentBatchConfig,ja=!0;function Cw(e,t,n,r){var s=me,i=ls.transition;ls.transition=null;try{me=1,vd(e,t,n,r)}finally{me=s,ls.transition=i}}function jw(e,t,n,r){var s=me,i=ls.transition;ls.transition=null;try{me=4,vd(e,t,n,r)}finally{me=s,ls.transition=i}}function vd(e,t,n,r){if(ja){var s=Zu(e,t,n,r);if(s===null)uu(e,t,r,Ta,n),qf(e,r);else if(kw(s,e,t,n,r))r.stopPropagation();else if(qf(e,r),t&4&&-1<_w.indexOf(e)){for(;s!==null;){var i=co(s);if(i!==null&&xg(i),i=Zu(e,t,n,r),i===null&&uu(e,t,r,Ta,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else uu(e,t,r,null,n)}}var Ta=null;function Zu(e,t,n,r){if(Ta=null,e=md(r),e=ur(e),e!==null)if(t=Hr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ta=e,null}function Ng(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mw()){case gd:return 1;case pg:return 4;case Ea:case gw:return 16;case mg:return 536870912;default:return 16}default:return 16}}var Hn=null,wd=null,oa=null;function _g(){if(oa)return oa;var e,t=wd,n=t.length,r,s="value"in Hn?Hn.value:Hn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return oa=s.slice(e,1<r?1-r:void 0)}function aa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ao(){return!0}function Kf(){return!1}function vt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ao:Kf,this.isPropagationStopped=Kf,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),t}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=vt(Us),uo=Ce({},Us,{view:0,detail:0}),Tw=vt(uo),eu,tu,ri,cl=Ce({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(eu=e.screenX-ri.screenX,tu=e.screenY-ri.screenY):tu=eu=0,ri=e),eu)},movementY:function(e){return"movementY"in e?e.movementY:tu}}),Yf=vt(cl),Mw=Ce({},cl,{dataTransfer:0}),Pw=vt(Mw),Rw=Ce({},uo,{relatedTarget:0}),nu=vt(Rw),Iw=Ce({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),Dw=vt(Iw),Aw=Ce({},Us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lw=vt(Aw),Ow=Ce({},Us,{data:0}),Gf=vt(Ow),zw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$w={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$w[e])?!!t[e]:!1}function bd(){return Hw}var Bw=Ce({},uo,{key:function(e){if(e.key){var t=zw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bd,charCode:function(e){return e.type==="keypress"?aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vw=vt(Bw),Uw=Ce({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zf=vt(Uw),Ww=Ce({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bd}),Qw=vt(Ww),qw=Ce({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xw=vt(qw),Kw=Ce({},cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yw=vt(Kw),Gw=[9,13,27,32],Nd=gn&&"CompositionEvent"in window,vi=null;gn&&"documentMode"in document&&(vi=document.documentMode);var Zw=gn&&"TextEvent"in window&&!vi,kg=gn&&(!Nd||vi&&8<vi&&11>=vi),Jf=" ",eh=!1;function Eg(e,t){switch(e){case"keyup":return Gw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function Jw(e,t){switch(e){case"compositionend":return Cg(t);case"keypress":return t.which!==32?null:(eh=!0,Jf);case"textInput":return e=t.data,e===Jf&&eh?null:e;default:return null}}function e2(e,t){if(qr)return e==="compositionend"||!Nd&&Eg(e,t)?(e=_g(),oa=wd=Hn=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kg&&t.locale!=="ko"?null:t.data;default:return null}}var t2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function th(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!t2[e.type]:t==="textarea"}function jg(e,t,n,r){ig(r),t=Ma(t,"onChange"),0<t.length&&(n=new Sd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wi=null,Di=null;function n2(e){Fg(e,0)}function dl(e){var t=Yr(e);if(Zm(t))return e}function r2(e,t){if(e==="change")return t}var Tg=!1;if(gn){var ru;if(gn){var su="oninput"in document;if(!su){var nh=document.createElement("div");nh.setAttribute("oninput","return;"),su=typeof nh.oninput=="function"}ru=su}else ru=!1;Tg=ru&&(!document.documentMode||9<document.documentMode)}function rh(){wi&&(wi.detachEvent("onpropertychange",Mg),Di=wi=null)}function Mg(e){if(e.propertyName==="value"&&dl(Di)){var t=[];jg(t,Di,e,md(e)),ug(n2,t)}}function s2(e,t,n){e==="focusin"?(rh(),wi=t,Di=n,wi.attachEvent("onpropertychange",Mg)):e==="focusout"&&rh()}function i2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dl(Di)}function o2(e,t){if(e==="click")return dl(t)}function a2(e,t){if(e==="input"||e==="change")return dl(t)}function l2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:l2;function Ai(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Du.call(t,s)||!Bt(e[s],t[s]))return!1}return!0}function sh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ih(e,t){var n=sh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sh(n)}}function Pg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rg(){for(var e=window,t=Na();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Na(e.document)}return t}function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function u2(e){var t=Rg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pg(n.ownerDocument.documentElement,n)){if(r!==null&&_d(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ih(n,i);var o=ih(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var c2=gn&&"documentMode"in document&&11>=document.documentMode,Xr=null,Ju=null,Si=null,ec=!1;function oh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ec||Xr==null||Xr!==Na(r)||(r=Xr,"selectionStart"in r&&_d(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Si&&Ai(Si,r)||(Si=r,r=Ma(Ju,"onSelect"),0<r.length&&(t=new Sd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xr)))}function Lo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kr={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionend:Lo("Transition","TransitionEnd")},iu={},Ig={};gn&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function fl(e){if(iu[e])return iu[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ig)return iu[e]=t[n];return e}var Dg=fl("animationend"),Ag=fl("animationiteration"),Lg=fl("animationstart"),Og=fl("transitionend"),zg=new Map,ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){zg.set(e,t),$r(t,[e])}for(var ou=0;ou<ah.length;ou++){var au=ah[ou],d2=au.toLowerCase(),f2=au[0].toUpperCase()+au.slice(1);tr(d2,"on"+f2)}tr(Dg,"onAnimationEnd");tr(Ag,"onAnimationIteration");tr(Lg,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(Og,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h2=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function lh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dw(r,t,void 0,e),e.currentTarget=null}function Fg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;lh(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;lh(s,a,u),i=l}}}if(ka)throw e=Ku,ka=!1,Ku=null,e}function ve(e,t){var n=t[ic];n===void 0&&(n=t[ic]=new Set);var r=e+"__bubble";n.has(r)||($g(t,e,2,!1),n.add(r))}function lu(e,t,n){var r=0;t&&(r|=4),$g(n,e,r,t)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Li(e){if(!e[Oo]){e[Oo]=!0,qm.forEach(function(n){n!=="selectionchange"&&(h2.has(n)||lu(n,!1,e),lu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oo]||(t[Oo]=!0,lu("selectionchange",!1,t))}}function $g(e,t,n,r){switch(Ng(t)){case 1:var s=Cw;break;case 4:s=jw;break;default:s=vd}n=s.bind(null,t,n,e),s=void 0,!Xu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function uu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ur(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ug(function(){var u=i,f=md(n),d=[];e:{var h=zg.get(e);if(h!==void 0){var v=Sd,x=e;switch(e){case"keypress":if(aa(n)===0)break e;case"keydown":case"keyup":v=Vw;break;case"focusin":x="focus",v=nu;break;case"focusout":x="blur",v=nu;break;case"beforeblur":case"afterblur":v=nu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Pw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Qw;break;case Dg:case Ag:case Lg:v=Dw;break;case Og:v=Xw;break;case"scroll":v=Tw;break;case"wheel":v=Yw;break;case"copy":case"cut":case"paste":v=Lw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Zf}var w=(t&4)!==0,S=!w&&e==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var g=u,p;g!==null;){p=g;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,m!==null&&(y=Mi(g,m),y!=null&&w.push(Oi(g,y,p)))),S)break;g=g.return}0<w.length&&(h=new v(h,x,null,n,f),d.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Qu&&(x=n.relatedTarget||n.fromElement)&&(ur(x)||x[yn]))break e;if((v||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?ur(x):null,x!==null&&(S=Hr(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(w=Yf,y="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=Zf,y="onPointerLeave",m="onPointerEnter",g="pointer"),S=v==null?h:Yr(v),p=x==null?h:Yr(x),h=new w(y,g+"leave",v,n,f),h.target=S,h.relatedTarget=p,y=null,ur(f)===u&&(w=new w(m,g+"enter",x,n,f),w.target=p,w.relatedTarget=S,y=w),S=y,v&&x)t:{for(w=v,m=x,g=0,p=w;p;p=Vr(p))g++;for(p=0,y=m;y;y=Vr(y))p++;for(;0<g-p;)w=Vr(w),g--;for(;0<p-g;)m=Vr(m),p--;for(;g--;){if(w===m||m!==null&&w===m.alternate)break t;w=Vr(w),m=Vr(m)}w=null}else w=null;v!==null&&uh(d,h,v,w,!1),x!==null&&S!==null&&uh(d,S,x,w,!0)}}e:{if(h=u?Yr(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var b=r2;else if(th(h))if(Tg)b=a2;else{b=i2;var N=s2}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=o2);if(b&&(b=b(e,u))){jg(d,b,n,f);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Hu(h,"number",h.value)}switch(N=u?Yr(u):window,e){case"focusin":(th(N)||N.contentEditable==="true")&&(Xr=N,Ju=u,Si=null);break;case"focusout":Si=Ju=Xr=null;break;case"mousedown":ec=!0;break;case"contextmenu":case"mouseup":case"dragend":ec=!1,oh(d,n,f);break;case"selectionchange":if(c2)break;case"keydown":case"keyup":oh(d,n,f)}var _;if(Nd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qr?Eg(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(kg&&n.locale!=="ko"&&(qr||k!=="onCompositionStart"?k==="onCompositionEnd"&&qr&&(_=_g()):(Hn=f,wd="value"in Hn?Hn.value:Hn.textContent,qr=!0)),N=Ma(u,k),0<N.length&&(k=new Gf(k,e,null,n,f),d.push({event:k,listeners:N}),_?k.data=_:(_=Cg(n),_!==null&&(k.data=_)))),(_=Zw?Jw(e,n):e2(e,n))&&(u=Ma(u,"onBeforeInput"),0<u.length&&(f=new Gf("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=_))}Fg(d,t)})}function Oi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ma(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Mi(e,n),i!=null&&r.unshift(Oi(e,i,s)),i=Mi(e,t),i!=null&&r.push(Oi(e,i,s))),e=e.return}return r}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Mi(n,i),l!=null&&o.unshift(Oi(n,l,a))):s||(l=Mi(n,i),l!=null&&o.push(Oi(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var p2=/\r\n?/g,m2=/\u0000|\uFFFD/g;function ch(e){return(typeof e=="string"?e:""+e).replace(p2,`
`).replace(m2,"")}function zo(e,t,n){if(t=ch(t),ch(e)!==t&&n)throw Error(V(425))}function Pa(){}var tc=null,nc=null;function rc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sc=typeof setTimeout=="function"?setTimeout:void 0,g2=typeof clearTimeout=="function"?clearTimeout:void 0,dh=typeof Promise=="function"?Promise:void 0,y2=typeof queueMicrotask=="function"?queueMicrotask:typeof dh<"u"?function(e){return dh.resolve(null).then(e).catch(x2)}:sc;function x2(e){setTimeout(function(){throw e})}function cu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ii(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ii(t)}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Ws,zi="__reactProps$"+Ws,yn="__reactContainer$"+Ws,ic="__reactEvents$"+Ws,v2="__reactListeners$"+Ws,w2="__reactHandles$"+Ws;function ur(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fh(e);e!==null;){if(n=e[Zt])return n;e=fh(e)}return t}e=n,n=e.parentNode}return null}function co(e){return e=e[Zt]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function hl(e){return e[zi]||null}var oc=[],Gr=-1;function nr(e){return{current:e}}function we(e){0>Gr||(e.current=oc[Gr],oc[Gr]=null,Gr--)}function ye(e,t){Gr++,oc[Gr]=e.current,e.current=t}var er={},Xe=nr(er),ot=nr(!1),Tr=er;function Es(e,t){var n=e.type.contextTypes;if(!n)return er;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function at(e){return e=e.childContextTypes,e!=null}function Ra(){we(ot),we(Xe)}function hh(e,t,n){if(Xe.current!==er)throw Error(V(168));ye(Xe,t),ye(ot,n)}function Hg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(V(108,sw(e)||"Unknown",s));return Ce({},n,r)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,Tr=Xe.current,ye(Xe,e),ye(ot,ot.current),!0}function ph(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=Hg(e,t,Tr),r.__reactInternalMemoizedMergedChildContext=e,we(ot),we(Xe),ye(Xe,e)):we(ot),ye(ot,n)}var un=null,pl=!1,du=!1;function Bg(e){un===null?un=[e]:un.push(e)}function S2(e){pl=!0,Bg(e)}function rr(){if(!du&&un!==null){du=!0;var e=0,t=me;try{var n=un;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}un=null,pl=!1}catch(s){throw un!==null&&(un=un.slice(e+1)),hg(gd,rr),s}finally{me=t,du=!1}}return null}var Zr=[],Jr=0,Da=null,Aa=0,Nt=[],_t=0,Mr=null,fn=1,hn="";function ir(e,t){Zr[Jr++]=Aa,Zr[Jr++]=Da,Da=e,Aa=t}function Vg(e,t,n){Nt[_t++]=fn,Nt[_t++]=hn,Nt[_t++]=Mr,Mr=e;var r=fn;e=hn;var s=32-$t(r)-1;r&=~(1<<s),n+=1;var i=32-$t(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fn=1<<32-$t(t)+s|n<<s|r,hn=i+e}else fn=1<<i|n<<s|r,hn=e}function kd(e){e.return!==null&&(ir(e,1),Vg(e,1,0))}function Ed(e){for(;e===Da;)Da=Zr[--Jr],Zr[Jr]=null,Aa=Zr[--Jr],Zr[Jr]=null;for(;e===Mr;)Mr=Nt[--_t],Nt[_t]=null,hn=Nt[--_t],Nt[_t]=null,fn=Nt[--_t],Nt[_t]=null}var mt=null,pt=null,Se=!1,At=null;function Ug(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,pt=Qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mr!==null?{id:fn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,pt=null,!0):!1;default:return!1}}function ac(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lc(e){if(Se){var t=pt;if(t){var n=t;if(!mh(e,t)){if(ac(e))throw Error(V(418));t=Qn(n.nextSibling);var r=mt;t&&mh(e,t)?Ug(r,n):(e.flags=e.flags&-4097|2,Se=!1,mt=e)}}else{if(ac(e))throw Error(V(418));e.flags=e.flags&-4097|2,Se=!1,mt=e}}}function gh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function Fo(e){if(e!==mt)return!1;if(!Se)return gh(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rc(e.type,e.memoizedProps)),t&&(t=pt)){if(ac(e))throw Wg(),Error(V(418));for(;t;)Ug(e,t),t=Qn(t.nextSibling)}if(gh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=Qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=mt?Qn(e.stateNode.nextSibling):null;return!0}function Wg(){for(var e=pt;e;)e=Qn(e.nextSibling)}function Cs(){pt=mt=null,Se=!1}function Cd(e){At===null?At=[e]:At.push(e)}var b2=Sn.ReactCurrentBatchConfig;function si(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function $o(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yh(e){var t=e._init;return t(e._payload)}function Qg(e){function t(m,g){if(e){var p=m.deletions;p===null?(m.deletions=[g],m.flags|=16):p.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=Yn(m,g),m.index=0,m.sibling=null,m}function i(m,g,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<g?(m.flags|=2,g):p):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,p,y){return g===null||g.tag!==6?(g=xu(p,m.mode,y),g.return=m,g):(g=s(g,p),g.return=m,g)}function l(m,g,p,y){var b=p.type;return b===Qr?f(m,g,p.props.children,y,p.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===jn&&yh(b)===g.type)?(y=s(g,p.props),y.ref=si(m,g,p),y.return=m,y):(y=pa(p.type,p.key,p.props,null,m.mode,y),y.ref=si(m,g,p),y.return=m,y)}function u(m,g,p,y){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=vu(p,m.mode,y),g.return=m,g):(g=s(g,p.children||[]),g.return=m,g)}function f(m,g,p,y,b){return g===null||g.tag!==7?(g=kr(p,m.mode,y,b),g.return=m,g):(g=s(g,p),g.return=m,g)}function d(m,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=xu(""+g,m.mode,p),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case To:return p=pa(g.type,g.key,g.props,null,m.mode,p),p.ref=si(m,null,g),p.return=m,p;case Wr:return g=vu(g,m.mode,p),g.return=m,g;case jn:var y=g._init;return d(m,y(g._payload),p)}if(di(g)||Js(g))return g=kr(g,m.mode,p,null),g.return=m,g;$o(m,g)}return null}function h(m,g,p,y){var b=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:a(m,g,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case To:return p.key===b?l(m,g,p,y):null;case Wr:return p.key===b?u(m,g,p,y):null;case jn:return b=p._init,h(m,g,b(p._payload),y)}if(di(p)||Js(p))return b!==null?null:f(m,g,p,y,null);$o(m,p)}return null}function v(m,g,p,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(p)||null,a(g,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case To:return m=m.get(y.key===null?p:y.key)||null,l(g,m,y,b);case Wr:return m=m.get(y.key===null?p:y.key)||null,u(g,m,y,b);case jn:var N=y._init;return v(m,g,p,N(y._payload),b)}if(di(y)||Js(y))return m=m.get(p)||null,f(g,m,y,b,null);$o(g,y)}return null}function x(m,g,p,y){for(var b=null,N=null,_=g,k=g=0,M=null;_!==null&&k<p.length;k++){_.index>k?(M=_,_=null):M=_.sibling;var D=h(m,_,p[k],y);if(D===null){_===null&&(_=M);break}e&&_&&D.alternate===null&&t(m,_),g=i(D,g,k),N===null?b=D:N.sibling=D,N=D,_=M}if(k===p.length)return n(m,_),Se&&ir(m,k),b;if(_===null){for(;k<p.length;k++)_=d(m,p[k],y),_!==null&&(g=i(_,g,k),N===null?b=_:N.sibling=_,N=_);return Se&&ir(m,k),b}for(_=r(m,_);k<p.length;k++)M=v(_,m,k,p[k],y),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?k:M.key),g=i(M,g,k),N===null?b=M:N.sibling=M,N=M);return e&&_.forEach(function(R){return t(m,R)}),Se&&ir(m,k),b}function w(m,g,p,y){var b=Js(p);if(typeof b!="function")throw Error(V(150));if(p=b.call(p),p==null)throw Error(V(151));for(var N=b=null,_=g,k=g=0,M=null,D=p.next();_!==null&&!D.done;k++,D=p.next()){_.index>k?(M=_,_=null):M=_.sibling;var R=h(m,_,D.value,y);if(R===null){_===null&&(_=M);break}e&&_&&R.alternate===null&&t(m,_),g=i(R,g,k),N===null?b=R:N.sibling=R,N=R,_=M}if(D.done)return n(m,_),Se&&ir(m,k),b;if(_===null){for(;!D.done;k++,D=p.next())D=d(m,D.value,y),D!==null&&(g=i(D,g,k),N===null?b=D:N.sibling=D,N=D);return Se&&ir(m,k),b}for(_=r(m,_);!D.done;k++,D=p.next())D=v(_,m,k,D.value,y),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?k:D.key),g=i(D,g,k),N===null?b=D:N.sibling=D,N=D);return e&&_.forEach(function(A){return t(m,A)}),Se&&ir(m,k),b}function S(m,g,p,y){if(typeof p=="object"&&p!==null&&p.type===Qr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case To:e:{for(var b=p.key,N=g;N!==null;){if(N.key===b){if(b=p.type,b===Qr){if(N.tag===7){n(m,N.sibling),g=s(N,p.props.children),g.return=m,m=g;break e}}else if(N.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===jn&&yh(b)===N.type){n(m,N.sibling),g=s(N,p.props),g.ref=si(m,N,p),g.return=m,m=g;break e}n(m,N);break}else t(m,N);N=N.sibling}p.type===Qr?(g=kr(p.props.children,m.mode,y,p.key),g.return=m,m=g):(y=pa(p.type,p.key,p.props,null,m.mode,y),y.ref=si(m,g,p),y.return=m,m=y)}return o(m);case Wr:e:{for(N=p.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(m,g.sibling),g=s(g,p.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=vu(p,m.mode,y),g.return=m,m=g}return o(m);case jn:return N=p._init,S(m,g,N(p._payload),y)}if(di(p))return x(m,g,p,y);if(Js(p))return w(m,g,p,y);$o(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,p),g.return=m,m=g):(n(m,g),g=xu(p,m.mode,y),g.return=m,m=g),o(m)):n(m,g)}return S}var js=Qg(!0),qg=Qg(!1),La=nr(null),Oa=null,es=null,jd=null;function Td(){jd=es=Oa=null}function Md(e){var t=La.current;we(La),e._currentValue=t}function uc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function us(e,t){Oa=e,jd=es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(jd!==e)if(e={context:e,memoizedValue:t,next:null},es===null){if(Oa===null)throw Error(V(308));es=e,Oa.dependencies={lanes:0,firstContext:e}}else es=es.next=e;return t}var cr=null;function Pd(e){cr===null?cr=[e]:cr.push(e)}function Xg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Pd(t)):(n.next=s.next,s.next=n),t.interleaved=n,xn(e,r)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tn=!1;function Rd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xn(e,n)}return s=r.interleaved,s===null?(t.next=t,Pd(r)):(t.next=s.next,s.next=t),r.interleaved=t,xn(e,n)}function la(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yd(e,n)}}function xh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,r){var s=e.updateQueue;Tn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,f=u=l=null,a=i;do{var h=a.lane,v=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,w=a;switch(h=t,v=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){d=x.call(v,d,h);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,h=typeof x=="function"?x.call(v,d,h):x,h==null)break e;d=Ce({},d,h);break e;case 2:Tn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=v,l=d):f=f.next=v,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Rr|=o,e.lanes=o,e.memoizedState=d}}function vh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(V(191,s));s.call(r)}}}var fo={},en=nr(fo),Fi=nr(fo),$i=nr(fo);function dr(e){if(e===fo)throw Error(V(174));return e}function Id(e,t){switch(ye($i,t),ye(Fi,e),ye(en,fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vu(t,e)}we(en),ye(en,t)}function Ts(){we(en),we(Fi),we($i)}function Yg(e){dr($i.current);var t=dr(en.current),n=Vu(t,e.type);t!==n&&(ye(Fi,e),ye(en,n))}function Dd(e){Fi.current===e&&(we(en),we(Fi))}var ke=nr(0);function Fa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fu=[];function Ad(){for(var e=0;e<fu.length;e++)fu[e]._workInProgressVersionPrimary=null;fu.length=0}var ua=Sn.ReactCurrentDispatcher,hu=Sn.ReactCurrentBatchConfig,Pr=0,Ee=null,De=null,Oe=null,$a=!1,bi=!1,Hi=0,N2=0;function Ue(){throw Error(V(321))}function Ld(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function Od(e,t,n,r,s,i){if(Pr=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.current=e===null||e.memoizedState===null?C2:j2,e=n(r,s),bi){i=0;do{if(bi=!1,Hi=0,25<=i)throw Error(V(301));i+=1,Oe=De=null,t.updateQueue=null,ua.current=T2,e=n(r,s)}while(bi)}if(ua.current=Ha,t=De!==null&&De.next!==null,Pr=0,Oe=De=Ee=null,$a=!1,t)throw Error(V(300));return e}function zd(){var e=Hi!==0;return Hi=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Ee.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function jt(){if(De===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Oe===null?Ee.memoizedState:Oe.next;if(t!==null)Oe=t,De=e;else{if(e===null)throw Error(V(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Oe===null?Ee.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Bi(e,t){return typeof t=="function"?t(e):t}function pu(e){var t=jt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=De,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var f=u.lane;if((Pr&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ee.lanes|=f,Rr|=f}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Bt(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ee.lanes|=i,Rr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function mu(e){var t=jt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Bt(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gg(){}function Zg(e,t){var n=Ee,r=jt(),s=t(),i=!Bt(r.memoizedState,s);if(i&&(r.memoizedState=s,st=!0),r=r.queue,Fd(ty.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Vi(9,ey.bind(null,n,r,s,t),void 0,null),ze===null)throw Error(V(349));Pr&30||Jg(n,t,s)}return s}function Jg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ey(e,t,n,r){t.value=n,t.getSnapshot=r,ny(t)&&ry(e)}function ty(e,t,n){return n(function(){ny(t)&&ry(e)})}function ny(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function ry(e){var t=xn(e,1);t!==null&&Ht(t,e,1,-1)}function wh(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},t.queue=e,e=e.dispatch=E2.bind(null,Ee,e),[t.memoizedState,e]}function Vi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sy(){return jt().memoizedState}function ca(e,t,n,r){var s=qt();Ee.flags|=e,s.memoizedState=Vi(1|t,n,void 0,r===void 0?null:r)}function ml(e,t,n,r){var s=jt();r=r===void 0?null:r;var i=void 0;if(De!==null){var o=De.memoizedState;if(i=o.destroy,r!==null&&Ld(r,o.deps)){s.memoizedState=Vi(t,n,i,r);return}}Ee.flags|=e,s.memoizedState=Vi(1|t,n,i,r)}function Sh(e,t){return ca(8390656,8,e,t)}function Fd(e,t){return ml(2048,8,e,t)}function iy(e,t){return ml(4,2,e,t)}function oy(e,t){return ml(4,4,e,t)}function ay(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ly(e,t,n){return n=n!=null?n.concat([e]):null,ml(4,4,ay.bind(null,t,e),n)}function $d(){}function uy(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ld(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cy(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ld(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dy(e,t,n){return Pr&21?(Bt(n,t)||(n=gg(),Ee.lanes|=n,Rr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function _2(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=hu.transition;hu.transition={};try{e(!1),t()}finally{me=n,hu.transition=r}}function fy(){return jt().memoizedState}function k2(e,t,n){var r=Kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hy(e))py(t,n);else if(n=Xg(e,t,n,r),n!==null){var s=Ze();Ht(n,e,r,s),my(n,t,r)}}function E2(e,t,n){var r=Kn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hy(e))py(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Bt(a,o)){var l=t.interleaved;l===null?(s.next=s,Pd(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Xg(e,t,s,r),n!==null&&(s=Ze(),Ht(n,e,r,s),my(n,t,r))}}function hy(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function py(e,t){bi=$a=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function my(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yd(e,n)}}var Ha={readContext:Ct,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},C2={readContext:Ct,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Sh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ca(4194308,4,ay.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ca(4194308,4,e,t)},useInsertionEffect:function(e,t){return ca(4,2,e,t)},useMemo:function(e,t){var n=qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=k2.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:wh,useDebugValue:$d,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=wh(!1),t=e[0];return e=_2.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,s=qt();if(Se){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),ze===null)throw Error(V(349));Pr&30||Jg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Sh(ty.bind(null,r,i,e),[e]),r.flags|=2048,Vi(9,ey.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=qt(),t=ze.identifierPrefix;if(Se){var n=hn,r=fn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=N2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},j2={readContext:Ct,useCallback:uy,useContext:Ct,useEffect:Fd,useImperativeHandle:ly,useInsertionEffect:iy,useLayoutEffect:oy,useMemo:cy,useReducer:pu,useRef:sy,useState:function(){return pu(Bi)},useDebugValue:$d,useDeferredValue:function(e){var t=jt();return dy(t,De.memoizedState,e)},useTransition:function(){var e=pu(Bi)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Gg,useSyncExternalStore:Zg,useId:fy,unstable_isNewReconciler:!1},T2={readContext:Ct,useCallback:uy,useContext:Ct,useEffect:Fd,useImperativeHandle:ly,useInsertionEffect:iy,useLayoutEffect:oy,useMemo:cy,useReducer:mu,useRef:sy,useState:function(){return mu(Bi)},useDebugValue:$d,useDeferredValue:function(e){var t=jt();return De===null?t.memoizedState=e:dy(t,De.memoizedState,e)},useTransition:function(){var e=mu(Bi)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Gg,useSyncExternalStore:Zg,useId:fy,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function cc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gl={isMounted:function(e){return(e=e._reactInternals)?Hr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Kn(e),i=mn(r,s);i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,s),t!==null&&(Ht(t,e,s,r),la(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Kn(e),i=mn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,s),t!==null&&(Ht(t,e,s,r),la(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),r=Kn(e),s=mn(n,r);s.tag=2,t!=null&&(s.callback=t),t=qn(e,s,r),t!==null&&(Ht(t,e,r,n),la(t,e,r))}};function bh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ai(n,r)||!Ai(s,i):!0}function gy(e,t,n){var r=!1,s=er,i=t.contextType;return typeof i=="object"&&i!==null?i=Ct(i):(s=at(t)?Tr:Xe.current,r=t.contextTypes,i=(r=r!=null)?Es(e,s):er),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Nh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gl.enqueueReplaceState(t,t.state,null)}function dc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Rd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ct(i):(i=at(t)?Tr:Xe.current,s.context=Es(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(cc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&gl.enqueueReplaceState(s,s.state,null),za(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ms(e,t){try{var n="",r=t;do n+=rw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function gu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var M2=typeof WeakMap=="function"?WeakMap:Map;function yy(e,t,n){n=mn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Va||(Va=!0,bc=r),fc(e,t)},n}function xy(e,t,n){n=mn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){fc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){fc(e,t),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function _h(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new M2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=U2.bind(null,e,t,n),t.then(e,e))}function kh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Eh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mn(-1,1),t.tag=2,qn(n,t,1))),n.lanes|=1),e)}var P2=Sn.ReactCurrentOwner,st=!1;function Ge(e,t,n,r){t.child=e===null?qg(t,null,n,r):js(t,e.child,n,r)}function Ch(e,t,n,r,s){n=n.render;var i=t.ref;return us(t,s),r=Od(e,t,n,r,i,s),n=zd(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Se&&n&&kd(t),t.flags|=1,Ge(e,t,r,s),t.child)}function jh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Xd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,vy(e,t,i,r,s)):(e=pa(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ai,n(o,r)&&e.ref===t.ref)return vn(e,t,s)}return t.flags|=1,e=Yn(i,r),e.ref=t.ref,e.return=t,t.child=e}function vy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ai(i,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,vn(e,t,s)}return hc(e,t,n,r,s)}function wy(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(ns,ft),ft|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(ns,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(ns,ft),ft|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ye(ns,ft),ft|=r;return Ge(e,t,s,n),t.child}function Sy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function hc(e,t,n,r,s){var i=at(n)?Tr:Xe.current;return i=Es(t,i),us(t,s),n=Od(e,t,n,r,i,s),r=zd(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Se&&r&&kd(t),t.flags|=1,Ge(e,t,n,s),t.child)}function Th(e,t,n,r,s){if(at(n)){var i=!0;Ia(t)}else i=!1;if(us(t,s),t.stateNode===null)da(e,t),gy(t,n,r),dc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ct(u):(u=at(n)?Tr:Xe.current,u=Es(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Nh(t,o,r,u),Tn=!1;var h=t.memoizedState;o.state=h,za(t,r,o,s),l=t.memoizedState,a!==r||h!==l||ot.current||Tn?(typeof f=="function"&&(cc(t,n,f,r),l=t.memoizedState),(a=Tn||bh(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Kg(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Mt(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ct(l):(l=at(n)?Tr:Xe.current,l=Es(t,l));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Nh(t,o,r,l),Tn=!1,h=t.memoizedState,o.state=h,za(t,r,o,s);var x=t.memoizedState;a!==d||h!==x||ot.current||Tn?(typeof v=="function"&&(cc(t,n,v,r),x=t.memoizedState),(u=Tn||bh(t,n,u,r,h,x,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return pc(e,t,n,r,i,s)}function pc(e,t,n,r,s,i){Sy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&ph(t,n,!1),vn(e,t,i);r=t.stateNode,P2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=js(t,e.child,null,i),t.child=js(t,null,a,i)):Ge(e,t,a,i),t.memoizedState=r.state,s&&ph(t,n,!0),t.child}function by(e){var t=e.stateNode;t.pendingContext?hh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hh(e,t.context,!1),Id(e,t.containerInfo)}function Mh(e,t,n,r,s){return Cs(),Cd(s),t.flags|=256,Ge(e,t,n,r),t.child}var mc={dehydrated:null,treeContext:null,retryLane:0};function gc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ny(e,t,n){var r=t.pendingProps,s=ke.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(ke,s&1),e===null)return lc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vl(o,r,0,null),e=kr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=gc(n),t.memoizedState=mc,e):Hd(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return R2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Yn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Yn(a,i):(i=kr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?gc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=mc,r}return i=e.child,e=i.sibling,r=Yn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hd(e,t){return t=vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ho(e,t,n,r){return r!==null&&Cd(r),js(t,e.child,null,n),e=Hd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function R2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=gu(Error(V(422))),Ho(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=vl({mode:"visible",children:r.children},s,0,null),i=kr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&js(t,e.child,null,o),t.child.memoizedState=gc(o),t.memoizedState=mc,i);if(!(t.mode&1))return Ho(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(V(419)),r=gu(i,r,void 0),Ho(e,t,o,r)}if(a=(o&e.childLanes)!==0,st||a){if(r=ze,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xn(e,s),Ht(r,e,s,-1))}return qd(),r=gu(Error(V(421))),Ho(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=W2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,pt=Qn(s.nextSibling),mt=t,Se=!0,At=null,e!==null&&(Nt[_t++]=fn,Nt[_t++]=hn,Nt[_t++]=Mr,fn=e.id,hn=e.overflow,Mr=t),t=Hd(t,r.children),t.flags|=4096,t)}function Ph(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),uc(e.return,t,n)}function yu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function _y(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ge(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ph(e,n,t);else if(e.tag===19)Ph(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Fa(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),yu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Fa(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}yu(t,!0,n,null,i);break;case"together":yu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function da(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function I2(e,t,n){switch(t.tag){case 3:by(t),Cs();break;case 5:Yg(t);break;case 1:at(t.type)&&Ia(t);break;case 4:Id(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ye(La,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?Ny(e,t,n):(ye(ke,ke.current&1),e=vn(e,t,n),e!==null?e.sibling:null);ye(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _y(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,wy(e,t,n)}return vn(e,t,n)}var ky,yc,Ey,Cy;ky=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yc=function(){};Ey=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,dr(en.current);var i=null;switch(n){case"input":s=Fu(e,s),r=Fu(e,r),i=[];break;case"select":s=Ce({},s,{value:void 0}),r=Ce({},r,{value:void 0}),i=[];break;case"textarea":s=Bu(e,s),r=Bu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Pa)}Uu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ji.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ji.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ve("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Cy=function(e,t,n,r){n!==r&&(t.flags|=4)};function ii(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function D2(e,t,n){var r=t.pendingProps;switch(Ed(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return at(t.type)&&Ra(),We(t),null;case 3:return r=t.stateNode,Ts(),we(ot),we(Xe),Ad(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(kc(At),At=null))),yc(e,t),We(t),null;case 5:Dd(t);var s=dr($i.current);if(n=t.type,e!==null&&t.stateNode!=null)Ey(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return We(t),null}if(e=dr(en.current),Fo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Zt]=t,r[zi]=i,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<hi.length;s++)ve(hi[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":$f(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":Bf(r,i),ve("invalid",r)}Uu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&zo(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&zo(r.textContent,a,e),s=["children",""+a]):ji.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Mo(r),Hf(r,i,!0);break;case"textarea":Mo(r),Vf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Pa)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zt]=t,e[zi]=r,ky(e,t,!1,!1),t.stateNode=e;e:{switch(o=Wu(n,r),n){case"dialog":ve("cancel",e),ve("close",e),s=r;break;case"iframe":case"object":case"embed":ve("load",e),s=r;break;case"video":case"audio":for(s=0;s<hi.length;s++)ve(hi[s],e);s=r;break;case"source":ve("error",e),s=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=r;break;case"details":ve("toggle",e),s=r;break;case"input":$f(e,r),s=Fu(e,r),ve("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ce({},r,{value:void 0}),ve("invalid",e);break;case"textarea":Bf(e,r),s=Bu(e,r),ve("invalid",e);break;default:s=r}Uu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?sg(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ng(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ti(e,l):typeof l=="number"&&Ti(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ji.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ve("scroll",e):l!=null&&dd(e,i,l,o))}switch(n){case"input":Mo(e),Hf(e,r,!1);break;case"textarea":Mo(e),Vf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?is(e,!!r.multiple,i,!1):r.defaultValue!=null&&is(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Pa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)Cy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=dr($i.current),dr(en.current),Fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(i=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:zo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return We(t),null;case 13:if(we(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&pt!==null&&t.mode&1&&!(t.flags&128))Wg(),Cs(),t.flags|=98560,i=!1;else if(i=Fo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[Zt]=t}else Cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),i=!1}else At!==null&&(kc(At),At=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Ae===0&&(Ae=3):qd())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return Ts(),yc(e,t),e===null&&Li(t.stateNode.containerInfo),We(t),null;case 10:return Md(t.type._context),We(t),null;case 17:return at(t.type)&&Ra(),We(t),null;case 19:if(we(ke),i=t.memoizedState,i===null)return We(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ii(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Fa(e),o!==null){for(t.flags|=128,ii(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(ke,ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Me()>Ps&&(t.flags|=128,r=!0,ii(i,!1),t.lanes=4194304)}else{if(!r)if(e=Fa(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ii(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Se)return We(t),null}else 2*Me()-i.renderingStartTime>Ps&&n!==1073741824&&(t.flags|=128,r=!0,ii(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Me(),t.sibling=null,n=ke.current,ye(ke,r?n&1|2:n&1),t):(We(t),null);case 22:case 23:return Qd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function A2(e,t){switch(Ed(t),t.tag){case 1:return at(t.type)&&Ra(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ts(),we(ot),we(Xe),Ad(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dd(t),null;case 13:if(we(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(ke),null;case 4:return Ts(),null;case 10:return Md(t.type._context),null;case 22:case 23:return Qd(),null;case 24:return null;default:return null}}var Bo=!1,Qe=!1,L2=typeof WeakSet=="function"?WeakSet:Set,X=null;function ts(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function xc(e,t,n){try{n()}catch(r){Te(e,t,r)}}var Rh=!1;function O2(e,t){if(tc=ja,e=Rg(),_d(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var v;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)h=d,d=v;for(;;){if(d===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++f===r&&(l=o),(v=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(nc={focusedElem:e,selectionRange:n},ja=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,S=x.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Mt(t.type,w),S);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(y){Te(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return x=Rh,Rh=!1,x}function Ni(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&xc(t,n,i)}s=s.next}while(s!==r)}}function yl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function vc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jy(e){var t=e.alternate;t!==null&&(e.alternate=null,jy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[zi],delete t[ic],delete t[v2],delete t[w2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ty(e){return e.tag===5||e.tag===3||e.tag===4}function Ih(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pa));else if(r!==4&&(e=e.child,e!==null))for(wc(e,t,n),e=e.sibling;e!==null;)wc(e,t,n),e=e.sibling}function Sc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Sc(e,t,n),e=e.sibling;e!==null;)Sc(e,t,n),e=e.sibling}var Fe=null,It=!1;function _n(e,t,n){for(n=n.child;n!==null;)My(e,t,n),n=n.sibling}function My(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ul,n)}catch{}switch(n.tag){case 5:Qe||ts(n,t);case 6:var r=Fe,s=It;Fe=null,_n(e,t,n),Fe=r,It=s,Fe!==null&&(It?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(It?(e=Fe,n=n.stateNode,e.nodeType===8?cu(e.parentNode,n):e.nodeType===1&&cu(e,n),Ii(e)):cu(Fe,n.stateNode));break;case 4:r=Fe,s=It,Fe=n.stateNode.containerInfo,It=!0,_n(e,t,n),Fe=r,It=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xc(n,t,o),s=s.next}while(s!==r)}_n(e,t,n);break;case 1:if(!Qe&&(ts(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Te(n,t,a)}_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,_n(e,t,n),Qe=r):_n(e,t,n);break;default:_n(e,t,n)}}function Dh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new L2),t.forEach(function(r){var s=Q2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,It=!1;break e;case 3:Fe=a.stateNode.containerInfo,It=!0;break e;case 4:Fe=a.stateNode.containerInfo,It=!0;break e}a=a.return}if(Fe===null)throw Error(V(160));My(i,o,s),Fe=null,It=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Te(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Py(t,e),t=t.sibling}function Py(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Wt(e),r&4){try{Ni(3,e,e.return),yl(3,e)}catch(w){Te(e,e.return,w)}try{Ni(5,e,e.return)}catch(w){Te(e,e.return,w)}}break;case 1:Tt(t,e),Wt(e),r&512&&n!==null&&ts(n,n.return);break;case 5:if(Tt(t,e),Wt(e),r&512&&n!==null&&ts(n,n.return),e.flags&32){var s=e.stateNode;try{Ti(s,"")}catch(w){Te(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Jm(s,i),Wu(a,o);var u=Wu(a,i);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?sg(s,d):f==="dangerouslySetInnerHTML"?ng(s,d):f==="children"?Ti(s,d):dd(s,f,d,u)}switch(a){case"input":$u(s,i);break;case"textarea":eg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?is(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?is(s,!!i.multiple,i.defaultValue,!0):is(s,!!i.multiple,i.multiple?[]:"",!1))}s[zi]=i}catch(w){Te(e,e.return,w)}}break;case 6:if(Tt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(V(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Te(e,e.return,w)}}break;case 3:if(Tt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ii(t.containerInfo)}catch(w){Te(e,e.return,w)}break;case 4:Tt(t,e),Wt(e);break;case 13:Tt(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ud=Me())),r&4&&Dh(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||f,Tt(t,e),Qe=u):Tt(t,e),Wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(X=e,f=e.child;f!==null;){for(d=X=f;X!==null;){switch(h=X,v=h.child,h.tag){case 0:case 11:case 14:case 15:Ni(4,h,h.return);break;case 1:ts(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){Te(r,n,w)}}break;case 5:ts(h,h.return);break;case 22:if(h.memoizedState!==null){Lh(d);continue}}v!==null?(v.return=h,X=v):Lh(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rg("display",o))}catch(w){Te(e,e.return,w)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Te(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Tt(t,e),Wt(e),r&4&&Dh(e);break;case 21:break;default:Tt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ty(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ti(s,""),r.flags&=-33);var i=Ih(e);Sc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ih(e);wc(e,a,o);break;default:throw Error(V(161))}}catch(l){Te(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z2(e,t,n){X=e,Ry(e)}function Ry(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bo;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Qe;a=Bo;var u=Qe;if(Bo=o,(Qe=l)&&!u)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?Oh(s):l!==null?(l.return=o,X=l):Oh(s);for(;i!==null;)X=i,Ry(i),i=i.sibling;X=s,Bo=a,Qe=u}Ah(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Ah(e)}}function Ah(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||yl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Mt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&vh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ii(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Qe||t.flags&512&&vc(t)}catch(h){Te(t,t.return,h)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Lh(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Oh(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yl(4,t)}catch(l){Te(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Te(t,s,l)}}var i=t.return;try{vc(t)}catch(l){Te(t,i,l)}break;case 5:var o=t.return;try{vc(t)}catch(l){Te(t,o,l)}}}catch(l){Te(t,t.return,l)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var F2=Math.ceil,Ba=Sn.ReactCurrentDispatcher,Bd=Sn.ReactCurrentOwner,Et=Sn.ReactCurrentBatchConfig,de=0,ze=null,Re=null,He=0,ft=0,ns=nr(0),Ae=0,Ui=null,Rr=0,xl=0,Vd=0,_i=null,rt=null,Ud=0,Ps=1/0,ln=null,Va=!1,bc=null,Xn=null,Vo=!1,Bn=null,Ua=0,ki=0,Nc=null,fa=-1,ha=0;function Ze(){return de&6?Me():fa!==-1?fa:fa=Me()}function Kn(e){return e.mode&1?de&2&&He!==0?He&-He:b2.transition!==null?(ha===0&&(ha=gg()),ha):(e=me,e!==0||(e=window.event,e=e===void 0?16:Ng(e.type)),e):1}function Ht(e,t,n,r){if(50<ki)throw ki=0,Nc=null,Error(V(185));lo(e,n,r),(!(de&2)||e!==ze)&&(e===ze&&(!(de&2)&&(xl|=n),Ae===4&&Pn(e,He)),lt(e,r),n===1&&de===0&&!(t.mode&1)&&(Ps=Me()+500,pl&&rr()))}function lt(e,t){var n=e.callbackNode;bw(e,t);var r=Ca(e,e===ze?He:0);if(r===0)n!==null&&Qf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qf(n),t===1)e.tag===0?S2(zh.bind(null,e)):Bg(zh.bind(null,e)),y2(function(){!(de&6)&&rr()}),n=null;else{switch(yg(r)){case 1:n=gd;break;case 4:n=pg;break;case 16:n=Ea;break;case 536870912:n=mg;break;default:n=Ea}n=$y(n,Iy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Iy(e,t){if(fa=-1,ha=0,de&6)throw Error(V(327));var n=e.callbackNode;if(cs()&&e.callbackNode!==n)return null;var r=Ca(e,e===ze?He:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wa(e,r);else{t=r;var s=de;de|=2;var i=Ay();(ze!==e||He!==t)&&(ln=null,Ps=Me()+500,_r(e,t));do try{B2();break}catch(a){Dy(e,a)}while(!0);Td(),Ba.current=i,de=s,Re!==null?t=0:(ze=null,He=0,t=Ae)}if(t!==0){if(t===2&&(s=Yu(e),s!==0&&(r=s,t=_c(e,s))),t===1)throw n=Ui,_r(e,0),Pn(e,r),lt(e,Me()),n;if(t===6)Pn(e,r);else{if(s=e.current.alternate,!(r&30)&&!$2(s)&&(t=Wa(e,r),t===2&&(i=Yu(e),i!==0&&(r=i,t=_c(e,i))),t===1))throw n=Ui,_r(e,0),Pn(e,r),lt(e,Me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:or(e,rt,ln);break;case 3:if(Pn(e,r),(r&130023424)===r&&(t=Ud+500-Me(),10<t)){if(Ca(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=sc(or.bind(null,e,rt,ln),t);break}or(e,rt,ln);break;case 4:if(Pn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-$t(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*F2(r/1960))-r,10<r){e.timeoutHandle=sc(or.bind(null,e,rt,ln),r);break}or(e,rt,ln);break;case 5:or(e,rt,ln);break;default:throw Error(V(329))}}}return lt(e,Me()),e.callbackNode===n?Iy.bind(null,e):null}function _c(e,t){var n=_i;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=Wa(e,t),e!==2&&(t=rt,rt=n,t!==null&&kc(t)),e}function kc(e){rt===null?rt=e:rt.push.apply(rt,e)}function $2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~Vd,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function zh(e){if(de&6)throw Error(V(327));cs();var t=Ca(e,0);if(!(t&1))return lt(e,Me()),null;var n=Wa(e,t);if(e.tag!==0&&n===2){var r=Yu(e);r!==0&&(t=r,n=_c(e,r))}if(n===1)throw n=Ui,_r(e,0),Pn(e,t),lt(e,Me()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,rt,ln),lt(e,Me()),null}function Wd(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(Ps=Me()+500,pl&&rr())}}function Ir(e){Bn!==null&&Bn.tag===0&&!(de&6)&&cs();var t=de;de|=1;var n=Et.transition,r=me;try{if(Et.transition=null,me=1,e)return e()}finally{me=r,Et.transition=n,de=t,!(de&6)&&rr()}}function Qd(){ft=ns.current,we(ns)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,g2(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(Ed(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ra();break;case 3:Ts(),we(ot),we(Xe),Ad();break;case 5:Dd(r);break;case 4:Ts();break;case 13:we(ke);break;case 19:we(ke);break;case 10:Md(r.type._context);break;case 22:case 23:Qd()}n=n.return}if(ze=e,Re=e=Yn(e.current,null),He=ft=t,Ae=0,Ui=null,Vd=xl=Rr=0,rt=_i=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cr=null}return e}function Dy(e,t){do{var n=Re;try{if(Td(),ua.current=Ha,$a){for(var r=Ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$a=!1}if(Pr=0,Oe=De=Ee=null,bi=!1,Hi=0,Bd.current=null,n===null||n.return===null){Ae=1,Ui=t,Re=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=He,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=kh(o);if(v!==null){v.flags&=-257,Eh(v,o,a,i,t),v.mode&1&&_h(i,u,t),t=v,l=u;var x=t.updateQueue;if(x===null){var w=new Set;w.add(l),t.updateQueue=w}else x.add(l);break e}else{if(!(t&1)){_h(i,u,t),qd();break e}l=Error(V(426))}}else if(Se&&a.mode&1){var S=kh(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Eh(S,o,a,i,t),Cd(Ms(l,a));break e}}i=l=Ms(l,a),Ae!==4&&(Ae=2),_i===null?_i=[i]:_i.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=yy(i,l,t);xh(i,m);break e;case 1:a=l;var g=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xn===null||!Xn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=xy(i,a,t);xh(i,y);break e}}i=i.return}while(i!==null)}Oy(n)}catch(b){t=b,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function Ay(){var e=Ba.current;return Ba.current=Ha,e===null?Ha:e}function qd(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),ze===null||!(Rr&268435455)&&!(xl&268435455)||Pn(ze,He)}function Wa(e,t){var n=de;de|=2;var r=Ay();(ze!==e||He!==t)&&(ln=null,_r(e,t));do try{H2();break}catch(s){Dy(e,s)}while(!0);if(Td(),de=n,Ba.current=r,Re!==null)throw Error(V(261));return ze=null,He=0,Ae}function H2(){for(;Re!==null;)Ly(Re)}function B2(){for(;Re!==null&&!hw();)Ly(Re)}function Ly(e){var t=Fy(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?Oy(e):Re=t,Bd.current=null}function Oy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=A2(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Re=null;return}}else if(n=D2(n,t,ft),n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Ae===0&&(Ae=5)}function or(e,t,n){var r=me,s=Et.transition;try{Et.transition=null,me=1,V2(e,t,n,r)}finally{Et.transition=s,me=r}return null}function V2(e,t,n,r){do cs();while(Bn!==null);if(de&6)throw Error(V(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Nw(e,i),e===ze&&(Re=ze=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vo||(Vo=!0,$y(Ea,function(){return cs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Et.transition,Et.transition=null;var o=me;me=1;var a=de;de|=4,Bd.current=null,O2(e,n),Py(n,e),u2(nc),ja=!!tc,nc=tc=null,e.current=n,z2(n),pw(),de=a,me=o,Et.transition=i}else e.current=n;if(Vo&&(Vo=!1,Bn=e,Ua=s),i=e.pendingLanes,i===0&&(Xn=null),yw(n.stateNode),lt(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Va)throw Va=!1,e=bc,bc=null,e;return Ua&1&&e.tag!==0&&cs(),i=e.pendingLanes,i&1?e===Nc?ki++:(ki=0,Nc=e):ki=0,rr(),null}function cs(){if(Bn!==null){var e=yg(Ua),t=Et.transition,n=me;try{if(Et.transition=null,me=16>e?16:e,Bn===null)var r=!1;else{if(e=Bn,Bn=null,Ua=0,de&6)throw Error(V(331));var s=de;for(de|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var f=X;switch(f.tag){case 0:case 11:case 15:Ni(8,f,i)}var d=f.child;if(d!==null)d.return=f,X=d;else for(;X!==null;){f=X;var h=f.sibling,v=f.return;if(jy(f),f===u){X=null;break}if(h!==null){h.return=v,X=h;break}X=v}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ni(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,X=m;break e}X=i.return}}var g=e.current;for(X=g;X!==null;){o=X;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,X=p;else e:for(o=g;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yl(9,a)}}catch(b){Te(a,a.return,b)}if(a===o){X=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,X=y;break e}X=a.return}}if(de=s,rr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ul,e)}catch{}r=!0}return r}finally{me=n,Et.transition=t}}return!1}function Fh(e,t,n){t=Ms(n,t),t=yy(e,t,1),e=qn(e,t,1),t=Ze(),e!==null&&(lo(e,1,t),lt(e,t))}function Te(e,t,n){if(e.tag===3)Fh(e,e,n);else for(;t!==null;){if(t.tag===3){Fh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){e=Ms(n,e),e=xy(t,e,1),t=qn(t,e,1),e=Ze(),t!==null&&(lo(t,1,e),lt(t,e));break}}t=t.return}}function U2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(He&n)===n&&(Ae===4||Ae===3&&(He&130023424)===He&&500>Me()-Ud?_r(e,0):Vd|=n),lt(e,t)}function zy(e,t){t===0&&(e.mode&1?(t=Io,Io<<=1,!(Io&130023424)&&(Io=4194304)):t=1);var n=Ze();e=xn(e,t),e!==null&&(lo(e,t,n),lt(e,n))}function W2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zy(e,n)}function Q2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),zy(e,n)}var Fy;Fy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,I2(e,t,n);st=!!(e.flags&131072)}else st=!1,Se&&t.flags&1048576&&Vg(t,Aa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;da(e,t),e=t.pendingProps;var s=Es(t,Xe.current);us(t,n),s=Od(null,t,r,e,s,n);var i=zd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(i=!0,Ia(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rd(t),s.updater=gl,t.stateNode=s,s._reactInternals=t,dc(t,r,e,n),t=pc(null,t,r,!0,i,n)):(t.tag=0,Se&&i&&kd(t),Ge(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(da(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=X2(r),e=Mt(r,e),s){case 0:t=hc(null,t,r,e,n);break e;case 1:t=Th(null,t,r,e,n);break e;case 11:t=Ch(null,t,r,e,n);break e;case 14:t=jh(null,t,r,Mt(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),hc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),Th(e,t,r,s,n);case 3:e:{if(by(t),e===null)throw Error(V(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Kg(e,t),za(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ms(Error(V(423)),t),t=Mh(e,t,r,n,s);break e}else if(r!==s){s=Ms(Error(V(424)),t),t=Mh(e,t,r,n,s);break e}else for(pt=Qn(t.stateNode.containerInfo.firstChild),mt=t,Se=!0,At=null,n=qg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cs(),r===s){t=vn(e,t,n);break e}Ge(e,t,r,n)}t=t.child}return t;case 5:return Yg(t),e===null&&lc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,rc(r,s)?o=null:i!==null&&rc(r,i)&&(t.flags|=32),Sy(e,t),Ge(e,t,o,n),t.child;case 6:return e===null&&lc(t),null;case 13:return Ny(e,t,n);case 4:return Id(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=js(t,null,r,n):Ge(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),Ch(e,t,r,s,n);case 7:return Ge(e,t,t.pendingProps,n),t.child;case 8:return Ge(e,t,t.pendingProps.children,n),t.child;case 12:return Ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ye(La,r._currentValue),r._currentValue=o,i!==null)if(Bt(i.value,o)){if(i.children===s.children&&!ot.current){t=vn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=mn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),uc(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),uc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ge(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,us(t,n),s=Ct(s),r=r(s),t.flags|=1,Ge(e,t,r,n),t.child;case 14:return r=t.type,s=Mt(r,t.pendingProps),s=Mt(r.type,s),jh(e,t,r,s,n);case 15:return vy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),da(e,t),t.tag=1,at(r)?(e=!0,Ia(t)):e=!1,us(t,n),gy(t,r,s),dc(t,r,s,n),pc(null,t,r,!0,e,n);case 19:return _y(e,t,n);case 22:return wy(e,t,n)}throw Error(V(156,t.tag))};function $y(e,t){return hg(e,t)}function q2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new q2(e,t,n,r)}function Xd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function X2(e){if(typeof e=="function")return Xd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hd)return 11;if(e===pd)return 14}return 2}function Yn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pa(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Xd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qr:return kr(n.children,s,i,t);case fd:o=8,s|=8;break;case Au:return e=kt(12,n,t,s|2),e.elementType=Au,e.lanes=i,e;case Lu:return e=kt(13,n,t,s),e.elementType=Lu,e.lanes=i,e;case Ou:return e=kt(19,n,t,s),e.elementType=Ou,e.lanes=i,e;case Ym:return vl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xm:o=10;break e;case Km:o=9;break e;case hd:o=11;break e;case pd:o=14;break e;case jn:o=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=kt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function kr(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function vl(e,t,n,r){return e=kt(22,e,r,t),e.elementType=Ym,e.lanes=n,e.stateNode={isHidden:!1},e}function xu(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function vu(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function K2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jl(0),this.expirationTimes=Jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kd(e,t,n,r,s,i,o,a,l){return e=new K2(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=kt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rd(i),e}function Y2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Hy(e){if(!e)return er;e=e._reactInternals;e:{if(Hr(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(at(n))return Hg(e,n,t)}return t}function By(e,t,n,r,s,i,o,a,l){return e=Kd(n,r,!0,e,s,i,o,a,l),e.context=Hy(null),n=e.current,r=Ze(),s=Kn(n),i=mn(r,s),i.callback=t??null,qn(n,i,s),e.current.lanes=s,lo(e,s,r),lt(e,r),e}function wl(e,t,n,r){var s=t.current,i=Ze(),o=Kn(s);return n=Hy(n),t.context===null?t.context=n:t.pendingContext=n,t=mn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qn(s,t,o),e!==null&&(Ht(e,s,o,i),la(e,s,o)),o}function Qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $h(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yd(e,t){$h(e,t),(e=e.alternate)&&$h(e,t)}function G2(){return null}var Vy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gd(e){this._internalRoot=e}Sl.prototype.render=Gd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));wl(e,t,null,null)};Sl.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){wl(null,e,null,null)}),t[yn]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=wg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&bg(e)}};function Zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hh(){}function Z2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Qa(o);i.call(u)}}var o=By(t,r,e,0,null,!1,!1,"",Hh);return e._reactRootContainer=o,e[yn]=o.current,Li(e.nodeType===8?e.parentNode:e),Ir(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Qa(l);a.call(u)}}var l=Kd(e,0,!1,null,null,!1,!1,"",Hh);return e._reactRootContainer=l,e[yn]=l.current,Li(e.nodeType===8?e.parentNode:e),Ir(function(){wl(t,l,n,r)}),l}function Nl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Qa(o);a.call(l)}}wl(t,o,e,s)}else o=Z2(n,t,e,s,r);return Qa(o)}xg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fi(t.pendingLanes);n!==0&&(yd(t,n|1),lt(t,Me()),!(de&6)&&(Ps=Me()+500,rr()))}break;case 13:Ir(function(){var r=xn(e,1);if(r!==null){var s=Ze();Ht(r,e,1,s)}}),Yd(e,1)}};xd=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=Ze();Ht(t,e,134217728,n)}Yd(e,134217728)}};vg=function(e){if(e.tag===13){var t=Kn(e),n=xn(e,t);if(n!==null){var r=Ze();Ht(n,e,t,r)}Yd(e,t)}};wg=function(){return me};Sg=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};qu=function(e,t,n){switch(t){case"input":if($u(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=hl(r);if(!s)throw Error(V(90));Zm(r),$u(r,s)}}}break;case"textarea":eg(e,n);break;case"select":t=n.value,t!=null&&is(e,!!n.multiple,t,!1)}};ag=Wd;lg=Ir;var J2={usingClientEntryPoint:!1,Events:[co,Yr,hl,ig,og,Wd]},oi={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eS={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dg(e),e===null?null:e.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||G2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{ul=Uo.inject(eS),Jt=Uo}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J2;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zd(t))throw Error(V(200));return Y2(e,t,null,n)};xt.createRoot=function(e,t){if(!Zd(e))throw Error(V(299));var n=!1,r="",s=Vy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Kd(e,1,!1,null,null,n,!1,r,s),e[yn]=t.current,Li(e.nodeType===8?e.parentNode:e),new Gd(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=dg(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return Ir(e)};xt.hydrate=function(e,t,n){if(!bl(t))throw Error(V(200));return Nl(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!Zd(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Vy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=By(t,null,e,1,n??null,s,!1,i,o),e[yn]=t.current,Li(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Sl(t)};xt.render=function(e,t,n){if(!bl(t))throw Error(V(200));return Nl(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!bl(e))throw Error(V(40));return e._reactRootContainer?(Ir(function(){Nl(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};xt.unstable_batchedUpdates=Wd;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bl(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Nl(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function Uy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uy)}catch(e){console.error(e)}}Uy(),Um.exports=xt;var Wy=Um.exports,Bh=Wy;Iu.createRoot=Bh.createRoot,Iu.hydrateRoot=Bh.hydrateRoot;var ho=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tS={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},In,sd,bm,nS=(bm=class{constructor(){ee(this,In,tS);ee(this,sd,!1)}setTimeoutProvider(e){q(this,In,e)}setTimeout(e,t){return T(this,In).setTimeout(e,t)}clearTimeout(e){T(this,In).clearTimeout(e)}setInterval(e,t){return T(this,In).setInterval(e,t)}clearInterval(e){T(this,In).clearInterval(e)}},In=new WeakMap,sd=new WeakMap,bm),fr=new nS;function rS(e){setTimeout(e,0)}var Dr=typeof window>"u"||"Deno"in globalThis;function nt(){}function sS(e,t){return typeof e=="function"?e(t):e}function Ec(e){return typeof e=="number"&&e>=0&&e!==1/0}function Qy(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gn(e,t){return typeof e=="function"?e(t):e}function bt(e,t){return typeof e=="function"?e(t):e}function Vh(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Jd(o,t.options))return!1}else if(!Qi(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Uh(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Wi(t.options.mutationKey)!==Wi(i))return!1}else if(!Qi(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Jd(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wi)(e)}function Wi(e){return JSON.stringify(e,(t,n)=>jc(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Qi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Qi(e[n],t[n])):!1}var iS=Object.prototype.hasOwnProperty;function qy(e,t){if(e===t)return e;const n=Wh(e)&&Wh(t);if(!n&&!(jc(e)&&jc(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const f=n?u:i[u],d=e[f],h=t[f];if(d===h){a[f]=d,(n?u<s:iS.call(e,f))&&l++;continue}if(d===null||h===null||typeof d!="object"||typeof h!="object"){a[f]=h;continue}const v=qy(d,h);a[f]=v,v===d&&l++}return s===o&&l===s?e:a}function Cc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Wh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function jc(e){if(!Qh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Qh(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Qh(e){return Object.prototype.toString.call(e)==="[object Object]"}function oS(e){return new Promise(t=>{fr.setTimeout(t,e)})}function Tc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?qy(e,t):t}function aS(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function lS(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ef=Symbol();function Xy(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ef?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function uS(e,t){return typeof e=="function"?e(...t):!!e}var mr,Dn,hs,Nm,cS=(Nm=class extends ho{constructor(){super();ee(this,mr);ee(this,Dn);ee(this,hs);q(this,hs,t=>{if(!Dr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){T(this,Dn)||this.setEventListener(T(this,hs))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,Dn))==null||t.call(this),q(this,Dn,void 0))}setEventListener(t){var n;q(this,hs,t),(n=T(this,Dn))==null||n.call(this),q(this,Dn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){T(this,mr)!==t&&(q(this,mr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof T(this,mr)=="boolean"?T(this,mr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},mr=new WeakMap,Dn=new WeakMap,hs=new WeakMap,Nm),tf=new cS;function Mc(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var dS=rS;function fS(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=dS;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var $e=fS(),ps,An,ms,_m,hS=(_m=class extends ho{constructor(){super();ee(this,ps,!0);ee(this,An);ee(this,ms);q(this,ms,t=>{if(!Dr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){T(this,An)||this.setEventListener(T(this,ms))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,An))==null||t.call(this),q(this,An,void 0))}setEventListener(t){var n;q(this,ms,t),(n=T(this,An))==null||n.call(this),q(this,An,t(this.setOnline.bind(this)))}setOnline(t){T(this,ps)!==t&&(q(this,ps,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return T(this,ps)}},ps=new WeakMap,An=new WeakMap,ms=new WeakMap,_m),qa=new hS;function pS(e){return Math.min(1e3*2**e,3e4)}function Ky(e){return(e??"online")==="online"?qa.isOnline():!0}var Pc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yy(e){let t=!1,n=0,r;const s=Mc(),i=()=>s.status!=="pending",o=w=>{var S;if(!i()){const m=new Pc(w);h(m),(S=e.onCancel)==null||S.call(e,m)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>tf.isFocused()&&(e.networkMode==="always"||qa.isOnline())&&e.canRun(),f=()=>Ky(e.networkMode)&&e.canRun(),d=w=>{i()||(r==null||r(),s.resolve(w))},h=w=>{i()||(r==null||r(),s.reject(w))},v=()=>new Promise(w=>{var S;r=m=>{(i()||u())&&w(m)},(S=e.onPause)==null||S.call(e)}).then(()=>{var w;r=void 0,i()||(w=e.onContinue)==null||w.call(e)}),x=()=>{if(i())return;let w;const S=n===0?e.initialPromise:void 0;try{w=S??e.fn()}catch(m){w=Promise.reject(m)}Promise.resolve(w).then(d).catch(m=>{var N;if(i())return;const g=e.retry??(Dr?0:3),p=e.retryDelay??pS,y=typeof p=="function"?p(n,m):p,b=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,m);if(t||!b){h(m);return}n++,(N=e.onFail)==null||N.call(e,n,m),oS(y).then(()=>u()?void 0:v()).then(()=>{t?h(m):x()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?x():v().then(x),s)}}var gr,km,Gy=(km=class{constructor(){ee(this,gr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ec(this.gcTime)&&q(this,gr,fr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Dr?1/0:5*60*1e3))}clearGcTimeout(){T(this,gr)&&(fr.clearTimeout(T(this,gr)),q(this,gr,void 0))}},gr=new WeakMap,km),yr,gs,St,xr,Le,no,vr,Pt,an,Em,mS=(Em=class extends Gy{constructor(t){super();ee(this,Pt);ee(this,yr);ee(this,gs);ee(this,St);ee(this,xr);ee(this,Le);ee(this,no);ee(this,vr);q(this,vr,!1),q(this,no,t.defaultOptions),this.setOptions(t.options),this.observers=[],q(this,xr,t.client),q(this,St,T(this,xr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,q(this,yr,Xh(this.options)),this.state=t.state??T(this,yr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=T(this,Le))==null?void 0:t.promise}setOptions(t){if(this.options={...T(this,no),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Xh(this.options);n.data!==void 0&&(this.setState(qh(n.data,n.dataUpdatedAt)),q(this,yr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,St).remove(this)}setData(t,n){const r=Tc(this.state.data,t,this.options);return le(this,Pt,an).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){le(this,Pt,an).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=T(this,Le))==null?void 0:r.promise;return(s=T(this,Le))==null||s.cancel(t),n?n.then(nt).catch(nt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,yr))}isActive(){return this.observers.some(t=>bt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ef||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Gn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Qy(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=T(this,Le))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=T(this,Le))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),T(this,St).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(T(this,Le)&&(T(this,vr)?T(this,Le).cancel({revert:!0}):T(this,Le).cancelRetry()),this.scheduleGc()),T(this,St).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||le(this,Pt,an).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,f,d,h,v,x,w,S,m,g,p;if(this.state.fetchStatus!=="idle"&&((l=T(this,Le))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(T(this,Le))return T(this,Le).continueRetry(),T(this,Le).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(b=>b.options.queryFn);y&&this.setOptions(y.options)}const r=new AbortController,s=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(q(this,vr,!0),r.signal)})},i=()=>{const y=Xy(this.options,n),N=(()=>{const _={client:T(this,xr),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return q(this,vr,!1),this.options.persister?this.options.persister(y,N,this):y(N)},a=(()=>{const y={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:T(this,xr),state:this.state,fetchFn:i};return s(y),y})();(u=this.options.behavior)==null||u.onFetch(a,this),q(this,gs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&le(this,Pt,an).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),q(this,Le,Yy({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:y=>{y instanceof Pc&&y.revert&&this.setState({...T(this,gs),fetchStatus:"idle"}),r.abort()},onFail:(y,b)=>{le(this,Pt,an).call(this,{type:"failed",failureCount:y,error:b})},onPause:()=>{le(this,Pt,an).call(this,{type:"pause"})},onContinue:()=>{le(this,Pt,an).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const y=await T(this,Le).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(v=(h=T(this,St).config).onSuccess)==null||v.call(h,y,this),(w=(x=T(this,St).config).onSettled)==null||w.call(x,y,this.state.error,this),y}catch(y){if(y instanceof Pc){if(y.silent)return T(this,Le).promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw le(this,Pt,an).call(this,{type:"error",error:y}),(m=(S=T(this,St).config).onError)==null||m.call(S,y,this),(p=(g=T(this,St).config).onSettled)==null||p.call(g,this.state.data,y,this),y}finally{this.scheduleGc()}}},yr=new WeakMap,gs=new WeakMap,St=new WeakMap,xr=new WeakMap,Le=new WeakMap,no=new WeakMap,vr=new WeakMap,Pt=new WeakSet,an=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Zy(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...qh(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return q(this,gs,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),$e.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),T(this,St).notify({query:this,type:"updated",action:t})})},Em);function Zy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ky(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function qh(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Xh(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var tt,ue,ro,Ke,wr,ys,cn,Ln,so,xs,vs,Sr,br,On,ws,pe,pi,Rc,Ic,Dc,Ac,Lc,Oc,zc,Jy,Cm,gS=(Cm=class extends ho{constructor(t,n){super();ee(this,pe);ee(this,tt);ee(this,ue);ee(this,ro);ee(this,Ke);ee(this,wr);ee(this,ys);ee(this,cn);ee(this,Ln);ee(this,so);ee(this,xs);ee(this,vs);ee(this,Sr);ee(this,br);ee(this,On);ee(this,ws,new Set);this.options=n,q(this,tt,t),q(this,Ln,null),q(this,cn,Mc()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,ue).addObserver(this),Kh(T(this,ue),this.options)?le(this,pe,pi).call(this):this.updateResult(),le(this,pe,Ac).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fc(T(this,ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fc(T(this,ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,le(this,pe,Lc).call(this),le(this,pe,Oc).call(this),T(this,ue).removeObserver(this)}setOptions(t){const n=this.options,r=T(this,ue);if(this.options=T(this,tt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bt(this.options.enabled,T(this,ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");le(this,pe,zc).call(this),T(this,ue).setOptions(this.options),n._defaulted&&!Cc(this.options,n)&&T(this,tt).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,ue),observer:this});const s=this.hasListeners();s&&Yh(T(this,ue),r,this.options,n)&&le(this,pe,pi).call(this),this.updateResult(),s&&(T(this,ue)!==r||bt(this.options.enabled,T(this,ue))!==bt(n.enabled,T(this,ue))||Gn(this.options.staleTime,T(this,ue))!==Gn(n.staleTime,T(this,ue)))&&le(this,pe,Rc).call(this);const i=le(this,pe,Ic).call(this);s&&(T(this,ue)!==r||bt(this.options.enabled,T(this,ue))!==bt(n.enabled,T(this,ue))||i!==T(this,On))&&le(this,pe,Dc).call(this,i)}getOptimisticResult(t){const n=T(this,tt).getQueryCache().build(T(this,tt),t),r=this.createResult(n,t);return xS(this,r)&&(q(this,Ke,r),q(this,ys,this.options),q(this,wr,T(this,ue).state)),r}getCurrentResult(){return T(this,Ke)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&T(this,cn).status==="pending"&&T(this,cn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){T(this,ws).add(t)}getCurrentQuery(){return T(this,ue)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=T(this,tt).defaultQueryOptions(t),r=T(this,tt).getQueryCache().build(T(this,tt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return le(this,pe,pi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,Ke)))}createResult(t,n){var M;const r=T(this,ue),s=this.options,i=T(this,Ke),o=T(this,wr),a=T(this,ys),u=t!==r?t.state:T(this,ro),{state:f}=t;let d={...f},h=!1,v;if(n._optimisticResults){const D=this.hasListeners(),R=!D&&Kh(t,n),A=D&&Yh(t,r,n,s);(R||A)&&(d={...d,...Zy(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:x,errorUpdatedAt:w,status:S}=d;v=d.data;let m=!1;if(n.placeholderData!==void 0&&v===void 0&&S==="pending"){let D;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(D=i.data,m=!0):D=typeof n.placeholderData=="function"?n.placeholderData((M=T(this,vs))==null?void 0:M.state.data,T(this,vs)):n.placeholderData,D!==void 0&&(S="success",v=Tc(i==null?void 0:i.data,D,n),h=!0)}if(n.select&&v!==void 0&&!m)if(i&&v===(o==null?void 0:o.data)&&n.select===T(this,so))v=T(this,xs);else try{q(this,so,n.select),v=n.select(v),v=Tc(i==null?void 0:i.data,v,n),q(this,xs,v),q(this,Ln,null)}catch(D){q(this,Ln,D)}T(this,Ln)&&(x=T(this,Ln),v=T(this,xs),w=Date.now(),S="error");const g=d.fetchStatus==="fetching",p=S==="pending",y=S==="error",b=p&&g,N=v!==void 0,k={status:S,fetchStatus:d.fetchStatus,isPending:p,isSuccess:S==="success",isError:y,isInitialLoading:b,isLoading:b,data:v,dataUpdatedAt:d.dataUpdatedAt,error:x,errorUpdatedAt:w,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!p,isLoadingError:y&&!N,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:y&&N,isStale:nf(t,n),refetch:this.refetch,promise:T(this,cn),isEnabled:bt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=B=>{k.status==="error"?B.reject(k.error):k.data!==void 0&&B.resolve(k.data)},R=()=>{const B=q(this,cn,k.promise=Mc());D(B)},A=T(this,cn);switch(A.status){case"pending":t.queryHash===r.queryHash&&D(A);break;case"fulfilled":(k.status==="error"||k.data!==A.value)&&R();break;case"rejected":(k.status!=="error"||k.error!==A.reason)&&R();break}}return k}updateResult(){const t=T(this,Ke),n=this.createResult(T(this,ue),this.options);if(q(this,wr,T(this,ue).state),q(this,ys,this.options),T(this,wr).data!==void 0&&q(this,vs,T(this,ue)),Cc(n,t))return;q(this,Ke,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!T(this,ws).size)return!0;const o=new Set(i??T(this,ws));return this.options.throwOnError&&o.add("error"),Object.keys(T(this,Ke)).some(a=>{const l=a;return T(this,Ke)[l]!==t[l]&&o.has(l)})};le(this,pe,Jy).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&le(this,pe,Ac).call(this)}},tt=new WeakMap,ue=new WeakMap,ro=new WeakMap,Ke=new WeakMap,wr=new WeakMap,ys=new WeakMap,cn=new WeakMap,Ln=new WeakMap,so=new WeakMap,xs=new WeakMap,vs=new WeakMap,Sr=new WeakMap,br=new WeakMap,On=new WeakMap,ws=new WeakMap,pe=new WeakSet,pi=function(t){le(this,pe,zc).call(this);let n=T(this,ue).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(nt)),n},Rc=function(){le(this,pe,Lc).call(this);const t=Gn(this.options.staleTime,T(this,ue));if(Dr||T(this,Ke).isStale||!Ec(t))return;const r=Qy(T(this,Ke).dataUpdatedAt,t)+1;q(this,Sr,fr.setTimeout(()=>{T(this,Ke).isStale||this.updateResult()},r))},Ic=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,ue)):this.options.refetchInterval)??!1},Dc=function(t){le(this,pe,Oc).call(this),q(this,On,t),!(Dr||bt(this.options.enabled,T(this,ue))===!1||!Ec(T(this,On))||T(this,On)===0)&&q(this,br,fr.setInterval(()=>{(this.options.refetchIntervalInBackground||tf.isFocused())&&le(this,pe,pi).call(this)},T(this,On)))},Ac=function(){le(this,pe,Rc).call(this),le(this,pe,Dc).call(this,le(this,pe,Ic).call(this))},Lc=function(){T(this,Sr)&&(fr.clearTimeout(T(this,Sr)),q(this,Sr,void 0))},Oc=function(){T(this,br)&&(fr.clearInterval(T(this,br)),q(this,br,void 0))},zc=function(){const t=T(this,tt).getQueryCache().build(T(this,tt),this.options);if(t===T(this,ue))return;const n=T(this,ue);q(this,ue,t),q(this,ro,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Jy=function(t){$e.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(T(this,Ke))}),T(this,tt).getQueryCache().notify({query:T(this,ue),type:"observerResultsUpdated"})})},Cm);function yS(e,t){return bt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Kh(e,t){return yS(e,t)||e.state.data!==void 0&&Fc(e,t,t.refetchOnMount)}function Fc(e,t,n){if(bt(t.enabled,e)!==!1&&Gn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&nf(e,t)}return!1}function Yh(e,t,n,r){return(e!==t||bt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&nf(e,n)}function nf(e,t){return bt(t.enabled,e)!==!1&&e.isStaleByTime(Gn(t.staleTime,e))}function xS(e,t){return!Cc(e.getCurrentResult(),t)}function Gh(e){return{onFetch:(t,n)=>{var f,d,h,v,x;const r=t.options,s=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const S=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},m=Xy(t.options,t.fetchOptions),g=async(p,y,b)=>{if(w)return Promise.reject();if(y==null&&p.pages.length)return Promise.resolve(p);const _=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:y,direction:b?"backward":"forward",meta:t.options.meta};return S(R),R})(),k=await m(_),{maxPages:M}=t.options,D=b?lS:aS;return{pages:D(p.pages,k,M),pageParams:D(p.pageParams,y,M)}};if(s&&i.length){const p=s==="backward",y=p?vS:Zh,b={pages:i,pageParams:o},N=y(r,b);a=await g(b,N,p)}else{const p=e??i.length;do{const y=l===0?o[0]??r.initialPageParam:Zh(r,a);if(l>0&&y==null)break;a=await g(a,y),l++}while(l<p)}return a};t.options.persister?t.fetchFn=()=>{var w,S;return(S=(w=t.options).persister)==null?void 0:S.call(w,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Zh(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function vS(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var io,Xt,Ye,Nr,Kt,Cn,jm,wS=(jm=class extends Gy{constructor(t){super();ee(this,Kt);ee(this,io);ee(this,Xt);ee(this,Ye);ee(this,Nr);q(this,io,t.client),this.mutationId=t.mutationId,q(this,Ye,t.mutationCache),q(this,Xt,[]),this.state=t.state||SS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){T(this,Xt).includes(t)||(T(this,Xt).push(t),this.clearGcTimeout(),T(this,Ye).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){q(this,Xt,T(this,Xt).filter(n=>n!==t)),this.scheduleGc(),T(this,Ye).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){T(this,Xt).length||(this.state.status==="pending"?this.scheduleGc():T(this,Ye).remove(this))}continue(){var t;return((t=T(this,Nr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,f,d,h,v,x,w,S,m,g,p,y,b,N,_,k,M;const n=()=>{le(this,Kt,Cn).call(this,{type:"continue"})},r={client:T(this,io),meta:this.options.meta,mutationKey:this.options.mutationKey};q(this,Nr,Yy({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(D,R)=>{le(this,Kt,Cn).call(this,{type:"failed",failureCount:D,error:R})},onPause:()=>{le(this,Kt,Cn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,Ye).canRun(this)}));const s=this.state.status==="pending",i=!T(this,Nr).canStart();try{if(s)n();else{le(this,Kt,Cn).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=T(this,Ye).config).onMutate)==null?void 0:a.call(o,t,this,r));const R=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,r));R!==this.state.context&&le(this,Kt,Cn).call(this,{type:"pending",context:R,variables:t,isPaused:i})}const D=await T(this,Nr).start();return await((d=(f=T(this,Ye).config).onSuccess)==null?void 0:d.call(f,D,t,this.state.context,this,r)),await((v=(h=this.options).onSuccess)==null?void 0:v.call(h,D,t,this.state.context,r)),await((w=(x=T(this,Ye).config).onSettled)==null?void 0:w.call(x,D,null,this.state.variables,this.state.context,this,r)),await((m=(S=this.options).onSettled)==null?void 0:m.call(S,D,null,t,this.state.context,r)),le(this,Kt,Cn).call(this,{type:"success",data:D}),D}catch(D){try{throw await((p=(g=T(this,Ye).config).onError)==null?void 0:p.call(g,D,t,this.state.context,this,r)),await((b=(y=this.options).onError)==null?void 0:b.call(y,D,t,this.state.context,r)),await((_=(N=T(this,Ye).config).onSettled)==null?void 0:_.call(N,void 0,D,this.state.variables,this.state.context,this,r)),await((M=(k=this.options).onSettled)==null?void 0:M.call(k,void 0,D,t,this.state.context,r)),D}finally{le(this,Kt,Cn).call(this,{type:"error",error:D})}}finally{T(this,Ye).runNext(this)}}},io=new WeakMap,Xt=new WeakMap,Ye=new WeakMap,Nr=new WeakMap,Kt=new WeakSet,Cn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$e.batch(()=>{T(this,Xt).forEach(r=>{r.onMutationUpdate(t)}),T(this,Ye).notify({mutation:this,type:"updated",action:t})})},jm);function SS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dn,Rt,oo,Tm,bS=(Tm=class extends ho{constructor(t={}){super();ee(this,dn);ee(this,Rt);ee(this,oo);this.config=t,q(this,dn,new Set),q(this,Rt,new Map),q(this,oo,0)}build(t,n,r){const s=new wS({client:t,mutationCache:this,mutationId:++Co(this,oo)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){T(this,dn).add(t);const n=Wo(t);if(typeof n=="string"){const r=T(this,Rt).get(n);r?r.push(t):T(this,Rt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(T(this,dn).delete(t)){const n=Wo(t);if(typeof n=="string"){const r=T(this,Rt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&T(this,Rt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Wo(t);if(typeof n=="string"){const r=T(this,Rt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Wo(t);if(typeof n=="string"){const s=(r=T(this,Rt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$e.batch(()=>{T(this,dn).forEach(t=>{this.notify({type:"removed",mutation:t})}),T(this,dn).clear(),T(this,Rt).clear()})}getAll(){return Array.from(T(this,dn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Uh(n,r))}findAll(t={}){return this.getAll().filter(n=>Uh(t,n))}notify(t){$e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return $e.batch(()=>Promise.all(t.map(n=>n.continue().catch(nt))))}},dn=new WeakMap,Rt=new WeakMap,oo=new WeakMap,Tm);function Wo(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Yt,Mm,NS=(Mm=class extends ho{constructor(t={}){super();ee(this,Yt);this.config=t,q(this,Yt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Jd(s,n);let o=this.get(i);return o||(o=new mS({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){T(this,Yt).has(t.queryHash)||(T(this,Yt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=T(this,Yt).get(t.queryHash);n&&(t.destroy(),n===t&&T(this,Yt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$e.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return T(this,Yt).get(t)}getAll(){return[...T(this,Yt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Vh(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Vh(t,r)):n}notify(t){$e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){$e.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$e.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yt=new WeakMap,Mm),je,zn,Fn,Ss,bs,$n,Ns,_s,Pm,_S=(Pm=class{constructor(e={}){ee(this,je);ee(this,zn);ee(this,Fn);ee(this,Ss);ee(this,bs);ee(this,$n);ee(this,Ns);ee(this,_s);q(this,je,e.queryCache||new NS),q(this,zn,e.mutationCache||new bS),q(this,Fn,e.defaultOptions||{}),q(this,Ss,new Map),q(this,bs,new Map),q(this,$n,0)}mount(){Co(this,$n)._++,T(this,$n)===1&&(q(this,Ns,tf.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,je).onFocus())})),q(this,_s,qa.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,je).onOnline())})))}unmount(){var e,t;Co(this,$n)._--,T(this,$n)===0&&((e=T(this,Ns))==null||e.call(this),q(this,Ns,void 0),(t=T(this,_s))==null||t.call(this),q(this,_s,void 0))}isFetching(e){return T(this,je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return T(this,zn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=T(this,je).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=T(this,je).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Gn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return T(this,je).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=T(this,je).get(r.queryHash),i=s==null?void 0:s.state.data,o=sS(t,i);if(o!==void 0)return T(this,je).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return $e.batch(()=>T(this,je).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=T(this,je).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=T(this,je);$e.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=T(this,je);return $e.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=$e.batch(()=>T(this,je).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(nt).catch(nt)}invalidateQueries(e,t={}){return $e.batch(()=>(T(this,je).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=$e.batch(()=>T(this,je).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(nt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(nt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=T(this,je).build(this,t);return n.isStaleByTime(Gn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nt).catch(nt)}fetchInfiniteQuery(e){return e.behavior=Gh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nt).catch(nt)}ensureInfiniteQueryData(e){return e.behavior=Gh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qa.isOnline()?T(this,zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,je)}getMutationCache(){return T(this,zn)}getDefaultOptions(){return T(this,Fn)}setDefaultOptions(e){q(this,Fn,e)}setQueryDefaults(e,t){T(this,Ss).set(Wi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...T(this,Ss).values()],n={};return t.forEach(r=>{Qi(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){T(this,bs).set(Wi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...T(this,bs).values()],n={};return t.forEach(r=>{Qi(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...T(this,Fn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Jd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ef&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...T(this,Fn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){T(this,je).clear(),T(this,zn).clear()}},je=new WeakMap,zn=new WeakMap,Fn=new WeakMap,Ss=new WeakMap,bs=new WeakMap,$n=new WeakMap,Ns=new WeakMap,_s=new WeakMap,Pm),e0=I.createContext(void 0),kS=e=>{const t=I.useContext(e0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ES=({client:e,children:t})=>(I.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(e0.Provider,{value:e,children:t})),t0=I.createContext(!1),CS=()=>I.useContext(t0);t0.Provider;function jS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var TS=I.createContext(jS()),MS=()=>I.useContext(TS),PS=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},RS=e=>{I.useEffect(()=>{e.clearReset()},[e])},IS=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||uS(n,[e.error,r])),DS=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},AS=(e,t)=>e.isLoading&&e.isFetching&&!t,LS=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Jh=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function OS(e,t,n){var d,h,v,x,w;const r=CS(),s=MS(),i=kS(),o=i.defaultQueryOptions(e);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",DS(o),PS(o,s),RS(s);const a=!i.getQueryCache().get(o.queryHash),[l]=I.useState(()=>new t(i,o)),u=l.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(S=>{const m=f?l.subscribe($e.batchCalls(S)):nt;return l.updateResult(),m},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),I.useEffect(()=>{l.setOptions(o)},[o,l]),LS(o,u))throw Jh(o,l,s);if(IS({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||x.call(v,o,u),o.experimental_prefetchInRender&&!Dr&&AS(u,r)){const S=a?Jh(o,l,s):(w=i.getQueryCache().get(o.queryHash))==null?void 0:w.promise;S==null||S.catch(nt).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function zS(e,t){return OS(e,gS)}const lr=class lr{constructor(){Ql(this,"nodes",new Map)}static getInstance(){return lr.instance||(lr.instance=new lr),lr.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t),console.log(`[Registry] Registered node: ${t.label} (${t.type})`)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(n=>{t[n.category]||(t[n.category]=[]),t[n.category].push(n)}),t}};Ql(lr,"instance");let $c=lr;const _e=$c.getInstance(),FS={},ep=e=>{let t;const n=new Set,r=(f,d)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const v=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(x=>x(t,v))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(FS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,l);return l},n0=e=>e?ep(e):ep;var r0={exports:{}},s0={},i0={exports:{}},o0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs=I;function $S(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HS=typeof Object.is=="function"?Object.is:$S,BS=Rs.useState,VS=Rs.useEffect,US=Rs.useLayoutEffect,WS=Rs.useDebugValue;function QS(e,t){var n=t(),r=BS({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return US(function(){s.value=n,s.getSnapshot=t,wu(s)&&i({inst:s})},[e,n,t]),VS(function(){return wu(s)&&i({inst:s}),e(function(){wu(s)&&i({inst:s})})},[e]),WS(n),n}function wu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!HS(e,n)}catch{return!0}}function qS(e,t){return t()}var XS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qS:QS;o0.useSyncExternalStore=Rs.useSyncExternalStore!==void 0?Rs.useSyncExternalStore:XS;i0.exports=o0;var KS=i0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=I,YS=KS;function GS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZS=typeof Object.is=="function"?Object.is:GS,JS=YS.useSyncExternalStore,eb=_l.useRef,tb=_l.useEffect,nb=_l.useMemo,rb=_l.useDebugValue;s0.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=eb(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=nb(function(){function l(v){if(!u){if(u=!0,f=v,v=r(v),s!==void 0&&o.hasValue){var x=o.value;if(s(x,v))return d=x}return d=v}if(x=d,ZS(f,v))return x;var w=r(v);return s!==void 0&&s(x,w)?(f=v,x):(f=v,d=w)}var u=!1,f,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,s]);var a=JS(e,i[0],i[1]);return tb(function(){o.hasValue=!0,o.value=a},[a]),rb(a),a};r0.exports=s0;var sb=r0.exports;const a0=Rm(sb),l0={},{useDebugValue:ib}=Ot,{useSyncExternalStoreWithSelector:ob}=a0;let tp=!1;const ab=e=>e;function lb(e,t=ab,n){(l0?"production":void 0)!=="production"&&n&&!tp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),tp=!0);const r=ob(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ib(r),r}const np=e=>{(l0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?n0(e):e,n=(r,s)=>lb(t,r,s);return Object.assign(n,t),n},ub=e=>e?np(e):np;function Ie(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ie(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var cb={value:()=>{}};function kl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ma(n)}function ma(e){this._=e}function db(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ma.prototype=kl.prototype={constructor:ma,on:function(e,t){var n=this._,r=db(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=fb(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=rp(n[s],e.name,t);else if(t==null)for(s in n)n[s]=rp(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ma(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function fb(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function rp(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=cb,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Hc="http://www.w3.org/1999/xhtml";const sp={svg:"http://www.w3.org/2000/svg",xhtml:Hc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function El(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),sp.hasOwnProperty(t)?{space:sp[t],local:e}:e}function hb(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Hc&&t.documentElement.namespaceURI===Hc?t.createElement(e):t.createElementNS(n,e)}}function pb(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function u0(e){var t=El(e);return(t.local?pb:hb)(t)}function mb(){}function rf(e){return e==null?mb:function(){return this.querySelector(e)}}function gb(e){typeof e!="function"&&(e=rf(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=new Array(o),l,u,f=0;f<o;++f)(l=i[f])&&(u=e.call(l,l.__data__,f,i))&&("__data__"in l&&(u.__data__=l.__data__),a[f]=u);return new yt(r,this._parents)}function yb(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function xb(){return[]}function c0(e){return e==null?xb:function(){return this.querySelectorAll(e)}}function vb(e){return function(){return yb(e.apply(this,arguments))}}function wb(e){typeof e=="function"?e=vb(e):e=c0(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),s.push(l));return new yt(r,s)}function d0(e){return function(){return this.matches(e)}}function f0(e){return function(t){return t.matches(e)}}var Sb=Array.prototype.find;function bb(e){return function(){return Sb.call(this.children,e)}}function Nb(){return this.firstElementChild}function _b(e){return this.select(e==null?Nb:bb(typeof e=="function"?e:f0(e)))}var kb=Array.prototype.filter;function Eb(){return Array.from(this.children)}function Cb(e){return function(){return kb.call(this.children,e)}}function jb(e){return this.selectAll(e==null?Eb:Cb(typeof e=="function"?e:f0(e)))}function Tb(e){typeof e!="function"&&(e=d0(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,u=0;u<o;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&a.push(l);return new yt(r,this._parents)}function h0(e){return new Array(e.length)}function Mb(){return new yt(this._enter||this._groups.map(h0),this._parents)}function Xa(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Xa.prototype={constructor:Xa,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Pb(e){return function(){return e}}function Rb(e,t,n,r,s,i){for(var o=0,a,l=t.length,u=i.length;o<u;++o)(a=t[o])?(a.__data__=i[o],r[o]=a):n[o]=new Xa(e,i[o]);for(;o<l;++o)(a=t[o])&&(s[o]=a)}function Ib(e,t,n,r,s,i,o){var a,l,u=new Map,f=t.length,d=i.length,h=new Array(f),v;for(a=0;a<f;++a)(l=t[a])&&(h[a]=v=o.call(l,l.__data__,a,t)+"",u.has(v)?s[a]=l:u.set(v,l));for(a=0;a<d;++a)v=o.call(e,i[a],a,i)+"",(l=u.get(v))?(r[a]=l,l.__data__=i[a],u.delete(v)):n[a]=new Xa(e,i[a]);for(a=0;a<f;++a)(l=t[a])&&u.get(h[a])===l&&(s[a]=l)}function Db(e){return e.__data__}function Ab(e,t){if(!arguments.length)return Array.from(this,Db);var n=t?Ib:Rb,r=this._parents,s=this._groups;typeof e!="function"&&(e=Pb(e));for(var i=s.length,o=new Array(i),a=new Array(i),l=new Array(i),u=0;u<i;++u){var f=r[u],d=s[u],h=d.length,v=Lb(e.call(f,f&&f.__data__,u,r)),x=v.length,w=a[u]=new Array(x),S=o[u]=new Array(x),m=l[u]=new Array(h);n(f,d,w,S,m,v,t);for(var g=0,p=0,y,b;g<x;++g)if(y=w[g]){for(g>=p&&(p=g+1);!(b=S[p])&&++p<x;);y._next=b||null}}return o=new yt(o,r),o._enter=a,o._exit=l,o}function Lb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ob(){return new yt(this._exit||this._groups.map(h0),this._parents)}function zb(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function Fb(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),a=new Array(s),l=0;l<o;++l)for(var u=n[l],f=r[l],d=u.length,h=a[l]=new Array(d),v,x=0;x<d;++x)(v=u[x]||f[x])&&(h[x]=v);for(;l<s;++l)a[l]=n[l];return new yt(a,this._parents)}function $b(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function Hb(e){e||(e=Bb);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],a=o.length,l=s[i]=new Array(a),u,f=0;f<a;++f)(u=o[f])&&(l[f]=u);l.sort(t)}return new yt(s,this._parents).order()}function Bb(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Vb(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ub(){return Array.from(this)}function Wb(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function Qb(){let e=0;for(const t of this)++e;return e}function qb(){return!this.node()}function Xb(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,a;i<o;++i)(a=s[i])&&e.call(a,a.__data__,i,s);return this}function Kb(e){return function(){this.removeAttribute(e)}}function Yb(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Gb(e,t){return function(){this.setAttribute(e,t)}}function Zb(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Jb(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function eN(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function tN(e,t){var n=El(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Yb:Kb:typeof t=="function"?n.local?eN:Jb:n.local?Zb:Gb)(n,t))}function p0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function nN(e){return function(){this.style.removeProperty(e)}}function rN(e,t,n){return function(){this.style.setProperty(e,t,n)}}function sN(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function iN(e,t,n){return arguments.length>1?this.each((t==null?nN:typeof t=="function"?sN:rN)(e,t,n??"")):Is(this.node(),e)}function Is(e,t){return e.style.getPropertyValue(t)||p0(e).getComputedStyle(e,null).getPropertyValue(t)}function oN(e){return function(){delete this[e]}}function aN(e,t){return function(){this[e]=t}}function lN(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function uN(e,t){return arguments.length>1?this.each((t==null?oN:typeof t=="function"?lN:aN)(e,t)):this.node()[e]}function m0(e){return e.trim().split(/^|\s+/)}function sf(e){return e.classList||new g0(e)}function g0(e){this._node=e,this._names=m0(e.getAttribute("class")||"")}g0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function y0(e,t){for(var n=sf(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function x0(e,t){for(var n=sf(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function cN(e){return function(){y0(this,e)}}function dN(e){return function(){x0(this,e)}}function fN(e,t){return function(){(t.apply(this,arguments)?y0:x0)(this,e)}}function hN(e,t){var n=m0(e+"");if(arguments.length<2){for(var r=sf(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?fN:t?cN:dN)(n,t))}function pN(){this.textContent=""}function mN(e){return function(){this.textContent=e}}function gN(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function yN(e){return arguments.length?this.each(e==null?pN:(typeof e=="function"?gN:mN)(e)):this.node().textContent}function xN(){this.innerHTML=""}function vN(e){return function(){this.innerHTML=e}}function wN(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function SN(e){return arguments.length?this.each(e==null?xN:(typeof e=="function"?wN:vN)(e)):this.node().innerHTML}function bN(){this.nextSibling&&this.parentNode.appendChild(this)}function NN(){return this.each(bN)}function _N(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function kN(){return this.each(_N)}function EN(e){var t=typeof e=="function"?e:u0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function CN(){return null}function jN(e,t){var n=typeof e=="function"?e:u0(e),r=t==null?CN:typeof t=="function"?t:rf(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function TN(){var e=this.parentNode;e&&e.removeChild(this)}function MN(){return this.each(TN)}function PN(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function RN(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function IN(e){return this.select(e?RN:PN)}function DN(e){return arguments.length?this.property("__data__",e):this.node().__data__}function AN(e){return function(t){e.call(this,t,this.__data__)}}function LN(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ON(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function zN(e,t,n){return function(){var r=this.__on,s,i=AN(t);if(r){for(var o=0,a=r.length;o<a;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function FN(e,t,n){var r=LN(e+""),s,i=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,f;l<u;++l)for(s=0,f=a[l];s<i;++s)if((o=r[s]).type===f.type&&o.name===f.name)return f.value}return}for(a=t?zN:ON,s=0;s<i;++s)this.each(a(r[s],t,n));return this}function v0(e,t,n){var r=p0(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function $N(e,t){return function(){return v0(this,e,t)}}function HN(e,t){return function(){return v0(this,e,t.apply(this,arguments))}}function BN(e,t){return this.each((typeof t=="function"?HN:$N)(e,t))}function*VN(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var w0=[null];function yt(e,t){this._groups=e,this._parents=t}function po(){return new yt([[document.documentElement]],w0)}function UN(){return this}yt.prototype=po.prototype={constructor:yt,select:gb,selectAll:wb,selectChild:_b,selectChildren:jb,filter:Tb,data:Ab,enter:Mb,exit:Ob,join:zb,merge:Fb,selection:UN,order:$b,sort:Hb,call:Vb,nodes:Ub,node:Wb,size:Qb,empty:qb,each:Xb,attr:tN,style:iN,property:uN,classed:hN,text:yN,html:SN,raise:NN,lower:kN,append:EN,insert:jN,remove:MN,clone:IN,datum:DN,on:FN,dispatch:BN,[Symbol.iterator]:VN};function ht(e){return typeof e=="string"?new yt([[document.querySelector(e)]],[document.documentElement]):new yt([[e]],w0)}function WN(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Dt(e,t){if(e=WN(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const QN={passive:!1},qi={capture:!0,passive:!1};function Su(e){e.stopImmediatePropagation()}function ds(e){e.preventDefault(),e.stopImmediatePropagation()}function S0(e){var t=e.document.documentElement,n=ht(e).on("dragstart.drag",ds,qi);"onselectstart"in t?n.on("selectstart.drag",ds,qi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function b0(e,t){var n=e.document.documentElement,r=ht(e).on("dragstart.drag",null);t&&(r.on("click.drag",ds,qi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Qo=e=>()=>e;function Bc(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:a,dx:l,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Bc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function qN(e){return!e.ctrlKey&&!e.button}function XN(){return this.parentNode}function KN(e,t){return t??{x:e.x,y:e.y}}function YN(){return navigator.maxTouchPoints||"ontouchstart"in this}function N0(){var e=qN,t=XN,n=KN,r=YN,s={},i=kl("start","drag","end"),o=0,a,l,u,f,d=0;function h(y){y.on("mousedown.drag",v).filter(r).on("touchstart.drag",S).on("touchmove.drag",m,QN).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(y,b){if(!(f||!e.call(this,y,b))){var N=p(this,t.call(this,y,b),y,b,"mouse");N&&(ht(y.view).on("mousemove.drag",x,qi).on("mouseup.drag",w,qi),S0(y.view),Su(y),u=!1,a=y.clientX,l=y.clientY,N("start",y))}}function x(y){if(ds(y),!u){var b=y.clientX-a,N=y.clientY-l;u=b*b+N*N>d}s.mouse("drag",y)}function w(y){ht(y.view).on("mousemove.drag mouseup.drag",null),b0(y.view,u),ds(y),s.mouse("end",y)}function S(y,b){if(e.call(this,y,b)){var N=y.changedTouches,_=t.call(this,y,b),k=N.length,M,D;for(M=0;M<k;++M)(D=p(this,_,y,b,N[M].identifier,N[M]))&&(Su(y),D("start",y,N[M]))}}function m(y){var b=y.changedTouches,N=b.length,_,k;for(_=0;_<N;++_)(k=s[b[_].identifier])&&(ds(y),k("drag",y,b[_]))}function g(y){var b=y.changedTouches,N=b.length,_,k;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),_=0;_<N;++_)(k=s[b[_].identifier])&&(Su(y),k("end",y,b[_]))}function p(y,b,N,_,k,M){var D=i.copy(),R=Dt(M||N,b),A,B,E;if((E=n.call(y,new Bc("beforestart",{sourceEvent:N,target:h,identifier:k,active:o,x:R[0],y:R[1],dx:0,dy:0,dispatch:D}),_))!=null)return A=E.x-R[0]||0,B=E.y-R[1]||0,function L(P,z,C){var j=R,O;switch(P){case"start":s[k]=L,O=o++;break;case"end":delete s[k],--o;case"drag":R=Dt(C||z,b),O=o;break}D.call(P,y,new Bc(P,{sourceEvent:z,subject:E,target:h,identifier:k,active:O,x:R[0]+A,y:R[1]+B,dx:R[0]-j[0],dy:R[1]-j[1],dispatch:D}),_)}}return h.filter=function(y){return arguments.length?(e=typeof y=="function"?y:Qo(!!y),h):e},h.container=function(y){return arguments.length?(t=typeof y=="function"?y:Qo(y),h):t},h.subject=function(y){return arguments.length?(n=typeof y=="function"?y:Qo(y),h):n},h.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:Qo(!!y),h):r},h.on=function(){var y=i.on.apply(i,arguments);return y===i?h:y},h.clickDistance=function(y){return arguments.length?(d=(y=+y)*y,h):Math.sqrt(d)},h}function of(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _0(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mo(){}var Xi=.7,Ka=1/Xi,fs="\\s*([+-]?\\d+)\\s*",Ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GN=/^#([0-9a-f]{3,8})$/,ZN=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),JN=new RegExp(`^rgb\\(${tn},${tn},${tn}\\)$`),e_=new RegExp(`^rgba\\(${fs},${fs},${fs},${Ki}\\)$`),t_=new RegExp(`^rgba\\(${tn},${tn},${tn},${Ki}\\)$`),n_=new RegExp(`^hsl\\(${Ki},${tn},${tn}\\)$`),r_=new RegExp(`^hsla\\(${Ki},${tn},${tn},${Ki}\\)$`),ip={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};of(mo,Ar,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:op,formatHex:op,formatHex8:s_,formatHsl:i_,formatRgb:ap,toString:ap});function op(){return this.rgb().formatHex()}function s_(){return this.rgb().formatHex8()}function i_(){return k0(this).formatHsl()}function ap(){return this.rgb().formatRgb()}function Ar(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=GN.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?lp(t):n===3?new it(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?qo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?qo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ZN.exec(e))?new it(t[1],t[2],t[3],1):(t=JN.exec(e))?new it(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=e_.exec(e))?qo(t[1],t[2],t[3],t[4]):(t=t_.exec(e))?qo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=n_.exec(e))?dp(t[1],t[2]/100,t[3]/100,1):(t=r_.exec(e))?dp(t[1],t[2]/100,t[3]/100,t[4]):ip.hasOwnProperty(e)?lp(ip[e]):e==="transparent"?new it(NaN,NaN,NaN,0):null}function lp(e){return new it(e>>16&255,e>>8&255,e&255,1)}function qo(e,t,n,r){return r<=0&&(e=t=n=NaN),new it(e,t,n,r)}function o_(e){return e instanceof mo||(e=Ar(e)),e?(e=e.rgb(),new it(e.r,e.g,e.b,e.opacity)):new it}function Vc(e,t,n,r){return arguments.length===1?o_(e):new it(e,t,n,r??1)}function it(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}of(it,Vc,_0(mo,{brighter(e){return e=e==null?Ka:Math.pow(Ka,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xi:Math.pow(Xi,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new it(Er(this.r),Er(this.g),Er(this.b),Ya(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:up,formatHex:up,formatHex8:a_,formatRgb:cp,toString:cp}));function up(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}`}function a_(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}${hr((isNaN(this.opacity)?1:this.opacity)*255)}`}function cp(){const e=Ya(this.opacity);return`${e===1?"rgb(":"rgba("}${Er(this.r)}, ${Er(this.g)}, ${Er(this.b)}${e===1?")":`, ${e})`}`}function Ya(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Er(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hr(e){return e=Er(e),(e<16?"0":"")+e.toString(16)}function dp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Lt(e,t,n,r)}function k0(e){if(e instanceof Lt)return new Lt(e.h,e.s,e.l,e.opacity);if(e instanceof mo||(e=Ar(e)),!e)return new Lt;if(e instanceof Lt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,a=i-s,l=(i+s)/2;return a?(t===i?o=(n-r)/a+(n<r)*6:n===i?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?i+s:2-i-s,o*=60):a=l>0&&l<1?0:o,new Lt(o,a,l,e.opacity)}function l_(e,t,n,r){return arguments.length===1?k0(e):new Lt(e,t,n,r??1)}function Lt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}of(Lt,l_,_0(mo,{brighter(e){return e=e==null?Ka:Math.pow(Ka,e),new Lt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xi:Math.pow(Xi,e),new Lt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new it(bu(e>=240?e-240:e+120,s,r),bu(e,s,r),bu(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Lt(fp(this.h),Xo(this.s),Xo(this.l),Ya(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ya(this.opacity);return`${e===1?"hsl(":"hsla("}${fp(this.h)}, ${Xo(this.s)*100}%, ${Xo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fp(e){return e=(e||0)%360,e<0?e+360:e}function Xo(e){return Math.max(0,Math.min(1,e||0))}function bu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const af=e=>()=>e;function u_(e,t){return function(n){return e+n*t}}function c_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function d_(e){return(e=+e)==1?E0:function(t,n){return n-t?c_(t,n,e):af(isNaN(t)?n:t)}}function E0(e,t){var n=t-e;return n?u_(e,n):af(isNaN(e)?t:e)}const Ga=function e(t){var n=d_(t);function r(s,i){var o=n((s=Vc(s)).r,(i=Vc(i)).r),a=n(s.g,i.g),l=n(s.b,i.b),u=E0(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=a(f),s.b=l(f),s.opacity=u(f),s+""}}return r.gamma=e,r}(1);function f_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function h_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function p_(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Ei(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(a){for(o=0;o<r;++o)i[o]=s[o](a);return i}}function m_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Gt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function g_(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Ei(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var Uc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nu=new RegExp(Uc.source,"g");function y_(e){return function(){return e}}function x_(e){return function(t){return e(t)+""}}function C0(e,t){var n=Uc.lastIndex=Nu.lastIndex=0,r,s,i,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Uc.exec(e))&&(s=Nu.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:Gt(r,s)})),n=Nu.lastIndex;return n<t.length&&(i=t.slice(n),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?x_(l[0].x):y_(t):(t=l.length,function(u){for(var f=0,d;f<t;++f)a[(d=l[f]).i]=d.x(u);return a.join("")})}function Ei(e,t){var n=typeof t,r;return t==null||n==="boolean"?af(t):(n==="number"?Gt:n==="string"?(r=Ar(t))?(t=r,Ga):C0:t instanceof Ar?Ga:t instanceof Date?m_:h_(t)?f_:Array.isArray(t)?p_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?g_:Gt)(e,t)}var hp=180/Math.PI,Wc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function j0(e,t,n,r,s,i){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*hp,skewX:Math.atan(l)*hp,scaleX:o,scaleY:a}}var Ko;function v_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Wc:j0(t.a,t.b,t.c,t.d,t.e,t.f)}function w_(e){return e==null||(Ko||(Ko=document.createElementNS("http://www.w3.org/2000/svg","g")),Ko.setAttribute("transform",e),!(e=Ko.transform.baseVal.consolidate()))?Wc:(e=e.matrix,j0(e.a,e.b,e.c,e.d,e.e,e.f))}function T0(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function i(u,f,d,h,v,x){if(u!==d||f!==h){var w=v.push("translate(",null,t,null,n);x.push({i:w-4,x:Gt(u,d)},{i:w-2,x:Gt(f,h)})}else(d||h)&&v.push("translate("+d+t+h+n)}function o(u,f,d,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:d.push(s(d)+"rotate(",null,r)-2,x:Gt(u,f)})):f&&d.push(s(d)+"rotate("+f+r)}function a(u,f,d,h){u!==f?h.push({i:d.push(s(d)+"skewX(",null,r)-2,x:Gt(u,f)}):f&&d.push(s(d)+"skewX("+f+r)}function l(u,f,d,h,v,x){if(u!==d||f!==h){var w=v.push(s(v)+"scale(",null,",",null,")");x.push({i:w-4,x:Gt(u,d)},{i:w-2,x:Gt(f,h)})}else(d!==1||h!==1)&&v.push(s(v)+"scale("+d+","+h+")")}return function(u,f){var d=[],h=[];return u=e(u),f=e(f),i(u.translateX,u.translateY,f.translateX,f.translateY,d,h),o(u.rotate,f.rotate,d,h),a(u.skewX,f.skewX,d,h),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,h),u=f=null,function(v){for(var x=-1,w=h.length,S;++x<w;)d[(S=h[x]).i]=S.x(v);return d.join("")}}}var S_=T0(v_,"px, ","px)","deg)"),b_=T0(w_,", ",")",")"),N_=1e-12;function pp(e){return((e=Math.exp(e))+1/e)/2}function __(e){return((e=Math.exp(e))-1/e)/2}function k_(e){return((e=Math.exp(2*e))-1)/(e+1)}const ga=function e(t,n,r){function s(i,o){var a=i[0],l=i[1],u=i[2],f=o[0],d=o[1],h=o[2],v=f-a,x=d-l,w=v*v+x*x,S,m;if(w<N_)m=Math.log(h/u)/t,S=function(_){return[a+_*v,l+_*x,u*Math.exp(t*_*m)]};else{var g=Math.sqrt(w),p=(h*h-u*u+r*w)/(2*u*n*g),y=(h*h-u*u-r*w)/(2*h*n*g),b=Math.log(Math.sqrt(p*p+1)-p),N=Math.log(Math.sqrt(y*y+1)-y);m=(N-b)/t,S=function(_){var k=_*m,M=pp(b),D=u/(n*g)*(M*k_(t*k+b)-__(b));return[a+D*v,l+D*x,u*M/pp(t*k+b)]}}return S.duration=m*1e3*t/Math.SQRT2,S}return s.rho=function(i){var o=Math.max(.001,+i),a=o*o,l=a*a;return e(o,a,l)},s}(Math.SQRT2,2,4);var Ds=0,mi=0,ai=0,M0=1e3,Za,gi,Ja=0,Lr=0,Cl=0,Yi=typeof performance=="object"&&performance.now?performance:Date,P0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function lf(){return Lr||(P0(E_),Lr=Yi.now()+Cl)}function E_(){Lr=0}function el(){this._call=this._time=this._next=null}el.prototype=R0.prototype={constructor:el,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?lf():+n)+(t==null?0:+t),!this._next&&gi!==this&&(gi?gi._next=this:Za=this,gi=this),this._call=e,this._time=n,Qc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qc())}};function R0(e,t,n){var r=new el;return r.restart(e,t,n),r}function C_(){lf(),++Ds;for(var e=Za,t;e;)(t=Lr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ds}function mp(){Lr=(Ja=Yi.now())+Cl,Ds=mi=0;try{C_()}finally{Ds=0,T_(),Lr=0}}function j_(){var e=Yi.now(),t=e-Ja;t>M0&&(Cl-=t,Ja=e)}function T_(){for(var e,t=Za,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Za=n);gi=e,Qc(r)}function Qc(e){if(!Ds){mi&&(mi=clearTimeout(mi));var t=e-Lr;t>24?(e<1/0&&(mi=setTimeout(mp,e-Yi.now()-Cl)),ai&&(ai=clearInterval(ai))):(ai||(Ja=Yi.now(),ai=setInterval(j_,M0)),Ds=1,P0(mp))}}function gp(e,t,n){var r=new el;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var M_=kl("start","end","cancel","interrupt"),P_=[],I0=0,yp=1,qc=2,ya=3,xp=4,Xc=5,xa=6;function jl(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;R_(e,n,{name:t,index:r,group:s,on:M_,tween:P_,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:I0})}function uf(e,t){var n=Vt(e,t);if(n.state>I0)throw new Error("too late; already scheduled");return n}function rn(e,t){var n=Vt(e,t);if(n.state>ya)throw new Error("too late; already running");return n}function Vt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function R_(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=R0(i,0,n.time);function i(u){n.state=yp,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var f,d,h,v;if(n.state!==yp)return l();for(f in r)if(v=r[f],v.name===n.name){if(v.state===ya)return gp(o);v.state===xp?(v.state=xa,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[f]):+f<t&&(v.state=xa,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[f])}if(gp(function(){n.state===ya&&(n.state=xp,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=qc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===qc){for(n.state=ya,s=new Array(h=n.tween.length),f=0,d=-1;f<h;++f)(v=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(s[++d]=v);s.length=d+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Xc,1),d=-1,h=s.length;++d<h;)s[d].call(e,f);n.state===Xc&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=xa,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function va(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>qc&&r.state<Xc,r.state=xa,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function I_(e){return this.each(function(){va(this,e)})}function D_(e,t){var n,r;return function(){var s=rn(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function A_(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=rn(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var a={name:t,value:n},l=0,u=s.length;l<u;++l)if(s[l].name===t){s[l]=a;break}l===u&&s.push(a)}i.tween=s}}function L_(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Vt(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?D_:A_)(n,e,t))}function cf(e,t,n){var r=e._id;return e.each(function(){var s=rn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Vt(s,r).value[t]}}function D0(e,t){var n;return(typeof t=="number"?Gt:t instanceof Ar?Ga:(n=Ar(t))?(t=n,Ga):C0)(e,t)}function O_(e){return function(){this.removeAttribute(e)}}function z_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function F_(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function $_(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function H_(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function B_(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function V_(e,t){var n=El(e),r=n==="transform"?b_:D0;return this.attrTween(e,typeof t=="function"?(n.local?B_:H_)(n,r,cf(this,"attr."+e,t)):t==null?(n.local?z_:O_)(n):(n.local?$_:F_)(n,r,t))}function U_(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function W_(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Q_(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&W_(e,i)),n}return s._value=t,s}function q_(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&U_(e,i)),n}return s._value=t,s}function X_(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=El(e);return this.tween(n,(r.local?Q_:q_)(r,t))}function K_(e,t){return function(){uf(this,e).delay=+t.apply(this,arguments)}}function Y_(e,t){return t=+t,function(){uf(this,e).delay=t}}function G_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?K_:Y_)(t,e)):Vt(this.node(),t).delay}function Z_(e,t){return function(){rn(this,e).duration=+t.apply(this,arguments)}}function J_(e,t){return t=+t,function(){rn(this,e).duration=t}}function ek(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Z_:J_)(t,e)):Vt(this.node(),t).duration}function tk(e,t){if(typeof t!="function")throw new Error;return function(){rn(this,e).ease=t}}function nk(e){var t=this._id;return arguments.length?this.each(tk(t,e)):Vt(this.node(),t).ease}function rk(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;rn(this,e).ease=n}}function sk(e){if(typeof e!="function")throw new Error;return this.each(rk(this._id,e))}function ik(e){typeof e!="function"&&(e=d0(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,u=0;u<o;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&a.push(l);return new wn(r,this._parents,this._name,this._id)}function ok(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),a=0;a<i;++a)for(var l=t[a],u=n[a],f=l.length,d=o[a]=new Array(f),h,v=0;v<f;++v)(h=l[v]||u[v])&&(d[v]=h);for(;a<r;++a)o[a]=t[a];return new wn(o,this._parents,this._name,this._id)}function ak(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function lk(e,t,n){var r,s,i=ak(t)?uf:rn;return function(){var o=i(this,e),a=o.on;a!==r&&(s=(r=a).copy()).on(t,n),o.on=s}}function uk(e,t){var n=this._id;return arguments.length<2?Vt(this.node(),n).on.on(e):this.each(lk(n,e,t))}function ck(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function dk(){return this.on("end.remove",ck(this._id))}function fk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=rf(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var a=r[o],l=a.length,u=i[o]=new Array(l),f,d,h=0;h<l;++h)(f=a[h])&&(d=e.call(f,f.__data__,h,a))&&("__data__"in f&&(d.__data__=f.__data__),u[h]=d,jl(u[h],t,n,h,u,Vt(f,n)));return new wn(i,this._parents,t,n)}function hk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=c0(e));for(var r=this._groups,s=r.length,i=[],o=[],a=0;a<s;++a)for(var l=r[a],u=l.length,f,d=0;d<u;++d)if(f=l[d]){for(var h=e.call(f,f.__data__,d,l),v,x=Vt(f,n),w=0,S=h.length;w<S;++w)(v=h[w])&&jl(v,t,n,w,h,x);i.push(h),o.push(f)}return new wn(i,o,t,n)}var pk=po.prototype.constructor;function mk(){return new pk(this._groups,this._parents)}function gk(e,t){var n,r,s;return function(){var i=Is(this,e),o=(this.style.removeProperty(e),Is(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function A0(e){return function(){this.style.removeProperty(e)}}function yk(e,t,n){var r,s=n+"",i;return function(){var o=Is(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function xk(e,t,n){var r,s,i;return function(){var o=Is(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Is(this,e))),o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a))}}function vk(e,t){var n,r,s,i="style."+t,o="end."+i,a;return function(){var l=rn(this,e),u=l.on,f=l.value[i]==null?a||(a=A0(t)):void 0;(u!==n||s!==f)&&(r=(n=u).copy()).on(o,s=f),l.on=r}}function wk(e,t,n){var r=(e+="")=="transform"?S_:D0;return t==null?this.styleTween(e,gk(e,r)).on("end.style."+e,A0(e)):typeof t=="function"?this.styleTween(e,xk(e,r,cf(this,"style."+e,t))).each(vk(this._id,e)):this.styleTween(e,yk(e,r,t),n).on("end.style."+e,null)}function Sk(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function bk(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&Sk(e,o,n)),r}return i._value=t,i}function Nk(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,bk(e,t,n??""))}function _k(e){return function(){this.textContent=e}}function kk(e){return function(){var t=e(this);this.textContent=t??""}}function Ek(e){return this.tween("text",typeof e=="function"?kk(cf(this,"text",e)):_k(e==null?"":e+""))}function Ck(e){return function(t){this.textContent=e.call(this,t)}}function jk(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Ck(s)),t}return r._value=e,r}function Tk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,jk(e))}function Mk(){for(var e=this._name,t=this._id,n=L0(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var f=Vt(l,t);jl(l,e,n,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new wn(r,this._parents,e,n)}function Pk(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var a={value:o},l={value:function(){--s===0&&i()}};n.each(function(){var u=rn(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),s===0&&i()})}var Rk=0;function wn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function L0(){return++Rk}var on=po.prototype;wn.prototype={constructor:wn,select:fk,selectAll:hk,selectChild:on.selectChild,selectChildren:on.selectChildren,filter:ik,merge:ok,selection:mk,transition:Mk,call:on.call,nodes:on.nodes,node:on.node,size:on.size,empty:on.empty,each:on.each,on:uk,attr:V_,attrTween:X_,style:wk,styleTween:Nk,text:Ek,textTween:Tk,remove:dk,tween:L_,delay:G_,duration:ek,ease:nk,easeVarying:sk,end:Pk,[Symbol.iterator]:on[Symbol.iterator]};function Ik(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Dk={time:null,delay:0,duration:250,ease:Ik};function Ak(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Lk(e){var t,n;e instanceof wn?(t=e._id,e=e._name):(t=L0(),(n=Dk).time=lf(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,u=0;u<a;++u)(l=o[u])&&jl(l,e,t,u,o,n||Ak(l,t));return new wn(r,this._parents,e,t)}po.prototype.interrupt=I_;po.prototype.transition=Lk;const Yo=e=>()=>e;function Ok(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function pn(e,t,n){this.k=e,this.x=t,this.y=n}pn.prototype={constructor:pn,scale:function(e){return e===1?this:new pn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Tl=new pn(1,0,0);O0.prototype=pn.prototype;function O0(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Tl;return e.__zoom}function _u(e){e.stopImmediatePropagation()}function li(e){e.preventDefault(),e.stopImmediatePropagation()}function zk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Fk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function vp(){return this.__zoom||Tl}function $k(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Hk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bk(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function z0(){var e=zk,t=Fk,n=Bk,r=$k,s=Hk,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=ga,u=kl("start","zoom","end"),f,d,h,v=500,x=150,w=0,S=10;function m(E){E.property("__zoom",vp).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",D).filter(s).on("touchstart.zoom",R).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(E,L,P,z){var C=E.selection?E.selection():E;C.property("__zoom",vp),E!==C?b(E,L,P,z):C.interrupt().each(function(){N(this,arguments).event(z).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},m.scaleBy=function(E,L,P,z){m.scaleTo(E,function(){var C=this.__zoom.k,j=typeof L=="function"?L.apply(this,arguments):L;return C*j},P,z)},m.scaleTo=function(E,L,P,z){m.transform(E,function(){var C=t.apply(this,arguments),j=this.__zoom,O=P==null?y(C):typeof P=="function"?P.apply(this,arguments):P,$=j.invert(O),H=typeof L=="function"?L.apply(this,arguments):L;return n(p(g(j,H),O,$),C,o)},P,z)},m.translateBy=function(E,L,P,z){m.transform(E,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof P=="function"?P.apply(this,arguments):P),t.apply(this,arguments),o)},null,z)},m.translateTo=function(E,L,P,z,C){m.transform(E,function(){var j=t.apply(this,arguments),O=this.__zoom,$=z==null?y(j):typeof z=="function"?z.apply(this,arguments):z;return n(Tl.translate($[0],$[1]).scale(O.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof P=="function"?-P.apply(this,arguments):-P),j,o)},z,C)};function g(E,L){return L=Math.max(i[0],Math.min(i[1],L)),L===E.k?E:new pn(L,E.x,E.y)}function p(E,L,P){var z=L[0]-P[0]*E.k,C=L[1]-P[1]*E.k;return z===E.x&&C===E.y?E:new pn(E.k,z,C)}function y(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function b(E,L,P,z){E.on("start.zoom",function(){N(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(z).end()}).tween("zoom",function(){var C=this,j=arguments,O=N(C,j).event(z),$=t.apply(C,j),H=P==null?y($):typeof P=="function"?P.apply(C,j):P,Q=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),U=C.__zoom,K=typeof L=="function"?L.apply(C,j):L,Y=l(U.invert(H).concat(Q/U.k),K.invert(H).concat(Q/K.k));return function(Z){if(Z===1)Z=K;else{var W=Y(Z),J=Q/W[2];Z=new pn(J,H[0]-W[0]*J,H[1]-W[1]*J)}O.zoom(null,Z)}})}function N(E,L,P){return!P&&E.__zooming||new _(E,L)}function _(E,L){this.that=E,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,L),this.taps=0}_.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,L){return this.mouse&&E!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var L=ht(this.that).datum();u.call(E,this.that,new Ok(E,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),L)}};function k(E,...L){if(!e.apply(this,arguments))return;var P=N(this,L).event(E),z=this.__zoom,C=Math.max(i[0],Math.min(i[1],z.k*Math.pow(2,r.apply(this,arguments)))),j=Dt(E);if(P.wheel)(P.mouse[0][0]!==j[0]||P.mouse[0][1]!==j[1])&&(P.mouse[1]=z.invert(P.mouse[0]=j)),clearTimeout(P.wheel);else{if(z.k===C)return;P.mouse=[j,z.invert(j)],va(this),P.start()}li(E),P.wheel=setTimeout(O,x),P.zoom("mouse",n(p(g(z,C),P.mouse[0],P.mouse[1]),P.extent,o));function O(){P.wheel=null,P.end()}}function M(E,...L){if(h||!e.apply(this,arguments))return;var P=E.currentTarget,z=N(this,L,!0).event(E),C=ht(E.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",Q,!0),j=Dt(E,P),O=E.clientX,$=E.clientY;S0(E.view),_u(E),z.mouse=[j,this.__zoom.invert(j)],va(this),z.start();function H(U){if(li(U),!z.moved){var K=U.clientX-O,Y=U.clientY-$;z.moved=K*K+Y*Y>w}z.event(U).zoom("mouse",n(p(z.that.__zoom,z.mouse[0]=Dt(U,P),z.mouse[1]),z.extent,o))}function Q(U){C.on("mousemove.zoom mouseup.zoom",null),b0(U.view,z.moved),li(U),z.event(U).end()}}function D(E,...L){if(e.apply(this,arguments)){var P=this.__zoom,z=Dt(E.changedTouches?E.changedTouches[0]:E,this),C=P.invert(z),j=P.k*(E.shiftKey?.5:2),O=n(p(g(P,j),z,C),t.apply(this,L),o);li(E),a>0?ht(this).transition().duration(a).call(b,O,z,E):ht(this).call(m.transform,O,z,E)}}function R(E,...L){if(e.apply(this,arguments)){var P=E.touches,z=P.length,C=N(this,L,E.changedTouches.length===z).event(E),j,O,$,H;for(_u(E),O=0;O<z;++O)$=P[O],H=Dt($,this),H=[H,this.__zoom.invert(H),$.identifier],C.touch0?!C.touch1&&C.touch0[2]!==H[2]&&(C.touch1=H,C.taps=0):(C.touch0=H,j=!0,C.taps=1+!!f);f&&(f=clearTimeout(f)),j&&(C.taps<2&&(d=H[0],f=setTimeout(function(){f=null},v)),va(this),C.start())}}function A(E,...L){if(this.__zooming){var P=N(this,L).event(E),z=E.changedTouches,C=z.length,j,O,$,H;for(li(E),j=0;j<C;++j)O=z[j],$=Dt(O,this),P.touch0&&P.touch0[2]===O.identifier?P.touch0[0]=$:P.touch1&&P.touch1[2]===O.identifier&&(P.touch1[0]=$);if(O=P.that.__zoom,P.touch1){var Q=P.touch0[0],U=P.touch0[1],K=P.touch1[0],Y=P.touch1[1],Z=(Z=K[0]-Q[0])*Z+(Z=K[1]-Q[1])*Z,W=(W=Y[0]-U[0])*W+(W=Y[1]-U[1])*W;O=g(O,Math.sqrt(Z/W)),$=[(Q[0]+K[0])/2,(Q[1]+K[1])/2],H=[(U[0]+Y[0])/2,(U[1]+Y[1])/2]}else if(P.touch0)$=P.touch0[0],H=P.touch0[1];else return;P.zoom("touch",n(p(O,$,H),P.extent,o))}}function B(E,...L){if(this.__zooming){var P=N(this,L).event(E),z=E.changedTouches,C=z.length,j,O;for(_u(E),h&&clearTimeout(h),h=setTimeout(function(){h=null},v),j=0;j<C;++j)O=z[j],P.touch0&&P.touch0[2]===O.identifier?delete P.touch0:P.touch1&&P.touch1[2]===O.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(O=Dt(O,this),Math.hypot(d[0]-O[0],d[1]-O[1])<S)){var $=ht(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return m.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:Yo(+E),m):r},m.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Yo(!!E),m):e},m.touchable=function(E){return arguments.length?(s=typeof E=="function"?E:Yo(!!E),m):s},m.extent=function(E){return arguments.length?(t=typeof E=="function"?E:Yo([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),m):t},m.scaleExtent=function(E){return arguments.length?(i[0]=+E[0],i[1]=+E[1],m):[i[0],i[1]]},m.translateExtent=function(E){return arguments.length?(o[0][0]=+E[0][0],o[1][0]=+E[1][0],o[0][1]=+E[0][1],o[1][1]=+E[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(E){return arguments.length?(n=E,m):n},m.duration=function(E){return arguments.length?(a=+E,m):a},m.interpolate=function(E){return arguments.length?(l=E,m):l},m.on=function(){var E=u.on.apply(u,arguments);return E===u?m:E},m.clickDistance=function(E){return arguments.length?(w=(E=+E)*E,m):Math.sqrt(w)},m.tapDistance=function(E){return arguments.length?(S=+E,m):S},m}const nn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Gi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],F0=["Enter"," ","Escape"],$0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var As;(function(e){e.Strict="strict",e.Loose="loose"})(As||(As={}));var Cr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Cr||(Cr={}));var Zi;(function(e){e.Partial="partial",e.Full="full"})(Zi||(Zi={}));const H0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Rn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Rn||(Rn={}));var tl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(tl||(tl={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));const wp={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top};function B0(e){return e===null?null:e?"valid":"invalid"}const V0=e=>"id"in e&&"source"in e&&"target"in e,Vk=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),df=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Ml=(e,t,n)=>{if(!e.id)return[];const r=new Set;return n.forEach(s=>{s.target===e.id&&r.add(s.source)}),t.filter(s=>r.has(s.id))},go=(e,t=[0,0])=>{const{width:n,height:r}=bn(e),s=e.origin??t,i=n*s[0],o=r*s[1];return{x:e.position.x-i,y:e.position.y-o}},Uk=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const i=typeof s=="string";let o=!t.nodeLookup&&!i?s:void 0;t.nodeLookup&&(o=i?t.nodeLookup.get(s):df(s)?s:t.nodeLookup.get(s.id));const a=o?nl(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Pl(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Rl(n)},yo=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(s=>{(t.filter===void 0||t.filter(s))&&(n=Pl(n,nl(s)),r=!0)}),r?Rl(n):{x:0,y:0,width:0,height:0}},ff=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1)=>{const a={...vo(t,[n,r,s]),width:t.width/s,height:t.height/s},l=[];for(const u of e.values()){const{measured:f,selectable:d=!0,hidden:h=!1}=u;if(o&&!d||h)continue;const v=f.width??u.width??u.initialWidth??null,x=f.height??u.height??u.initialHeight??null,w=Ji(a,Os(u)),S=(v??0)*(x??0),m=i&&w>0;(!u.internals.handleBounds||m||w>=S||u.dragging)&&l.push(u)}return l},Wk=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Qk(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function qk({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:i},o){if(e.size===0)return Promise.resolve(!0);const a=Qk(e,o),l=yo(a),u=hf(l,t,n,(o==null?void 0:o.minZoom)??s,(o==null?void 0:o.maxZoom)??i,(o==null?void 0:o.padding)??.1);return await r.setViewport(u,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function U0({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:i}){const o=n.get(e),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},f=o.origin??r;let d=o.extent||s;if(o.extent==="parent"&&!o.expandParent)if(!a)i==null||i("005",nn.error005());else{const v=a.measured.width,x=a.measured.height;v&&x&&(d=[[l,u],[l+v,u+x]])}else a&&zs(o.extent)&&(d=[[o.extent[0][0]+l,o.extent[0][1]+u],[o.extent[1][0]+l,o.extent[1][1]+u]]);const h=zs(d)?Or(t,d,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(i==null||i("015",nn.error015())),{position:{x:h.x-l+(o.measured.width??0)*f[0],y:h.y-u+(o.measured.height??0)*f[1]},positionAbsolute:h}}async function Xk({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const i=new Set(e.map(h=>h.id)),o=[];for(const h of n){if(h.deletable===!1)continue;const v=i.has(h.id),x=!v&&h.parentId&&o.find(w=>w.id===h.parentId);(v||x)&&o.push(h)}const a=new Set(t.map(h=>h.id)),l=r.filter(h=>h.deletable!==!1),f=Wk(o,l);for(const h of l)a.has(h.id)&&!f.find(x=>x.id===h.id)&&f.push(h);if(!s)return{edges:f,nodes:o};const d=await s({nodes:o,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:o}:{edges:[],nodes:[]}:d}const Ls=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Or=(e={x:0,y:0},t,n)=>({x:Ls(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Ls(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function W0(e,t,n){const{width:r,height:s}=bn(n),{x:i,y:o}=n.internals.positionAbsolute;return Or(e,[[i,o],[i+r,o+s]],t)}const Sp=(e,t,n)=>e<t?Ls(Math.abs(e-t),1,t)/t:e>n?-Ls(Math.abs(e-n),1,t)/t:0,Q0=(e,t,n=15,r=40)=>{const s=Sp(e.x,r,t.width-r)*n,i=Sp(e.y,r,t.height-r)*n;return[s,i]},Pl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Kc=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Rl=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Os=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=df(e)?e.internals.positionAbsolute:go(e,t);return{x:n,y:r,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},nl=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=df(e)?e.internals.positionAbsolute:go(e,t);return{x:n,y:r,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},q0=(e,t)=>Rl(Pl(Kc(e),Kc(t))),Ji=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},bp=e=>zt(e.width)&&zt(e.height)&&zt(e.x)&&zt(e.y),zt=e=>!isNaN(e)&&isFinite(e),Kk=(e,t)=>{},xo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),vo=({x:e,y:t},[n,r,s],i=!1,o=[1,1])=>{const a={x:(e-n)/s,y:(t-r)/s};return i?xo(a,o):a},rl=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function Ur(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Yk(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Ur(e,n),s=Ur(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=Ur(e.top??e.y??0,n),s=Ur(e.bottom??e.y??0,n),i=Ur(e.left??e.x??0,t),o=Ur(e.right??e.x??0,t);return{top:r,right:o,bottom:s,left:i,x:i+o,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Gk(e,t,n,r,s,i){const{x:o,y:a}=rl(e,[t,n,r]),{x:l,y:u}=rl({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=s-l,d=i-u;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(f),bottom:Math.floor(d)}}const hf=(e,t,n,r,s,i)=>{const o=Yk(i,t,n),a=(t-o.x)/e.width,l=(n-o.y)/e.height,u=Math.min(a,l),f=Ls(u,r,s),d=e.x+e.width/2,h=e.y+e.height/2,v=t/2-d*f,x=n/2-h*f,w=Gk(e,v,x,f,t,n),S={left:Math.min(w.left-o.left,0),top:Math.min(w.top-o.top,0),right:Math.min(w.right-o.right,0),bottom:Math.min(w.bottom-o.bottom,0)};return{x:v-S.left+S.right,y:x-S.top+S.bottom,zoom:f}},eo=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function zs(e){return e!=null&&e!=="parent"}function bn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function X0(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function K0(e,t={width:0,height:0},n,r,s){const i={...e},o=r.get(n);if(o){const a=o.origin||s;i.x+=o.internals.positionAbsolute.x-(t.width??0)*a[0],i.y+=o.internals.positionAbsolute.y-(t.height??0)*a[1]}return i}function Np(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Zk(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function Jk(e){return{...$0,...e||{}}}function Ci(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:i,y:o}=Ft(e),a=vo({x:i-((s==null?void 0:s.left)??0),y:o-((s==null?void 0:s.top)??0)},r),{x:l,y:u}=n?xo(a,t):a;return{xSnapped:l,ySnapped:u,...a}}const pf=e=>({width:e.offsetWidth,height:e.offsetHeight}),Y0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},eE=["INPUT","SELECT","TEXTAREA"];function G0(e){var r,s;const t=((s=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:eE.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Z0=e=>"clientX"in e,Ft=(e,t)=>{var i,o;const n=Z0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},_p=(e,t,n,r,s)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:s,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...pf(o)}})};function J0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:a}){const l=e*.125+s*.375+o*.375+n*.125,u=t*.125+i*.375+a*.375+r*.125,f=Math.abs(l-e),d=Math.abs(u-t);return[l,u,f,d]}function Go(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function kp({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case G.Left:return[t-Go(t-r,i),n];case G.Right:return[t+Go(r-t,i),n];case G.Top:return[t,n-Go(n-s,i)];case G.Bottom:return[t,n+Go(s-n,i)]}}function ex({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,curvature:o=.25}){const[a,l]=kp({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[u,f]=kp({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[d,h,v,x]=J0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:f});return[`M${e},${t} C${a},${l} ${u},${f} ${r},${s}`,d,h,v,x]}function tx({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[i,a,s,o]}function tE({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:s=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const o=s&&n?r+1e3:r,a=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return o+a}function nE({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const i=Pl(nl(e),nl(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const o={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return Ji(o,Rl(i))>0}const rE=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,sE=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),nx=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||rE;let s;return V0(e)?s={...e}:s={...e,id:r(e)},sE(s,t)?t:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,t.concat(s))};function rx({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,a]=tx({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,a]}const Ep={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},iE=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Cp=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function oE({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:r=G.Top,center:s,offset:i,stepPosition:o}){const a=Ep[t],l=Ep[r],u={x:e.x+a.x*i,y:e.y+a.y*i},f={x:n.x+l.x*i,y:n.y+l.y*i},d=iE({source:u,sourcePosition:t,target:f}),h=d.x!==0?"x":"y",v=d[h];let x=[],w,S;const m={x:0,y:0},g={x:0,y:0},[,,p,y]=tx({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[h]*l[h]===-1){h==="x"?(w=s.x??u.x+(f.x-u.x)*o,S=s.y??(u.y+f.y)/2):(w=s.x??(u.x+f.x)/2,S=s.y??u.y+(f.y-u.y)*o);const N=[{x:w,y:u.y},{x:w,y:f.y}],_=[{x:u.x,y:S},{x:f.x,y:S}];a[h]===v?x=h==="x"?N:_:x=h==="x"?_:N}else{const N=[{x:u.x,y:f.y}],_=[{x:f.x,y:u.y}];if(h==="x"?x=a.x===v?_:N:x=a.y===v?N:_,t===r){const A=Math.abs(e[h]-n[h]);if(A<=i){const B=Math.min(i-1,i-A);a[h]===v?m[h]=(u[h]>e[h]?-1:1)*B:g[h]=(f[h]>n[h]?-1:1)*B}}if(t!==r){const A=h==="x"?"y":"x",B=a[h]===l[A],E=u[A]>f[A],L=u[A]<f[A];(a[h]===1&&(!B&&E||B&&L)||a[h]!==1&&(!B&&L||B&&E))&&(x=h==="x"?N:_)}const k={x:u.x+m.x,y:u.y+m.y},M={x:f.x+g.x,y:f.y+g.y},D=Math.max(Math.abs(k.x-x[0].x),Math.abs(M.x-x[0].x)),R=Math.max(Math.abs(k.y-x[0].y),Math.abs(M.y-x[0].y));D>=R?(w=(k.x+M.x)/2,S=x[0].y):(w=x[0].x,S=(k.y+M.y)/2)}return[[e,{x:u.x+m.x,y:u.y+m.y},...x,{x:f.x+g.x,y:f.y+g.y},n],w,S,p,y]}function aE(e,t,n,r){const s=Math.min(Cp(e,t)/2,Cp(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${i+s*u},${o}Q ${i},${o} ${i},${o+s*f}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${o+s*l}Q ${i},${o} ${i+s*a},${o}`}function sl({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20,stepPosition:f=.5}){const[d,h,v,x,w]=oE({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:a,y:l},offset:u,stepPosition:f});return[d.reduce((m,g,p)=>{let y="";return p>0&&p<d.length-1?y=aE(d[p-1],g,d[p+1],o):y=`${p===0?"M":"L"}${g.x} ${g.y}`,m+=y,m},""),h,v,x,w]}function jp(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function lE(e){var d;const{sourceNode:t,targetNode:n}=e;if(!jp(t)||!jp(n))return null;const r=t.internals.handleBounds||Tp(t.handles),s=n.internals.handleBounds||Tp(n.handles),i=Mp((r==null?void 0:r.source)??[],e.sourceHandle),o=Mp(e.connectionMode===As.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!i||!o)return(d=e.onError)==null||d.call(e,"008",nn.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(i==null?void 0:i.position)||G.Bottom,l=(o==null?void 0:o.position)||G.Top,u=zr(t,i,a),f=zr(n,o,l);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:a,targetPosition:l}}function Tp(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function zr(e,t,n=G.Left,r=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:a}=t??bn(e);if(r)return{x:s+o/2,y:i+a/2};switch((t==null?void 0:t.position)??n){case G.Top:return{x:s+o/2,y:i};case G.Right:return{x:s+o,y:i+a/2};case G.Bottom:return{x:s+o/2,y:i+a};case G.Left:return{x:s,y:i+a/2}}}function Mp(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Yc(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function uE(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const i=new Set;return e.reduce((o,a)=>([a.markerStart||r,a.markerEnd||s].forEach(l=>{if(l&&typeof l=="object"){const u=Yc(l,t);i.has(u)||(o.push({id:u,color:l.color||n,...l}),i.add(u))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const sx=1e3,cE=10,mf={nodeOrigin:[0,0],nodeExtent:Gi,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},dE={...mf,checkEquality:!0};function gf(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function fE(e,t,n){const r=gf(mf,n);for(const s of e.values())if(s.parentId)xf(s,e,t,r);else{const i=go(s,r.nodeOrigin),o=zs(s.extent)?s.extent:r.nodeExtent,a=Or(i,o,bn(s));s.internals.positionAbsolute=a}}function hE(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const s of e.handles){const i={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?n.push(i):s.type==="target"&&r.push(i)}return{source:n,target:r}}function yf(e){return e==="manual"}function Gc(e,t,n,r={}){var u,f;const s=gf(dE,r),i={i:0},o=new Map(t),a=s!=null&&s.elevateNodesOnSelect&&!yf(s.zIndexMode)?sx:0;let l=e.length>0;t.clear(),n.clear();for(const d of e){let h=o.get(d.id);if(s.checkEquality&&d===(h==null?void 0:h.internals.userNode))t.set(d.id,h);else{const v=go(d,s.nodeOrigin),x=zs(d.extent)?d.extent:s.nodeExtent,w=Or(v,x,bn(d));h={...s.defaults,...d,measured:{width:(u=d.measured)==null?void 0:u.width,height:(f=d.measured)==null?void 0:f.height},internals:{positionAbsolute:w,handleBounds:hE(d,h),z:ix(d,a,s.zIndexMode),userNode:d}},t.set(d.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(l=!1),d.parentId&&xf(h,t,n,r,i)}return l}function pE(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function xf(e,t,n,r,s){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:a,zIndexMode:l}=gf(mf,r),u=e.parentId,f=t.get(u);if(!f){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}pE(e,n),s&&!f.parentId&&f.internals.rootParentIndex===void 0&&l==="auto"&&(f.internals.rootParentIndex=++s.i,f.internals.z=f.internals.z+s.i*cE),s&&f.internals.rootParentIndex!==void 0&&(s.i=f.internals.rootParentIndex);const d=i&&!yf(l)?sx:0,{x:h,y:v,z:x}=mE(e,f,o,a,d,l),{positionAbsolute:w}=e.internals,S=h!==w.x||v!==w.y;(S||x!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:S?{x:h,y:v}:w,z:x}})}function ix(e,t,n){const r=zt(e.zIndex)?e.zIndex:0;return yf(n)?r:r+(e.selected?t:0)}function mE(e,t,n,r,s,i){const{x:o,y:a}=t.internals.positionAbsolute,l=bn(e),u=go(e,n),f=zs(e.extent)?Or(u,e.extent,l):u;let d=Or({x:o+f.x,y:a+f.y},r,l);e.extent==="parent"&&(d=W0(d,l,t));const h=ix(e,s,i),v=t.internals.z??0;return{x:d.x,y:d.y,z:v>=h?v+1:h}}function vf(e,t,n,r=[0,0]){var o;const s=[],i=new Map;for(const a of e){const l=t.get(a.parentId);if(!l)continue;const u=((o=i.get(a.parentId))==null?void 0:o.expandedRect)??Os(l),f=q0(u,a.rect);i.set(a.parentId,{expandedRect:f,parent:l})}return i.size>0&&i.forEach(({expandedRect:a,parent:l},u)=>{var p;const f=l.internals.positionAbsolute,d=bn(l),h=l.origin??r,v=a.x<f.x?Math.round(Math.abs(f.x-a.x)):0,x=a.y<f.y?Math.round(Math.abs(f.y-a.y)):0,w=Math.max(d.width,Math.round(a.width)),S=Math.max(d.height,Math.round(a.height)),m=(w-d.width)*h[0],g=(S-d.height)*h[1];(v>0||x>0||m||g)&&(s.push({id:u,type:"position",position:{x:l.position.x-v+m,y:l.position.y-x+g}}),(p=n.get(u))==null||p.forEach(y=>{e.some(b=>b.id===y.id)||s.push({id:y.id,type:"position",position:{x:y.position.x+v,y:y.position.y+x}})})),(d.width<a.width||d.height<a.height||v||x)&&s.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:w+(v?h[0]*v-m:0),height:S+(x?h[1]*x-g:0)}})}),s}function gE(e,t,n,r,s,i,o){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!a)return{changes:[],updatedInternals:l};const u=[],f=window.getComputedStyle(a),{m22:d}=new window.DOMMatrixReadOnly(f.transform),h=[];for(const v of e.values()){const x=t.get(v.id);if(!x)continue;if(x.hidden){t.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),l=!0;continue}const w=pf(v.nodeElement),S=x.measured.width!==w.width||x.measured.height!==w.height;if(!!(w.width&&w.height&&(S||!x.internals.handleBounds||v.force))){const g=v.nodeElement.getBoundingClientRect(),p=zs(x.extent)?x.extent:i;let{positionAbsolute:y}=x.internals;x.parentId&&x.extent==="parent"?y=W0(y,w,t.get(x.parentId)):p&&(y=Or(y,p,w));const b={...x,measured:w,internals:{...x.internals,positionAbsolute:y,handleBounds:{source:_p("source",v.nodeElement,g,d,x.id),target:_p("target",v.nodeElement,g,d,x.id)}}};t.set(x.id,b),x.parentId&&xf(b,t,n,{nodeOrigin:s,zIndexMode:o}),l=!0,S&&(u.push({id:x.id,type:"dimensions",dimensions:w}),x.expandParent&&x.parentId&&h.push({id:x.id,parentId:x.parentId,rect:Os(b,s)}))}}if(h.length>0){const v=vf(h,t,n,s);u.push(...v)}return{changes:u,updatedInternals:l}}async function yE({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,i]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function Pp(e,t,n,r,s,i){let o=s;const a=r.get(o)||new Map;r.set(o,a.set(n,t)),o=`${s}-${e}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,t)),i){o=`${s}-${e}-${i}`;const u=r.get(o)||new Map;r.set(o,u.set(n,t))}}function ox(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:i,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:s,target:i,sourceHandle:o,targetHandle:a},u=`${s}-${o}--${i}-${a}`,f=`${i}-${a}--${s}-${o}`;Pp("source",l,f,e,s,o),Pp("target",l,u,e,i,a),t.set(r.id,r)}}function ax(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:ax(n,t):!1}function Rp(e,t,n){var s;let r=e;do{if((s=r==null?void 0:r.matches)!=null&&s.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function xE(e,t,n,r){const s=new Map;for(const[i,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!ax(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const a=e.get(i);a&&s.set(i,{id:i,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return s}function ku({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var o,a,l;const s=[];for(const[u,f]of t){const d=(o=n.get(u))==null?void 0:o.internals.userNode;d&&s.push({...d,position:f.position,dragging:r})}if(!e)return[s[0],s];const i=(a=n.get(e))==null?void 0:a.internals.userNode;return[i?{...i,position:((l=t.get(e))==null?void 0:l.position)||i.position,dragging:r}:s[0],s]}function vE({dragItems:e,snapGrid:t,x:n,y:r}){const s=e.values().next().value;if(!s)return null;const i={x:n-s.distance.x,y:r-s.distance.y},o=xo(i,t);return{x:o.x-i.x,y:o.y-i.y}}function wE({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let i={x:null,y:null},o=0,a=new Map,l=!1,u={x:0,y:0},f=null,d=!1,h=null,v=!1,x=!1,w=null;function S({noDragClassName:g,handleSelector:p,domNode:y,isSelectable:b,nodeId:N,nodeClickDistance:_=0}){h=ht(y);function k({x:A,y:B}){const{nodeLookup:E,nodeExtent:L,snapGrid:P,snapToGrid:z,nodeOrigin:C,onNodeDrag:j,onSelectionDrag:O,onError:$,updateNodePositions:H}=t();i={x:A,y:B};let Q=!1;const U=a.size>1,K=U&&L?Kc(yo(a)):null,Y=U&&z?vE({dragItems:a,snapGrid:P,x:A,y:B}):null;for(const[Z,W]of a){if(!E.has(Z))continue;let J={x:A-W.distance.x,y:B-W.distance.y};z&&(J=Y?{x:Math.round(J.x+Y.x),y:Math.round(J.y+Y.y)}:xo(J,P));let oe=null;if(U&&L&&!W.extent&&K){const{positionAbsolute:te}=W.internals,he=te.x-K.x+L[0][0],xe=te.x+W.measured.width-K.x2+L[1][0],fe=te.y-K.y+L[0][1],Ve=te.y+W.measured.height-K.y2+L[1][1];oe=[[he,fe],[xe,Ve]]}const{position:re,positionAbsolute:ne}=U0({nodeId:Z,nextPosition:J,nodeLookup:E,nodeExtent:oe||L,nodeOrigin:C,onError:$});Q=Q||W.position.x!==re.x||W.position.y!==re.y,W.position=re,W.internals.positionAbsolute=ne}if(x=x||Q,!!Q&&(H(a,!0),w&&(r||j||!N&&O))){const[Z,W]=ku({nodeId:N,dragItems:a,nodeLookup:E});r==null||r(w,a,Z,W),j==null||j(w,Z,W),N||O==null||O(w,W)}}async function M(){if(!f)return;const{transform:A,panBy:B,autoPanSpeed:E,autoPanOnNodeDrag:L}=t();if(!L){l=!1,cancelAnimationFrame(o);return}const[P,z]=Q0(u,f,E);(P!==0||z!==0)&&(i.x=(i.x??0)-P/A[2],i.y=(i.y??0)-z/A[2],await B({x:P,y:z})&&k(i)),o=requestAnimationFrame(M)}function D(A){var U;const{nodeLookup:B,multiSelectionActive:E,nodesDraggable:L,transform:P,snapGrid:z,snapToGrid:C,selectNodesOnDrag:j,onNodeDragStart:O,onSelectionDragStart:$,unselectNodesAndEdges:H}=t();d=!0,(!j||!b)&&!E&&N&&((U=B.get(N))!=null&&U.selected||H()),b&&j&&N&&(e==null||e(N));const Q=Ci(A.sourceEvent,{transform:P,snapGrid:z,snapToGrid:C,containerBounds:f});if(i=Q,a=xE(B,L,Q,N),a.size>0&&(n||O||!N&&$)){const[K,Y]=ku({nodeId:N,dragItems:a,nodeLookup:B});n==null||n(A.sourceEvent,a,K,Y),O==null||O(A.sourceEvent,K,Y),N||$==null||$(A.sourceEvent,Y)}}const R=N0().clickDistance(_).on("start",A=>{const{domNode:B,nodeDragThreshold:E,transform:L,snapGrid:P,snapToGrid:z}=t();f=(B==null?void 0:B.getBoundingClientRect())||null,v=!1,x=!1,w=A.sourceEvent,E===0&&D(A),i=Ci(A.sourceEvent,{transform:L,snapGrid:P,snapToGrid:z,containerBounds:f}),u=Ft(A.sourceEvent,f)}).on("drag",A=>{const{autoPanOnNodeDrag:B,transform:E,snapGrid:L,snapToGrid:P,nodeDragThreshold:z,nodeLookup:C}=t(),j=Ci(A.sourceEvent,{transform:E,snapGrid:L,snapToGrid:P,containerBounds:f});if(w=A.sourceEvent,(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1||N&&!C.has(N))&&(v=!0),!v){if(!l&&B&&d&&(l=!0,M()),!d){const O=Ft(A.sourceEvent,f),$=O.x-u.x,H=O.y-u.y;Math.sqrt($*$+H*H)>z&&D(A)}(i.x!==j.xSnapped||i.y!==j.ySnapped)&&a&&d&&(u=Ft(A.sourceEvent,f),k(j))}}).on("end",A=>{if(!(!d||v)&&(l=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:B,updateNodePositions:E,onNodeDragStop:L,onSelectionDragStop:P}=t();if(x&&(E(a,!1),x=!1),s||L||!N&&P){const[z,C]=ku({nodeId:N,dragItems:a,nodeLookup:B,dragging:!1});s==null||s(A.sourceEvent,a,z,C),L==null||L(A.sourceEvent,z,C),N||P==null||P(A.sourceEvent,C)}}}).filter(A=>{const B=A.target;return!A.button&&(!g||!Rp(B,`.${g}`,y))&&(!p||Rp(B,p,y))});h.call(R)}function m(){h==null||h.on(".drag",null)}return{update:S,destroy:m}}function SE(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())Ji(s,Os(i))>0&&r.push(i);return r}const bE=250;function NE(e,t,n,r){var a,l;let s=[],i=1/0;const o=SE(e,n,t+bE);for(const u of o){const f=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of f){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:h,y:v}=zr(u,d,d.position,!0),x=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(v-e.y,2));x>t||(x<i?(s=[{...d,x:h,y:v}],i=x):x===i&&s.push({...d,x:h,y:v}))}}if(!s.length)return null;if(s.length>1){const u=r.type==="source"?"target":"source";return s.find(f=>f.type===u)??s[0]}return s[0]}function lx(e,t,n,r,s,i=!1){var u,f,d;const o=r.get(e);if(!o)return null;const a=s==="strict"?(u=o.internals.handleBounds)==null?void 0:u[t]:[...((f=o.internals.handleBounds)==null?void 0:f.source)??[],...((d=o.internals.handleBounds)==null?void 0:d.target)??[]],l=(n?a==null?void 0:a.find(h=>h.id===n):a==null?void 0:a[0])??null;return l&&i?{...l,...zr(o,l,l.position,!0)}:l}function ux(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function _E(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const cx=()=>!0;function kE(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:i,isTarget:o,domNode:a,nodeLookup:l,lib:u,autoPanOnConnect:f,flowId:d,panBy:h,cancelConnection:v,onConnectStart:x,onConnect:w,onConnectEnd:S,isValidConnection:m=cx,onReconnectEnd:g,updateConnection:p,getTransform:y,getFromHandle:b,autoPanSpeed:N,dragThreshold:_=1,handleDomNode:k}){const M=Y0(e.target);let D=0,R;const{x:A,y:B}=Ft(e),E=ux(i,k),L=a==null?void 0:a.getBoundingClientRect();let P=!1;if(!L||!E)return;const z=lx(s,E,r,l,t);if(!z)return;let C=Ft(e,L),j=!1,O=null,$=!1,H=null;function Q(){if(!f||!L)return;const[re,ne]=Q0(C,L,N);h({x:re,y:ne}),D=requestAnimationFrame(Q)}const U={...z,nodeId:s,type:E,position:z.position},K=l.get(s);let Z={inProgress:!0,isValid:null,from:zr(K,U,G.Left,!0),fromHandle:U,fromPosition:U.position,fromNode:K,to:C,toHandle:null,toPosition:wp[U.position],toNode:null,pointer:C};function W(){P=!0,p(Z),x==null||x(e,{nodeId:s,handleId:r,handleType:E})}_===0&&W();function J(re){if(!P){const{x:Ve,y:Nn}=Ft(re),sn=Ve-A,sr=Nn-B;if(!(sn*sn+sr*sr>_*_))return;W()}if(!b()||!U){oe(re);return}const ne=y();C=Ft(re,L),R=NE(vo(C,ne,!1,[1,1]),n,l,U),j||(Q(),j=!0);const te=dx(re,{handle:R,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:o?"target":"source",isValidConnection:m,doc:M,lib:u,flowId:d,nodeLookup:l});H=te.handleDomNode,O=te.connection,$=_E(!!R,te.isValid);const he=l.get(s),xe=he?zr(he,U,G.Left,!0):Z.from,fe={...Z,from:xe,isValid:$,to:te.toHandle&&$?rl({x:te.toHandle.x,y:te.toHandle.y},ne):C,toHandle:te.toHandle,toPosition:$&&te.toHandle?te.toHandle.position:wp[U.position],toNode:te.toHandle?l.get(te.toHandle.nodeId):null,pointer:C};p(fe),Z=fe}function oe(re){if(!("touches"in re&&re.touches.length>0)){if(P){(R||H)&&O&&$&&(w==null||w(O));const{inProgress:ne,...te}=Z,he={...te,toPosition:Z.toHandle?Z.toPosition:null};S==null||S(re,he),i&&(g==null||g(re,he))}v(),cancelAnimationFrame(D),j=!1,$=!1,O=null,H=null,M.removeEventListener("mousemove",J),M.removeEventListener("mouseup",oe),M.removeEventListener("touchmove",J),M.removeEventListener("touchend",oe)}}M.addEventListener("mousemove",J),M.addEventListener("mouseup",oe),M.addEventListener("touchmove",J),M.addEventListener("touchend",oe)}function dx(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:i,doc:o,lib:a,flowId:l,isValidConnection:u=cx,nodeLookup:f}){const d=i==="target",h=t?o.querySelector(`.${a}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:v,y:x}=Ft(e),w=o.elementFromPoint(v,x),S=w!=null&&w.classList.contains(`${a}-flow__handle`)?w:h,m={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const g=ux(void 0,S),p=S.getAttribute("data-nodeid"),y=S.getAttribute("data-handleid"),b=S.classList.contains("connectable"),N=S.classList.contains("connectableend");if(!p||!g)return m;const _={source:d?p:r,sourceHandle:d?y:s,target:d?r:p,targetHandle:d?s:y};m.connection=_;const M=b&&N&&(n===As.Strict?d&&g==="source"||!d&&g==="target":p!==r||y!==s);m.isValid=M&&u(_),m.toHandle=lx(p,g,y,f,n,!0)}return m}const Zc={onPointerDown:kE,isValid:dx};function EE({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=ht(e);function i({translateExtent:a,width:l,height:u,zoomStep:f=1,pannable:d=!0,zoomable:h=!0,inversePan:v=!1}){const x=p=>{if(p.sourceEvent.type!=="wheel"||!t)return;const y=n(),b=p.sourceEvent.ctrlKey&&eo()?10:1,N=-p.sourceEvent.deltaY*(p.sourceEvent.deltaMode===1?.05:p.sourceEvent.deltaMode?1:.002)*f,_=y[2]*Math.pow(2,N*b);t.scaleTo(_)};let w=[0,0];const S=p=>{(p.sourceEvent.type==="mousedown"||p.sourceEvent.type==="touchstart")&&(w=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY])},m=p=>{const y=n();if(p.sourceEvent.type!=="mousemove"&&p.sourceEvent.type!=="touchmove"||!t)return;const b=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY],N=[b[0]-w[0],b[1]-w[1]];w=b;const _=r()*Math.max(y[2],Math.log(y[2]))*(v?-1:1),k={x:y[0]-N[0]*_,y:y[1]-N[1]*_},M=[[0,0],[l,u]];t.setViewportConstrained({x:k.x,y:k.y,zoom:y[2]},M,a)},g=z0().on("start",S).on("zoom",d?m:null).on("zoom.wheel",h?x:null);s.call(g,{})}function o(){s.on("zoom",null)}return{update:i,destroy:o,pointer:Dt}}const Il=e=>({x:e.x,y:e.y,zoom:e.k}),Eu=({x:e,y:t,zoom:n})=>Tl.translate(e,t).scale(n),rs=(e,t)=>e.target.closest(`.${t}`),fx=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),CE=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Cu=(e,t=0,n=CE,r=()=>{})=>{const s=typeof t=="number"&&t>0;return s||r(),s?e.transition().duration(t).ease(n).on("end",r):e},hx=e=>{const t=e.ctrlKey&&eo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function jE({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:i,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:u}){return f=>{if(rs(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&o){const S=Dt(f),m=hx(f),g=d*Math.pow(2,m);r.scaleTo(n,g,S,f);return}const h=f.deltaMode===1?20:1;let v=s===Cr.Vertical?0:f.deltaX*h,x=s===Cr.Horizontal?0:f.deltaY*h;!eo()&&f.shiftKey&&s!==Cr.Vertical&&(v=f.deltaY*h,x=0),r.translateBy(n,-(v/d)*i,-(x/d)*i,{internal:!0});const w=Il(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(l==null||l(f,w),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,w),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(f,w))}}function TE({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const i=r.type==="wheel",o=!t&&i&&!r.ctrlKey,a=rs(r,e);if(r.ctrlKey&&i&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,s)}}function ME({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,o,a;if((i=r.sourceEvent)!=null&&i.internal)return;const s=Il(r.transform);e.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,s))}}function PE({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return i=>{var o,a;e.usedRightMouseButton=!!(n&&fx(t,e.mouseButton??0)),(o=i.sourceEvent)!=null&&o.sync||r([i.transform.x,i.transform.y,i.transform.k]),s&&!((a=i.sourceEvent)!=null&&a.internal)&&(s==null||s(i.sourceEvent,Il(i.transform)))}}function RE({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:i}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,i&&fx(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&i(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),s)){const l=Il(o.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(o.sourceEvent,l)},n?150:0)}}}function IE({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:i,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:u,connectionInProgress:f}){return d=>{var S;const h=e||t,v=n&&d.ctrlKey,x=d.type==="wheel";if(d.button===1&&d.type==="mousedown"&&(rs(d,`${u}-flow__node`)||rs(d,`${u}-flow__edge`)))return!0;if(!r&&!h&&!s&&!i&&!n||o||f&&!x||rs(d,a)&&x||rs(d,l)&&(!x||s&&x&&!e)||!n&&d.ctrlKey&&x)return!1;if(!n&&d.type==="touchstart"&&((S=d.touches)==null?void 0:S.length)>1)return d.preventDefault(),!1;if(!h&&!s&&!v&&x||!r&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(r)&&!r.includes(d.button)&&d.type==="mousedown")return!1;const w=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||x)&&w}}function DE({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:s,onPanZoom:i,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:l}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),d=z0().scaleExtent([t,n]).translateExtent(r),h=ht(e).call(d);g({x:s.x,y:s.y,zoom:Ls(s.zoom,t,n)},[[0,0],[f.width,f.height]],r);const v=h.on("wheel.zoom"),x=h.on("dblclick.zoom");d.wheelDelta(hx);function w(R,A){return h?new Promise(B=>{d==null||d.interpolate((A==null?void 0:A.interpolate)==="linear"?Ei:ga).transform(Cu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>B(!0)),R)}):Promise.resolve(!1)}function S({noWheelClassName:R,noPanClassName:A,onPaneContextMenu:B,userSelectionActive:E,panOnScroll:L,panOnDrag:P,panOnScrollMode:z,panOnScrollSpeed:C,preventScrolling:j,zoomOnPinch:O,zoomOnScroll:$,zoomOnDoubleClick:H,zoomActivationKeyPressed:Q,lib:U,onTransformChange:K,connectionInProgress:Y,paneClickDistance:Z,selectionOnDrag:W}){E&&!u.isZoomingOrPanning&&m();const J=L&&!Q&&!E;d.clickDistance(W?1/0:!zt(Z)||Z<0?0:Z);const oe=J?jE({zoomPanValues:u,noWheelClassName:R,d3Selection:h,d3Zoom:d,panOnScrollMode:z,panOnScrollSpeed:C,zoomOnPinch:O,onPanZoomStart:o,onPanZoom:i,onPanZoomEnd:a}):TE({noWheelClassName:R,preventScrolling:j,d3ZoomHandler:v});if(h.on("wheel.zoom",oe,{passive:!1}),!E){const ne=ME({zoomPanValues:u,onDraggingChange:l,onPanZoomStart:o});d.on("start",ne);const te=PE({zoomPanValues:u,panOnDrag:P,onPaneContextMenu:!!B,onPanZoom:i,onTransformChange:K});d.on("zoom",te);const he=RE({zoomPanValues:u,panOnDrag:P,panOnScroll:L,onPaneContextMenu:B,onPanZoomEnd:a,onDraggingChange:l});d.on("end",he)}const re=IE({zoomActivationKeyPressed:Q,panOnDrag:P,zoomOnScroll:$,panOnScroll:L,zoomOnDoubleClick:H,zoomOnPinch:O,userSelectionActive:E,noPanClassName:A,noWheelClassName:R,lib:U,connectionInProgress:Y});d.filter(re),H?h.on("dblclick.zoom",x):h.on("dblclick.zoom",null)}function m(){d.on("zoom",null)}async function g(R,A,B){const E=Eu(R),L=d==null?void 0:d.constrain()(E,A,B);return L&&await w(L),new Promise(P=>P(L))}async function p(R,A){const B=Eu(R);return await w(B,A),new Promise(E=>E(B))}function y(R){if(h){const A=Eu(R),B=h.property("__zoom");(B.k!==R.zoom||B.x!==R.x||B.y!==R.y)&&(d==null||d.transform(h,A,null,{sync:!0}))}}function b(){const R=h?O0(h.node()):{x:0,y:0,k:1};return{x:R.x,y:R.y,zoom:R.k}}function N(R,A){return h?new Promise(B=>{d==null||d.interpolate((A==null?void 0:A.interpolate)==="linear"?Ei:ga).scaleTo(Cu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>B(!0)),R)}):Promise.resolve(!1)}function _(R,A){return h?new Promise(B=>{d==null||d.interpolate((A==null?void 0:A.interpolate)==="linear"?Ei:ga).scaleBy(Cu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>B(!0)),R)}):Promise.resolve(!1)}function k(R){d==null||d.scaleExtent(R)}function M(R){d==null||d.translateExtent(R)}function D(R){const A=!zt(R)||R<0?0:R;d==null||d.clickDistance(A)}return{update:S,destroy:m,setViewport:p,setViewportConstrained:g,getViewport:b,scaleTo:N,scaleBy:_,setScaleExtent:k,setTranslateExtent:M,syncViewport:y,setClickDistance:D}}var Fs;(function(e){e.Line="line",e.Handle="handle"})(Fs||(Fs={}));function AE({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:i}){const o=e-t,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&s&&(l[0]=l[0]*-1),a&&i&&(l[1]=l[1]*-1),l}function Ip(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function kn(e,t){return Math.max(0,t-e)}function En(e,t){return Math.max(0,e-t)}function Zo(e,t,n){return Math.max(0,t-e,e-n)}function Dp(e,t){return e?!t:t}function LE(e,t,n,r,s,i,o,a){let{affectsX:l,affectsY:u}=t;const{isHorizontal:f,isVertical:d}=t,h=f&&d,{xSnapped:v,ySnapped:x}=n,{minWidth:w,maxWidth:S,minHeight:m,maxHeight:g}=r,{x:p,y,width:b,height:N,aspectRatio:_}=e;let k=Math.floor(f?v-e.pointerX:0),M=Math.floor(d?x-e.pointerY:0);const D=b+(l?-k:k),R=N+(u?-M:M),A=-i[0]*b,B=-i[1]*N;let E=Zo(D,w,S),L=Zo(R,m,g);if(o){let C=0,j=0;l&&k<0?C=kn(p+k+A,o[0][0]):!l&&k>0&&(C=En(p+D+A,o[1][0])),u&&M<0?j=kn(y+M+B,o[0][1]):!u&&M>0&&(j=En(y+R+B,o[1][1])),E=Math.max(E,C),L=Math.max(L,j)}if(a){let C=0,j=0;l&&k>0?C=En(p+k,a[0][0]):!l&&k<0&&(C=kn(p+D,a[1][0])),u&&M>0?j=En(y+M,a[0][1]):!u&&M<0&&(j=kn(y+R,a[1][1])),E=Math.max(E,C),L=Math.max(L,j)}if(s){if(f){const C=Zo(D/_,m,g)*_;if(E=Math.max(E,C),o){let j=0;!l&&!u||l&&!u&&h?j=En(y+B+D/_,o[1][1])*_:j=kn(y+B+(l?k:-k)/_,o[0][1])*_,E=Math.max(E,j)}if(a){let j=0;!l&&!u||l&&!u&&h?j=kn(y+D/_,a[1][1])*_:j=En(y+(l?k:-k)/_,a[0][1])*_,E=Math.max(E,j)}}if(d){const C=Zo(R*_,w,S)/_;if(L=Math.max(L,C),o){let j=0;!l&&!u||u&&!l&&h?j=En(p+R*_+A,o[1][0])/_:j=kn(p+(u?M:-M)*_+A,o[0][0])/_,L=Math.max(L,j)}if(a){let j=0;!l&&!u||u&&!l&&h?j=kn(p+R*_,a[1][0])/_:j=En(p+(u?M:-M)*_,a[0][0])/_,L=Math.max(L,j)}}}M=M+(M<0?L:-L),k=k+(k<0?E:-E),s&&(h?D>R*_?M=(Dp(l,u)?-k:k)/_:k=(Dp(l,u)?-M:M)*_:f?(M=k/_,u=l):(k=M*_,l=u));const P=l?p+k:p,z=u?y+M:y;return{width:b+(l?-k:k),height:N+(u?-M:M),x:i[0]*k*(l?-1:1)+P,y:i[1]*M*(u?-1:1)+z}}const px={width:0,height:0,x:0,y:0},OE={...px,pointerX:0,pointerY:0,aspectRatio:1};function zE(e){return[[0,0],[e.measured.width,e.measured.height]]}function FE(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,i=e.measured.width??0,o=e.measured.height??0,a=n[0]*i,l=n[1]*o;return[[r-a,s-l],[r+i-a,s+o-l]]}function $E({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const i=ht(e);let o={controlDirection:Ip("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:u,boundaries:f,keepAspectRatio:d,resizeDirection:h,onResizeStart:v,onResize:x,onResizeEnd:w,shouldResize:S}){let m={...px},g={...OE};o={boundaries:f,resizeDirection:h,keepAspectRatio:d,controlDirection:Ip(u)};let p,y=null,b=[],N,_,k,M=!1;const D=N0().on("start",R=>{const{nodeLookup:A,transform:B,snapGrid:E,snapToGrid:L,nodeOrigin:P,paneDomNode:z}=n();if(p=A.get(t),!p)return;y=(z==null?void 0:z.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:j}=Ci(R.sourceEvent,{transform:B,snapGrid:E,snapToGrid:L,containerBounds:y});m={width:p.measured.width??0,height:p.measured.height??0,x:p.position.x??0,y:p.position.y??0},g={...m,pointerX:C,pointerY:j,aspectRatio:m.width/m.height},N=void 0,p.parentId&&(p.extent==="parent"||p.expandParent)&&(N=A.get(p.parentId),_=N&&p.extent==="parent"?zE(N):void 0),b=[],k=void 0;for(const[O,$]of A)if($.parentId===t&&(b.push({id:O,position:{...$.position},extent:$.extent}),$.extent==="parent"||$.expandParent)){const H=FE($,p,$.origin??P);k?k=[[Math.min(H[0][0],k[0][0]),Math.min(H[0][1],k[0][1])],[Math.max(H[1][0],k[1][0]),Math.max(H[1][1],k[1][1])]]:k=H}v==null||v(R,{...m})}).on("drag",R=>{const{transform:A,snapGrid:B,snapToGrid:E,nodeOrigin:L}=n(),P=Ci(R.sourceEvent,{transform:A,snapGrid:B,snapToGrid:E,containerBounds:y}),z=[];if(!p)return;const{x:C,y:j,width:O,height:$}=m,H={},Q=p.origin??L,{width:U,height:K,x:Y,y:Z}=LE(g,o.controlDirection,P,o.boundaries,o.keepAspectRatio,Q,_,k),W=U!==O,J=K!==$,oe=Y!==C&&W,re=Z!==j&&J;if(!oe&&!re&&!W&&!J)return;if((oe||re||Q[0]===1||Q[1]===1)&&(H.x=oe?Y:m.x,H.y=re?Z:m.y,m.x=H.x,m.y=H.y,b.length>0)){const xe=Y-C,fe=Z-j;for(const Ve of b)Ve.position={x:Ve.position.x-xe+Q[0]*(U-O),y:Ve.position.y-fe+Q[1]*(K-$)},z.push(Ve)}if((W||J)&&(H.width=W&&(!o.resizeDirection||o.resizeDirection==="horizontal")?U:m.width,H.height=J&&(!o.resizeDirection||o.resizeDirection==="vertical")?K:m.height,m.width=H.width,m.height=H.height),N&&p.expandParent){const xe=Q[0]*(H.width??0);H.x&&H.x<xe&&(m.x=xe,g.x=g.x-(H.x-xe));const fe=Q[1]*(H.height??0);H.y&&H.y<fe&&(m.y=fe,g.y=g.y-(H.y-fe))}const ne=AE({width:m.width,prevWidth:O,height:m.height,prevHeight:$,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),te={...m,direction:ne};(S==null?void 0:S(R,te))!==!1&&(M=!0,x==null||x(R,te),r(H,z))}).on("end",R=>{M&&(w==null||w(R,{...m}),s==null||s({...m}),M=!1)});i.call(D)}function l(){i.on(".drag",null)}return{update:a,destroy:l}}const{useDebugValue:HE}=Ot,{useSyncExternalStoreWithSelector:BE}=a0,VE=e=>e;function mx(e,t=VE,n){const r=BE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return HE(r),r}const Ap=(e,t)=>{const n=n0(e),r=(s,i=t)=>mx(n,s,i);return Object.assign(r,n),r},UE=(e,t)=>e?Ap(e,t):Ap;function be(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Dl=I.createContext(null),WE=Dl.Provider,gx=nn.error001();function ce(e,t){const n=I.useContext(Dl);if(n===null)throw new Error(gx);return mx(n,e,t)}function Ne(){const e=I.useContext(Dl);if(e===null)throw new Error(gx);return I.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Lp={display:"none"},QE={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},yx="react-flow__node-desc",xx="react-flow__edge-desc",qE="react-flow__aria-live",XE=e=>e.ariaLiveMessage,KE=e=>e.ariaLabelConfig;function YE({rfId:e}){const t=ce(XE);return c.jsx("div",{id:`${qE}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:QE,children:t})}function GE({rfId:e,disableKeyboardA11y:t}){const n=ce(KE);return c.jsxs(c.Fragment,{children:[c.jsx("div",{id:`${yx}-${e}`,style:Lp,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),c.jsx("div",{id:`${xx}-${e}`,style:Lp,children:n["edge.a11yDescription.default"]}),!t&&c.jsx(YE,{rfId:e})]})}const Al=I.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},i)=>{const o=`${e}`.split("-");return c.jsx("div",{className:Ie(["react-flow__panel",n,...o]),style:r,ref:i,...s,children:t})});Al.displayName="Panel";function ZE({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:c.jsx(Al,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:c.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const JE=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Jo=e=>e.id;function eC(e,t){return be(e.selectedNodes.map(Jo),t.selectedNodes.map(Jo))&&be(e.selectedEdges.map(Jo),t.selectedEdges.map(Jo))}function tC({onSelectionChange:e}){const t=Ne(),{selectedNodes:n,selectedEdges:r}=ce(JE,eC);return I.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(i=>i(s))},[n,r,e]),null}const nC=e=>!!e.onSelectionChangeHandlers;function rC({onSelectionChange:e}){const t=ce(nC);return e||t?c.jsx(tC,{onSelectionChange:e}):null}const vx=[0,0],sC={x:0,y:0,zoom:1},iC=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Op=[...iC,"rfId"],oC=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),zp={translateExtent:Gi,nodeOrigin:vx,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function aC(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:i,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l}=ce(oC,be),u=Ne();I.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{f.current=zp,a()}),[]);const f=I.useRef(zp);return I.useEffect(()=>{for(const d of Op){const h=e[d],v=f.current[d];h!==v&&(typeof e[d]>"u"||(d==="nodes"?t(h):d==="edges"?n(h):d==="minZoom"?r(h):d==="maxZoom"?s(h):d==="translateExtent"?i(h):d==="nodeExtent"?o(h):d==="ariaLabelConfig"?u.setState({ariaLabelConfig:Jk(h)}):d==="fitView"?u.setState({fitViewQueued:h}):d==="fitViewOptions"?u.setState({fitViewOptions:h}):u.setState({[d]:h})))}f.current=e},Op.map(d=>e[d])),null}function Fp(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function lC(e){var r;const[t,n]=I.useState(e==="system"?null:e);return I.useEffect(()=>{if(e!=="system"){n(e);return}const s=Fp(),i=()=>n(s!=null&&s.matches?"dark":"light");return i(),s==null||s.addEventListener("change",i),()=>{s==null||s.removeEventListener("change",i)}},[e]),t!==null?t:(r=Fp())!=null&&r.matches?"dark":"light"}const $p=typeof document<"u"?document:null;function to(e=null,t={target:$p,actInsideInputWithModifier:!0}){const[n,r]=I.useState(!1),s=I.useRef(!1),i=I.useRef(new Set([])),[o,a]=I.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((d,h)=>d.concat(...h),[]);return[u,f]}return[[],[]]},[e]);return I.useEffect(()=>{const l=(t==null?void 0:t.target)??$p,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=v=>{var S,m;if(s.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!s.current||s.current&&!u)&&G0(v))return!1;const w=Bp(v.code,a);if(i.current.add(v[w]),Hp(o,i.current,!1)){const g=((m=(S=v.composedPath)==null?void 0:S.call(v))==null?void 0:m[0])||v.target,p=(g==null?void 0:g.nodeName)==="BUTTON"||(g==null?void 0:g.nodeName)==="A";t.preventDefault!==!1&&(s.current||!p)&&v.preventDefault(),r(!0)}},d=v=>{const x=Bp(v.code,a);Hp(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(v[x]),v.key==="Meta"&&i.current.clear(),s.current=!1},h=()=>{i.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",f),l==null||l.addEventListener("keyup",d),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{l==null||l.removeEventListener("keydown",f),l==null||l.removeEventListener("keyup",d),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,r]),n}function Hp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function Bp(e,t){return t.includes(e)?"code":"key"}const uC=()=>{const e=Ne();return I.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,i],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:i,maxZoom:o,panZoom:a}=e.getState(),l=hf(t,r,s,i,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:i,domNode:o}=e.getState();if(!o)return t;const{x:a,y:l}=o.getBoundingClientRect(),u={x:t.x-a,y:t.y-l},f=n.snapGrid??s,d=n.snapToGrid??i;return vo(u,r,d,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:i}=r.getBoundingClientRect(),o=rl(t,n);return{x:o.x+s,y:o.y+i}}}),[])};function wx(e,t){const n=[],r=new Map,s=[];for(const i of e)if(i.type==="add"){s.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const o=r.get(i.id);o?o.push(i):r.set(i.id,[i])}for(const i of t){const o=r.get(i.id);if(!o){n.push(i);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...i};for(const l of o)cC(l,a);n.push(a)}return s.length&&s.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function cC(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Sx(e,t){return wx(e,t)}function bx(e,t){return wx(e,t)}function ar(e,t){return{id:e,type:"select",selected:t}}function ss(e,t=new Set,n=!1){const r=[];for(const[s,i]of e){const o=t.has(s);!(i.selected===void 0&&!o)&&i.selected!==o&&(n&&(i.selected=o),r.push(ar(i.id,o)))}return r}function Vp({items:e=[],lookup:t}){var s;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,o]of e.entries()){const a=t.get(o.id),l=((s=a==null?void 0:a.internals)==null?void 0:s.userNode)??a;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Up(e){return{id:e.id,type:"remove"}}const Wp=e=>Vk(e),dC=e=>V0(e);function Nx(e){return I.forwardRef(e)}const fC=typeof window<"u"?I.useLayoutEffect:I.useEffect;function Qp(e){const[t,n]=I.useState(BigInt(0)),[r]=I.useState(()=>hC(()=>n(s=>s+BigInt(1))));return fC(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function hC(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const _x=I.createContext(null);function pC({children:e}){const t=Ne(),n=I.useCallback(a=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:f,onNodesChange:d,nodeLookup:h,fitViewQueued:v,onNodesChangeMiddlewareMap:x}=t.getState();let w=l;for(const m of a)w=typeof m=="function"?m(w):m;let S=Vp({items:w,lookup:h});for(const m of x.values())S=m(S);f&&u(w),S.length>0?d==null||d(S):v&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:g,setNodes:p}=t.getState();m&&p(g)})},[]),r=Qp(n),s=I.useCallback(a=>{const{edges:l=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:d,edgeLookup:h}=t.getState();let v=l;for(const x of a)v=typeof x=="function"?x(v):x;f?u(v):d&&d(Vp({items:v,lookup:h}))},[]),i=Qp(s),o=I.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return c.jsx(_x.Provider,{value:o,children:e})}function mC(){const e=I.useContext(_x);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const gC=e=>!!e.panZoom;function Qs(){const e=uC(),t=Ne(),n=mC(),r=ce(gC),s=I.useMemo(()=>{const i=d=>t.getState().nodeLookup.get(d),o=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{var m,g;const{nodeLookup:h,nodeOrigin:v}=t.getState(),x=Wp(d)?d:h.get(d.id),w=x.parentId?K0(x.position,x.measured,x.parentId,h,v):x.position,S={...x,position:w,width:((m=x.measured)==null?void 0:m.width)??x.width,height:((g=x.measured)==null?void 0:g.height)??x.height};return Os(S)},u=(d,h,v={replace:!1})=>{o(x=>x.map(w=>{if(w.id===d){const S=typeof h=="function"?h(w):h;return v.replace&&Wp(S)?S:{...w,...S}}return w}))},f=(d,h,v={replace:!1})=>{a(x=>x.map(w=>{if(w.id===d){const S=typeof h=="function"?h(w):h;return v.replace&&dC(S)?S:{...w,...S}}return w}))};return{getNodes:()=>t.getState().nodes.map(d=>({...d})),getNode:d=>{var h;return(h=i(d))==null?void 0:h.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:d=[]}=t.getState();return d.map(h=>({...h}))},getEdge:d=>t.getState().edgeLookup.get(d),setNodes:o,setEdges:a,addNodes:d=>{const h=Array.isArray(d)?d:[d];n.nodeQueue.push(v=>[...v,...h])},addEdges:d=>{const h=Array.isArray(d)?d:[d];n.edgeQueue.push(v=>[...v,...h])},toObject:()=>{const{nodes:d=[],edges:h=[],transform:v}=t.getState(),[x,w,S]=v;return{nodes:d.map(m=>({...m})),edges:h.map(m=>({...m})),viewport:{x,y:w,zoom:S}}},deleteElements:async({nodes:d=[],edges:h=[]})=>{const{nodes:v,edges:x,onNodesDelete:w,onEdgesDelete:S,triggerNodeChanges:m,triggerEdgeChanges:g,onDelete:p,onBeforeDelete:y}=t.getState(),{nodes:b,edges:N}=await Xk({nodesToRemove:d,edgesToRemove:h,nodes:v,edges:x,onBeforeDelete:y}),_=N.length>0,k=b.length>0;if(_){const M=N.map(Up);S==null||S(N),g(M)}if(k){const M=b.map(Up);w==null||w(b),m(M)}return(k||_)&&(p==null||p({nodes:b,edges:N})),{deletedNodes:b,deletedEdges:N}},getIntersectingNodes:(d,h=!0,v)=>{const x=bp(d),w=x?d:l(d),S=v!==void 0;return w?(v||t.getState().nodes).filter(m=>{const g=t.getState().nodeLookup.get(m.id);if(g&&!x&&(m.id===d.id||!g.internals.positionAbsolute))return!1;const p=Os(S?m:g),y=Ji(p,w);return h&&y>0||y>=p.width*p.height||y>=w.width*w.height}):[]},isNodeIntersecting:(d,h,v=!0)=>{const w=bp(d)?d:l(d);if(!w)return!1;const S=Ji(w,h);return v&&S>0||S>=h.width*h.height||S>=w.width*w.height},updateNode:u,updateNodeData:(d,h,v={replace:!1})=>{u(d,x=>{const w=typeof h=="function"?h(x):h;return v.replace?{...x,data:w}:{...x,data:{...x.data,...w}}},v)},updateEdge:f,updateEdgeData:(d,h,v={replace:!1})=>{f(d,x=>{const w=typeof h=="function"?h(x):h;return v.replace?{...x,data:w}:{...x,data:{...x.data,...w}}},v)},getNodesBounds:d=>{const{nodeLookup:h,nodeOrigin:v}=t.getState();return Uk(d,{nodeLookup:h,nodeOrigin:v})},getHandleConnections:({type:d,id:h,nodeId:v})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${v}-${d}${h?`-${h}`:""}`))==null?void 0:x.values())??[])},getNodeConnections:({type:d,handleId:h,nodeId:v})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${v}${d?h?`-${d}-${h}`:`-${d}`:""}`))==null?void 0:x.values())??[])},fitView:async d=>{const h=t.getState().fitViewResolver??Zk();return t.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:h}),n.nodeQueue.push(v=>[...v]),h.promise}}},[]);return I.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const qp=e=>e.selected,yC=typeof window<"u"?window:void 0;function xC({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Ne(),{deleteElements:r}=Qs(),s=to(e,{actInsideInputWithModifier:!1}),i=to(t,{target:yC});I.useEffect(()=>{if(s){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(qp),edges:o.filter(qp)}),n.setState({nodesSelectionActive:!1})}},[s]),I.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function vC(e){const t=Ne();I.useEffect(()=>{const n=()=>{var s,i,o,a;if(!e.current||!(((i=(s=e.current).checkVisibility)==null?void 0:i.call(s))??!0))return!1;const r=pf(e.current);(r.height===0||r.width===0)&&((a=(o=t.getState()).onError)==null||a.call(o,"004",nn.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Ll={position:"absolute",width:"100%",height:"100%",top:0,left:0},wC=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function SC({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:i=Cr.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:u,minZoom:f,maxZoom:d,zoomActivationKeyCode:h,preventScrolling:v=!0,children:x,noWheelClassName:w,noPanClassName:S,onViewportChange:m,isControlledViewport:g,paneClickDistance:p,selectionOnDrag:y}){const b=Ne(),N=I.useRef(null),{userSelectionActive:_,lib:k,connectionInProgress:M}=ce(wC,be),D=to(h),R=I.useRef();vC(N);const A=I.useCallback(B=>{m==null||m({x:B[0],y:B[1],zoom:B[2]}),g||b.setState({transform:B})},[m,g]);return I.useEffect(()=>{if(N.current){R.current=DE({domNode:N.current,minZoom:f,maxZoom:d,translateExtent:u,viewport:l,onDraggingChange:P=>b.setState({paneDragging:P}),onPanZoomStart:(P,z)=>{const{onViewportChangeStart:C,onMoveStart:j}=b.getState();j==null||j(P,z),C==null||C(z)},onPanZoom:(P,z)=>{const{onViewportChange:C,onMove:j}=b.getState();j==null||j(P,z),C==null||C(z)},onPanZoomEnd:(P,z)=>{const{onViewportChangeEnd:C,onMoveEnd:j}=b.getState();j==null||j(P,z),C==null||C(z)}});const{x:B,y:E,zoom:L}=R.current.getViewport();return b.setState({panZoom:R.current,transform:[B,E,L],domNode:N.current.closest(".react-flow")}),()=>{var P;(P=R.current)==null||P.destroy()}}},[]),I.useEffect(()=>{var B;(B=R.current)==null||B.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:i,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:D,preventScrolling:v,noPanClassName:S,userSelectionActive:_,noWheelClassName:w,lib:k,onTransformChange:A,connectionInProgress:M,selectionOnDrag:y,paneClickDistance:p})},[e,t,n,r,s,i,o,a,D,v,S,_,w,k,A,M,y,p]),c.jsx("div",{className:"react-flow__renderer",ref:N,style:Ll,children:x})}const bC=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function NC(){const{userSelectionActive:e,userSelectionRect:t}=ce(bC,be);return e&&t?c.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const ju=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},_C=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function kC({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Zi.Full,panOnDrag:r,paneClickDistance:s,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:a,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:f,onPaneMouseEnter:d,onPaneMouseMove:h,onPaneMouseLeave:v,children:x}){const w=Ne(),{userSelectionActive:S,elementsSelectable:m,dragging:g,connectionInProgress:p}=ce(_C,be),y=m&&(e||S),b=I.useRef(null),N=I.useRef(),_=I.useRef(new Set),k=I.useRef(new Set),M=I.useRef(!1),D=C=>{if(M.current||p){M.current=!1;return}l==null||l(C),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},R=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}u==null||u(C)},A=f?C=>f(C):void 0,B=C=>{M.current&&(C.stopPropagation(),M.current=!1)},E=C=>{var K,Y;const{domNode:j}=w.getState();if(N.current=j==null?void 0:j.getBoundingClientRect(),!N.current)return;const O=C.target===b.current;if(!O&&!!C.target.closest(".nokey")||!e||!(i&&O||t)||C.button!==0||!C.isPrimary)return;(Y=(K=C.target)==null?void 0:K.setPointerCapture)==null||Y.call(K,C.pointerId),M.current=!1;const{x:Q,y:U}=Ft(C.nativeEvent,N.current);w.setState({userSelectionRect:{width:0,height:0,startX:Q,startY:U,x:Q,y:U}}),O||(C.stopPropagation(),C.preventDefault())},L=C=>{const{userSelectionRect:j,transform:O,nodeLookup:$,edgeLookup:H,connectionLookup:Q,triggerNodeChanges:U,triggerEdgeChanges:K,defaultEdgeOptions:Y,resetSelectedElements:Z}=w.getState();if(!N.current||!j)return;const{x:W,y:J}=Ft(C.nativeEvent,N.current),{startX:oe,startY:re}=j;if(!M.current){const fe=t?0:s;if(Math.hypot(W-oe,J-re)<=fe)return;Z(),o==null||o(C)}M.current=!0;const ne={startX:oe,startY:re,x:W<oe?W:oe,y:J<re?J:re,width:Math.abs(W-oe),height:Math.abs(J-re)},te=_.current,he=k.current;_.current=new Set(ff($,ne,O,n===Zi.Partial,!0).map(fe=>fe.id)),k.current=new Set;const xe=(Y==null?void 0:Y.selectable)??!0;for(const fe of _.current){const Ve=Q.get(fe);if(Ve)for(const{edgeId:Nn}of Ve.values()){const sn=H.get(Nn);sn&&(sn.selectable??xe)&&k.current.add(Nn)}}if(!Np(te,_.current)){const fe=ss($,_.current,!0);U(fe)}if(!Np(he,k.current)){const fe=ss(H,k.current);K(fe)}w.setState({userSelectionRect:ne,userSelectionActive:!0,nodesSelectionActive:!1})},P=C=>{var j,O;C.button===0&&((O=(j=C.target)==null?void 0:j.releasePointerCapture)==null||O.call(j,C.pointerId),!S&&C.target===b.current&&w.getState().userSelectionRect&&(D==null||D(C)),w.setState({userSelectionActive:!1,userSelectionRect:null}),M.current&&(a==null||a(C),w.setState({nodesSelectionActive:_.current.size>0})))},z=r===!0||Array.isArray(r)&&r.includes(0);return c.jsxs("div",{className:Ie(["react-flow__pane",{draggable:z,dragging:g,selection:e}]),onClick:y?void 0:ju(D,b),onContextMenu:ju(R,b),onWheel:ju(A,b),onPointerEnter:y?void 0:d,onPointerMove:y?L:h,onPointerUp:y?P:void 0,onPointerDownCapture:y?E:void 0,onClickCapture:y?B:void 0,onPointerLeave:v,ref:b,style:Ll,children:[x,c.jsx(NC,{})]})}function Jc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeLookup:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",nn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):s([e])}function kx({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,nodeClickDistance:o}){const a=Ne(),[l,u]=I.useState(!1),f=I.useRef();return I.useEffect(()=>{f.current=wE({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{Jc({id:d,store:a,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),I.useEffect(()=>{var d,h;if(t)(d=f.current)==null||d.destroy();else if(e.current)return(h=f.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:s,nodeClickDistance:o}),()=>{var v;(v=f.current)==null||v.destroy()}},[n,r,t,i,e,s]),l}const EC=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Ex(){const e=Ne();return I.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:i,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:u,nodeOrigin:f}=e.getState(),d=new Map,h=EC(o),v=s?i[0]:5,x=s?i[1]:5,w=n.direction.x*v*n.factor,S=n.direction.y*x*n.factor;for(const[,m]of u){if(!h(m))continue;let g={x:m.internals.positionAbsolute.x+w,y:m.internals.positionAbsolute.y+S};s&&(g=xo(g,i));const{position:p,positionAbsolute:y}=U0({nodeId:m.id,nextPosition:g,nodeLookup:u,nodeExtent:r,nodeOrigin:f,onError:a});m.position=p,m.internals.positionAbsolute=y,d.set(m.id,m)}l(d)},[])}const wf=I.createContext(null),CC=wf.Provider;wf.Consumer;const Cx=()=>I.useContext(wf),jC=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),TC=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:i,connection:o}=r,{fromHandle:a,toHandle:l,isValid:u}=o,f=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:f,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:i===As.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!s,valid:f&&u}};function MC({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:f,onTouchStart:d,...h},v){var L,P;const x=o||null,w=e==="target",S=Ne(),m=Cx(),{connectOnClick:g,noPanClassName:p,rfId:y}=ce(jC,be),{connectingFrom:b,connectingTo:N,clickConnecting:_,isPossibleEndHandle:k,connectionInProcess:M,clickConnectionInProcess:D,valid:R}=ce(TC(m,x,e),be);m||(P=(L=S.getState()).onError)==null||P.call(L,"010",nn.error010());const A=z=>{const{defaultEdgeOptions:C,onConnect:j,hasDefaultEdges:O}=S.getState(),$={...C,...z};if(O){const{edges:H,setEdges:Q}=S.getState();Q(nx($,H))}j==null||j($),a==null||a($)},B=z=>{if(!m)return;const C=Z0(z.nativeEvent);if(s&&(C&&z.button===0||!C)){const j=S.getState();Zc.onPointerDown(z.nativeEvent,{handleDomNode:z.currentTarget,autoPanOnConnect:j.autoPanOnConnect,connectionMode:j.connectionMode,connectionRadius:j.connectionRadius,domNode:j.domNode,nodeLookup:j.nodeLookup,lib:j.lib,isTarget:w,handleId:x,nodeId:m,flowId:j.rfId,panBy:j.panBy,cancelConnection:j.cancelConnection,onConnectStart:j.onConnectStart,onConnectEnd:j.onConnectEnd,updateConnection:j.updateConnection,onConnect:A,isValidConnection:n||j.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:j.autoPanSpeed,dragThreshold:j.connectionDragThreshold})}C?f==null||f(z):d==null||d(z)},E=z=>{const{onClickConnectStart:C,onClickConnectEnd:j,connectionClickStartHandle:O,connectionMode:$,isValidConnection:H,lib:Q,rfId:U,nodeLookup:K,connection:Y}=S.getState();if(!m||!O&&!s)return;if(!O){C==null||C(z.nativeEvent,{nodeId:m,handleId:x,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:m,type:e,id:x}});return}const Z=Y0(z.target),W=n||H,{connection:J,isValid:oe}=Zc.isValid(z.nativeEvent,{handle:{nodeId:m,id:x,type:e},connectionMode:$,fromNodeId:O.nodeId,fromHandleId:O.id||null,fromType:O.type,isValidConnection:W,flowId:U,doc:Z,lib:Q,nodeLookup:K});oe&&J&&A(J);const re=structuredClone(Y);delete re.inProgress,re.toPosition=re.toHandle?re.toHandle.position:null,j==null||j(z,re),S.setState({connectionClickStartHandle:null})};return c.jsx("div",{"data-handleid":x,"data-nodeid":m,"data-handlepos":t,"data-id":`${y}-${m}-${x}-${e}`,className:Ie(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",p,u,{source:!w,target:w,connectable:r,connectablestart:s,connectableend:i,clickconnecting:_,connectingfrom:b,connectingto:N,valid:R,connectionindicator:r&&(!M||k)&&(M||D?i:s)}]),onMouseDown:B,onTouchStart:B,onClick:g?E:void 0,ref:v,...h,children:l})}const $s=I.memo(Nx(MC));function PC({data:e,isConnectable:t,sourcePosition:n=G.Bottom}){return c.jsxs(c.Fragment,{children:[e==null?void 0:e.label,c.jsx($s,{type:"source",position:n,isConnectable:t})]})}function RC({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:r=G.Bottom}){return c.jsxs(c.Fragment,{children:[c.jsx($s,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,c.jsx($s,{type:"source",position:r,isConnectable:t})]})}function IC(){return null}function DC({data:e,isConnectable:t,targetPosition:n=G.Top}){return c.jsxs(c.Fragment,{children:[c.jsx($s,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const il={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Xp={input:PC,default:RC,output:DC,group:IC};function AC(e){var t,n,r,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const LC=e=>{const{width:t,height:n,x:r,y:s}=yo(e.nodeLookup,{filter:i=>!!i.selected});return{width:zt(t)?t:null,height:zt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function OC({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ne(),{width:s,height:i,transformString:o,userSelectionActive:a}=ce(LC,be),l=Ex(),u=I.useRef(null);if(I.useEffect(()=>{var h;n||(h=u.current)==null||h.focus({preventScroll:!0})},[n]),kx({nodeRef:u}),a||!s||!i)return null;const f=e?h=>{const v=r.getState().nodes.filter(x=>x.selected);e(h,v)}:void 0,d=h=>{Object.prototype.hasOwnProperty.call(il,h.key)&&(h.preventDefault(),l({direction:il[h.key],factor:h.shiftKey?4:1}))};return c.jsx("div",{className:Ie(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:c.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:s,height:i}})})}const Kp=typeof window<"u"?window:void 0,zC=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function jx({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:f,selectionMode:d,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:x,panActivationKeyCode:w,zoomActivationKeyCode:S,elementsSelectable:m,zoomOnScroll:g,zoomOnPinch:p,panOnScroll:y,panOnScrollSpeed:b,panOnScrollMode:N,zoomOnDoubleClick:_,panOnDrag:k,defaultViewport:M,translateExtent:D,minZoom:R,maxZoom:A,preventScrolling:B,onSelectionContextMenu:E,noWheelClassName:L,noPanClassName:P,disableKeyboardA11y:z,onViewportChange:C,isControlledViewport:j}){const{nodesSelectionActive:O,userSelectionActive:$}=ce(zC,be),H=to(u,{target:Kp}),Q=to(w,{target:Kp}),U=Q||k,K=Q||y,Y=f&&U!==!0,Z=H||$||Y;return xC({deleteKeyCode:l,multiSelectionKeyCode:x}),c.jsx(SC,{onPaneContextMenu:i,elementsSelectable:m,zoomOnScroll:g,zoomOnPinch:p,panOnScroll:K,panOnScrollSpeed:b,panOnScrollMode:N,zoomOnDoubleClick:_,panOnDrag:!H&&U,defaultViewport:M,translateExtent:D,minZoom:R,maxZoom:A,zoomActivationKeyCode:S,preventScrolling:B,noWheelClassName:L,noPanClassName:P,onViewportChange:C,isControlledViewport:j,paneClickDistance:a,selectionOnDrag:Y,children:c.jsxs(kC,{onSelectionStart:h,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:U,isSelecting:!!Z,selectionMode:d,selectionKeyPressed:H,paneClickDistance:a,selectionOnDrag:Y,children:[e,O&&c.jsx(OC,{onSelectionContextMenu:E,noPanClassName:P,disableKeyboardA11y:z})]})})}jx.displayName="FlowRenderer";const FC=I.memo(jx),$C=e=>t=>e?ff(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function HC(e){return ce(I.useCallback($C(e),[e]),be)}const BC=e=>e.updateNodeInternals;function VC(){const e=ce(BC),[t]=I.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const i=s.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:s.target,force:!0})}),e(r)}));return I.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function UC({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=Ne(),i=I.useRef(null),o=I.useRef(null),a=I.useRef(e.sourcePosition),l=I.useRef(e.targetPosition),u=I.useRef(t),f=n&&!!e.internals.handleBounds;return I.useEffect(()=>{i.current&&!e.hidden&&(!f||o.current!==i.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(i.current),o.current=i.current)},[f,e.hidden]),I.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),I.useEffect(()=>{if(i.current){const d=u.current!==t,h=a.current!==e.sourcePosition,v=l.current!==e.targetPosition;(d||h||v)&&(u.current=t,a.current=e.sourcePosition,l.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function WC({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:i,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:u,nodesFocusable:f,resizeObserver:d,noDragClassName:h,noPanClassName:v,disableKeyboardA11y:x,rfId:w,nodeTypes:S,nodeClickDistance:m,onError:g}){const{node:p,internals:y,isParent:b}=ce(W=>{const J=W.nodeLookup.get(e),oe=W.parentLookup.has(e);return{node:J,internals:J.internals,isParent:oe}},be);let N=p.type||"default",_=(S==null?void 0:S[N])||Xp[N];_===void 0&&(g==null||g("003",nn.error003(N)),N="default",_=(S==null?void 0:S.default)||Xp.default);const k=!!(p.draggable||a&&typeof p.draggable>"u"),M=!!(p.selectable||l&&typeof p.selectable>"u"),D=!!(p.connectable||u&&typeof p.connectable>"u"),R=!!(p.focusable||f&&typeof p.focusable>"u"),A=Ne(),B=X0(p),E=UC({node:p,nodeType:N,hasDimensions:B,resizeObserver:d}),L=kx({nodeRef:E,disabled:p.hidden||!k,noDragClassName:h,handleSelector:p.dragHandle,nodeId:e,isSelectable:M,nodeClickDistance:m}),P=Ex();if(p.hidden)return null;const z=bn(p),C=AC(p),j=M||k||t||n||r||s,O=n?W=>n(W,{...y.userNode}):void 0,$=r?W=>r(W,{...y.userNode}):void 0,H=s?W=>s(W,{...y.userNode}):void 0,Q=i?W=>i(W,{...y.userNode}):void 0,U=o?W=>o(W,{...y.userNode}):void 0,K=W=>{const{selectNodesOnDrag:J,nodeDragThreshold:oe}=A.getState();M&&(!J||!k||oe>0)&&Jc({id:e,store:A,nodeRef:E}),t&&t(W,{...y.userNode})},Y=W=>{if(!(G0(W.nativeEvent)||x)){if(F0.includes(W.key)&&M){const J=W.key==="Escape";Jc({id:e,store:A,unselect:J,nodeRef:E})}else if(k&&p.selected&&Object.prototype.hasOwnProperty.call(il,W.key)){W.preventDefault();const{ariaLabelConfig:J}=A.getState();A.setState({ariaLiveMessage:J["node.a11yDescription.ariaLiveMessage"]({direction:W.key.replace("Arrow","").toLowerCase(),x:~~y.positionAbsolute.x,y:~~y.positionAbsolute.y})}),P({direction:il[W.key],factor:W.shiftKey?4:1})}}},Z=()=>{var he;if(x||!((he=E.current)!=null&&he.matches(":focus-visible")))return;const{transform:W,width:J,height:oe,autoPanOnNodeFocus:re,setCenter:ne}=A.getState();if(!re)return;ff(new Map([[e,p]]),{x:0,y:0,width:J,height:oe},W,!0).length>0||ne(p.position.x+z.width/2,p.position.y+z.height/2,{zoom:W[2]})};return c.jsx("div",{className:Ie(["react-flow__node",`react-flow__node-${N}`,{[v]:k},p.className,{selected:p.selected,selectable:M,parent:b,draggable:k,dragging:L}]),ref:E,style:{zIndex:y.z,transform:`translate(${y.positionAbsolute.x}px,${y.positionAbsolute.y}px)`,pointerEvents:j?"all":"none",visibility:B?"visible":"hidden",...p.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:O,onMouseMove:$,onMouseLeave:H,onContextMenu:Q,onClick:K,onDoubleClick:U,onKeyDown:R?Y:void 0,tabIndex:R?0:void 0,onFocus:R?Z:void 0,role:p.ariaRole??(R?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${yx}-${w}`,"aria-label":p.ariaLabel,...p.domAttributes,children:c.jsx(CC,{value:e,children:c.jsx(_,{id:e,data:p.data,type:N,positionAbsoluteX:y.positionAbsolute.x,positionAbsoluteY:y.positionAbsolute.y,selected:p.selected??!1,selectable:M,draggable:k,deletable:p.deletable??!0,isConnectable:D,sourcePosition:p.sourcePosition,targetPosition:p.targetPosition,dragging:L,dragHandle:p.dragHandle,zIndex:y.z,parentId:p.parentId,...z})})})}var QC=I.memo(WC);const qC=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Tx(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:i}=ce(qC,be),o=HC(e.onlyRenderVisibleElements),a=VC();return c.jsx("div",{className:"react-flow__nodes",style:Ll,children:o.map(l=>c.jsx(QC,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:i},l))})}Tx.displayName="NodeRenderer";const XC=I.memo(Tx);function KC(e){return ce(I.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const i=n.nodeLookup.get(s.source),o=n.nodeLookup.get(s.target);i&&o&&nE({sourceNode:i,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),be)}const YC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return c.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},GC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return c.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Yp={[tl.Arrow]:YC,[tl.ArrowClosed]:GC};function ZC(e){const t=Ne();return I.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(Yp,e)?Yp[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",nn.error009(e)),null)},[e])}const JC=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=ZC(t);return l?c.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0",children:c.jsx(l,{color:n,strokeWidth:o})}):null},Mx=({defaultColor:e,rfId:t})=>{const n=ce(i=>i.edges),r=ce(i=>i.defaultEdgeOptions),s=I.useMemo(()=>uE(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return s.length?c.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:c.jsx("defs",{children:s.map(i=>c.jsx(JC,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};Mx.displayName="MarkerDefinitions";var ej=I.memo(Mx);function Px({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:i,labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...f}){const[d,h]=I.useState({x:1,y:0,width:0,height:0}),v=Ie(["react-flow__edge-textwrapper",u]),x=I.useRef(null);return I.useEffect(()=>{if(x.current){const w=x.current.getBBox();h({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),n?c.jsxs("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:v,visibility:d.width?"visible":"hidden",...f,children:[s&&c.jsx("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),c.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:x,style:r,children:n}),l]}):null}Px.displayName="EdgeText";const tj=I.memo(Px);function Hs({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:u=20,...f}){return c.jsxs(c.Fragment,{children:[c.jsx("path",{...f,d:e,fill:"none",className:Ie(["react-flow__edge-path",f.className])}),u?c.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&zt(t)&&zt(n)?c.jsx(tj,{x:t,y:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function Gp({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===G.Left||e===G.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function Rx({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top}){const[o,a]=Gp({pos:n,x1:e,y1:t,x2:r,y2:s}),[l,u]=Gp({pos:i,x1:r,y1:s,x2:e,y2:t}),[f,d,h,v]=J0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${o},${a} ${l},${u} ${r},${s}`,f,d,h,v]}function Ix(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o,targetPosition:a,label:l,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:v,style:x,markerEnd:w,markerStart:S,interactionWidth:m})=>{const[g,p,y]=Rx({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:a}),b=e.isInternal?void 0:t;return c.jsx(Hs,{id:b,path:g,labelX:p,labelY:y,label:l,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:v,style:x,markerEnd:w,markerStart:S,interactionWidth:m})})}const nj=Ix({isInternal:!1}),Dx=Ix({isInternal:!0});nj.displayName="SimpleBezierEdge";Dx.displayName="SimpleBezierEdgeInternal";function Ax(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:h,sourcePosition:v=G.Bottom,targetPosition:x=G.Top,markerEnd:w,markerStart:S,pathOptions:m,interactionWidth:g})=>{const[p,y,b]=sl({sourceX:n,sourceY:r,sourcePosition:v,targetX:s,targetY:i,targetPosition:x,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),N=e.isInternal?void 0:t;return c.jsx(Hs,{id:N,path:p,labelX:y,labelY:b,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:w,markerStart:S,interactionWidth:g})})}const Lx=Ax({isInternal:!1}),Ox=Ax({isInternal:!0});Lx.displayName="SmoothStepEdge";Ox.displayName="SmoothStepEdgeInternal";function zx(e){return I.memo(({id:t,...n})=>{var s;const r=e.isInternal?void 0:t;return c.jsx(Lx,{...n,id:r,pathOptions:I.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const rj=zx({isInternal:!1}),Fx=zx({isInternal:!0});rj.displayName="StepEdge";Fx.displayName="StepEdgeInternal";function $x(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:v,markerStart:x,interactionWidth:w})=>{const[S,m,g]=rx({sourceX:n,sourceY:r,targetX:s,targetY:i}),p=e.isInternal?void 0:t;return c.jsx(Hs,{id:p,path:S,labelX:m,labelY:g,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:v,markerStart:x,interactionWidth:w})})}const sj=$x({isInternal:!1}),Hx=$x({isInternal:!0});sj.displayName="StraightEdge";Hx.displayName="StraightEdgeInternal";function Bx(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o=G.Bottom,targetPosition:a=G.Top,label:l,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:v,style:x,markerEnd:w,markerStart:S,pathOptions:m,interactionWidth:g})=>{const[p,y,b]=ex({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:a,curvature:m==null?void 0:m.curvature}),N=e.isInternal?void 0:t;return c.jsx(Hs,{id:N,path:p,labelX:y,labelY:b,label:l,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:v,style:x,markerEnd:w,markerStart:S,interactionWidth:g})})}const ij=Bx({isInternal:!1}),Vx=Bx({isInternal:!0});ij.displayName="BezierEdge";Vx.displayName="BezierEdgeInternal";const Zp={default:Vx,straight:Hx,step:Fx,smoothstep:Ox,simplebezier:Dx},Jp={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},oj=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,aj=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,em="react-flow__edgeupdater";function tm({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:a}){return c.jsx("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:Ie([em,`${em}-${a}`]),cx:oj(t,r,e),cy:aj(n,r,e),r,stroke:"transparent",fill:"transparent"})}function lj({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:i,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:u,onReconnectStart:f,onReconnectEnd:d,setReconnecting:h,setUpdateHover:v}){const x=Ne(),w=(y,b)=>{if(y.button!==0)return;const{autoPanOnConnect:N,domNode:_,isValidConnection:k,connectionMode:M,connectionRadius:D,lib:R,onConnectStart:A,onConnectEnd:B,cancelConnection:E,nodeLookup:L,rfId:P,panBy:z,updateConnection:C}=x.getState(),j=b.type==="target",O=(Q,U)=>{h(!1),d==null||d(Q,n,b.type,U)},$=Q=>u==null?void 0:u(n,Q),H=(Q,U)=>{h(!0),f==null||f(y,n,b.type),A==null||A(Q,U)};Zc.onPointerDown(y.nativeEvent,{autoPanOnConnect:N,connectionMode:M,connectionRadius:D,domNode:_,handleId:b.id,nodeId:b.nodeId,nodeLookup:L,isTarget:j,edgeUpdaterType:b.type,lib:R,flowId:P,cancelConnection:E,panBy:z,isValidConnection:k,onConnect:$,onConnectStart:H,onConnectEnd:B,onReconnectEnd:O,updateConnection:C,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:y.currentTarget})},S=y=>w(y,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=y=>w(y,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),g=()=>v(!0),p=()=>v(!1);return c.jsxs(c.Fragment,{children:[(e===!0||e==="source")&&c.jsx(tm,{position:a,centerX:r,centerY:s,radius:t,onMouseDown:S,onMouseEnter:g,onMouseOut:p,type:"source"}),(e===!0||e==="target")&&c.jsx(tm,{position:l,centerX:i,centerY:o,radius:t,onMouseDown:m,onMouseEnter:g,onMouseOut:p,type:"target"})]})}function uj({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:i,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,reconnectRadius:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:v,rfId:x,edgeTypes:w,noPanClassName:S,onError:m,disableKeyboardA11y:g}){let p=ce(ne=>ne.edgeLookup.get(e));const y=ce(ne=>ne.defaultEdgeOptions);p=y?{...y,...p}:p;let b=p.type||"default",N=(w==null?void 0:w[b])||Zp[b];N===void 0&&(m==null||m("011",nn.error011(b)),b="default",N=(w==null?void 0:w.default)||Zp.default);const _=!!(p.focusable||t&&typeof p.focusable>"u"),k=typeof d<"u"&&(p.reconnectable||n&&typeof p.reconnectable>"u"),M=!!(p.selectable||r&&typeof p.selectable>"u"),D=I.useRef(null),[R,A]=I.useState(!1),[B,E]=I.useState(!1),L=Ne(),{zIndex:P,sourceX:z,sourceY:C,targetX:j,targetY:O,sourcePosition:$,targetPosition:H}=ce(I.useCallback(ne=>{const te=ne.nodeLookup.get(p.source),he=ne.nodeLookup.get(p.target);if(!te||!he)return{zIndex:p.zIndex,...Jp};const xe=lE({id:e,sourceNode:te,targetNode:he,sourceHandle:p.sourceHandle||null,targetHandle:p.targetHandle||null,connectionMode:ne.connectionMode,onError:m});return{zIndex:tE({selected:p.selected,zIndex:p.zIndex,sourceNode:te,targetNode:he,elevateOnSelect:ne.elevateEdgesOnSelect,zIndexMode:ne.zIndexMode}),...xe||Jp}},[p.source,p.target,p.sourceHandle,p.targetHandle,p.selected,p.zIndex]),be),Q=I.useMemo(()=>p.markerStart?`url('#${Yc(p.markerStart,x)}')`:void 0,[p.markerStart,x]),U=I.useMemo(()=>p.markerEnd?`url('#${Yc(p.markerEnd,x)}')`:void 0,[p.markerEnd,x]);if(p.hidden||z===null||C===null||j===null||O===null)return null;const K=ne=>{var fe;const{addSelectedEdges:te,unselectNodesAndEdges:he,multiSelectionActive:xe}=L.getState();M&&(L.setState({nodesSelectionActive:!1}),p.selected&&xe?(he({nodes:[],edges:[p]}),(fe=D.current)==null||fe.blur()):te([e])),s&&s(ne,p)},Y=i?ne=>{i(ne,{...p})}:void 0,Z=o?ne=>{o(ne,{...p})}:void 0,W=a?ne=>{a(ne,{...p})}:void 0,J=l?ne=>{l(ne,{...p})}:void 0,oe=u?ne=>{u(ne,{...p})}:void 0,re=ne=>{var te;if(!g&&F0.includes(ne.key)&&M){const{unselectNodesAndEdges:he,addSelectedEdges:xe}=L.getState();ne.key==="Escape"?((te=D.current)==null||te.blur(),he({edges:[p]})):xe([e])}};return c.jsx("svg",{style:{zIndex:P},children:c.jsxs("g",{className:Ie(["react-flow__edge",`react-flow__edge-${b}`,p.className,S,{selected:p.selected,animated:p.animated,inactive:!M&&!s,updating:R,selectable:M}]),onClick:K,onDoubleClick:Y,onContextMenu:Z,onMouseEnter:W,onMouseMove:J,onMouseLeave:oe,onKeyDown:_?re:void 0,tabIndex:_?0:void 0,role:p.ariaRole??(_?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":p.ariaLabel===null?void 0:p.ariaLabel||`Edge from ${p.source} to ${p.target}`,"aria-describedby":_?`${xx}-${x}`:void 0,ref:D,...p.domAttributes,children:[!B&&c.jsx(N,{id:e,source:p.source,target:p.target,type:p.type,selected:p.selected,animated:p.animated,selectable:M,deletable:p.deletable??!0,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,sourceX:z,sourceY:C,targetX:j,targetY:O,sourcePosition:$,targetPosition:H,data:p.data,style:p.style,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerStart:Q,markerEnd:U,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth}),k&&c.jsx(lj,{edge:p,isReconnectable:k,reconnectRadius:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:v,sourceX:z,sourceY:C,targetX:j,targetY:O,sourcePosition:$,targetPosition:H,setUpdateHover:A,setReconnecting:E})]})})}var cj=I.memo(uj);const dj=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Ux({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:i,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:d,onEdgeDoubleClick:h,onReconnectStart:v,onReconnectEnd:x,disableKeyboardA11y:w}){const{edgesFocusable:S,edgesReconnectable:m,elementsSelectable:g,onError:p}=ce(dj,be),y=KC(t);return c.jsxs("div",{className:"react-flow__edges",children:[c.jsx(ej,{defaultColor:e,rfId:n}),y.map(b=>c.jsx(cj,{id:b,edgesFocusable:S,edgesReconnectable:m,elementsSelectable:g,noPanClassName:s,onReconnect:i,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:f,reconnectRadius:d,onDoubleClick:h,onReconnectStart:v,onReconnectEnd:x,rfId:n,onError:p,edgeTypes:r,disableKeyboardA11y:w},b))]})}Ux.displayName="EdgeRenderer";const fj=I.memo(Ux),hj=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function pj({children:e}){const t=ce(hj);return c.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function mj(e){const t=Qs(),n=I.useRef(!1);I.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const gj=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function yj(e){const t=ce(gj),n=Ne();return I.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function xj(e){return e.connection.inProgress?{...e.connection,to:vo(e.connection.to,e.transform)}:{...e.connection}}function vj(e){return xj}function wj(e){const t=vj();return ce(t,be)}const Sj=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function bj({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:i,height:o,isValid:a,inProgress:l}=ce(Sj,be);return!(i&&s&&l)?null:c.jsx("svg",{style:e,width:i,height:o,className:"react-flow__connectionline react-flow__container",children:c.jsx("g",{className:Ie(["react-flow__connection",B0(a)]),children:c.jsx(Wx,{style:t,type:n,CustomComponent:r,isValid:a})})})}const Wx=({style:e,type:t=Rn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:i,fromNode:o,fromHandle:a,fromPosition:l,to:u,toNode:f,toHandle:d,toPosition:h,pointer:v}=wj();if(!s)return;if(n)return c.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:a,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:h,connectionStatus:B0(r),toNode:f,toHandle:d,pointer:v});let x="";const w={sourceX:i.x,sourceY:i.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:h};switch(t){case Rn.Bezier:[x]=ex(w);break;case Rn.SimpleBezier:[x]=Rx(w);break;case Rn.Step:[x]=sl({...w,borderRadius:0});break;case Rn.SmoothStep:[x]=sl(w);break;default:[x]=rx(w)}return c.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};Wx.displayName="ConnectionLine";const Nj={};function nm(e=Nj){I.useRef(e),Ne(),I.useEffect(()=>{},[e])}function _j(){Ne(),I.useRef(!1),I.useEffect(()=>{},[])}function Qx({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:i,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:d,onSelectionStart:h,onSelectionEnd:v,connectionLineType:x,connectionLineStyle:w,connectionLineComponent:S,connectionLineContainerStyle:m,selectionKeyCode:g,selectionOnDrag:p,selectionMode:y,multiSelectionKeyCode:b,panActivationKeyCode:N,zoomActivationKeyCode:_,deleteKeyCode:k,onlyRenderVisibleElements:M,elementsSelectable:D,defaultViewport:R,translateExtent:A,minZoom:B,maxZoom:E,preventScrolling:L,defaultMarkerColor:P,zoomOnScroll:z,zoomOnPinch:C,panOnScroll:j,panOnScrollSpeed:O,panOnScrollMode:$,zoomOnDoubleClick:H,panOnDrag:Q,onPaneClick:U,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneScroll:W,onPaneContextMenu:J,paneClickDistance:oe,nodeClickDistance:re,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:he,onEdgeMouseLeave:xe,reconnectRadius:fe,onReconnect:Ve,onReconnectStart:Nn,onReconnectEnd:sn,noDragClassName:sr,noWheelClassName:Ks,noPanClassName:Ys,disableKeyboardA11y:Gs,nodeExtent:Vl,rfId:ko,viewport:Br,onViewportChange:Zs}){return nm(e),nm(t),_j(),mj(n),yj(Br),c.jsx(FC,{onPaneClick:U,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneContextMenu:J,onPaneScroll:W,paneClickDistance:oe,deleteKeyCode:k,selectionKeyCode:g,selectionOnDrag:p,selectionMode:y,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:b,panActivationKeyCode:N,zoomActivationKeyCode:_,elementsSelectable:D,zoomOnScroll:z,zoomOnPinch:C,zoomOnDoubleClick:H,panOnScroll:j,panOnScrollSpeed:O,panOnScrollMode:$,panOnDrag:Q,defaultViewport:R,translateExtent:A,minZoom:B,maxZoom:E,onSelectionContextMenu:d,preventScrolling:L,noDragClassName:sr,noWheelClassName:Ks,noPanClassName:Ys,disableKeyboardA11y:Gs,onViewportChange:Zs,isControlledViewport:!!Br,children:c.jsxs(pj,{children:[c.jsx(fj,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:o,onReconnect:Ve,onReconnectStart:Nn,onReconnectEnd:sn,onlyRenderVisibleElements:M,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:he,onEdgeMouseLeave:xe,reconnectRadius:fe,defaultMarkerColor:P,noPanClassName:Ys,disableKeyboardA11y:Gs,rfId:ko}),c.jsx(bj,{style:w,type:x,component:S,containerStyle:m}),c.jsx("div",{className:"react-flow__edgelabel-renderer"}),c.jsx(XC,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:re,onlyRenderVisibleElements:M,noPanClassName:Ys,noDragClassName:sr,disableKeyboardA11y:Gs,nodeExtent:Vl,rfId:ko}),c.jsx("div",{className:"react-flow__viewport-portal"})]})})}Qx.displayName="GraphView";const kj=I.memo(Qx),rm=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:a,minZoom:l=.5,maxZoom:u=2,nodeOrigin:f,nodeExtent:d,zIndexMode:h="basic"}={})=>{const v=new Map,x=new Map,w=new Map,S=new Map,m=r??t??[],g=n??e??[],p=f??[0,0],y=d??Gi;ox(w,S,m);const b=Gc(g,v,x,{nodeOrigin:p,nodeExtent:y,zIndexMode:h});let N=[0,0,1];if(o&&s&&i){const _=yo(v,{filter:R=>!!((R.width||R.initialWidth)&&(R.height||R.initialHeight))}),{x:k,y:M,zoom:D}=hf(_,s,i,l,u,(a==null?void 0:a.padding)??.1);N=[k,M,D]}return{rfId:"1",width:s??0,height:i??0,transform:N,nodes:g,nodesInitialized:b,nodeLookup:v,parentLookup:x,edges:m,edgeLookup:S,connectionLookup:w,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:Gi,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:As.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:p,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:a,fitViewResolver:null,connection:{...H0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Kk,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:$0,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},Ej=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:f,nodeExtent:d,zIndexMode:h})=>UE((v,x)=>{async function w(){const{nodeLookup:S,panZoom:m,fitViewOptions:g,fitViewResolver:p,width:y,height:b,minZoom:N,maxZoom:_}=x();m&&(await qk({nodes:S,width:y,height:b,panZoom:m,minZoom:N,maxZoom:_},g),p==null||p.resolve(!0),v({fitViewResolver:null}))}return{...rm({nodes:e,edges:t,width:s,height:i,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:f,nodeExtent:d,defaultNodes:n,defaultEdges:r,zIndexMode:h}),setNodes:S=>{const{nodeLookup:m,parentLookup:g,nodeOrigin:p,elevateNodesOnSelect:y,fitViewQueued:b,zIndexMode:N}=x(),_=Gc(S,m,g,{nodeOrigin:p,nodeExtent:d,elevateNodesOnSelect:y,checkEquality:!0,zIndexMode:N});b&&_?(w(),v({nodes:S,nodesInitialized:_,fitViewQueued:!1,fitViewOptions:void 0})):v({nodes:S,nodesInitialized:_})},setEdges:S=>{const{connectionLookup:m,edgeLookup:g}=x();ox(m,g,S),v({edges:S})},setDefaultNodesAndEdges:(S,m)=>{if(S){const{setNodes:g}=x();g(S),v({hasDefaultNodes:!0})}if(m){const{setEdges:g}=x();g(m),v({hasDefaultEdges:!0})}},updateNodeInternals:S=>{const{triggerNodeChanges:m,nodeLookup:g,parentLookup:p,domNode:y,nodeOrigin:b,nodeExtent:N,debug:_,fitViewQueued:k,zIndexMode:M}=x(),{changes:D,updatedInternals:R}=gE(S,g,p,y,b,N,M);R&&(fE(g,p,{nodeOrigin:b,nodeExtent:N,zIndexMode:M}),k?(w(),v({fitViewQueued:!1,fitViewOptions:void 0})):v({}),(D==null?void 0:D.length)>0&&(_&&console.log("React Flow: trigger node changes",D),m==null||m(D)))},updateNodePositions:(S,m=!1)=>{const g=[];let p=[];const{nodeLookup:y,triggerNodeChanges:b,connection:N,updateConnection:_,onNodesChangeMiddlewareMap:k}=x();for(const[M,D]of S){const R=y.get(M),A=!!(R!=null&&R.expandParent&&(R!=null&&R.parentId)&&(D!=null&&D.position)),B={id:M,type:"position",position:A?{x:Math.max(0,D.position.x),y:Math.max(0,D.position.y)}:D.position,dragging:m};if(R&&N.inProgress&&N.fromNode.id===R.id){const E=zr(R,N.fromHandle,G.Left,!0);_({...N,from:E})}A&&R.parentId&&g.push({id:M,parentId:R.parentId,rect:{...D.internals.positionAbsolute,width:D.measured.width??0,height:D.measured.height??0}}),p.push(B)}if(g.length>0){const{parentLookup:M,nodeOrigin:D}=x(),R=vf(g,y,M,D);p.push(...R)}for(const M of k.values())p=M(p);b(p)},triggerNodeChanges:S=>{const{onNodesChange:m,setNodes:g,nodes:p,hasDefaultNodes:y,debug:b}=x();if(S!=null&&S.length){if(y){const N=Sx(S,p);g(N)}b&&console.log("React Flow: trigger node changes",S),m==null||m(S)}},triggerEdgeChanges:S=>{const{onEdgesChange:m,setEdges:g,edges:p,hasDefaultEdges:y,debug:b}=x();if(S!=null&&S.length){if(y){const N=bx(S,p);g(N)}b&&console.log("React Flow: trigger edge changes",S),m==null||m(S)}},addSelectedNodes:S=>{const{multiSelectionActive:m,edgeLookup:g,nodeLookup:p,triggerNodeChanges:y,triggerEdgeChanges:b}=x();if(m){const N=S.map(_=>ar(_,!0));y(N);return}y(ss(p,new Set([...S]),!0)),b(ss(g))},addSelectedEdges:S=>{const{multiSelectionActive:m,edgeLookup:g,nodeLookup:p,triggerNodeChanges:y,triggerEdgeChanges:b}=x();if(m){const N=S.map(_=>ar(_,!0));b(N);return}b(ss(g,new Set([...S]))),y(ss(p,new Set,!0))},unselectNodesAndEdges:({nodes:S,edges:m}={})=>{const{edges:g,nodes:p,nodeLookup:y,triggerNodeChanges:b,triggerEdgeChanges:N}=x(),_=S||p,k=m||g,M=_.map(R=>{const A=y.get(R.id);return A&&(A.selected=!1),ar(R.id,!1)}),D=k.map(R=>ar(R.id,!1));b(M),N(D)},setMinZoom:S=>{const{panZoom:m,maxZoom:g}=x();m==null||m.setScaleExtent([S,g]),v({minZoom:S})},setMaxZoom:S=>{const{panZoom:m,minZoom:g}=x();m==null||m.setScaleExtent([g,S]),v({maxZoom:S})},setTranslateExtent:S=>{var m;(m=x().panZoom)==null||m.setTranslateExtent(S),v({translateExtent:S})},resetSelectedElements:()=>{const{edges:S,nodes:m,triggerNodeChanges:g,triggerEdgeChanges:p,elementsSelectable:y}=x();if(!y)return;const b=m.reduce((_,k)=>k.selected?[..._,ar(k.id,!1)]:_,[]),N=S.reduce((_,k)=>k.selected?[..._,ar(k.id,!1)]:_,[]);g(b),p(N)},setNodeExtent:S=>{const{nodes:m,nodeLookup:g,parentLookup:p,nodeOrigin:y,elevateNodesOnSelect:b,nodeExtent:N,zIndexMode:_}=x();S[0][0]===N[0][0]&&S[0][1]===N[0][1]&&S[1][0]===N[1][0]&&S[1][1]===N[1][1]||(Gc(m,g,p,{nodeOrigin:y,nodeExtent:S,elevateNodesOnSelect:b,checkEquality:!1,zIndexMode:_}),v({nodeExtent:S}))},panBy:S=>{const{transform:m,width:g,height:p,panZoom:y,translateExtent:b}=x();return yE({delta:S,panZoom:y,transform:m,translateExtent:b,width:g,height:p})},setCenter:async(S,m,g)=>{const{width:p,height:y,maxZoom:b,panZoom:N}=x();if(!N)return Promise.resolve(!1);const _=typeof(g==null?void 0:g.zoom)<"u"?g.zoom:b;return await N.setViewport({x:p/2-S*_,y:y/2-m*_,zoom:_},{duration:g==null?void 0:g.duration,ease:g==null?void 0:g.ease,interpolate:g==null?void 0:g.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{v({connection:{...H0}})},updateConnection:S=>{v({connection:S})},reset:()=>v({...rm()})}},Object.is);function qx({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:i,initialMinZoom:o,initialMaxZoom:a,initialFitViewOptions:l,fitView:u,nodeOrigin:f,nodeExtent:d,zIndexMode:h,children:v}){const[x]=I.useState(()=>Ej({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:u,minZoom:o,maxZoom:a,fitViewOptions:l,nodeOrigin:f,nodeExtent:d,zIndexMode:h}));return c.jsx(WE,{value:x,children:c.jsx(pC,{children:v})})}function Cj({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:i,height:o,fitView:a,fitViewOptions:l,minZoom:u,maxZoom:f,nodeOrigin:d,nodeExtent:h,zIndexMode:v}){return I.useContext(Dl)?c.jsx(c.Fragment,{children:e}):c.jsx(qx,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:i,initialHeight:o,fitView:a,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:f,nodeOrigin:d,nodeExtent:h,zIndexMode:v,children:e})}const jj={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Tj({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:f,onMoveStart:d,onMoveEnd:h,onConnect:v,onConnectStart:x,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:p,onNodeMouseLeave:y,onNodeContextMenu:b,onNodeDoubleClick:N,onNodeDragStart:_,onNodeDrag:k,onNodeDragStop:M,onNodesDelete:D,onEdgesDelete:R,onDelete:A,onSelectionChange:B,onSelectionDragStart:E,onSelectionDrag:L,onSelectionDragStop:P,onSelectionContextMenu:z,onSelectionStart:C,onSelectionEnd:j,onBeforeDelete:O,connectionMode:$,connectionLineType:H=Rn.Bezier,connectionLineStyle:Q,connectionLineComponent:U,connectionLineContainerStyle:K,deleteKeyCode:Y="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:W=!1,selectionMode:J=Zi.Full,panActivationKeyCode:oe="Space",multiSelectionKeyCode:re=eo()?"Meta":"Control",zoomActivationKeyCode:ne=eo()?"Meta":"Control",snapToGrid:te,snapGrid:he,onlyRenderVisibleElements:xe=!1,selectNodesOnDrag:fe,nodesDraggable:Ve,autoPanOnNodeFocus:Nn,nodesConnectable:sn,nodesFocusable:sr,nodeOrigin:Ks=vx,edgesFocusable:Ys,edgesReconnectable:Gs,elementsSelectable:Vl=!0,defaultViewport:ko=sC,minZoom:Br=.5,maxZoom:Zs=2,translateExtent:kf=Gi,preventScrolling:kv=!0,nodeExtent:Ul,defaultMarkerColor:Ev="#b1b1b7",zoomOnScroll:Cv=!0,zoomOnPinch:jv=!0,panOnScroll:Tv=!1,panOnScrollSpeed:Mv=.5,panOnScrollMode:Pv=Cr.Free,zoomOnDoubleClick:Rv=!0,panOnDrag:Iv=!0,onPaneClick:Dv,onPaneMouseEnter:Av,onPaneMouseMove:Lv,onPaneMouseLeave:Ov,onPaneScroll:zv,onPaneContextMenu:Fv,paneClickDistance:$v=1,nodeClickDistance:Hv=0,children:Bv,onReconnect:Vv,onReconnectStart:Uv,onReconnectEnd:Wv,onEdgeContextMenu:Qv,onEdgeDoubleClick:qv,onEdgeMouseEnter:Xv,onEdgeMouseMove:Kv,onEdgeMouseLeave:Yv,reconnectRadius:Gv=10,onNodesChange:Zv,onEdgesChange:Jv,noDragClassName:e1="nodrag",noWheelClassName:t1="nowheel",noPanClassName:Ef="nopan",fitView:Cf,fitViewOptions:jf,connectOnClick:n1,attributionPosition:r1,proOptions:s1,defaultEdgeOptions:i1,elevateNodesOnSelect:o1=!0,elevateEdgesOnSelect:a1=!1,disableKeyboardA11y:Tf=!1,autoPanOnConnect:l1,autoPanOnNodeDrag:u1,autoPanSpeed:c1,connectionRadius:d1,isValidConnection:f1,onError:h1,style:p1,id:Mf,nodeDragThreshold:m1,connectionDragThreshold:g1,viewport:y1,onViewportChange:x1,width:v1,height:w1,colorMode:S1="light",debug:b1,onScroll:Eo,ariaLabelConfig:N1,zIndexMode:Pf="basic",..._1},k1){const Wl=Mf||"1",E1=lC(S1),C1=I.useCallback(Rf=>{Rf.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Eo==null||Eo(Rf)},[Eo]);return c.jsx("div",{"data-testid":"rf__wrapper",..._1,onScroll:C1,style:{...p1,...jj},ref:k1,className:Ie(["react-flow",s,E1]),id:Mf,role:"application",children:c.jsxs(Cj,{nodes:e,edges:t,width:v1,height:w1,fitView:Cf,fitViewOptions:jf,minZoom:Br,maxZoom:Zs,nodeOrigin:Ks,nodeExtent:Ul,zIndexMode:Pf,children:[c.jsx(kj,{onInit:u,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:g,onNodeMouseMove:p,onNodeMouseLeave:y,onNodeContextMenu:b,onNodeDoubleClick:N,nodeTypes:i,edgeTypes:o,connectionLineType:H,connectionLineStyle:Q,connectionLineComponent:U,connectionLineContainerStyle:K,selectionKeyCode:Z,selectionOnDrag:W,selectionMode:J,deleteKeyCode:Y,multiSelectionKeyCode:re,panActivationKeyCode:oe,zoomActivationKeyCode:ne,onlyRenderVisibleElements:xe,defaultViewport:ko,translateExtent:kf,minZoom:Br,maxZoom:Zs,preventScrolling:kv,zoomOnScroll:Cv,zoomOnPinch:jv,zoomOnDoubleClick:Rv,panOnScroll:Tv,panOnScrollSpeed:Mv,panOnScrollMode:Pv,panOnDrag:Iv,onPaneClick:Dv,onPaneMouseEnter:Av,onPaneMouseMove:Lv,onPaneMouseLeave:Ov,onPaneScroll:zv,onPaneContextMenu:Fv,paneClickDistance:$v,nodeClickDistance:Hv,onSelectionContextMenu:z,onSelectionStart:C,onSelectionEnd:j,onReconnect:Vv,onReconnectStart:Uv,onReconnectEnd:Wv,onEdgeContextMenu:Qv,onEdgeDoubleClick:qv,onEdgeMouseEnter:Xv,onEdgeMouseMove:Kv,onEdgeMouseLeave:Yv,reconnectRadius:Gv,defaultMarkerColor:Ev,noDragClassName:e1,noWheelClassName:t1,noPanClassName:Ef,rfId:Wl,disableKeyboardA11y:Tf,nodeExtent:Ul,viewport:y1,onViewportChange:x1}),c.jsx(aC,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:x,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:m,nodesDraggable:Ve,autoPanOnNodeFocus:Nn,nodesConnectable:sn,nodesFocusable:sr,edgesFocusable:Ys,edgesReconnectable:Gs,elementsSelectable:Vl,elevateNodesOnSelect:o1,elevateEdgesOnSelect:a1,minZoom:Br,maxZoom:Zs,nodeExtent:Ul,onNodesChange:Zv,onEdgesChange:Jv,snapToGrid:te,snapGrid:he,connectionMode:$,translateExtent:kf,connectOnClick:n1,defaultEdgeOptions:i1,fitView:Cf,fitViewOptions:jf,onNodesDelete:D,onEdgesDelete:R,onDelete:A,onNodeDragStart:_,onNodeDrag:k,onNodeDragStop:M,onSelectionDrag:L,onSelectionDragStart:E,onSelectionDragStop:P,onMove:f,onMoveStart:d,onMoveEnd:h,noPanClassName:Ef,nodeOrigin:Ks,rfId:Wl,autoPanOnConnect:l1,autoPanOnNodeDrag:u1,autoPanSpeed:c1,onError:h1,connectionRadius:d1,isValidConnection:f1,selectNodesOnDrag:fe,nodeDragThreshold:m1,connectionDragThreshold:g1,onBeforeDelete:O,debug:b1,ariaLabelConfig:N1,zIndexMode:Pf}),c.jsx(rC,{onSelectionChange:B}),Bv,c.jsx(ZE,{proOptions:s1,position:r1}),c.jsx(GE,{rfId:Wl,disableKeyboardA11y:Tf})]})})}var Mj=Nx(Tj);const Pj=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function Rj({children:e}){const t=ce(Pj);return t?Wy.createPortal(e,t):null}function Ij({dimensions:e,lineWidth:t,variant:n,className:r}){return c.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ie(["react-flow__background-pattern",n,r])})}function Dj({radius:e,className:t}){return c.jsx("circle",{cx:e,cy:e,r:e,className:Ie(["react-flow__background-pattern","dots",t])})}var Zn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Zn||(Zn={}));const Aj={[Zn.Dots]:1,[Zn.Lines]:1,[Zn.Cross]:6},Lj=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Xx({id:e,variant:t=Zn.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=0,color:o,bgColor:a,style:l,className:u,patternClassName:f}){const d=I.useRef(null),{transform:h,patternId:v}=ce(Lj,be),x=r||Aj[t],w=t===Zn.Dots,S=t===Zn.Cross,m=Array.isArray(n)?n:[n,n],g=[m[0]*h[2]||1,m[1]*h[2]||1],p=x*h[2],y=Array.isArray(i)?i:[i,i],b=S?[p,p]:g,N=[y[0]*h[2]||1+b[0]/2,y[1]*h[2]||1+b[1]/2],_=`${v}${e||""}`;return c.jsxs("svg",{className:Ie(["react-flow__background",u]),style:{...l,...Ll,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:d,"data-testid":"rf__background",children:[c.jsx("pattern",{id:_,x:h[0]%g[0],y:h[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:w?c.jsx(Dj,{radius:p/2,className:f}):c.jsx(Ij,{dimensions:b,lineWidth:s,variant:t,className:f})}),c.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${_})`})]})}Xx.displayName="Background";const Oj=I.memo(Xx);function zj(){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:c.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Fj(){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:c.jsx("path",{d:"M0 0h32v4.2H0z"})})}function $j(){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:c.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Hj(){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:c.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Bj(){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:c.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ea({children:e,className:t,...n}){return c.jsx("button",{type:"button",className:Ie(["react-flow__controls-button",t]),...n,children:e})}const Vj=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Kx({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:f,position:d="bottom-left",orientation:h="vertical","aria-label":v}){const x=Ne(),{isInteractive:w,minZoomReached:S,maxZoomReached:m,ariaLabelConfig:g}=ce(Vj,be),{zoomIn:p,zoomOut:y,fitView:b}=Qs(),N=()=>{p(),i==null||i()},_=()=>{y(),o==null||o()},k=()=>{b(s),a==null||a()},M=()=>{x.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),l==null||l(!w)},D=h==="horizontal"?"horizontal":"vertical";return c.jsxs(Al,{className:Ie(["react-flow__controls",D,u]),position:d,style:e,"data-testid":"rf__controls","aria-label":v??g["controls.ariaLabel"],children:[t&&c.jsxs(c.Fragment,{children:[c.jsx(ea,{onClick:N,className:"react-flow__controls-zoomin",title:g["controls.zoomIn.ariaLabel"],"aria-label":g["controls.zoomIn.ariaLabel"],disabled:m,children:c.jsx(zj,{})}),c.jsx(ea,{onClick:_,className:"react-flow__controls-zoomout",title:g["controls.zoomOut.ariaLabel"],"aria-label":g["controls.zoomOut.ariaLabel"],disabled:S,children:c.jsx(Fj,{})})]}),n&&c.jsx(ea,{className:"react-flow__controls-fitview",onClick:k,title:g["controls.fitView.ariaLabel"],"aria-label":g["controls.fitView.ariaLabel"],children:c.jsx($j,{})}),r&&c.jsx(ea,{className:"react-flow__controls-interactive",onClick:M,title:g["controls.interactive.ariaLabel"],"aria-label":g["controls.interactive.ariaLabel"],children:w?c.jsx(Bj,{}):c.jsx(Hj,{})}),f]})}Kx.displayName="Controls";const Uj=I.memo(Kx);function Wj({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:f,shapeRendering:d,selected:h,onClick:v}){const{background:x,backgroundColor:w}=i||{},S=o||x||w;return c.jsx("rect",{className:Ie(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:f,ry:f,width:r,height:s,style:{fill:S,stroke:a,strokeWidth:l},shapeRendering:d,onClick:v?m=>v(m,e):void 0})}const Qj=I.memo(Wj),qj=e=>e.nodes.map(t=>t.id),Tu=e=>e instanceof Function?e:()=>e;function Xj({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:i=Qj,onClick:o}){const a=ce(qj,be),l=Tu(t),u=Tu(e),f=Tu(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return c.jsx(c.Fragment,{children:a.map(h=>c.jsx(Yj,{id:h,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:i,onClick:o,shapeRendering:d},h))})}function Kj({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:i,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:u,x:f,y:d,width:h,height:v}=ce(x=>{const{internals:w}=x.nodeLookup.get(e),S=w.userNode,{x:m,y:g}=w.positionAbsolute,{width:p,height:y}=bn(S);return{node:S,x:m,y:g,width:p,height:y}},be);return!u||u.hidden||!X0(u)?null:c.jsx(a,{x:f,y:d,width:h,height:v,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:s,strokeColor:n(u),strokeWidth:i,shapeRendering:o,onClick:l,id:u.id})}const Yj=I.memo(Kj);var Gj=I.memo(Xj);const Zj=200,Jj=150,e4=e=>!e.hidden,t4=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?q0(yo(e.nodeLookup,{filter:e4}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},n4="react-flow__minimap-desc";function Yx({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:u,maskStrokeColor:f,maskStrokeWidth:d,position:h="bottom-right",onClick:v,onNodeClick:x,pannable:w=!1,zoomable:S=!1,ariaLabel:m,inversePan:g,zoomStep:p=1,offsetScale:y=5}){const b=Ne(),N=I.useRef(null),{boundingRect:_,viewBB:k,rfId:M,panZoom:D,translateExtent:R,flowWidth:A,flowHeight:B,ariaLabelConfig:E}=ce(t4,be),L=(e==null?void 0:e.width)??Zj,P=(e==null?void 0:e.height)??Jj,z=_.width/L,C=_.height/P,j=Math.max(z,C),O=j*L,$=j*P,H=y*j,Q=_.x-(O-_.width)/2-H,U=_.y-($-_.height)/2-H,K=O+H*2,Y=$+H*2,Z=`${n4}-${M}`,W=I.useRef(0),J=I.useRef();W.current=j,I.useEffect(()=>{if(N.current&&D)return J.current=EE({domNode:N.current,panZoom:D,getTransform:()=>b.getState().transform,getViewScale:()=>W.current}),()=>{var te;(te=J.current)==null||te.destroy()}},[D]),I.useEffect(()=>{var te;(te=J.current)==null||te.update({translateExtent:R,width:A,height:B,inversePan:g,pannable:w,zoomStep:p,zoomable:S})},[w,S,g,p,R,A,B]);const oe=v?te=>{var fe;const[he,xe]=((fe=J.current)==null?void 0:fe.pointer(te))||[0,0];v(te,{x:he,y:xe})}:void 0,re=x?I.useCallback((te,he)=>{const xe=b.getState().nodeLookup.get(he).internals.userNode;x(te,xe)},[]):void 0,ne=m??E["minimap.ariaLabel"];return c.jsx(Al,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*j:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Ie(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:c.jsxs("svg",{width:L,height:P,viewBox:`${Q} ${U} ${K} ${Y}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Z,ref:N,onClick:oe,children:[ne&&c.jsx("title",{id:Z,children:ne}),c.jsx(Gj,{onClick:re,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:a}),c.jsx("path",{className:"react-flow__minimap-mask",d:`M${Q-H},${U-H}h${K+H*2}v${Y+H*2}h${-K-H*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Yx.displayName="MiniMap";I.memo(Yx);const r4=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,s4={[Fs.Line]:"right",[Fs.Handle]:"bottom-right"};function i4({nodeId:e,position:t,variant:n=Fs.Handle,className:r,style:s=void 0,children:i,color:o,minWidth:a=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:h,autoScale:v=!0,shouldResize:x,onResizeStart:w,onResize:S,onResizeEnd:m}){const g=Cx(),p=typeof e=="string"?e:g,y=Ne(),b=I.useRef(null),N=n===Fs.Handle,_=ce(I.useCallback(r4(N&&v),[N,v]),be),k=I.useRef(null),M=t??s4[n];I.useEffect(()=>{if(!(!b.current||!p))return k.current||(k.current=$E({domNode:b.current,nodeId:p,getStoreItems:()=>{const{nodeLookup:R,transform:A,snapGrid:B,snapToGrid:E,nodeOrigin:L,domNode:P}=y.getState();return{nodeLookup:R,transform:A,snapGrid:B,snapToGrid:E,nodeOrigin:L,paneDomNode:P}},onChange:(R,A)=>{const{triggerNodeChanges:B,nodeLookup:E,parentLookup:L,nodeOrigin:P}=y.getState(),z=[],C={x:R.x,y:R.y},j=E.get(p);if(j&&j.expandParent&&j.parentId){const O=j.origin??P,$=R.width??j.measured.width??0,H=R.height??j.measured.height??0,Q={id:j.id,parentId:j.parentId,rect:{width:$,height:H,...K0({x:R.x??j.position.x,y:R.y??j.position.y},{width:$,height:H},j.parentId,E,O)}},U=vf([Q],E,L,P);z.push(...U),C.x=R.x?Math.max(O[0]*$,R.x):void 0,C.y=R.y?Math.max(O[1]*H,R.y):void 0}if(C.x!==void 0&&C.y!==void 0){const O={id:p,type:"position",position:{...C}};z.push(O)}if(R.width!==void 0&&R.height!==void 0){const $={id:p,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:R.width,height:R.height}};z.push($)}for(const O of A){const $={...O,type:"position"};z.push($)}B(z)},onEnd:({width:R,height:A})=>{const B={id:p,type:"dimensions",resizing:!1,dimensions:{width:R,height:A}};y.getState().triggerNodeChanges([B])}})),k.current.update({controlPosition:M,boundaries:{minWidth:a,minHeight:l,maxWidth:u,maxHeight:f},keepAspectRatio:d,resizeDirection:h,onResizeStart:w,onResize:S,onResizeEnd:m,shouldResize:x}),()=>{var R;(R=k.current)==null||R.destroy()}},[M,a,l,u,f,d,w,S,m,x]);const D=M.split("-");return c.jsx("div",{className:Ie(["react-flow__resize-control","nodrag",...D,n,r]),ref:b,style:{...s,scale:_,...o&&{[N?"backgroundColor":"borderColor"]:o}},children:i})}I.memo(i4);const ge=ub((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:n=>e({executionResult:n}),setGraph:(n,r)=>e({nodes:n,edges:r}),onNodesChange:n=>{e({nodes:Sx(n,t().nodes)})},onEdgesChange:n=>{e({edges:bx(n,t().edges)})},onConnect:n=>{e({edges:nx(n,t().edges)})},addNode:(n,r,s={})=>{const i=_e.get(n);if(!i)return console.error(`Node type ${n} not found in registry`),"";const o=`${n}-${Date.now()}`,a={id:o,type:"custom",position:r,data:{definitionType:n,catalogType:n,...i.getDefaultConfig(),...s}};return e({nodes:[...t().nodes,a]}),o},updateNodeData:(n,r)=>{e({nodes:t().nodes.map(s=>s.id===n?{...s,data:{...s.data,...r}}:s)})},validateGraph:async()=>{const{nodes:n,edges:r}=t();if(n.length===0)return!1;for(const s of n){const i=_e.get(s.data.definitionType);if(i){const o=i.validate(s.data);if(!o.isValid)return console.warn(`Node ${s.id} validation failed: ${o.message}`),!1}}for(const s of n){const i=_e.get(s.data.definitionType);if(i&&i.inputs.length>0&&!r.some(a=>a.target===s.id))return console.warn(`Node ${s.id} (${i.label}) is disconnected.`),!1}return!0}}));/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const n=I.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},f)=>I.createElement("svg",{ref:f,...o4,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${a4(e)}`,a].join(" "),...u},[...t.map(([d,h])=>I.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=ie("Binary",[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=ie("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=ie("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=ie("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=ie("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=ie("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=ie("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=ie("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=ie("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=ie("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=ie("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=ie("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=ie("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=ie("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=ie("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=ie("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=ie("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=ie("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=ie("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),H4=()=>{const e=_e.getAll(),t=ge(a=>a.addNode),[n,r]=I.useState(""),s=(a,l)=>{a.dataTransfer.setData("application/reactflow",l),a.dataTransfer.effectAllowed="move"},i=e.filter(a=>a.label.toLowerCase().includes(n.toLowerCase())||a.category.toLowerCase().includes(n.toLowerCase())),o=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return c.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10",children:[c.jsxs("div",{className:"p-4 border-b space-y-3",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(L4,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),c.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:n,onChange:a=>r(a.target.value)})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:o.map(a=>{const l=i.filter(u=>u.category===a);return l.length===0?null:c.jsxs("div",{children:[c.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:a}),c.jsx("div",{className:"space-y-2",children:l.map(u=>c.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:f=>s(f,u.type),onClick:()=>t(u.type,{x:100,y:100}),children:[c.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:u.icon&&c.jsx(u.icon,{className:"w-4 h-4 text-primary"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-medium truncate",children:u.label}),c.jsx("div",{className:"text-xs text-muted-foreground truncate",children:u.description})]})]},u.type))})]},a)})})]})};function B4(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const{useRef:V4}=Ot;function U4(e){const t=V4();return n=>{const r=e(n);return B4(t.current,r)?t.current:t.current=r}}const W4=I.memo(({id:e,data:t,selected:n})=>{const r=t.definitionType,s=_e.get(r),{deleteElements:i}=Qs(),o=ge(u=>u.executionResult),a=o==null?void 0:o.node_results[e],l=u=>{u.stopPropagation(),i({nodes:[{id:e}]})};return s?c.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${n?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[c.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[c.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:s.icon&&c.jsx(s.icon,{className:"w-4 h-4 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-sm font-bold",children:s.label}),a&&c.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${a.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:a.status==="success"?c.jsx(m4,{size:10}):c.jsx(g4,{size:10})})]}),c.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:s.category})]}),c.jsx("button",{onClick:l,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:c.jsx(ol,{size:14})})]}),c.jsx("div",{className:"p-3",children:s.component?c.jsx(s.component,{data:t}):c.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),s.inputs.map((u,f)=>c.jsx($s,{type:"target",position:G.Left,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(f+1)*100/(s.inputs.length+1)}%`},children:c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`input-${u.id}`)),s.outputs.map((u,f)=>c.jsx($s,{type:"source",position:G.Right,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(f+1)*100/(s.outputs.length+1)}%`},children:c.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`output-${u.id}`))]}):c.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[c.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[c.jsx(h4,{size:16}),c.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),c.jsxs("div",{className:"text-xs mt-1",children:["Type: ",r]})]})}),Q4=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:s,sourcePosition:i,targetPosition:o,style:a={},markerEnd:l})=>{const{deleteElements:u}=Qs(),[f,d,h]=sl({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:s,targetPosition:o,borderRadius:24}),v=x=>{x.stopPropagation(),u({edges:[{id:e}]})};return c.jsxs(c.Fragment,{children:[c.jsx(Hs,{path:f,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),c.jsx(Hs,{path:f,markerEnd:l,style:{...a,strokeWidth:2},className:"react-flow__edge-path"}),c.jsx(Rj,{children:c.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${d}px,${h}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:c.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:v,title:"Remove Connection",children:c.jsx(ol,{size:10})})})})]})},q4={custom:W4},X4={custom:Q4},K4=()=>{const e=I.useRef(null),{screenToFlowPosition:t}=Qs(),{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,addNode:a}=ge(U4(f=>({nodes:f.nodes,edges:f.edges,onNodesChange:f.onNodesChange,onEdgesChange:f.onEdgesChange,onConnect:f.onConnect,addNode:f.addNode}))),l=I.useCallback(f=>{f.preventDefault(),f.dataTransfer.dropEffect="move"},[]),u=I.useCallback(f=>{f.preventDefault();const d=f.dataTransfer.getData("application/reactflow");if(typeof d>"u"||!d)return;const h=t({x:f.clientX,y:f.clientY});a(d,h)},[t,a]);return c.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:c.jsxs(Mj,{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,nodeTypes:q4,onDragOver:l,onDrop:u,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:X4,deleteKeyCode:["Backspace","Delete"],children:[c.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"edge-gradient",children:[c.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),c.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),c.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),c.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[c.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),c.jsx(Oj,{}),c.jsx(Uj,{position:"top-left"})]})})},Y4=()=>c.jsx(qx,{children:c.jsx(K4,{})}),G4=()=>{const e=ge(d=>d.nodes),t=ge(d=>d.updateNodeData),n=ge(d=>d.onNodesChange),[r,s]=I.useState(!1),i=e.find(d=>d.selected);if(!i)return c.jsxs("aside",{className:"w-80 border-l bg-background p-8 flex flex-col items-center justify-center text-muted-foreground text-center shrink-0",children:[c.jsx("div",{className:"p-4 bg-muted/50 rounded-full mb-4",children:c.jsx(O4,{className:"w-8 h-8 opacity-50"})}),c.jsx("h3",{className:"font-medium mb-1",children:"No Node Selected"}),c.jsx("p",{className:"text-sm",children:"Select a node on the canvas to configure its properties."})]});const o=()=>{n([{id:i.id,type:"select",selected:!1}])},a=()=>{s(!r)},l=i.data.definitionType,u=_e.get(l);if(!u)return c.jsx("aside",{className:"w-80 border-l bg-background p-4 shrink-0",children:c.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[c.jsx(ol,{className:"w-4 h-4"}),"Error: Node definition '",l,"' not found."]})});const f=u.settings;return c.jsxs("aside",{className:`
        border-l bg-background flex flex-col h-full shadow-xl z-20 transition-all duration-300 ease-in-out
        ${r?"absolute right-0 top-0 bottom-0 w-[calc(100%-16rem)]":"w-80 shrink-0"}
      `,children:[c.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/10",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/10 rounded-md",children:u.icon&&c.jsx(u.icon,{className:"w-4 h-4 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-semibold text-sm",children:u.label}),c.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:u.category})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:a,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:r?"Collapse":"Expand",children:r?c.jsx(j4,{className:"w-4 h-4"}):c.jsx(C4,{className:"w-4 h-4"})}),c.jsx("button",{onClick:o,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Close",children:c.jsx(ol,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:f?c.jsx(f,{config:i.data,onChange:d=>t(i.id,d),nodeId:i.id}):c.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground italic",children:"No configuration options available for this node."})}),c.jsxs("div",{className:"p-3 border-t bg-muted/5 text-[10px] text-muted-foreground font-mono flex justify-between",children:[c.jsxs("span",{children:["ID: ",i.id]}),c.jsx("span",{children:"v1.0"})]})]})};function ev(e,t){return function(){return e.apply(t,arguments)}}const{toString:Z4}=Object.prototype,{getPrototypeOf:Sf}=Object,{iterator:Ol,toStringTag:tv}=Symbol,zl=(e=>t=>{const n=Z4.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ut=e=>(e=e.toLowerCase(),t=>zl(t)===e),Fl=e=>t=>typeof t===e,{isArray:qs}=Array,Bs=Fl("undefined");function So(e){return e!==null&&!Bs(e)&&e.constructor!==null&&!Bs(e.constructor)&&ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const nv=Ut("ArrayBuffer");function J4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&nv(e.buffer),t}const eT=Fl("string"),ut=Fl("function"),rv=Fl("number"),bo=e=>e!==null&&typeof e=="object",tT=e=>e===!0||e===!1,wa=e=>{if(zl(e)!=="object")return!1;const t=Sf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(tv in e)&&!(Ol in e)},nT=e=>{if(!bo(e)||So(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},rT=Ut("Date"),sT=Ut("File"),iT=Ut("Blob"),oT=Ut("FileList"),aT=e=>bo(e)&&ut(e.pipe),lT=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ut(e.append)&&((t=zl(e))==="formdata"||t==="object"&&ut(e.toString)&&e.toString()==="[object FormData]"))},uT=Ut("URLSearchParams"),[cT,dT,fT,hT]=["ReadableStream","Request","Response","Headers"].map(Ut),pT=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function No(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),qs(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(So(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function sv(e,t){if(So(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iv=e=>!Bs(e)&&e!==pr;function ed(){const{caseless:e,skipUndefined:t}=iv(this)&&this||{},n={},r=(s,i)=>{const o=e&&sv(n,i)||i;wa(n[o])&&wa(s)?n[o]=ed(n[o],s):wa(s)?n[o]=ed({},s):qs(s)?n[o]=s.slice():(!t||!Bs(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&No(arguments[s],r);return n}const mT=(e,t,n,{allOwnKeys:r}={})=>(No(t,(s,i)=>{n&&ut(s)?e[i]=ev(s,n):e[i]=s},{allOwnKeys:r}),e),gT=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),yT=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},xT=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Sf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},vT=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},wT=e=>{if(!e)return null;if(qs(e))return e;let t=e.length;if(!rv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ST=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Sf(Uint8Array)),bT=(e,t)=>{const r=(e&&e[Ol]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},NT=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},_T=Ut("HTMLFormElement"),kT=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),sm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ET=Ut("RegExp"),ov=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};No(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},CT=e=>{ov(e,(t,n)=>{if(ut(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ut(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},jT=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return qs(e)?r(e):r(String(e).split(t)),n},TT=()=>{},MT=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function PT(e){return!!(e&&ut(e.append)&&e[tv]==="FormData"&&e[Ol])}const RT=e=>{const t=new Array(10),n=(r,s)=>{if(bo(r)){if(t.indexOf(r)>=0)return;if(So(r))return r;if(!("toJSON"in r)){t[s]=r;const i=qs(r)?[]:{};return No(r,(o,a)=>{const l=n(o,s+1);!Bs(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},IT=Ut("AsyncFunction"),DT=e=>e&&(bo(e)||ut(e))&&ut(e.then)&&ut(e.catch),av=((e,t)=>e?setImmediate:t?((n,r)=>(pr.addEventListener("message",({source:s,data:i})=>{s===pr&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),pr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ut(pr.postMessage)),AT=typeof queueMicrotask<"u"?queueMicrotask.bind(pr):typeof process<"u"&&process.nextTick||av,LT=e=>e!=null&&ut(e[Ol]),F={isArray:qs,isArrayBuffer:nv,isBuffer:So,isFormData:lT,isArrayBufferView:J4,isString:eT,isNumber:rv,isBoolean:tT,isObject:bo,isPlainObject:wa,isEmptyObject:nT,isReadableStream:cT,isRequest:dT,isResponse:fT,isHeaders:hT,isUndefined:Bs,isDate:rT,isFile:sT,isBlob:iT,isRegExp:ET,isFunction:ut,isStream:aT,isURLSearchParams:uT,isTypedArray:ST,isFileList:oT,forEach:No,merge:ed,extend:mT,trim:pT,stripBOM:gT,inherits:yT,toFlatObject:xT,kindOf:zl,kindOfTest:Ut,endsWith:vT,toArray:wT,forEachEntry:bT,matchAll:NT,isHTMLForm:_T,hasOwnProperty:sm,hasOwnProp:sm,reduceDescriptors:ov,freezeMethods:CT,toObjectSet:jT,toCamelCase:kT,noop:TT,toFiniteNumber:MT,findKey:sv,global:pr,isContextDefined:iv,isSpecCompliantForm:PT,toJSONObject:RT,isAsyncFn:IT,isThenable:DT,setImmediate:av,asap:AT,isIterable:LT};function se(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}F.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const lv=se.prototype,uv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{uv[e]={value:e}});Object.defineProperties(se,uv);Object.defineProperty(lv,"isAxiosError",{value:!0});se.from=(e,t,n,r,s,i)=>{const o=Object.create(lv);F.toFlatObject(e,o,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return se.call(o,a,l,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const OT=null;function td(e){return F.isPlainObject(e)||F.isArray(e)}function cv(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function im(e,t,n){return e?e.concat(t).map(function(s,i){return s=cv(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function zT(e){return F.isArray(e)&&!e.some(td)}const FT=F.toFlatObject(F,{},null,function(t){return/^is[A-Z]/.test(t)});function $l(e,t,n){if(!F.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!F.isUndefined(S[w])});const r=n.metaTokens,s=n.visitor||f,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(F.isDate(x))return x.toISOString();if(F.isBoolean(x))return x.toString();if(!l&&F.isBlob(x))throw new se("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(x)||F.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,w,S){let m=x;if(x&&!S&&typeof x=="object"){if(F.endsWith(w,"{}"))w=r?w:w.slice(0,-2),x=JSON.stringify(x);else if(F.isArray(x)&&zT(x)||(F.isFileList(x)||F.endsWith(w,"[]"))&&(m=F.toArray(x)))return w=cv(w),m.forEach(function(p,y){!(F.isUndefined(p)||p===null)&&t.append(o===!0?im([w],y,i):o===null?w:w+"[]",u(p))}),!1}return td(x)?!0:(t.append(im(S,w,i),u(x)),!1)}const d=[],h=Object.assign(FT,{defaultVisitor:f,convertValue:u,isVisitable:td});function v(x,w){if(!F.isUndefined(x)){if(d.indexOf(x)!==-1)throw Error("Circular reference detected in "+w.join("."));d.push(x),F.forEach(x,function(m,g){(!(F.isUndefined(m)||m===null)&&s.call(t,m,F.isString(g)?g.trim():g,w,h))===!0&&v(m,w?w.concat(g):[g])}),d.pop()}}if(!F.isObject(e))throw new TypeError("data must be an object");return v(e),t}function om(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function bf(e,t){this._pairs=[],e&&$l(e,this,t)}const dv=bf.prototype;dv.append=function(t,n){this._pairs.push([t,n])};dv.toString=function(t){const n=t?function(r){return t.call(this,r,om)}:om;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function $T(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function fv(e,t,n){if(!t)return e;const r=n&&n.encode||$T;F.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=F.isURLSearchParams(t)?t.toString():new bf(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class am{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,function(r){r!==null&&t(r)})}}const hv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HT=typeof URLSearchParams<"u"?URLSearchParams:bf,BT=typeof FormData<"u"?FormData:null,VT=typeof Blob<"u"?Blob:null,UT={isBrowser:!0,classes:{URLSearchParams:HT,FormData:BT,Blob:VT},protocols:["http","https","file","blob","url","data"]},Nf=typeof window<"u"&&typeof document<"u",nd=typeof navigator=="object"&&navigator||void 0,WT=Nf&&(!nd||["ReactNative","NativeScript","NS"].indexOf(nd.product)<0),QT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qT=Nf&&window.location.href||"http://localhost",XT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Nf,hasStandardBrowserEnv:WT,hasStandardBrowserWebWorkerEnv:QT,navigator:nd,origin:qT},Symbol.toStringTag,{value:"Module"})),qe={...XT,...UT};function KT(e,t){return $l(e,new qe.classes.URLSearchParams,{visitor:function(n,r,s,i){return qe.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function YT(e){return F.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function GT(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function pv(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&F.isArray(s)?s.length:o,l?(F.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!F.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&F.isArray(s[o])&&(s[o]=GT(s[o])),!a)}if(F.isFormData(e)&&F.isFunction(e.entries)){const n={};return F.forEachEntry(e,(r,s)=>{t(YT(r),s,n,0)}),n}return null}function ZT(e,t,n){if(F.isString(e))try{return(t||JSON.parse)(e),F.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const _o={transitional:hv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=F.isObject(t);if(i&&F.isHTMLForm(t)&&(t=new FormData(t)),F.isFormData(t))return s?JSON.stringify(pv(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t)||F.isReadableStream(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return KT(t,this.formSerializer).toString();if((a=F.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return $l(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),ZT(t)):t}],transformResponse:[function(t){const n=this.transitional||_o.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(F.isResponse(t)||F.isReadableStream(t))return t;if(t&&F.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?se.from(a,se.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qe.classes.FormData,Blob:qe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],e=>{_o.headers[e]={}});const JT=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eM=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&JT[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},lm=Symbol("internals");function ui(e){return e&&String(e).trim().toLowerCase()}function Sa(e){return e===!1||e==null?e:F.isArray(e)?e.map(Sa):String(e)}function tM(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const nM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Mu(e,t,n,r,s){if(F.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!F.isString(t)){if(F.isString(r))return t.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(t)}}function rM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function sM(e,t){const n=F.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let ct=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,u){const f=ui(l);if(!f)throw new Error("header name must be a non-empty string");const d=F.findKey(s,f);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||l]=Sa(a))}const o=(a,l)=>F.forEach(a,(u,f)=>i(u,f,l));if(F.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(F.isString(t)&&(t=t.trim())&&!nM(t))o(eM(t),n);else if(F.isObject(t)&&F.isIterable(t)){let a={},l,u;for(const f of t){if(!F.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[u=f[0]]=(l=a[u])?F.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=ui(t),t){const r=F.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return tM(s);if(F.isFunction(n))return n.call(this,s,r);if(F.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ui(t),t){const r=F.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Mu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=ui(o),o){const a=F.findKey(r,o);a&&(!n||Mu(r,r[a],a,n))&&(delete r[a],s=!0)}}return F.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Mu(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return F.forEach(this,(s,i)=>{const o=F.findKey(r,i);if(o){n[o]=Sa(s),delete n[i];return}const a=t?rM(i):String(i).trim();a!==i&&delete n[i],n[a]=Sa(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return F.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[lm]=this[lm]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=ui(o);r[a]||(sM(s,o),r[a]=!0)}return F.isArray(t)?t.forEach(i):i(t),this}};ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(ct.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});F.freezeMethods(ct);function Pu(e,t){const n=this||_o,r=t||n,s=ct.from(r.headers);let i=r.data;return F.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function mv(e){return!!(e&&e.__CANCEL__)}function Xs(e,t,n){se.call(this,e??"canceled",se.ERR_CANCELED,t,n),this.name="CanceledError"}F.inherits(Xs,se,{__CANCEL__:!0});function gv(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function oM(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),f=r[i];o||(o=u),n[s]=l,r[s]=u;let d=i,h=0;for(;d!==s;)h+=n[d++],d=d%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const v=f&&u-f;return v?Math.round(h*1e3/v):void 0}}function aM(e,t){let n=0,r=1e3/t,s,i;const o=(u,f=Date.now())=>{n=f,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const f=Date.now(),d=f-n;d>=r?o(u,f):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-d)))},()=>s&&o(s)]}const al=(e,t,n=3)=>{let r=0;const s=oM(50,250);return aM(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),f=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&f?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},um=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},cm=e=>(...t)=>F.asap(()=>e(...t)),lM=qe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,qe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(qe.origin),qe.navigator&&/(msie|trident)/i.test(qe.navigator.userAgent)):()=>!0,uM=qe.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];F.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),F.isString(r)&&a.push(`path=${r}`),F.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),F.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function cM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function dM(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function yv(e,t,n){let r=!cM(t);return e&&(r||n==!1)?dM(e,t):t}const dm=e=>e instanceof ct?{...e}:e;function Fr(e,t){t=t||{};const n={};function r(u,f,d,h){return F.isPlainObject(u)&&F.isPlainObject(f)?F.merge.call({caseless:h},u,f):F.isPlainObject(f)?F.merge({},f):F.isArray(f)?f.slice():f}function s(u,f,d,h){if(F.isUndefined(f)){if(!F.isUndefined(u))return r(void 0,u,d,h)}else return r(u,f,d,h)}function i(u,f){if(!F.isUndefined(f))return r(void 0,f)}function o(u,f){if(F.isUndefined(f)){if(!F.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,d){if(d in t)return r(u,f);if(d in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,f,d)=>s(dm(u),dm(f),d,!0)};return F.forEach(Object.keys({...e,...t}),function(f){const d=l[f]||s,h=d(e[f],t[f],f);F.isUndefined(h)&&d!==a||(n[f]=h)}),n}const xv=e=>{const t=Fr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=ct.from(o),t.url=fv(yv(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),F.isFormData(n)){if(qe.hasStandardBrowserEnv||qe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(F.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([f,d])=>{u.includes(f.toLowerCase())&&o.set(f,d)})}}if(qe.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(t)),r||r!==!1&&lM(t.url))){const l=s&&i&&uM.read(i);l&&o.set(s,l)}return t},fM=typeof XMLHttpRequest<"u",hM=fM&&function(e){return new Promise(function(n,r){const s=xv(e);let i=s.data;const o=ct.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,f,d,h,v,x;function w(){v&&v(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function m(){if(!S)return;const p=ct.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),b={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:p,config:e,request:S};gv(function(_){n(_),w()},function(_){r(_),w()},b),S=null}"onloadend"in S?S.onloadend=m:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(m)},S.onabort=function(){S&&(r(new se("Request aborted",se.ECONNABORTED,e,S)),S=null)},S.onerror=function(y){const b=y&&y.message?y.message:"Network Error",N=new se(b,se.ERR_NETWORK,e,S);N.event=y||null,r(N),S=null},S.ontimeout=function(){let y=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const b=s.transitional||hv;s.timeoutErrorMessage&&(y=s.timeoutErrorMessage),r(new se(y,b.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&F.forEach(o.toJSON(),function(y,b){S.setRequestHeader(b,y)}),F.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),a&&a!=="json"&&(S.responseType=s.responseType),u&&([h,x]=al(u,!0),S.addEventListener("progress",h)),l&&S.upload&&([d,v]=al(l),S.upload.addEventListener("progress",d),S.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(f=p=>{S&&(r(!p||p.type?new Xs(null,e,S):p),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const g=iM(s.url);if(g&&qe.protocols.indexOf(g)===-1){r(new se("Unsupported protocol "+g+":",se.ERR_BAD_REQUEST,e));return}S.send(i||null)})},pM=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const f=u instanceof Error?u:this.reason;r.abort(f instanceof se?f:new Xs(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>F.asap(a),l}},mM=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},gM=async function*(e,t){for await(const n of yM(e))yield*mM(n,t)},yM=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},fm=(e,t,n,r)=>{const s=gM(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await s.next();if(u){a(),l.close();return}let d=f.byteLength;if(n){let h=i+=d;n(h)}l.enqueue(new Uint8Array(f))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},hm=64*1024,{isFunction:na}=F,xM=(({Request:e,Response:t})=>({Request:e,Response:t}))(F.global),{ReadableStream:pm,TextEncoder:mm}=F.global,gm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vM=e=>{e=F.merge.call({skipUndefined:!0},xM,e);const{fetch:t,Request:n,Response:r}=e,s=t?na(t):typeof fetch=="function",i=na(n),o=na(r);if(!s)return!1;const a=s&&na(pm),l=s&&(typeof mm=="function"?(x=>w=>x.encode(w))(new mm):async x=>new Uint8Array(await new n(x).arrayBuffer())),u=i&&a&&gm(()=>{let x=!1;const w=new n(qe.origin,{body:new pm,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!w}),f=o&&a&&gm(()=>F.isReadableStream(new r("").body)),d={stream:f&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!d[x]&&(d[x]=(w,S)=>{let m=w&&w[x];if(m)return m.call(w);throw new se(`Response type '${x}' is not supported`,se.ERR_NOT_SUPPORT,S)})});const h=async x=>{if(x==null)return 0;if(F.isBlob(x))return x.size;if(F.isSpecCompliantForm(x))return(await new n(qe.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(F.isArrayBufferView(x)||F.isArrayBuffer(x))return x.byteLength;if(F.isURLSearchParams(x)&&(x=x+""),F.isString(x))return(await l(x)).byteLength},v=async(x,w)=>{const S=F.toFiniteNumber(x.getContentLength());return S??h(w)};return async x=>{let{url:w,method:S,data:m,signal:g,cancelToken:p,timeout:y,onDownloadProgress:b,onUploadProgress:N,responseType:_,headers:k,withCredentials:M="same-origin",fetchOptions:D}=xv(x),R=t||fetch;_=_?(_+"").toLowerCase():"text";let A=pM([g,p&&p.toAbortSignal()],y),B=null;const E=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let L;try{if(N&&u&&S!=="get"&&S!=="head"&&(L=await v(k,m))!==0){let $=new n(w,{method:"POST",body:m,duplex:"half"}),H;if(F.isFormData(m)&&(H=$.headers.get("content-type"))&&k.setContentType(H),$.body){const[Q,U]=um(L,al(cm(N)));m=fm($.body,hm,Q,U)}}F.isString(M)||(M=M?"include":"omit");const P=i&&"credentials"in n.prototype,z={...D,signal:A,method:S.toUpperCase(),headers:k.normalize().toJSON(),body:m,duplex:"half",credentials:P?M:void 0};B=i&&new n(w,z);let C=await(i?R(B,D):R(w,z));const j=f&&(_==="stream"||_==="response");if(f&&(b||j&&E)){const $={};["status","statusText","headers"].forEach(K=>{$[K]=C[K]});const H=F.toFiniteNumber(C.headers.get("content-length")),[Q,U]=b&&um(H,al(cm(b),!0))||[];C=new r(fm(C.body,hm,Q,()=>{U&&U(),E&&E()}),$)}_=_||"text";let O=await d[F.findKey(d,_)||"text"](C,x);return!j&&E&&E(),await new Promise(($,H)=>{gv($,H,{data:O,headers:ct.from(C.headers),status:C.status,statusText:C.statusText,config:x,request:B})})}catch(P){throw E&&E(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,x,B),{cause:P.cause||P}):se.from(P,P&&P.code,x,B)}}},wM=new Map,vv=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,a=o,l,u,f=wM;for(;a--;)l=i[a],u=f.get(l),u===void 0&&f.set(l,u=a?new Map:vM(t)),f=u;return u};vv();const _f={http:OT,xhr:hM,fetch:{get:vv}};F.forEach(_f,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ym=e=>`- ${e}`,SM=e=>F.isFunction(e)||e===null||e===!1;function bM(e,t){e=F.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!SM(r)&&(s=_f[(a=String(r)).toLowerCase()],s===void 0))throw new se(`Unknown adapter '${a}'`);if(s&&(F.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(ym).join(`
`):" "+ym(o[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const wv={getAdapter:bM,adapters:_f};function Ru(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xs(null,e)}function xm(e){return Ru(e),e.headers=ct.from(e.headers),e.data=Pu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),wv.getAdapter(e.adapter||_o.adapter,e)(e).then(function(r){return Ru(e),r.data=Pu.call(e,e.transformResponse,r),r.headers=ct.from(r.headers),r},function(r){return mv(r)||(Ru(e),r&&r.response&&(r.response.data=Pu.call(e,e.transformResponse,r.response),r.response.headers=ct.from(r.response.headers))),Promise.reject(r)})}const Sv="1.13.2",Hl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Hl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const vm={};Hl.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Sv+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new se(s(o," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!vm[o]&&(vm[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Hl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function NM(e,t,n){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new se("option "+i+" must be "+l,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+i,se.ERR_BAD_OPTION)}}const ba={assertOptions:NM,validators:Hl},Qt=ba.validators;let jr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new am,response:new am}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Fr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&ba.assertOptions(r,{silentJSONParsing:Qt.transitional(Qt.boolean),forcedJSONParsing:Qt.transitional(Qt.boolean),clarifyTimeoutError:Qt.transitional(Qt.boolean)},!1),s!=null&&(F.isFunction(s)?n.paramsSerializer={serialize:s}:ba.assertOptions(s,{encode:Qt.function,serialize:Qt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ba.assertOptions(n,{baseUrl:Qt.spelling("baseURL"),withXsrfToken:Qt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&F.merge(i.common,i[n.method]);i&&F.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=ct.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let f,d=0,h;if(!l){const x=[xm.bind(this),void 0];for(x.unshift(...a),x.push(...u),h=x.length,f=Promise.resolve(n);d<h;)f=f.then(x[d++],x[d++]);return f}h=a.length;let v=n;for(;d<h;){const x=a[d++],w=a[d++];try{v=x(v)}catch(S){w.call(this,S);break}}try{f=xm.call(this,v)}catch(x){return Promise.reject(x)}for(d=0,h=u.length;d<h;)f=f.then(u[d++],u[d++]);return f}getUri(t){t=Fr(this.defaults,t);const n=yv(t.baseURL,t.url,t.allowAbsoluteUrls);return fv(n,t.params,t.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(t){jr.prototype[t]=function(n,r){return this.request(Fr(r||{},{method:t,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Fr(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}jr.prototype[t]=n(),jr.prototype[t+"Form"]=n(!0)});let _M=class bv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new Xs(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new bv(function(s){t=s}),cancel:t}}};function kM(e){return function(n){return e.apply(null,n)}}function EM(e){return F.isObject(e)&&e.isAxiosError===!0}const rd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rd).forEach(([e,t])=>{rd[t]=e});function Nv(e){const t=new jr(e),n=ev(jr.prototype.request,t);return F.extend(n,jr.prototype,t,{allOwnKeys:!0}),F.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Nv(Fr(e,s))},n}const Pe=Nv(_o);Pe.Axios=jr;Pe.CanceledError=Xs;Pe.CancelToken=_M;Pe.isCancel=mv;Pe.VERSION=Sv;Pe.toFormData=$l;Pe.AxiosError=se;Pe.Cancel=Pe.CanceledError;Pe.all=function(t){return Promise.all(t)};Pe.spread=kM;Pe.isAxiosError=EM;Pe.mergeConfig=Fr;Pe.AxiosHeaders=ct;Pe.formToJSON=e=>pv(F.isHTMLForm(e)?new FormData(e):e);Pe.getAdapter=wv.getAdapter;Pe.HttpStatusCode=rd;Pe.default=Pe;const{Axios:_3,AxiosError:k3,CanceledError:E3,isCancel:C3,CancelToken:j3,VERSION:T3,all:M3,Cancel:P3,isAxiosError:R3,spread:I3,toFormData:D3,AxiosHeaders:A3,HttpStatusCode:L3,formToJSON:O3,getAdapter:z3,mergeConfig:F3}=Pe,CM="/api",Bl=Pe.create({baseURL:CM,headers:{"Content-Type":"application/json"}}),jM=async e=>(await Bl.post("/pipeline/preview",e)).data,TM=async e=>(await Bl.get(`/pipeline/datasets/${e}/schema`)).data,wm=async(e,t)=>(await Bl.post(`/pipeline/save/${e}`,t)).data,MM=async e=>{const t=await Bl.get(`/pipeline/load/${e}`);return t.data?t.data:null},PM=async e=>(console.warn("submitTrainingJob is not yet implemented in V2",e),{job_id:"mock_job_id"}),RM=()=>{const e=ge(g=>g.nodes),t=ge(g=>g.edges),n=ge(g=>g.setExecutionResult),r=ge(g=>g.setGraph),[s,i]=I.useState(!1),[o,a]=I.useState(!1),[l,u]=I.useState(!1),[f,d]=I.useState(!1),h=()=>({nodes:e.map(g=>({id:g.id,type:g.type,position:g.position,data:{...g.data,catalogType:g.data.catalogType||g.data.definitionType}})),edges:t.map(g=>({id:g.id,source:g.source,target:g.target,sourceHandle:g.sourceHandle,targetHandle:g.targetHandle,type:g.type,data:g.data}))}),v=g=>{const p=[],y=new Set,b=[],N=e.find(_=>_.data.definitionType==="dataset_node");for(N&&b.push(N.id);b.length>0;){const _=b.shift();if(y.has(_))continue;y.add(_);const k=e.find(E=>E.id===_);if(!k)continue;let M="unknown",D={};const A=t.filter(E=>E.target===_).map(E=>E.source);if(k.data.definitionType==="dataset_node")M="data_loader",D={dataset_id:k.data.datasetId};else if(k.data.definitionType==="simple_imputer")M="SimpleImputer",D=k.data||{};else if(k.data.definitionType==="drop_missing_columns"||k.data.definitionType==="DropMissingColumns")M="DropMissingColumns",D={columns:k.data.columns||[],missing_threshold:k.data.missing_threshold};else if(k.data.definitionType==="drop_missing_rows"||k.data.definitionType==="DropMissingRows")M="DropMissingRows",D={missing_threshold:k.data.missing_threshold,drop_if_any_missing:k.data.drop_if_any_missing};else if(k.data.definitionType==="deduplicate"||k.data.definitionType==="Deduplicate")M="Deduplicate",D={subset:k.data.subset,keep:k.data.keep};else if(k.data.definitionType==="casting"||k.data.definitionType==="Casting")M="Casting",D={column_types:k.data.column_types};else if(k.data.definitionType==="MissingIndicator"||k.data.definitionType==="missing_indicator")M="MissingIndicator",D={columns:k.data.columns,flag_suffix:k.data.flag_suffix};else if(k.data.definitionType==="scale_numeric_features"){const E=k.data||{},L=E.method||"standard";L==="minmax"?M="MinMaxScaler":L==="maxabs"?M="MaxAbsScaler":L==="robust"?M="RobustScaler":M="StandardScaler",D=E}else if(k.data.definitionType==="one_hot_encoding")M="OneHotEncoder",D=k.data||{};else if(k.data.definitionType==="label_encoding")M="LabelEncoder",D=k.data||{};else if(k.data.definitionType==="TrainTestSplitter")M="TrainTestSplitter",D=k.data||{};else if(k.data.definitionType==="feature_target_split")M="feature_target_split",D=k.data||{};else if(k.data.definitionType==="train_model_draft"){M="model_training";let E=k.data.modelType;E==="random_forest"&&(E="random_forest_classifier"),D={target_column:k.data.targetColumn,algorithm:E,hyperparameters:k.data.hyperparameters}}else if(k.data.definitionType==="feature_selection")M="feature_selection",D=k.data||{};else throw console.error(`Unknown node type: ${k.data.definitionType}`),new Error(`Unknown node type: ${k.data.definitionType}. Pipeline execution stopped.`);p.push({node_id:k.id,step_type:M,params:D,inputs:A}),t.filter(E=>E.source===_).forEach(E=>b.push(E.target))}return{pipeline_id:`preview_${Date.now()}`,nodes:p,metadata:{dataset_source_id:g}}},x=async()=>{const g=e.find(y=>y.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId;if(!p){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}a(!0);try{await wm(p,{name:"My Pipeline",description:"Saved from V2 Canvas",graph:h()}),alert("Pipeline saved successfully!")}catch(y){console.error("Save failed:",y),alert("Failed to save pipeline.")}finally{a(!1)}},w=async()=>{const g=e.find(y=>y.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId;if(!p){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){u(!0);try{const y=await MM(p);y&&y.graph?(r(y.graph.nodes,y.graph.edges),alert("Pipeline loaded successfully!")):alert("No saved pipeline found for this dataset.")}catch(y){console.error("Load failed:",y),alert("Failed to load pipeline.")}finally{u(!1)}}},S=async()=>{const g=e.find(y=>y.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId;if(!p){alert("No dataset node found!");return}i(!0),n(null);try{const y=v(p),b=await jM(y);n(b)}catch(y){console.error("Pipeline failed:",y),alert("Pipeline execution failed. Check console for details.")}finally{i(!1)}},m=async()=>{const g=e.find(b=>b.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId,y=e.find(b=>b.data.definitionType==="train_model_draft");if(!p){alert("No dataset node found!");return}if(!y){alert('No training node found! Add a "Model Training" node to train a model.');return}d(!0);try{const b=await wm(p,{name:"Training Pipeline",description:"Auto-saved before training",graph:h()});await PM({dataset_source_id:p,pipeline_id:b.id.toString(),node_id:y.id,model_types:[y.data.modelType],hyperparameters:y.data.hyperparameters,graph:h(),run_training:!0}),alert("Training job submitted successfully! Check the jobs dashboard.")}catch(b){console.error("Training failed:",b),alert("Failed to submit training job.")}finally{d(!1)}};return c.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[c.jsxs("button",{onClick:w,disabled:l||s||f,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[l?c.jsx(ta,{className:"w-4 h-4 animate-spin"}):c.jsx(N4,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium",children:l?"Loading...":"Load"})]}),c.jsxs("button",{onClick:x,disabled:o||s||f,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[o?c.jsx(ta,{className:"w-4 h-4 animate-spin"}):c.jsx(D4,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium",children:o?"Saving...":"Save"})]}),c.jsxs("button",{onClick:S,disabled:s||f,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[s?c.jsx(ta,{className:"w-4 h-4 animate-spin"}):c.jsx(R4,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium",children:s?"Running...":"Run Preview"})]}),c.jsxs("button",{onClick:m,disabled:s||f,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md shadow-sm hover:bg-green-700 transition-colors disabled:opacity-50",children:[f?c.jsx(ta,{className:"w-4 h-4 animate-spin"}):c.jsx(Gx,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium",children:f?"Submitting...":"Train Model"})]})]})},IM=()=>{const e=ge(h=>h.executionResult),[t,n]=I.useState(!0),[r,s]=I.useState(null),i=I.useMemo(()=>e!=null&&e.preview_data?Array.isArray(e.preview_data)?{Result:e.preview_data}:typeof e.preview_data=="object"?e.preview_data:{}:{},[e]),o=Object.keys(i);if(Ot.useEffect(()=>{o.length>0&&(!r||!o.includes(r))&&(o.includes("train")?s("train"):o.includes("X")?s("X"):s(o[0]))},[o,r]),!e)return null;const a=r&&i[r]?i[r]:[],l=a.length>0?Object.keys(a[0]):[],u=e.node_results?Object.keys(e.node_results):[],f=Object.keys(e.node_results||{}).find(h=>e.node_results[h].status==="failed"),d=f?e.node_results[f].error:null;return c.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>n(!t),children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($4,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),c.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[a.length," rows shown"]}),e.status==="failed"&&c.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),c.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?c.jsx(d4,{className:"w-4 h-4"}):c.jsx(f4,{className:"w-4 h-4"})})]}),t&&c.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&c.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[c.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),c.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:d||"Unknown error occurred during execution."})]}),o.length>1&&c.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[c.jsx(k4,{className:"w-3 h-3 text-muted-foreground mr-1"}),o.map(h=>c.jsx("button",{onClick:()=>s(h),className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${r===h?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:h},h))]}),u.length>0&&e.status!=="failed"&&c.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:u.map((h,v)=>c.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:h},v))}),c.jsxs("div",{className:"flex-1 overflow-auto",children:[c.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[c.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:c.jsx("tr",{children:l.map(h=>c.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:h},h))})}),c.jsx("tbody",{children:a.map((h,v)=>c.jsx("tr",{className:"border-b hover:bg-muted/10",children:l.map(x=>c.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:h[x]!==null?String(h[x]):c.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${v}-${x}`))},v))})]}),a.length===0&&c.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",r?`for ${r}`:""]})]})]})]})},DM=()=>{const[e,t]=I.useState(!1);I.useEffect(()=>{document.documentElement.classList.contains("dark")?t(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),t(!0))},[]);const n=()=>{const r=!e;t(r),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return c.jsxs("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-between shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:c.jsx(P4,{className:"w-5 h-5 text-primary"})}),c.jsx("h1",{className:"font-bold text-lg tracking-tight bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"Skyulf ML Canvas"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("a",{href:"/ml-workflow-v1",className:"text-sm text-muted-foreground hover:text-primary transition-colors mr-2",target:"_blank",rel:"noopener noreferrer",children:"Switch to Legacy V1"}),c.jsx("button",{onClick:n,className:"p-2 hover:bg-accent rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Toggle Theme",children:e?c.jsx(T4,{className:"w-5 h-5"}):c.jsx(z4,{className:"w-5 h-5"})})]})]})},AM=()=>c.jsxs("div",{className:"flex h-screen w-full bg-background overflow-hidden flex-col",children:[c.jsx(DM,{}),c.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[c.jsx(H4,{}),c.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[c.jsx(RM,{}),c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Y4,{}),c.jsx(IM,{})]})]}),c.jsx(G4,{})]})]});function LM(){const e=ge(t=>t.addNode);return I.useEffect(()=>{const n=new URLSearchParams(window.location.search).get("source_id");n&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:n})},100)},[]),I.useEffect(()=>{},[]),c.jsx(AM,{})}const OM=({config:e,onChange:t})=>c.jsxs("div",{className:"p-4 space-y-2",children:[c.jsx("label",{className:"block text-sm font-medium",children:"Debug Message"}),c.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:e.message,onChange:n=>t({...e,message:n.target.value})})]}),zM={type:"debug_node",label:"Debug Node",category:"Utility",description:"A simple node for testing the registry.",icon:c4,inputs:[{id:"in",label:"Input",type:"any"}],outputs:[{id:"out",label:"Output",type:"any"}],component:({data:e})=>c.jsxs("div",{className:"text-xs",children:["Msg: ",c.jsx("span",{className:"font-mono",children:e.message||"..."})]}),settings:OM,validate:e=>({isValid:e.message.length>0,message:e.message.length===0?"Message is required":void 0}),getDefaultConfig:()=>({message:"Hello World"})},Sm="/data/api",_v={getAll:async()=>{const e=await fetch(`${Sm}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getById:async e=>{const t=await fetch(`${Sm}/sources/${e}`);if(!t.ok)throw new Error("Failed to fetch dataset");return t.json()}},dt=e=>zS({queryKey:["dataset-schema",e],queryFn:()=>TM(e),enabled:!!e,staleTime:1e3*60*5}),FM=({config:e,onChange:t})=>{const[n,r]=I.useState([]),[s,i]=I.useState(!1),{data:o,isLoading:a}=dt(e.datasetId);I.useEffect(()=>{i(!0),_v.getAll().then(r).catch(console.error).finally(()=>i(!1))},[]);const l=u=>{const f=u.target.value,d=n.find(h=>String(h.id)===f);t({...e,datasetId:f,datasetName:d==null?void 0:d.name})};return c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),s?c.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):c.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:l,children:[c.jsx("option",{value:"",children:"-- Select --"}),n.map(u=>c.jsx("option",{value:u.id,children:u.name},u.id))]})]}),e.datasetId&&c.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[c.jsx(F4,{size:14}),c.jsx("span",{children:"Dataset Schema"})]}),a?c.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-y-auto",children:c.jsxs("table",{className:"w-full text-xs text-left",children:[c.jsx("thead",{className:"bg-muted/20 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-2 font-medium border-b",children:"Column"}),c.jsx("th",{className:"p-2 font-medium border-b",children:"Type"}),c.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Missing"}),c.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Unique"})]})}),c.jsx("tbody",{children:Object.values(o.columns).map(u=>c.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[c.jsx("td",{className:"p-2 font-mono font-medium",children:u.name}),c.jsx("td",{className:"p-2 text-muted-foreground",children:u.dtype}),c.jsx("td",{className:"p-2 text-right text-muted-foreground",children:u.missing_count}),c.jsx("td",{className:"p-2 text-right text-muted-foreground",children:u.unique_count})]},u.name))})]})}),c.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):c.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},$M=({data:e})=>{const[t,n]=I.useState(void 0);I.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&_v.getById(e.datasetId).then(s=>n(s.name)).catch(()=>n(e.datasetId))},[e.datasetId,e.datasetName,t]);const r=e.datasetName||t||e.datasetId;return c.jsx("div",{className:"text-xs",children:e.datasetId?c.jsx("div",{className:"font-medium truncate max-w-[150px]",title:r,children:r||"Loading..."}):c.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},HM={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:x4,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:FM,component:$M,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},wt=e=>{const t=ge(i=>i.nodes),n=ge(i=>i.edges),r=t.find(i=>i.id===e);return r?Ml(r,t,n).map(i=>i.data):[]},BM=(e,t={})=>{var i;const r=(i=wt(e).find(o=>o.datasetId))==null?void 0:i.datasetId,s=ge(o=>o.executionResult);return I.useMemo(()=>!r||!(s!=null&&s.recommendations)?[]:s.recommendations.filter(o=>{var a,l;if(t.types||t.suggestedNodeTypes){const u=(a=t.types)==null?void 0:a.includes(o.type),f=(l=t.suggestedNodeTypes)==null?void 0:l.includes(o.suggested_node_type);if(!u&&!f)return!1}return!(t.scope==="column"&&(!o.target_columns||o.target_columns.length===0))}),[s,r,t.types,t.suggestedNodeTypes,t.scope])},VM=({recommendations:e,onApply:t,className:n=""})=>!e||e.length===0?null:c.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${n}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[c.jsx(E4,{className:"w-4 h-4"}),c.jsx("span",{children:"Recommendations"})]}),c.jsx("div",{className:"space-y-2",children:e.map(r=>c.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex justify-between items-start gap-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:r.type.replace("_"," ").toUpperCase()}),c.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:r.description}),r.reasoning&&c.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",r.reasoning]})]}),t&&c.jsx("button",{onClick:()=>t(r),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:c.jsx(p4,{className:"w-5 h-5"})})]})},r.rule_id))})]}),UM=({config:e,onChange:t,nodeId:n})=>{var b;const s=(b=wt(n||"").find(N=>N.datasetId))==null?void 0:b.datasetId,{data:i,isLoading:o}=dt(s),a=i?Object.values(i.columns).map(N=>N.name):[],l=ge(N=>N.executionResult),u=n?l==null?void 0:l.node_results[n]:null,f=u==null?void 0:u.metrics,d=I.useRef(null),[h,v]=I.useState(!1);I.useEffect(()=>{if(!d.current)return;const N=new ResizeObserver(_=>{for(const k of _)v(k.contentRect.width>450)});return N.observe(d.current),()=>N.disconnect()},[]);const x=BM(n||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),w=N=>{if(N.target_columns&&N.target_columns.length>0){const _=Array.from(new Set([...e.columns,...N.target_columns]));t({...e,columns:_})}},[S,m]=I.useState(""),g=I.useMemo(()=>a.filter(N=>N.toLowerCase().includes(S.toLowerCase())),[a,S]),p=()=>{t({...e,columns:g})},y=()=>{const N=e.columns.filter(_=>!g.includes(_));t({...e,columns:N})};return c.jsxs("div",{ref:d,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[c.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!s&&c.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&c.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),c.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[c.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[x.length>0&&c.jsx("div",{className:"shrink-0",children:c.jsx(VM,{recommendations:x,onApply:w})}),c.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),c.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),c.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),c.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:N=>t({...e,missing_threshold:parseInt(N.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),f&&f.dropped_columns_count!==void 0&&c.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[c.jsx(wo,{size:14}),c.jsx("span",{children:"Last Run Results"})]}),c.jsxs("div",{className:"space-y-1 text-xs",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),c.jsx("span",{className:"font-medium text-destructive",children:f.dropped_columns_count})]}),f.dropped_columns&&Array.isArray(f.dropped_columns)&&f.dropped_columns.length>0&&c.jsxs("div",{className:"pt-1 border-t mt-1",children:[c.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:f.dropped_columns.map(N=>c.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:N},N))})]})]})]})]}),c.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${h?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[c.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),c.jsx("div",{className:"relative group",children:c.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:S,onChange:N=>m(N.target.value)})}),c.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[c.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),c.jsx("span",{className:"text-border",children:"|"}),c.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:a.length>0?g.length>0?c.jsx("div",{className:"space-y-0.5",children:g.map(N=>c.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[c.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:_=>{const k=_.target.checked?[...e.columns,N]:e.columns.filter(M=>M!==N);t({...e,columns:k})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),c.jsx("span",{className:"truncate font-mono text-xs",title:N,children:N})]},N))}):c.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',S,'"']}):c.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},WM={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:Jx,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:UM,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},QM=({config:e,onChange:t,nodeId:n})=>{var l;const s=(l=wt(n||"").find(u=>u.datasetId))==null?void 0:l.datasetId,{data:i,isLoading:o}=dt(s),a=i?Object.values(i.columns).map(u=>u.name):[];return c.jsxs("div",{className:"p-4 space-y-4",children:[!s&&c.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&c.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Strategy"}),c.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:u=>t({...e,strategy:u.target.value}),children:[c.jsx("option",{value:"mean",children:"Mean (Average)"}),c.jsx("option",{value:"median",children:"Median (Middle Value)"}),c.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),c.jsx("option",{value:"constant",children:"Constant Value"})]})]}),e.strategy==="constant"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),c.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:u=>t({...e,fill_value:u.target.value}),placeholder:"Enter value..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Target Columns"}),a.length>0?c.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto border rounded p-2 bg-background",children:a.map(u=>c.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:e.columns.includes(u),onChange:f=>{const d=f.target.checked?[...e.columns,u]:e.columns.filter(h=>h!==u);t({...e,columns:d})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),c.jsx("span",{children:u})]},u))}):c.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]})]})},qM={type:"simple_imputer",label:"Imputation",category:"Preprocessing",description:"Fill missing values in selected columns.",icon:M4,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Filled Data",type:"dataset"}],settings:QM,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],strategy:"mean"})},XM=({config:e,onChange:t,nodeId:n})=>{var l;const s=(l=wt(n||"").find(u=>u.datasetId))==null?void 0:l.datasetId,{data:i,isLoading:o}=dt(s),a=i?Object.values(i.columns).filter(u=>["int","float","number"].some(f=>{var d;return(d=u.dtype)==null?void 0:d.toLowerCase().includes(f)})).map(u=>u.name):[];return c.jsxs("div",{className:"p-4 space-y-4",children:[!s&&c.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),c.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:u=>t({...e,method:u.target.value}),children:[c.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),c.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),c.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),c.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),c.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Numeric Columns"}),a.length>0?c.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto border rounded p-2 bg-background",children:a.map(u=>c.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:e.columns.includes(u),onChange:f=>{const d=f.target.checked?[...e.columns,u]:e.columns.filter(h=>h!==u);t({...e,columns:d})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),c.jsx("span",{children:u})]},u))}):c.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:o?"Loading schema...":"No numeric columns found"})]})]})},KM={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:A4,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:XM,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})},YM=({config:e,onChange:t,nodeId:n})=>{var l;const s=(l=wt(n||"").find(u=>u.datasetId))==null?void 0:l.datasetId,{data:i,isLoading:o}=dt(s),a=i?Object.values(i.columns).filter(u=>["object","string","category","bool"].some(f=>{var d;return(d=u.dtype)==null?void 0:d.toLowerCase().includes(f)})).map(u=>u.name):[];return c.jsxs("div",{className:"p-4 space-y-4",children:[!s&&c.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Categorical Columns"}),a.length>0?c.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto border rounded p-2 bg-background",children:a.map(u=>c.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:e.columns.includes(u),onChange:f=>{const d=f.target.checked?[...e.columns,u]:e.columns.filter(h=>h!==u);t({...e,columns:d})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),c.jsx("span",{children:u})]},u))}):c.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:o?"Loading schema...":"No categorical columns found"}),c.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"Creates binary columns for each category. Best for low-cardinality features."})]})]})},GM={type:"one_hot_encoding",label:"One-Hot Encoding",category:"Preprocessing",description:"Convert categorical variables into binary columns.",icon:u4,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:YM,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[]})},ZM=({config:e,onChange:t,nodeId:n})=>{var l;const s=(l=wt(n||"").find(u=>u.datasetId))==null?void 0:l.datasetId,{data:i,isLoading:o}=dt(s),a=i?Object.values(i.columns).filter(u=>["object","string","category","bool"].some(f=>{var d;return(d=u.dtype)==null?void 0:d.toLowerCase().includes(f)})).map(u=>u.name):[];return c.jsxs("div",{className:"p-4 space-y-4",children:[!s&&c.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Categorical Columns"}),a.length>0?c.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto border rounded p-2 bg-background",children:a.map(u=>c.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:e.columns.includes(u),onChange:f=>{const d=f.target.checked?[...e.columns,u]:e.columns.filter(h=>h!==u);t({...e,columns:d})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),c.jsx("span",{children:u})]},u))}):c.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:o?"Loading schema...":"No categorical columns found"}),c.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"Converts categories to integer codes (0, 1, 2...). Best for ordinal data."})]})]})},JM={type:"label_encoding",label:"Label Encoding",category:"Preprocessing",description:"Convert categorical variables into integer codes.",icon:_4,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:ZM,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[]})},e3=({config:e,onChange:t,nodeId:n})=>{var u,f;const r=wt(n||""),s=(u=r.find(d=>d.datasetId))==null?void 0:u.datasetId,i=(f=r.find(d=>d.target_column))==null?void 0:f.target_column;Ot.useEffect(()=>{const d={};s&&e.datasetId!==s&&(d.datasetId=s),i&&e.targetColumn!==i&&(d.targetColumn=i),Object.keys(d).length>0&&t({...e,...d})},[s,i,e.datasetId,e.targetColumn,t]);const{data:o,isLoading:a}=dt(s||e.datasetId),l=o?Object.values(o.columns).map(d=>d.name):[];return c.jsxs("div",{className:"p-4 space-y-4",children:[!s&&!e.datasetId&&c.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),a&&c.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Column"}),c.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.targetColumn??"",onChange:d=>t({...e,targetColumn:d.target.value}),disabled:!!i,children:[c.jsx("option",{value:"",children:"-- Select Target --"}),l.map(d=>c.jsx("option",{value:d,children:d},d))]}),i&&c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Target column inherited from upstream split."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Model Type"}),c.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.modelType,onChange:d=>t({...e,modelType:d.target.value}),children:[c.jsx("option",{value:"random_forest",children:"Random Forest"}),c.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),c.jsx("option",{value:"xgboost",children:"XGBoost"})]})]}),e.modelType==="random_forest"&&c.jsxs("div",{className:"space-y-2 border-t pt-2",children:[c.jsx("h4",{className:"text-xs font-semibold text-muted-foreground",children:"Hyperparameters"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs mb-1",children:"N Estimators"}),c.jsx("input",{type:"number",className:"w-full p-1 border rounded text-sm",value:e.hyperparameters.n_estimators||100,onChange:d=>t({...e,hyperparameters:{...e.hyperparameters,n_estimators:parseInt(d.target.value)}})})]})]})]})},t3={type:"train_model_draft",label:"Model Training",category:"Modeling",description:"Train a machine learning model.",icon:Gx,inputs:[{id:"train",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:e3,validate:e=>e.targetColumn?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({targetColumn:"",modelType:"random_forest",hyperparameters:{n_estimators:100}})},n3=({config:e,onChange:t})=>{const n=["train","validation","test"],r=["accuracy","precision","recall","f1","roc_auc","mse","rmse","r2"],s=o=>{const a=e.splits.includes(o)?e.splits.filter(l=>l!==o):[...e.splits,o];t({...e,splits:a})},i=o=>{const a=e.metrics.includes(o)?e.metrics.filter(l=>l!==o):[...e.metrics,o];t({...e,metrics:a})};return c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Evaluation Splits"}),c.jsx("div",{className:"space-y-2",children:n.map(o=>c.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:e.splits.includes(o),onChange:()=>s(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),c.jsxs("span",{className:"capitalize",children:[o," Set"]})]},o))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metrics to Track"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.map(o=>c.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:e.metrics.includes(o),onChange:()=>i(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),c.jsx("span",{className:"uppercase",children:o.replace("_"," ")})]},o))})]})]})},r3={type:"model_evaluation",label:"Model Evaluation",category:"Evaluation",description:"Evaluate model performance on specific splits.",icon:l4,inputs:[{id:"model",label:"Trained Model",type:"model"}],outputs:[{id:"report",label:"Evaluation Report",type:"report"}],settings:n3,validate:e=>({isValid:e.splits.length>0,message:e.splits.length===0?"Select at least one split to evaluate":void 0}),getDefaultConfig:()=>({splits:["validation"],metrics:["accuracy","f1"]})},s3=({config:e,onChange:t,nodeId:n})=>{var p;const r=wt(n||""),s=ge(y=>y.nodes),i=ge(y=>y.edges),o=ge(y=>y.executionResult),l=(y=>{var _;const b=new Set,N=[y];for(;N.length>0;){const k=N.shift();if(b.has(k))continue;b.add(k);const M=s.find(R=>R.id===k);if(!M)continue;if(k!==y&&((_=M.data)!=null&&_.datasetId))return M.data.datasetId;const D=Ml(M,s,i);for(const R of D)N.push(R.id)}})(n||""),u=(p=r.find(y=>y.target_column))==null?void 0:p.target_column;I.useEffect(()=>{const y={};l&&e.datasetId!==l&&(y.datasetId=l),u&&e.target_column!==u&&(y.target_column=u),Object.keys(y).length>0&&t({...e,...y})},[l,u,e.datasetId,e.target_column,t]);const{data:f,isLoading:d}=dt(l||e.datasetId),h=f?Object.values(f.columns).map(y=>y.name):[],v=I.useRef(null),[x,w]=I.useState(!1);I.useEffect(()=>{if(!v.current)return;const y=new ResizeObserver(b=>{for(const N of b)w(N.contentRect.width>450)});return y.observe(v.current),()=>y.disconnect()},[]);const S=()=>{const y=e.problem_type||"auto";return y==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:y==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},m=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),g=["select_from_model","rfe"].includes(e.method);return c.jsxs("div",{ref:v,className:`flex flex-col h-full w-full bg-background ${x?"overflow-hidden":"overflow-y-auto"}`,children:[c.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!l&&c.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),d&&!!l&&c.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),c.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${x?"grid grid-cols-2":"flex flex-col"}`,children:[c.jsxs("div",{className:`space-y-4 ${x?"overflow-y-auto pr-2":"shrink-0"}`,children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),c.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:y=>t({...e,method:y.target.value}),children:[c.jsxs("optgroup",{label:"Simple",children:[c.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),c.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),c.jsxs("optgroup",{label:"Univariate",children:[c.jsx("option",{value:"select_k_best",children:"Select K Best"}),c.jsx("option",{value:"select_percentile",children:"Select Percentile"}),c.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),c.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),c.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),c.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),c.jsxs("optgroup",{label:"Model Based",children:[c.jsx("option",{value:"select_from_model",children:"Select From Model"}),c.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),u?c.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[u," ",c.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):c.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:y=>t({...e,target_column:y.target.value}),children:[c.jsx("option",{value:"",children:"Select Target..."}),h.map(y=>c.jsx("option",{value:y,children:y},y))]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(m||g)&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),c.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:y=>t({...e,problem_type:y.target.value}),children:[c.jsx("option",{value:"auto",children:"Auto-detect"}),c.jsx("option",{value:"classification",children:"Classification"}),c.jsx("option",{value:"regression",children:"Regression"})]})]})]}),c.jsxs("div",{className:`space-y-4 ${x?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[c.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),c.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:y=>t({...e,threshold:parseFloat(y.target.value)})}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),c.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:y=>t({...e,threshold:parseFloat(y.target.value)})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Method"}),c.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:y=>t({...e,correlation_method:y.target.value}),children:[c.jsx("option",{value:"pearson",children:"Pearson"}),c.jsx("option",{value:"spearman",children:"Spearman"}),c.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),m&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),c.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:y=>t({...e,score_func:y.target.value}),children:[c.jsx("option",{value:"",children:"Auto (Default)"}),S().map(y=>c.jsx("option",{value:y.value,children:y.label},y.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),c.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:y=>t({...e,k:parseInt(y.target.value)})})]}),e.method==="select_percentile"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),c.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:y=>t({...e,percentile:parseInt(y.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),c.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:y=>t({...e,alpha:parseFloat(y.target.value)})})]}),e.method==="generic_univariate_select"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Mode"}),c.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:y=>t({...e,mode:y.target.value}),children:[c.jsx("option",{value:"k_best",children:"K Best"}),c.jsx("option",{value:"percentile",children:"Percentile"}),c.jsx("option",{value:"fpr",children:"FPR"}),c.jsx("option",{value:"fdr",children:"FDR"}),c.jsx("option",{value:"fwe",children:"FWE"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),c.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:y=>t({...e,param:parseFloat(y.target.value)})}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),g&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),c.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:y=>t({...e,estimator:y.target.value}),children:[c.jsx("option",{value:"auto",children:"Auto"}),c.jsx("option",{value:"RandomForest",children:"Random Forest"}),c.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),c.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),c.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:y=>t({...e,threshold:y.target.value})}),c.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Step"}),c.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:y=>t({...e,step:parseInt(y.target.value)})}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),c.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[c.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:y=>t({...e,drop_columns:y.target.checked})}),c.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),o&&o.node_results[n||""]&&c.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:(()=>{var N;const y=o.node_results[n||""],b=(N=y.metrics)==null?void 0:N.dropped_columns;return c.jsxs("div",{className:"space-y-2",children:[y.error&&c.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:y.error}),b&&b.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium text-muted-foreground mb-1",children:["Dropped Columns (",b.length,"):"]}),c.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border",children:c.jsx("ul",{className:"list-disc list-inside space-y-0.5 text-muted-foreground",children:b.map(_=>c.jsx("li",{className:"truncate",title:_,children:_},_))})})]}),b&&b.length===0&&y.status==="success"&&c.jsx("div",{className:"text-muted-foreground italic",children:"No columns were dropped."})]})})()})]})]})]})},i3={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:S4,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:s3,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},o3=({config:e,onChange:t,nodeId:n})=>{var m;const r=wt(n||""),s=ge(g=>g.nodes),i=ge(g=>g.edges),a=(g=>{var b;const p=new Set,y=[g];for(;y.length>0;){const N=y.shift();if(p.has(N))continue;p.add(N);const _=s.find(M=>M.id===N);if(!_)continue;if(N!==g&&((b=_.data)!=null&&b.datasetId))return _.data.datasetId;const k=Ml(_,s,i);for(const M of k)y.push(M.id)}})(n||""),l=(m=r.find(g=>g.target_column))==null?void 0:m.target_column;Ot.useEffect(()=>{const g={};a&&e.datasetId!==a&&(g.datasetId=a),l&&e.target_column!==l&&(g.target_column=l),Object.keys(g).length>0&&t({...e,...g})},[a,l,e.datasetId,e.target_column,t]);const{data:u,isLoading:f}=dt(a||e.datasetId),d=u?Object.values(u.columns).map(g=>g.name):[],h=e.validation_size||0,v=1-e.test_size-h,x=Ot.useRef(null),[w,S]=Ot.useState(!1);return Ot.useEffect(()=>{if(!x.current)return;const g=new ResizeObserver(p=>{for(const y of p)S(y.contentRect.width>450)});return g.observe(x.current),()=>g.disconnect()},[]),c.jsxs("div",{ref:x,className:`flex flex-col h-full w-full bg-background ${w?"overflow-hidden":"overflow-y-auto"}`,children:[c.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&!e.datasetId&&c.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),f&&c.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),c.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${w?"grid grid-cols-2":"flex flex-col"}`,children:[c.jsxs("div",{className:`space-y-4 ${w?"overflow-y-auto pr-2":"shrink-0"}`,children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),c.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:g=>t({...e,test_size:parseFloat(g.target.value)})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),c.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:h,onChange:g=>t({...e,validation_size:parseFloat(g.target.value)})}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(v*100),"% Training, ",Math.round(h*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),v<=0&&c.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Random State"}),c.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:g=>t({...e,random_state:parseInt(g.target.value)})})]})]}),c.jsxs("div",{className:`space-y-4 ${w?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:g=>t({...e,shuffle:g.target.checked})}),c.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:g=>t({...e,stratify:g.target.checked})}),c.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),c.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[c.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),c.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:g=>t({...e,target_column:g.target.value}),disabled:!e.stratify,children:[c.jsx("option",{value:"",children:"-- Select Target --"}),d.map(g=>c.jsx("option",{value:g,children:g},g))]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},a3={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:Zx,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:o3,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},l3=({config:e,onChange:t,nodeId:n})=>{const r=ge(u=>u.nodes),s=ge(u=>u.edges),o=(u=>{var h;const f=new Set,d=[u];for(;d.length>0;){const v=d.shift();if(f.has(v))continue;f.add(v);const x=r.find(S=>S.id===v);if(!x)continue;if(v!==u&&((h=x.data)!=null&&h.datasetId))return x.data.datasetId;const w=Ml(x,r,s);for(const S of w)d.push(S.id)}})(n||"");Ot.useEffect(()=>{o&&e.datasetId!==o&&t({...e,datasetId:o})},[o,e.datasetId,t]);const{data:a}=dt(o||e.datasetId),l=a?Object.values(a.columns).map(u=>u.name):[];return c.jsx("div",{className:"p-4 space-y-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),c.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:u=>t({...e,target_column:u.target.value}),children:[c.jsx("option",{value:"",children:"-- Select Target --"}),l.map(u=>c.jsx("option",{value:u,children:u},u))]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},u3={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:Zx,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:l3,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},c3=({config:e,onChange:t,nodeId:n})=>{var u;const s=(u=wt(n||"").find(f=>f.datasetId))==null?void 0:u.datasetId,{isLoading:i}=dt(s),o=ge(f=>f.executionResult),a=n?o==null?void 0:o.node_results[n]:null,l=a==null?void 0:a.metrics;return c.jsxs("div",{className:"p-4 space-y-4",children:[!s&&c.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!s&&c.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[c.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:f=>t({...e,drop_if_any_missing:f.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),c.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[c.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:f=>t({...e,missing_threshold:parseInt(f.target.value)}),className:"flex-1"}),c.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),l&&l.DropMissingRows_rows_removed!==void 0&&c.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[c.jsx(wo,{size:14}),c.jsx("span",{children:"Last Run Results"})]}),c.jsxs("div",{className:"space-y-1 text-xs",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),c.jsx("span",{className:"font-medium text-destructive",children:l.DropMissingRows_rows_removed})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),c.jsx("span",{className:"font-medium",children:l.DropMissingRows_rows_remaining})]}),c.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[c.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),c.jsx("span",{className:"font-medium",children:l.DropMissingRows_rows_total})]})]})]})]})},d3={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:w4,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:c3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},f3=({config:e,onChange:t,nodeId:n})=>{var S;const s=(S=wt(n||"").find(m=>m.datasetId))==null?void 0:S.datasetId,{data:i,isLoading:o}=dt(s),a=i?Object.values(i.columns).map(m=>m.name):[],l=ge(m=>m.executionResult),u=n?l==null?void 0:l.node_results[n]:null,f=u==null?void 0:u.metrics,[d,h]=I.useState(""),v=I.useMemo(()=>a.filter(m=>m.toLowerCase().includes(d.toLowerCase())),[a,d]),x=()=>{t({...e,subset:v})},w=()=>{const m=e.subset.filter(g=>!v.includes(g));t({...e,subset:m})};return c.jsxs("div",{className:"p-4 space-y-4",children:[!s&&c.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&c.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),c.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:m=>t({...e,keep:m.target.value}),children:[c.jsx("option",{value:"first",children:"Keep First Occurrence"}),c.jsx("option",{value:"last",children:"Keep Last Occurrence"}),c.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),c.jsxs("div",{className:"space-y-2 mb-2",children:[c.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:d,onChange:m=>h(m.target.value)}),c.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[c.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),c.jsx("span",{className:"text-border",children:"|"}),c.jsx("button",{onClick:w,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),a.length>0?c.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[v.map(m=>c.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(m),onChange:g=>{const p=g.target.checked?[...e.subset,m]:e.subset.filter(y=>y!==m);t({...e,subset:p})}}),m]},m)),v.length===0&&c.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',d,'"']})]}):c.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),f&&f.Deduplicate_rows_removed!==void 0&&c.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[c.jsx(wo,{size:14}),c.jsx("span",{children:"Last Run Results"})]}),c.jsxs("div",{className:"space-y-1 text-xs",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),c.jsx("span",{className:"font-medium text-destructive",children:f.Deduplicate_rows_removed})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),c.jsx("span",{className:"font-medium",children:f.Deduplicate_rows_remaining})]}),c.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[c.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),c.jsx("span",{className:"font-medium",children:f.Deduplicate_rows_total})]})]})]})]})},h3={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:y4,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:f3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},p3=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],m3=({config:e,onChange:t,nodeId:n})=>{var g;const s=(g=wt(n||"").find(p=>p.datasetId))==null?void 0:g.datasetId,{data:i,isLoading:o}=dt(s),a=i?Object.values(i.columns).map(p=>p.name):[],l=ge(p=>p.executionResult),u=n?l==null?void 0:l.node_results[n]:null,f=u==null?void 0:u.metrics,d=I.useRef(null),[h,v]=I.useState(!1);I.useEffect(()=>{if(!d.current)return;const p=new ResizeObserver(y=>{for(const b of y)v(b.contentRect.width>450)});return p.observe(d.current),()=>p.disconnect()},[]);const x=()=>{if(a.length===0)return;const p=a.find(y=>!e.column_types[y])||a[0];t({...e,column_types:{...e.column_types,[p]:"float"}})},w=p=>{const y={...e.column_types};delete y[p],t({...e,column_types:y})},S=(p,y)=>{if(p===y)return;const b=e.column_types[p],N={...e.column_types};delete N[p],N[y]=b,t({...e,column_types:N})},m=(p,y)=>{t({...e,column_types:{...e.column_types,[p]:y}})};return c.jsxs("div",{ref:d,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!s&&c.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&c.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),c.jsx("button",{onClick:x,disabled:!s||a.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:c.jsx(I4,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:`space-y-2 ${h?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([p,y])=>c.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[c.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[c.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:p,onChange:b=>S(p,b.target.value),children:a.map(b=>c.jsx("option",{value:b,disabled:b!==p&&!!e.column_types[b],children:b},b))}),c.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:y,onChange:b=>m(p,b.target.value),children:p3.map(b=>c.jsx("option",{value:b.value,children:b.label},b.value))})]}),c.jsx("button",{onClick:()=>w(p),className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:c.jsx(Jx,{className:"w-4 h-4"})})]},p)),Object.keys(e.column_types).length===0&&c.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${h?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),f&&(f.cast_errors!==void 0||f.casted_columns_count!==void 0)&&c.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[c.jsx(wo,{size:14}),c.jsx("span",{children:"Last Run Results"})]}),c.jsxs("div",{className:"space-y-1 text-xs",children:[f.casted_columns_count!==void 0&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),c.jsx("span",{className:"font-medium",children:f.casted_columns_count})]}),f.cast_errors!==void 0&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),c.jsx("span",{className:"font-medium text-destructive",children:f.cast_errors})]})]})]})]})},g3={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:v4,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:m3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},y3=({config:e,onChange:t,nodeId:n})=>{var S;const s=(S=wt(n||"").find(m=>m.datasetId))==null?void 0:S.datasetId,{data:i,isLoading:o}=dt(s),a=i?Object.values(i.columns).map(m=>m.name):[],l=ge(m=>m.executionResult),u=n?l==null?void 0:l.node_results[n]:null,f=u==null?void 0:u.metrics,[d,h]=I.useState(""),v=I.useMemo(()=>a.filter(m=>m.toLowerCase().includes(d.toLowerCase())),[a,d]),x=()=>{t({...e,columns:v})},w=()=>{const m=e.columns.filter(g=>!v.includes(g));t({...e,columns:m})};return c.jsxs("div",{className:"p-4 space-y-4",children:[!s&&c.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&c.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),c.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:m=>t({...e,flag_suffix:m.target.value}),placeholder:"_was_missing"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),c.jsxs("div",{className:"space-y-2 mb-2",children:[c.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:d,onChange:m=>h(m.target.value)}),c.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[c.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),c.jsx("span",{className:"text-border",children:"|"}),c.jsx("button",{onClick:w,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),a.length>0?c.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[v.map(m=>c.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(m),onChange:g=>{const p=g.target.checked?[...e.columns,m]:e.columns.filter(y=>y!==m);t({...e,columns:p})}}),m]},m)),v.length===0&&c.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',d,'"']})]}):c.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),f&&f.missing_indicators_created!==void 0&&c.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[c.jsx(wo,{size:14}),c.jsx("span",{children:"Last Run Results"})]}),c.jsxs("div",{className:"space-y-1 text-xs",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),c.jsx("span",{className:"font-medium text-primary",children:f.missing_indicators_created})]}),f.missing_indicators_columns&&Array.isArray(f.missing_indicators_columns)&&f.missing_indicators_columns.length>0&&c.jsxs("div",{className:"pt-1 border-t mt-1",children:[c.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:f.missing_indicators_columns.map(m=>c.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:m},m))})]})]})]})]})},x3={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:b4,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:y3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},v3=()=>{_e.register(zM),_e.register(HM),_e.register(WM),_e.register(qM),_e.register(KM),_e.register(GM),_e.register(JM),_e.register(i3),_e.register(a3),_e.register(u3),_e.register(d3),_e.register(h3),_e.register(g3),_e.register(x3),_e.register(t3),_e.register(r3),console.log("[Registry] Initialization complete. Total nodes:",_e.getAll().length)};v3();const w3=new _S;Iu.createRoot(document.getElementById("root")).render(c.jsx(Ot.StrictMode,{children:c.jsx(ES,{client:w3,children:c.jsx(LM,{})})}));
