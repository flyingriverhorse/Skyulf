var NR=Object.defineProperty;var N1=e=>{throw TypeError(e)};var _R=(e,t,r)=>t in e?NR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Cl=(e,t,r)=>_R(e,typeof t!="symbol"?t+"":t,r),Qp=(e,t,r)=>t.has(e)||N1("Cannot "+r);var $=(e,t,r)=>(Qp(e,t,"read from private field"),r?r.call(e):t.get(e)),fe=(e,t,r)=>t.has(e)?N1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ae=(e,t,r,n)=>(Qp(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),be=(e,t,r)=>(Qp(e,t,"access private method"),r);var dd=(e,t,r,n)=>({set _(a){ae(e,t,a,r)},get _(){return $(e,t,n)}});function SR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Xn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var P2={exports:{}},pm={},O2={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fu=Symbol.for("react.element"),ER=Symbol.for("react.portal"),CR=Symbol.for("react.fragment"),PR=Symbol.for("react.strict_mode"),OR=Symbol.for("react.profiler"),AR=Symbol.for("react.provider"),TR=Symbol.for("react.context"),MR=Symbol.for("react.forward_ref"),IR=Symbol.for("react.suspense"),DR=Symbol.for("react.memo"),RR=Symbol.for("react.lazy"),_1=Symbol.iterator;function LR(e){return e===null||typeof e!="object"?null:(e=_1&&e[_1]||e["@@iterator"],typeof e=="function"?e:null)}var A2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T2=Object.assign,M2={};function ll(e,t,r){this.props=e,this.context=t,this.refs=M2,this.updater=r||A2}ll.prototype.isReactComponent={};ll.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ll.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function I2(){}I2.prototype=ll.prototype;function Fv(e,t,r){this.props=e,this.context=t,this.refs=M2,this.updater=r||A2}var Bv=Fv.prototype=new I2;Bv.constructor=Fv;T2(Bv,ll.prototype);Bv.isPureReactComponent=!0;var S1=Array.isArray,D2=Object.prototype.hasOwnProperty,Uv={current:null},R2={key:!0,ref:!0,__self:!0,__source:!0};function L2(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)D2.call(t,n)&&!R2.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:fu,type:e,key:i,ref:s,props:a,_owner:Uv.current}}function $R(e,t){return{$$typeof:fu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hv(e){return typeof e=="object"&&e!==null&&e.$$typeof===fu}function zR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var E1=/\/+/g;function Zp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zR(""+e.key):t.toString(36)}function cf(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case fu:case ER:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Zp(s,0):n,S1(a)?(r="",e!=null&&(r=e.replace(E1,"$&/")+"/"),cf(a,t,r,"",function(u){return u})):a!=null&&(Hv(a)&&(a=$R(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(E1,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",S1(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Zp(i,l);s+=cf(i,t,r,c,a)}else if(c=LR(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Zp(i,l++),s+=cf(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function fd(e,t,r){if(e==null)return e;var n=[],a=0;return cf(e,n,"","",function(i){return t.call(r,i,a++)}),n}function FR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tr={current:null},uf={transition:null},BR={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:uf,ReactCurrentOwner:Uv};function $2(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:fd,forEach:function(e,t,r){fd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fd(e,function(){t++}),t},toArray:function(e){return fd(e,function(t){return t})||[]},only:function(e){if(!Hv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=ll;xe.Fragment=CR;xe.Profiler=OR;xe.PureComponent=Fv;xe.StrictMode=PR;xe.Suspense=IR;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BR;xe.act=$2;xe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=T2({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Uv.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)D2.call(t,c)&&!R2.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:fu,type:e.type,key:a,ref:i,props:n,_owner:s}};xe.createContext=function(e){return e={$$typeof:TR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AR,_context:e},e.Consumer=e};xe.createElement=L2;xe.createFactory=function(e){var t=L2.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:MR,render:e}};xe.isValidElement=Hv;xe.lazy=function(e){return{$$typeof:RR,_payload:{_status:-1,_result:e},_init:FR}};xe.memo=function(e,t){return{$$typeof:DR,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=uf.transition;uf.transition={};try{e()}finally{uf.transition=t}};xe.unstable_act=$2;xe.useCallback=function(e,t){return tr.current.useCallback(e,t)};xe.useContext=function(e){return tr.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return tr.current.useDeferredValue(e)};xe.useEffect=function(e,t){return tr.current.useEffect(e,t)};xe.useId=function(){return tr.current.useId()};xe.useImperativeHandle=function(e,t,r){return tr.current.useImperativeHandle(e,t,r)};xe.useInsertionEffect=function(e,t){return tr.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return tr.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return tr.current.useMemo(e,t)};xe.useReducer=function(e,t,r){return tr.current.useReducer(e,t,r)};xe.useRef=function(e){return tr.current.useRef(e)};xe.useState=function(e){return tr.current.useState(e)};xe.useSyncExternalStore=function(e,t,r){return tr.current.useSyncExternalStore(e,t,r)};xe.useTransition=function(){return tr.current.useTransition()};xe.version="18.3.1";O2.exports=xe;var y=O2.exports;const Yr=Xn(y),UR=SR({__proto__:null,default:Yr},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HR=y,VR=Symbol.for("react.element"),WR=Symbol.for("react.fragment"),KR=Object.prototype.hasOwnProperty,qR=HR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YR={key:!0,ref:!0,__self:!0,__source:!0};function z2(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)KR.call(t,n)&&!YR.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:VR,type:e,key:i,ref:s,props:a,_owner:qR.current}}pm.Fragment=WR;pm.jsx=z2;pm.jsxs=z2;P2.exports=pm;var o=P2.exports,d0={},F2={exports:{}},$r={},B2={exports:{}},U2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,M){var z=A.length;A.push(M);e:for(;0<z;){var H=z-1>>>1,F=A[H];if(0<a(F,M))A[H]=M,A[z]=F,z=H;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var M=A[0],z=A.pop();if(z!==M){A[0]=z;e:for(var H=0,F=A.length,Y=F>>>1;H<Y;){var q=2*(H+1)-1,Q=A[q],le=q+1,Z=A[le];if(0>a(Q,z))le<F&&0>a(Z,Q)?(A[H]=Z,A[le]=z,H=le):(A[H]=Q,A[q]=z,H=q);else if(le<F&&0>a(Z,z))A[H]=Z,A[le]=z,H=le;else break e}}return M}function a(A,M){var z=A.sortIndex-M.sortIndex;return z!==0?z:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=A)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function j(A){if(v=!1,b(A),!p)if(r(c)!==null)p=!0,I(k);else{var M=r(u);M!==null&&R(j,M.startTime-A)}}function k(A,M){p=!1,v&&(v=!1,g(S),S=-1),m=!0;var z=h;try{for(b(M),f=r(c);f!==null&&(!(f.expirationTime>M)||A&&!O());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var F=H(f.expirationTime<=M);M=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),b(M)}else n(c);f=r(c)}if(f!==null)var Y=!0;else{var q=r(u);q!==null&&R(j,q.startTime-M),Y=!1}return Y}finally{f=null,h=z,m=!1}}var _=!1,N=null,S=-1,E=5,T=-1;function O(){return!(e.unstable_now()-T<E)}function P(){if(N!==null){var A=e.unstable_now();T=A;var M=!0;try{M=N(!0,A)}finally{M?L():(_=!1,N=null)}}else _=!1}var L;if(typeof w=="function")L=function(){w(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,D=C.port2;C.port1.onmessage=P,L=function(){D.postMessage(null)}}else L=function(){x(P,0)};function I(A){N=A,_||(_=!0,L())}function R(A,M){S=x(function(){A(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,I(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var z=h;h=M;try{return A()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=h;h=A;try{return M()}finally{h=z}},e.unstable_scheduleCallback=function(A,M,z){var H=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,A={id:d++,callback:M,priorityLevel:A,startTime:z,expirationTime:F,sortIndex:-1},z>H?(A.sortIndex=z,t(u,A),r(c)===null&&A===r(u)&&(v?(g(S),S=-1):v=!0,R(j,z-H))):(A.sortIndex=F,t(c,A),p||m||(p=!0,I(k))),A},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(A){var M=h;return function(){var z=h;h=M;try{return A.apply(this,arguments)}finally{h=z}}}})(U2);B2.exports=U2;var GR=B2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XR=y,Mr=GR;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H2=new Set,xc={};function Is(e,t){To(e,t),To(e+"Capture",t)}function To(e,t){for(xc[e]=t,e=0;e<t.length;e++)H2.add(t[e])}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f0=Object.prototype.hasOwnProperty,QR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C1={},P1={};function ZR(e){return f0.call(P1,e)?!0:f0.call(C1,e)?!1:QR.test(e)?P1[e]=!0:(C1[e]=!0,!1)}function JR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function e5(e,t,r,n){if(t===null||typeof t>"u"||JR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rr(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$t[e]=new rr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$t[t]=new rr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$t[e]=new rr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$t[e]=new rr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$t[e]=new rr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$t[e]=new rr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$t[e]=new rr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$t[e]=new rr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$t[e]=new rr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vv=/[\-:]([a-z])/g;function Wv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vv,Wv);$t[t]=new rr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vv,Wv);$t[t]=new rr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vv,Wv);$t[t]=new rr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$t[e]=new rr(e,1,!1,e.toLowerCase(),null,!1,!1)});$t.xlinkHref=new rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$t[e]=new rr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kv(e,t,r,n){var a=$t.hasOwnProperty(t)?$t[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(e5(t,r,a,n)&&(r=null),n||a===null?ZR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ra=XR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hd=Symbol.for("react.element"),Ys=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),qv=Symbol.for("react.strict_mode"),h0=Symbol.for("react.profiler"),V2=Symbol.for("react.provider"),W2=Symbol.for("react.context"),Yv=Symbol.for("react.forward_ref"),m0=Symbol.for("react.suspense"),p0=Symbol.for("react.suspense_list"),Gv=Symbol.for("react.memo"),Ya=Symbol.for("react.lazy"),K2=Symbol.for("react.offscreen"),O1=Symbol.iterator;function Pl(e){return e===null||typeof e!="object"?null:(e=O1&&e[O1]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,Jp;function Gl(e){if(Jp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Jp=t&&t[1]||""}return`
`+Jp+e}var eg=!1;function tg(e,t){if(!e||eg)return"";eg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,l=i.length-1;1<=s&&0<=l&&a[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==i[l]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{eg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Gl(e):""}function t5(e){switch(e.tag){case 5:return Gl(e.type);case 16:return Gl("Lazy");case 13:return Gl("Suspense");case 19:return Gl("SuspenseList");case 0:case 2:case 15:return e=tg(e.type,!1),e;case 11:return e=tg(e.type.render,!1),e;case 1:return e=tg(e.type,!0),e;default:return""}}function g0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gs:return"Fragment";case Ys:return"Portal";case h0:return"Profiler";case qv:return"StrictMode";case m0:return"Suspense";case p0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W2:return(e.displayName||"Context")+".Consumer";case V2:return(e._context.displayName||"Context")+".Provider";case Yv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gv:return t=e.displayName||null,t!==null?t:g0(e.type)||"Memo";case Ya:t=e._payload,e=e._init;try{return g0(e(t))}catch{}}return null}function r5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return g0(t);case 8:return t===qv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ki(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n5(e){var t=q2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function md(e){e._valueTracker||(e._valueTracker=n5(e))}function Y2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $f(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function y0(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function A1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ki(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G2(e,t){t=t.checked,t!=null&&Kv(e,"checked",t,!1)}function v0(e,t){G2(e,t);var r=ki(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?x0(e,t.type,r):t.hasOwnProperty("defaultValue")&&x0(e,t.type,ki(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function T1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function x0(e,t,r){(t!=="number"||$f(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xl=Array.isArray;function uo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ki(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function b0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function M1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(Xl(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ki(r)}}function X2(e,t){var r=ki(t.value),n=ki(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function I1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Q2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Q2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pd,Z2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pd=pd||document.createElement("div"),pd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var oc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a5=["Webkit","ms","Moz","O"];Object.keys(oc).forEach(function(e){a5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),oc[t]=oc[e]})});function J2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||oc.hasOwnProperty(e)&&oc[e]?(""+t).trim():t+"px"}function eE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=J2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var i5=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function j0(e,t){if(t){if(i5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function k0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N0=null;function Xv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _0=null,fo=null,ho=null;function D1(e){if(e=pu(e)){if(typeof _0!="function")throw Error(G(280));var t=e.stateNode;t&&(t=bm(t),_0(e.stateNode,e.type,t))}}function tE(e){fo?ho?ho.push(e):ho=[e]:fo=e}function rE(){if(fo){var e=fo,t=ho;if(ho=fo=null,D1(e),t)for(e=0;e<t.length;e++)D1(t[e])}}function nE(e,t){return e(t)}function aE(){}var rg=!1;function iE(e,t,r){if(rg)return e(t,r);rg=!0;try{return nE(e,t,r)}finally{rg=!1,(fo!==null||ho!==null)&&(aE(),rE())}}function wc(e,t){var r=e.stateNode;if(r===null)return null;var n=bm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var S0=!1;if(wa)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){S0=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{S0=!1}function s5(e,t,r,n,a,i,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var lc=!1,zf=null,Ff=!1,E0=null,o5={onError:function(e){lc=!0,zf=e}};function l5(e,t,r,n,a,i,s,l,c){lc=!1,zf=null,s5.apply(o5,arguments)}function c5(e,t,r,n,a,i,s,l,c){if(l5.apply(this,arguments),lc){if(lc){var u=zf;lc=!1,zf=null}else throw Error(G(198));Ff||(Ff=!0,E0=u)}}function Ds(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function sE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function R1(e){if(Ds(e)!==e)throw Error(G(188))}function u5(e){var t=e.alternate;if(!t){if(t=Ds(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return R1(a),e;if(i===n)return R1(a),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function oE(e){return e=u5(e),e!==null?lE(e):null}function lE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lE(e);if(t!==null)return t;e=e.sibling}return null}var cE=Mr.unstable_scheduleCallback,L1=Mr.unstable_cancelCallback,d5=Mr.unstable_shouldYield,f5=Mr.unstable_requestPaint,it=Mr.unstable_now,h5=Mr.unstable_getCurrentPriorityLevel,Qv=Mr.unstable_ImmediatePriority,uE=Mr.unstable_UserBlockingPriority,Bf=Mr.unstable_NormalPriority,m5=Mr.unstable_LowPriority,dE=Mr.unstable_IdlePriority,gm=null,Bn=null;function p5(e){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(gm,e,void 0,(e.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:v5,g5=Math.log,y5=Math.LN2;function v5(e){return e>>>=0,e===0?32:31-(g5(e)/y5|0)|0}var gd=64,yd=4194304;function Ql(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Uf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?n=Ql(l):(i&=s,i!==0&&(n=Ql(i)))}else s=r&~a,s!==0?n=Ql(s):i!==0&&(n=Ql(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-bn(t),a=1<<r,n|=e[r],t&=~a;return n}function x5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b5(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-bn(i),l=1<<s,c=a[s];c===-1?(!(l&r)||l&n)&&(a[s]=x5(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function C0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fE(){var e=gd;return gd<<=1,!(gd&4194240)&&(gd=64),e}function ng(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bn(t),e[t]=r}function w5(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-bn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Zv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-bn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Te=0;function hE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mE,Jv,pE,gE,yE,P0=!1,vd=[],fi=null,hi=null,mi=null,jc=new Map,kc=new Map,Za=[],j5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $1(e,t){switch(e){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":jc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(t.pointerId)}}function Al(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=pu(t),t!==null&&Jv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function k5(e,t,r,n,a){switch(t){case"focusin":return fi=Al(fi,e,t,r,n,a),!0;case"dragenter":return hi=Al(hi,e,t,r,n,a),!0;case"mouseover":return mi=Al(mi,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return jc.set(i,Al(jc.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,kc.set(i,Al(kc.get(i)||null,e,t,r,n,a)),!0}return!1}function vE(e){var t=Ki(e.target);if(t!==null){var r=Ds(t);if(r!==null){if(t=r.tag,t===13){if(t=sE(r),t!==null){e.blockedOn=t,yE(e.priority,function(){pE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function df(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=O0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);N0=n,r.target.dispatchEvent(n),N0=null}else return t=pu(r),t!==null&&Jv(t),e.blockedOn=r,!1;t.shift()}return!0}function z1(e,t,r){df(e)&&r.delete(t)}function N5(){P0=!1,fi!==null&&df(fi)&&(fi=null),hi!==null&&df(hi)&&(hi=null),mi!==null&&df(mi)&&(mi=null),jc.forEach(z1),kc.forEach(z1)}function Tl(e,t){e.blockedOn===t&&(e.blockedOn=null,P0||(P0=!0,Mr.unstable_scheduleCallback(Mr.unstable_NormalPriority,N5)))}function Nc(e){function t(a){return Tl(a,e)}if(0<vd.length){Tl(vd[0],e);for(var r=1;r<vd.length;r++){var n=vd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fi!==null&&Tl(fi,e),hi!==null&&Tl(hi,e),mi!==null&&Tl(mi,e),jc.forEach(t),kc.forEach(t),r=0;r<Za.length;r++)n=Za[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Za.length&&(r=Za[0],r.blockedOn===null);)vE(r),r.blockedOn===null&&Za.shift()}var mo=Ra.ReactCurrentBatchConfig,Hf=!0;function _5(e,t,r,n){var a=Te,i=mo.transition;mo.transition=null;try{Te=1,ex(e,t,r,n)}finally{Te=a,mo.transition=i}}function S5(e,t,r,n){var a=Te,i=mo.transition;mo.transition=null;try{Te=4,ex(e,t,r,n)}finally{Te=a,mo.transition=i}}function ex(e,t,r,n){if(Hf){var a=O0(e,t,r,n);if(a===null)hg(e,t,n,Vf,r),$1(e,n);else if(k5(a,e,t,r,n))n.stopPropagation();else if($1(e,n),t&4&&-1<j5.indexOf(e)){for(;a!==null;){var i=pu(a);if(i!==null&&mE(i),i=O0(e,t,r,n),i===null&&hg(e,t,n,Vf,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else hg(e,t,n,null,r)}}var Vf=null;function O0(e,t,r,n){if(Vf=null,e=Xv(n),e=Ki(e),e!==null)if(t=Ds(e),t===null)e=null;else if(r=t.tag,r===13){if(e=sE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vf=e,null}function xE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h5()){case Qv:return 1;case uE:return 4;case Bf:case m5:return 16;case dE:return 536870912;default:return 16}default:return 16}}var ui=null,tx=null,ff=null;function bE(){if(ff)return ff;var e,t=tx,r=t.length,n,a="value"in ui?ui.value:ui.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return ff=a.slice(e,1<n?1-n:void 0)}function hf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xd(){return!0}function F1(){return!1}function zr(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xd:F1,this.isPropagationStopped=F1,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xd)},persist:function(){},isPersistent:xd}),t}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rx=zr(cl),mu=et({},cl,{view:0,detail:0}),E5=zr(mu),ag,ig,Ml,ym=et({},mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ml&&(Ml&&e.type==="mousemove"?(ag=e.screenX-Ml.screenX,ig=e.screenY-Ml.screenY):ig=ag=0,Ml=e),ag)},movementY:function(e){return"movementY"in e?e.movementY:ig}}),B1=zr(ym),C5=et({},ym,{dataTransfer:0}),P5=zr(C5),O5=et({},mu,{relatedTarget:0}),sg=zr(O5),A5=et({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),T5=zr(A5),M5=et({},cl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),I5=zr(M5),D5=et({},cl,{data:0}),U1=zr(D5),R5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$5[e])?!!t[e]:!1}function nx(){return z5}var F5=et({},mu,{key:function(e){if(e.key){var t=R5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nx,charCode:function(e){return e.type==="keypress"?hf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B5=zr(F5),U5=et({},ym,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H1=zr(U5),H5=et({},mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nx}),V5=zr(H5),W5=et({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),K5=zr(W5),q5=et({},ym,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y5=zr(q5),G5=[9,13,27,32],ax=wa&&"CompositionEvent"in window,cc=null;wa&&"documentMode"in document&&(cc=document.documentMode);var X5=wa&&"TextEvent"in window&&!cc,wE=wa&&(!ax||cc&&8<cc&&11>=cc),V1=" ",W1=!1;function jE(e,t){switch(e){case"keyup":return G5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xs=!1;function Q5(e,t){switch(e){case"compositionend":return kE(t);case"keypress":return t.which!==32?null:(W1=!0,V1);case"textInput":return e=t.data,e===V1&&W1?null:e;default:return null}}function Z5(e,t){if(Xs)return e==="compositionend"||!ax&&jE(e,t)?(e=bE(),ff=tx=ui=null,Xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wE&&t.locale!=="ko"?null:t.data;default:return null}}var J5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!J5[e.type]:t==="textarea"}function NE(e,t,r,n){tE(n),t=Wf(t,"onChange"),0<t.length&&(r=new rx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var uc=null,_c=null;function eL(e){DE(e,0)}function vm(e){var t=Js(e);if(Y2(t))return e}function tL(e,t){if(e==="change")return t}var _E=!1;if(wa){var og;if(wa){var lg="oninput"in document;if(!lg){var q1=document.createElement("div");q1.setAttribute("oninput","return;"),lg=typeof q1.oninput=="function"}og=lg}else og=!1;_E=og&&(!document.documentMode||9<document.documentMode)}function Y1(){uc&&(uc.detachEvent("onpropertychange",SE),_c=uc=null)}function SE(e){if(e.propertyName==="value"&&vm(_c)){var t=[];NE(t,_c,e,Xv(e)),iE(eL,t)}}function rL(e,t,r){e==="focusin"?(Y1(),uc=t,_c=r,uc.attachEvent("onpropertychange",SE)):e==="focusout"&&Y1()}function nL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vm(_c)}function aL(e,t){if(e==="click")return vm(t)}function iL(e,t){if(e==="input"||e==="change")return vm(t)}function sL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:sL;function Sc(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!f0.call(t,a)||!kn(e[a],t[a]))return!1}return!0}function G1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function X1(e,t){var r=G1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=G1(r)}}function EE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?EE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function CE(){for(var e=window,t=$f();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$f(e.document)}return t}function ix(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oL(e){var t=CE(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&EE(r.ownerDocument.documentElement,r)){if(n!==null&&ix(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=X1(r,i);var s=X1(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lL=wa&&"documentMode"in document&&11>=document.documentMode,Qs=null,A0=null,dc=null,T0=!1;function Q1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;T0||Qs==null||Qs!==$f(n)||(n=Qs,"selectionStart"in n&&ix(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dc&&Sc(dc,n)||(dc=n,n=Wf(A0,"onSelect"),0<n.length&&(t=new rx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Qs)))}function bd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zs={animationend:bd("Animation","AnimationEnd"),animationiteration:bd("Animation","AnimationIteration"),animationstart:bd("Animation","AnimationStart"),transitionend:bd("Transition","TransitionEnd")},cg={},PE={};wa&&(PE=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function xm(e){if(cg[e])return cg[e];if(!Zs[e])return e;var t=Zs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in PE)return cg[e]=t[r];return e}var OE=xm("animationend"),AE=xm("animationiteration"),TE=xm("animationstart"),ME=xm("transitionend"),IE=new Map,Z1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(e,t){IE.set(e,t),Is(t,[e])}for(var ug=0;ug<Z1.length;ug++){var dg=Z1[ug],cL=dg.toLowerCase(),uL=dg[0].toUpperCase()+dg.slice(1);Ci(cL,"on"+uL)}Ci(OE,"onAnimationEnd");Ci(AE,"onAnimationIteration");Ci(TE,"onAnimationStart");Ci("dblclick","onDoubleClick");Ci("focusin","onFocus");Ci("focusout","onBlur");Ci(ME,"onTransitionEnd");To("onMouseEnter",["mouseout","mouseover"]);To("onMouseLeave",["mouseout","mouseover"]);To("onPointerEnter",["pointerout","pointerover"]);To("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function J1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,c5(n,t,void 0,e),e.currentTarget=null}function DE(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;J1(a,l,u),i=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;J1(a,l,u),i=c}}}if(Ff)throw e=E0,Ff=!1,E0=null,e}function Fe(e,t){var r=t[L0];r===void 0&&(r=t[L0]=new Set);var n=e+"__bubble";r.has(n)||(RE(t,e,2,!1),r.add(n))}function fg(e,t,r){var n=0;t&&(n|=4),RE(r,e,n,t)}var wd="_reactListening"+Math.random().toString(36).slice(2);function Ec(e){if(!e[wd]){e[wd]=!0,H2.forEach(function(r){r!=="selectionchange"&&(dL.has(r)||fg(r,!1,e),fg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wd]||(t[wd]=!0,fg("selectionchange",!1,t))}}function RE(e,t,r,n){switch(xE(t)){case 1:var a=_5;break;case 4:a=S5;break;default:a=ex}r=a.bind(null,t,r,e),a=void 0,!S0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function hg(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Ki(l),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}l=l.parentNode}}n=n.return}iE(function(){var u=i,d=Xv(r),f=[];e:{var h=IE.get(e);if(h!==void 0){var m=rx,p=e;switch(e){case"keypress":if(hf(r)===0)break e;case"keydown":case"keyup":m=B5;break;case"focusin":p="focus",m=sg;break;case"focusout":p="blur",m=sg;break;case"beforeblur":case"afterblur":m=sg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=B1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=P5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=V5;break;case OE:case AE:case TE:m=T5;break;case ME:m=K5;break;case"scroll":m=E5;break;case"wheel":m=Y5;break;case"copy":case"cut":case"paste":m=I5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=H1}var v=(t&4)!==0,x=!v&&e==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var w=u,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,g!==null&&(j=wc(w,g),j!=null&&v.push(Cc(w,j,b)))),x)break;w=w.return}0<v.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==N0&&(p=r.relatedTarget||r.fromElement)&&(Ki(p)||p[ja]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Ki(p):null,p!==null&&(x=Ds(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(v=B1,j="onMouseLeave",g="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=H1,j="onPointerLeave",g="onPointerEnter",w="pointer"),x=m==null?h:Js(m),b=p==null?h:Js(p),h=new v(j,w+"leave",m,r,d),h.target=x,h.relatedTarget=b,j=null,Ki(d)===u&&(v=new v(g,w+"enter",p,r,d),v.target=b,v.relatedTarget=x,j=v),x=j,m&&p)t:{for(v=m,g=p,w=0,b=v;b;b=Bs(b))w++;for(b=0,j=g;j;j=Bs(j))b++;for(;0<w-b;)v=Bs(v),w--;for(;0<b-w;)g=Bs(g),b--;for(;w--;){if(v===g||g!==null&&v===g.alternate)break t;v=Bs(v),g=Bs(g)}v=null}else v=null;m!==null&&ej(f,h,m,v,!1),p!==null&&x!==null&&ej(f,x,p,v,!0)}}e:{if(h=u?Js(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=tL;else if(K1(h))if(_E)k=iL;else{k=nL;var _=rL}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=aL);if(k&&(k=k(e,u))){NE(f,k,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&x0(h,"number",h.value)}switch(_=u?Js(u):window,e){case"focusin":(K1(_)||_.contentEditable==="true")&&(Qs=_,A0=u,dc=null);break;case"focusout":dc=A0=Qs=null;break;case"mousedown":T0=!0;break;case"contextmenu":case"mouseup":case"dragend":T0=!1,Q1(f,r,d);break;case"selectionchange":if(lL)break;case"keydown":case"keyup":Q1(f,r,d)}var N;if(ax)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Xs?jE(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(wE&&r.locale!=="ko"&&(Xs||S!=="onCompositionStart"?S==="onCompositionEnd"&&Xs&&(N=bE()):(ui=d,tx="value"in ui?ui.value:ui.textContent,Xs=!0)),_=Wf(u,S),0<_.length&&(S=new U1(S,e,null,r,d),f.push({event:S,listeners:_}),N?S.data=N:(N=kE(r),N!==null&&(S.data=N)))),(N=X5?Q5(e,r):Z5(e,r))&&(u=Wf(u,"onBeforeInput"),0<u.length&&(d=new U1("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}DE(f,t)})}function Cc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=wc(e,r),i!=null&&n.unshift(Cc(e,i,a)),i=wc(e,t),i!=null&&n.push(Cc(e,i,a))),e=e.return}return n}function Bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ej(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=wc(r,i),c!=null&&s.unshift(Cc(r,c,l))):a||(c=wc(r,i),c!=null&&s.push(Cc(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var fL=/\r\n?/g,hL=/\u0000|\uFFFD/g;function tj(e){return(typeof e=="string"?e:""+e).replace(fL,`
`).replace(hL,"")}function jd(e,t,r){if(t=tj(t),tj(e)!==t&&r)throw Error(G(425))}function Kf(){}var M0=null,I0=null;function D0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var R0=typeof setTimeout=="function"?setTimeout:void 0,mL=typeof clearTimeout=="function"?clearTimeout:void 0,rj=typeof Promise=="function"?Promise:void 0,pL=typeof queueMicrotask=="function"?queueMicrotask:typeof rj<"u"?function(e){return rj.resolve(null).then(e).catch(gL)}:R0;function gL(e){setTimeout(function(){throw e})}function mg(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Nc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Nc(t)}function pi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ul=Math.random().toString(36).slice(2),zn="__reactFiber$"+ul,Pc="__reactProps$"+ul,ja="__reactContainer$"+ul,L0="__reactEvents$"+ul,yL="__reactListeners$"+ul,vL="__reactHandles$"+ul;function Ki(e){var t=e[zn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ja]||r[zn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=nj(e);e!==null;){if(r=e[zn])return r;e=nj(e)}return t}e=r,r=e.parentNode}return null}function pu(e){return e=e[zn]||e[ja],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Js(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function bm(e){return e[Pc]||null}var $0=[],eo=-1;function Pi(e){return{current:e}}function Ue(e){0>eo||(e.current=$0[eo],$0[eo]=null,eo--)}function ze(e,t){eo++,$0[eo]=e.current,e.current=t}var Ni={},Kt=Pi(Ni),pr=Pi(!1),gs=Ni;function Mo(e,t){var r=e.type.contextTypes;if(!r)return Ni;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gr(e){return e=e.childContextTypes,e!=null}function qf(){Ue(pr),Ue(Kt)}function aj(e,t,r){if(Kt.current!==Ni)throw Error(G(168));ze(Kt,t),ze(pr,r)}function LE(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(G(108,r5(e)||"Unknown",a));return et({},r,n)}function Yf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,gs=Kt.current,ze(Kt,e),ze(pr,pr.current),!0}function ij(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=LE(e,t,gs),n.__reactInternalMemoizedMergedChildContext=e,Ue(pr),Ue(Kt),ze(Kt,e)):Ue(pr),ze(pr,r)}var aa=null,wm=!1,pg=!1;function $E(e){aa===null?aa=[e]:aa.push(e)}function xL(e){wm=!0,$E(e)}function Oi(){if(!pg&&aa!==null){pg=!0;var e=0,t=Te;try{var r=aa;for(Te=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}aa=null,wm=!1}catch(a){throw aa!==null&&(aa=aa.slice(e+1)),cE(Qv,Oi),a}finally{Te=t,pg=!1}}return null}var to=[],ro=0,Gf=null,Xf=0,Kr=[],qr=0,ys=null,ua=1,da="";function zi(e,t){to[ro++]=Xf,to[ro++]=Gf,Gf=e,Xf=t}function zE(e,t,r){Kr[qr++]=ua,Kr[qr++]=da,Kr[qr++]=ys,ys=e;var n=ua;e=da;var a=32-bn(n)-1;n&=~(1<<a),r+=1;var i=32-bn(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,ua=1<<32-bn(t)+a|r<<a|n,da=i+e}else ua=1<<i|r<<a|n,da=e}function sx(e){e.return!==null&&(zi(e,1),zE(e,1,0))}function ox(e){for(;e===Gf;)Gf=to[--ro],to[ro]=null,Xf=to[--ro],to[ro]=null;for(;e===ys;)ys=Kr[--qr],Kr[qr]=null,da=Kr[--qr],Kr[qr]=null,ua=Kr[--qr],Kr[qr]=null}var Ar=null,Pr=null,We=!1,hn=null;function FE(e,t){var r=Gr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function sj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ar=e,Pr=pi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ar=e,Pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ys!==null?{id:ua,overflow:da}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Gr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ar=e,Pr=null,!0):!1;default:return!1}}function z0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function F0(e){if(We){var t=Pr;if(t){var r=t;if(!sj(e,t)){if(z0(e))throw Error(G(418));t=pi(r.nextSibling);var n=Ar;t&&sj(e,t)?FE(n,r):(e.flags=e.flags&-4097|2,We=!1,Ar=e)}}else{if(z0(e))throw Error(G(418));e.flags=e.flags&-4097|2,We=!1,Ar=e}}}function oj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ar=e}function kd(e){if(e!==Ar)return!1;if(!We)return oj(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!D0(e.type,e.memoizedProps)),t&&(t=Pr)){if(z0(e))throw BE(),Error(G(418));for(;t;)FE(e,t),t=pi(t.nextSibling)}if(oj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Pr=pi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Pr=null}}else Pr=Ar?pi(e.stateNode.nextSibling):null;return!0}function BE(){for(var e=Pr;e;)e=pi(e.nextSibling)}function Io(){Pr=Ar=null,We=!1}function lx(e){hn===null?hn=[e]:hn.push(e)}var bL=Ra.ReactCurrentBatchConfig;function Il(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=a.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function Nd(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lj(e){var t=e._init;return t(e._payload)}function UE(e){function t(g,w){if(e){var b=g.deletions;b===null?(g.deletions=[w],g.flags|=16):b.push(w)}}function r(g,w){if(!e)return null;for(;w!==null;)t(g,w),w=w.sibling;return null}function n(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function a(g,w){return g=xi(g,w),g.index=0,g.sibling=null,g}function i(g,w,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<w?(g.flags|=2,w):b):(g.flags|=2,w)):(g.flags|=1048576,w)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,w,b,j){return w===null||w.tag!==6?(w=jg(b,g.mode,j),w.return=g,w):(w=a(w,b),w.return=g,w)}function c(g,w,b,j){var k=b.type;return k===Gs?d(g,w,b.props.children,j,b.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ya&&lj(k)===w.type)?(j=a(w,b.props),j.ref=Il(g,w,b),j.return=g,j):(j=bf(b.type,b.key,b.props,null,g.mode,j),j.ref=Il(g,w,b),j.return=g,j)}function u(g,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=kg(b,g.mode,j),w.return=g,w):(w=a(w,b.children||[]),w.return=g,w)}function d(g,w,b,j,k){return w===null||w.tag!==7?(w=us(b,g.mode,j,k),w.return=g,w):(w=a(w,b),w.return=g,w)}function f(g,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=jg(""+w,g.mode,b),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hd:return b=bf(w.type,w.key,w.props,null,g.mode,b),b.ref=Il(g,null,w),b.return=g,b;case Ys:return w=kg(w,g.mode,b),w.return=g,w;case Ya:var j=w._init;return f(g,j(w._payload),b)}if(Xl(w)||Pl(w))return w=us(w,g.mode,b,null),w.return=g,w;Nd(g,w)}return null}function h(g,w,b,j){var k=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:l(g,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hd:return b.key===k?c(g,w,b,j):null;case Ys:return b.key===k?u(g,w,b,j):null;case Ya:return k=b._init,h(g,w,k(b._payload),j)}if(Xl(b)||Pl(b))return k!==null?null:d(g,w,b,j,null);Nd(g,b)}return null}function m(g,w,b,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(b)||null,l(w,g,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case hd:return g=g.get(j.key===null?b:j.key)||null,c(w,g,j,k);case Ys:return g=g.get(j.key===null?b:j.key)||null,u(w,g,j,k);case Ya:var _=j._init;return m(g,w,b,_(j._payload),k)}if(Xl(j)||Pl(j))return g=g.get(b)||null,d(w,g,j,k,null);Nd(w,j)}return null}function p(g,w,b,j){for(var k=null,_=null,N=w,S=w=0,E=null;N!==null&&S<b.length;S++){N.index>S?(E=N,N=null):E=N.sibling;var T=h(g,N,b[S],j);if(T===null){N===null&&(N=E);break}e&&N&&T.alternate===null&&t(g,N),w=i(T,w,S),_===null?k=T:_.sibling=T,_=T,N=E}if(S===b.length)return r(g,N),We&&zi(g,S),k;if(N===null){for(;S<b.length;S++)N=f(g,b[S],j),N!==null&&(w=i(N,w,S),_===null?k=N:_.sibling=N,_=N);return We&&zi(g,S),k}for(N=n(g,N);S<b.length;S++)E=m(N,g,S,b[S],j),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?S:E.key),w=i(E,w,S),_===null?k=E:_.sibling=E,_=E);return e&&N.forEach(function(O){return t(g,O)}),We&&zi(g,S),k}function v(g,w,b,j){var k=Pl(b);if(typeof k!="function")throw Error(G(150));if(b=k.call(b),b==null)throw Error(G(151));for(var _=k=null,N=w,S=w=0,E=null,T=b.next();N!==null&&!T.done;S++,T=b.next()){N.index>S?(E=N,N=null):E=N.sibling;var O=h(g,N,T.value,j);if(O===null){N===null&&(N=E);break}e&&N&&O.alternate===null&&t(g,N),w=i(O,w,S),_===null?k=O:_.sibling=O,_=O,N=E}if(T.done)return r(g,N),We&&zi(g,S),k;if(N===null){for(;!T.done;S++,T=b.next())T=f(g,T.value,j),T!==null&&(w=i(T,w,S),_===null?k=T:_.sibling=T,_=T);return We&&zi(g,S),k}for(N=n(g,N);!T.done;S++,T=b.next())T=m(N,g,S,T.value,j),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?S:T.key),w=i(T,w,S),_===null?k=T:_.sibling=T,_=T);return e&&N.forEach(function(P){return t(g,P)}),We&&zi(g,S),k}function x(g,w,b,j){if(typeof b=="object"&&b!==null&&b.type===Gs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case hd:e:{for(var k=b.key,_=w;_!==null;){if(_.key===k){if(k=b.type,k===Gs){if(_.tag===7){r(g,_.sibling),w=a(_,b.props.children),w.return=g,g=w;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ya&&lj(k)===_.type){r(g,_.sibling),w=a(_,b.props),w.ref=Il(g,_,b),w.return=g,g=w;break e}r(g,_);break}else t(g,_);_=_.sibling}b.type===Gs?(w=us(b.props.children,g.mode,j,b.key),w.return=g,g=w):(j=bf(b.type,b.key,b.props,null,g.mode,j),j.ref=Il(g,w,b),j.return=g,g=j)}return s(g);case Ys:e:{for(_=b.key;w!==null;){if(w.key===_)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(g,w.sibling),w=a(w,b.children||[]),w.return=g,g=w;break e}else{r(g,w);break}else t(g,w);w=w.sibling}w=kg(b,g.mode,j),w.return=g,g=w}return s(g);case Ya:return _=b._init,x(g,w,_(b._payload),j)}if(Xl(b))return p(g,w,b,j);if(Pl(b))return v(g,w,b,j);Nd(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(g,w.sibling),w=a(w,b),w.return=g,g=w):(r(g,w),w=jg(b,g.mode,j),w.return=g,g=w),s(g)):r(g,w)}return x}var Do=UE(!0),HE=UE(!1),Qf=Pi(null),Zf=null,no=null,cx=null;function ux(){cx=no=Zf=null}function dx(e){var t=Qf.current;Ue(Qf),e._currentValue=t}function B0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function po(e,t){Zf=e,cx=no=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dr=!0),e.firstContext=null)}function Zr(e){var t=e._currentValue;if(cx!==e)if(e={context:e,memoizedValue:t,next:null},no===null){if(Zf===null)throw Error(G(308));no=e,Zf.dependencies={lanes:0,firstContext:e}}else no=no.next=e;return t}var qi=null;function fx(e){qi===null?qi=[e]:qi.push(e)}function VE(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,fx(t)):(r.next=a.next,a.next=r),t.interleaved=r,ka(e,n)}function ka(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ga=!1;function hx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ke&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ka(e,r)}return a=n.interleaved,a===null?(t.next=t,fx(n)):(t.next=a.next,a.next=t),n.interleaved=t,ka(e,r)}function mf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zv(e,r)}}function cj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Jf(e,t,r,n){var a=e.updateQueue;Ga=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,v=l;switch(h=t,m=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=et({},f,h);break e;case 2:Ga=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);xs|=s,e.lanes=s,e.memoizedState=f}}function uj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(G(191,a));a.call(n)}}}var gu={},Un=Pi(gu),Oc=Pi(gu),Ac=Pi(gu);function Yi(e){if(e===gu)throw Error(G(174));return e}function mx(e,t){switch(ze(Ac,t),ze(Oc,e),ze(Un,gu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:w0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=w0(t,e)}Ue(Un),ze(Un,t)}function Ro(){Ue(Un),Ue(Oc),Ue(Ac)}function KE(e){Yi(Ac.current);var t=Yi(Un.current),r=w0(t,e.type);t!==r&&(ze(Oc,e),ze(Un,r))}function px(e){Oc.current===e&&(Ue(Un),Ue(Oc))}var Xe=Pi(0);function eh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gg=[];function gx(){for(var e=0;e<gg.length;e++)gg[e]._workInProgressVersionPrimary=null;gg.length=0}var pf=Ra.ReactCurrentDispatcher,yg=Ra.ReactCurrentBatchConfig,vs=0,Qe=null,pt=null,Et=null,th=!1,fc=!1,Tc=0,wL=0;function zt(){throw Error(G(321))}function yx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!kn(e[r],t[r]))return!1;return!0}function vx(e,t,r,n,a,i){if(vs=i,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pf.current=e===null||e.memoizedState===null?_L:SL,e=r(n,a),fc){i=0;do{if(fc=!1,Tc=0,25<=i)throw Error(G(301));i+=1,Et=pt=null,t.updateQueue=null,pf.current=EL,e=r(n,a)}while(fc)}if(pf.current=rh,t=pt!==null&&pt.next!==null,vs=0,Et=pt=Qe=null,th=!1,t)throw Error(G(300));return e}function xx(){var e=Tc!==0;return Tc=0,e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Qe.memoizedState=Et=e:Et=Et.next=e,Et}function Jr(){if(pt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=Et===null?Qe.memoizedState:Et.next;if(t!==null)Et=t,pt=e;else{if(e===null)throw Error(G(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?Qe.memoizedState=Et=e:Et=Et.next=e}return Et}function Mc(e,t){return typeof t=="function"?t(e):t}function vg(e){var t=Jr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=pt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((vs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,Qe.lanes|=d,xs|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=l,kn(n,t.memoizedState)||(dr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Qe.lanes|=i,xs|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xg(e){var t=Jr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);kn(i,t.memoizedState)||(dr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function qE(){}function YE(e,t){var r=Qe,n=Jr(),a=t(),i=!kn(n.memoizedState,a);if(i&&(n.memoizedState=a,dr=!0),n=n.queue,bx(QE.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Et!==null&&Et.memoizedState.tag&1){if(r.flags|=2048,Ic(9,XE.bind(null,r,n,a,t),void 0,null),Ct===null)throw Error(G(349));vs&30||GE(r,t,a)}return a}function GE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function XE(e,t,r,n){t.value=r,t.getSnapshot=n,ZE(t)&&JE(e)}function QE(e,t,r){return r(function(){ZE(t)&&JE(e)})}function ZE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kn(e,r)}catch{return!0}}function JE(e){var t=ka(e,1);t!==null&&wn(t,e,1,-1)}function dj(e){var t=In();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:e},t.queue=e,e=e.dispatch=NL.bind(null,Qe,e),[t.memoizedState,e]}function Ic(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function eC(){return Jr().memoizedState}function gf(e,t,r,n){var a=In();Qe.flags|=e,a.memoizedState=Ic(1|t,r,void 0,n===void 0?null:n)}function jm(e,t,r,n){var a=Jr();n=n===void 0?null:n;var i=void 0;if(pt!==null){var s=pt.memoizedState;if(i=s.destroy,n!==null&&yx(n,s.deps)){a.memoizedState=Ic(t,r,i,n);return}}Qe.flags|=e,a.memoizedState=Ic(1|t,r,i,n)}function fj(e,t){return gf(8390656,8,e,t)}function bx(e,t){return jm(2048,8,e,t)}function tC(e,t){return jm(4,2,e,t)}function rC(e,t){return jm(4,4,e,t)}function nC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aC(e,t,r){return r=r!=null?r.concat([e]):null,jm(4,4,nC.bind(null,t,e),r)}function wx(){}function iC(e,t){var r=Jr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function sC(e,t){var r=Jr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function oC(e,t,r){return vs&21?(kn(r,t)||(r=fE(),Qe.lanes|=r,xs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dr=!0),e.memoizedState=r)}function jL(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var n=yg.transition;yg.transition={};try{e(!1),t()}finally{Te=r,yg.transition=n}}function lC(){return Jr().memoizedState}function kL(e,t,r){var n=vi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cC(e))uC(t,r);else if(r=VE(e,t,r,n),r!==null){var a=Jt();wn(r,e,n,a),dC(r,t,n)}}function NL(e,t,r){var n=vi(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cC(e))uC(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,r);if(a.hasEagerState=!0,a.eagerState=l,kn(l,s)){var c=t.interleaved;c===null?(a.next=a,fx(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=VE(e,t,a,n),r!==null&&(a=Jt(),wn(r,e,n,a),dC(r,t,n))}}function cC(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function uC(e,t){fc=th=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function dC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zv(e,r)}}var rh={readContext:Zr,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},_L={readContext:Zr,useCallback:function(e,t){return In().memoizedState=[e,t===void 0?null:t],e},useContext:Zr,useEffect:fj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,gf(4194308,4,nC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return gf(4194308,4,e,t)},useInsertionEffect:function(e,t){return gf(4,2,e,t)},useMemo:function(e,t){var r=In();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=In();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=kL.bind(null,Qe,e),[n.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:dj,useDebugValue:wx,useDeferredValue:function(e){return In().memoizedState=e},useTransition:function(){var e=dj(!1),t=e[0];return e=jL.bind(null,e[1]),In().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Qe,a=In();if(We){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),Ct===null)throw Error(G(349));vs&30||GE(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,fj(QE.bind(null,n,i,e),[e]),n.flags|=2048,Ic(9,XE.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=In(),t=Ct.identifierPrefix;if(We){var r=da,n=ua;r=(n&~(1<<32-bn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Tc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wL++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SL={readContext:Zr,useCallback:iC,useContext:Zr,useEffect:bx,useImperativeHandle:aC,useInsertionEffect:tC,useLayoutEffect:rC,useMemo:sC,useReducer:vg,useRef:eC,useState:function(){return vg(Mc)},useDebugValue:wx,useDeferredValue:function(e){var t=Jr();return oC(t,pt.memoizedState,e)},useTransition:function(){var e=vg(Mc)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:qE,useSyncExternalStore:YE,useId:lC,unstable_isNewReconciler:!1},EL={readContext:Zr,useCallback:iC,useContext:Zr,useEffect:bx,useImperativeHandle:aC,useInsertionEffect:tC,useLayoutEffect:rC,useMemo:sC,useReducer:xg,useRef:eC,useState:function(){return xg(Mc)},useDebugValue:wx,useDeferredValue:function(e){var t=Jr();return pt===null?t.memoizedState=e:oC(t,pt.memoizedState,e)},useTransition:function(){var e=xg(Mc)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:qE,useSyncExternalStore:YE,useId:lC,unstable_isNewReconciler:!1};function ln(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function U0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var km={isMounted:function(e){return(e=e._reactInternals)?Ds(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Jt(),a=vi(e),i=pa(n,a);i.payload=t,r!=null&&(i.callback=r),t=gi(e,i,a),t!==null&&(wn(t,e,a,n),mf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Jt(),a=vi(e),i=pa(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=gi(e,i,a),t!==null&&(wn(t,e,a,n),mf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Jt(),n=vi(e),a=pa(r,n);a.tag=2,t!=null&&(a.callback=t),t=gi(e,a,n),t!==null&&(wn(t,e,n,r),mf(t,e,n))}};function hj(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Sc(r,n)||!Sc(a,i):!0}function fC(e,t,r){var n=!1,a=Ni,i=t.contextType;return typeof i=="object"&&i!==null?i=Zr(i):(a=gr(t)?gs:Kt.current,n=t.contextTypes,i=(n=n!=null)?Mo(e,a):Ni),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=km,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function mj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&km.enqueueReplaceState(t,t.state,null)}function H0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},hx(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Zr(i):(i=gr(t)?gs:Kt.current,a.context=Mo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(U0(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&km.enqueueReplaceState(a,a.state,null),Jf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Lo(e,t){try{var r="",n=t;do r+=t5(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function bg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function V0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var CL=typeof WeakMap=="function"?WeakMap:Map;function hC(e,t,r){r=pa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ah||(ah=!0,ey=n),V0(e,t)},r}function mC(e,t,r){r=pa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){V0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){V0(e,t),typeof n!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function pj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new CL;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=UL.bind(null,e,t,r),t.then(e,e))}function gj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yj(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=pa(-1,1),t.tag=2,gi(r,t,1))),r.lanes|=1),e)}var PL=Ra.ReactCurrentOwner,dr=!1;function Xt(e,t,r,n){t.child=e===null?HE(t,null,r,n):Do(t,e.child,r,n)}function vj(e,t,r,n,a){r=r.render;var i=t.ref;return po(t,a),n=vx(e,t,r,n,i,a),r=xx(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Na(e,t,a)):(We&&r&&sx(t),t.flags|=1,Xt(e,t,n,a),t.child)}function xj(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Px(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,pC(e,t,i,n,a)):(e=bf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Sc,r(s,n)&&e.ref===t.ref)return Na(e,t,a)}return t.flags|=1,e=xi(i,n),e.ref=t.ref,e.return=t,t.child=e}function pC(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Sc(i,n)&&e.ref===t.ref)if(dr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(dr=!0);else return t.lanes=e.lanes,Na(e,t,a)}return W0(e,t,r,n,a)}function gC(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(io,_r),_r|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(io,_r),_r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ze(io,_r),_r|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ze(io,_r),_r|=n;return Xt(e,t,a,r),t.child}function yC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function W0(e,t,r,n,a){var i=gr(r)?gs:Kt.current;return i=Mo(t,i),po(t,a),r=vx(e,t,r,n,i,a),n=xx(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Na(e,t,a)):(We&&n&&sx(t),t.flags|=1,Xt(e,t,r,a),t.child)}function bj(e,t,r,n,a){if(gr(r)){var i=!0;Yf(t)}else i=!1;if(po(t,a),t.stateNode===null)yf(e,t),fC(t,r,n),H0(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Zr(u):(u=gr(r)?gs:Kt.current,u=Mo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&mj(t,s,n,u),Ga=!1;var h=t.memoizedState;s.state=h,Jf(t,n,s,a),c=t.memoizedState,l!==n||h!==c||pr.current||Ga?(typeof d=="function"&&(U0(t,r,d,n),c=t.memoizedState),(l=Ga||hj(t,r,l,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,WE(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ln(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Zr(c):(c=gr(r)?gs:Kt.current,c=Mo(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&mj(t,s,n,c),Ga=!1,h=t.memoizedState,s.state=h,Jf(t,n,s,a);var p=t.memoizedState;l!==f||h!==p||pr.current||Ga?(typeof m=="function"&&(U0(t,r,m,n),p=t.memoizedState),(u=Ga||hj(t,r,u,n,h,p,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return K0(e,t,r,n,i,a)}function K0(e,t,r,n,a,i){yC(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&ij(t,r,!1),Na(e,t,i);n=t.stateNode,PL.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Do(t,e.child,null,i),t.child=Do(t,null,l,i)):Xt(e,t,l,i),t.memoizedState=n.state,a&&ij(t,r,!0),t.child}function vC(e){var t=e.stateNode;t.pendingContext?aj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&aj(e,t.context,!1),mx(e,t.containerInfo)}function wj(e,t,r,n,a){return Io(),lx(a),t.flags|=256,Xt(e,t,r,n),t.child}var q0={dehydrated:null,treeContext:null,retryLane:0};function Y0(e){return{baseLanes:e,cachePool:null,transitions:null}}function xC(e,t,r){var n=t.pendingProps,a=Xe.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ze(Xe,a&1),e===null)return F0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Sm(s,n,0,null),e=us(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Y0(r),t.memoizedState=q0,e):jx(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return OL(e,t,s,n,l,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xi(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=xi(l,i):(i=us(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Y0(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=q0,n}return i=e.child,e=i.sibling,n=xi(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function jx(e,t){return t=Sm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _d(e,t,r,n){return n!==null&&lx(n),Do(t,e.child,null,r),e=jx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OL(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=bg(Error(G(422))),_d(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Sm({mode:"visible",children:n.children},a,0,null),i=us(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Do(t,e.child,null,s),t.child.memoizedState=Y0(s),t.memoizedState=q0,i);if(!(t.mode&1))return _d(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(G(419)),n=bg(i,n,void 0),_d(e,t,s,n)}if(l=(s&e.childLanes)!==0,dr||l){if(n=Ct,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ka(e,a),wn(n,e,a,-1))}return Cx(),n=bg(Error(G(421))),_d(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=HL.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Pr=pi(a.nextSibling),Ar=t,We=!0,hn=null,e!==null&&(Kr[qr++]=ua,Kr[qr++]=da,Kr[qr++]=ys,ua=e.id,da=e.overflow,ys=t),t=jx(t,n.children),t.flags|=4096,t)}function jj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),B0(e.return,t,r)}function wg(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function bC(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Xt(e,t,n.children,r),n=Xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jj(e,r,t);else if(e.tag===19)jj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ze(Xe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&eh(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),wg(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&eh(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}wg(t,!0,r,null,i);break;case"together":wg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Na(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=xi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function AL(e,t,r){switch(t.tag){case 3:vC(t),Io();break;case 5:KE(t);break;case 1:gr(t.type)&&Yf(t);break;case 4:mx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ze(Qf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ze(Xe,Xe.current&1),t.flags|=128,null):r&t.child.childLanes?xC(e,t,r):(ze(Xe,Xe.current&1),e=Na(e,t,r),e!==null?e.sibling:null);ze(Xe,Xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bC(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ze(Xe,Xe.current),n)break;return null;case 22:case 23:return t.lanes=0,gC(e,t,r)}return Na(e,t,r)}var wC,G0,jC,kC;wC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};G0=function(){};jC=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Yi(Un.current);var i=null;switch(r){case"input":a=y0(e,a),n=y0(e,n),i=[];break;case"select":a=et({},a,{value:void 0}),n=et({},n,{value:void 0}),i=[];break;case"textarea":a=b0(e,a),n=b0(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Kf)}j0(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Fe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};kC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dl(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function TL(e,t,r){var n=t.pendingProps;switch(ox(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(t),null;case 1:return gr(t.type)&&qf(),Ft(t),null;case 3:return n=t.stateNode,Ro(),Ue(pr),Ue(Kt),gx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(kd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hn!==null&&(ny(hn),hn=null))),G0(e,t),Ft(t),null;case 5:px(t);var a=Yi(Ac.current);if(r=t.type,e!==null&&t.stateNode!=null)jC(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Ft(t),null}if(e=Yi(Un.current),kd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[zn]=t,n[Pc]=i,e=(t.mode&1)!==0,r){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(a=0;a<Zl.length;a++)Fe(Zl[a],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":A1(n,i),Fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",n);break;case"textarea":M1(n,i),Fe("invalid",n)}j0(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&jd(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&jd(n.textContent,l,e),a=["children",""+l]):xc.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Fe("scroll",n)}switch(r){case"input":md(n),T1(n,i,!0);break;case"textarea":md(n),I1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Kf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Q2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[zn]=t,e[Pc]=n,wC(e,t,!1,!1),t.stateNode=e;e:{switch(s=k0(r,n),r){case"dialog":Fe("cancel",e),Fe("close",e),a=n;break;case"iframe":case"object":case"embed":Fe("load",e),a=n;break;case"video":case"audio":for(a=0;a<Zl.length;a++)Fe(Zl[a],e);a=n;break;case"source":Fe("error",e),a=n;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),a=n;break;case"details":Fe("toggle",e),a=n;break;case"input":A1(e,n),a=y0(e,n),Fe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=et({},n,{value:void 0}),Fe("invalid",e);break;case"textarea":M1(e,n),a=b0(e,n),Fe("invalid",e);break;default:a=n}j0(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?eE(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Z2(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&bc(e,c):typeof c=="number"&&bc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Fe("scroll",e):c!=null&&Kv(e,i,c,s))}switch(r){case"input":md(e),T1(e,n,!1);break;case"textarea":md(e),I1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ki(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?uo(e,!!n.multiple,i,!1):n.defaultValue!=null&&uo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Kf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ft(t),null;case 6:if(e&&t.stateNode!=null)kC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=Yi(Ac.current),Yi(Un.current),kd(t)){if(n=t.stateNode,r=t.memoizedProps,n[zn]=t,(i=n.nodeValue!==r)&&(e=Ar,e!==null))switch(e.tag){case 3:jd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jd(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zn]=t,t.stateNode=n}return Ft(t),null;case 13:if(Ue(Xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Pr!==null&&t.mode&1&&!(t.flags&128))BE(),Io(),t.flags|=98560,i=!1;else if(i=kd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[zn]=t}else Io(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ft(t),i=!1}else hn!==null&&(ny(hn),hn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?yt===0&&(yt=3):Cx())),t.updateQueue!==null&&(t.flags|=4),Ft(t),null);case 4:return Ro(),G0(e,t),e===null&&Ec(t.stateNode.containerInfo),Ft(t),null;case 10:return dx(t.type._context),Ft(t),null;case 17:return gr(t.type)&&qf(),Ft(t),null;case 19:if(Ue(Xe),i=t.memoizedState,i===null)return Ft(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Dl(i,!1);else{if(yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=eh(e),s!==null){for(t.flags|=128,Dl(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ze(Xe,Xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&it()>$o&&(t.flags|=128,n=!0,Dl(i,!1),t.lanes=4194304)}else{if(!n)if(e=eh(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!We)return Ft(t),null}else 2*it()-i.renderingStartTime>$o&&r!==1073741824&&(t.flags|=128,n=!0,Dl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=it(),t.sibling=null,r=Xe.current,ze(Xe,n?r&1|2:r&1),t):(Ft(t),null);case 22:case 23:return Ex(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_r&1073741824&&(Ft(t),t.subtreeFlags&6&&(t.flags|=8192)):Ft(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function ML(e,t){switch(ox(t),t.tag){case 1:return gr(t.type)&&qf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ro(),Ue(pr),Ue(Kt),gx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return px(t),null;case 13:if(Ue(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Io()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Xe),null;case 4:return Ro(),null;case 10:return dx(t.type._context),null;case 22:case 23:return Ex(),null;case 24:return null;default:return null}}var Sd=!1,Ut=!1,IL=typeof WeakSet=="function"?WeakSet:Set,ie=null;function ao(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(e,t,n)}else r.current=null}function X0(e,t,r){try{r()}catch(n){nt(e,t,n)}}var kj=!1;function DL(e,t){if(M0=Hf,e=CE(),ix(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=s),h===i&&++d===n&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(I0={focusedElem:e,selectionRange:r},Hf=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,x=p.memoizedState,g=t.stateNode,w=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:ln(t.type,v),x);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){nt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return p=kj,kj=!1,p}function hc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&X0(t,r,i)}a=a.next}while(a!==n)}}function Nm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Q0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function NC(e){var t=e.alternate;t!==null&&(e.alternate=null,NC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zn],delete t[Pc],delete t[L0],delete t[yL],delete t[vL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _C(e){return e.tag===5||e.tag===3||e.tag===4}function Nj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_C(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Z0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Kf));else if(n!==4&&(e=e.child,e!==null))for(Z0(e,t,r),e=e.sibling;e!==null;)Z0(e,t,r),e=e.sibling}function J0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(J0(e,t,r),e=e.sibling;e!==null;)J0(e,t,r),e=e.sibling}var Mt=null,dn=!1;function Ha(e,t,r){for(r=r.child;r!==null;)SC(e,t,r),r=r.sibling}function SC(e,t,r){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(gm,r)}catch{}switch(r.tag){case 5:Ut||ao(r,t);case 6:var n=Mt,a=dn;Mt=null,Ha(e,t,r),Mt=n,dn=a,Mt!==null&&(dn?(e=Mt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Mt.removeChild(r.stateNode));break;case 18:Mt!==null&&(dn?(e=Mt,r=r.stateNode,e.nodeType===8?mg(e.parentNode,r):e.nodeType===1&&mg(e,r),Nc(e)):mg(Mt,r.stateNode));break;case 4:n=Mt,a=dn,Mt=r.stateNode.containerInfo,dn=!0,Ha(e,t,r),Mt=n,dn=a;break;case 0:case 11:case 14:case 15:if(!Ut&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&X0(r,t,s),a=a.next}while(a!==n)}Ha(e,t,r);break;case 1:if(!Ut&&(ao(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){nt(r,t,l)}Ha(e,t,r);break;case 21:Ha(e,t,r);break;case 22:r.mode&1?(Ut=(n=Ut)||r.memoizedState!==null,Ha(e,t,r),Ut=n):Ha(e,t,r);break;default:Ha(e,t,r)}}function _j(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new IL),t.forEach(function(n){var a=VL.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function on(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Mt=l.stateNode,dn=!1;break e;case 3:Mt=l.stateNode.containerInfo,dn=!0;break e;case 4:Mt=l.stateNode.containerInfo,dn=!0;break e}l=l.return}if(Mt===null)throw Error(G(160));SC(i,s,a),Mt=null,dn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){nt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)EC(t,e),t=t.sibling}function EC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),An(e),n&4){try{hc(3,e,e.return),Nm(3,e)}catch(v){nt(e,e.return,v)}try{hc(5,e,e.return)}catch(v){nt(e,e.return,v)}}break;case 1:on(t,e),An(e),n&512&&r!==null&&ao(r,r.return);break;case 5:if(on(t,e),An(e),n&512&&r!==null&&ao(r,r.return),e.flags&32){var a=e.stateNode;try{bc(a,"")}catch(v){nt(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&G2(a,i),k0(l,s);var u=k0(l,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?eE(a,f):d==="dangerouslySetInnerHTML"?Z2(a,f):d==="children"?bc(a,f):Kv(a,d,f,u)}switch(l){case"input":v0(a,i);break;case"textarea":X2(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?uo(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?uo(a,!!i.multiple,i.defaultValue,!0):uo(a,!!i.multiple,i.multiple?[]:"",!1))}a[Pc]=i}catch(v){nt(e,e.return,v)}}break;case 6:if(on(t,e),An(e),n&4){if(e.stateNode===null)throw Error(G(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){nt(e,e.return,v)}}break;case 3:if(on(t,e),An(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nc(t.containerInfo)}catch(v){nt(e,e.return,v)}break;case 4:on(t,e),An(e);break;case 13:on(t,e),An(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(_x=it())),n&4&&_j(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ut=(u=Ut)||d,on(t,e),Ut=u):on(t,e),An(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(f=ie=d;ie!==null;){switch(h=ie,m=h.child,h.tag){case 0:case 11:case 14:case 15:hc(4,h,h.return);break;case 1:ao(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){nt(n,r,v)}}break;case 5:ao(h,h.return);break;case 22:if(h.memoizedState!==null){Ej(f);continue}}m!==null?(m.return=h,ie=m):Ej(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=J2("display",s))}catch(v){nt(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){nt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:on(t,e),An(e),n&4&&_j(e);break;case 21:break;default:on(t,e),An(e)}}function An(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(_C(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(bc(a,""),n.flags&=-33);var i=Nj(e);J0(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,l=Nj(e);Z0(e,l,s);break;default:throw Error(G(161))}}catch(c){nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RL(e,t,r){ie=e,CC(e)}function CC(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var a=ie,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Sd;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ut;l=Sd;var u=Ut;if(Sd=s,(Ut=c)&&!u)for(ie=a;ie!==null;)s=ie,c=s.child,s.tag===22&&s.memoizedState!==null?Cj(a):c!==null?(c.return=s,ie=c):Cj(a);for(;i!==null;)ie=i,CC(i),i=i.sibling;ie=a,Sd=l,Ut=u}Sj(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ie=i):Sj(e)}}function Sj(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ut||Nm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ut)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ln(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&uj(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}uj(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Nc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ut||t.flags&512&&Q0(t)}catch(h){nt(t,t.return,h)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Ej(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Cj(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Nm(4,t)}catch(c){nt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){nt(t,a,c)}}var i=t.return;try{Q0(t)}catch(c){nt(t,i,c)}break;case 5:var s=t.return;try{Q0(t)}catch(c){nt(t,s,c)}}}catch(c){nt(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var LL=Math.ceil,nh=Ra.ReactCurrentDispatcher,kx=Ra.ReactCurrentOwner,Qr=Ra.ReactCurrentBatchConfig,ke=0,Ct=null,dt=null,Rt=0,_r=0,io=Pi(0),yt=0,Dc=null,xs=0,_m=0,Nx=0,mc=null,ur=null,_x=0,$o=1/0,na=null,ah=!1,ey=null,yi=null,Ed=!1,di=null,ih=0,pc=0,ty=null,vf=-1,xf=0;function Jt(){return ke&6?it():vf!==-1?vf:vf=it()}function vi(e){return e.mode&1?ke&2&&Rt!==0?Rt&-Rt:bL.transition!==null?(xf===0&&(xf=fE()),xf):(e=Te,e!==0||(e=window.event,e=e===void 0?16:xE(e.type)),e):1}function wn(e,t,r,n){if(50<pc)throw pc=0,ty=null,Error(G(185));hu(e,r,n),(!(ke&2)||e!==Ct)&&(e===Ct&&(!(ke&2)&&(_m|=r),yt===4&&Ja(e,Rt)),yr(e,n),r===1&&ke===0&&!(t.mode&1)&&($o=it()+500,wm&&Oi()))}function yr(e,t){var r=e.callbackNode;b5(e,t);var n=Uf(e,e===Ct?Rt:0);if(n===0)r!==null&&L1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&L1(r),t===1)e.tag===0?xL(Pj.bind(null,e)):$E(Pj.bind(null,e)),pL(function(){!(ke&6)&&Oi()}),r=null;else{switch(hE(n)){case 1:r=Qv;break;case 4:r=uE;break;case 16:r=Bf;break;case 536870912:r=dE;break;default:r=Bf}r=RC(r,PC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function PC(e,t){if(vf=-1,xf=0,ke&6)throw Error(G(327));var r=e.callbackNode;if(go()&&e.callbackNode!==r)return null;var n=Uf(e,e===Ct?Rt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sh(e,n);else{t=n;var a=ke;ke|=2;var i=AC();(Ct!==e||Rt!==t)&&(na=null,$o=it()+500,cs(e,t));do try{FL();break}catch(l){OC(e,l)}while(!0);ux(),nh.current=i,ke=a,dt!==null?t=0:(Ct=null,Rt=0,t=yt)}if(t!==0){if(t===2&&(a=C0(e),a!==0&&(n=a,t=ry(e,a))),t===1)throw r=Dc,cs(e,0),Ja(e,n),yr(e,it()),r;if(t===6)Ja(e,n);else{if(a=e.current.alternate,!(n&30)&&!$L(a)&&(t=sh(e,n),t===2&&(i=C0(e),i!==0&&(n=i,t=ry(e,i))),t===1))throw r=Dc,cs(e,0),Ja(e,n),yr(e,it()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Fi(e,ur,na);break;case 3:if(Ja(e,n),(n&130023424)===n&&(t=_x+500-it(),10<t)){if(Uf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Jt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=R0(Fi.bind(null,e,ur,na),t);break}Fi(e,ur,na);break;case 4:if(Ja(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-bn(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LL(n/1960))-n,10<n){e.timeoutHandle=R0(Fi.bind(null,e,ur,na),n);break}Fi(e,ur,na);break;case 5:Fi(e,ur,na);break;default:throw Error(G(329))}}}return yr(e,it()),e.callbackNode===r?PC.bind(null,e):null}function ry(e,t){var r=mc;return e.current.memoizedState.isDehydrated&&(cs(e,t).flags|=256),e=sh(e,t),e!==2&&(t=ur,ur=r,t!==null&&ny(t)),e}function ny(e){ur===null?ur=e:ur.push.apply(ur,e)}function $L(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!kn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ja(e,t){for(t&=~Nx,t&=~_m,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bn(t),n=1<<r;e[r]=-1,t&=~n}}function Pj(e){if(ke&6)throw Error(G(327));go();var t=Uf(e,0);if(!(t&1))return yr(e,it()),null;var r=sh(e,t);if(e.tag!==0&&r===2){var n=C0(e);n!==0&&(t=n,r=ry(e,n))}if(r===1)throw r=Dc,cs(e,0),Ja(e,t),yr(e,it()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fi(e,ur,na),yr(e,it()),null}function Sx(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&($o=it()+500,wm&&Oi())}}function bs(e){di!==null&&di.tag===0&&!(ke&6)&&go();var t=ke;ke|=1;var r=Qr.transition,n=Te;try{if(Qr.transition=null,Te=1,e)return e()}finally{Te=n,Qr.transition=r,ke=t,!(ke&6)&&Oi()}}function Ex(){_r=io.current,Ue(io)}function cs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mL(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(ox(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qf();break;case 3:Ro(),Ue(pr),Ue(Kt),gx();break;case 5:px(n);break;case 4:Ro();break;case 13:Ue(Xe);break;case 19:Ue(Xe);break;case 10:dx(n.type._context);break;case 22:case 23:Ex()}r=r.return}if(Ct=e,dt=e=xi(e.current,null),Rt=_r=t,yt=0,Dc=null,Nx=_m=xs=0,ur=mc=null,qi!==null){for(t=0;t<qi.length;t++)if(r=qi[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}qi=null}return e}function OC(e,t){do{var r=dt;try{if(ux(),pf.current=rh,th){for(var n=Qe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}th=!1}if(vs=0,Et=pt=Qe=null,fc=!1,Tc=0,kx.current=null,r===null||r.return===null){yt=1,Dc=t,dt=null;break}e:{var i=e,s=r.return,l=r,c=t;if(t=Rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=gj(s);if(m!==null){m.flags&=-257,yj(m,s,l,i,t),m.mode&1&&pj(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var v=new Set;v.add(c),t.updateQueue=v}else p.add(c);break e}else{if(!(t&1)){pj(i,u,t),Cx();break e}c=Error(G(426))}}else if(We&&l.mode&1){var x=gj(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),yj(x,s,l,i,t),lx(Lo(c,l));break e}}i=c=Lo(c,l),yt!==4&&(yt=2),mc===null?mc=[i]:mc.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=hC(i,c,t);cj(i,g);break e;case 1:l=c;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yi===null||!yi.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=mC(i,l,t);cj(i,j);break e}}i=i.return}while(i!==null)}MC(r)}catch(k){t=k,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function AC(){var e=nh.current;return nh.current=rh,e===null?rh:e}function Cx(){(yt===0||yt===3||yt===2)&&(yt=4),Ct===null||!(xs&268435455)&&!(_m&268435455)||Ja(Ct,Rt)}function sh(e,t){var r=ke;ke|=2;var n=AC();(Ct!==e||Rt!==t)&&(na=null,cs(e,t));do try{zL();break}catch(a){OC(e,a)}while(!0);if(ux(),ke=r,nh.current=n,dt!==null)throw Error(G(261));return Ct=null,Rt=0,yt}function zL(){for(;dt!==null;)TC(dt)}function FL(){for(;dt!==null&&!d5();)TC(dt)}function TC(e){var t=DC(e.alternate,e,_r);e.memoizedProps=e.pendingProps,t===null?MC(e):dt=t,kx.current=null}function MC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ML(r,t),r!==null){r.flags&=32767,dt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,dt=null;return}}else if(r=TL(r,t,_r),r!==null){dt=r;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);yt===0&&(yt=5)}function Fi(e,t,r){var n=Te,a=Qr.transition;try{Qr.transition=null,Te=1,BL(e,t,r,n)}finally{Qr.transition=a,Te=n}return null}function BL(e,t,r,n){do go();while(di!==null);if(ke&6)throw Error(G(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(w5(e,i),e===Ct&&(dt=Ct=null,Rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ed||(Ed=!0,RC(Bf,function(){return go(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Qr.transition,Qr.transition=null;var s=Te;Te=1;var l=ke;ke|=4,kx.current=null,DL(e,r),EC(r,e),oL(I0),Hf=!!M0,I0=M0=null,e.current=r,RL(r),f5(),ke=l,Te=s,Qr.transition=i}else e.current=r;if(Ed&&(Ed=!1,di=e,ih=a),i=e.pendingLanes,i===0&&(yi=null),p5(r.stateNode),yr(e,it()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ah)throw ah=!1,e=ey,ey=null,e;return ih&1&&e.tag!==0&&go(),i=e.pendingLanes,i&1?e===ty?pc++:(pc=0,ty=e):pc=0,Oi(),null}function go(){if(di!==null){var e=hE(ih),t=Qr.transition,r=Te;try{if(Qr.transition=null,Te=16>e?16:e,di===null)var n=!1;else{if(e=di,di=null,ih=0,ke&6)throw Error(G(331));var a=ke;for(ke|=4,ie=e.current;ie!==null;){var i=ie,s=i.child;if(ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:hc(8,d,i)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var h=d.sibling,m=d.return;if(NC(d),d===u){ie=null;break}if(h!==null){h.return=m,ie=h;break}ie=m}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ie=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,ie=s;else e:for(;ie!==null;){if(i=ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hc(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ie=g;break e}ie=i.return}}var w=e.current;for(ie=w;ie!==null;){s=ie;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ie=b;else e:for(s=w;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nm(9,l)}}catch(k){nt(l,l.return,k)}if(l===s){ie=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ie=j;break e}ie=l.return}}if(ke=a,Oi(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(gm,e)}catch{}n=!0}return n}finally{Te=r,Qr.transition=t}}return!1}function Oj(e,t,r){t=Lo(r,t),t=hC(e,t,1),e=gi(e,t,1),t=Jt(),e!==null&&(hu(e,1,t),yr(e,t))}function nt(e,t,r){if(e.tag===3)Oj(e,e,r);else for(;t!==null;){if(t.tag===3){Oj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yi===null||!yi.has(n))){e=Lo(r,e),e=mC(t,e,1),t=gi(t,e,1),e=Jt(),t!==null&&(hu(t,1,e),yr(t,e));break}}t=t.return}}function UL(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Jt(),e.pingedLanes|=e.suspendedLanes&r,Ct===e&&(Rt&r)===r&&(yt===4||yt===3&&(Rt&130023424)===Rt&&500>it()-_x?cs(e,0):Nx|=r),yr(e,t)}function IC(e,t){t===0&&(e.mode&1?(t=yd,yd<<=1,!(yd&130023424)&&(yd=4194304)):t=1);var r=Jt();e=ka(e,t),e!==null&&(hu(e,t,r),yr(e,r))}function HL(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),IC(e,r)}function VL(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),IC(e,r)}var DC;DC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||pr.current)dr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return dr=!1,AL(e,t,r);dr=!!(e.flags&131072)}else dr=!1,We&&t.flags&1048576&&zE(t,Xf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;yf(e,t),e=t.pendingProps;var a=Mo(t,Kt.current);po(t,r),a=vx(null,t,n,e,a,r);var i=xx();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gr(n)?(i=!0,Yf(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,hx(t),a.updater=km,t.stateNode=a,a._reactInternals=t,H0(t,n,e,r),t=K0(null,t,n,!0,i,r)):(t.tag=0,We&&i&&sx(t),Xt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(yf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=KL(n),e=ln(n,e),a){case 0:t=W0(null,t,n,e,r);break e;case 1:t=bj(null,t,n,e,r);break e;case 11:t=vj(null,t,n,e,r);break e;case 14:t=xj(null,t,n,ln(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ln(n,a),W0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ln(n,a),bj(e,t,n,a,r);case 3:e:{if(vC(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,a=i.element,WE(e,t),Jf(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Lo(Error(G(423)),t),t=wj(e,t,n,r,a);break e}else if(n!==a){a=Lo(Error(G(424)),t),t=wj(e,t,n,r,a);break e}else for(Pr=pi(t.stateNode.containerInfo.firstChild),Ar=t,We=!0,hn=null,r=HE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Io(),n===a){t=Na(e,t,r);break e}Xt(e,t,n,r)}t=t.child}return t;case 5:return KE(t),e===null&&F0(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,D0(n,a)?s=null:i!==null&&D0(n,i)&&(t.flags|=32),yC(e,t),Xt(e,t,s,r),t.child;case 6:return e===null&&F0(t),null;case 13:return xC(e,t,r);case 4:return mx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Do(t,null,n,r):Xt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ln(n,a),vj(e,t,n,a,r);case 7:return Xt(e,t,t.pendingProps,r),t.child;case 8:return Xt(e,t,t.pendingProps.children,r),t.child;case 12:return Xt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,ze(Qf,n._currentValue),n._currentValue=s,i!==null)if(kn(i.value,s)){if(i.children===a.children&&!pr.current){t=Na(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=pa(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),B0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(G(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),B0(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Xt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,po(t,r),a=Zr(a),n=n(a),t.flags|=1,Xt(e,t,n,r),t.child;case 14:return n=t.type,a=ln(n,t.pendingProps),a=ln(n.type,a),xj(e,t,n,a,r);case 15:return pC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ln(n,a),yf(e,t),t.tag=1,gr(n)?(e=!0,Yf(t)):e=!1,po(t,r),fC(t,n,a),H0(t,n,a,r),K0(null,t,n,!0,e,r);case 19:return bC(e,t,r);case 22:return gC(e,t,r)}throw Error(G(156,t.tag))};function RC(e,t){return cE(e,t)}function WL(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(e,t,r,n){return new WL(e,t,r,n)}function Px(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KL(e){if(typeof e=="function")return Px(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yv)return 11;if(e===Gv)return 14}return 2}function xi(e,t){var r=e.alternate;return r===null?(r=Gr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function bf(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")Px(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Gs:return us(r.children,a,i,t);case qv:s=8,a|=8;break;case h0:return e=Gr(12,r,t,a|2),e.elementType=h0,e.lanes=i,e;case m0:return e=Gr(13,r,t,a),e.elementType=m0,e.lanes=i,e;case p0:return e=Gr(19,r,t,a),e.elementType=p0,e.lanes=i,e;case K2:return Sm(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V2:s=10;break e;case W2:s=9;break e;case Yv:s=11;break e;case Gv:s=14;break e;case Ya:s=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Gr(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function us(e,t,r,n){return e=Gr(7,e,n,t),e.lanes=r,e}function Sm(e,t,r,n){return e=Gr(22,e,n,t),e.elementType=K2,e.lanes=r,e.stateNode={isHidden:!1},e}function jg(e,t,r){return e=Gr(6,e,null,t),e.lanes=r,e}function kg(e,t,r){return t=Gr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qL(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ng(0),this.expirationTimes=ng(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ng(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ox(e,t,r,n,a,i,s,l,c){return e=new qL(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Gr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hx(i),e}function YL(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ys,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function LC(e){if(!e)return Ni;e=e._reactInternals;e:{if(Ds(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(gr(r))return LE(e,r,t)}return t}function $C(e,t,r,n,a,i,s,l,c){return e=Ox(r,n,!0,e,a,i,s,l,c),e.context=LC(null),r=e.current,n=Jt(),a=vi(r),i=pa(n,a),i.callback=t??null,gi(r,i,a),e.current.lanes=a,hu(e,a,n),yr(e,n),e}function Em(e,t,r,n){var a=t.current,i=Jt(),s=vi(a);return r=LC(r),t.context===null?t.context=r:t.pendingContext=r,t=pa(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gi(a,t,s),e!==null&&(wn(e,a,s,i),mf(e,a,s)),s}function oh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Aj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ax(e,t){Aj(e,t),(e=e.alternate)&&Aj(e,t)}function GL(){return null}var zC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tx(e){this._internalRoot=e}Cm.prototype.render=Tx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Em(e,t,null,null)};Cm.prototype.unmount=Tx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bs(function(){Em(null,e,null,null)}),t[ja]=null}};function Cm(e){this._internalRoot=e}Cm.prototype.unstable_scheduleHydration=function(e){if(e){var t=gE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Za.length&&t!==0&&t<Za[r].priority;r++);Za.splice(r,0,e),r===0&&vE(e)}};function Mx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tj(){}function XL(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=oh(s);i.call(u)}}var s=$C(t,n,e,0,null,!1,!1,"",Tj);return e._reactRootContainer=s,e[ja]=s.current,Ec(e.nodeType===8?e.parentNode:e),bs(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=oh(c);l.call(u)}}var c=Ox(e,0,!1,null,null,!1,!1,"",Tj);return e._reactRootContainer=c,e[ja]=c.current,Ec(e.nodeType===8?e.parentNode:e),bs(function(){Em(t,c,r,n)}),c}function Om(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var l=a;a=function(){var c=oh(s);l.call(c)}}Em(t,s,e,a)}else s=XL(r,t,e,a,n);return oh(s)}mE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ql(t.pendingLanes);r!==0&&(Zv(t,r|1),yr(t,it()),!(ke&6)&&($o=it()+500,Oi()))}break;case 13:bs(function(){var n=ka(e,1);if(n!==null){var a=Jt();wn(n,e,1,a)}}),Ax(e,1)}};Jv=function(e){if(e.tag===13){var t=ka(e,134217728);if(t!==null){var r=Jt();wn(t,e,134217728,r)}Ax(e,134217728)}};pE=function(e){if(e.tag===13){var t=vi(e),r=ka(e,t);if(r!==null){var n=Jt();wn(r,e,t,n)}Ax(e,t)}};gE=function(){return Te};yE=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}};_0=function(e,t,r){switch(t){case"input":if(v0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=bm(n);if(!a)throw Error(G(90));Y2(n),v0(n,a)}}}break;case"textarea":X2(e,r);break;case"select":t=r.value,t!=null&&uo(e,!!r.multiple,t,!1)}};nE=Sx;aE=bs;var QL={usingClientEntryPoint:!1,Events:[pu,Js,bm,tE,rE,Sx]},Rl={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZL={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oE(e),e===null?null:e.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||GL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{gm=Cd.inject(ZL),Bn=Cd}catch{}}$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QL;$r.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mx(t))throw Error(G(200));return YL(e,t,null,r)};$r.createRoot=function(e,t){if(!Mx(e))throw Error(G(299));var r=!1,n="",a=zC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ox(e,1,!1,null,null,r,!1,n,a),e[ja]=t.current,Ec(e.nodeType===8?e.parentNode:e),new Tx(t)};$r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=oE(t),e=e===null?null:e.stateNode,e};$r.flushSync=function(e){return bs(e)};$r.hydrate=function(e,t,r){if(!Pm(t))throw Error(G(200));return Om(null,e,t,!0,r)};$r.hydrateRoot=function(e,t,r){if(!Mx(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=zC;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=$C(t,null,e,1,r??null,a,!1,i,s),e[ja]=t.current,Ec(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Cm(t)};$r.render=function(e,t,r){if(!Pm(t))throw Error(G(200));return Om(null,e,t,!1,r)};$r.unmountComponentAtNode=function(e){if(!Pm(e))throw Error(G(40));return e._reactRootContainer?(bs(function(){Om(null,null,e,!1,function(){e._reactRootContainer=null,e[ja]=null})}),!0):!1};$r.unstable_batchedUpdates=Sx;$r.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Pm(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Om(e,t,r,!1,n)};$r.version="18.3.1-next-f1338f8080-20240426";function FC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FC)}catch(e){console.error(e)}}FC(),F2.exports=$r;var yu=F2.exports,Mj=yu;d0.createRoot=Mj.createRoot,d0.hydrateRoot=Mj.hydrateRoot;var vu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},JL={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ri,zv,x2,e$=(x2=class{constructor(){fe(this,ri,JL);fe(this,zv,!1)}setTimeoutProvider(e){ae(this,ri,e)}setTimeout(e,t){return $(this,ri).setTimeout(e,t)}clearTimeout(e){$(this,ri).clearTimeout(e)}setInterval(e,t){return $(this,ri).setInterval(e,t)}clearInterval(e){$(this,ri).clearInterval(e)}},ri=new WeakMap,zv=new WeakMap,x2),Gi=new e$;function t$(e){setTimeout(e,0)}var ws=typeof window>"u"||"Deno"in globalThis;function cr(){}function r$(e,t){return typeof e=="function"?e(t):e}function ay(e){return typeof e=="number"&&e>=0&&e!==1/0}function BC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bi(e,t){return typeof e=="function"?e(t):e}function Wr(e,t){return typeof e=="function"?e(t):e}function Ij(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:l}=e;if(s){if(n){if(t.queryHash!==Ix(s,t.options))return!1}else if(!Lc(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Dj(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Rc(t.options.mutationKey)!==Rc(i))return!1}else if(!Lc(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Ix(e,t){return((t==null?void 0:t.queryKeyHashFn)||Rc)(e)}function Rc(e){return JSON.stringify(e,(t,r)=>sy(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Lc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Lc(e[r],t[r])):!1}var n$=Object.prototype.hasOwnProperty;function UC(e,t){if(e===t)return e;const r=Rj(e)&&Rj(t);if(!r&&!(sy(e)&&sy(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,l=r?new Array(s):{};let c=0;for(let u=0;u<s;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<a:n$.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const m=UC(f,h);l[d]=m,m===f&&c++}return a===s&&c===a?e:l}function iy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Rj(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function sy(e){if(!Lj(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Lj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Lj(e){return Object.prototype.toString.call(e)==="[object Object]"}function a$(e){return new Promise(t=>{Gi.setTimeout(t,e)})}function oy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?UC(e,t):t}function i$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function s$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Dx=Symbol();function HC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Dx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function o$(e,t){return typeof e=="function"?e(...t):!!e}var es,ni,bo,b2,l$=(b2=class extends vu{constructor(){super();fe(this,es);fe(this,ni);fe(this,bo);ae(this,bo,t=>{if(!ws&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,ni)||this.setEventListener($(this,bo))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,ni))==null||t.call(this),ae(this,ni,void 0))}setEventListener(t){var r;ae(this,bo,t),(r=$(this,ni))==null||r.call(this),ae(this,ni,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,es)!==t&&(ae(this,es,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof $(this,es)=="boolean"?$(this,es):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},es=new WeakMap,ni=new WeakMap,bo=new WeakMap,b2),Rx=new l$;function ly(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var c$=t$;function u$(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=c$;const i=l=>{t?e.push(l):a(()=>{r(l)})},s=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var It=u$(),wo,ai,jo,w2,d$=(w2=class extends vu{constructor(){super();fe(this,wo,!0);fe(this,ai);fe(this,jo);ae(this,jo,t=>{if(!ws&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,ai)||this.setEventListener($(this,jo))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,ai))==null||t.call(this),ae(this,ai,void 0))}setEventListener(t){var r;ae(this,jo,t),(r=$(this,ai))==null||r.call(this),ae(this,ai,t(this.setOnline.bind(this)))}setOnline(t){$(this,wo)!==t&&(ae(this,wo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return $(this,wo)}},wo=new WeakMap,ai=new WeakMap,jo=new WeakMap,w2),lh=new d$;function f$(e){return Math.min(1e3*2**e,3e4)}function VC(e){return(e??"online")==="online"?lh.isOnline():!0}var cy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function WC(e){let t=!1,r=0,n;const a=ly(),i=()=>a.status!=="pending",s=v=>{var x;if(!i()){const g=new cy(v);h(g),(x=e.onCancel)==null||x.call(e,g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Rx.isFocused()&&(e.networkMode==="always"||lh.isOnline())&&e.canRun(),d=()=>VC(e.networkMode)&&e.canRun(),f=v=>{i()||(n==null||n(),a.resolve(v))},h=v=>{i()||(n==null||n(),a.reject(v))},m=()=>new Promise(v=>{var x;n=g=>{(i()||u())&&v(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var v;n=void 0,i()||(v=e.onContinue)==null||v.call(e)}),p=()=>{if(i())return;let v;const x=r===0?e.initialPromise:void 0;try{v=x??e.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(f).catch(g=>{var _;if(i())return;const w=e.retry??(ws?0:3),b=e.retryDelay??f$,j=typeof b=="function"?b(r,g):b,k=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,g);if(t||!k){h(g);return}r++,(_=e.onFail)==null||_.call(e,r,g),a$(j).then(()=>u()?void 0:m()).then(()=>{t?h(g):p()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),a)}}var ts,j2,KC=(j2=class{constructor(){fe(this,ts)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ay(this.gcTime)&&ae(this,ts,Gi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ws?1/0:5*60*1e3))}clearGcTimeout(){$(this,ts)&&(Gi.clearTimeout($(this,ts)),ae(this,ts,void 0))}},ts=new WeakMap,j2),rs,ko,Vr,ns,_t,ou,as,cn,ra,k2,h$=(k2=class extends KC{constructor(t){super();fe(this,cn);fe(this,rs);fe(this,ko);fe(this,Vr);fe(this,ns);fe(this,_t);fe(this,ou);fe(this,as);ae(this,as,!1),ae(this,ou,t.defaultOptions),this.setOptions(t.options),this.observers=[],ae(this,ns,t.client),ae(this,Vr,$(this,ns).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ae(this,rs,zj(this.options)),this.state=t.state??$(this,rs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,_t))==null?void 0:t.promise}setOptions(t){if(this.options={...$(this,ou),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=zj(this.options);r.data!==void 0&&(this.setState($j(r.data,r.dataUpdatedAt)),ae(this,rs,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Vr).remove(this)}setData(t,r){const n=oy(this.state.data,t,this.options);return be(this,cn,ra).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){be(this,cn,ra).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=$(this,_t))==null?void 0:n.promise;return(a=$(this,_t))==null||a.cancel(t),r?r.then(cr).catch(cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,rs))}isActive(){return this.observers.some(t=>Wr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>bi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!BC(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,_t))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,_t))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,Vr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||($(this,_t)&&($(this,as)?$(this,_t).cancel({revert:!0}):$(this,_t).cancelRetry()),this.scheduleGc()),$(this,Vr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,cn,ra).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,p,v,x,g,w,b;if(this.state.fetchStatus!=="idle"&&((c=$(this,_t))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,_t))return $(this,_t).continueRetry(),$(this,_t).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(k=>k.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(ae(this,as,!0),n.signal)})},i=()=>{const j=HC(this.options,r),_=(()=>{const N={client:$(this,ns),queryKey:this.queryKey,meta:this.meta};return a(N),N})();return ae(this,as,!1),this.options.persister?this.options.persister(j,_,this):j(_)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,ns),state:this.state,fetchFn:i};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),ae(this,ko,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&be(this,cn,ra).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ae(this,_t,WC({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof cy&&j.revert&&this.setState({...$(this,ko),fetchStatus:"idle"}),n.abort()},onFail:(j,k)=>{be(this,cn,ra).call(this,{type:"failed",failureCount:j,error:k})},onPause:()=>{be(this,cn,ra).call(this,{type:"pause"})},onContinue:()=>{be(this,cn,ra).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await $(this,_t).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(h=$(this,Vr).config).onSuccess)==null||m.call(h,j,this),(v=(p=$(this,Vr).config).onSettled)==null||v.call(p,j,this.state.error,this),j}catch(j){if(j instanceof cy){if(j.silent)return $(this,_t).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw be(this,cn,ra).call(this,{type:"error",error:j}),(g=(x=$(this,Vr).config).onError)==null||g.call(x,j,this),(b=(w=$(this,Vr).config).onSettled)==null||b.call(w,this.state.data,j,this),j}finally{this.scheduleGc()}}},rs=new WeakMap,ko=new WeakMap,Vr=new WeakMap,ns=new WeakMap,_t=new WeakMap,ou=new WeakMap,as=new WeakMap,cn=new WeakSet,ra=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...qC(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...$j(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ae(this,ko,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),It.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,Vr).notify({query:this,type:"updated",action:t})})},k2);function qC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $j(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function zj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var or,we,lu,Yt,is,No,sa,ii,cu,_o,So,ss,os,si,Eo,Ce,Jl,uy,dy,fy,hy,my,py,gy,YC,N2,m$=(N2=class extends vu{constructor(t,r){super();fe(this,Ce);fe(this,or);fe(this,we);fe(this,lu);fe(this,Yt);fe(this,is);fe(this,No);fe(this,sa);fe(this,ii);fe(this,cu);fe(this,_o);fe(this,So);fe(this,ss);fe(this,os);fe(this,si);fe(this,Eo,new Set);this.options=r,ae(this,or,t),ae(this,ii,null),ae(this,sa,ly()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,we).addObserver(this),Fj($(this,we),this.options)?be(this,Ce,Jl).call(this):this.updateResult(),be(this,Ce,hy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yy($(this,we),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yy($(this,we),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,Ce,my).call(this),be(this,Ce,py).call(this),$(this,we).removeObserver(this)}setOptions(t){const r=this.options,n=$(this,we);if(this.options=$(this,or).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wr(this.options.enabled,$(this,we))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,Ce,gy).call(this),$(this,we).setOptions(this.options),r._defaulted&&!iy(this.options,r)&&$(this,or).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,we),observer:this});const a=this.hasListeners();a&&Bj($(this,we),n,this.options,r)&&be(this,Ce,Jl).call(this),this.updateResult(),a&&($(this,we)!==n||Wr(this.options.enabled,$(this,we))!==Wr(r.enabled,$(this,we))||bi(this.options.staleTime,$(this,we))!==bi(r.staleTime,$(this,we)))&&be(this,Ce,uy).call(this);const i=be(this,Ce,dy).call(this);a&&($(this,we)!==n||Wr(this.options.enabled,$(this,we))!==Wr(r.enabled,$(this,we))||i!==$(this,si))&&be(this,Ce,fy).call(this,i)}getOptimisticResult(t){const r=$(this,or).getQueryCache().build($(this,or),t),n=this.createResult(r,t);return g$(this,n)&&(ae(this,Yt,n),ae(this,No,this.options),ae(this,is,$(this,we).state)),n}getCurrentResult(){return $(this,Yt)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&$(this,sa).status==="pending"&&$(this,sa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){$(this,Eo).add(t)}getCurrentQuery(){return $(this,we)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=$(this,or).defaultQueryOptions(t),n=$(this,or).getQueryCache().build($(this,or),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return be(this,Ce,Jl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Yt)))}createResult(t,r){var E;const n=$(this,we),a=this.options,i=$(this,Yt),s=$(this,is),l=$(this,No),u=t!==n?t.state:$(this,lu),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const T=this.hasListeners(),O=!T&&Fj(t,r),P=T&&Bj(t,n,r,a);(O||P)&&(f={...f,...qC(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:v,status:x}=f;m=f.data;let g=!1;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,g=!0):T=typeof r.placeholderData=="function"?r.placeholderData((E=$(this,So))==null?void 0:E.state.data,$(this,So)):r.placeholderData,T!==void 0&&(x="success",m=oy(i==null?void 0:i.data,T,r),h=!0)}if(r.select&&m!==void 0&&!g)if(i&&m===(s==null?void 0:s.data)&&r.select===$(this,cu))m=$(this,_o);else try{ae(this,cu,r.select),m=r.select(m),m=oy(i==null?void 0:i.data,m,r),ae(this,_o,m),ae(this,ii,null)}catch(T){ae(this,ii,T)}$(this,ii)&&(p=$(this,ii),m=$(this,_o),v=Date.now(),x="error");const w=f.fetchStatus==="fetching",b=x==="pending",j=x==="error",k=b&&w,_=m!==void 0,S={status:x,fetchStatus:f.fetchStatus,isPending:b,isSuccess:x==="success",isError:j,isInitialLoading:k,isLoading:k,data:m,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:j&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&_,isStale:Lx(t,r),refetch:this.refetch,promise:$(this,sa),isEnabled:Wr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=L=>{S.status==="error"?L.reject(S.error):S.data!==void 0&&L.resolve(S.data)},O=()=>{const L=ae(this,sa,S.promise=ly());T(L)},P=$(this,sa);switch(P.status){case"pending":t.queryHash===n.queryHash&&T(P);break;case"fulfilled":(S.status==="error"||S.data!==P.value)&&O();break;case"rejected":(S.status!=="error"||S.error!==P.reason)&&O();break}}return S}updateResult(){const t=$(this,Yt),r=this.createResult($(this,we),this.options);if(ae(this,is,$(this,we).state),ae(this,No,this.options),$(this,is).data!==void 0&&ae(this,So,$(this,we)),iy(r,t))return;ae(this,Yt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!$(this,Eo).size)return!0;const s=new Set(i??$(this,Eo));return this.options.throwOnError&&s.add("error"),Object.keys($(this,Yt)).some(l=>{const c=l;return $(this,Yt)[c]!==t[c]&&s.has(c)})};be(this,Ce,YC).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,Ce,hy).call(this)}},or=new WeakMap,we=new WeakMap,lu=new WeakMap,Yt=new WeakMap,is=new WeakMap,No=new WeakMap,sa=new WeakMap,ii=new WeakMap,cu=new WeakMap,_o=new WeakMap,So=new WeakMap,ss=new WeakMap,os=new WeakMap,si=new WeakMap,Eo=new WeakMap,Ce=new WeakSet,Jl=function(t){be(this,Ce,gy).call(this);let r=$(this,we).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(cr)),r},uy=function(){be(this,Ce,my).call(this);const t=bi(this.options.staleTime,$(this,we));if(ws||$(this,Yt).isStale||!ay(t))return;const n=BC($(this,Yt).dataUpdatedAt,t)+1;ae(this,ss,Gi.setTimeout(()=>{$(this,Yt).isStale||this.updateResult()},n))},dy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,we)):this.options.refetchInterval)??!1},fy=function(t){be(this,Ce,py).call(this),ae(this,si,t),!(ws||Wr(this.options.enabled,$(this,we))===!1||!ay($(this,si))||$(this,si)===0)&&ae(this,os,Gi.setInterval(()=>{(this.options.refetchIntervalInBackground||Rx.isFocused())&&be(this,Ce,Jl).call(this)},$(this,si)))},hy=function(){be(this,Ce,uy).call(this),be(this,Ce,fy).call(this,be(this,Ce,dy).call(this))},my=function(){$(this,ss)&&(Gi.clearTimeout($(this,ss)),ae(this,ss,void 0))},py=function(){$(this,os)&&(Gi.clearInterval($(this,os)),ae(this,os,void 0))},gy=function(){const t=$(this,or).getQueryCache().build($(this,or),this.options);if(t===$(this,we))return;const r=$(this,we);ae(this,we,t),ae(this,lu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},YC=function(t){It.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r($(this,Yt))}),$(this,or).getQueryCache().notify({query:$(this,we),type:"observerResultsUpdated"})})},N2);function p$(e,t){return Wr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Fj(e,t){return p$(e,t)||e.state.data!==void 0&&yy(e,t,t.refetchOnMount)}function yy(e,t,r){if(Wr(t.enabled,e)!==!1&&bi(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Lx(e,t)}return!1}function Bj(e,t,r,n){return(e!==t||Wr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Lx(e,r)}function Lx(e,t){return Wr(t.enabled,e)!==!1&&e.isStaleByTime(bi(t.staleTime,e))}function g$(e,t){return!iy(e.getCurrentResult(),t)}function Uj(e){return{onFetch:(t,r)=>{var d,f,h,m,p;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],s=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},g=HC(t.options,t.fetchOptions),w=async(b,j,k)=>{if(v)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};return x(O),O})(),S=await g(N),{maxPages:E}=t.options,T=k?s$:i$;return{pages:T(b.pages,S,E),pageParams:T(b.pageParams,j,E)}};if(a&&i.length){const b=a==="backward",j=b?y$:Hj,k={pages:i,pageParams:s},_=j(n,k);l=await w(k,_,b)}else{const b=e??i.length;do{const j=c===0?s[0]??n.initialPageParam:Hj(n,l);if(c>0&&j==null)break;l=await w(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,x;return(x=(v=t.options).persister)==null?void 0:x.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Hj(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function y$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var uu,Dn,Gt,ls,Rn,qa,_2,v$=(_2=class extends KC{constructor(t){super();fe(this,Rn);fe(this,uu);fe(this,Dn);fe(this,Gt);fe(this,ls);ae(this,uu,t.client),this.mutationId=t.mutationId,ae(this,Gt,t.mutationCache),ae(this,Dn,[]),this.state=t.state||x$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,Dn).includes(t)||($(this,Dn).push(t),this.clearGcTimeout(),$(this,Gt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ae(this,Dn,$(this,Dn).filter(r=>r!==t)),this.scheduleGc(),$(this,Gt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,Dn).length||(this.state.status==="pending"?this.scheduleGc():$(this,Gt).remove(this))}continue(){var t;return((t=$(this,ls))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,c,u,d,f,h,m,p,v,x,g,w,b,j,k,_,N,S,E;const r=()=>{be(this,Rn,qa).call(this,{type:"continue"})},n={client:$(this,uu),meta:this.options.meta,mutationKey:this.options.mutationKey};ae(this,ls,WC({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,O)=>{be(this,Rn,qa).call(this,{type:"failed",failureCount:T,error:O})},onPause:()=>{be(this,Rn,qa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Gt).canRun(this)}));const a=this.state.status==="pending",i=!$(this,ls).canStart();try{if(a)r();else{be(this,Rn,qa).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(s=$(this,Gt).config).onMutate)==null?void 0:l.call(s,t,this,n));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));O!==this.state.context&&be(this,Rn,qa).call(this,{type:"pending",context:O,variables:t,isPaused:i})}const T=await $(this,ls).start();return await((f=(d=$(this,Gt).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,T,t,this.state.context,n)),await((v=(p=$(this,Gt).config).onSettled)==null?void 0:v.call(p,T,null,this.state.variables,this.state.context,this,n)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,T,null,t,this.state.context,n)),be(this,Rn,qa).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(w=$(this,Gt).config).onError)==null?void 0:b.call(w,T,t,this.state.context,this,n)),await((k=(j=this.options).onError)==null?void 0:k.call(j,T,t,this.state.context,n)),await((N=(_=$(this,Gt).config).onSettled)==null?void 0:N.call(_,void 0,T,this.state.variables,this.state.context,this,n)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,T,t,this.state.context,n)),T}finally{be(this,Rn,qa).call(this,{type:"error",error:T})}}finally{$(this,Gt).runNext(this)}}},uu=new WeakMap,Dn=new WeakMap,Gt=new WeakMap,ls=new WeakMap,Rn=new WeakSet,qa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),It.batch(()=>{$(this,Dn).forEach(n=>{n.onMutationUpdate(t)}),$(this,Gt).notify({mutation:this,type:"updated",action:t})})},_2);function x$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oa,un,du,S2,b$=(S2=class extends vu{constructor(t={}){super();fe(this,oa);fe(this,un);fe(this,du);this.config=t,ae(this,oa,new Set),ae(this,un,new Map),ae(this,du,0)}build(t,r,n){const a=new v$({client:t,mutationCache:this,mutationId:++dd(this,du)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){$(this,oa).add(t);const r=Pd(t);if(typeof r=="string"){const n=$(this,un).get(r);n?n.push(t):$(this,un).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,oa).delete(t)){const r=Pd(t);if(typeof r=="string"){const n=$(this,un).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&$(this,un).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Pd(t);if(typeof r=="string"){const n=$(this,un).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Pd(t);if(typeof r=="string"){const a=(n=$(this,un).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){It.batch(()=>{$(this,oa).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,oa).clear(),$(this,un).clear()})}getAll(){return Array.from($(this,oa))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Dj(r,n))}findAll(t={}){return this.getAll().filter(r=>Dj(t,r))}notify(t){It.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return It.batch(()=>Promise.all(t.map(r=>r.continue().catch(cr))))}},oa=new WeakMap,un=new WeakMap,du=new WeakMap,S2);function Pd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ln,E2,w$=(E2=class extends vu{constructor(t={}){super();fe(this,Ln);this.config=t,ae(this,Ln,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??Ix(a,r);let s=this.get(i);return s||(s=new h$({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){$(this,Ln).has(t.queryHash)||($(this,Ln).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=$(this,Ln).get(t.queryHash);r&&(t.destroy(),r===t&&$(this,Ln).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){It.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,Ln).get(t)}getAll(){return[...$(this,Ln).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ij(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Ij(t,n)):r}notify(t){It.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){It.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){It.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ln=new WeakMap,E2),rt,oi,li,Co,Po,ci,Oo,Ao,C2,j$=(C2=class{constructor(e={}){fe(this,rt);fe(this,oi);fe(this,li);fe(this,Co);fe(this,Po);fe(this,ci);fe(this,Oo);fe(this,Ao);ae(this,rt,e.queryCache||new w$),ae(this,oi,e.mutationCache||new b$),ae(this,li,e.defaultOptions||{}),ae(this,Co,new Map),ae(this,Po,new Map),ae(this,ci,0)}mount(){dd(this,ci)._++,$(this,ci)===1&&(ae(this,Oo,Rx.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,rt).onFocus())})),ae(this,Ao,lh.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,rt).onOnline())})))}unmount(){var e,t;dd(this,ci)._--,$(this,ci)===0&&((e=$(this,Oo))==null||e.call(this),ae(this,Oo,void 0),(t=$(this,Ao))==null||t.call(this),ae(this,Ao,void 0))}isFetching(e){return $(this,rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,oi).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,rt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=$(this,rt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(bi(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return $(this,rt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=$(this,rt).get(n.queryHash),i=a==null?void 0:a.state.data,s=r$(t,i);if(s!==void 0)return $(this,rt).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return It.batch(()=>$(this,rt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,rt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=$(this,rt);It.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=$(this,rt);return It.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=It.batch(()=>$(this,rt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(cr).catch(cr)}invalidateQueries(e,t={}){return It.batch(()=>($(this,rt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=It.batch(()=>$(this,rt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(cr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(cr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=$(this,rt).build(this,t);return r.isStaleByTime(bi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(cr).catch(cr)}fetchInfiniteQuery(e){return e.behavior=Uj(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(cr).catch(cr)}ensureInfiniteQueryData(e){return e.behavior=Uj(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lh.isOnline()?$(this,oi).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,rt)}getMutationCache(){return $(this,oi)}getDefaultOptions(){return $(this,li)}setDefaultOptions(e){ae(this,li,e)}setQueryDefaults(e,t){$(this,Co).set(Rc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,Co).values()],r={};return t.forEach(n=>{Lc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){$(this,Po).set(Rc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,Po).values()],r={};return t.forEach(n=>{Lc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,li).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ix(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Dx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,li).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,rt).clear(),$(this,oi).clear()}},rt=new WeakMap,oi=new WeakMap,li=new WeakMap,Co=new WeakMap,Po=new WeakMap,ci=new WeakMap,Oo=new WeakMap,Ao=new WeakMap,C2),GC=y.createContext(void 0),k$=e=>{const t=y.useContext(GC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},N$=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(GC.Provider,{value:e,children:t})),XC=y.createContext(!1),_$=()=>y.useContext(XC);XC.Provider;function S$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var E$=y.createContext(S$()),C$=()=>y.useContext(E$),P$=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},O$=e=>{y.useEffect(()=>{e.clearReset()},[e])},A$=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||o$(r,[e.error,n])),T$=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},M$=(e,t)=>e.isLoading&&e.isFetching&&!t,I$=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Vj=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function D$(e,t,r){var f,h,m,p,v;const n=_$(),a=C$(),i=k$(),s=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,s),s._optimisticResults=n?"isRestoring":"optimistic",T$(s),P$(s,a),O$(a);const l=!i.getQueryCache().get(s.queryHash),[c]=y.useState(()=>new t(i,s)),u=c.getOptimisticResult(s),d=!n&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(x=>{const g=d?c.subscribe(It.batchCalls(x)):cr;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(s)},[s,c]),I$(s,u))throw Vj(s,c,a);if(A$({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((p=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,s,u),s.experimental_prefetchInRender&&!ws&&M$(u,n)){const x=l?Vj(s,c,a):(v=i.getQueryCache().get(s.queryHash))==null?void 0:v.promise;x==null||x.catch(cr).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function R$(e,t){return D$(e,m$)}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wj="popstate";function L$(e={}){function t(n,a){let{pathname:i,search:s,hash:l}=n.location;return vy("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:$c(a)}return z$(t,r,null,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $$(){return Math.random().toString(36).substring(2,10)}function Kj(e,t){return{usr:e.state,key:e.key,idx:t}}function vy(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?dl(t):t,state:r,key:t&&t.key||n||$$()}}function $c({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function z$(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){l="POP";let x=d(),g=x==null?null:x-u;u=x,c&&c({action:l,location:v.location,delta:g})}function h(x,g){l="PUSH";let w=vy(v.location,x,g);u=d()+1;let b=Kj(w,u),j=v.createHref(w);try{s.pushState(b,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function m(x,g){l="REPLACE";let w=vy(v.location,x,g);u=d();let b=Kj(w,u),j=v.createHref(w);s.replaceState(b,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function p(x){return F$(x)}let v={get action(){return l},get location(){return e(a,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Wj,f),c=x,()=>{a.removeEventListener(Wj,f),c=null}},createHref(x){return t(a,x)},createURL:p,encodeLocation(x){let g=p(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(x){return s.go(x)}};return v}function F$(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:$c(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function QC(e,t,r="/"){return B$(e,t,r,!1)}function B$(e,t,r,n){let a=typeof t=="string"?dl(t):t,i=_a(a.pathname||"/",r);if(i==null)return null;let s=ZC(e);U$(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=J$(i);l=Q$(s[c],u,n)}return l}function ZC(e,t=[],r=[],n="",a=!1){let i=(s,l,c=a,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Ze(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=ga([n,d.relativePath]),h=r.concat(d);s.children&&s.children.length>0&&(Ze(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),ZC(s.children,t,h,f,c)),!(s.path==null&&!s.index)&&t.push({path:f,score:G$(f,s.index),routesMeta:h})};return e.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,l);else for(let u of JC(s.path))i(s,l,!0,u)}),t}function JC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=JC(n.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function U$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:X$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var H$=/^:[\w-]+$/,V$=3,W$=2,K$=1,q$=10,Y$=-2,qj=e=>e==="*";function G$(e,t){let r=e.split("/"),n=r.length;return r.some(qj)&&(n+=Y$),t&&(n+=W$),r.filter(a=>!qj(a)).reduce((a,i)=>a+(H$.test(i)?V$:i===""?K$:q$),n)}function X$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Q$(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=ch({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=ch({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:ga([i,f.pathname]),pathnameBase:az(ga([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ga([i,f.pathnameBase]))}return s}function ch(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Z$(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let p=l[h]||"";s=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function Z$(e,t=!1,r=!0){Nn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function J$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function _a(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var ez=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tz=e=>ez.test(e);function rz(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?dl(e):e,i;if(r)if(tz(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),Nn(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${r}`)}r.startsWith("/")?i=Yj(r.substring(1),"/"):i=Yj(r,t)}else i=t;return{pathname:i,search:iz(n),hash:sz(a)}}function Yj(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ng(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function eP(e){let t=nz(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function tP(e,t,r,n=!1){let a;typeof e=="string"?a=dl(e):(a={...e},Ze(!a.pathname||!a.pathname.includes("?"),Ng("?","pathname","search",a)),Ze(!a.pathname||!a.pathname.includes("#"),Ng("#","pathname","hash",a)),Ze(!a.search||!a.search.includes("#"),Ng("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=rz(a,l),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var ga=e=>e.join("/").replace(/\/\/+/g,"/"),az=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function lz(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rP=["POST","PUT","PATCH","DELETE"];new Set(rP);var cz=["GET",...rP];new Set(cz);var fl=y.createContext(null);fl.displayName="DataRouter";var Am=y.createContext(null);Am.displayName="DataRouterState";y.createContext(!1);var nP=y.createContext({isTransitioning:!1});nP.displayName="ViewTransition";var uz=y.createContext(new Map);uz.displayName="Fetchers";var dz=y.createContext(null);dz.displayName="Await";var En=y.createContext(null);En.displayName="Navigation";var xu=y.createContext(null);xu.displayName="Location";var Qn=y.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var $x=y.createContext(null);$x.displayName="RouteError";function fz(e,{relative:t}={}){Ze(bu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(En),{hash:a,pathname:i,search:s}=wu(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:ga([r,i])),n.createHref({pathname:l,search:s,hash:a})}function bu(){return y.useContext(xu)!=null}function Ai(){return Ze(bu(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(xu).location}var aP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iP(e){y.useContext(En).static||y.useLayoutEffect(e)}function sP(){let{isDataRoute:e}=y.useContext(Qn);return e?Ez():hz()}function hz(){Ze(bu(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(fl),{basename:t,navigator:r}=y.useContext(En),{matches:n}=y.useContext(Qn),{pathname:a}=Ai(),i=JSON.stringify(eP(n)),s=y.useRef(!1);return iP(()=>{s.current=!0}),y.useCallback((c,u={})=>{if(Nn(s.current,aP),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=tP(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ga([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,a,e])}var mz=y.createContext(null);function pz(e){let t=y.useContext(Qn).outlet;return y.useMemo(()=>t&&y.createElement(mz.Provider,{value:e},t),[t,e])}function wu(e,{relative:t}={}){let{matches:r}=y.useContext(Qn),{pathname:n}=Ai(),a=JSON.stringify(eP(r));return y.useMemo(()=>tP(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function gz(e,t){return oP(e,t)}function oP(e,t,r,n,a){var w;Ze(bu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(En),{matches:s}=y.useContext(Qn),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let b=f&&f.path||"";lP(u,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=Ai(),m;if(t){let b=typeof t=="string"?dl(t):t;Ze(d==="/"||((w=b.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),m=b}else m=h;let p=m.pathname||"/",v=p;if(d!=="/"){let b=d.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=QC(e,{pathname:v});Nn(f||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Nn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=wz(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:ga([d,i.encodeLocation?i.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:ga([d,i.encodeLocation?i.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),s,r,n,a);return t&&g?y.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function yz(){let e=Sz(),t=oz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,s)}var vz=y.createElement(yz,null),xz=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(Qn.Provider,{value:this.props.routeContext},y.createElement($x.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bz({routeContext:e,match:t,children:r}){let n=y.useContext(fl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Qn.Provider,{value:e},r)}function wz(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let d=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Ze(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,f)=>{var h,m;n(d,{location:r.location,params:((m=(h=r.matches)==null?void 0:h[0])==null?void 0:m.params)??{},unstable_pattern:lz(r.matches),errorInfo:f})}:void 0;return i.reduceRight((d,f,h)=>{let m,p=!1,v=null,x=null;r&&(m=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||vz,l&&(c<0&&h===0?(lP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):c===h&&(p=!0,x=f.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,h+1)),w=()=>{let b;return m?b=v:p?b=x:f.route.Component?b=y.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,y.createElement(bz,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(xz,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):w()},null)}function zx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jz(e){let t=y.useContext(fl);return Ze(t,zx(e)),t}function kz(e){let t=y.useContext(Am);return Ze(t,zx(e)),t}function Nz(e){let t=y.useContext(Qn);return Ze(t,zx(e)),t}function Fx(e){let t=Nz(e),r=t.matches[t.matches.length-1];return Ze(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function _z(){return Fx("useRouteId")}function Sz(){var n;let e=y.useContext($x),t=kz("useRouteError"),r=Fx("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Ez(){let{router:e}=jz("useNavigate"),t=Fx("useNavigate"),r=y.useRef(!1);return iP(()=>{r.current=!0}),y.useCallback(async(a,i={})=>{Nn(r.current,aP),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Gj={};function lP(e,t,r){!t&&!Gj[e]&&(Gj[e]=!0,Nn(!1,r))}y.memo(Cz);function Cz({routes:e,future:t,state:r,unstable_onError:n}){return oP(e,void 0,r,n,t)}function Pz(e){return pz(e.context)}function Ks(e){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oz({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:s}){Ze(!bu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:s,future:{}}),[l,a,i,s]);typeof r=="string"&&(r=dl(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,p=y.useMemo(()=>{let v=_a(u,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:h,key:m},navigationType:n}},[l,u,d,f,h,m,n]);return Nn(p!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:y.createElement(En.Provider,{value:c},y.createElement(xu.Provider,{children:t,value:p}))}function Az({children:e,location:t}){return gz(xy(e),t)}function xy(e,t=[]){let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let i=[...t,a];if(n.type===y.Fragment){r.push.apply(r,xy(n.props.children,i));return}Ze(n.type===Ks,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=xy(n.props.children,i)),r.push(s)}),r}var wf="get",jf="application/x-www-form-urlencoded";function Tm(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Tz(e){return Tm(e)&&e.tagName.toLowerCase()==="button"}function Mz(e){return Tm(e)&&e.tagName.toLowerCase()==="form"}function Iz(e){return Tm(e)&&e.tagName.toLowerCase()==="input"}function Dz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Rz(e,t){return e.button===0&&(!t||t==="_self")&&!Dz(e)}var Od=null;function Lz(){if(Od===null)try{new FormData(document.createElement("form"),0),Od=!1}catch{Od=!0}return Od}var $z=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _g(e){return e!=null&&!$z.has(e)?(Nn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jf}"`),null):e}function zz(e,t){let r,n,a,i,s;if(Mz(e)){let l=e.getAttribute("action");n=l?_a(l,t):null,r=e.getAttribute("method")||wf,a=_g(e.getAttribute("enctype"))||jf,i=new FormData(e)}else if(Tz(e)||Iz(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?_a(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||wf,a=_g(e.getAttribute("formenctype"))||_g(l.getAttribute("enctype"))||jf,i=new FormData(l,e),!Lz()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,f)}}else{if(Tm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=wf,n=null,a=jf,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fz(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&_a(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Bz(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Uz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Hz(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await Bz(i,r);return s.links?s.links():[]}return[]}));return qz(n.flat(1).filter(Uz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Xj(e,t,r,n,a,i){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>s(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Vz(e,t,{includeHydrateFallback:r}={}){return Wz(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Wz(e){return[...new Set(e)]}function Kz(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function qz(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(Kz(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function cP(){let e=y.useContext(fl);return Bx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Yz(){let e=y.useContext(Am);return Bx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ux=y.createContext(void 0);Ux.displayName="FrameworkContext";function uP(){let e=y.useContext(Ux);return Bx(e,"You must render this element inside a <HydratedRouter> element"),e}function Gz(e,t){let r=y.useContext(Ux),[n,a]=y.useState(!1),[i,s]=y.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=y.useRef(null);y.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let v=g=>{g.forEach(w=>{s(w.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[e]),y.useEffect(()=>{if(n){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{a(!0)},p=()=>{a(!1),s(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:Ll(l,m),onBlur:Ll(c,p),onMouseEnter:Ll(u,m),onMouseLeave:Ll(d,p),onTouchStart:Ll(f,m)}]:[!1,h,{}]}function Ll(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Xz({page:e,...t}){let{router:r}=cP(),n=y.useMemo(()=>QC(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(Zz,{page:e,matches:n,...t}):null}function Qz(e){let{manifest:t,routeModules:r}=uP(),[n,a]=y.useState([]);return y.useEffect(()=>{let i=!1;return Hz(e,t,r).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,r]),n}function Zz({page:e,matches:t,...r}){let n=Ai(),{manifest:a,routeModules:i}=uP(),{basename:s}=cP(),{loaderData:l,matches:c}=Yz(),u=y.useMemo(()=>Xj(e,t,c,a,n,"data"),[e,t,c,a,n]),d=y.useMemo(()=>Xj(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,v=!1;if(t.forEach(g=>{var b;let w=a.routes[g.route.id];!w||!w.hasLoader||(!u.some(j=>j.route.id===g.route.id)&&g.route.id in l&&((b=i[g.route.id])!=null&&b.shouldRevalidate)||w.hasClientLoader?v=!0:p.add(g.route.id))}),p.size===0)return[];let x=Fz(e,s,"data");return v&&p.size>0&&x.searchParams.set("_routes",t.filter(g=>p.has(g.route.id)).map(g=>g.route.id).join(",")),[x.pathname+x.search]},[s,l,n,a,u,t,e,i]),h=y.useMemo(()=>Vz(d,a),[d,a]),m=Qz(d);return y.createElement(y.Fragment,null,f.map(p=>y.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),h.map(p=>y.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),m.map(({key:p,link:v})=>y.createElement("link",{key:p,nonce:r.nonce,...v})))}function Jz(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var dP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dP&&(window.__reactRouterVersion="7.10.1")}catch{}function eF({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=y.useRef();a.current==null&&(a.current=L$({window:n,v5Compat:!0}));let i=a.current,[s,l]=y.useState({action:i.action,location:i.location}),c=y.useCallback(u=>{r===!1?l(u):y.startTransition(()=>l(u))},[r]);return y.useLayoutEffect(()=>i.listen(c),[i,c]),y.createElement(Oz,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:r===!0})}var fP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ju=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:p,unstable_useTransitions:v}=y.useContext(En),x=typeof u=="string"&&fP.test(u),g,w=!1;if(typeof u=="string"&&x&&(g=u,dP))try{let T=new URL(window.location.href),O=u.startsWith("//")?new URL(T.protocol+u):new URL(u),P=_a(O.pathname,p);O.origin===T.origin&&P!=null?u=P+O.search+O.hash:w=!0}catch{Nn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=fz(u,{relative:a}),[j,k,_]=Gz(n,h),N=aF(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f,unstable_useTransitions:v});function S(T){t&&t(T),T.defaultPrevented||N(T)}let E=y.createElement("a",{...h,..._,href:g||b,onClick:w||i?t:S,ref:Jz(m,k),target:c,"data-discover":!x&&r==="render"?"true":void 0});return j&&!x?y.createElement(y.Fragment,null,E,y.createElement(Xz,{page:b})):E});ju.displayName="Link";var tF=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:l,children:c,...u},d){let f=wu(s,{relative:u.relative}),h=Ai(),m=y.useContext(Am),{navigator:p,basename:v}=y.useContext(En),x=m!=null&&cF(f)&&l===!0,g=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,w=h.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(w=w.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase()),b&&v&&(b=_a(b,v)||b);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let k=w===g||!a&&w.startsWith(g)&&w.charAt(j)==="/",_=b!=null&&(b===g||!a&&b.startsWith(g)&&b.charAt(g.length)==="/"),N={isActive:k,isPending:_,isTransitioning:x},S=k?t:void 0,E;typeof n=="function"?E=n(N):E=[n,k?"active":null,_?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let T=typeof i=="function"?i(N):i;return y.createElement(ju,{...u,"aria-current":S,className:E,ref:d,style:T,to:s,viewTransition:l},typeof c=="function"?c(N):c)});tF.displayName="NavLink";var rF=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:s=wf,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let{unstable_useTransitions:p}=y.useContext(En),v=oF(),x=lF(l,{relative:u}),g=s.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&fP.test(l),b=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let k=j.nativeEvent.submitter,_=(k==null?void 0:k.getAttribute("formmethod"))||s,N=()=>v(k||j.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:f});p&&r!==!1?y.startTransition(()=>N()):N()};return y.createElement("form",{ref:m,method:g,action:x,onSubmit:n?c:b,...h,"data-discover":!w&&e==="render"?"true":void 0})});rF.displayName="Form";function nF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hP(e){let t=y.useContext(fl);return Ze(t,nF(e)),t}function aF(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_useTransitions:l}={}){let c=sP(),u=Ai(),d=wu(e,{relative:i});return y.useCallback(f=>{if(Rz(f,t)){f.preventDefault();let h=r!==void 0?r:$c(u)===$c(d),m=()=>c(e,{replace:h,state:n,preventScrollReset:a,relative:i,viewTransition:s});l?y.startTransition(()=>m()):m()}},[u,c,d,r,n,t,e,a,i,s,l])}var iF=0,sF=()=>`__${String(++iF)}__`;function oF(){let{router:e}=hP("useSubmit"),{basename:t}=y.useContext(En),r=_z(),n=e.fetch,a=e.navigate;return y.useCallback(async(i,s={})=>{let{action:l,method:c,encType:u,formData:d,body:f}=zz(i,t);if(s.navigate===!1){let h=s.fetcherKey||sF();await n(h,r,s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await a(s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,a,t,r])}function lF(e,{relative:t}={}){let{basename:r}=y.useContext(En),n=y.useContext(Qn);Ze(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...wu(e||".",{relative:t})},s=Ai();if(e==null){i.search=s.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:ga([r,i.pathname])),$c(i)}function cF(e,{relative:t}={}){let r=y.useContext(nP);Ze(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=hP("useViewTransitionState"),a=wu(e,{relative:t});if(!r.isTransitioning)return!1;let i=_a(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=_a(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ch(a.pathname,s)!=null||ch(a.pathname,i)!=null}/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,...u},d)=>y.createElement("svg",{ref:d,...uF,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${dF(e)}`,l].join(" "),...u},[...t.map(([f,h])=>y.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=te("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=te("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=te("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=te("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=te("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=te("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=te("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=te("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=te("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=te("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=te("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=te("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=te("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=te("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=te("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=te("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=te("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=te("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=te("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=te("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=te("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=te("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=te("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=te("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=te("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=te("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=te("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=te("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=te("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=te("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=te("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=te("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=te("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=te("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=te("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=te("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=te("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=te("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=te("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),QF=()=>{const e=Ai(),[t,r]=y.useState(!1);y.useEffect(()=>{document.documentElement.classList.contains("dark")?r(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),r(!0))},[]);const n=()=>{const i=!t;r(i),i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},a=i=>e.pathname===i;return o.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-200",children:[o.jsxs("aside",{className:"w-64 bg-slate-900 dark:bg-slate-950 text-white flex flex-col shrink-0 transition-colors duration-200",children:[o.jsxs("div",{className:"p-6 border-b border-slate-800 dark:border-slate-900 flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center font-bold text-lg",children:"S"}),o.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Skyulf ML"})]}),o.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[o.jsx(Ad,{to:"/",active:a("/"),icon:o.jsx(wP,{size:20}),children:"Dashboard"}),o.jsx(Ad,{to:"/canvas",active:a("/canvas"),icon:o.jsx(bP,{size:20}),children:"ML Canvas"}),o.jsx(Ad,{to:"/data",active:a("/data"),icon:o.jsx(Vn,{size:20}),children:"Data Sources"}),o.jsx(Ad,{to:"/deployments",active:a("/deployments"),icon:o.jsx(Wx,{size:20}),children:"Deployments"})]}),o.jsxs("div",{className:"p-4 border-t border-slate-800 space-y-4",children:[o.jsxs("button",{onClick:n,className:"flex items-center gap-3 w-full px-4 py-2 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-colors",children:[t?o.jsx(SP,{size:20}):o.jsx(kP,{size:20}),t?"Light Mode":"Dark Mode"]}),o.jsx("div",{className:"text-xs text-slate-600 text-center",children:"v2.0.0-alpha"})]})]}),o.jsx("main",{className:"flex-1 overflow-auto",children:o.jsx(Pz,{})})]})},Ad=({to:e,children:t,active:r,icon:n})=>o.jsxs(ju,{to:e,className:`flex items-center gap-3 px-4 py-3 rounded-md text-sm font-medium transition-colors ${r?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[n,t]});function EP(e,t){return function(){return e.apply(t,arguments)}}const{toString:ZF}=Object.prototype,{getPrototypeOf:Yx}=Object,{iterator:Im,toStringTag:CP}=Symbol,Dm=(e=>t=>{const r=ZF.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Cn=e=>(e=e.toLowerCase(),t=>Dm(t)===e),Rm=e=>t=>typeof t===e,{isArray:ml}=Array,Bo=Rm("undefined");function _u(e){return e!==null&&!Bo(e)&&e.constructor!==null&&!Bo(e.constructor)&&vr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const PP=Cn("ArrayBuffer");function JF(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&PP(e.buffer),t}const e6=Rm("string"),vr=Rm("function"),OP=Rm("number"),Su=e=>e!==null&&typeof e=="object",t6=e=>e===!0||e===!1,kf=e=>{if(Dm(e)!=="object")return!1;const t=Yx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(CP in e)&&!(Im in e)},r6=e=>{if(!Su(e)||_u(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},n6=Cn("Date"),a6=Cn("File"),i6=Cn("Blob"),s6=Cn("FileList"),o6=e=>Su(e)&&vr(e.pipe),l6=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||vr(e.append)&&((t=Dm(e))==="formdata"||t==="object"&&vr(e.toString)&&e.toString()==="[object FormData]"))},c6=Cn("URLSearchParams"),[u6,d6,f6,h6]=["ReadableStream","Request","Response","Headers"].map(Cn),m6=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Eu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),ml(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(_u(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let l;for(n=0;n<s;n++)l=i[n],t.call(null,e[l],l,e)}}function AP(e,t){if(_u(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Xi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,TP=e=>!Bo(e)&&e!==Xi;function wy(){const{caseless:e,skipUndefined:t}=TP(this)&&this||{},r={},n=(a,i)=>{const s=e&&AP(r,i)||i;kf(r[s])&&kf(a)?r[s]=wy(r[s],a):kf(a)?r[s]=wy({},a):ml(a)?r[s]=a.slice():(!t||!Bo(a))&&(r[s]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Eu(arguments[a],n);return r}const p6=(e,t,r,{allOwnKeys:n}={})=>(Eu(t,(a,i)=>{r&&vr(a)?e[i]=EP(a,r):e[i]=a},{allOwnKeys:n}),e),g6=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),y6=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},v6=(e,t,r,n)=>{let a,i,s;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],(!n||n(s,e,t))&&!l[s]&&(t[s]=e[s],l[s]=!0);e=r!==!1&&Yx(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},x6=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},b6=e=>{if(!e)return null;if(ml(e))return e;let t=e.length;if(!OP(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},w6=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Yx(Uint8Array)),j6=(e,t)=>{const n=(e&&e[Im]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},k6=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},N6=Cn("HTMLFormElement"),_6=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Zj=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),S6=Cn("RegExp"),MP=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Eu(r,(a,i)=>{let s;(s=t(a,i,e))!==!1&&(n[i]=s||a)}),Object.defineProperties(e,n)},E6=e=>{MP(e,(t,r)=>{if(vr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(vr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},C6=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return ml(e)?n(e):n(String(e).split(t)),r},P6=()=>{},O6=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function A6(e){return!!(e&&vr(e.append)&&e[CP]==="FormData"&&e[Im])}const T6=e=>{const t=new Array(10),r=(n,a)=>{if(Su(n)){if(t.indexOf(n)>=0)return;if(_u(n))return n;if(!("toJSON"in n)){t[a]=n;const i=ml(n)?[]:{};return Eu(n,(s,l)=>{const c=r(s,a+1);!Bo(c)&&(i[l]=c)}),t[a]=void 0,i}}return n};return r(e,0)},M6=Cn("AsyncFunction"),I6=e=>e&&(Su(e)||vr(e))&&vr(e.then)&&vr(e.catch),IP=((e,t)=>e?setImmediate:t?((r,n)=>(Xi.addEventListener("message",({source:a,data:i})=>{a===Xi&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Xi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",vr(Xi.postMessage)),D6=typeof queueMicrotask<"u"?queueMicrotask.bind(Xi):typeof process<"u"&&process.nextTick||IP,R6=e=>e!=null&&vr(e[Im]),W={isArray:ml,isArrayBuffer:PP,isBuffer:_u,isFormData:l6,isArrayBufferView:JF,isString:e6,isNumber:OP,isBoolean:t6,isObject:Su,isPlainObject:kf,isEmptyObject:r6,isReadableStream:u6,isRequest:d6,isResponse:f6,isHeaders:h6,isUndefined:Bo,isDate:n6,isFile:a6,isBlob:i6,isRegExp:S6,isFunction:vr,isStream:o6,isURLSearchParams:c6,isTypedArray:w6,isFileList:s6,forEach:Eu,merge:wy,extend:p6,trim:m6,stripBOM:g6,inherits:y6,toFlatObject:v6,kindOf:Dm,kindOfTest:Cn,endsWith:x6,toArray:b6,forEachEntry:j6,matchAll:k6,isHTMLForm:N6,hasOwnProperty:Zj,hasOwnProp:Zj,reduceDescriptors:MP,freezeMethods:E6,toObjectSet:C6,toCamelCase:_6,noop:P6,toFiniteNumber:O6,findKey:AP,global:Xi,isContextDefined:TP,isSpecCompliantForm:A6,toJSONObject:T6,isAsyncFn:M6,isThenable:I6,setImmediate:IP,asap:D6,isIterable:R6};function ye(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}W.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const DP=ye.prototype,RP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{RP[e]={value:e}});Object.defineProperties(ye,RP);Object.defineProperty(DP,"isAxiosError",{value:!0});ye.from=(e,t,r,n,a,i)=>{const s=Object.create(DP);W.toFlatObject(e,s,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ye.call(s,l,c,r,n,a),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const L6=null;function jy(e){return W.isPlainObject(e)||W.isArray(e)}function LP(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function Jj(e,t,r){return e?e.concat(t).map(function(a,i){return a=LP(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function $6(e){return W.isArray(e)&&!e.some(jy)}const z6=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function Lm(e,t,r){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=W.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!W.isUndefined(x[v])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(W.isDate(p))return p.toISOString();if(W.isBoolean(p))return p.toString();if(!c&&W.isBlob(p))throw new ye("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(p)||W.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,v,x){let g=p;if(p&&!x&&typeof p=="object"){if(W.endsWith(v,"{}"))v=n?v:v.slice(0,-2),p=JSON.stringify(p);else if(W.isArray(p)&&$6(p)||(W.isFileList(p)||W.endsWith(v,"[]"))&&(g=W.toArray(p)))return v=LP(v),g.forEach(function(b,j){!(W.isUndefined(b)||b===null)&&t.append(s===!0?Jj([v],j,i):s===null?v:v+"[]",u(b))}),!1}return jy(p)?!0:(t.append(Jj(x,v,i),u(p)),!1)}const f=[],h=Object.assign(z6,{defaultVisitor:d,convertValue:u,isVisitable:jy});function m(p,v){if(!W.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(p),W.forEach(p,function(g,w){(!(W.isUndefined(g)||g===null)&&a.call(t,g,W.isString(w)?w.trim():w,v,h))===!0&&m(g,v?v.concat(w):[w])}),f.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return m(e),t}function ek(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Gx(e,t){this._pairs=[],e&&Lm(e,this,t)}const $P=Gx.prototype;$P.append=function(t,r){this._pairs.push([t,r])};$P.toString=function(t){const r=t?function(n){return t.call(this,n,ek)}:ek;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function F6(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function zP(e,t,r){if(!t)return e;const n=r&&r.encode||F6;W.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=W.isURLSearchParams(t)?t.toString():new Gx(t,r).toString(n),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class tk{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(n){n!==null&&t(n)})}}const FP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},B6=typeof URLSearchParams<"u"?URLSearchParams:Gx,U6=typeof FormData<"u"?FormData:null,H6=typeof Blob<"u"?Blob:null,V6={isBrowser:!0,classes:{URLSearchParams:B6,FormData:U6,Blob:H6},protocols:["http","https","file","blob","url","data"]},Xx=typeof window<"u"&&typeof document<"u",ky=typeof navigator=="object"&&navigator||void 0,W6=Xx&&(!ky||["ReactNative","NativeScript","NS"].indexOf(ky.product)<0),K6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",q6=Xx&&window.location.href||"http://localhost",Y6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xx,hasStandardBrowserEnv:W6,hasStandardBrowserWebWorkerEnv:K6,navigator:ky,origin:q6},Symbol.toStringTag,{value:"Module"})),Wt={...Y6,...V6};function G6(e,t){return Lm(e,new Wt.classes.URLSearchParams,{visitor:function(r,n,a,i){return Wt.isNode&&W.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function X6(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Q6(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function BP(e){function t(r,n,a,i){let s=r[i++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=i>=r.length;return s=!s&&W.isArray(a)?a.length:s,c?(W.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!l):((!a[s]||!W.isObject(a[s]))&&(a[s]=[]),t(r,n,a[s],i)&&W.isArray(a[s])&&(a[s]=Q6(a[s])),!l)}if(W.isFormData(e)&&W.isFunction(e.entries)){const r={};return W.forEachEntry(e,(n,a)=>{t(X6(n),a,r,0)}),r}return null}function Z6(e,t,r){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Cu={transitional:FP,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=W.isObject(t);if(i&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return a?JSON.stringify(BP(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return G6(t,this.formSerializer).toString();if((l=W.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Lm(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),Z6(t)):t}],transformResponse:[function(t){const r=this.transitional||Cu.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(n&&!this.responseType||a)){const s=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(s)throw l.name==="SyntaxError"?ye.from(l,ye.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wt.classes.FormData,Blob:Wt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{Cu.headers[e]={}});const J6=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e8=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),r=s.substring(0,a).trim().toLowerCase(),n=s.substring(a+1).trim(),!(!r||t[r]&&J6[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},rk=Symbol("internals");function $l(e){return e&&String(e).trim().toLowerCase()}function Nf(e){return e===!1||e==null?e:W.isArray(e)?e.map(Nf):String(e)}function t8(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const r8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Sg(e,t,r,n,a){if(W.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!W.isString(t)){if(W.isString(n))return t.indexOf(n)!==-1;if(W.isRegExp(n))return n.test(t)}}function n8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function a8(e,t){const r=W.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,s){return this[n].call(this,t,a,i,s)},configurable:!0})})}let xr=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,c,u){const d=$l(c);if(!d)throw new Error("header name must be a non-empty string");const f=W.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Nf(l))}const s=(l,c)=>W.forEach(l,(u,d)=>i(u,d,c));if(W.isPlainObject(t)||t instanceof this.constructor)s(t,r);else if(W.isString(t)&&(t=t.trim())&&!r8(t))s(e8(t),r);else if(W.isObject(t)&&W.isIterable(t)){let l={},c,u;for(const d of t){if(!W.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?W.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}s(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=$l(t),t){const n=W.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return t8(a);if(W.isFunction(r))return r.call(this,a,n);if(W.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=$l(t),t){const n=W.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Sg(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(s){if(s=$l(s),s){const l=W.findKey(n,s);l&&(!r||Sg(n,n[l],l,r))&&(delete n[l],a=!0)}}return W.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||Sg(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return W.forEach(this,(a,i)=>{const s=W.findKey(n,i);if(s){r[s]=Nf(a),delete r[i];return}const l=t?n8(i):String(i).trim();l!==i&&delete r[i],r[l]=Nf(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return W.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&W.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[rk]=this[rk]={accessors:{}}).accessors,a=this.prototype;function i(s){const l=$l(s);n[l]||(a8(a,s),n[l]=!0)}return W.isArray(t)?t.forEach(i):i(t),this}};xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(xr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});W.freezeMethods(xr);function Eg(e,t){const r=this||Cu,n=t||r,a=xr.from(n.headers);let i=n.data;return W.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function UP(e){return!!(e&&e.__CANCEL__)}function pl(e,t,r){ye.call(this,e??"canceled",ye.ERR_CANCELED,t,r),this.name="CanceledError"}W.inherits(pl,ye,{__CANCEL__:!0});function HP(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ye("Request failed with status code "+r.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function i8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function s8(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,s;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];s||(s=u),r[a]=c,n[a]=u;let f=i,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-s<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function o8(e,t){let r=0,n=1e3/t,a,i;const s=(u,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?s(u,d):(a=u,i||(i=setTimeout(()=>{i=null,s(a)},n-f)))},()=>a&&s(a)]}const uh=(e,t,r=3)=>{let n=0;const a=s8(50,250);return o8(i=>{const s=i.loaded,l=i.lengthComputable?i.total:void 0,c=s-n,u=a(c),d=s<=l;n=s;const f={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-s)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},nk=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},ak=e=>(...t)=>W.asap(()=>e(...t)),l8=Wt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Wt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Wt.origin),Wt.navigator&&/(msie|trident)/i.test(Wt.navigator.userAgent)):()=>!0,c8=Wt.hasStandardBrowserEnv?{write(e,t,r,n,a,i,s){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];W.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),W.isString(n)&&l.push(`path=${n}`),W.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),W.isString(s)&&l.push(`SameSite=${s}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function u8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function d8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function VP(e,t,r){let n=!u8(t);return e&&(n||r==!1)?d8(e,t):t}const ik=e=>e instanceof xr?{...e}:e;function ks(e,t){t=t||{};const r={};function n(u,d,f,h){return W.isPlainObject(u)&&W.isPlainObject(d)?W.merge.call({caseless:h},u,d):W.isPlainObject(d)?W.merge({},d):W.isArray(d)?d.slice():d}function a(u,d,f,h){if(W.isUndefined(d)){if(!W.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function i(u,d){if(!W.isUndefined(d))return n(void 0,d)}function s(u,d){if(W.isUndefined(d)){if(!W.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(u,d,f)=>a(ik(u),ik(d),f,!0)};return W.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);W.isUndefined(h)&&f!==l||(r[d]=h)}),r}const WP=e=>{const t=ks({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:l}=t;if(t.headers=s=xr.from(s),t.url=zP(VP(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),W.isFormData(r)){if(Wt.hasStandardBrowserEnv||Wt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(W.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&s.set(d,f)})}}if(Wt.hasStandardBrowserEnv&&(n&&W.isFunction(n)&&(n=n(t)),n||n!==!1&&l8(t.url))){const c=a&&i&&c8.read(i);c&&s.set(a,c)}return t},f8=typeof XMLHttpRequest<"u",h8=f8&&function(e){return new Promise(function(r,n){const a=WP(e);let i=a.data;const s=xr.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,p;function v(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function g(){if(!x)return;const b=xr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:e,request:x};HP(function(N){r(N),v()},function(N){n(N),v()},k),x=null}"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(g)},x.onabort=function(){x&&(n(new ye("Request aborted",ye.ECONNABORTED,e,x)),x=null)},x.onerror=function(j){const k=j&&j.message?j.message:"Network Error",_=new ye(k,ye.ERR_NETWORK,e,x);_.event=j||null,n(_),x=null},x.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||FP;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new ye(j,k.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,x)),x=null},i===void 0&&s.setContentType(null),"setRequestHeader"in x&&W.forEach(s.toJSON(),function(j,k){x.setRequestHeader(k,j)}),W.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),u&&([h,p]=uh(u,!0),x.addEventListener("progress",h)),c&&x.upload&&([f,m]=uh(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=b=>{x&&(n(!b||b.type?new pl(null,e,x):b),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const w=i8(a.url);if(w&&Wt.protocols.indexOf(w)===-1){n(new ye("Unsupported protocol "+w+":",ye.ERR_BAD_REQUEST,e));return}x.send(i||null)})},m8=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ye?d:new pl(d instanceof Error?d.message:d))}};let s=t&&setTimeout(()=>{s=null,i(new ye(`timeout ${t} of ms exceeded`,ye.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>W.asap(l),c}},p8=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},g8=async function*(e,t){for await(const r of y8(e))yield*p8(r,t)},y8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},sk=(e,t,r,n)=>{const a=g8(e,t);let i=0,s,l=c=>{s||(s=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=i+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},ok=64*1024,{isFunction:Td}=W,v8=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:lk,TextEncoder:ck}=W.global,uk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},x8=e=>{e=W.merge.call({skipUndefined:!0},v8,e);const{fetch:t,Request:r,Response:n}=e,a=t?Td(t):typeof fetch=="function",i=Td(r),s=Td(n);if(!a)return!1;const l=a&&Td(lk),c=a&&(typeof ck=="function"?(p=>v=>p.encode(v))(new ck):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=i&&l&&uk(()=>{let p=!1;const v=new r(Wt.origin,{body:new lk,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),d=s&&l&&uk(()=>W.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(v,x)=>{let g=v&&v[p];if(g)return g.call(v);throw new ye(`Response type '${p}' is not supported`,ye.ERR_NOT_SUPPORT,x)})});const h=async p=>{if(p==null)return 0;if(W.isBlob(p))return p.size;if(W.isSpecCompliantForm(p))return(await new r(Wt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(W.isArrayBufferView(p)||W.isArrayBuffer(p))return p.byteLength;if(W.isURLSearchParams(p)&&(p=p+""),W.isString(p))return(await c(p)).byteLength},m=async(p,v)=>{const x=W.toFiniteNumber(p.getContentLength());return x??h(v)};return async p=>{let{url:v,method:x,data:g,signal:w,cancelToken:b,timeout:j,onDownloadProgress:k,onUploadProgress:_,responseType:N,headers:S,withCredentials:E="same-origin",fetchOptions:T}=WP(p),O=t||fetch;N=N?(N+"").toLowerCase():"text";let P=m8([w,b&&b.toAbortSignal()],j),L=null;const C=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let D;try{if(_&&u&&x!=="get"&&x!=="head"&&(D=await m(S,g))!==0){let H=new r(v,{method:"POST",body:g,duplex:"half"}),F;if(W.isFormData(g)&&(F=H.headers.get("content-type"))&&S.setContentType(F),H.body){const[Y,q]=nk(D,uh(ak(_)));g=sk(H.body,ok,Y,q)}}W.isString(E)||(E=E?"include":"omit");const I=i&&"credentials"in r.prototype,R={...T,signal:P,method:x.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:I?E:void 0};L=i&&new r(v,R);let A=await(i?O(L,T):O(v,R));const M=d&&(N==="stream"||N==="response");if(d&&(k||M&&C)){const H={};["status","statusText","headers"].forEach(Q=>{H[Q]=A[Q]});const F=W.toFiniteNumber(A.headers.get("content-length")),[Y,q]=k&&nk(F,uh(ak(k),!0))||[];A=new n(sk(A.body,ok,Y,()=>{q&&q(),C&&C()}),H)}N=N||"text";let z=await f[W.findKey(f,N)||"text"](A,p);return!M&&C&&C(),await new Promise((H,F)=>{HP(H,F,{data:z,headers:xr.from(A.headers),status:A.status,statusText:A.statusText,config:p,request:L})})}catch(I){throw C&&C(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,p,L),{cause:I.cause||I}):ye.from(I,I&&I.code,p,L)}}},b8=new Map,KP=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let s=i.length,l=s,c,u,d=b8;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:x8(t)),d=u;return u};KP();const Qx={http:L6,xhr:h8,fetch:{get:KP}};W.forEach(Qx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const dk=e=>`- ${e}`,w8=e=>W.isFunction(e)||e===null||e===!1;function j8(e,t){e=W.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let s=0;s<r;s++){n=e[s];let l;if(a=n,!w8(n)&&(a=Qx[(l=String(n)).toLowerCase()],a===void 0))throw new ye(`Unknown adapter '${l}'`);if(a&&(W.isFunction(a)||(a=a.get(t))))break;i[l||"#"+s]=a}if(!a){const s=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?s.length>1?`since :
`+s.map(dk).join(`
`):" "+dk(s[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const qP={getAdapter:j8,adapters:Qx};function Cg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pl(null,e)}function fk(e){return Cg(e),e.headers=xr.from(e.headers),e.data=Eg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qP.getAdapter(e.adapter||Cu.adapter,e)(e).then(function(n){return Cg(e),n.data=Eg.call(e,e.transformResponse,n),n.headers=xr.from(n.headers),n},function(n){return UP(n)||(Cg(e),n&&n.response&&(n.response.data=Eg.call(e,e.transformResponse,n.response),n.response.headers=xr.from(n.response.headers))),Promise.reject(n)})}const YP="1.13.2",$m={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{$m[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const hk={};$m.transitional=function(t,r,n){function a(i,s){return"[Axios v"+YP+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return(i,s,l)=>{if(t===!1)throw new ye(a(s," has been removed"+(r?" in "+r:"")),ye.ERR_DEPRECATED);return r&&!hk[s]&&(hk[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,s,l):!0}};$m.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function k8(e,t,r){if(typeof e!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],s=t[i];if(s){const l=e[i],c=l===void 0||s(l,i,e);if(c!==!0)throw new ye("option "+i+" must be "+c,ye.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ye("Unknown option "+i,ye.ERR_BAD_OPTION)}}const _f={assertOptions:k8,validators:$m},Tn=_f.validators;let ds=class{constructor(t){this.defaults=t||{},this.interceptors={request:new tk,response:new tk}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ks(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&_f.assertOptions(n,{silentJSONParsing:Tn.transitional(Tn.boolean),forcedJSONParsing:Tn.transitional(Tn.boolean),clarifyTimeoutError:Tn.transitional(Tn.boolean)},!1),a!=null&&(W.isFunction(a)?r.paramsSerializer={serialize:a}:_f.assertOptions(a,{encode:Tn.function,serialize:Tn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),_f.assertOptions(r,{baseUrl:Tn.spelling("baseURL"),withXsrfToken:Tn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=i&&W.merge(i.common,i[r.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=xr.concat(s,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,h;if(!c){const p=[fk.bind(this),void 0];for(p.unshift(...l),p.push(...u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=l.length;let m=r;for(;f<h;){const p=l[f++],v=l[f++];try{m=p(m)}catch(x){v.call(this,x);break}}try{d=fk.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=ks(this.defaults,t);const r=VP(t.baseURL,t.url,t.allowAbsoluteUrls);return zP(r,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){ds.prototype[t]=function(r,n){return this.request(ks(n||{},{method:t,url:r,data:(n||{}).data}))}});W.forEach(["post","put","patch"],function(t){function r(n){return function(i,s,l){return this.request(ks(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}ds.prototype[t]=r(),ds.prototype[t+"Form"]=r(!0)});let N8=class GP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(l=>{n.subscribe(l),i=l}).then(a);return s.cancel=function(){n.unsubscribe(i)},s},t(function(i,s,l){n.reason||(n.reason=new pl(i,s,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new GP(function(a){t=a}),cancel:t}}};function _8(e){return function(r){return e.apply(null,r)}}function S8(e){return W.isObject(e)&&e.isAxiosError===!0}const Ny={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ny).forEach(([e,t])=>{Ny[t]=e});function XP(e){const t=new ds(e),r=EP(ds.prototype.request,t);return W.extend(r,ds.prototype,t,{allOwnKeys:!0}),W.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return XP(ks(e,a))},r}const ot=XP(Cu);ot.Axios=ds;ot.CanceledError=pl;ot.CancelToken=N8;ot.isCancel=UP;ot.VERSION=YP;ot.toFormData=Lm;ot.AxiosError=ye;ot.Cancel=ot.CanceledError;ot.all=function(t){return Promise.all(t)};ot.spread=_8;ot.isAxiosError=S8;ot.mergeConfig=ks;ot.AxiosHeaders=xr;ot.formToJSON=e=>BP(W.isHTMLForm(e)?new FormData(e):e);ot.getAdapter=qP.getAdapter;ot.HttpStatusCode=Ny;ot.default=ot;const{Axios:Zde,AxiosError:Jde,CanceledError:efe,isCancel:tfe,CancelToken:rfe,VERSION:nfe,all:afe,Cancel:ife,isAxiosError:sfe,spread:ofe,toFormData:lfe,AxiosHeaders:cfe,HttpStatusCode:ufe,formToJSON:dfe,getAdapter:ffe,mergeConfig:hfe}=ot,E8="/api",ct=ot.create({baseURL:E8,headers:{"Content-Type":"application/json"}}),C8=async e=>(await ct.post("/pipeline/preview",e)).data,P8=async e=>(await ct.get(`/pipeline/datasets/${e}/schema`)).data,O8=async(e,t)=>(await ct.post(`/pipeline/save/${e}`,t)).data,A8=async e=>{const t=await ct.get(`/pipeline/load/${e}`);return t.data?t.data:null},Ht={runPipeline:async e=>(await ct.post("/pipeline/run",e)).data,getJob:async e=>(await ct.get(`/pipeline/jobs/${e}`)).data,cancelJob:async e=>{await ct.post(`/pipeline/jobs/${e}/cancel`)},getJobs:async(e=10,t=0,r)=>{const n={limit:e,skip:t};return r&&(n.job_type=r),(await ct.get("/pipeline/jobs",{params:n})).data},getHyperparameters:async e=>(await ct.get(`/pipeline/hyperparameters/${e}`)).data,getDefaultSearchSpace:async e=>(await ct.get(`/pipeline/hyperparameters/${e}/defaults`)).data,getLatestTuningJob:async e=>(await ct.get(`/pipeline/jobs/tuning/latest/${e}`)).data,getBestTuningJob:async e=>(await ct.get(`/pipeline/jobs/tuning/best/${e}`)).data,getTuningHistory:async e=>(await ct.get(`/pipeline/jobs/tuning/history/${e}`)).data},T8=()=>{const[e,t]=y.useState(null),[r,n]=y.useState([]),[a,i]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{const[l,c]=await Promise.all([ct.get("/pipeline/stats"),Ht.getJobs(5,0,"training")]);t(l.data),n(Array.isArray(c)?c:[])}catch(l){console.error("Failed to fetch dashboard data:",l)}finally{i(!1)}})()},[]),o.jsxs("div",{className:"p-8 space-y-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Dashboard"}),o.jsx(ju,{to:"/canvas",className:"text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:"New Experiment"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(Pg,{title:"Total Jobs",value:(e==null?void 0:e.total_jobs)??"-",loading:a,subtext:`${(e==null?void 0:e.training_jobs)??0} Training, ${(e==null?void 0:e.tuning_jobs)??0} Tuning`}),o.jsx(Pg,{title:"Active Deployments",value:(e==null?void 0:e.active_deployments)??"-",loading:a,color:"text-green-600 dark:text-green-400"}),o.jsx(Pg,{title:"Data Sources",value:(e==null?void 0:e.data_sources)??"-",loading:a})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-900 dark:text-slate-100",children:"Recent Activity"}),a?o.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Loading..."}):r.length===0?o.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No recent jobs found."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Job ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:r.map(s=>o.jsxs("tr",{children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",title:s.job_id,children:[s.job_id.substring(0,8),"..."]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:s.model_type}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${s.status==="succeeded"?"bg-green-100 text-green-800":s.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:s.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(s.created_at).toLocaleString()})]},s.job_id))})]})})]})]})},Pg=({title:e,value:t,loading:r,subtext:n,color:a="text-slate-900 dark:text-slate-100"})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),o.jsx("div",{className:`mt-2 text-3xl font-bold ${a}`,children:r?"...":t}),n&&o.jsx("div",{className:"mt-1 text-xs text-slate-400 dark:text-slate-500",children:n})]}),Md="/data/api",Og="/api/ingestion",Ea={getAll:async()=>{const e=await fetch(`${Md}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},upload:async e=>{const t=new FormData;t.append("file",e);const r=await fetch(`${Og}/upload`,{method:"POST",body:t});if(!r.ok){const n=await r.json();throw new Error(n.detail||"Failed to upload file")}return await r.json()},createSource:async e=>{const t=await fetch(`${Og}/database`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to create data source")}return await t.json()},getIngestionStatus:async e=>{const t=await fetch(`${Og}/${e}/status`);if(!t.ok)throw new Error("Failed to fetch ingestion status");return await t.json()},getById:async e=>{const t=await fetch(`${Md}/sources/${e}`);if(!t.ok)throw new Error("Failed to fetch dataset");return(await t.json()).source},getSample:async(e,t=1)=>{const r=await fetch(`${Md}/sources/${e}/sample?limit=${t}`);if(!r.ok)throw new Error("Failed to fetch dataset sample");return(await r.json()).data},delete:async e=>{if(!(await fetch(`${Md}/sources/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete dataset")},getProfile:async e=>{const t=await fetch(`/ml-workflow/api/analytics/quick-profile?dataset_source_id=${e}`);if(!t.ok)throw new Error("Failed to fetch dataset profile");return await t.json()}},QP=({onUploadComplete:e,onCancel:t})=>{const[r,n]=y.useState(!1),[a,i]=y.useState(!1),[s,l]=y.useState(null),[c,u]=y.useState(0),d=y.useCallback(p=>{p.preventDefault(),p.stopPropagation(),p.type==="dragenter"||p.type==="dragover"?n(!0):p.type==="dragleave"&&n(!1)},[]),f=y.useCallback(p=>{p.preventDefault(),p.stopPropagation(),n(!1),p.dataTransfer.files&&p.dataTransfer.files[0]&&m(p.dataTransfer.files[0])},[]),h=p=>{p.preventDefault(),p.target.files&&p.target.files[0]&&m(p.target.files[0])},m=async p=>{i(!0),l(null),u(0);try{const v=await Ea.upload(p);e(v.job_id,p.name)}catch(v){console.error("Upload failed:",v),l(v.message||"Failed to upload file. Please try again.")}finally{i(!1)}};return o.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-900 dark:border-slate-700 relative",children:[o.jsx("button",{onClick:t,className:"absolute top-2 right-2 p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full text-slate-500 dark:text-slate-400",children:o.jsx(br,{size:16})}),o.jsxs("h3",{className:"font-medium mb-4 flex items-center gap-2 text-slate-900 dark:text-slate-100",children:[o.jsx(YF,{size:18,className:"text-blue-600 dark:text-blue-400"}),"Upload New Dataset"]}),o.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-slate-300 dark:border-slate-700 hover:border-slate-400 dark:hover:border-slate-600"}`,onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:f,children:a?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Uploading... ",c,"%"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(kF,{className:"w-10 h-10 text-slate-400 dark:text-slate-500 mx-auto mb-3"}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:["Drag and drop your file here, or"," ",o.jsxs("label",{className:"text-blue-600 dark:text-blue-400 hover:underline cursor-pointer font-medium",children:["browse",o.jsx("input",{type:"file",className:"hidden",accept:".csv,.xlsx,.parquet,.json",onChange:h})]})]}),o.jsx("p",{className:"text-xs text-slate-400",children:"Supports CSV, Excel, Parquet, JSON"})]})}),s&&o.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 text-sm rounded-md flex items-start gap-2",children:[o.jsx(Sa,{size:16,className:"mt-0.5 shrink-0"}),o.jsx("span",{children:s})]})]})},ZP=(e,t=2)=>{if(!+e)return"0 Bytes";const r=1024,n=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,i)).toFixed(n))} ${a[i]}`},M8=({dataset:e,isOpen:t,onClose:r})=>{const[n,a]=y.useState([]),[i,s]=y.useState(null),[l,c]=y.useState(!1),[u,d]=y.useState(null),[f,h]=y.useState("sample"),[m,p]=y.useState(100);y.useEffect(()=>{t&&e?v(100):(a([]),s(null),d(null),h("sample"),p(100))},[t,e]);const v=async k=>{if(e){c(!0),d(null);try{const[_,N]=await Promise.all([Ea.getSample(e.id,k),Ea.getProfile(e.id)]);a(_),s(N)}catch(_){console.error("Failed to fetch data:",_),d("Failed to load dataset preview.")}finally{c(!1)}}},x=()=>{const k=m+500;p(k),v(k)};if(!t||!e)return null;const g=n.length>0?Object.keys(n[0]):[],w=(i==null?void 0:i.metrics.row_count)??e.rows??0,b=(i==null?void 0:i.metrics.column_count)??e.columns??0,j=e.size_bytes??0;return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400",children:o.jsx(Vn,{size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:e.name}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 dark:text-slate-400 mt-1",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Vx,{size:14})," ",e.format||"CSV"]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(fF,{size:14})," ",w.toLocaleString()," rows"]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(xF,{size:14})," ",b," columns"]}),o.jsx("span",{children:""}),o.jsx("span",{children:ZP(j)})]})]})]}),o.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:o.jsx(br,{size:20})})]}),o.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-6",children:[o.jsx("button",{onClick:()=>h("sample"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="sample"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Data Sample"}),o.jsx("button",{onClick:()=>h("stats"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="stats"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Statistics"})]}),o.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),o.jsx("p",{children:"Loading preview data..."})]}):u?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx("p",{children:u}),o.jsx("button",{onClick:()=>v(m),className:"mt-4 px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 rounded-md text-sm font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Retry"})]}):f==="sample"?n.length===0?o.jsx("div",{className:"text-center py-12 text-slate-500",children:"No data available to preview."}):g.length===0?o.jsx("div",{className:"text-center py-12 text-slate-500",children:"Data loaded but no columns found."}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10",children:o.jsx("tr",{children:g.map(k=>o.jsx("th",{className:"px-4 py-3 font-semibold whitespace-nowrap bg-slate-50 dark:bg-slate-800",children:k},k))})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n.map((k,_)=>o.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:g.map(N=>o.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700 dark:text-slate-300",children:String(k[N]??"")},`${_}-${N}`))},_))})]})})}),o.jsxs("div",{className:"flex justify-center items-center gap-4",children:[o.jsx("button",{onClick:x,className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"Load More (+500 rows)"}),o.jsxs("span",{className:"text-xs text-slate-500",children:["Showing first ",n.length," rows"]})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Id,{label:"Total Rows",value:i==null?void 0:i.metrics.row_count.toLocaleString()}),o.jsx(Id,{label:"Total Columns",value:i==null?void 0:i.metrics.column_count}),o.jsx(Id,{label:"Missing Cells",value:i==null?void 0:i.metrics.missing_cells.toLocaleString()}),o.jsx(Id,{label:"Missing %",value:`${i==null?void 0:i.metrics.missing_percentage}%`})]}),o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Column"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Type"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Missing"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Unique"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Min"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Max"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Mean"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Std Dev"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:i==null?void 0:i.columns.map(k=>{var _,N,S,E,T,O,P,L;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-slate-900 dark:text-slate-100",children:k.name}),o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-500",children:k.dtype}),o.jsxs("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:[k.missing_count," ",o.jsxs("span",{className:"text-xs text-slate-400",children:["(",k.missing_percentage,"%)"]})]}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:k.distinct_count}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((N=(_=k.numeric_summary)==null?void 0:_.minimum)==null?void 0:N.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((E=(S=k.numeric_summary)==null?void 0:S.maximum)==null?void 0:E.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((O=(T=k.numeric_summary)==null?void 0:T.mean)==null?void 0:O.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((L=(P=k.numeric_summary)==null?void 0:P.std)==null?void 0:L.toFixed(2))??"-"})]},k.name)})})]})})]})}),o.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 flex justify-end rounded-b-xl",children:o.jsx("button",{onClick:r,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})},Id=({label:e,value:t})=>o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:e}),o.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mt-1",children:t??"-"})]}),I8=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=y.useState("database"),[i,s]=y.useState(""),[l,c]=y.useState(""),[u,d]=y.useState(""),[f,h]=y.useState(""),[m,p]=y.useState("GET"),[v,x]=y.useState(!1),[g,w]=y.useState(null);if(!e)return null;const b=async j=>{j.preventDefault(),x(!0),w(null);try{const k={};n==="database"?(k.connection_string=l,k.query=u):(k.url=f,k.method=m);const _={name:i,type:n,config:k,description:`Imported from ${n}`},N=await Ea.createSource(_);r(N.job_id),t()}catch(k){w(k.message||"Failed to create source")}finally{x(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md overflow-hidden border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"font-semibold text-lg text-slate-900 dark:text-slate-100",children:"Add Data Source"}),o.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:o.jsx(br,{size:20})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex gap-2 mb-6",children:[o.jsxs("button",{onClick:()=>a("database"),className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="database"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[o.jsx(Vn,{size:16})," Database"]}),o.jsxs("button",{onClick:()=>a("api"),className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="api"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[o.jsx(PF,{size:16})," API"]})]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name"}),o.jsx("input",{type:"text",required:!0,value:i,onChange:j=>s(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"My Dataset"})]}),n==="database"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Connection String"}),o.jsx("input",{type:"text",required:!0,value:l,onChange:j=>c(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"postgresql://user:pass@localhost:5432/db"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"SQL Query"}),o.jsx("textarea",{required:!0,value:u,onChange:j=>d(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 h-24",placeholder:"SELECT * FROM users"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"API URL"}),o.jsx("input",{type:"url",required:!0,value:f,onChange:j=>h(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"https://api.example.com/data"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Method"}),o.jsxs("select",{value:m,onChange:j=>p(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"GET",children:"GET"}),o.jsx("option",{value:"POST",children:"POST"})]})]})]}),g&&o.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-md",children:g}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-md",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center gap-2 disabled:opacity-50",children:v?"Creating...":o.jsxs(o.Fragment,{children:[o.jsx(zc,{size:16})," Create Source"]})})]})]})]})]})})},D8=({isOpen:e,onClose:t,datasets:r})=>{if(!e)return null;const n=r.map(a=>{var i,s,l,c;return{id:a.id,name:a.name,status:((s=(i=a.source_metadata)==null?void 0:i.ingestion_status)==null?void 0:s.status)||"completed",created_at:a.created_at,message:((c=(l=a.source_metadata)==null?void 0:l.ingestion_status)==null?void 0:c.error)||"Ingestion completed successfully"}}).sort((a,i)=>new Date(i.created_at).getTime()-new Date(a.created_at).getTime());return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Data Ingestion Jobs"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300",children:o.jsx(br,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.length===0?o.jsx("div",{className:"text-center text-slate-500 py-8",children:"No ingestion jobs found."}):o.jsx("div",{className:"space-y-4",children:n.map(a=>o.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:[o.jsx("div",{className:"mt-1",children:a.status==="processing"||a.status==="pending"?o.jsx(ya,{className:"text-blue-500 animate-spin",size:20}):a.status==="failed"?o.jsx(yP,{className:"text-red-500",size:20}):o.jsx(zo,{className:"text-green-500",size:20})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:a.name}),o.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[o.jsx(vP,{size:12}),new Date(a.created_at).toLocaleString()]})]}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Status: ",o.jsx("span",{className:"capitalize",children:a.status})]}),a.status==="failed"&&o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1 bg-red-50 dark:bg-red-900/10 p-2 rounded",children:a.message})]})]},a.id))})})]})})},R8=()=>{const e=sP(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,s]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(null),[m,p]=y.useState(null),v=async()=>{t.length===0&&a(!0);try{const k=await Ea.getAll();r(k)}catch(k){console.error("Failed to fetch datasets:",k)}finally{a(!1)}};y.useEffect(()=>{v();const k=setInterval(()=>{t.some(N=>{var S,E,T,O;return((E=(S=N.source_metadata)==null?void 0:S.ingestion_status)==null?void 0:E.status)==="pending"||((O=(T=N.source_metadata)==null?void 0:T.ingestion_status)==null?void 0:O.status)==="processing"})&&v()},5e3);return()=>clearInterval(k)},[t]);const x=async k=>{if(window.confirm("Are you sure you want to delete this dataset?")){h(k);try{await Ea.delete(k),r(t.filter(_=>_.id!==k))}catch(_){console.error("Failed to delete dataset:",_),alert("Failed to delete dataset")}finally{h(null)}}},g=k=>{e(`/canvas?source_id=${k}`)},w=()=>{s(!1),v()},b=()=>{c(!1),v()},j=k=>{var N,S;const _=(S=(N=k.source_metadata)==null?void 0:N.ingestion_status)==null?void 0:S.status;return!_||_==="completed"?null:_==="failed"?o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Failed"}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:[o.jsx(ya,{size:12,className:"animate-spin"}),_==="processing"?"Processing...":"Pending..."]})};return o.jsxs("div",{className:"p-8 space-y-6 max-w-7xl mx-auto",children:[o.jsx(M8,{dataset:m,isOpen:!!m,onClose:()=>p(null)}),o.jsx(I8,{isOpen:l,onClose:()=>c(!1),onSuccess:b}),o.jsx(D8,{isOpen:u,onClose:()=>d(!1),datasets:t}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Data Sources"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your uploaded datasets and use them in experiments."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-slate-700 dark:text-slate-200",children:[o.jsx(by,{size:18}),"Ingestion Jobs"]}),o.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-600 px-4 py-2 rounded-md shadow-sm transition-all hover:bg-slate-50 dark:hover:bg-slate-700",children:[o.jsx(Vn,{size:18}),"Add Source"]}),o.jsxs("button",{onClick:()=>s(!i),className:"flex items-center gap-2 text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:[o.jsx(Rs,{size:18}),i?"Cancel Upload":"Upload File"]})]})]}),i&&o.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm animate-in fade-in slide-in-from-top-4",children:o.jsx(QP,{onUploadComplete:w,onCancel:()=>s(!1)})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Dataset Name"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Format"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Size"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Created"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n&&t.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500 dark:text-slate-400",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),"Loading datasets..."]})})}):t.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:[o.jsx(Vn,{className:"w-12 h-12 mx-auto text-slate-300 dark:text-slate-600 mb-3"}),o.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets found"}),o.jsx("p",{className:"text-sm",children:"Upload a dataset to get started with your analysis."})]})}):t.map(k=>{var _;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-blue-600 dark:text-blue-400",children:o.jsx(Vx,{size:18})}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[k.name,j(k)]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono mt-0.5",title:"Dataset ID",children:k.source_id||k.id})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 uppercase border border-slate-200 dark:border-slate-700",children:k.format||"CSV"})}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:ZP(k.size_bytes||0)}),o.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:[((_=k.rows)==null?void 0:_.toLocaleString())||"-"," rows  ",k.columns||"-"," cols"]})]})}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(by,{size:14,className:"text-slate-400 dark:text-slate-500"}),new Date(k.created_at).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>p(k),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Preview Dataset",children:o.jsx(jF,{size:16})}),o.jsxs("button",{onClick:()=>g(k.id),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Use in Canvas",children:[o.jsx(Nu,{size:16}),"Canvas"]}),o.jsx("button",{onClick:()=>x(k.id),disabled:f===k.id,className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors disabled:opacity-50",title:"Delete Dataset",children:f===k.id?o.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):o.jsx(Ti,{size:16})})]})})]},k.id)})})]})})})]})},Wi=class Wi{constructor(){Cl(this,"nodes",new Map)}static getInstance(){return Wi.instance||(Wi.instance=new Wi),Wi.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t),console.log(`[Registry] Registered node: ${t.label} (${t.type})`)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(r=>{t[r.category]||(t[r.category]=[]),t[r.category].push(r)}),t}};Cl(Wi,"instance");let _y=Wi;const Ne=_y.getInstance(),L8={},mk=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(p=>p(t,m))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(L8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},JP=e=>e?mk(e):mk;var eO={exports:{}},tO={},rO={exports:{}},nO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uo=y;function $8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var z8=typeof Object.is=="function"?Object.is:$8,F8=Uo.useState,B8=Uo.useEffect,U8=Uo.useLayoutEffect,H8=Uo.useDebugValue;function V8(e,t){var r=t(),n=F8({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return U8(function(){a.value=r,a.getSnapshot=t,Ag(a)&&i({inst:a})},[e,r,t]),B8(function(){return Ag(a)&&i({inst:a}),e(function(){Ag(a)&&i({inst:a})})},[e]),H8(r),r}function Ag(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!z8(e,r)}catch{return!0}}function W8(e,t){return t()}var K8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?W8:V8;nO.useSyncExternalStore=Uo.useSyncExternalStore!==void 0?Uo.useSyncExternalStore:K8;rO.exports=nO;var q8=rO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=y,Y8=q8;function G8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var X8=typeof Object.is=="function"?Object.is:G8,Q8=Y8.useSyncExternalStore,Z8=zm.useRef,J8=zm.useEffect,eB=zm.useMemo,tB=zm.useDebugValue;tO.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Z8(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=eB(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&s.hasValue){var p=s.value;if(a(p,m))return f=p}return f=m}if(p=f,X8(d,m))return p;var v=n(m);return a!==void 0&&a(p,v)?(d=m,p):(d=m,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=Q8(e,i[0],i[1]);return J8(function(){s.hasValue=!0,s.value=l},[l]),tB(l),l};eO.exports=tO;var aO=eO.exports;const iO=Xn(aO),sO={},{useDebugValue:rB}=Yr,{useSyncExternalStoreWithSelector:nB}=iO;let pk=!1;const aB=e=>e;function iB(e,t=aB,r){(sO?"production":void 0)!=="production"&&r&&!pk&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),pk=!0);const n=nB(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return rB(n),n}const gk=e=>{(sO?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?JP(e):e,r=(n,a)=>iB(t,n,a);return Object.assign(r,t),r},Zx=e=>e?gk(e):gk;function ht(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=ht(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var sB={value:()=>{}};function Fm(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Sf(r)}function Sf(e){this._=e}function oB(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Sf.prototype=Fm.prototype={constructor:Sf,on:function(e,t){var r=this._,n=oB(e+"",r),a,i=-1,s=n.length;if(arguments.length<2){for(;++i<s;)if((a=(e=n[i]).type)&&(a=lB(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(a=(e=n[i]).type)r[a]=yk(r[a],e.name,t);else if(t==null)for(a in r)r[a]=yk(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Sf(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,i;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,i=n.length;a<i;++a)n[a].value.apply(t,r)}};function lB(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function yk(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=sB,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Sy="http://www.w3.org/1999/xhtml";const vk={svg:"http://www.w3.org/2000/svg",xhtml:Sy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bm(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),vk.hasOwnProperty(t)?{space:vk[t],local:e}:e}function cB(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Sy&&t.documentElement.namespaceURI===Sy?t.createElement(e):t.createElementNS(r,e)}}function uB(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function oO(e){var t=Bm(e);return(t.local?uB:cB)(t)}function dB(){}function Jx(e){return e==null?dB:function(){return this.querySelector(e)}}function fB(e){typeof e!="function"&&(e=Jx(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],s=i.length,l=n[a]=new Array(s),c,u,d=0;d<s;++d)(c=i[d])&&(u=e.call(c,c.__data__,d,i))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Ir(n,this._parents)}function hB(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function mB(){return[]}function lO(e){return e==null?mB:function(){return this.querySelectorAll(e)}}function pB(e){return function(){return hB(e.apply(this,arguments))}}function gB(e){typeof e=="function"?e=pB(e):e=lO(e);for(var t=this._groups,r=t.length,n=[],a=[],i=0;i<r;++i)for(var s=t[i],l=s.length,c,u=0;u<l;++u)(c=s[u])&&(n.push(e.call(c,c.__data__,u,s)),a.push(c));return new Ir(n,a)}function cO(e){return function(){return this.matches(e)}}function uO(e){return function(t){return t.matches(e)}}var yB=Array.prototype.find;function vB(e){return function(){return yB.call(this.children,e)}}function xB(){return this.firstElementChild}function bB(e){return this.select(e==null?xB:vB(typeof e=="function"?e:uO(e)))}var wB=Array.prototype.filter;function jB(){return Array.from(this.children)}function kB(e){return function(){return wB.call(this.children,e)}}function NB(e){return this.selectAll(e==null?jB:kB(typeof e=="function"?e:uO(e)))}function _B(e){typeof e!="function"&&(e=cO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],s=i.length,l=n[a]=[],c,u=0;u<s;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new Ir(n,this._parents)}function dO(e){return new Array(e.length)}function SB(){return new Ir(this._enter||this._groups.map(dO),this._parents)}function dh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}dh.prototype={constructor:dh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function EB(e){return function(){return e}}function CB(e,t,r,n,a,i){for(var s=0,l,c=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],n[s]=l):r[s]=new dh(e,i[s]);for(;s<c;++s)(l=t[s])&&(a[s]=l)}function PB(e,t,r,n,a,i,s){var l,c,u=new Map,d=t.length,f=i.length,h=new Array(d),m;for(l=0;l<d;++l)(c=t[l])&&(h[l]=m=s.call(c,c.__data__,l,t)+"",u.has(m)?a[l]=c:u.set(m,c));for(l=0;l<f;++l)m=s.call(e,i[l],l,i)+"",(c=u.get(m))?(n[l]=c,c.__data__=i[l],u.delete(m)):r[l]=new dh(e,i[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(h[l])===c&&(a[l]=c)}function OB(e){return e.__data__}function AB(e,t){if(!arguments.length)return Array.from(this,OB);var r=t?PB:CB,n=this._parents,a=this._groups;typeof e!="function"&&(e=EB(e));for(var i=a.length,s=new Array(i),l=new Array(i),c=new Array(i),u=0;u<i;++u){var d=n[u],f=a[u],h=f.length,m=TB(e.call(d,d&&d.__data__,u,n)),p=m.length,v=l[u]=new Array(p),x=s[u]=new Array(p),g=c[u]=new Array(h);r(d,f,v,x,g,m,t);for(var w=0,b=0,j,k;w<p;++w)if(j=v[w]){for(w>=b&&(b=w+1);!(k=x[b])&&++b<p;);j._next=k||null}}return s=new Ir(s,n),s._enter=l,s._exit=c,s}function TB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MB(){return new Ir(this._exit||this._groups.map(dO),this._parents)}function IB(e,t,r){var n=this.enter(),a=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?i.remove():r(i),n&&a?n.merge(a).order():a}function DB(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,i=n.length,s=Math.min(a,i),l=new Array(a),c=0;c<s;++c)for(var u=r[c],d=n[c],f=u.length,h=l[c]=new Array(f),m,p=0;p<f;++p)(m=u[p]||d[p])&&(h[p]=m);for(;c<a;++c)l[c]=r[c];return new Ir(l,this._parents)}function RB(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,i=n[a],s;--a>=0;)(s=n[a])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function LB(e){e||(e=$B);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var r=this._groups,n=r.length,a=new Array(n),i=0;i<n;++i){for(var s=r[i],l=s.length,c=a[i]=new Array(l),u,d=0;d<l;++d)(u=s[d])&&(c[d]=u);c.sort(t)}return new Ir(a,this._parents).order()}function $B(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function zB(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function FB(){return Array.from(this)}function BB(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length;a<i;++a){var s=n[a];if(s)return s}return null}function UB(){let e=0;for(const t of this)++e;return e}function HB(){return!this.node()}function VB(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],i=0,s=a.length,l;i<s;++i)(l=a[i])&&e.call(l,l.__data__,i,a);return this}function WB(e){return function(){this.removeAttribute(e)}}function KB(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qB(e,t){return function(){this.setAttribute(e,t)}}function YB(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function GB(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function XB(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function QB(e,t){var r=Bm(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?KB:WB:typeof t=="function"?r.local?XB:GB:r.local?YB:qB)(r,t))}function fO(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ZB(e){return function(){this.style.removeProperty(e)}}function JB(e,t,r){return function(){this.style.setProperty(e,t,r)}}function e7(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function t7(e,t,r){return arguments.length>1?this.each((t==null?ZB:typeof t=="function"?e7:JB)(e,t,r??"")):Ho(this.node(),e)}function Ho(e,t){return e.style.getPropertyValue(t)||fO(e).getComputedStyle(e,null).getPropertyValue(t)}function r7(e){return function(){delete this[e]}}function n7(e,t){return function(){this[e]=t}}function a7(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function i7(e,t){return arguments.length>1?this.each((t==null?r7:typeof t=="function"?a7:n7)(e,t)):this.node()[e]}function hO(e){return e.trim().split(/^|\s+/)}function eb(e){return e.classList||new mO(e)}function mO(e){this._node=e,this._names=hO(e.getAttribute("class")||"")}mO.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function pO(e,t){for(var r=eb(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function gO(e,t){for(var r=eb(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function s7(e){return function(){pO(this,e)}}function o7(e){return function(){gO(this,e)}}function l7(e,t){return function(){(t.apply(this,arguments)?pO:gO)(this,e)}}function c7(e,t){var r=hO(e+"");if(arguments.length<2){for(var n=eb(this.node()),a=-1,i=r.length;++a<i;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?l7:t?s7:o7)(r,t))}function u7(){this.textContent=""}function d7(e){return function(){this.textContent=e}}function f7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function h7(e){return arguments.length?this.each(e==null?u7:(typeof e=="function"?f7:d7)(e)):this.node().textContent}function m7(){this.innerHTML=""}function p7(e){return function(){this.innerHTML=e}}function g7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function y7(e){return arguments.length?this.each(e==null?m7:(typeof e=="function"?g7:p7)(e)):this.node().innerHTML}function v7(){this.nextSibling&&this.parentNode.appendChild(this)}function x7(){return this.each(v7)}function b7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function w7(){return this.each(b7)}function j7(e){var t=typeof e=="function"?e:oO(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function k7(){return null}function N7(e,t){var r=typeof e=="function"?e:oO(e),n=t==null?k7:typeof t=="function"?t:Jx(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function _7(){var e=this.parentNode;e&&e.removeChild(this)}function S7(){return this.each(_7)}function E7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function C7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function P7(e){return this.select(e?C7:E7)}function O7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function A7(e){return function(t){e.call(this,t,this.__data__)}}function T7(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function M7(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,i;r<a;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function I7(e,t,r){return function(){var n=this.__on,a,i=A7(t);if(n){for(var s=0,l=n.length;s<l;++s)if((a=n[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=r),a.value=t;return}}this.addEventListener(e.type,i,r),a={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(a):this.__on=[a]}}function D7(e,t,r){var n=T7(e+""),a,i=n.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(a=0,d=l[c];a<i;++a)if((s=n[a]).type===d.type&&s.name===d.name)return d.value}return}for(l=t?I7:M7,a=0;a<i;++a)this.each(l(n[a],t,r));return this}function yO(e,t,r){var n=fO(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function R7(e,t){return function(){return yO(this,e,t)}}function L7(e,t){return function(){return yO(this,e,t.apply(this,arguments))}}function $7(e,t){return this.each((typeof t=="function"?L7:R7)(e,t))}function*z7(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length,s;a<i;++a)(s=n[a])&&(yield s)}var vO=[null];function Ir(e,t){this._groups=e,this._parents=t}function Pu(){return new Ir([[document.documentElement]],vO)}function F7(){return this}Ir.prototype=Pu.prototype={constructor:Ir,select:fB,selectAll:gB,selectChild:bB,selectChildren:NB,filter:_B,data:AB,enter:SB,exit:MB,join:IB,merge:DB,selection:F7,order:RB,sort:LB,call:zB,nodes:FB,node:BB,size:UB,empty:HB,each:VB,attr:QB,style:t7,property:i7,classed:c7,text:h7,html:y7,raise:x7,lower:w7,append:j7,insert:N7,remove:S7,clone:P7,datum:O7,on:D7,dispatch:$7,[Symbol.iterator]:z7};function Er(e){return typeof e=="string"?new Ir([[document.querySelector(e)]],[document.documentElement]):new Ir([[e]],vO)}function B7(e){let t;for(;t=e.sourceEvent;)e=t;return e}function fn(e,t){if(e=B7(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const U7={passive:!1},Fc={capture:!0,passive:!1};function Tg(e){e.stopImmediatePropagation()}function yo(e){e.preventDefault(),e.stopImmediatePropagation()}function xO(e){var t=e.document.documentElement,r=Er(e).on("dragstart.drag",yo,Fc);"onselectstart"in t?r.on("selectstart.drag",yo,Fc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function bO(e,t){var r=e.document.documentElement,n=Er(e).on("dragstart.drag",null);t&&(n.on("click.drag",yo,Fc),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Dd=e=>()=>e;function Ey(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:i,x:s,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Ey.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function H7(e){return!e.ctrlKey&&!e.button}function V7(){return this.parentNode}function W7(e,t){return t??{x:e.x,y:e.y}}function K7(){return navigator.maxTouchPoints||"ontouchstart"in this}function wO(){var e=H7,t=V7,r=W7,n=K7,a={},i=Fm("start","drag","end"),s=0,l,c,u,d,f=0;function h(j){j.on("mousedown.drag",m).filter(n).on("touchstart.drag",x).on("touchmove.drag",g,U7).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(j,k){if(!(d||!e.call(this,j,k))){var _=b(this,t.call(this,j,k),j,k,"mouse");_&&(Er(j.view).on("mousemove.drag",p,Fc).on("mouseup.drag",v,Fc),xO(j.view),Tg(j),u=!1,l=j.clientX,c=j.clientY,_("start",j))}}function p(j){if(yo(j),!u){var k=j.clientX-l,_=j.clientY-c;u=k*k+_*_>f}a.mouse("drag",j)}function v(j){Er(j.view).on("mousemove.drag mouseup.drag",null),bO(j.view,u),yo(j),a.mouse("end",j)}function x(j,k){if(e.call(this,j,k)){var _=j.changedTouches,N=t.call(this,j,k),S=_.length,E,T;for(E=0;E<S;++E)(T=b(this,N,j,k,_[E].identifier,_[E]))&&(Tg(j),T("start",j,_[E]))}}function g(j){var k=j.changedTouches,_=k.length,N,S;for(N=0;N<_;++N)(S=a[k[N].identifier])&&(yo(j),S("drag",j,k[N]))}function w(j){var k=j.changedTouches,_=k.length,N,S;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<_;++N)(S=a[k[N].identifier])&&(Tg(j),S("end",j,k[N]))}function b(j,k,_,N,S,E){var T=i.copy(),O=fn(E||_,k),P,L,C;if((C=r.call(j,new Ey("beforestart",{sourceEvent:_,target:h,identifier:S,active:s,x:O[0],y:O[1],dx:0,dy:0,dispatch:T}),N))!=null)return P=C.x-O[0]||0,L=C.y-O[1]||0,function D(I,R,A){var M=O,z;switch(I){case"start":a[S]=D,z=s++;break;case"end":delete a[S],--s;case"drag":O=fn(A||R,k),z=s;break}T.call(I,j,new Ey(I,{sourceEvent:R,subject:C,target:h,identifier:S,active:z,x:O[0]+P,y:O[1]+L,dx:O[0]-M[0],dy:O[1]-M[1],dispatch:T}),N)}}return h.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Dd(!!j),h):e},h.container=function(j){return arguments.length?(t=typeof j=="function"?j:Dd(j),h):t},h.subject=function(j){return arguments.length?(r=typeof j=="function"?j:Dd(j),h):r},h.touchable=function(j){return arguments.length?(n=typeof j=="function"?j:Dd(!!j),h):n},h.on=function(){var j=i.on.apply(i,arguments);return j===i?h:j},h.clickDistance=function(j){return arguments.length?(f=(j=+j)*j,h):Math.sqrt(f)},h}function tb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function jO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ou(){}var Bc=.7,fh=1/Bc,vo="\\s*([+-]?\\d+)\\s*",Uc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q7=/^#([0-9a-f]{3,8})$/,Y7=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),G7=new RegExp(`^rgb\\(${Hn},${Hn},${Hn}\\)$`),X7=new RegExp(`^rgba\\(${vo},${vo},${vo},${Uc}\\)$`),Q7=new RegExp(`^rgba\\(${Hn},${Hn},${Hn},${Uc}\\)$`),Z7=new RegExp(`^hsl\\(${Uc},${Hn},${Hn}\\)$`),J7=new RegExp(`^hsla\\(${Uc},${Hn},${Hn},${Uc}\\)$`),xk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tb(Ou,Ns,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bk,formatHex:bk,formatHex8:e9,formatHsl:t9,formatRgb:wk,toString:wk});function bk(){return this.rgb().formatHex()}function e9(){return this.rgb().formatHex8()}function t9(){return kO(this).formatHsl()}function wk(){return this.rgb().formatRgb()}function Ns(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=q7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?jk(t):r===3?new fr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Rd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Rd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Y7.exec(e))?new fr(t[1],t[2],t[3],1):(t=G7.exec(e))?new fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=X7.exec(e))?Rd(t[1],t[2],t[3],t[4]):(t=Q7.exec(e))?Rd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Z7.exec(e))?_k(t[1],t[2]/100,t[3]/100,1):(t=J7.exec(e))?_k(t[1],t[2]/100,t[3]/100,t[4]):xk.hasOwnProperty(e)?jk(xk[e]):e==="transparent"?new fr(NaN,NaN,NaN,0):null}function jk(e){return new fr(e>>16&255,e>>8&255,e&255,1)}function Rd(e,t,r,n){return n<=0&&(e=t=r=NaN),new fr(e,t,r,n)}function r9(e){return e instanceof Ou||(e=Ns(e)),e?(e=e.rgb(),new fr(e.r,e.g,e.b,e.opacity)):new fr}function Cy(e,t,r,n){return arguments.length===1?r9(e):new fr(e,t,r,n??1)}function fr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tb(fr,Cy,jO(Ou,{brighter(e){return e=e==null?fh:Math.pow(fh,e),new fr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bc:Math.pow(Bc,e),new fr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fr(fs(this.r),fs(this.g),fs(this.b),hh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kk,formatHex:kk,formatHex8:n9,formatRgb:Nk,toString:Nk}));function kk(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}`}function n9(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}${Qi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nk(){const e=hh(this.opacity);return`${e===1?"rgb(":"rgba("}${fs(this.r)}, ${fs(this.g)}, ${fs(this.b)}${e===1?")":`, ${e})`}`}function hh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qi(e){return e=fs(e),(e<16?"0":"")+e.toString(16)}function _k(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new pn(e,t,r,n)}function kO(e){if(e instanceof pn)return new pn(e.h,e.s,e.l,e.opacity);if(e instanceof Ou||(e=Ns(e)),!e)return new pn;if(e instanceof pn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new pn(s,l,c,e.opacity)}function a9(e,t,r,n){return arguments.length===1?kO(e):new pn(e,t,r,n??1)}function pn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tb(pn,a9,jO(Ou,{brighter(e){return e=e==null?fh:Math.pow(fh,e),new pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bc:Math.pow(Bc,e),new pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new fr(Mg(e>=240?e-240:e+120,a,n),Mg(e,a,n),Mg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new pn(Sk(this.h),Ld(this.s),Ld(this.l),hh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hh(this.opacity);return`${e===1?"hsl(":"hsla("}${Sk(this.h)}, ${Ld(this.s)*100}%, ${Ld(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Sk(e){return e=(e||0)%360,e<0?e+360:e}function Ld(e){return Math.max(0,Math.min(1,e||0))}function Mg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rb=e=>()=>e;function i9(e,t){return function(r){return e+r*t}}function s9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function o9(e){return(e=+e)==1?NO:function(t,r){return r-t?s9(t,r,e):rb(isNaN(t)?r:t)}}function NO(e,t){var r=t-e;return r?i9(e,r):rb(isNaN(e)?t:e)}const mh=function e(t){var r=o9(t);function n(a,i){var s=r((a=Cy(a)).r,(i=Cy(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=NO(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function l9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function c9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function u9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=va(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function d9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function mn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function f9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=va(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Py=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ig=new RegExp(Py.source,"g");function h9(e){return function(){return e}}function m9(e){return function(t){return e(t)+""}}function _O(e,t){var r=Py.lastIndex=Ig.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Py.exec(e))&&(a=Ig.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:mn(n,a)})),r=Ig.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?m9(c[0].x):h9(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function va(e,t){var r=typeof t,n;return t==null||r==="boolean"?rb(t):(r==="number"?mn:r==="string"?(n=Ns(t))?(t=n,mh):_O:t instanceof Ns?mh:t instanceof Date?d9:c9(t)?l9:Array.isArray(t)?u9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?f9:mn)(e,t)}function nb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Ek=180/Math.PI,Oy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function SO(e,t,r,n,a,i){var s,l,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,c/=l),e*n<t*r&&(e=-e,t=-t,c=-c,s=-s),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*Ek,skewX:Math.atan(c)*Ek,scaleX:s,scaleY:l}}var $d;function p9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Oy:SO(t.a,t.b,t.c,t.d,t.e,t.f)}function g9(e){return e==null||($d||($d=document.createElementNS("http://www.w3.org/2000/svg","g")),$d.setAttribute("transform",e),!(e=$d.transform.baseVal.consolidate()))?Oy:(e=e.matrix,SO(e.a,e.b,e.c,e.d,e.e,e.f))}function EO(e,t,r,n){function a(u){return u.length?u.pop()+" ":""}function i(u,d,f,h,m,p){if(u!==f||d!==h){var v=m.push("translate(",null,t,null,r);p.push({i:v-4,x:mn(u,f)},{i:v-2,x:mn(d,h)})}else(f||h)&&m.push("translate("+f+t+h+r)}function s(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(a(f)+"rotate(",null,n)-2,x:mn(u,d)})):d&&f.push(a(f)+"rotate("+d+n)}function l(u,d,f,h){u!==d?h.push({i:f.push(a(f)+"skewX(",null,n)-2,x:mn(u,d)}):d&&f.push(a(f)+"skewX("+d+n)}function c(u,d,f,h,m,p){if(u!==f||d!==h){var v=m.push(a(m)+"scale(",null,",",null,")");p.push({i:v-4,x:mn(u,f)},{i:v-2,x:mn(d,h)})}else(f!==1||h!==1)&&m.push(a(m)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,f,h),s(u.rotate,d.rotate,f,h),l(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(m){for(var p=-1,v=h.length,x;++p<v;)f[(x=h[p]).i]=x.x(m);return f.join("")}}}var y9=EO(p9,"px, ","px)","deg)"),v9=EO(g9,", ",")",")"),x9=1e-12;function Ck(e){return((e=Math.exp(e))+1/e)/2}function b9(e){return((e=Math.exp(e))-1/e)/2}function w9(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ef=function e(t,r,n){function a(i,s){var l=i[0],c=i[1],u=i[2],d=s[0],f=s[1],h=s[2],m=d-l,p=f-c,v=m*m+p*p,x,g;if(v<x9)g=Math.log(h/u)/t,x=function(N){return[l+N*m,c+N*p,u*Math.exp(t*N*g)]};else{var w=Math.sqrt(v),b=(h*h-u*u+n*v)/(2*u*r*w),j=(h*h-u*u-n*v)/(2*h*r*w),k=Math.log(Math.sqrt(b*b+1)-b),_=Math.log(Math.sqrt(j*j+1)-j);g=(_-k)/t,x=function(N){var S=N*g,E=Ck(k),T=u/(r*w)*(E*w9(t*S+k)-b9(k));return[l+T*m,c+T*p,u*E/Ck(t*S+k)]}}return x.duration=g*1e3*t/Math.SQRT2,x}return a.rho=function(i){var s=Math.max(.001,+i),l=s*s,c=l*l;return e(s,l,c)},a}(Math.SQRT2,2,4);function j9(e,t){t===void 0&&(t=e,e=va);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}var Vo=0,ec=0,zl=0,CO=1e3,ph,tc,gh=0,_s=0,Um=0,Hc=typeof performance=="object"&&performance.now?performance:Date,PO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ab(){return _s||(PO(k9),_s=Hc.now()+Um)}function k9(){_s=0}function yh(){this._call=this._time=this._next=null}yh.prototype=OO.prototype={constructor:yh,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?ab():+r)+(t==null?0:+t),!this._next&&tc!==this&&(tc?tc._next=this:ph=this,tc=this),this._call=e,this._time=r,Ay()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ay())}};function OO(e,t,r){var n=new yh;return n.restart(e,t,r),n}function N9(){ab(),++Vo;for(var e=ph,t;e;)(t=_s-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vo}function Pk(){_s=(gh=Hc.now())+Um,Vo=ec=0;try{N9()}finally{Vo=0,S9(),_s=0}}function _9(){var e=Hc.now(),t=e-gh;t>CO&&(Um-=t,gh=e)}function S9(){for(var e,t=ph,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:ph=r);tc=e,Ay(n)}function Ay(e){if(!Vo){ec&&(ec=clearTimeout(ec));var t=e-_s;t>24?(e<1/0&&(ec=setTimeout(Pk,e-Hc.now()-Um)),zl&&(zl=clearInterval(zl))):(zl||(gh=Hc.now(),zl=setInterval(_9,CO)),Vo=1,PO(Pk))}}function Ok(e,t,r){var n=new yh;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var E9=Fm("start","end","cancel","interrupt"),C9=[],AO=0,Ak=1,Ty=2,Cf=3,Tk=4,My=5,Pf=6;function Hm(e,t,r,n,a,i){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;P9(e,r,{name:t,index:n,group:a,on:E9,tween:C9,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:AO})}function ib(e,t){var r=Pn(e,t);if(r.state>AO)throw new Error("too late; already scheduled");return r}function Zn(e,t){var r=Pn(e,t);if(r.state>Cf)throw new Error("too late; already running");return r}function Pn(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function P9(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=OO(i,0,r.time);function i(u){r.state=Ak,r.timer.restart(s,r.delay,r.time),r.delay<=u&&s(u-r.delay)}function s(u){var d,f,h,m;if(r.state!==Ak)return c();for(d in n)if(m=n[d],m.name===r.name){if(m.state===Cf)return Ok(s);m.state===Tk?(m.state=Pf,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete n[d]):+d<t&&(m.state=Pf,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete n[d])}if(Ok(function(){r.state===Cf&&(r.state=Tk,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=Ty,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Ty){for(r.state=Cf,a=new Array(h=r.tween.length),d=0,f=-1;d<h;++d)(m=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(a[++f]=m);a.length=f+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=My,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);r.state===My&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=Pf,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function Of(e,t){var r=e.__transition,n,a,i=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){i=!1;continue}a=n.state>Ty&&n.state<My,n.state=Pf,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}i&&delete e.__transition}}function O9(e){return this.each(function(){Of(this,e)})}function A9(e,t){var r,n;return function(){var a=Zn(this,e),i=a.tween;if(i!==r){n=r=i;for(var s=0,l=n.length;s<l;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}a.tween=n}}function T9(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var i=Zn(this,e),s=i.tween;if(s!==n){a=(n=s).slice();for(var l={name:t,value:r},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=l;break}c===u&&a.push(l)}i.tween=a}}function M9(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Pn(this.node(),r).tween,a=0,i=n.length,s;a<i;++a)if((s=n[a]).name===e)return s.value;return null}return this.each((t==null?A9:T9)(r,e,t))}function sb(e,t,r){var n=e._id;return e.each(function(){var a=Zn(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return Pn(a,n).value[t]}}function TO(e,t){var r;return(typeof t=="number"?mn:t instanceof Ns?mh:(r=Ns(t))?(t=r,mh):_O)(e,t)}function I9(e){return function(){this.removeAttribute(e)}}function D9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function R9(e,t,r){var n,a=r+"",i;return function(){var s=this.getAttribute(e);return s===a?null:s===n?i:i=t(n=s,r)}}function L9(e,t,r){var n,a=r+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===n?i:i=t(n=s,r)}}function $9(e,t,r){var n,a,i;return function(){var s,l=r(this),c;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=l+"",s===c?null:s===n&&c===a?i:(a=c,i=t(n=s,l)))}}function z9(e,t,r){var n,a,i;return function(){var s,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=l+"",s===c?null:s===n&&c===a?i:(a=c,i=t(n=s,l)))}}function F9(e,t){var r=Bm(e),n=r==="transform"?v9:TO;return this.attrTween(e,typeof t=="function"?(r.local?z9:$9)(r,n,sb(this,"attr."+e,t)):t==null?(r.local?D9:I9)(r):(r.local?L9:R9)(r,n,t))}function B9(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function U9(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function H9(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&U9(e,i)),r}return a._value=t,a}function V9(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&B9(e,i)),r}return a._value=t,a}function W9(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Bm(e);return this.tween(r,(n.local?H9:V9)(n,t))}function K9(e,t){return function(){ib(this,e).delay=+t.apply(this,arguments)}}function q9(e,t){return t=+t,function(){ib(this,e).delay=t}}function Y9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?K9:q9)(t,e)):Pn(this.node(),t).delay}function G9(e,t){return function(){Zn(this,e).duration=+t.apply(this,arguments)}}function X9(e,t){return t=+t,function(){Zn(this,e).duration=t}}function Q9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?G9:X9)(t,e)):Pn(this.node(),t).duration}function Z9(e,t){if(typeof t!="function")throw new Error;return function(){Zn(this,e).ease=t}}function J9(e){var t=this._id;return arguments.length?this.each(Z9(t,e)):Pn(this.node(),t).ease}function eU(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Zn(this,e).ease=r}}function tU(e){if(typeof e!="function")throw new Error;return this.each(eU(this._id,e))}function rU(e){typeof e!="function"&&(e=cO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],s=i.length,l=n[a]=[],c,u=0;u<s;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new Ca(n,this._parents,this._name,this._id)}function nU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,i=Math.min(n,a),s=new Array(n),l=0;l<i;++l)for(var c=t[l],u=r[l],d=c.length,f=s[l]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;l<n;++l)s[l]=t[l];return new Ca(s,this._parents,this._name,this._id)}function aU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function iU(e,t,r){var n,a,i=aU(t)?ib:Zn;return function(){var s=i(this,e),l=s.on;l!==n&&(a=(n=l).copy()).on(t,r),s.on=a}}function sU(e,t){var r=this._id;return arguments.length<2?Pn(this.node(),r).on.on(e):this.each(iU(r,e,t))}function oU(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function lU(){return this.on("end.remove",oU(this._id))}function cU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Jx(e));for(var n=this._groups,a=n.length,i=new Array(a),s=0;s<a;++s)for(var l=n[s],c=l.length,u=i[s]=new Array(c),d,f,h=0;h<c;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,Hm(u[h],t,r,h,u,Pn(d,r)));return new Ca(i,this._parents,t,r)}function uU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=lO(e));for(var n=this._groups,a=n.length,i=[],s=[],l=0;l<a;++l)for(var c=n[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),m,p=Pn(d,r),v=0,x=h.length;v<x;++v)(m=h[v])&&Hm(m,t,r,v,h,p);i.push(h),s.push(d)}return new Ca(i,s,t,r)}var dU=Pu.prototype.constructor;function fU(){return new dU(this._groups,this._parents)}function hU(e,t){var r,n,a;return function(){var i=Ho(this,e),s=(this.style.removeProperty(e),Ho(this,e));return i===s?null:i===r&&s===n?a:a=t(r=i,n=s)}}function MO(e){return function(){this.style.removeProperty(e)}}function mU(e,t,r){var n,a=r+"",i;return function(){var s=Ho(this,e);return s===a?null:s===n?i:i=t(n=s,r)}}function pU(e,t,r){var n,a,i;return function(){var s=Ho(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Ho(this,e))),s===c?null:s===n&&c===a?i:(a=c,i=t(n=s,l))}}function gU(e,t){var r,n,a,i="style."+t,s="end."+i,l;return function(){var c=Zn(this,e),u=c.on,d=c.value[i]==null?l||(l=MO(t)):void 0;(u!==r||a!==d)&&(n=(r=u).copy()).on(s,a=d),c.on=n}}function yU(e,t,r){var n=(e+="")=="transform"?y9:TO;return t==null?this.styleTween(e,hU(e,n)).on("end.style."+e,MO(e)):typeof t=="function"?this.styleTween(e,pU(e,n,sb(this,"style."+e,t))).each(gU(this._id,e)):this.styleTween(e,mU(e,n,t),r).on("end.style."+e,null)}function vU(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function xU(e,t,r){var n,a;function i(){var s=t.apply(this,arguments);return s!==a&&(n=(a=s)&&vU(e,s,r)),n}return i._value=t,i}function bU(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,xU(e,t,r??""))}function wU(e){return function(){this.textContent=e}}function jU(e){return function(){var t=e(this);this.textContent=t??""}}function kU(e){return this.tween("text",typeof e=="function"?jU(sb(this,"text",e)):wU(e==null?"":e+""))}function NU(e){return function(t){this.textContent=e.call(this,t)}}function _U(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&NU(a)),t}return n._value=e,n}function SU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,_U(e))}function EU(){for(var e=this._name,t=this._id,r=IO(),n=this._groups,a=n.length,i=0;i<a;++i)for(var s=n[i],l=s.length,c,u=0;u<l;++u)if(c=s[u]){var d=Pn(c,t);Hm(c,e,r,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ca(n,this._parents,e,r)}function CU(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(i,s){var l={value:s},c={value:function(){--a===0&&i()}};r.each(function(){var u=Zn(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),a===0&&i()})}var PU=0;function Ca(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function IO(){return++PU}var ta=Pu.prototype;Ca.prototype={constructor:Ca,select:cU,selectAll:uU,selectChild:ta.selectChild,selectChildren:ta.selectChildren,filter:rU,merge:nU,selection:fU,transition:EU,call:ta.call,nodes:ta.nodes,node:ta.node,size:ta.size,empty:ta.empty,each:ta.each,on:sU,attr:F9,attrTween:W9,style:yU,styleTween:bU,text:kU,textTween:SU,remove:lU,tween:M9,delay:Y9,duration:Q9,ease:J9,easeVarying:tU,end:CU,[Symbol.iterator]:ta[Symbol.iterator]};function OU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var AU={time:null,delay:0,duration:250,ease:OU};function TU(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function MU(e){var t,r;e instanceof Ca?(t=e._id,e=e._name):(t=IO(),(r=AU).time=ab(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,i=0;i<a;++i)for(var s=n[i],l=s.length,c,u=0;u<l;++u)(c=s[u])&&Hm(c,e,t,u,s,r||TU(c,t));return new Ca(n,this._parents,e,t)}Pu.prototype.interrupt=O9;Pu.prototype.transition=MU;const zd=e=>()=>e;function IU(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function fa(e,t,r){this.k=e,this.x=t,this.y=r}fa.prototype={constructor:fa,scale:function(e){return e===1?this:new fa(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new fa(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vm=new fa(1,0,0);DO.prototype=fa.prototype;function DO(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Vm;return e.__zoom}function Dg(e){e.stopImmediatePropagation()}function Fl(e){e.preventDefault(),e.stopImmediatePropagation()}function DU(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function RU(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Mk(){return this.__zoom||Vm}function LU(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function $U(){return navigator.maxTouchPoints||"ontouchstart"in this}function zU(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],s=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function RO(){var e=DU,t=RU,r=zU,n=LU,a=$U,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Ef,u=Fm("start","zoom","end"),d,f,h,m=500,p=150,v=0,x=10;function g(C){C.property("__zoom",Mk).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",T).filter(a).on("touchstart.zoom",O).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(C,D,I,R){var A=C.selection?C.selection():C;A.property("__zoom",Mk),C!==A?k(C,D,I,R):A.interrupt().each(function(){_(this,arguments).event(R).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},g.scaleBy=function(C,D,I,R){g.scaleTo(C,function(){var A=this.__zoom.k,M=typeof D=="function"?D.apply(this,arguments):D;return A*M},I,R)},g.scaleTo=function(C,D,I,R){g.transform(C,function(){var A=t.apply(this,arguments),M=this.__zoom,z=I==null?j(A):typeof I=="function"?I.apply(this,arguments):I,H=M.invert(z),F=typeof D=="function"?D.apply(this,arguments):D;return r(b(w(M,F),z,H),A,s)},I,R)},g.translateBy=function(C,D,I,R){g.transform(C,function(){return r(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),s)},null,R)},g.translateTo=function(C,D,I,R,A){g.transform(C,function(){var M=t.apply(this,arguments),z=this.__zoom,H=R==null?j(M):typeof R=="function"?R.apply(this,arguments):R;return r(Vm.translate(H[0],H[1]).scale(z.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof I=="function"?-I.apply(this,arguments):-I),M,s)},R,A)};function w(C,D){return D=Math.max(i[0],Math.min(i[1],D)),D===C.k?C:new fa(D,C.x,C.y)}function b(C,D,I){var R=D[0]-I[0]*C.k,A=D[1]-I[1]*C.k;return R===C.x&&A===C.y?C:new fa(C.k,R,A)}function j(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function k(C,D,I,R){C.on("start.zoom",function(){_(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(R).end()}).tween("zoom",function(){var A=this,M=arguments,z=_(A,M).event(R),H=t.apply(A,M),F=I==null?j(H):typeof I=="function"?I.apply(A,M):I,Y=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),q=A.__zoom,Q=typeof D=="function"?D.apply(A,M):D,le=c(q.invert(F).concat(Y/q.k),Q.invert(F).concat(Y/Q.k));return function(Z){if(Z===1)Z=Q;else{var X=le(Z),B=Y/X[2];Z=new fa(B,F[0]-X[0]*B,F[1]-X[1]*B)}z.zoom(null,Z)}})}function _(C,D,I){return!I&&C.__zooming||new N(C,D)}function N(C,D){this.that=C,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(C,D),this.taps=0}N.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,D){return this.mouse&&C!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var D=Er(this.that).datum();u.call(C,this.that,new IU(C,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),D)}};function S(C,...D){if(!e.apply(this,arguments))return;var I=_(this,D).event(C),R=this.__zoom,A=Math.max(i[0],Math.min(i[1],R.k*Math.pow(2,n.apply(this,arguments)))),M=fn(C);if(I.wheel)(I.mouse[0][0]!==M[0]||I.mouse[0][1]!==M[1])&&(I.mouse[1]=R.invert(I.mouse[0]=M)),clearTimeout(I.wheel);else{if(R.k===A)return;I.mouse=[M,R.invert(M)],Of(this),I.start()}Fl(C),I.wheel=setTimeout(z,p),I.zoom("mouse",r(b(w(R,A),I.mouse[0],I.mouse[1]),I.extent,s));function z(){I.wheel=null,I.end()}}function E(C,...D){if(h||!e.apply(this,arguments))return;var I=C.currentTarget,R=_(this,D,!0).event(C),A=Er(C.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",Y,!0),M=fn(C,I),z=C.clientX,H=C.clientY;xO(C.view),Dg(C),R.mouse=[M,this.__zoom.invert(M)],Of(this),R.start();function F(q){if(Fl(q),!R.moved){var Q=q.clientX-z,le=q.clientY-H;R.moved=Q*Q+le*le>v}R.event(q).zoom("mouse",r(b(R.that.__zoom,R.mouse[0]=fn(q,I),R.mouse[1]),R.extent,s))}function Y(q){A.on("mousemove.zoom mouseup.zoom",null),bO(q.view,R.moved),Fl(q),R.event(q).end()}}function T(C,...D){if(e.apply(this,arguments)){var I=this.__zoom,R=fn(C.changedTouches?C.changedTouches[0]:C,this),A=I.invert(R),M=I.k*(C.shiftKey?.5:2),z=r(b(w(I,M),R,A),t.apply(this,D),s);Fl(C),l>0?Er(this).transition().duration(l).call(k,z,R,C):Er(this).call(g.transform,z,R,C)}}function O(C,...D){if(e.apply(this,arguments)){var I=C.touches,R=I.length,A=_(this,D,C.changedTouches.length===R).event(C),M,z,H,F;for(Dg(C),z=0;z<R;++z)H=I[z],F=fn(H,this),F=[F,this.__zoom.invert(F),H.identifier],A.touch0?!A.touch1&&A.touch0[2]!==F[2]&&(A.touch1=F,A.taps=0):(A.touch0=F,M=!0,A.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(A.taps<2&&(f=F[0],d=setTimeout(function(){d=null},m)),Of(this),A.start())}}function P(C,...D){if(this.__zooming){var I=_(this,D).event(C),R=C.changedTouches,A=R.length,M,z,H,F;for(Fl(C),M=0;M<A;++M)z=R[M],H=fn(z,this),I.touch0&&I.touch0[2]===z.identifier?I.touch0[0]=H:I.touch1&&I.touch1[2]===z.identifier&&(I.touch1[0]=H);if(z=I.that.__zoom,I.touch1){var Y=I.touch0[0],q=I.touch0[1],Q=I.touch1[0],le=I.touch1[1],Z=(Z=Q[0]-Y[0])*Z+(Z=Q[1]-Y[1])*Z,X=(X=le[0]-q[0])*X+(X=le[1]-q[1])*X;z=w(z,Math.sqrt(Z/X)),H=[(Y[0]+Q[0])/2,(Y[1]+Q[1])/2],F=[(q[0]+le[0])/2,(q[1]+le[1])/2]}else if(I.touch0)H=I.touch0[0],F=I.touch0[1];else return;I.zoom("touch",r(b(z,H,F),I.extent,s))}}function L(C,...D){if(this.__zooming){var I=_(this,D).event(C),R=C.changedTouches,A=R.length,M,z;for(Dg(C),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),M=0;M<A;++M)z=R[M],I.touch0&&I.touch0[2]===z.identifier?delete I.touch0:I.touch1&&I.touch1[2]===z.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(z=fn(z,this),Math.hypot(f[0]-z[0],f[1]-z[1])<x)){var H=Er(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return g.wheelDelta=function(C){return arguments.length?(n=typeof C=="function"?C:zd(+C),g):n},g.filter=function(C){return arguments.length?(e=typeof C=="function"?C:zd(!!C),g):e},g.touchable=function(C){return arguments.length?(a=typeof C=="function"?C:zd(!!C),g):a},g.extent=function(C){return arguments.length?(t=typeof C=="function"?C:zd([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),g):t},g.scaleExtent=function(C){return arguments.length?(i[0]=+C[0],i[1]=+C[1],g):[i[0],i[1]]},g.translateExtent=function(C){return arguments.length?(s[0][0]=+C[0][0],s[1][0]=+C[1][0],s[0][1]=+C[0][1],s[1][1]=+C[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(C){return arguments.length?(r=C,g):r},g.duration=function(C){return arguments.length?(l=+C,g):l},g.interpolate=function(C){return arguments.length?(c=C,g):c},g.on=function(){var C=u.on.apply(u,arguments);return C===u?g:C},g.clickDistance=function(C){return arguments.length?(v=(C=+C)*C,g):Math.sqrt(v)},g.tapDistance=function(C){return arguments.length?(x=+C,g):x},g}const Wn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:n}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Vc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],LO=["Enter"," ","Escape"],$O={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Wo;(function(e){e.Strict="strict",e.Loose="loose"})(Wo||(Wo={}));var hs;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(hs||(hs={}));var Wc;(function(e){e.Partial="partial",e.Full="full"})(Wc||(Wc={}));const zO={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ei;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ei||(ei={}));var vh;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(vh||(vh={}));var de;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(de||(de={}));const Ik={[de.Left]:de.Right,[de.Right]:de.Left,[de.Top]:de.Bottom,[de.Bottom]:de.Top};function FO(e){return e===null?null:e?"valid":"invalid"}const BO=e=>"id"in e&&"source"in e&&"target"in e,FU=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),ob=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Mi=(e,t,r)=>{if(!e.id)return[];const n=new Set;return r.forEach(a=>{a.target===e.id&&n.add(a.source)}),t.filter(a=>n.has(a.id))},Au=(e,t=[0,0])=>{const{width:r,height:n}=La(e),a=e.origin??t,i=r*a[0],s=n*a[1];return{x:e.position.x-i,y:e.position.y-s}},BU=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const i=typeof a=="string";let s=!t.nodeLookup&&!i?a:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(a):ob(a)?a:t.nodeLookup.get(a.id));const l=s?xh(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Wm(n,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Km(r)},Tu=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},n=!1;return e.forEach(a=>{(t.filter===void 0||t.filter(a))&&(r=Wm(r,xh(a)),n=!0)}),n?Km(r):{x:0,y:0,width:0,height:0}},lb=(e,t,[r,n,a]=[0,0,1],i=!1,s=!1)=>{const l={...Iu(t,[r,n,a]),width:t.width/a,height:t.height/a},c=[];for(const u of e.values()){const{measured:d,selectable:f=!0,hidden:h=!1}=u;if(s&&!f||h)continue;const m=d.width??u.width??u.initialWidth??null,p=d.height??u.height??u.initialHeight??null,v=Kc(l,qo(u)),x=(m??0)*(p??0),g=i&&v>0;(!u.internals.handleBounds||g||v>=x||u.dragging)&&c.push(u)}return c},UU=(e,t)=>{const r=new Set;return e.forEach(n=>{r.add(n.id)}),t.filter(n=>r.has(n.source)||r.has(n.target))};function HU(e,t){const r=new Map,n=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!n||n.has(a.id))&&r.set(a.id,a)}),r}async function VU({nodes:e,width:t,height:r,panZoom:n,minZoom:a,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const l=HU(e,s),c=Tu(l),u=cb(c,t,r,(s==null?void 0:s.minZoom)??a,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await n.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function UO({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:a,onError:i}){const s=r.get(e),l=s.parentId?r.get(s.parentId):void 0,{x:c,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},d=s.origin??n;let f=s.extent||a;if(s.extent==="parent"&&!s.expandParent)if(!l)i==null||i("005",Wn.error005());else{const m=l.measured.width,p=l.measured.height;m&&p&&(f=[[c,u],[c+m,u+p]])}else l&&Yo(s.extent)&&(f=[[s.extent[0][0]+c,s.extent[0][1]+u],[s.extent[1][0]+c,s.extent[1][1]+u]]);const h=Yo(f)?Ss(t,f,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",Wn.error015())),{position:{x:h.x-c+(s.measured.width??0)*d[0],y:h.y-u+(s.measured.height??0)*d[1]},positionAbsolute:h}}async function WU({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:n,onBeforeDelete:a}){const i=new Set(e.map(h=>h.id)),s=[];for(const h of r){if(h.deletable===!1)continue;const m=i.has(h.id),p=!m&&h.parentId&&s.find(v=>v.id===h.parentId);(m||p)&&s.push(h)}const l=new Set(t.map(h=>h.id)),c=n.filter(h=>h.deletable!==!1),d=UU(s,c);for(const h of c)l.has(h.id)&&!d.find(p=>p.id===h.id)&&d.push(h);if(!a)return{edges:d,nodes:s};const f=await a({nodes:s,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:s}:{edges:[],nodes:[]}:f}const Ko=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Ss=(e={x:0,y:0},t,r)=>({x:Ko(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:Ko(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function HO(e,t,r){const{width:n,height:a}=La(r),{x:i,y:s}=r.internals.positionAbsolute;return Ss(e,[[i,s],[i+n,s+a]],t)}const Dk=(e,t,r)=>e<t?Ko(Math.abs(e-t),1,t)/t:e>r?-Ko(Math.abs(e-r),1,t)/t:0,VO=(e,t,r=15,n=40)=>{const a=Dk(e.x,n,t.width-n)*r,i=Dk(e.y,n,t.height-n)*r;return[a,i]},Wm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Iy=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),Km=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),qo=(e,t=[0,0])=>{var a,i;const{x:r,y:n}=ob(e)?e.internals.positionAbsolute:Au(e,t);return{x:r,y:n,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},xh=(e,t=[0,0])=>{var a,i;const{x:r,y:n}=ob(e)?e.internals.positionAbsolute:Au(e,t);return{x:r,y:n,x2:r+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:n+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},WO=(e,t)=>Km(Wm(Iy(e),Iy(t))),Kc=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},Rk=e=>vn(e.width)&&vn(e.height)&&vn(e.x)&&vn(e.y),vn=e=>!isNaN(e)&&isFinite(e),KU=(e,t)=>{},Mu=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Iu=({x:e,y:t},[r,n,a],i=!1,s=[1,1])=>{const l={x:(e-r)/a,y:(t-n)/a};return i?Mu(l,s):l},bh=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n});function Us(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function qU(e,t,r){if(typeof e=="string"||typeof e=="number"){const n=Us(e,r),a=Us(e,t);return{top:n,right:a,bottom:n,left:a,x:a*2,y:n*2}}if(typeof e=="object"){const n=Us(e.top??e.y??0,r),a=Us(e.bottom??e.y??0,r),i=Us(e.left??e.x??0,t),s=Us(e.right??e.x??0,t);return{top:n,right:s,bottom:a,left:i,x:i+s,y:n+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function YU(e,t,r,n,a,i){const{x:s,y:l}=bh(e,[t,r,n]),{x:c,y:u}=bh({x:e.x+e.width,y:e.y+e.height},[t,r,n]),d=a-c,f=i-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(f)}}const cb=(e,t,r,n,a,i)=>{const s=qU(i,t,r),l=(t-s.x)/e.width,c=(r-s.y)/e.height,u=Math.min(l,c),d=Ko(u,n,a),f=e.x+e.width/2,h=e.y+e.height/2,m=t/2-f*d,p=r/2-h*d,v=YU(e,m,p,d,t,r),x={left:Math.min(v.left-s.left,0),top:Math.min(v.top-s.top,0),right:Math.min(v.right-s.right,0),bottom:Math.min(v.bottom-s.bottom,0)};return{x:m-x.left+x.right,y:p-x.top+x.bottom,zoom:d}},qc=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Yo(e){return e!=null&&e!=="parent"}function La(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function KO(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function qO(e,t={width:0,height:0},r,n,a){const i={...e},s=n.get(r);if(s){const l=s.origin||a;i.x+=s.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function Lk(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function GU(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}function XU(e){return{...$O,...e||{}}}function gc(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:n,containerBounds:a}){const{x:i,y:s}=xn(e),l=Iu({x:i-((a==null?void 0:a.left)??0),y:s-((a==null?void 0:a.top)??0)},n),{x:c,y:u}=r?Mu(l,t):l;return{xSnapped:c,ySnapped:u,...l}}const ub=e=>({width:e.offsetWidth,height:e.offsetHeight}),YO=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},QU=["INPUT","SELECT","TEXTAREA"];function GO(e){var n,a;const t=((a=(n=e.composedPath)==null?void 0:n.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:QU.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const XO=e=>"clientX"in e,xn=(e,t)=>{var i,s;const r=XO(e),n=r?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,a=r?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},$k=(e,t,r,n,a)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:a,position:s.getAttribute("data-handlepos"),x:(l.left-r.left)/n,y:(l.top-r.top)/n,...ub(s)}})};function QO({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:i,targetControlX:s,targetControlY:l}){const c=e*.125+a*.375+s*.375+r*.125,u=t*.125+i*.375+l*.375+n*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}function Fd(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function zk({pos:e,x1:t,y1:r,x2:n,y2:a,c:i}){switch(e){case de.Left:return[t-Fd(t-n,i),r];case de.Right:return[t+Fd(n-t,i),r];case de.Top:return[t,r-Fd(r-a,i)];case de.Bottom:return[t,r+Fd(a-r,i)]}}function ZO({sourceX:e,sourceY:t,sourcePosition:r=de.Bottom,targetX:n,targetY:a,targetPosition:i=de.Top,curvature:s=.25}){const[l,c]=zk({pos:r,x1:e,y1:t,x2:n,y2:a,c:s}),[u,d]=zk({pos:i,x1:n,y1:a,x2:e,y2:t,c:s}),[f,h,m,p]=QO({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${n},${a}`,f,h,m,p]}function JO({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,i=r<e?r+a:r-a,s=Math.abs(n-t)/2,l=n<t?n+s:n-s;return[i,l,a,s]}function ZU({sourceNode:e,targetNode:t,selected:r=!1,zIndex:n=0,elevateOnSelect:a=!1,zIndexMode:i="basic"}){if(i==="manual")return n;const s=a&&r?n+1e3:n,l=Math.max(e.parentId||a&&e.selected?e.internals.z:0,t.parentId||a&&t.selected?t.internals.z:0);return s+l}function JU({sourceNode:e,targetNode:t,width:r,height:n,transform:a}){const i=Wm(xh(e),xh(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-a[0]/a[2],y:-a[1]/a[2],width:r/a[2],height:n/a[2]};return Kc(s,Km(i))>0}const eH=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`xy-edge__${e}${t||""}-${r}${n||""}`,tH=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),eA=(e,t,r={})=>{if(!e.source||!e.target)return t;const n=r.getEdgeId||eH;let a;return BO(e)?a={...e}:a={...e,id:n(e)},tH(a,t)?t:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,t.concat(a))};function tA({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,i,s,l]=JO({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,i,s,l]}const Fk={[de.Left]:{x:-1,y:0},[de.Right]:{x:1,y:0},[de.Top]:{x:0,y:-1},[de.Bottom]:{x:0,y:1}},rH=({source:e,sourcePosition:t=de.Bottom,target:r})=>t===de.Left||t===de.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Bk=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function nH({source:e,sourcePosition:t=de.Bottom,target:r,targetPosition:n=de.Top,center:a,offset:i,stepPosition:s}){const l=Fk[t],c=Fk[n],u={x:e.x+l.x*i,y:e.y+l.y*i},d={x:r.x+c.x*i,y:r.y+c.y*i},f=rH({source:u,sourcePosition:t,target:d}),h=f.x!==0?"x":"y",m=f[h];let p=[],v,x;const g={x:0,y:0},w={x:0,y:0},[,,b,j]=JO({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[h]*c[h]===-1){h==="x"?(v=a.x??u.x+(d.x-u.x)*s,x=a.y??(u.y+d.y)/2):(v=a.x??(u.x+d.x)/2,x=a.y??u.y+(d.y-u.y)*s);const _=[{x:v,y:u.y},{x:v,y:d.y}],N=[{x:u.x,y:x},{x:d.x,y:x}];l[h]===m?p=h==="x"?_:N:p=h==="x"?N:_}else{const _=[{x:u.x,y:d.y}],N=[{x:d.x,y:u.y}];if(h==="x"?p=l.x===m?N:_:p=l.y===m?_:N,t===n){const P=Math.abs(e[h]-r[h]);if(P<=i){const L=Math.min(i-1,i-P);l[h]===m?g[h]=(u[h]>e[h]?-1:1)*L:w[h]=(d[h]>r[h]?-1:1)*L}}if(t!==n){const P=h==="x"?"y":"x",L=l[h]===c[P],C=u[P]>d[P],D=u[P]<d[P];(l[h]===1&&(!L&&C||L&&D)||l[h]!==1&&(!L&&D||L&&C))&&(p=h==="x"?_:N)}const S={x:u.x+g.x,y:u.y+g.y},E={x:d.x+w.x,y:d.y+w.y},T=Math.max(Math.abs(S.x-p[0].x),Math.abs(E.x-p[0].x)),O=Math.max(Math.abs(S.y-p[0].y),Math.abs(E.y-p[0].y));T>=O?(v=(S.x+E.x)/2,x=p[0].y):(v=p[0].x,x=(S.y+E.y)/2)}return[[e,{x:u.x+g.x,y:u.y+g.y},...p,{x:d.x+w.x,y:d.y+w.y},r],v,x,b,j]}function aH(e,t,r,n){const a=Math.min(Bk(e,t)/2,Bk(t,r)/2,n),{x:i,y:s}=t;if(e.x===i&&i===r.x||e.y===s&&s===r.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${i+a*u},${s}Q ${i},${s} ${i},${s+a*d}`}const l=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${i},${s+a*c}Q ${i},${s} ${i+a*l},${s}`}function wh({sourceX:e,sourceY:t,sourcePosition:r=de.Bottom,targetX:n,targetY:a,targetPosition:i=de.Top,borderRadius:s=5,centerX:l,centerY:c,offset:u=20,stepPosition:d=.5}){const[f,h,m,p,v]=nH({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:i,center:{x:l,y:c},offset:u,stepPosition:d});return[f.reduce((g,w,b)=>{let j="";return b>0&&b<f.length-1?j=aH(f[b-1],w,f[b+1],s):j=`${b===0?"M":"L"}${w.x} ${w.y}`,g+=j,g},""),h,m,p,v]}function Uk(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function iH(e){var f;const{sourceNode:t,targetNode:r}=e;if(!Uk(t)||!Uk(r))return null;const n=t.internals.handleBounds||Hk(t.handles),a=r.internals.handleBounds||Hk(r.handles),i=Vk((n==null?void 0:n.source)??[],e.sourceHandle),s=Vk(e.connectionMode===Wo.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!i||!s)return(f=e.onError)==null||f.call(e,"008",Wn.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||de.Bottom,c=(s==null?void 0:s.position)||de.Top,u=Es(t,i,l),d=Es(r,s,c);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:c}}function Hk(e){if(!e)return null;const t=[],r=[];for(const n of e)n.width=n.width??1,n.height=n.height??1,n.type==="source"?t.push(n):n.type==="target"&&r.push(n);return{source:t,target:r}}function Es(e,t,r=de.Left,n=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??La(e);if(n)return{x:a+s/2,y:i+l/2};switch((t==null?void 0:t.position)??r){case de.Top:return{x:a+s/2,y:i};case de.Right:return{x:a+s,y:i+l/2};case de.Bottom:return{x:a+s/2,y:i+l};case de.Left:return{x:a,y:i+l/2}}}function Vk(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function Dy(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`:""}function sH(e,{id:t,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:a}){const i=new Set;return e.reduce((s,l)=>([l.markerStart||n,l.markerEnd||a].forEach(c=>{if(c&&typeof c=="object"){const u=Dy(c,t);i.has(u)||(s.push({id:u,color:c.color||r,...c}),i.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const rA=1e3,oH=10,db={nodeOrigin:[0,0],nodeExtent:Vc,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},lH={...db,checkEquality:!0};function fb(e,t){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}function cH(e,t,r){const n=fb(db,r);for(const a of e.values())if(a.parentId)mb(a,e,t,n);else{const i=Au(a,n.nodeOrigin),s=Yo(a.extent)?a.extent:n.nodeExtent,l=Ss(i,s,La(a));a.internals.positionAbsolute=l}}function uH(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const r=[],n=[];for(const a of e.handles){const i={id:a.id,width:a.width??1,height:a.height??1,nodeId:e.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?r.push(i):a.type==="target"&&n.push(i)}return{source:r,target:n}}function hb(e){return e==="manual"}function Ry(e,t,r,n={}){var u,d;const a=fb(lH,n),i={i:0},s=new Map(t),l=a!=null&&a.elevateNodesOnSelect&&!hb(a.zIndexMode)?rA:0;let c=e.length>0;t.clear(),r.clear();for(const f of e){let h=s.get(f.id);if(a.checkEquality&&f===(h==null?void 0:h.internals.userNode))t.set(f.id,h);else{const m=Au(f,a.nodeOrigin),p=Yo(f.extent)?f.extent:a.nodeExtent,v=Ss(m,p,La(f));h={...a.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:v,handleBounds:uH(f,h),z:nA(f,l,a.zIndexMode),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(c=!1),f.parentId&&mb(h,t,r,n,i)}return c}function dH(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function mb(e,t,r,n,a){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:l,zIndexMode:c}=fb(db,n),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}dH(e,r),a&&!d.parentId&&d.internals.rootParentIndex===void 0&&c==="auto"&&(d.internals.rootParentIndex=++a.i,d.internals.z=d.internals.z+a.i*oH),a&&d.internals.rootParentIndex!==void 0&&(a.i=d.internals.rootParentIndex);const f=i&&!hb(c)?rA:0,{x:h,y:m,z:p}=fH(e,d,s,l,f,c),{positionAbsolute:v}=e.internals,x=h!==v.x||m!==v.y;(x||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:x?{x:h,y:m}:v,z:p}})}function nA(e,t,r){const n=vn(e.zIndex)?e.zIndex:0;return hb(r)?n:n+(e.selected?t:0)}function fH(e,t,r,n,a,i){const{x:s,y:l}=t.internals.positionAbsolute,c=La(e),u=Au(e,r),d=Yo(e.extent)?Ss(u,e.extent,c):u;let f=Ss({x:s+d.x,y:l+d.y},n,c);e.extent==="parent"&&(f=HO(f,c,t));const h=nA(e,a,i),m=t.internals.z??0;return{x:f.x,y:f.y,z:m>=h?m+1:h}}function pb(e,t,r,n=[0,0]){var s;const a=[],i=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const u=((s=i.get(l.parentId))==null?void 0:s.expandedRect)??qo(c),d=WO(u,l.rect);i.set(l.parentId,{expandedRect:d,parent:c})}return i.size>0&&i.forEach(({expandedRect:l,parent:c},u)=>{var b;const d=c.internals.positionAbsolute,f=La(c),h=c.origin??n,m=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,p=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,v=Math.max(f.width,Math.round(l.width)),x=Math.max(f.height,Math.round(l.height)),g=(v-f.width)*h[0],w=(x-f.height)*h[1];(m>0||p>0||g||w)&&(a.push({id:u,type:"position",position:{x:c.position.x-m+g,y:c.position.y-p+w}}),(b=r.get(u))==null||b.forEach(j=>{e.some(k=>k.id===j.id)||a.push({id:j.id,type:"position",position:{x:j.position.x+m,y:j.position.y+p}})})),(f.width<l.width||f.height<l.height||m||p)&&a.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:v+(m?h[0]*m-g:0),height:x+(p?h[1]*p-w:0)}})}),a}function hH(e,t,r,n,a,i,s){const l=n==null?void 0:n.querySelector(".xyflow__viewport");let c=!1;if(!l)return{changes:[],updatedInternals:c};const u=[],d=window.getComputedStyle(l),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const m of e.values()){const p=t.get(m.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),c=!0;continue}const v=ub(m.nodeElement),x=p.measured.width!==v.width||p.measured.height!==v.height;if(!!(v.width&&v.height&&(x||!p.internals.handleBounds||m.force))){const w=m.nodeElement.getBoundingClientRect(),b=Yo(p.extent)?p.extent:i;let{positionAbsolute:j}=p.internals;p.parentId&&p.extent==="parent"?j=HO(j,v,t.get(p.parentId)):b&&(j=Ss(j,b,v));const k={...p,measured:v,internals:{...p.internals,positionAbsolute:j,handleBounds:{source:$k("source",m.nodeElement,w,f,p.id),target:$k("target",m.nodeElement,w,f,p.id)}}};t.set(p.id,k),p.parentId&&mb(k,t,r,{nodeOrigin:a,zIndexMode:s}),c=!0,x&&(u.push({id:p.id,type:"dimensions",dimensions:v}),p.expandParent&&p.parentId&&h.push({id:p.id,parentId:p.parentId,rect:qo(k,a)}))}}if(h.length>0){const m=pb(h,t,r,a);u.push(...m)}return{changes:u,updatedInternals:c}}async function mH({delta:e,panZoom:t,transform:r,translateExtent:n,width:a,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[a,i]],n),l=!!s&&(s.x!==r[0]||s.y!==r[1]||s.k!==r[2]);return Promise.resolve(l)}function Wk(e,t,r,n,a,i){let s=a;const l=n.get(s)||new Map;n.set(s,l.set(r,t)),s=`${a}-${e}`;const c=n.get(s)||new Map;if(n.set(s,c.set(r,t)),i){s=`${a}-${e}-${i}`;const u=n.get(s)||new Map;n.set(s,u.set(r,t))}}function aA(e,t,r){e.clear(),t.clear();for(const n of r){const{source:a,target:i,sourceHandle:s=null,targetHandle:l=null}=n,c={edgeId:n.id,source:a,target:i,sourceHandle:s,targetHandle:l},u=`${a}-${s}--${i}-${l}`,d=`${i}-${l}--${a}-${s}`;Wk("source",c,d,e,a,s),Wk("target",c,u,e,i,l),t.set(n.id,n)}}function iA(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:iA(r,t):!1}function Kk(e,t,r){var a;let n=e;do{if((a=n==null?void 0:n.matches)!=null&&a.call(n,t))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function pH(e,t,r,n){const a=new Map;for(const[i,s]of e)if((s.selected||s.id===n)&&(!s.parentId||!iA(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(i);l&&a.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function Rg({nodeId:e,dragItems:t,nodeLookup:r,dragging:n=!0}){var s,l,c;const a=[];for(const[u,d]of t){const f=(s=r.get(u))==null?void 0:s.internals.userNode;f&&a.push({...f,position:d.position,dragging:n})}if(!e)return[a[0],a];const i=(l=r.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((c=t.get(e))==null?void 0:c.position)||i.position,dragging:n}:a[0],a]}function gH({dragItems:e,snapGrid:t,x:r,y:n}){const a=e.values().next().value;if(!a)return null;const i={x:r-a.distance.x,y:n-a.distance.y},s=Mu(i,t);return{x:s.x-i.x,y:s.y-i.y}}function yH({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:n,onDragStop:a}){let i={x:null,y:null},s=0,l=new Map,c=!1,u={x:0,y:0},d=null,f=!1,h=null,m=!1,p=!1,v=null;function x({noDragClassName:w,handleSelector:b,domNode:j,isSelectable:k,nodeId:_,nodeClickDistance:N=0}){h=Er(j);function S({x:P,y:L}){const{nodeLookup:C,nodeExtent:D,snapGrid:I,snapToGrid:R,nodeOrigin:A,onNodeDrag:M,onSelectionDrag:z,onError:H,updateNodePositions:F}=t();i={x:P,y:L};let Y=!1;const q=l.size>1,Q=q&&D?Iy(Tu(l)):null,le=q&&R?gH({dragItems:l,snapGrid:I,x:P,y:L}):null;for(const[Z,X]of l){if(!C.has(Z))continue;let B={x:P-X.distance.x,y:L-X.distance.y};R&&(B=le?{x:Math.round(B.x+le.x),y:Math.round(B.y+le.y)}:Mu(B,I));let ee=null;if(q&&D&&!X.extent&&Q){const{positionAbsolute:re}=X.internals,ce=re.x-Q.x+D[0][0],ge=re.x+X.measured.width-Q.x2+D[1][0],me=re.y-Q.y+D[0][1],Ie=re.y+X.measured.height-Q.y2+D[1][1];ee=[[ce,me],[ge,Ie]]}const{position:J,positionAbsolute:K}=UO({nodeId:Z,nextPosition:B,nodeLookup:C,nodeExtent:ee||D,nodeOrigin:A,onError:H});Y=Y||X.position.x!==J.x||X.position.y!==J.y,X.position=J,X.internals.positionAbsolute=K}if(p=p||Y,!!Y&&(F(l,!0),v&&(n||M||!_&&z))){const[Z,X]=Rg({nodeId:_,dragItems:l,nodeLookup:C});n==null||n(v,l,Z,X),M==null||M(v,Z,X),_||z==null||z(v,X)}}async function E(){if(!d)return;const{transform:P,panBy:L,autoPanSpeed:C,autoPanOnNodeDrag:D}=t();if(!D){c=!1,cancelAnimationFrame(s);return}const[I,R]=VO(u,d,C);(I!==0||R!==0)&&(i.x=(i.x??0)-I/P[2],i.y=(i.y??0)-R/P[2],await L({x:I,y:R})&&S(i)),s=requestAnimationFrame(E)}function T(P){var q;const{nodeLookup:L,multiSelectionActive:C,nodesDraggable:D,transform:I,snapGrid:R,snapToGrid:A,selectNodesOnDrag:M,onNodeDragStart:z,onSelectionDragStart:H,unselectNodesAndEdges:F}=t();f=!0,(!M||!k)&&!C&&_&&((q=L.get(_))!=null&&q.selected||F()),k&&M&&_&&(e==null||e(_));const Y=gc(P.sourceEvent,{transform:I,snapGrid:R,snapToGrid:A,containerBounds:d});if(i=Y,l=pH(L,D,Y,_),l.size>0&&(r||z||!_&&H)){const[Q,le]=Rg({nodeId:_,dragItems:l,nodeLookup:L});r==null||r(P.sourceEvent,l,Q,le),z==null||z(P.sourceEvent,Q,le),_||H==null||H(P.sourceEvent,le)}}const O=wO().clickDistance(N).on("start",P=>{const{domNode:L,nodeDragThreshold:C,transform:D,snapGrid:I,snapToGrid:R}=t();d=(L==null?void 0:L.getBoundingClientRect())||null,m=!1,p=!1,v=P.sourceEvent,C===0&&T(P),i=gc(P.sourceEvent,{transform:D,snapGrid:I,snapToGrid:R,containerBounds:d}),u=xn(P.sourceEvent,d)}).on("drag",P=>{const{autoPanOnNodeDrag:L,transform:C,snapGrid:D,snapToGrid:I,nodeDragThreshold:R,nodeLookup:A}=t(),M=gc(P.sourceEvent,{transform:C,snapGrid:D,snapToGrid:I,containerBounds:d});if(v=P.sourceEvent,(P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1||_&&!A.has(_))&&(m=!0),!m){if(!c&&L&&f&&(c=!0,E()),!f){const z=xn(P.sourceEvent,d),H=z.x-u.x,F=z.y-u.y;Math.sqrt(H*H+F*F)>R&&T(P)}(i.x!==M.xSnapped||i.y!==M.ySnapped)&&l&&f&&(u=xn(P.sourceEvent,d),S(M))}}).on("end",P=>{if(!(!f||m)&&(c=!1,f=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:L,updateNodePositions:C,onNodeDragStop:D,onSelectionDragStop:I}=t();if(p&&(C(l,!1),p=!1),a||D||!_&&I){const[R,A]=Rg({nodeId:_,dragItems:l,nodeLookup:L,dragging:!1});a==null||a(P.sourceEvent,l,R,A),D==null||D(P.sourceEvent,R,A),_||I==null||I(P.sourceEvent,A)}}}).filter(P=>{const L=P.target;return!P.button&&(!w||!Kk(L,`.${w}`,j))&&(!b||Kk(L,b,j))});h.call(O)}function g(){h==null||h.on(".drag",null)}return{update:x,destroy:g}}function vH(e,t,r){const n=[],a={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const i of t.values())Kc(a,qo(i))>0&&n.push(i);return n}const xH=250;function bH(e,t,r,n){var l,c;let a=[],i=1/0;const s=vH(e,r,t+xH);for(const u of s){const d=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const f of d){if(n.nodeId===f.nodeId&&n.type===f.type&&n.id===f.id)continue;const{x:h,y:m}=Es(u,f,f.position,!0),p=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(m-e.y,2));p>t||(p<i?(a=[{...f,x:h,y:m}],i=p):p===i&&a.push({...f,x:h,y:m}))}}if(!a.length)return null;if(a.length>1){const u=n.type==="source"?"target":"source";return a.find(d=>d.type===u)??a[0]}return a[0]}function sA(e,t,r,n,a,i=!1){var u,d,f;const s=n.get(e);if(!s)return null;const l=a==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((d=s.internals.handleBounds)==null?void 0:d.source)??[],...((f=s.internals.handleBounds)==null?void 0:f.target)??[]],c=(r?l==null?void 0:l.find(h=>h.id===r):l==null?void 0:l[0])??null;return c&&i?{...c,...Es(s,c,c.position,!0)}:c}function oA(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function wH(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const lA=()=>!0;function jH(e,{connectionMode:t,connectionRadius:r,handleId:n,nodeId:a,edgeUpdaterType:i,isTarget:s,domNode:l,nodeLookup:c,lib:u,autoPanOnConnect:d,flowId:f,panBy:h,cancelConnection:m,onConnectStart:p,onConnect:v,onConnectEnd:x,isValidConnection:g=lA,onReconnectEnd:w,updateConnection:b,getTransform:j,getFromHandle:k,autoPanSpeed:_,dragThreshold:N=1,handleDomNode:S}){const E=YO(e.target);let T=0,O;const{x:P,y:L}=xn(e),C=oA(i,S),D=l==null?void 0:l.getBoundingClientRect();let I=!1;if(!D||!C)return;const R=sA(a,C,n,c,t);if(!R)return;let A=xn(e,D),M=!1,z=null,H=!1,F=null;function Y(){if(!d||!D)return;const[J,K]=VO(A,D,_);h({x:J,y:K}),T=requestAnimationFrame(Y)}const q={...R,nodeId:a,type:C,position:R.position},Q=c.get(a);let Z={inProgress:!0,isValid:null,from:Es(Q,q,de.Left,!0),fromHandle:q,fromPosition:q.position,fromNode:Q,to:A,toHandle:null,toPosition:Ik[q.position],toNode:null,pointer:A};function X(){I=!0,b(Z),p==null||p(e,{nodeId:a,handleId:n,handleType:C})}N===0&&X();function B(J){if(!I){const{x:Ie,y:U}=xn(J),ne=Ie-P,he=U-L;if(!(ne*ne+he*he>N*N))return;X()}if(!k()||!q){ee(J);return}const K=j();A=xn(J,D),O=bH(Iu(A,K,!1,[1,1]),r,c,q),M||(Y(),M=!0);const re=cA(J,{handle:O,connectionMode:t,fromNodeId:a,fromHandleId:n,fromType:s?"target":"source",isValidConnection:g,doc:E,lib:u,flowId:f,nodeLookup:c});F=re.handleDomNode,z=re.connection,H=wH(!!O,re.isValid);const ce=c.get(a),ge=ce?Es(ce,q,de.Left,!0):Z.from,me={...Z,from:ge,isValid:H,to:re.toHandle&&H?bh({x:re.toHandle.x,y:re.toHandle.y},K):A,toHandle:re.toHandle,toPosition:H&&re.toHandle?re.toHandle.position:Ik[q.position],toNode:re.toHandle?c.get(re.toHandle.nodeId):null,pointer:A};b(me),Z=me}function ee(J){if(!("touches"in J&&J.touches.length>0)){if(I){(O||F)&&z&&H&&(v==null||v(z));const{inProgress:K,...re}=Z,ce={...re,toPosition:Z.toHandle?Z.toPosition:null};x==null||x(J,ce),i&&(w==null||w(J,ce))}m(),cancelAnimationFrame(T),M=!1,H=!1,z=null,F=null,E.removeEventListener("mousemove",B),E.removeEventListener("mouseup",ee),E.removeEventListener("touchmove",B),E.removeEventListener("touchend",ee)}}E.addEventListener("mousemove",B),E.addEventListener("mouseup",ee),E.addEventListener("touchmove",B),E.addEventListener("touchend",ee)}function cA(e,{handle:t,connectionMode:r,fromNodeId:n,fromHandleId:a,fromType:i,doc:s,lib:l,flowId:c,isValidConnection:u=lA,nodeLookup:d}){const f=i==="target",h=t?s.querySelector(`.${l}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:m,y:p}=xn(e),v=s.elementFromPoint(m,p),x=v!=null&&v.classList.contains(`${l}-flow__handle`)?v:h,g={handleDomNode:x,isValid:!1,connection:null,toHandle:null};if(x){const w=oA(void 0,x),b=x.getAttribute("data-nodeid"),j=x.getAttribute("data-handleid"),k=x.classList.contains("connectable"),_=x.classList.contains("connectableend");if(!b||!w)return g;const N={source:f?b:n,sourceHandle:f?j:a,target:f?n:b,targetHandle:f?a:j};g.connection=N;const E=k&&_&&(r===Wo.Strict?f&&w==="source"||!f&&w==="target":b!==n||j!==a);g.isValid=E&&u(N),g.toHandle=sA(b,w,j,d,r,!0)}return g}const Ly={onPointerDown:jH,isValid:cA};function kH({domNode:e,panZoom:t,getTransform:r,getViewScale:n}){const a=Er(e);function i({translateExtent:l,width:c,height:u,zoomStep:d=1,pannable:f=!0,zoomable:h=!0,inversePan:m=!1}){const p=b=>{if(b.sourceEvent.type!=="wheel"||!t)return;const j=r(),k=b.sourceEvent.ctrlKey&&qc()?10:1,_=-b.sourceEvent.deltaY*(b.sourceEvent.deltaMode===1?.05:b.sourceEvent.deltaMode?1:.002)*d,N=j[2]*Math.pow(2,_*k);t.scaleTo(N)};let v=[0,0];const x=b=>{(b.sourceEvent.type==="mousedown"||b.sourceEvent.type==="touchstart")&&(v=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY])},g=b=>{const j=r();if(b.sourceEvent.type!=="mousemove"&&b.sourceEvent.type!=="touchmove"||!t)return;const k=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY],_=[k[0]-v[0],k[1]-v[1]];v=k;const N=n()*Math.max(j[2],Math.log(j[2]))*(m?-1:1),S={x:j[0]-_[0]*N,y:j[1]-_[1]*N},E=[[0,0],[c,u]];t.setViewportConstrained({x:S.x,y:S.y,zoom:j[2]},E,l)},w=RO().on("start",x).on("zoom",f?g:null).on("zoom.wheel",h?p:null);a.call(w,{})}function s(){a.on("zoom",null)}return{update:i,destroy:s,pointer:fn}}const qm=e=>({x:e.x,y:e.y,zoom:e.k}),Lg=({x:e,y:t,zoom:r})=>Vm.translate(e,t).scale(r),so=(e,t)=>e.target.closest(`.${t}`),uA=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),NH=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,$g=(e,t=0,r=NH,n=()=>{})=>{const a=typeof t=="number"&&t>0;return a||n(),a?e.transition().duration(t).ease(r).on("end",n):e},dA=e=>{const t=e.ctrlKey&&qc()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function _H({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:n,panOnScrollMode:a,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:u}){return d=>{if(so(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=r.property("__zoom").k||1;if(d.ctrlKey&&s){const x=fn(d),g=dA(d),w=f*Math.pow(2,g);n.scaleTo(r,w,x,d);return}const h=d.deltaMode===1?20:1;let m=a===hs.Vertical?0:d.deltaX*h,p=a===hs.Horizontal?0:d.deltaY*h;!qc()&&d.shiftKey&&a!==hs.Vertical&&(m=d.deltaY*h,p=0),n.translateBy(r,-(m/f)*i,-(p/f)*i,{internal:!0});const v=qm(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(d,v),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(d,v))}}function SH({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(n,a){const i=n.type==="wheel",s=!t&&i&&!n.ctrlKey,l=so(n,e);if(n.ctrlKey&&i&&l&&n.preventDefault(),s||l)return null;n.preventDefault(),r.call(this,n,a)}}function EH({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return n=>{var i,s,l;if((i=n.sourceEvent)!=null&&i.internal)return;const a=qm(n.transform);e.mouseButton=((s=n.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((l=n.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),r&&(r==null||r(n.sourceEvent,a))}}function CH({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:n,onPanZoom:a}){return i=>{var s,l;e.usedRightMouseButton=!!(r&&uA(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||n([i.transform.x,i.transform.y,i.transform.k]),a&&!((l=i.sourceEvent)!=null&&l.internal)&&(a==null||a(i.sourceEvent,qm(i.transform)))}}function PH({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:a,onPaneContextMenu:i}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&uA(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,n(!1),a)){const c=qm(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(s.sourceEvent,c)},r?150:0)}}}function OH({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:n,panOnScroll:a,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:l,noPanClassName:c,lib:u,connectionInProgress:d}){return f=>{var x;const h=e||t,m=r&&f.ctrlKey,p=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(so(f,`${u}-flow__node`)||so(f,`${u}-flow__edge`)))return!0;if(!n&&!h&&!a&&!i&&!r||s||d&&!p||so(f,l)&&p||so(f,c)&&(!p||a&&p&&!e)||!r&&f.ctrlKey&&p)return!1;if(!r&&f.type==="touchstart"&&((x=f.touches)==null?void 0:x.length)>1)return f.preventDefault(),!1;if(!h&&!a&&!m&&p||!n&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(n)&&!n.includes(f.button)&&f.type==="mousedown")return!1;const v=Array.isArray(n)&&n.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||p)&&v}}function AH({domNode:e,minZoom:t,maxZoom:r,translateExtent:n,viewport:a,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=RO().scaleExtent([t,r]).translateExtent(n),h=Er(e).call(f);w({x:a.x,y:a.y,zoom:Ko(a.zoom,t,r)},[[0,0],[d.width,d.height]],n);const m=h.on("wheel.zoom"),p=h.on("dblclick.zoom");f.wheelDelta(dA);function v(O,P){return h?new Promise(L=>{f==null||f.interpolate((P==null?void 0:P.interpolate)==="linear"?va:Ef).transform($g(h,P==null?void 0:P.duration,P==null?void 0:P.ease,()=>L(!0)),O)}):Promise.resolve(!1)}function x({noWheelClassName:O,noPanClassName:P,onPaneContextMenu:L,userSelectionActive:C,panOnScroll:D,panOnDrag:I,panOnScrollMode:R,panOnScrollSpeed:A,preventScrolling:M,zoomOnPinch:z,zoomOnScroll:H,zoomOnDoubleClick:F,zoomActivationKeyPressed:Y,lib:q,onTransformChange:Q,connectionInProgress:le,paneClickDistance:Z,selectionOnDrag:X}){C&&!u.isZoomingOrPanning&&g();const B=D&&!Y&&!C;f.clickDistance(X?1/0:!vn(Z)||Z<0?0:Z);const ee=B?_H({zoomPanValues:u,noWheelClassName:O,d3Selection:h,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:A,zoomOnPinch:z,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:l}):SH({noWheelClassName:O,preventScrolling:M,d3ZoomHandler:m});if(h.on("wheel.zoom",ee,{passive:!1}),!C){const K=EH({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:s});f.on("start",K);const re=CH({zoomPanValues:u,panOnDrag:I,onPaneContextMenu:!!L,onPanZoom:i,onTransformChange:Q});f.on("zoom",re);const ce=PH({zoomPanValues:u,panOnDrag:I,panOnScroll:D,onPaneContextMenu:L,onPanZoomEnd:l,onDraggingChange:c});f.on("end",ce)}const J=OH({zoomActivationKeyPressed:Y,panOnDrag:I,zoomOnScroll:H,panOnScroll:D,zoomOnDoubleClick:F,zoomOnPinch:z,userSelectionActive:C,noPanClassName:P,noWheelClassName:O,lib:q,connectionInProgress:le});f.filter(J),F?h.on("dblclick.zoom",p):h.on("dblclick.zoom",null)}function g(){f.on("zoom",null)}async function w(O,P,L){const C=Lg(O),D=f==null?void 0:f.constrain()(C,P,L);return D&&await v(D),new Promise(I=>I(D))}async function b(O,P){const L=Lg(O);return await v(L,P),new Promise(C=>C(L))}function j(O){if(h){const P=Lg(O),L=h.property("__zoom");(L.k!==O.zoom||L.x!==O.x||L.y!==O.y)&&(f==null||f.transform(h,P,null,{sync:!0}))}}function k(){const O=h?DO(h.node()):{x:0,y:0,k:1};return{x:O.x,y:O.y,zoom:O.k}}function _(O,P){return h?new Promise(L=>{f==null||f.interpolate((P==null?void 0:P.interpolate)==="linear"?va:Ef).scaleTo($g(h,P==null?void 0:P.duration,P==null?void 0:P.ease,()=>L(!0)),O)}):Promise.resolve(!1)}function N(O,P){return h?new Promise(L=>{f==null||f.interpolate((P==null?void 0:P.interpolate)==="linear"?va:Ef).scaleBy($g(h,P==null?void 0:P.duration,P==null?void 0:P.ease,()=>L(!0)),O)}):Promise.resolve(!1)}function S(O){f==null||f.scaleExtent(O)}function E(O){f==null||f.translateExtent(O)}function T(O){const P=!vn(O)||O<0?0:O;f==null||f.clickDistance(P)}return{update:x,destroy:g,setViewport:b,setViewportConstrained:w,getViewport:k,scaleTo:_,scaleBy:N,setScaleExtent:S,setTranslateExtent:E,syncViewport:j,setClickDistance:T}}var Go;(function(e){e.Line="line",e.Handle="handle"})(Go||(Go={}));function TH({width:e,prevWidth:t,height:r,prevHeight:n,affectsX:a,affectsY:i}){const s=e-t,l=r-n,c=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&a&&(c[0]=c[0]*-1),l&&i&&(c[1]=c[1]*-1),c}function qk(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),n=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:n,affectsY:a}}function Va(e,t){return Math.max(0,t-e)}function Wa(e,t){return Math.max(0,e-t)}function Bd(e,t,r){return Math.max(0,t-e,e-r)}function Yk(e,t){return e?!t:t}function MH(e,t,r,n,a,i,s,l){let{affectsX:c,affectsY:u}=t;const{isHorizontal:d,isVertical:f}=t,h=d&&f,{xSnapped:m,ySnapped:p}=r,{minWidth:v,maxWidth:x,minHeight:g,maxHeight:w}=n,{x:b,y:j,width:k,height:_,aspectRatio:N}=e;let S=Math.floor(d?m-e.pointerX:0),E=Math.floor(f?p-e.pointerY:0);const T=k+(c?-S:S),O=_+(u?-E:E),P=-i[0]*k,L=-i[1]*_;let C=Bd(T,v,x),D=Bd(O,g,w);if(s){let A=0,M=0;c&&S<0?A=Va(b+S+P,s[0][0]):!c&&S>0&&(A=Wa(b+T+P,s[1][0])),u&&E<0?M=Va(j+E+L,s[0][1]):!u&&E>0&&(M=Wa(j+O+L,s[1][1])),C=Math.max(C,A),D=Math.max(D,M)}if(l){let A=0,M=0;c&&S>0?A=Wa(b+S,l[0][0]):!c&&S<0&&(A=Va(b+T,l[1][0])),u&&E>0?M=Wa(j+E,l[0][1]):!u&&E<0&&(M=Va(j+O,l[1][1])),C=Math.max(C,A),D=Math.max(D,M)}if(a){if(d){const A=Bd(T/N,g,w)*N;if(C=Math.max(C,A),s){let M=0;!c&&!u||c&&!u&&h?M=Wa(j+L+T/N,s[1][1])*N:M=Va(j+L+(c?S:-S)/N,s[0][1])*N,C=Math.max(C,M)}if(l){let M=0;!c&&!u||c&&!u&&h?M=Va(j+T/N,l[1][1])*N:M=Wa(j+(c?S:-S)/N,l[0][1])*N,C=Math.max(C,M)}}if(f){const A=Bd(O*N,v,x)/N;if(D=Math.max(D,A),s){let M=0;!c&&!u||u&&!c&&h?M=Wa(b+O*N+P,s[1][0])/N:M=Va(b+(u?E:-E)*N+P,s[0][0])/N,D=Math.max(D,M)}if(l){let M=0;!c&&!u||u&&!c&&h?M=Va(b+O*N,l[1][0])/N:M=Wa(b+(u?E:-E)*N,l[0][0])/N,D=Math.max(D,M)}}}E=E+(E<0?D:-D),S=S+(S<0?C:-C),a&&(h?T>O*N?E=(Yk(c,u)?-S:S)/N:S=(Yk(c,u)?-E:E)*N:d?(E=S/N,u=c):(S=E*N,c=u));const I=c?b+S:b,R=u?j+E:j;return{width:k+(c?-S:S),height:_+(u?-E:E),x:i[0]*S*(c?-1:1)+I,y:i[1]*E*(u?-1:1)+R}}const fA={width:0,height:0,x:0,y:0},IH={...fA,pointerX:0,pointerY:0,aspectRatio:1};function DH(e){return[[0,0],[e.measured.width,e.measured.height]]}function RH(e,t,r){const n=t.position.x+e.position.x,a=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,l=r[0]*i,c=r[1]*s;return[[n-l,a-c],[n+i-l,a+s-c]]}function LH({domNode:e,nodeId:t,getStoreItems:r,onChange:n,onEnd:a}){const i=Er(e);let s={controlDirection:qk("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:d,keepAspectRatio:f,resizeDirection:h,onResizeStart:m,onResize:p,onResizeEnd:v,shouldResize:x}){let g={...fA},w={...IH};s={boundaries:d,resizeDirection:h,keepAspectRatio:f,controlDirection:qk(u)};let b,j=null,k=[],_,N,S,E=!1;const T=wO().on("start",O=>{const{nodeLookup:P,transform:L,snapGrid:C,snapToGrid:D,nodeOrigin:I,paneDomNode:R}=r();if(b=P.get(t),!b)return;j=(R==null?void 0:R.getBoundingClientRect())??null;const{xSnapped:A,ySnapped:M}=gc(O.sourceEvent,{transform:L,snapGrid:C,snapToGrid:D,containerBounds:j});g={width:b.measured.width??0,height:b.measured.height??0,x:b.position.x??0,y:b.position.y??0},w={...g,pointerX:A,pointerY:M,aspectRatio:g.width/g.height},_=void 0,b.parentId&&(b.extent==="parent"||b.expandParent)&&(_=P.get(b.parentId),N=_&&b.extent==="parent"?DH(_):void 0),k=[],S=void 0;for(const[z,H]of P)if(H.parentId===t&&(k.push({id:z,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const F=RH(H,b,H.origin??I);S?S=[[Math.min(F[0][0],S[0][0]),Math.min(F[0][1],S[0][1])],[Math.max(F[1][0],S[1][0]),Math.max(F[1][1],S[1][1])]]:S=F}m==null||m(O,{...g})}).on("drag",O=>{const{transform:P,snapGrid:L,snapToGrid:C,nodeOrigin:D}=r(),I=gc(O.sourceEvent,{transform:P,snapGrid:L,snapToGrid:C,containerBounds:j}),R=[];if(!b)return;const{x:A,y:M,width:z,height:H}=g,F={},Y=b.origin??D,{width:q,height:Q,x:le,y:Z}=MH(w,s.controlDirection,I,s.boundaries,s.keepAspectRatio,Y,N,S),X=q!==z,B=Q!==H,ee=le!==A&&X,J=Z!==M&&B;if(!ee&&!J&&!X&&!B)return;if((ee||J||Y[0]===1||Y[1]===1)&&(F.x=ee?le:g.x,F.y=J?Z:g.y,g.x=F.x,g.y=F.y,k.length>0)){const ge=le-A,me=Z-M;for(const Ie of k)Ie.position={x:Ie.position.x-ge+Y[0]*(q-z),y:Ie.position.y-me+Y[1]*(Q-H)},R.push(Ie)}if((X||B)&&(F.width=X&&(!s.resizeDirection||s.resizeDirection==="horizontal")?q:g.width,F.height=B&&(!s.resizeDirection||s.resizeDirection==="vertical")?Q:g.height,g.width=F.width,g.height=F.height),_&&b.expandParent){const ge=Y[0]*(F.width??0);F.x&&F.x<ge&&(g.x=ge,w.x=w.x-(F.x-ge));const me=Y[1]*(F.height??0);F.y&&F.y<me&&(g.y=me,w.y=w.y-(F.y-me))}const K=TH({width:g.width,prevWidth:z,height:g.height,prevHeight:H,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),re={...g,direction:K};(x==null?void 0:x(O,re))!==!1&&(E=!0,p==null||p(O,re),n(F,R))}).on("end",O=>{E&&(v==null||v(O,{...g}),a==null||a({...g}),E=!1)});i.call(T)}function c(){i.on(".drag",null)}return{update:l,destroy:c}}const{useDebugValue:$H}=Yr,{useSyncExternalStoreWithSelector:zH}=iO,FH=e=>e;function hA(e,t=FH,r){const n=zH(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return $H(n),n}const Gk=(e,t)=>{const r=JP(e),n=(a,i=t)=>hA(r,a,i);return Object.assign(n,r),n},BH=(e,t)=>e?Gk(e,t):Gk;function qe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const Ym=y.createContext(null),UH=Ym.Provider,mA=Wn.error001();function je(e,t){const r=y.useContext(Ym);if(r===null)throw new Error(mA);return hA(r,e,t)}function Ye(){const e=y.useContext(Ym);if(e===null)throw new Error(mA);return y.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Xk={display:"none"},HH={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},pA="react-flow__node-desc",gA="react-flow__edge-desc",VH="react-flow__aria-live",WH=e=>e.ariaLiveMessage,KH=e=>e.ariaLabelConfig;function qH({rfId:e}){const t=je(WH);return o.jsx("div",{id:`${VH}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:HH,children:t})}function YH({rfId:e,disableKeyboardA11y:t}){const r=je(KH);return o.jsxs(o.Fragment,{children:[o.jsx("div",{id:`${pA}-${e}`,style:Xk,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),o.jsx("div",{id:`${gA}-${e}`,style:Xk,children:r["edge.a11yDescription.default"]}),!t&&o.jsx(qH,{rfId:e})]})}const Gm=y.forwardRef(({position:e="top-left",children:t,className:r,style:n,...a},i)=>{const s=`${e}`.split("-");return o.jsx("div",{className:ht(["react-flow__panel",r,...s]),style:n,ref:i,...a,children:t})});Gm.displayName="Panel";function GH({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:o.jsx(Gm,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:o.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const XH=e=>{const t=[],r=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,n]of e.edgeLookup)n.selected&&r.push(n);return{selectedNodes:t,selectedEdges:r}},Ud=e=>e.id;function QH(e,t){return qe(e.selectedNodes.map(Ud),t.selectedNodes.map(Ud))&&qe(e.selectedEdges.map(Ud),t.selectedEdges.map(Ud))}function ZH({onSelectionChange:e}){const t=Ye(),{selectedNodes:r,selectedEdges:n}=je(XH,QH);return y.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(i=>i(a))},[r,n,e]),null}const JH=e=>!!e.onSelectionChangeHandlers;function eV({onSelectionChange:e}){const t=je(JH);return e||t?o.jsx(ZH,{onSelectionChange:e}):null}const yA=[0,0],tV={x:0,y:0,zoom:1},rV=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Qk=[...rV,"rfId"],nV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Zk={translateExtent:Vc,nodeOrigin:yA,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function aV(e){const{setNodes:t,setEdges:r,setMinZoom:n,setMaxZoom:a,setTranslateExtent:i,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:c}=je(nV,qe),u=Ye();y.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{d.current=Zk,l()}),[]);const d=y.useRef(Zk);return y.useEffect(()=>{for(const f of Qk){const h=e[f],m=d.current[f];h!==m&&(typeof e[f]>"u"||(f==="nodes"?t(h):f==="edges"?r(h):f==="minZoom"?n(h):f==="maxZoom"?a(h):f==="translateExtent"?i(h):f==="nodeExtent"?s(h):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:XU(h)}):f==="fitView"?u.setState({fitViewQueued:h}):f==="fitViewOptions"?u.setState({fitViewOptions:h}):u.setState({[f]:h})))}d.current=e},Qk.map(f=>e[f])),null}function Jk(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function iV(e){var n;const[t,r]=y.useState(e==="system"?null:e);return y.useEffect(()=>{if(e!=="system"){r(e);return}const a=Jk(),i=()=>r(a!=null&&a.matches?"dark":"light");return i(),a==null||a.addEventListener("change",i),()=>{a==null||a.removeEventListener("change",i)}},[e]),t!==null?t:(n=Jk())!=null&&n.matches?"dark":"light"}const eN=typeof document<"u"?document:null;function Yc(e=null,t={target:eN,actInsideInputWithModifier:!0}){const[r,n]=y.useState(!1),a=y.useRef(!1),i=y.useRef(new Set([])),[s,l]=y.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return y.useEffect(()=>{const c=(t==null?void 0:t.target)??eN,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=m=>{var x,g;if(a.current=m.ctrlKey||m.metaKey||m.shiftKey||m.altKey,(!a.current||a.current&&!u)&&GO(m))return!1;const v=rN(m.code,l);if(i.current.add(m[v]),tN(s,i.current,!1)){const w=((g=(x=m.composedPath)==null?void 0:x.call(m))==null?void 0:g[0])||m.target,b=(w==null?void 0:w.nodeName)==="BUTTON"||(w==null?void 0:w.nodeName)==="A";t.preventDefault!==!1&&(a.current||!b)&&m.preventDefault(),n(!0)}},f=m=>{const p=rN(m.code,l);tN(s,i.current,!0)?(n(!1),i.current.clear()):i.current.delete(m[p]),m.key==="Meta"&&i.current.clear(),a.current=!1},h=()=>{i.current.clear(),n(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,n]),r}function tN(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function rN(e,t){return t.includes(e)?"code":"key"}const sV=()=>{const e=Ye();return y.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:n}=e.getState();return n?n.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[n,a,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??n,y:t.y??a,zoom:t.zoom??i},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,n]=e.getState().transform;return{x:t,y:r,zoom:n}},setCenter:async(t,r,n)=>e.getState().setCenter(t,r,n),fitBounds:async(t,r)=>{const{width:n,height:a,minZoom:i,maxZoom:s,panZoom:l}=e.getState(),c=cb(t,n,a,i,s,(r==null?void 0:r.padding)??.1);return l?(await l.setViewport(c,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:n,snapGrid:a,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:l,y:c}=s.getBoundingClientRect(),u={x:t.x-l,y:t.y-c},d=r.snapGrid??a,f=r.snapToGrid??i;return Iu(u,n,f,d)},flowToScreenPosition:t=>{const{transform:r,domNode:n}=e.getState();if(!n)return t;const{x:a,y:i}=n.getBoundingClientRect(),s=bh(t,r);return{x:s.x+a,y:s.y+i}}}),[])};function vA(e,t){const r=[],n=new Map,a=[];for(const i of e)if(i.type==="add"){a.push(i);continue}else if(i.type==="remove"||i.type==="replace")n.set(i.id,[i]);else{const s=n.get(i.id);s?s.push(i):n.set(i.id,[i])}for(const i of t){const s=n.get(i.id);if(!s){r.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){r.push({...s[0].item});continue}const l={...i};for(const c of s)oV(c,l);r.push(l)}return a.length&&a.forEach(i=>{i.index!==void 0?r.splice(i.index,0,{...i.item}):r.push({...i.item})}),r}function oV(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function xA(e,t){return vA(e,t)}function bA(e,t){return vA(e,t)}function Bi(e,t){return{id:e,type:"select",selected:t}}function oo(e,t=new Set,r=!1){const n=[];for(const[a,i]of e){const s=t.has(a);!(i.selected===void 0&&!s)&&i.selected!==s&&(r&&(i.selected=s),n.push(Bi(i.id,s)))}return n}function nN({items:e=[],lookup:t}){var a;const r=[],n=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const l=t.get(s.id),c=((a=l==null?void 0:l.internals)==null?void 0:a.userNode)??l;c!==void 0&&c!==s&&r.push({id:s.id,item:s,type:"replace"}),c===void 0&&r.push({item:s,type:"add",index:i})}for(const[i]of t)n.get(i)===void 0&&r.push({id:i,type:"remove"});return r}function aN(e){return{id:e.id,type:"remove"}}const iN=e=>FU(e),lV=e=>BO(e);function wA(e){return y.forwardRef(e)}const cV=typeof window<"u"?y.useLayoutEffect:y.useEffect;function sN(e){const[t,r]=y.useState(BigInt(0)),[n]=y.useState(()=>uV(()=>r(a=>a+BigInt(1))));return cV(()=>{const a=n.get();a.length&&(e(a),n.reset())},[t]),n}function uV(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const jA=y.createContext(null);function dV({children:e}){const t=Ye(),r=y.useCallback(l=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:d,onNodesChange:f,nodeLookup:h,fitViewQueued:m,onNodesChangeMiddlewareMap:p}=t.getState();let v=c;for(const g of l)v=typeof g=="function"?g(v):g;let x=nN({items:v,lookup:h});for(const g of p.values())x=g(x);d&&u(v),x.length>0?f==null||f(x):m&&window.requestAnimationFrame(()=>{const{fitViewQueued:g,nodes:w,setNodes:b}=t.getState();g&&b(w)})},[]),n=sN(r),a=y.useCallback(l=>{const{edges:c=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:h}=t.getState();let m=c;for(const p of l)m=typeof p=="function"?p(m):p;d?u(m):f&&f(nN({items:m,lookup:h}))},[]),i=sN(a),s=y.useMemo(()=>({nodeQueue:n,edgeQueue:i}),[]);return o.jsx(jA.Provider,{value:s,children:e})}function fV(){const e=y.useContext(jA);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const hV=e=>!!e.panZoom;function gl(){const e=sV(),t=Ye(),r=fV(),n=je(hV),a=y.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),s=f=>{r.nodeQueue.push(f)},l=f=>{r.edgeQueue.push(f)},c=f=>{var g,w;const{nodeLookup:h,nodeOrigin:m}=t.getState(),p=iN(f)?f:h.get(f.id),v=p.parentId?qO(p.position,p.measured,p.parentId,h,m):p.position,x={...p,position:v,width:((g=p.measured)==null?void 0:g.width)??p.width,height:((w=p.measured)==null?void 0:w.height)??p.height};return qo(x)},u=(f,h,m={replace:!1})=>{s(p=>p.map(v=>{if(v.id===f){const x=typeof h=="function"?h(v):h;return m.replace&&iN(x)?x:{...v,...x}}return v}))},d=(f,h,m={replace:!1})=>{l(p=>p.map(v=>{if(v.id===f){const x=typeof h=="function"?h(v):h;return m.replace&&lV(x)?x:{...v,...x}}return v}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var h;return(h=i(f))==null?void 0:h.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(h=>({...h}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:s,setEdges:l,addNodes:f=>{const h=Array.isArray(f)?f:[f];r.nodeQueue.push(m=>[...m,...h])},addEdges:f=>{const h=Array.isArray(f)?f:[f];r.edgeQueue.push(m=>[...m,...h])},toObject:()=>{const{nodes:f=[],edges:h=[],transform:m}=t.getState(),[p,v,x]=m;return{nodes:f.map(g=>({...g})),edges:h.map(g=>({...g})),viewport:{x:p,y:v,zoom:x}}},deleteElements:async({nodes:f=[],edges:h=[]})=>{const{nodes:m,edges:p,onNodesDelete:v,onEdgesDelete:x,triggerNodeChanges:g,triggerEdgeChanges:w,onDelete:b,onBeforeDelete:j}=t.getState(),{nodes:k,edges:_}=await WU({nodesToRemove:f,edgesToRemove:h,nodes:m,edges:p,onBeforeDelete:j}),N=_.length>0,S=k.length>0;if(N){const E=_.map(aN);x==null||x(_),w(E)}if(S){const E=k.map(aN);v==null||v(k),g(E)}return(S||N)&&(b==null||b({nodes:k,edges:_})),{deletedNodes:k,deletedEdges:_}},getIntersectingNodes:(f,h=!0,m)=>{const p=Rk(f),v=p?f:c(f),x=m!==void 0;return v?(m||t.getState().nodes).filter(g=>{const w=t.getState().nodeLookup.get(g.id);if(w&&!p&&(g.id===f.id||!w.internals.positionAbsolute))return!1;const b=qo(x?g:w),j=Kc(b,v);return h&&j>0||j>=b.width*b.height||j>=v.width*v.height}):[]},isNodeIntersecting:(f,h,m=!0)=>{const v=Rk(f)?f:c(f);if(!v)return!1;const x=Kc(v,h);return m&&x>0||x>=h.width*h.height||x>=v.width*v.height},updateNode:u,updateNodeData:(f,h,m={replace:!1})=>{u(f,p=>{const v=typeof h=="function"?h(p):h;return m.replace?{...p,data:v}:{...p,data:{...p.data,...v}}},m)},updateEdge:d,updateEdgeData:(f,h,m={replace:!1})=>{d(f,p=>{const v=typeof h=="function"?h(p):h;return m.replace?{...p,data:v}:{...p,data:{...p.data,...v}}},m)},getNodesBounds:f=>{const{nodeLookup:h,nodeOrigin:m}=t.getState();return BU(f,{nodeLookup:h,nodeOrigin:m})},getHandleConnections:({type:f,id:h,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}-${f}${h?`-${h}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:h,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}${f?h?`-${f}-${h}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const h=t.getState().fitViewResolver??GU();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:h}),r.nodeQueue.push(m=>[...m]),h.promise}}},[]);return y.useMemo(()=>({...a,...e,viewportInitialized:n}),[n])}const oN=e=>e.selected,mV=typeof window<"u"?window:void 0;function pV({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=Ye(),{deleteElements:n}=gl(),a=Yc(e,{actInsideInputWithModifier:!1}),i=Yc(t,{target:mV});y.useEffect(()=>{if(a){const{edges:s,nodes:l}=r.getState();n({nodes:l.filter(oN),edges:s.filter(oN)}),r.setState({nodesSelectionActive:!1})}},[a]),y.useEffect(()=>{r.setState({multiSelectionActive:i})},[i])}function gV(e){const t=Ye();y.useEffect(()=>{const r=()=>{var a,i,s,l;if(!e.current||!(((i=(a=e.current).checkVisibility)==null?void 0:i.call(a))??!0))return!1;const n=ub(e.current);(n.height===0||n.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",Wn.error004())),t.setState({width:n.width||500,height:n.height||500})};if(e.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}}},[])}const Xm={position:"absolute",width:"100%",height:"100%",top:0,left:0},yV=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function vV({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:a=.5,panOnScrollMode:i=hs.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:u,minZoom:d,maxZoom:f,zoomActivationKeyCode:h,preventScrolling:m=!0,children:p,noWheelClassName:v,noPanClassName:x,onViewportChange:g,isControlledViewport:w,paneClickDistance:b,selectionOnDrag:j}){const k=Ye(),_=y.useRef(null),{userSelectionActive:N,lib:S,connectionInProgress:E}=je(yV,qe),T=Yc(h),O=y.useRef();gV(_);const P=y.useCallback(L=>{g==null||g({x:L[0],y:L[1],zoom:L[2]}),w||k.setState({transform:L})},[g,w]);return y.useEffect(()=>{if(_.current){O.current=AH({domNode:_.current,minZoom:d,maxZoom:f,translateExtent:u,viewport:c,onDraggingChange:I=>k.setState({paneDragging:I}),onPanZoomStart:(I,R)=>{const{onViewportChangeStart:A,onMoveStart:M}=k.getState();M==null||M(I,R),A==null||A(R)},onPanZoom:(I,R)=>{const{onViewportChange:A,onMove:M}=k.getState();M==null||M(I,R),A==null||A(R)},onPanZoomEnd:(I,R)=>{const{onViewportChangeEnd:A,onMoveEnd:M}=k.getState();M==null||M(I,R),A==null||A(R)}});const{x:L,y:C,zoom:D}=O.current.getViewport();return k.setState({panZoom:O.current,transform:[L,C,D],domNode:_.current.closest(".react-flow")}),()=>{var I;(I=O.current)==null||I.destroy()}}},[]),y.useEffect(()=>{var L;(L=O.current)==null||L.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:a,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:T,preventScrolling:m,noPanClassName:x,userSelectionActive:N,noWheelClassName:v,lib:S,onTransformChange:P,connectionInProgress:E,selectionOnDrag:j,paneClickDistance:b})},[e,t,r,n,a,i,s,l,T,m,x,N,v,S,P,E,j,b]),o.jsx("div",{className:"react-flow__renderer",ref:_,style:Xm,children:p})}const xV=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function bV(){const{userSelectionActive:e,userSelectionRect:t}=je(xV,qe);return e&&t?o.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const zg=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},wV=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function jV({isSelecting:e,selectionKeyPressed:t,selectionMode:r=Wc.Full,panOnDrag:n,paneClickDistance:a,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:m,children:p}){const v=Ye(),{userSelectionActive:x,elementsSelectable:g,dragging:w,connectionInProgress:b}=je(wV,qe),j=g&&(e||x),k=y.useRef(null),_=y.useRef(),N=y.useRef(new Set),S=y.useRef(new Set),E=y.useRef(!1),T=A=>{if(E.current||b){E.current=!1;return}c==null||c(A),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},O=A=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){A.preventDefault();return}u==null||u(A)},P=d?A=>d(A):void 0,L=A=>{E.current&&(A.stopPropagation(),E.current=!1)},C=A=>{var Q,le;const{domNode:M}=v.getState();if(_.current=M==null?void 0:M.getBoundingClientRect(),!_.current)return;const z=A.target===k.current;if(!z&&!!A.target.closest(".nokey")||!e||!(i&&z||t)||A.button!==0||!A.isPrimary)return;(le=(Q=A.target)==null?void 0:Q.setPointerCapture)==null||le.call(Q,A.pointerId),E.current=!1;const{x:Y,y:q}=xn(A.nativeEvent,_.current);v.setState({userSelectionRect:{width:0,height:0,startX:Y,startY:q,x:Y,y:q}}),z||(A.stopPropagation(),A.preventDefault())},D=A=>{const{userSelectionRect:M,transform:z,nodeLookup:H,edgeLookup:F,connectionLookup:Y,triggerNodeChanges:q,triggerEdgeChanges:Q,defaultEdgeOptions:le,resetSelectedElements:Z}=v.getState();if(!_.current||!M)return;const{x:X,y:B}=xn(A.nativeEvent,_.current),{startX:ee,startY:J}=M;if(!E.current){const me=t?0:a;if(Math.hypot(X-ee,B-J)<=me)return;Z(),s==null||s(A)}E.current=!0;const K={startX:ee,startY:J,x:X<ee?X:ee,y:B<J?B:J,width:Math.abs(X-ee),height:Math.abs(B-J)},re=N.current,ce=S.current;N.current=new Set(lb(H,K,z,r===Wc.Partial,!0).map(me=>me.id)),S.current=new Set;const ge=(le==null?void 0:le.selectable)??!0;for(const me of N.current){const Ie=Y.get(me);if(Ie)for(const{edgeId:U}of Ie.values()){const ne=F.get(U);ne&&(ne.selectable??ge)&&S.current.add(U)}}if(!Lk(re,N.current)){const me=oo(H,N.current,!0);q(me)}if(!Lk(ce,S.current)){const me=oo(F,S.current);Q(me)}v.setState({userSelectionRect:K,userSelectionActive:!0,nodesSelectionActive:!1})},I=A=>{var M,z;A.button===0&&((z=(M=A.target)==null?void 0:M.releasePointerCapture)==null||z.call(M,A.pointerId),!x&&A.target===k.current&&v.getState().userSelectionRect&&(T==null||T(A)),v.setState({userSelectionActive:!1,userSelectionRect:null}),E.current&&(l==null||l(A),v.setState({nodesSelectionActive:N.current.size>0})))},R=n===!0||Array.isArray(n)&&n.includes(0);return o.jsxs("div",{className:ht(["react-flow__pane",{draggable:R,dragging:w,selection:e}]),onClick:j?void 0:zg(T,k),onContextMenu:zg(O,k),onWheel:zg(P,k),onPointerEnter:j?void 0:f,onPointerMove:j?D:h,onPointerUp:j?I:void 0,onPointerDownCapture:j?C:void 0,onClickCapture:j?L:void 0,onPointerLeave:m,ref:k,style:Xm,children:[p,o.jsx(bV,{})]})}function $y({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",Wn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):a([e])}function kA({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:i,nodeClickDistance:s}){const l=Ye(),[c,u]=y.useState(!1),d=y.useRef();return y.useEffect(()=>{d.current=yH({getStoreItems:()=>l.getState(),onNodeMouseDown:f=>{$y({id:f,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),y.useEffect(()=>{var f,h;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(h=d.current)==null||h.update({noDragClassName:r,handleSelector:n,domNode:e.current,isSelectable:i,nodeId:a,nodeClickDistance:s}),()=>{var m;(m=d.current)==null||m.destroy()}},[r,n,t,i,e,a]),c}const kV=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function NA(){const e=Ye();return y.useCallback(r=>{const{nodeExtent:n,snapToGrid:a,snapGrid:i,nodesDraggable:s,onError:l,updateNodePositions:c,nodeLookup:u,nodeOrigin:d}=e.getState(),f=new Map,h=kV(s),m=a?i[0]:5,p=a?i[1]:5,v=r.direction.x*m*r.factor,x=r.direction.y*p*r.factor;for(const[,g]of u){if(!h(g))continue;let w={x:g.internals.positionAbsolute.x+v,y:g.internals.positionAbsolute.y+x};a&&(w=Mu(w,i));const{position:b,positionAbsolute:j}=UO({nodeId:g.id,nextPosition:w,nodeLookup:u,nodeExtent:n,nodeOrigin:d,onError:l});g.position=b,g.internals.positionAbsolute=j,f.set(g.id,g)}c(f)},[])}const gb=y.createContext(null),NV=gb.Provider;gb.Consumer;const _A=()=>y.useContext(gb),_V=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),SV=(e,t,r)=>n=>{const{connectionClickStartHandle:a,connectionMode:i,connection:s}=n,{fromHandle:l,toHandle:c,isValid:u}=s,d=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===r;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===r,connectingTo:d,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,isPossibleEndHandle:i===Wo.Strict?(l==null?void 0:l.type)!==r:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:d&&u}};function EV({type:e="source",position:t=de.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},m){var D,I;const p=s||null,v=e==="target",x=Ye(),g=_A(),{connectOnClick:w,noPanClassName:b,rfId:j}=je(_V,qe),{connectingFrom:k,connectingTo:_,clickConnecting:N,isPossibleEndHandle:S,connectionInProcess:E,clickConnectionInProcess:T,valid:O}=je(SV(g,p,e),qe);g||(I=(D=x.getState()).onError)==null||I.call(D,"010",Wn.error010());const P=R=>{const{defaultEdgeOptions:A,onConnect:M,hasDefaultEdges:z}=x.getState(),H={...A,...R};if(z){const{edges:F,setEdges:Y}=x.getState();Y(eA(H,F))}M==null||M(H),l==null||l(H)},L=R=>{if(!g)return;const A=XO(R.nativeEvent);if(a&&(A&&R.button===0||!A)){const M=x.getState();Ly.onPointerDown(R.nativeEvent,{handleDomNode:R.currentTarget,autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:v,handleId:p,nodeId:g,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:P,isValidConnection:r||M.isValidConnection,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed,dragThreshold:M.connectionDragThreshold})}A?d==null||d(R):f==null||f(R)},C=R=>{const{onClickConnectStart:A,onClickConnectEnd:M,connectionClickStartHandle:z,connectionMode:H,isValidConnection:F,lib:Y,rfId:q,nodeLookup:Q,connection:le}=x.getState();if(!g||!z&&!a)return;if(!z){A==null||A(R.nativeEvent,{nodeId:g,handleId:p,handleType:e}),x.setState({connectionClickStartHandle:{nodeId:g,type:e,id:p}});return}const Z=YO(R.target),X=r||F,{connection:B,isValid:ee}=Ly.isValid(R.nativeEvent,{handle:{nodeId:g,id:p,type:e},connectionMode:H,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:X,flowId:q,doc:Z,lib:Y,nodeLookup:Q});ee&&B&&P(B);const J=structuredClone(le);delete J.inProgress,J.toPosition=J.toHandle?J.toHandle.position:null,M==null||M(R,J),x.setState({connectionClickStartHandle:null})};return o.jsx("div",{"data-handleid":p,"data-nodeid":g,"data-handlepos":t,"data-id":`${j}-${g}-${p}-${e}`,className:ht(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",b,u,{source:!v,target:v,connectable:n,connectablestart:a,connectableend:i,clickconnecting:N,connectingfrom:k,connectingto:_,valid:O,connectionindicator:n&&(!E||S)&&(E||T?i:a)}]),onMouseDown:L,onTouchStart:L,onClick:w?C:void 0,ref:m,...h,children:c})}const Xo=y.memo(wA(EV));function CV({data:e,isConnectable:t,sourcePosition:r=de.Bottom}){return o.jsxs(o.Fragment,{children:[e==null?void 0:e.label,o.jsx(Xo,{type:"source",position:r,isConnectable:t})]})}function PV({data:e,isConnectable:t,targetPosition:r=de.Top,sourcePosition:n=de.Bottom}){return o.jsxs(o.Fragment,{children:[o.jsx(Xo,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,o.jsx(Xo,{type:"source",position:n,isConnectable:t})]})}function OV(){return null}function AV({data:e,isConnectable:t,targetPosition:r=de.Top}){return o.jsxs(o.Fragment,{children:[o.jsx(Xo,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const jh={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},lN={input:CV,default:PV,output:AV,group:OV};function TV(e){var t,r,n,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((n=e.style)==null?void 0:n.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const MV=e=>{const{width:t,height:r,x:n,y:a}=Tu(e.nodeLookup,{filter:i=>!!i.selected});return{width:vn(t)?t:null,height:vn(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${n}px,${a}px)`}};function IV({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=Ye(),{width:a,height:i,transformString:s,userSelectionActive:l}=je(MV,qe),c=NA(),u=y.useRef(null);if(y.useEffect(()=>{var h;r||(h=u.current)==null||h.focus({preventScroll:!0})},[r]),kA({nodeRef:u}),l||!a||!i)return null;const d=e?h=>{const m=n.getState().nodes.filter(p=>p.selected);e(h,m)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(jh,h.key)&&(h.preventDefault(),c({direction:jh[h.key],factor:h.shiftKey?4:1}))};return o.jsx("div",{className:ht(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:o.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:r?void 0:-1,onKeyDown:r?void 0:f,style:{width:a,height:i}})})}const cN=typeof window<"u"?window:void 0,DV=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function SA({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:d,selectionMode:f,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:p,panActivationKeyCode:v,zoomActivationKeyCode:x,elementsSelectable:g,zoomOnScroll:w,zoomOnPinch:b,panOnScroll:j,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:S,defaultViewport:E,translateExtent:T,minZoom:O,maxZoom:P,preventScrolling:L,onSelectionContextMenu:C,noWheelClassName:D,noPanClassName:I,disableKeyboardA11y:R,onViewportChange:A,isControlledViewport:M}){const{nodesSelectionActive:z,userSelectionActive:H}=je(DV,qe),F=Yc(u,{target:cN}),Y=Yc(v,{target:cN}),q=Y||S,Q=Y||j,le=d&&q!==!0,Z=F||H||le;return pV({deleteKeyCode:c,multiSelectionKeyCode:p}),o.jsx(vV,{onPaneContextMenu:i,elementsSelectable:g,zoomOnScroll:w,zoomOnPinch:b,panOnScroll:Q,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:!F&&q,defaultViewport:E,translateExtent:T,minZoom:O,maxZoom:P,zoomActivationKeyCode:x,preventScrolling:L,noWheelClassName:D,noPanClassName:I,onViewportChange:A,isControlledViewport:M,paneClickDistance:l,selectionOnDrag:le,children:o.jsxs(jV,{onSelectionStart:h,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:q,isSelecting:!!Z,selectionMode:f,selectionKeyPressed:F,paneClickDistance:l,selectionOnDrag:le,children:[e,z&&o.jsx(IV,{onSelectionContextMenu:C,noPanClassName:I,disableKeyboardA11y:R})]})})}SA.displayName="FlowRenderer";const RV=y.memo(SA),LV=e=>t=>e?lb(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function $V(e){return je(y.useCallback(LV(e),[e]),qe)}const zV=e=>e.updateNodeInternals;function FV(){const e=je(zV),[t]=y.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(a=>{const i=a.target.getAttribute("data-id");n.set(i,{id:i,nodeElement:a.target,force:!0})}),e(n)}));return y.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function BV({node:e,nodeType:t,hasDimensions:r,resizeObserver:n}){const a=Ye(),i=y.useRef(null),s=y.useRef(null),l=y.useRef(e.sourcePosition),c=y.useRef(e.targetPosition),u=y.useRef(t),d=r&&!!e.internals.handleBounds;return y.useEffect(()=>{i.current&&!e.hidden&&(!d||s.current!==i.current)&&(s.current&&(n==null||n.unobserve(s.current)),n==null||n.observe(i.current),s.current=i.current)},[d,e.hidden]),y.useEffect(()=>()=>{s.current&&(n==null||n.unobserve(s.current),s.current=null)},[]),y.useEffect(()=>{if(i.current){const f=u.current!==t,h=l.current!==e.sourcePosition,m=c.current!==e.targetPosition;(f||h||m)&&(u.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function UV({id:e,onClick:t,onMouseEnter:r,onMouseMove:n,onMouseLeave:a,onContextMenu:i,onDoubleClick:s,nodesDraggable:l,elementsSelectable:c,nodesConnectable:u,nodesFocusable:d,resizeObserver:f,noDragClassName:h,noPanClassName:m,disableKeyboardA11y:p,rfId:v,nodeTypes:x,nodeClickDistance:g,onError:w}){const{node:b,internals:j,isParent:k}=je(X=>{const B=X.nodeLookup.get(e),ee=X.parentLookup.has(e);return{node:B,internals:B.internals,isParent:ee}},qe);let _=b.type||"default",N=(x==null?void 0:x[_])||lN[_];N===void 0&&(w==null||w("003",Wn.error003(_)),_="default",N=(x==null?void 0:x.default)||lN.default);const S=!!(b.draggable||l&&typeof b.draggable>"u"),E=!!(b.selectable||c&&typeof b.selectable>"u"),T=!!(b.connectable||u&&typeof b.connectable>"u"),O=!!(b.focusable||d&&typeof b.focusable>"u"),P=Ye(),L=KO(b),C=BV({node:b,nodeType:_,hasDimensions:L,resizeObserver:f}),D=kA({nodeRef:C,disabled:b.hidden||!S,noDragClassName:h,handleSelector:b.dragHandle,nodeId:e,isSelectable:E,nodeClickDistance:g}),I=NA();if(b.hidden)return null;const R=La(b),A=TV(b),M=E||S||t||r||n||a,z=r?X=>r(X,{...j.userNode}):void 0,H=n?X=>n(X,{...j.userNode}):void 0,F=a?X=>a(X,{...j.userNode}):void 0,Y=i?X=>i(X,{...j.userNode}):void 0,q=s?X=>s(X,{...j.userNode}):void 0,Q=X=>{const{selectNodesOnDrag:B,nodeDragThreshold:ee}=P.getState();E&&(!B||!S||ee>0)&&$y({id:e,store:P,nodeRef:C}),t&&t(X,{...j.userNode})},le=X=>{if(!(GO(X.nativeEvent)||p)){if(LO.includes(X.key)&&E){const B=X.key==="Escape";$y({id:e,store:P,unselect:B,nodeRef:C})}else if(S&&b.selected&&Object.prototype.hasOwnProperty.call(jh,X.key)){X.preventDefault();const{ariaLabelConfig:B}=P.getState();P.setState({ariaLiveMessage:B["node.a11yDescription.ariaLiveMessage"]({direction:X.key.replace("Arrow","").toLowerCase(),x:~~j.positionAbsolute.x,y:~~j.positionAbsolute.y})}),I({direction:jh[X.key],factor:X.shiftKey?4:1})}}},Z=()=>{var ce;if(p||!((ce=C.current)!=null&&ce.matches(":focus-visible")))return;const{transform:X,width:B,height:ee,autoPanOnNodeFocus:J,setCenter:K}=P.getState();if(!J)return;lb(new Map([[e,b]]),{x:0,y:0,width:B,height:ee},X,!0).length>0||K(b.position.x+R.width/2,b.position.y+R.height/2,{zoom:X[2]})};return o.jsx("div",{className:ht(["react-flow__node",`react-flow__node-${_}`,{[m]:S},b.className,{selected:b.selected,selectable:E,parent:k,draggable:S,dragging:D}]),ref:C,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:M?"all":"none",visibility:L?"visible":"hidden",...b.style,...A},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:H,onMouseLeave:F,onContextMenu:Y,onClick:Q,onDoubleClick:q,onKeyDown:O?le:void 0,tabIndex:O?0:void 0,onFocus:O?Z:void 0,role:b.ariaRole??(O?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${pA}-${v}`,"aria-label":b.ariaLabel,...b.domAttributes,children:o.jsx(NV,{value:e,children:o.jsx(N,{id:e,data:b.data,type:_,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:b.selected??!1,selectable:E,draggable:S,deletable:b.deletable??!0,isConnectable:T,sourcePosition:b.sourcePosition,targetPosition:b.targetPosition,dragging:D,dragHandle:b.dragHandle,zIndex:j.z,parentId:b.parentId,...R})})})}var HV=y.memo(UV);const VV=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function EA(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,onError:i}=je(VV,qe),s=$V(e.onlyRenderVisibleElements),l=FV();return o.jsx("div",{className:"react-flow__nodes",style:Xm,children:s.map(c=>o.jsx(HV,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:i},c))})}EA.displayName="NodeRenderer";const WV=y.memo(EA);function KV(e){return je(y.useCallback(r=>{if(!e)return r.edges.map(a=>a.id);const n=[];if(r.width&&r.height)for(const a of r.edges){const i=r.nodeLookup.get(a.source),s=r.nodeLookup.get(a.target);i&&s&&JU({sourceNode:i,targetNode:s,width:r.width,height:r.height,transform:r.transform})&&n.push(a.id)}return n},[e]),qe)}const qV=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return o.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},YV=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return o.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},uN={[vh.Arrow]:qV,[vh.ArrowClosed]:YV};function GV(e){const t=Ye();return y.useMemo(()=>{var a,i;return Object.prototype.hasOwnProperty.call(uN,e)?uN[e]:((i=(a=t.getState()).onError)==null||i.call(a,"009",Wn.error009(e)),null)},[e])}const XV=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const c=GV(t);return c?o.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:o.jsx(c,{color:r,strokeWidth:s})}):null},CA=({defaultColor:e,rfId:t})=>{const r=je(i=>i.edges),n=je(i=>i.defaultEdgeOptions),a=y.useMemo(()=>sH(r,{id:t,defaultColor:e,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,t,e]);return a.length?o.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:o.jsx("defs",{children:a.map(i=>o.jsx(XV,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};CA.displayName="MarkerDefinitions";var QV=y.memo(CA);function PA({x:e,y:t,label:r,labelStyle:n,labelShowBg:a=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d}){const[f,h]=y.useState({x:1,y:0,width:0,height:0}),m=ht(["react-flow__edge-textwrapper",u]),p=y.useRef(null);return y.useEffect(()=>{if(p.current){const v=p.current.getBBox();h({x:v.x,y:v.y,width:v.width,height:v.height})}},[r]),r?o.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:m,visibility:f.width?"visible":"hidden",...d,children:[a&&o.jsx("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),o.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:n,children:r}),c]}):null}PA.displayName="EdgeText";const ZV=y.memo(PA);function Qo({path:e,labelX:t,labelY:r,label:n,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:u=20,...d}){return o.jsxs(o.Fragment,{children:[o.jsx("path",{...d,d:e,fill:"none",className:ht(["react-flow__edge-path",d.className])}),u?o.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,n&&vn(t)&&vn(r)?o.jsx(ZV,{x:t,y:r,label:n,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function dN({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===de.Left||e===de.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function OA({sourceX:e,sourceY:t,sourcePosition:r=de.Bottom,targetX:n,targetY:a,targetPosition:i=de.Top}){const[s,l]=dN({pos:r,x1:e,y1:t,x2:n,y2:a}),[c,u]=dN({pos:i,x1:n,y1:a,x2:e,y2:t}),[d,f,h,m]=QO({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${n},${a}`,d,f,h,m]}function AA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,sourcePosition:s,targetPosition:l,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:v,markerStart:x,interactionWidth:g})=>{const[w,b,j]=OA({sourceX:r,sourceY:n,sourcePosition:s,targetX:a,targetY:i,targetPosition:l}),k=e.isInternal?void 0:t;return o.jsx(Qo,{id:k,path:w,labelX:b,labelY:j,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:v,markerStart:x,interactionWidth:g})})}const JV=AA({isInternal:!1}),TA=AA({isInternal:!0});JV.displayName="SimpleBezierEdge";TA.displayName="SimpleBezierEdgeInternal";function MA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:m=de.Bottom,targetPosition:p=de.Top,markerEnd:v,markerStart:x,pathOptions:g,interactionWidth:w})=>{const[b,j,k]=wh({sourceX:r,sourceY:n,sourcePosition:m,targetX:a,targetY:i,targetPosition:p,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset,stepPosition:g==null?void 0:g.stepPosition}),_=e.isInternal?void 0:t;return o.jsx(Qo,{id:_,path:b,labelX:j,labelY:k,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:v,markerStart:x,interactionWidth:w})})}const IA=MA({isInternal:!1}),DA=MA({isInternal:!0});IA.displayName="SmoothStepEdge";DA.displayName="SmoothStepEdgeInternal";function RA(e){return y.memo(({id:t,...r})=>{var a;const n=e.isInternal?void 0:t;return o.jsx(IA,{...r,id:n,pathOptions:y.useMemo(()=>{var i;return{borderRadius:0,offset:(i=r.pathOptions)==null?void 0:i.offset}},[(a=r.pathOptions)==null?void 0:a.offset])})})}const eW=RA({isInternal:!1}),LA=RA({isInternal:!0});eW.displayName="StepEdge";LA.displayName="StepEdgeInternal";function $A(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:p,interactionWidth:v})=>{const[x,g,w]=tA({sourceX:r,sourceY:n,targetX:a,targetY:i}),b=e.isInternal?void 0:t;return o.jsx(Qo,{id:b,path:x,labelX:g,labelY:w,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:p,interactionWidth:v})})}const tW=$A({isInternal:!1}),zA=$A({isInternal:!0});tW.displayName="StraightEdge";zA.displayName="StraightEdgeInternal";function FA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,sourcePosition:s=de.Bottom,targetPosition:l=de.Top,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:v,markerStart:x,pathOptions:g,interactionWidth:w})=>{const[b,j,k]=ZO({sourceX:r,sourceY:n,sourcePosition:s,targetX:a,targetY:i,targetPosition:l,curvature:g==null?void 0:g.curvature}),_=e.isInternal?void 0:t;return o.jsx(Qo,{id:_,path:b,labelX:j,labelY:k,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:v,markerStart:x,interactionWidth:w})})}const rW=FA({isInternal:!1}),BA=FA({isInternal:!0});rW.displayName="BezierEdge";BA.displayName="BezierEdgeInternal";const fN={default:BA,straight:zA,step:LA,smoothstep:DA,simplebezier:TA},hN={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},nW=(e,t,r)=>r===de.Left?e-t:r===de.Right?e+t:e,aW=(e,t,r)=>r===de.Top?e-t:r===de.Bottom?e+t:e,mN="react-flow__edgeupdater";function pN({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:i,onMouseOut:s,type:l}){return o.jsx("circle",{onMouseDown:a,onMouseEnter:i,onMouseOut:s,className:ht([mN,`${mN}-${l}`]),cx:nW(t,n,e),cy:aW(r,n,e),r:n,stroke:"transparent",fill:"transparent"})}function iW({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:n,sourceY:a,targetX:i,targetY:s,sourcePosition:l,targetPosition:c,onReconnect:u,onReconnectStart:d,onReconnectEnd:f,setReconnecting:h,setUpdateHover:m}){const p=Ye(),v=(j,k)=>{if(j.button!==0)return;const{autoPanOnConnect:_,domNode:N,isValidConnection:S,connectionMode:E,connectionRadius:T,lib:O,onConnectStart:P,onConnectEnd:L,cancelConnection:C,nodeLookup:D,rfId:I,panBy:R,updateConnection:A}=p.getState(),M=k.type==="target",z=(Y,q)=>{h(!1),f==null||f(Y,r,k.type,q)},H=Y=>u==null?void 0:u(r,Y),F=(Y,q)=>{h(!0),d==null||d(j,r,k.type),P==null||P(Y,q)};Ly.onPointerDown(j.nativeEvent,{autoPanOnConnect:_,connectionMode:E,connectionRadius:T,domNode:N,handleId:k.id,nodeId:k.nodeId,nodeLookup:D,isTarget:M,edgeUpdaterType:k.type,lib:O,flowId:I,cancelConnection:C,panBy:R,isValidConnection:S,onConnect:H,onConnectStart:F,onConnectEnd:L,onReconnectEnd:z,updateConnection:A,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:j.currentTarget})},x=j=>v(j,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),g=j=>v(j,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),w=()=>m(!0),b=()=>m(!1);return o.jsxs(o.Fragment,{children:[(e===!0||e==="source")&&o.jsx(pN,{position:l,centerX:n,centerY:a,radius:t,onMouseDown:x,onMouseEnter:w,onMouseOut:b,type:"source"}),(e===!0||e==="target")&&o.jsx(pN,{position:c,centerX:i,centerY:s,radius:t,onMouseDown:g,onMouseEnter:w,onMouseOut:b,type:"target"})]})}function sW({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:n,onClick:a,onDoubleClick:i,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,rfId:p,edgeTypes:v,noPanClassName:x,onError:g,disableKeyboardA11y:w}){let b=je(K=>K.edgeLookup.get(e));const j=je(K=>K.defaultEdgeOptions);b=j?{...j,...b}:b;let k=b.type||"default",_=(v==null?void 0:v[k])||fN[k];_===void 0&&(g==null||g("011",Wn.error011(k)),k="default",_=(v==null?void 0:v.default)||fN.default);const N=!!(b.focusable||t&&typeof b.focusable>"u"),S=typeof f<"u"&&(b.reconnectable||r&&typeof b.reconnectable>"u"),E=!!(b.selectable||n&&typeof b.selectable>"u"),T=y.useRef(null),[O,P]=y.useState(!1),[L,C]=y.useState(!1),D=Ye(),{zIndex:I,sourceX:R,sourceY:A,targetX:M,targetY:z,sourcePosition:H,targetPosition:F}=je(y.useCallback(K=>{const re=K.nodeLookup.get(b.source),ce=K.nodeLookup.get(b.target);if(!re||!ce)return{zIndex:b.zIndex,...hN};const ge=iH({id:e,sourceNode:re,targetNode:ce,sourceHandle:b.sourceHandle||null,targetHandle:b.targetHandle||null,connectionMode:K.connectionMode,onError:g});return{zIndex:ZU({selected:b.selected,zIndex:b.zIndex,sourceNode:re,targetNode:ce,elevateOnSelect:K.elevateEdgesOnSelect,zIndexMode:K.zIndexMode}),...ge||hN}},[b.source,b.target,b.sourceHandle,b.targetHandle,b.selected,b.zIndex]),qe),Y=y.useMemo(()=>b.markerStart?`url('#${Dy(b.markerStart,p)}')`:void 0,[b.markerStart,p]),q=y.useMemo(()=>b.markerEnd?`url('#${Dy(b.markerEnd,p)}')`:void 0,[b.markerEnd,p]);if(b.hidden||R===null||A===null||M===null||z===null)return null;const Q=K=>{var me;const{addSelectedEdges:re,unselectNodesAndEdges:ce,multiSelectionActive:ge}=D.getState();E&&(D.setState({nodesSelectionActive:!1}),b.selected&&ge?(ce({nodes:[],edges:[b]}),(me=T.current)==null||me.blur()):re([e])),a&&a(K,b)},le=i?K=>{i(K,{...b})}:void 0,Z=s?K=>{s(K,{...b})}:void 0,X=l?K=>{l(K,{...b})}:void 0,B=c?K=>{c(K,{...b})}:void 0,ee=u?K=>{u(K,{...b})}:void 0,J=K=>{var re;if(!w&&LO.includes(K.key)&&E){const{unselectNodesAndEdges:ce,addSelectedEdges:ge}=D.getState();K.key==="Escape"?((re=T.current)==null||re.blur(),ce({edges:[b]})):ge([e])}};return o.jsx("svg",{style:{zIndex:I},children:o.jsxs("g",{className:ht(["react-flow__edge",`react-flow__edge-${k}`,b.className,x,{selected:b.selected,animated:b.animated,inactive:!E&&!a,updating:O,selectable:E}]),onClick:Q,onDoubleClick:le,onContextMenu:Z,onMouseEnter:X,onMouseMove:B,onMouseLeave:ee,onKeyDown:N?J:void 0,tabIndex:N?0:void 0,role:b.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":b.ariaLabel===null?void 0:b.ariaLabel||`Edge from ${b.source} to ${b.target}`,"aria-describedby":N?`${gA}-${p}`:void 0,ref:T,...b.domAttributes,children:[!L&&o.jsx(_,{id:e,source:b.source,target:b.target,type:b.type,selected:b.selected,animated:b.animated,selectable:E,deletable:b.deletable??!0,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,sourceX:R,sourceY:A,targetX:M,targetY:z,sourcePosition:H,targetPosition:F,data:b.data,style:b.style,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerStart:Y,markerEnd:q,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth}),S&&o.jsx(iW,{edge:b,isReconnectable:S,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,sourceX:R,sourceY:A,targetX:M,targetY:z,sourcePosition:H,targetPosition:F,setUpdateHover:P,setReconnecting:C})]})})}var oW=y.memo(sW);const lW=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function UA({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:n,noPanClassName:a,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:m,onReconnectEnd:p,disableKeyboardA11y:v}){const{edgesFocusable:x,edgesReconnectable:g,elementsSelectable:w,onError:b}=je(lW,qe),j=KV(t);return o.jsxs("div",{className:"react-flow__edges",children:[o.jsx(QV,{defaultColor:e,rfId:r}),j.map(k=>o.jsx(oW,{id:k,edgesFocusable:x,edgesReconnectable:g,elementsSelectable:w,noPanClassName:a,onReconnect:i,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,reconnectRadius:f,onDoubleClick:h,onReconnectStart:m,onReconnectEnd:p,rfId:r,onError:b,edgeTypes:n,disableKeyboardA11y:v},k))]})}UA.displayName="EdgeRenderer";const cW=y.memo(UA),uW=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function dW({children:e}){const t=je(uW);return o.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function fW(e){const t=gl(),r=y.useRef(!1);y.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const hW=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function mW(e){const t=je(hW),r=Ye();return y.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function pW(e){return e.connection.inProgress?{...e.connection,to:Iu(e.connection.to,e.transform)}:{...e.connection}}function gW(e){return pW}function yW(e){const t=gW();return je(t,qe)}const vW=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function xW({containerStyle:e,style:t,type:r,component:n}){const{nodesConnectable:a,width:i,height:s,isValid:l,inProgress:c}=je(vW,qe);return!(i&&a&&c)?null:o.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:o.jsx("g",{className:ht(["react-flow__connection",FO(l)]),children:o.jsx(HA,{style:t,type:r,CustomComponent:n,isValid:l})})})}const HA=({style:e,type:t=ei.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:a,from:i,fromNode:s,fromHandle:l,fromPosition:c,to:u,toNode:d,toHandle:f,toPosition:h,pointer:m}=yW();if(!a)return;if(r)return o.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:h,connectionStatus:FO(n),toNode:d,toHandle:f,pointer:m});let p="";const v={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:h};switch(t){case ei.Bezier:[p]=ZO(v);break;case ei.SimpleBezier:[p]=OA(v);break;case ei.Step:[p]=wh({...v,borderRadius:0});break;case ei.SmoothStep:[p]=wh(v);break;default:[p]=tA(v)}return o.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};HA.displayName="ConnectionLine";const bW={};function gN(e=bW){y.useRef(e),Ye(),y.useEffect(()=>{},[e])}function wW(){Ye(),y.useRef(!1),y.useEffect(()=>{},[])}function VA({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:n,onEdgeClick:a,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:h,onSelectionEnd:m,connectionLineType:p,connectionLineStyle:v,connectionLineComponent:x,connectionLineContainerStyle:g,selectionKeyCode:w,selectionOnDrag:b,selectionMode:j,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:N,deleteKeyCode:S,onlyRenderVisibleElements:E,elementsSelectable:T,defaultViewport:O,translateExtent:P,minZoom:L,maxZoom:C,preventScrolling:D,defaultMarkerColor:I,zoomOnScroll:R,zoomOnPinch:A,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:H,zoomOnDoubleClick:F,panOnDrag:Y,onPaneClick:q,onPaneMouseEnter:Q,onPaneMouseMove:le,onPaneMouseLeave:Z,onPaneScroll:X,onPaneContextMenu:B,paneClickDistance:ee,nodeClickDistance:J,onEdgeContextMenu:K,onEdgeMouseEnter:re,onEdgeMouseMove:ce,onEdgeMouseLeave:ge,reconnectRadius:me,onReconnect:Ie,onReconnectStart:U,onReconnectEnd:ne,noDragClassName:he,noWheelClassName:pe,noPanClassName:Me,disableKeyboardA11y:Pe,nodeExtent:jr,rfId:kr,viewport:ir,onViewportChange:sr}){return gN(e),gN(t),wW(),fW(r),mW(ir),o.jsx(RV,{onPaneClick:q,onPaneMouseEnter:Q,onPaneMouseMove:le,onPaneMouseLeave:Z,onPaneContextMenu:B,onPaneScroll:X,paneClickDistance:ee,deleteKeyCode:S,selectionKeyCode:w,selectionOnDrag:b,selectionMode:j,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:N,elementsSelectable:T,zoomOnScroll:R,zoomOnPinch:A,zoomOnDoubleClick:F,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:H,panOnDrag:Y,defaultViewport:O,translateExtent:P,minZoom:L,maxZoom:C,onSelectionContextMenu:f,preventScrolling:D,noDragClassName:he,noWheelClassName:pe,noPanClassName:Me,disableKeyboardA11y:Pe,onViewportChange:sr,isControlledViewport:!!ir,children:o.jsxs(dW,{children:[o.jsx(cW,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:s,onReconnect:Ie,onReconnectStart:U,onReconnectEnd:ne,onlyRenderVisibleElements:E,onEdgeContextMenu:K,onEdgeMouseEnter:re,onEdgeMouseMove:ce,onEdgeMouseLeave:ge,reconnectRadius:me,defaultMarkerColor:I,noPanClassName:Me,disableKeyboardA11y:Pe,rfId:kr}),o.jsx(xW,{style:v,type:p,component:x,containerStyle:g}),o.jsx("div",{className:"react-flow__edgelabel-renderer"}),o.jsx(WV,{nodeTypes:e,onNodeClick:n,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:J,onlyRenderVisibleElements:E,noPanClassName:Me,noDragClassName:he,disableKeyboardA11y:Pe,nodeExtent:jr,rfId:kr}),o.jsx("div",{className:"react-flow__viewport-portal"})]})})}VA.displayName="GraphView";const jW=y.memo(VA),yN=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:s,fitViewOptions:l,minZoom:c=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:f,zIndexMode:h="basic"}={})=>{const m=new Map,p=new Map,v=new Map,x=new Map,g=n??t??[],w=r??e??[],b=d??[0,0],j=f??Vc;aA(v,x,g);const k=Ry(w,m,p,{nodeOrigin:b,nodeExtent:j,zIndexMode:h});let _=[0,0,1];if(s&&a&&i){const N=Tu(m,{filter:O=>!!((O.width||O.initialWidth)&&(O.height||O.initialHeight))}),{x:S,y:E,zoom:T}=cb(N,a,i,c,u,(l==null?void 0:l.padding)??.1);_=[S,E,T]}return{rfId:"1",width:a??0,height:i??0,transform:_,nodes:w,nodesInitialized:k,nodeLookup:m,parentLookup:p,edges:g,edgeLookup:x,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:c,maxZoom:u,translateExtent:Vc,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Wo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...zO},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:KU,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:$O,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},kW=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:s,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h})=>BH((m,p)=>{async function v(){const{nodeLookup:x,panZoom:g,fitViewOptions:w,fitViewResolver:b,width:j,height:k,minZoom:_,maxZoom:N}=p();g&&(await VU({nodes:x,width:j,height:k,panZoom:g,minZoom:_,maxZoom:N},w),b==null||b.resolve(!0),m({fitViewResolver:null}))}return{...yN({nodes:e,edges:t,width:a,height:i,fitView:s,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,defaultNodes:r,defaultEdges:n,zIndexMode:h}),setNodes:x=>{const{nodeLookup:g,parentLookup:w,nodeOrigin:b,elevateNodesOnSelect:j,fitViewQueued:k,zIndexMode:_}=p(),N=Ry(x,g,w,{nodeOrigin:b,nodeExtent:f,elevateNodesOnSelect:j,checkEquality:!0,zIndexMode:_});k&&N?(v(),m({nodes:x,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):m({nodes:x,nodesInitialized:N})},setEdges:x=>{const{connectionLookup:g,edgeLookup:w}=p();aA(g,w,x),m({edges:x})},setDefaultNodesAndEdges:(x,g)=>{if(x){const{setNodes:w}=p();w(x),m({hasDefaultNodes:!0})}if(g){const{setEdges:w}=p();w(g),m({hasDefaultEdges:!0})}},updateNodeInternals:x=>{const{triggerNodeChanges:g,nodeLookup:w,parentLookup:b,domNode:j,nodeOrigin:k,nodeExtent:_,debug:N,fitViewQueued:S,zIndexMode:E}=p(),{changes:T,updatedInternals:O}=hH(x,w,b,j,k,_,E);O&&(cH(w,b,{nodeOrigin:k,nodeExtent:_,zIndexMode:E}),S?(v(),m({fitViewQueued:!1,fitViewOptions:void 0})):m({}),(T==null?void 0:T.length)>0&&(N&&console.log("React Flow: trigger node changes",T),g==null||g(T)))},updateNodePositions:(x,g=!1)=>{const w=[];let b=[];const{nodeLookup:j,triggerNodeChanges:k,connection:_,updateConnection:N,onNodesChangeMiddlewareMap:S}=p();for(const[E,T]of x){const O=j.get(E),P=!!(O!=null&&O.expandParent&&(O!=null&&O.parentId)&&(T!=null&&T.position)),L={id:E,type:"position",position:P?{x:Math.max(0,T.position.x),y:Math.max(0,T.position.y)}:T.position,dragging:g};if(O&&_.inProgress&&_.fromNode.id===O.id){const C=Es(O,_.fromHandle,de.Left,!0);N({..._,from:C})}P&&O.parentId&&w.push({id:E,parentId:O.parentId,rect:{...T.internals.positionAbsolute,width:T.measured.width??0,height:T.measured.height??0}}),b.push(L)}if(w.length>0){const{parentLookup:E,nodeOrigin:T}=p(),O=pb(w,j,E,T);b.push(...O)}for(const E of S.values())b=E(b);k(b)},triggerNodeChanges:x=>{const{onNodesChange:g,setNodes:w,nodes:b,hasDefaultNodes:j,debug:k}=p();if(x!=null&&x.length){if(j){const _=xA(x,b);w(_)}k&&console.log("React Flow: trigger node changes",x),g==null||g(x)}},triggerEdgeChanges:x=>{const{onEdgesChange:g,setEdges:w,edges:b,hasDefaultEdges:j,debug:k}=p();if(x!=null&&x.length){if(j){const _=bA(x,b);w(_)}k&&console.log("React Flow: trigger edge changes",x),g==null||g(x)}},addSelectedNodes:x=>{const{multiSelectionActive:g,edgeLookup:w,nodeLookup:b,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(g){const _=x.map(N=>Bi(N,!0));j(_);return}j(oo(b,new Set([...x]),!0)),k(oo(w))},addSelectedEdges:x=>{const{multiSelectionActive:g,edgeLookup:w,nodeLookup:b,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(g){const _=x.map(N=>Bi(N,!0));k(_);return}k(oo(w,new Set([...x]))),j(oo(b,new Set,!0))},unselectNodesAndEdges:({nodes:x,edges:g}={})=>{const{edges:w,nodes:b,nodeLookup:j,triggerNodeChanges:k,triggerEdgeChanges:_}=p(),N=x||b,S=g||w,E=N.map(O=>{const P=j.get(O.id);return P&&(P.selected=!1),Bi(O.id,!1)}),T=S.map(O=>Bi(O.id,!1));k(E),_(T)},setMinZoom:x=>{const{panZoom:g,maxZoom:w}=p();g==null||g.setScaleExtent([x,w]),m({minZoom:x})},setMaxZoom:x=>{const{panZoom:g,minZoom:w}=p();g==null||g.setScaleExtent([w,x]),m({maxZoom:x})},setTranslateExtent:x=>{var g;(g=p().panZoom)==null||g.setTranslateExtent(x),m({translateExtent:x})},resetSelectedElements:()=>{const{edges:x,nodes:g,triggerNodeChanges:w,triggerEdgeChanges:b,elementsSelectable:j}=p();if(!j)return;const k=g.reduce((N,S)=>S.selected?[...N,Bi(S.id,!1)]:N,[]),_=x.reduce((N,S)=>S.selected?[...N,Bi(S.id,!1)]:N,[]);w(k),b(_)},setNodeExtent:x=>{const{nodes:g,nodeLookup:w,parentLookup:b,nodeOrigin:j,elevateNodesOnSelect:k,nodeExtent:_,zIndexMode:N}=p();x[0][0]===_[0][0]&&x[0][1]===_[0][1]&&x[1][0]===_[1][0]&&x[1][1]===_[1][1]||(Ry(g,w,b,{nodeOrigin:j,nodeExtent:x,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:N}),m({nodeExtent:x}))},panBy:x=>{const{transform:g,width:w,height:b,panZoom:j,translateExtent:k}=p();return mH({delta:x,panZoom:j,transform:g,translateExtent:k,width:w,height:b})},setCenter:async(x,g,w)=>{const{width:b,height:j,maxZoom:k,panZoom:_}=p();if(!_)return Promise.resolve(!1);const N=typeof(w==null?void 0:w.zoom)<"u"?w.zoom:k;return await _.setViewport({x:b/2-x*N,y:j/2-g*N,zoom:N},{duration:w==null?void 0:w.duration,ease:w==null?void 0:w.ease,interpolate:w==null?void 0:w.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{m({connection:{...zO}})},updateConnection:x=>{m({connection:x})},reset:()=>m({...yN()})}},Object.is);function WA({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:n,initialWidth:a,initialHeight:i,initialMinZoom:s,initialMaxZoom:l,initialFitViewOptions:c,fitView:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h,children:m}){const[p]=y.useState(()=>kW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:u,minZoom:s,maxZoom:l,fitViewOptions:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h}));return o.jsx(UH,{value:p,children:o.jsx(dV,{children:m})})}function NW({children:e,nodes:t,edges:r,defaultNodes:n,defaultEdges:a,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:m}){return y.useContext(Ym)?o.jsx(o.Fragment,{children:e}):o.jsx(WA,{initialNodes:t,initialEdges:r,defaultNodes:n,defaultEdges:a,initialWidth:i,initialHeight:s,fitView:l,initialFitViewOptions:c,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:m,children:e})}const _W={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function SW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:i,edgeTypes:s,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:m,onConnectStart:p,onConnectEnd:v,onClickConnectStart:x,onClickConnectEnd:g,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:_,onNodeDragStart:N,onNodeDrag:S,onNodeDragStop:E,onNodesDelete:T,onEdgesDelete:O,onDelete:P,onSelectionChange:L,onSelectionDragStart:C,onSelectionDrag:D,onSelectionDragStop:I,onSelectionContextMenu:R,onSelectionStart:A,onSelectionEnd:M,onBeforeDelete:z,connectionMode:H,connectionLineType:F=ei.Bezier,connectionLineStyle:Y,connectionLineComponent:q,connectionLineContainerStyle:Q,deleteKeyCode:le="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:X=!1,selectionMode:B=Wc.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:J=qc()?"Meta":"Control",zoomActivationKeyCode:K=qc()?"Meta":"Control",snapToGrid:re,snapGrid:ce,onlyRenderVisibleElements:ge=!1,selectNodesOnDrag:me,nodesDraggable:Ie,autoPanOnNodeFocus:U,nodesConnectable:ne,nodesFocusable:he,nodeOrigin:pe=yA,edgesFocusable:Me,edgesReconnectable:Pe,elementsSelectable:jr=!0,defaultViewport:kr=tV,minZoom:ir=.5,maxZoom:sr=2,translateExtent:Ua=Vc,preventScrolling:Nr=!0,nodeExtent:$i,defaultMarkerColor:j3="#b1b1b7",zoomOnScroll:k3=!0,zoomOnPinch:N3=!0,panOnScroll:_3=!1,panOnScrollSpeed:S3=.5,panOnScrollMode:E3=hs.Free,zoomOnDoubleClick:C3=!0,panOnDrag:P3=!0,onPaneClick:O3,onPaneMouseEnter:A3,onPaneMouseMove:T3,onPaneMouseLeave:M3,onPaneScroll:I3,onPaneContextMenu:D3,paneClickDistance:R3=1,nodeClickDistance:L3=0,children:$3,onReconnect:z3,onReconnectStart:F3,onReconnectEnd:B3,onEdgeContextMenu:U3,onEdgeDoubleClick:H3,onEdgeMouseEnter:V3,onEdgeMouseMove:W3,onEdgeMouseLeave:K3,reconnectRadius:q3=10,onNodesChange:Y3,onEdgesChange:G3,noDragClassName:X3="nodrag",noWheelClassName:Q3="nowheel",noPanClassName:y1="nopan",fitView:v1,fitViewOptions:x1,connectOnClick:Z3,attributionPosition:J3,proOptions:eR,defaultEdgeOptions:tR,elevateNodesOnSelect:rR=!0,elevateEdgesOnSelect:nR=!1,disableKeyboardA11y:b1=!1,autoPanOnConnect:aR,autoPanOnNodeDrag:iR,autoPanSpeed:sR,connectionRadius:oR,isValidConnection:lR,onError:cR,style:uR,id:w1,nodeDragThreshold:dR,connectionDragThreshold:fR,viewport:hR,onViewportChange:mR,width:pR,height:gR,colorMode:yR="light",debug:vR,onScroll:ud,ariaLabelConfig:xR,zIndexMode:j1="basic",...bR},wR){const Xp=w1||"1",jR=iV(yR),kR=y.useCallback(k1=>{k1.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),ud==null||ud(k1)},[ud]);return o.jsx("div",{"data-testid":"rf__wrapper",...bR,onScroll:kR,style:{...uR,..._W},ref:wR,className:ht(["react-flow",a,jR]),id:w1,role:"application",children:o.jsxs(NW,{nodes:e,edges:t,width:pR,height:gR,fitView:v1,fitViewOptions:x1,minZoom:ir,maxZoom:sr,nodeOrigin:pe,nodeExtent:$i,zIndexMode:j1,children:[o.jsx(jW,{onInit:u,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:_,nodeTypes:i,edgeTypes:s,connectionLineType:F,connectionLineStyle:Y,connectionLineComponent:q,connectionLineContainerStyle:Q,selectionKeyCode:Z,selectionOnDrag:X,selectionMode:B,deleteKeyCode:le,multiSelectionKeyCode:J,panActivationKeyCode:ee,zoomActivationKeyCode:K,onlyRenderVisibleElements:ge,defaultViewport:kr,translateExtent:Ua,minZoom:ir,maxZoom:sr,preventScrolling:Nr,zoomOnScroll:k3,zoomOnPinch:N3,zoomOnDoubleClick:C3,panOnScroll:_3,panOnScrollSpeed:S3,panOnScrollMode:E3,panOnDrag:P3,onPaneClick:O3,onPaneMouseEnter:A3,onPaneMouseMove:T3,onPaneMouseLeave:M3,onPaneScroll:I3,onPaneContextMenu:D3,paneClickDistance:R3,nodeClickDistance:L3,onSelectionContextMenu:R,onSelectionStart:A,onSelectionEnd:M,onReconnect:z3,onReconnectStart:F3,onReconnectEnd:B3,onEdgeContextMenu:U3,onEdgeDoubleClick:H3,onEdgeMouseEnter:V3,onEdgeMouseMove:W3,onEdgeMouseLeave:K3,reconnectRadius:q3,defaultMarkerColor:j3,noDragClassName:X3,noWheelClassName:Q3,noPanClassName:y1,rfId:Xp,disableKeyboardA11y:b1,nodeExtent:$i,viewport:hR,onViewportChange:mR}),o.jsx(aV,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:m,onConnectStart:p,onConnectEnd:v,onClickConnectStart:x,onClickConnectEnd:g,nodesDraggable:Ie,autoPanOnNodeFocus:U,nodesConnectable:ne,nodesFocusable:he,edgesFocusable:Me,edgesReconnectable:Pe,elementsSelectable:jr,elevateNodesOnSelect:rR,elevateEdgesOnSelect:nR,minZoom:ir,maxZoom:sr,nodeExtent:$i,onNodesChange:Y3,onEdgesChange:G3,snapToGrid:re,snapGrid:ce,connectionMode:H,translateExtent:Ua,connectOnClick:Z3,defaultEdgeOptions:tR,fitView:v1,fitViewOptions:x1,onNodesDelete:T,onEdgesDelete:O,onDelete:P,onNodeDragStart:N,onNodeDrag:S,onNodeDragStop:E,onSelectionDrag:D,onSelectionDragStart:C,onSelectionDragStop:I,onMove:d,onMoveStart:f,onMoveEnd:h,noPanClassName:y1,nodeOrigin:pe,rfId:Xp,autoPanOnConnect:aR,autoPanOnNodeDrag:iR,autoPanSpeed:sR,onError:cR,connectionRadius:oR,isValidConnection:lR,selectNodesOnDrag:me,nodeDragThreshold:dR,connectionDragThreshold:fR,onBeforeDelete:z,debug:vR,ariaLabelConfig:xR,zIndexMode:j1}),o.jsx(eV,{onSelectionChange:L}),$3,o.jsx(GH,{proOptions:eR,position:J3}),o.jsx(YH,{rfId:Xp,disableKeyboardA11y:b1})]})})}var EW=wA(SW);const CW=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function PW({children:e}){const t=je(CW);return t?yu.createPortal(e,t):null}function OW({dimensions:e,lineWidth:t,variant:r,className:n}){return o.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:ht(["react-flow__background-pattern",r,n])})}function AW({radius:e,className:t}){return o.jsx("circle",{cx:e,cy:e,r:e,className:ht(["react-flow__background-pattern","dots",t])})}var wi;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(wi||(wi={}));const TW={[wi.Dots]:1,[wi.Lines]:1,[wi.Cross]:6},MW=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function KA({id:e,variant:t=wi.Dots,gap:r=20,size:n,lineWidth:a=1,offset:i=0,color:s,bgColor:l,style:c,className:u,patternClassName:d}){const f=y.useRef(null),{transform:h,patternId:m}=je(MW,qe),p=n||TW[t],v=t===wi.Dots,x=t===wi.Cross,g=Array.isArray(r)?r:[r,r],w=[g[0]*h[2]||1,g[1]*h[2]||1],b=p*h[2],j=Array.isArray(i)?i:[i,i],k=x?[b,b]:w,_=[j[0]*h[2]||1+k[0]/2,j[1]*h[2]||1+k[1]/2],N=`${m}${e||""}`;return o.jsxs("svg",{className:ht(["react-flow__background",u]),style:{...c,...Xm,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:f,"data-testid":"rf__background",children:[o.jsx("pattern",{id:N,x:h[0]%w[0],y:h[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:v?o.jsx(AW,{radius:b/2,className:d}):o.jsx(OW,{dimensions:k,lineWidth:a,variant:t,className:d})}),o.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}KA.displayName="Background";const IW=y.memo(KA);function DW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:o.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function RW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:o.jsx("path",{d:"M0 0h32v4.2H0z"})})}function LW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:o.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function $W(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function zW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Hd({children:e,className:t,...r}){return o.jsx("button",{type:"button",className:ht(["react-flow__controls-button",t]),...r,children:e})}const FW=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function qA({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left",orientation:h="vertical","aria-label":m}){const p=Ye(),{isInteractive:v,minZoomReached:x,maxZoomReached:g,ariaLabelConfig:w}=je(FW,qe),{zoomIn:b,zoomOut:j,fitView:k}=gl(),_=()=>{b(),i==null||i()},N=()=>{j(),s==null||s()},S=()=>{k(a),l==null||l()},E=()=>{p.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),c==null||c(!v)},T=h==="horizontal"?"horizontal":"vertical";return o.jsxs(Gm,{className:ht(["react-flow__controls",T,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":m??w["controls.ariaLabel"],children:[t&&o.jsxs(o.Fragment,{children:[o.jsx(Hd,{onClick:_,className:"react-flow__controls-zoomin",title:w["controls.zoomIn.ariaLabel"],"aria-label":w["controls.zoomIn.ariaLabel"],disabled:g,children:o.jsx(DW,{})}),o.jsx(Hd,{onClick:N,className:"react-flow__controls-zoomout",title:w["controls.zoomOut.ariaLabel"],"aria-label":w["controls.zoomOut.ariaLabel"],disabled:x,children:o.jsx(RW,{})})]}),r&&o.jsx(Hd,{className:"react-flow__controls-fitview",onClick:S,title:w["controls.fitView.ariaLabel"],"aria-label":w["controls.fitView.ariaLabel"],children:o.jsx(LW,{})}),n&&o.jsx(Hd,{className:"react-flow__controls-interactive",onClick:E,title:w["controls.interactive.ariaLabel"],"aria-label":w["controls.interactive.ariaLabel"],children:v?o.jsx(zW,{}):o.jsx($W,{})}),d]})}qA.displayName="Controls";const BW=y.memo(qA);function UW({id:e,x:t,y:r,width:n,height:a,style:i,color:s,strokeColor:l,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,selected:h,onClick:m}){const{background:p,backgroundColor:v}=i||{},x=s||p||v;return o.jsx("rect",{className:ht(["react-flow__minimap-node",{selected:h},u]),x:t,y:r,rx:d,ry:d,width:n,height:a,style:{fill:x,stroke:l,strokeWidth:c},shapeRendering:f,onClick:m?g=>m(g,e):void 0})}const HW=y.memo(UW),VW=e=>e.nodes.map(t=>t.id),Fg=e=>e instanceof Function?e:()=>e;function WW({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:a,nodeComponent:i=HW,onClick:s}){const l=je(VW,qe),c=Fg(t),u=Fg(e),d=Fg(r),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return o.jsx(o.Fragment,{children:l.map(h=>o.jsx(qW,{id:h,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:n,nodeStrokeWidth:a,NodeComponent:i,onClick:s,shapeRendering:f},h))})}function KW({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:a,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:l,onClick:c}){const{node:u,x:d,y:f,width:h,height:m}=je(p=>{const{internals:v}=p.nodeLookup.get(e),x=v.userNode,{x:g,y:w}=v.positionAbsolute,{width:b,height:j}=La(x);return{node:x,x:g,y:w,width:b,height:j}},qe);return!u||u.hidden||!KO(u)?null:o.jsx(l,{x:d,y:f,width:h,height:m,style:u.style,selected:!!u.selected,className:n(u),color:t(u),borderRadius:a,strokeColor:r(u),strokeWidth:i,shapeRendering:s,onClick:c,id:u.id})}const qW=y.memo(KW);var YW=y.memo(WW);const GW=200,XW=150,QW=e=>!e.hidden,ZW=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?WO(Tu(e.nodeLookup,{filter:QW}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},JW="react-flow__minimap-desc";function YA({style:e,className:t,nodeStrokeColor:r,nodeColor:n,nodeClassName:a="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:c,maskColor:u,maskStrokeColor:d,maskStrokeWidth:f,position:h="bottom-right",onClick:m,onNodeClick:p,pannable:v=!1,zoomable:x=!1,ariaLabel:g,inversePan:w,zoomStep:b=1,offsetScale:j=5}){const k=Ye(),_=y.useRef(null),{boundingRect:N,viewBB:S,rfId:E,panZoom:T,translateExtent:O,flowWidth:P,flowHeight:L,ariaLabelConfig:C}=je(ZW,qe),D=(e==null?void 0:e.width)??GW,I=(e==null?void 0:e.height)??XW,R=N.width/D,A=N.height/I,M=Math.max(R,A),z=M*D,H=M*I,F=j*M,Y=N.x-(z-N.width)/2-F,q=N.y-(H-N.height)/2-F,Q=z+F*2,le=H+F*2,Z=`${JW}-${E}`,X=y.useRef(0),B=y.useRef();X.current=M,y.useEffect(()=>{if(_.current&&T)return B.current=kH({domNode:_.current,panZoom:T,getTransform:()=>k.getState().transform,getViewScale:()=>X.current}),()=>{var re;(re=B.current)==null||re.destroy()}},[T]),y.useEffect(()=>{var re;(re=B.current)==null||re.update({translateExtent:O,width:P,height:L,inversePan:w,pannable:v,zoomStep:b,zoomable:x})},[v,x,w,b,O,P,L]);const ee=m?re=>{var me;const[ce,ge]=((me=B.current)==null?void 0:me.pointer(re))||[0,0];m(re,{x:ce,y:ge})}:void 0,J=p?y.useCallback((re,ce)=>{const ge=k.getState().nodeLookup.get(ce).internals.userNode;p(re,ge)},[]):void 0,K=g??C["minimap.ariaLabel"];return o.jsx(Gm,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*M:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:ht(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:o.jsxs("svg",{width:D,height:I,viewBox:`${Y} ${q} ${Q} ${le}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Z,ref:_,onClick:ee,children:[K&&o.jsx("title",{id:Z,children:K}),o.jsx(YW,{onClick:J,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:i,nodeClassName:a,nodeStrokeWidth:s,nodeComponent:l}),o.jsx("path",{className:"react-flow__minimap-mask",d:`M${Y-F},${q-F}h${Q+F*2}v${le+F*2}h${-Q-F*2}z
        M${S.x},${S.y}h${S.width}v${S.height}h${-S.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}YA.displayName="MiniMap";y.memo(YA);const eK=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,tK={[Go.Line]:"right",[Go.Handle]:"bottom-right"};function rK({nodeId:e,position:t,variant:r=Go.Handle,className:n,style:a=void 0,children:i,color:s,minWidth:l=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:h,autoScale:m=!0,shouldResize:p,onResizeStart:v,onResize:x,onResizeEnd:g}){const w=_A(),b=typeof e=="string"?e:w,j=Ye(),k=y.useRef(null),_=r===Go.Handle,N=je(y.useCallback(eK(_&&m),[_,m]),qe),S=y.useRef(null),E=t??tK[r];y.useEffect(()=>{if(!(!k.current||!b))return S.current||(S.current=LH({domNode:k.current,nodeId:b,getStoreItems:()=>{const{nodeLookup:O,transform:P,snapGrid:L,snapToGrid:C,nodeOrigin:D,domNode:I}=j.getState();return{nodeLookup:O,transform:P,snapGrid:L,snapToGrid:C,nodeOrigin:D,paneDomNode:I}},onChange:(O,P)=>{const{triggerNodeChanges:L,nodeLookup:C,parentLookup:D,nodeOrigin:I}=j.getState(),R=[],A={x:O.x,y:O.y},M=C.get(b);if(M&&M.expandParent&&M.parentId){const z=M.origin??I,H=O.width??M.measured.width??0,F=O.height??M.measured.height??0,Y={id:M.id,parentId:M.parentId,rect:{width:H,height:F,...qO({x:O.x??M.position.x,y:O.y??M.position.y},{width:H,height:F},M.parentId,C,z)}},q=pb([Y],C,D,I);R.push(...q),A.x=O.x?Math.max(z[0]*H,O.x):void 0,A.y=O.y?Math.max(z[1]*F,O.y):void 0}if(A.x!==void 0&&A.y!==void 0){const z={id:b,type:"position",position:{...A}};R.push(z)}if(O.width!==void 0&&O.height!==void 0){const H={id:b,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:O.width,height:O.height}};R.push(H)}for(const z of P){const H={...z,type:"position"};R.push(H)}L(R)},onEnd:({width:O,height:P})=>{const L={id:b,type:"dimensions",resizing:!1,dimensions:{width:O,height:P}};j.getState().triggerNodeChanges([L])}})),S.current.update({controlPosition:E,boundaries:{minWidth:l,minHeight:c,maxWidth:u,maxHeight:d},keepAspectRatio:f,resizeDirection:h,onResizeStart:v,onResize:x,onResizeEnd:g,shouldResize:p}),()=>{var O;(O=S.current)==null||O.destroy()}},[E,l,c,u,d,f,v,x,g,p]);const T=E.split("-");return o.jsx("div",{className:ht(["react-flow__resize-control","nodrag",...T,r,n]),ref:k,style:{...a,scale:N,...s&&{[_?"backgroundColor":"borderColor"]:s}},children:i})}y.memo(rK);const ve=Zx((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:r=>e({executionResult:r}),setGraph:(r,n)=>e({nodes:r,edges:n}),onNodesChange:r=>{e({nodes:xA(r,t().nodes)})},onEdgesChange:r=>{e({edges:bA(r,t().edges)})},onConnect:r=>{e({edges:eA(r,t().edges)})},addNode:(r,n,a={})=>{const i=Ne.get(r);if(!i)return console.error(`Node type ${r} not found in registry`),"";const s=`${r}-${Date.now()}`,l={id:s,type:"custom",position:n,data:{definitionType:r,catalogType:r,...i.getDefaultConfig(),...a}};return e({nodes:[...t().nodes,l]}),s},updateNodeData:(r,n)=>{e({nodes:t().nodes.map(a=>a.id===r?{...a,data:{...a.data,...n}}:a)})},validateGraph:async()=>{const{nodes:r,edges:n}=t();if(r.length===0)return!1;for(const a of r){const i=Ne.get(a.data.definitionType);if(i){const s=i.validate(a.data);if(!s.isValid)return console.warn(`Node ${a.id} validation failed: ${s.message}`),!1}}for(const a of r){const i=Ne.get(a.data.definitionType);if(i&&i.inputs.length>0&&!n.some(l=>l.target===a.id))return console.warn(`Node ${a.id} (${i.label}) is disconnected.`),!1}return!0}})),nK=()=>{const e=Ne.getAll(),t=ve(l=>l.addNode),[r,n]=y.useState(""),a=(l,c)=>{l.dataTransfer.setData("application/reactflow",c),l.dataTransfer.effectAllowed="move"},i=e.filter(l=>l.label.toLowerCase().includes(r.toLowerCase())||l.category.toLowerCase().includes(r.toLowerCase())),s=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return o.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10",children:[o.jsxs("div",{className:"p-4 border-b space-y-3",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Ls,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:r,onChange:l=>n(l.target.value)})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:s.map(l=>{const c=i.filter(u=>u.category===l);return c.length===0?null:o.jsxs("div",{children:[o.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:l}),o.jsx("div",{className:"space-y-2",children:c.map(u=>o.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:d=>a(d,u.type),onClick:()=>t(u.type,{x:100,y:100}),children:[o.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:u.icon&&o.jsx(u.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium truncate",children:u.label}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:u.description})]})]},u.type))})]},l)})})]})};function aK(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const{useRef:iK}=Yr;function sK(e){const t=iK();return r=>{const n=e(r);return aK(t.current,n)?t.current:t.current=n}}const oK=y.memo(({id:e,data:t,selected:r})=>{const n=t.definitionType,a=Ne.get(n),{deleteElements:i}=gl(),s=ve(u=>u.executionResult),l=s==null?void 0:s.node_results[e],c=u=>{u.stopPropagation(),i({nodes:[{id:e}]})};return a?o.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${r?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[o.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[o.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:a.icon&&o.jsx(a.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-sm font-bold",children:a.label}),l&&o.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${l.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:l.status==="success"?o.jsx(vF,{size:10}):o.jsx(yP,{size:10})})]}),o.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:a.category})]}),o.jsx("button",{onClick:c,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:o.jsx(br,{size:14})})]}),o.jsx("div",{className:"p-3",children:a.component?o.jsx(a.component,{data:t}):o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),a.inputs.map((u,d)=>o.jsx(Xo,{type:"target",position:de.Left,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(a.inputs.length+1)}%`},children:o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`input-${u.id}`)),a.outputs.map((u,d)=>o.jsx(Xo,{type:"source",position:de.Right,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(a.outputs.length+1)}%`},children:o.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`output-${u.id}`))]}):o.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[o.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[o.jsx(Sa,{size:16}),o.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),o.jsxs("div",{className:"text-xs mt-1",children:["Type: ",n]})]})}),lK=({id:e,sourceX:t,sourceY:r,targetX:n,targetY:a,sourcePosition:i,targetPosition:s,style:l={},markerEnd:c})=>{const{deleteElements:u}=gl(),[d,f,h]=wh({sourceX:t,sourceY:r,sourcePosition:i,targetX:n,targetY:a,targetPosition:s,borderRadius:24}),m=p=>{p.stopPropagation(),u({edges:[{id:e}]})};return o.jsxs(o.Fragment,{children:[o.jsx(Qo,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),o.jsx(Qo,{path:d,markerEnd:c,style:{...l,strokeWidth:2},className:"react-flow__edge-path"}),o.jsx(PW,{children:o.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${h}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:o.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:m,title:"Remove Connection",children:o.jsx(br,{size:10})})})})]})},cK={custom:oK},uK={custom:lK},dK=()=>{const e=y.useRef(null),{screenToFlowPosition:t}=gl(),{nodes:r,edges:n,onNodesChange:a,onEdgesChange:i,onConnect:s,addNode:l}=ve(sK(d=>({nodes:d.nodes,edges:d.edges,onNodesChange:d.onNodesChange,onEdgesChange:d.onEdgesChange,onConnect:d.onConnect,addNode:d.addNode}))),c=y.useCallback(d=>{d.preventDefault(),d.dataTransfer.dropEffect="move"},[]),u=y.useCallback(d=>{d.preventDefault();const f=d.dataTransfer.getData("application/reactflow");if(typeof f>"u"||!f)return;const h=t({x:d.clientX,y:d.clientY});l(f,h)},[t,l]);return o.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:o.jsxs(EW,{nodes:r,edges:n,onNodesChange:a,onEdgesChange:i,onConnect:s,nodeTypes:cK,onDragOver:c,onDrop:u,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:uK,deleteKeyCode:["Backspace","Delete"],children:[o.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"edge-gradient",children:[o.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),o.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),o.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),o.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[o.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),o.jsx(IW,{}),o.jsx(BW,{position:"top-left"})]})})},fK=()=>o.jsx(WA,{children:o.jsx(dK,{})}),hK=()=>{const e=ve(f=>f.nodes),t=ve(f=>f.updateNodeData),r=ve(f=>f.onNodesChange),[n,a]=y.useState(!1),i=e.find(f=>f.selected);if(!i)return o.jsxs("aside",{className:"w-80 border-l bg-background p-8 flex flex-col items-center justify-center text-muted-foreground text-center shrink-0",children:[o.jsx("div",{className:"p-4 bg-muted/50 rounded-full mb-4",children:o.jsx(Kx,{className:"w-8 h-8 opacity-50"})}),o.jsx("h3",{className:"font-medium mb-1",children:"No Node Selected"}),o.jsx("p",{className:"text-sm",children:"Select a node on the canvas to configure its properties."})]});const s=()=>{r([{id:i.id,type:"select",selected:!1}])},l=()=>{a(!n)},c=i.data.definitionType,u=Ne.get(c);if(!u)return o.jsx("aside",{className:"w-80 border-l bg-background p-4 shrink-0",children:o.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[o.jsx(br,{className:"w-4 h-4"}),"Error: Node definition '",c,"' not found."]})});const d=u.settings;return o.jsxs("aside",{className:`
        border-l bg-background flex flex-col h-full shadow-xl z-20 transition-all duration-300 ease-in-out
        ${n?"absolute right-0 top-0 bottom-0 w-[calc(100%-16rem)]":"w-80 shrink-0"}
      `,children:[o.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/10 rounded-md",children:u.icon&&o.jsx(u.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold text-sm",children:u.label}),o.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:u.category})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:l,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:n?"Collapse":"Expand",children:n?o.jsx(IF,{className:"w-4 h-4"}):o.jsx(MF,{className:"w-4 h-4"})}),o.jsx("button",{onClick:s,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Close",children:o.jsx(br,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:d?o.jsx(d,{config:i.data,onChange:f=>t(i.id,f),nodeId:i.id}):o.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground italic",children:"No configuration options available for this node."})}),o.jsxs("div",{className:"p-3 border-t bg-muted/5 text-[10px] text-muted-foreground font-mono flex justify-between",children:[o.jsxs("span",{children:["ID: ",i.id]}),o.jsx("span",{children:"v1.0"})]})]})},mK=3e3,Ka=50,yl=Zx((e,t)=>{let r=null;return{jobs:[],experimentsJobs:[],isLoading:!1,isDrawerOpen:!1,activeTab:"training",hasMore:!0,skip:0,fetchExperimentsJobs:async n=>{let a;n===null?a=void 0:a=n,e({isLoading:!0});try{const i=await Ht.getJobs(101,0,a),s=Array.isArray(i)?i:[];e({experimentsJobs:s,isLoading:!1})}catch(i){console.error("Failed to fetch experiments jobs:",i),e({isLoading:!1})}},fetchJobs:async n=>{const{activeTab:a}=t();let i;n===void 0?i=a:n===null?i=void 0:i=n,e({isLoading:!0,skip:0});try{const s=await Ht.getJobs(Ka,0,i),l=Array.isArray(s)?s:[];e({jobs:l,isLoading:!1,hasMore:l.length===Ka})}catch(s){console.error("Failed to fetch jobs:",s),e({isLoading:!1})}},loadMoreJobs:async()=>{const{skip:n,jobs:a,isLoading:i,hasMore:s,activeTab:l}=t();if(i||!s)return;const c=n+Ka;e({isLoading:!0});try{const u=await Ht.getJobs(Ka,c,l),d=Array.isArray(u)?u:[];e({jobs:[...a,...d],isLoading:!1,skip:c,hasMore:d.length===Ka})}catch(u){console.error("Failed to load more jobs:",u),e({isLoading:!1})}},submitJob:async n=>{try{const a=await Ht.runPipeline(n);return await t().fetchJobs(),t().startPolling(),a.job_id}catch(a){throw console.error("Failed to submit job:",a),a}},cancelJob:async n=>{try{await Ht.cancelJob(n),await t().fetchJobs()}catch(a){throw console.error("Failed to cancel job:",a),a}},toggleDrawer:n=>{const a=t().isDrawerOpen,i=n!==void 0?n:!a;e({isDrawerOpen:i}),i?(t().fetchJobs(),t().startPolling()):t().jobs.some(l=>l.status==="running"||l.status==="queued")||t().stopPolling()},setTab:n=>{e({activeTab:n}),t().fetchJobs()},startPolling:()=>{r||(r=setInterval(async()=>{const{activeTab:n}=t();try{const a=await Ht.getJobs(Ka,0,n),i=Array.isArray(a)?a:[];e(l=>l.jobs.length<=Ka?{jobs:i}:{jobs:[...i,...l.jobs.slice(Ka)]}),!i.some(l=>l.status==="running"||l.status==="queued")&&!t().isDrawerOpen&&t().stopPolling()}catch(a){console.error("Polling error:",a)}},mK))},stopPolling:()=>{r&&(clearInterval(r),r=null)}}}),yb=(e,t)=>{const r=[],n=new Set,a=[],i=e.find(l=>l.data.definitionType==="dataset_node"),s=i==null?void 0:i.data.datasetId;for(i&&a.push(i.id);a.length>0;){const l=a.shift();if(n.has(l))continue;n.add(l);const c=e.find(p=>p.id===l);if(!c)continue;let u="unknown",d={};const h=t.filter(p=>p.target===l).map(p=>p.source);if(c.data.definitionType==="dataset_node")u="data_loader",d={dataset_id:c.data.datasetId};else if(c.data.definitionType==="imputation_node"){const p=c.data.method||"simple";p==="knn"?(u="KNNImputer",d={columns:c.data.columns,n_neighbors:c.data.n_neighbors,weights:c.data.weights}):p==="iterative"?(u="IterativeImputer",d={columns:c.data.columns,max_iter:c.data.max_iter,estimator:c.data.estimator,random_state:0}):(u="SimpleImputer",d={columns:c.data.columns,strategy:c.data.strategy,fill_value:c.data.fill_value})}else if(c.data.definitionType==="simple_imputer")u="SimpleImputer",d=c.data||{};else if(c.data.definitionType==="drop_missing_columns"||c.data.definitionType==="DropMissingColumns")u="DropMissingColumns",d={columns:c.data.columns||[],missing_threshold:c.data.missing_threshold};else if(c.data.definitionType==="drop_missing_rows"||c.data.definitionType==="DropMissingRows")u="DropMissingRows",d={missing_threshold:c.data.missing_threshold,drop_if_any_missing:c.data.drop_if_any_missing};else if(c.data.definitionType==="deduplicate"||c.data.definitionType==="Deduplicate")u="Deduplicate",d={subset:c.data.subset,keep:c.data.keep};else if(c.data.definitionType==="casting"||c.data.definitionType==="Casting")u="Casting",d={column_types:c.data.column_types};else if(c.data.definitionType==="MissingIndicator"||c.data.definitionType==="missing_indicator")u="MissingIndicator",d={columns:c.data.columns,flag_suffix:c.data.flag_suffix};else if(c.data.definitionType==="scale_numeric_features"){const p=c.data||{},v=p.method||"standard";v==="minmax"?u="MinMaxScaler":v==="maxabs"?u="MaxAbsScaler":v==="robust"?u="RobustScaler":u="StandardScaler",d=p}else if(c.data.definitionType==="encoding"){const p=c.data.method;p==="onehot"?u="OneHotEncoder":p==="dummy"?(u="DummyEncoder",d={...c.data,drop_first:!0}):p==="label"?u="LabelEncoder":p==="ordinal"?u="OrdinalEncoder":p==="target"?u="TargetEncoder":p==="hash"?u="HashEncoder":u="OneHotEncoder",u!=="DummyEncoder"&&(d=c.data)}else if(c.data.definitionType==="TrainTestSplitter")u="TrainTestSplitter",d=c.data||{};else if(c.data.definitionType==="label_encoding")u="LabelEncoder",d=c.data||{};else if(c.data.definitionType==="feature_target_split")u="feature_target_split",d=c.data||{};else if(c.data.definitionType==="feature_selection")u="feature_selection",d=c.data||{};else if(c.data.definitionType==="outlier"){const p=c.data.method||"iqr";p==="iqr"?u="IQR":p==="zscore"?u="ZScore":p==="winsorize"?u="Winsorize":p==="elliptic_envelope"?u="EllipticEnvelope":u="IQR",d=c.data}else if(c.data.definitionType==="TransformationNode"){u="GeneralTransformation";const p=c.data.transformations||[],v=[];for(const x of p)if(x.columns&&Array.isArray(x.columns))for(const g of x.columns)v.push({column:g,method:x.method,...x.params});d={transformations:v}}else c.data.definitionType==="BinningNode"?(u="GeneralBinning",d={columns:c.data.columns,strategy:c.data.strategy,n_bins:c.data.n_bins,label_format:c.data.label_format,output_suffix:c.data.output_suffix,drop_original:c.data.drop_original,custom_bins:c.data.custom_bins,custom_labels:c.data.custom_labels}):c.data.definitionType==="ResamplingNode"?((c.data.type||"oversampling")==="oversampling"?u="Oversampling":u="Undersampling",d=c.data):c.data.definitionType==="FeatureGenerationNode"?(u="FeatureMath",d={operations:c.data.operations}):c.data.definitionType==="TextCleaning"?(u="TextCleaning",d=c.data):c.data.definitionType==="ValueReplacement"?(u="ValueReplacement",d=c.data):c.data.definitionType==="AliasReplacement"?(u="AliasReplacement",d=c.data):c.data.definitionType==="InvalidValueReplacement"?(u="InvalidValueReplacement",d=c.data):c.data.definitionType==="model_training"?(u="model_training",d={target_column:c.data.target_column,model_type:c.data.model_type,hyperparameters:c.data.hyperparameters,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state}):c.data.definitionType==="hyperparameter_tuning"?(u="model_tuning",d={target_column:c.data.target_column,algorithm:c.data.model_type,tuning_config:{strategy:c.data.search_strategy,metric:c.data.metric,n_trials:c.data.n_trials,search_space:c.data.search_space,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state,random_state:c.data.random_state}}):(console.warn(`Unknown node type: ${c.data.definitionType}`),u="Unknown",d=c.data);r.push({node_id:c.id,step_type:u,params:d,inputs:h}),t.filter(p=>p.source===l).forEach(p=>a.push(p.target))}return{pipeline_id:`preview_${Date.now()}`,nodes:r,metadata:{dataset_source_id:s}}},pK=()=>{const e=ve(v=>v.nodes),t=ve(v=>v.edges),r=ve(v=>v.setExecutionResult),n=ve(v=>v.setGraph),{toggleDrawer:a}=yl(),[i,s]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),f=()=>({nodes:e.map(v=>({id:v.id,type:v.type,position:v.position,data:{...v.data,catalogType:v.data.catalogType||v.data.definitionType}})),edges:t.map(v=>({id:v.id,source:v.source,target:v.target,sourceHandle:v.sourceHandle,targetHandle:v.targetHandle,type:v.type,data:v.data}))}),h=async()=>{const v=e.find(g=>g.data.definitionType==="dataset_node"),x=v==null?void 0:v.data.datasetId;if(!x){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}c(!0);try{await O8(x,{name:"My Pipeline",description:"Saved from Canvas",graph:f()}),alert("Pipeline saved successfully!")}catch(g){console.error("Save failed:",g),alert("Failed to save pipeline.")}finally{c(!1)}},m=async()=>{const v=e.find(g=>g.data.definitionType==="dataset_node"),x=v==null?void 0:v.data.datasetId;if(!x){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){d(!0);try{const g=await A8(x);g&&g.graph?(n(g.graph.nodes,g.graph.edges),alert("Pipeline loaded successfully!")):alert("No saved pipeline found for this dataset.")}catch(g){console.error("Load failed:",g),alert("Failed to load pipeline.")}finally{d(!1)}}},p=async()=>{const v=e.find(g=>g.data.definitionType==="dataset_node");if(!(v==null?void 0:v.data.datasetId)){alert("No dataset node found!");return}s(!0),r(null);try{const g=yb(e,t),w=await C8(g);r(w)}catch(g){console.error("Pipeline failed:",g),alert("Pipeline execution failed. Check console for details.")}finally{s(!1)}};return o.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[o.jsxs("button",{onClick:()=>a(),className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors",children:[o.jsx(AF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Jobs"})]}),o.jsxs("button",{onClick:m,disabled:u||i,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[u?o.jsx(ya,{className:"w-4 h-4 animate-spin"}):o.jsx(EF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:u?"Loading...":"Load"})]}),o.jsxs("button",{onClick:h,disabled:l||i,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[l?o.jsx(ya,{className:"w-4 h-4 animate-spin"}):o.jsx(FF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:l?"Saving...":"Save"})]}),o.jsxs("button",{onClick:p,disabled:i,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[i?o.jsx(ya,{className:"w-4 h-4 animate-spin"}):o.jsx(Nu,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:i?"Running...":"Run Preview"})]})]})},gK=()=>{const e=ve(h=>h.executionResult),[t,r]=y.useState(!0),[n,a]=y.useState(null),i=y.useMemo(()=>e!=null&&e.preview_data?Array.isArray(e.preview_data)?{Result:e.preview_data}:typeof e.preview_data=="object"?e.preview_data:{}:{},[e]),s=Object.keys(i);if(Yr.useEffect(()=>{s.length>0&&(!n||!s.includes(n))&&(s.includes("train")?a("train"):s.includes("X")?a("X"):a(s[0]))},[s,n]),!e)return null;const l=n&&i[n]?i[n]:[],c=l.length>0?Object.keys(l[0]):[],u=e.node_results?Object.keys(e.node_results):[],d=Object.keys(e.node_results||{}).find(h=>e.node_results[h].status==="failed"),f=d?e.node_results[d].error:null;return o.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>r(!t),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(KF,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),o.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[l.length," rows shown"]}),e.status==="failed"&&o.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),o.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?o.jsx(Lt,{className:"w-4 h-4"}):o.jsx(hl,{className:"w-4 h-4"})})]}),t&&o.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&o.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[o.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),o.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:f||"Unknown error occurred during execution."})]}),s.length>1&&o.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[o.jsx(TF,{className:"w-3 h-3 text-muted-foreground mr-1"}),s.map(h=>o.jsx("button",{onClick:()=>a(h),className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${n===h?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:h},h))]}),u.length>0&&e.status!=="failed"&&o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:u.map((h,m)=>o.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:h},m))}),o.jsxs("div",{className:"flex-1 overflow-auto",children:[o.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[o.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:o.jsx("tr",{children:c.map(h=>o.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:h},h))})}),o.jsx("tbody",{children:l.map((h,m)=>o.jsx("tr",{className:"border-b hover:bg-muted/10",children:c.map(p=>o.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:h[p]!==null?String(h[p]):o.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${m}-${p}`))},m))})]}),l.length===0&&o.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",n?`for ${n}`:""]})]})]})]})},GA=Zx(e=>({activeView:"canvas",setView:t=>e({activeView:t})})),yK=()=>{const[e,t]=y.useState(!1),{activeView:r,setView:n}=GA();y.useEffect(()=>{document.documentElement.classList.contains("dark")?t(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),t(!0))},[]);const a=()=>{const i=!e;t(i),i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return o.jsxs("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-between shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-8",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ju,{to:"/",className:"mr-2 p-2 hover:bg-accent rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Back to Dashboard",children:o.jsx(pP,{className:"w-5 h-5"})}),o.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:o.jsx(RF,{className:"w-5 h-5 text-primary"})}),o.jsx("h1",{className:"font-bold text-lg tracking-tight bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"Skyulf ML Canvas"})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg",children:[o.jsxs("button",{onClick:()=>n("canvas"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${r==="canvas"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(bP,{className:"w-4 h-4"}),"Canvas"]}),o.jsxs("button",{onClick:()=>n("experiments"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${r==="experiments"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(mF,{className:"w-4 h-4"}),"Experiments"]}),o.jsxs("button",{onClick:()=>n("inference"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${r==="inference"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(Wx,{className:"w-4 h-4"}),"Inference"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("a",{href:"/ml-workflow-v1",className:"text-sm text-muted-foreground hover:text-primary transition-colors mr-2",target:"_blank",rel:"noopener noreferrer",children:"Switch to Legacy V1"}),o.jsx("button",{onClick:a,className:"p-2 hover:bg-accent rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Toggle Theme",children:e?o.jsx(kP,{className:"w-5 h-5"}):o.jsx(SP,{className:"w-5 h-5"})})]})]})},vK=()=>{const{isDrawerOpen:e,toggleDrawer:t,jobs:r,isLoading:n,activeTab:a,setTab:i,fetchJobs:s,hasMore:l,loadMoreJobs:c}=yl(),[u,d]=y.useState(null);if(!e)return null;const h=(Array.isArray(r)?r:[]).filter(m=>m&&m.job_type===a);return o.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),o.jsx("div",{className:"relative w-[900px] h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-lg flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden transition-all",children:u?o.jsx(xK,{job:u,onBack:()=>d(null),onClose:()=>t(!1)}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[o.jsx("h2",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Job History"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>s(),className:`p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 ${n?"animate-spin":""}`,title:"Refresh",children:o.jsx(Fo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>t(!1),className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:o.jsx(br,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[o.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="tuning"?"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-50/50 dark:bg-purple-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>i("tuning"),children:"Model Optimization"}),o.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="training"?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>i("training"),children:"Standard Training"})]}),o.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-2 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"col-span-2",children:"Status"}),o.jsx("div",{className:"col-span-2",children:"Dataset / Model"}),o.jsx("div",{className:"col-span-1",children:"Job ID"}),o.jsx("div",{className:"col-span-2",children:"Started"}),o.jsx("div",{className:"col-span-1",children:"Duration"}),o.jsx("div",{className:"col-span-2",children:"Model Ready"}),o.jsx("div",{className:"col-span-2",children:"Result"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-gray-50/30 dark:bg-gray-900/30",children:h.length===0?o.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500 text-sm",children:["No ",a==="tuning"?"optimization":"training"," jobs found."]}):o.jsxs(o.Fragment,{children:[h.map(m=>o.jsx(bK,{job:m,onClick:()=>d(m)},m.job_id)),l&&o.jsx("div",{className:"flex justify-center pt-2 pb-4",children:o.jsxs("button",{onClick:()=>c(),disabled:n,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[n?o.jsx(Fo,{className:"w-3 h-3 animate-spin"}):o.jsx(Lt,{className:"w-3 h-3"}),"Load More History"]})})]})})]})})]})},xK=({job:e,onBack:t,onClose:r})=>{const{cancelJob:n}=yl(),[a,i]=y.useState(e),[s,l]=y.useState("overview"),[c,u]=y.useState(!1),d=y.useRef(null);y.useEffect(()=>{let h;const m=async()=>{try{const p=await Ht.getJob(e.job_id);i(p)}catch(p){console.error("Failed to fetch job details",p)}};return m(),(a.status==="running"||a.status==="queued")&&(h=setInterval(m,2e3)),()=>{h&&clearInterval(h)}},[e.job_id,a.status]),y.useEffect(()=>{s==="logs"&&d.current&&d.current.scrollIntoView({behavior:"smooth"})},[a.logs,s]);const f=async()=>{if(confirm("Are you sure you want to stop this job?")){u(!0);try{await n(a.job_id)}catch{alert("Failed to cancel job")}finally{u(!1)}}};return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-500",children:o.jsx(pP,{className:"w-4 h-4"})}),o.jsx("div",{children:o.jsxs("h2",{className:"font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:["Job Details",o.jsx("span",{className:"text-xs font-normal text-gray-500 font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:a.job_id.slice(0,8)})]})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[(a.status==="running"||a.status==="queued")&&o.jsxs("button",{onClick:f,disabled:c,className:"flex items-center gap-1 px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 rounded text-xs font-medium transition-colors border border-red-200 dark:border-red-800",children:[o.jsx(VF,{className:"w-3 h-3 fill-current"}),c?"Stopping...":"Stop Job"]}),o.jsx("button",{onClick:r,className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:o.jsx(br,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 px-4",children:[o.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="overview"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>l("overview"),children:[o.jsx(wP,{className:"w-4 h-4"}),"Overview"]}),o.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="logs"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>l("logs"),children:[o.jsx(Vx,{className:"w-4 h-4"}),"Live Logs",a.status==="running"&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s==="overview"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),o.jsx("div",{className:"font-medium capitalize flex items-center gap-2 text-gray-800 dark:text-gray-200",children:a.status})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Dataset"}),o.jsxs("div",{className:"font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[o.jsx(Vn,{className:"w-3 h-3 text-gray-400"}),a.dataset_name||a.dataset_id||"Unknown"]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Duration"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200 font-mono",children:a.start_time&&a.end_time?`${Math.round((new Date(a.end_time).getTime()-new Date(a.start_time).getTime())/1e3)}s`:"-"})]})]}),a.error&&o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg",children:[o.jsxs("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300 mb-2 flex items-center gap-2",children:[o.jsx(Sa,{className:"w-4 h-4"}),"Error Log"]}),o.jsx("pre",{className:"text-xs text-red-700 dark:text-red-400 whitespace-pre-wrap font-mono",children:a.error})]}),a.result&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[o.jsx(qF,{className:"w-4 h-4"}),"Execution Results"]}),a.status==="completed"&&o.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 font-medium",children:[o.jsx(zo,{className:"w-3 h-3"})," Model Ready"]})]}),a.job_type==="training"&&a.result.metrics&&o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).map(([h,m])=>o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:h.replace(/_/g," ")}),o.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof m=="number"?m.toFixed(4):String(m)})]},h))}),a.job_type==="tuning"&&o.jsxs("div",{className:"space-y-4",children:[a.result.best_score!==void 0&&o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg w-fit",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Optimization Score"}),o.jsx("div",{className:"font-mono font-medium text-purple-600 dark:text-purple-400 text-lg",children:Number(a.result.best_score).toFixed(5)})]}),a.result.metrics&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Evaluation Metrics"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).filter(([h])=>!["best_score","best_params","trials"].includes(h)).map(([h,m])=>o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:h.replace(/_/g," ")}),o.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof m=="number"?m.toFixed(4):String(m)})]},h))})]}),a.result.best_params&&o.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-xs overflow-x-auto",children:[o.jsx("div",{className:"text-gray-500 mb-2",children:"# Best Hyperparameters"}),o.jsx("pre",{children:JSON.stringify(a.result.best_params,null,2)})]})]})]})]}):o.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 min-h-[400px] font-mono text-xs text-gray-300 overflow-x-auto",children:[a.logs&&a.logs.length>0?a.logs.map((h,m)=>o.jsx("div",{className:"mb-1 border-b border-gray-800 pb-1 last:border-0",children:h},m)):o.jsx("div",{className:"text-gray-500 italic",children:"No logs available yet..."}),o.jsx("div",{ref:d})]})})]})},bK=({job:e,onClick:t})=>{var s,l;const r=c=>{switch(c){case"completed":case"succeeded":return o.jsx(zo,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return o.jsx(Sa,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"running":return o.jsx(Fo,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 animate-spin"});default:return o.jsx(vP,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}},n=c=>{switch(c){case"completed":return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50";case"failed":return"bg-red-50/30 dark:bg-red-900/10 border-red-100 dark:border-red-900/30 hover:bg-red-50/50 dark:hover:bg-red-900/20";case"running":return"bg-blue-50/30 dark:bg-blue-900/10 border-blue-100 dark:border-blue-900/30 hover:bg-blue-50/50 dark:hover:bg-blue-900/20";default:return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}},a=c=>c?new Date(c).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",i=(c,u)=>{if(!c||!u)return"-";const d=new Date(u).getTime()-new Date(c).getTime(),f=Math.floor(d/1e3);return f<60?`${f}s`:`${Math.floor(f/60)}m ${f%60}s`};return o.jsxs("div",{onClick:t,className:`grid grid-cols-12 gap-4 p-3 rounded-lg border text-sm items-center transition-colors cursor-pointer ${n(e.status)}`,children:[o.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[r(e.status),o.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300 capitalize truncate",children:e.status})]}),o.jsxs("div",{className:"col-span-2 flex flex-col justify-center text-xs text-gray-600 dark:text-gray-400 truncate",children:[o.jsxs("div",{className:"flex items-center gap-1",title:e.dataset_name||e.dataset_id,children:[o.jsx(Vn,{className:"w-3 h-3"}),o.jsx("span",{className:"truncate",children:e.dataset_name||e.dataset_id||"-"})]}),o.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] text-gray-500",children:[o.jsx("span",{className:"font-medium truncate",children:e.model_type||"Unknown Model"}),e.job_type==="tuning"&&((l=(s=e.config)==null?void 0:s.tuning)==null?void 0:l.strategy)&&o.jsxs("span",{className:"text-gray-400 truncate",children:["(",e.config.tuning.strategy,")"]})]})]}),o.jsx("div",{className:"col-span-1 font-mono text-xs text-gray-500 dark:text-gray-400 truncate",title:e.job_id,children:e.job_id.slice(0,8)}),o.jsx("div",{className:"col-span-2 text-gray-600 dark:text-gray-400 text-xs",children:a(e.start_time)}),o.jsx("div",{className:"col-span-1 text-gray-600 dark:text-gray-400 text-xs font-mono",children:i(e.start_time,e.end_time)}),o.jsx("div",{className:"col-span-2",children:e.status==="completed"&&o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 w-fit",children:[o.jsx(zo,{className:"w-3 h-3"})," Ready"]})}),o.jsx("div",{className:"col-span-2",children:e.error?o.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs truncate block",title:e.error,children:"Error"}):e.status==="completed"&&e.result?e.job_type==="training"&&e.result.metrics?o.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.result.metrics||{}).slice(0,1).map(([c,u])=>o.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 truncate max-w-full",children:[c,": ",Number(u).toFixed(3)]},c))}):e.job_type==="tuning"?o.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.result.best_score!==void 0&&o.jsxs("span",{className:"text-[10px] bg-purple-50 dark:bg-purple-900/20 px-1.5 py-0.5 rounded text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800 truncate",children:["Score: ",Number(e.result.best_score).toFixed(4)]}),!e.result.best_score&&e.result.best_params&&o.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:"Params found"})]}):o.jsx("span",{className:"text-gray-400 text-xs",children:"-"}):o.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]})};function XA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=XA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Se(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=XA(e))&&(n&&(n+=" "),n+=t);return n}var wK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function vb(e){if(typeof e!="string")return!1;var t=wK;return t.includes(e)}var jK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kK=new Set(jK);function QA(e){return typeof e!="string"?!1:kK.has(e)}function ZA(e){return typeof e=="string"&&e.startsWith("data-")}function Dr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(QA(r)||ZA(r))&&(t[r]=e[r]);return t}function vl(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Dr(t)}return typeof e=="object"&&!Array.isArray(e)?Dr(e):null}function qt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(QA(r)||ZA(r)||vb(r))&&(t[r]=e[r]);return t}function NK(e){return e==null?null:y.isValidElement(e)?qt(e.props):typeof e=="object"&&!Array.isArray(e)?qt(e):null}var _K=["children","width","height","viewBox","className","style","title","desc"];function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}function SK(e,t){if(e==null)return{};var r,n,a=EK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function EK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xb=y.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:l,title:c,desc:u}=e,d=SK(e,_K),f=i||{width:n,height:a,x:0,y:0},h=Se("recharts-surface",s);return y.createElement("svg",zy({},qt(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,u),r)}),CK=["children","className"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function PK(e,t){if(e==null)return{};var r,n,a=OK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pt=y.forwardRef((e,t)=>{var{children:r,className:n}=e,a=PK(e,CK),i=Se("recharts-layer",n);return y.createElement("g",Fy({className:i},qt(a),{ref:t}),r)}),JA=y.createContext(null),AK=()=>y.useContext(JA);function Le(e){return function(){return e}}const eT=Math.cos,kh=Math.sin,On=Math.sqrt,Nh=Math.PI,Qm=2*Nh,By=Math.PI,Uy=2*By,Ui=1e-6,TK=Uy-Ui;function tT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function MK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tT;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class IK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tT:MK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ui)if(!(Math.abs(f*c-u*d)>Ui)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,p=a-l,v=c*c+u*u,x=m*m+p*p,g=Math.sqrt(v),w=Math.sqrt(h),b=i*Math.tan((By-Math.acos((v+h-x)/(2*g*w)))/2),j=b/w,k=b/g;Math.abs(j-1)>Ui&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*m>d*p)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ui||Math.abs(this._y1-d)>Ui)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Uy+Uy),h>TK?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ui&&this._append`A${n},${n},0,${+(h>=By)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function bb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new IK(t)}function wb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rT(e){this._context=e}rT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zm(e){return new rT(e)}function nT(e){return e[0]}function aT(e){return e[1]}function iT(e,t){var r=Le(!0),n=null,a=Zm,i=null,s=bb(l);e=typeof e=="function"?e:e===void 0?nT:Le(e),t=typeof t=="function"?t:t===void 0?aT:Le(t);function l(c){var u,d=(c=wb(c)).length,f,h=!1,m;for(n==null&&(i=a(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Le(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Le(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Le(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Vd(e,t,r){var n=null,a=Le(!0),i=null,s=Zm,l=null,c=bb(u);e=typeof e=="function"?e:e===void 0?nT:Le(+e),t=typeof t=="function"?t:Le(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?aT:Le(+r);function u(f){var h,m,p,v=(f=wb(f)).length,x,g=!1,w,b=new Array(v),j=new Array(v);for(i==null&&(l=s(w=c())),h=0;h<=v;++h){if(!(h<v&&a(x=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(b[p],j[p]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(x,h,f),j[h]=+t(x,h,f),l.point(n?+n(x,h,f):b[h],r?+r(x,h,f):j[h]))}if(w)return l=null,w+""||null}function d(){return iT().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Le(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Le(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Le(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class sT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function DK(e){return new sT(e,!0)}function RK(e){return new sT(e,!1)}const jb={draw(e,t){const r=On(t/Nh);e.moveTo(r,0),e.arc(0,0,r,0,Qm)}},LK={draw(e,t){const r=On(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},oT=On(1/3),$K=oT*2,zK={draw(e,t){const r=On(t/$K),n=r*oT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},FK={draw(e,t){const r=On(t),n=-r/2;e.rect(n,n,r,r)}},BK=.8908130915292852,lT=kh(Nh/10)/kh(7*Nh/10),UK=kh(Qm/10)*lT,HK=-eT(Qm/10)*lT,VK={draw(e,t){const r=On(t*BK),n=UK*r,a=HK*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=Qm*i/5,l=eT(s),c=kh(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Bg=On(3),WK={draw(e,t){const r=-On(t/(Bg*3));e.moveTo(0,r*2),e.lineTo(-Bg*r,-r),e.lineTo(Bg*r,-r),e.closePath()}},Fr=-.5,Br=On(3)/2,Hy=1/On(12),KK=(Hy/2+1)*3,qK={draw(e,t){const r=On(t/KK),n=r/2,a=r*Hy,i=n,s=r*Hy+r,l=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,c),e.lineTo(Fr*n-Br*a,Br*n+Fr*a),e.lineTo(Fr*i-Br*s,Br*i+Fr*s),e.lineTo(Fr*l-Br*c,Br*l+Fr*c),e.lineTo(Fr*n+Br*a,Fr*a-Br*n),e.lineTo(Fr*i+Br*s,Fr*s-Br*i),e.lineTo(Fr*l+Br*c,Fr*c-Br*l),e.closePath()}};function YK(e,t){let r=null,n=bb(a);e=typeof e=="function"?e:Le(e||jb),t=typeof t=="function"?t:Le(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Le(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Le(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function _h(){}function Sh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function cT(e){this._context=e}cT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GK(e){return new cT(e)}function uT(e){this._context=e}uT.prototype={areaStart:_h,areaEnd:_h,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XK(e){return new uT(e)}function dT(e){this._context=e}dT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QK(e){return new dT(e)}function fT(e){this._context=e}fT.prototype={areaStart:_h,areaEnd:_h,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ZK(e){return new fT(e)}function vN(e){return e<0?-1:1}function xN(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(vN(i)+vN(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function bN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ug(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function Eh(e){this._context=e}Eh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ug(this,this._t0,bN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ug(this,bN(this,r=xN(this,e,t)),r);break;default:Ug(this,this._t0,r=xN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function hT(e){this._context=new mT(e)}(hT.prototype=Object.create(Eh.prototype)).point=function(e,t){Eh.prototype.point.call(this,t,e)};function mT(e){this._context=e}mT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function JK(e){return new Eh(e)}function eq(e){return new hT(e)}function pT(e){this._context=e}pT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=wN(e),a=wN(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wN(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function tq(e){return new pT(e)}function Jm(e,t){this._context=e,this._t=t}Jm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function rq(e){return new Jm(e,.5)}function nq(e){return new Jm(e,0)}function aq(e){return new Jm(e,1)}function Zo(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Vy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function iq(e,t){return e[t]}function sq(e){const t=[];return t.key=e,t}function oq(){var e=Le([]),t=Vy,r=Zo,n=iq;function a(i){var s=Array.from(e.apply(this,arguments),sq),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=wb(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Le(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Le(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Vy:typeof i=="function"?i:Le(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Zo,a):r},a}function lq(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Zo(e,t)}}function cq(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Zo(e,t)}}function uq(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var v=e[t[p]],x=v[n][1]||0,g=v[n-1][1]||0;m+=x-g}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Zo(e,t)}}var ep={},gT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(gT);var kb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(kb);var tp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(tp);var rp={},yT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(yT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yT,r=tp;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],s=a.length;if(s===0)return i;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<s;){const f=a[l];u?f==="\\"&&l+1<s?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,l++}return c&&i.push(c),i}e.toPath=n})(rp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT,r=kb,n=tp,a=rp;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function s(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(ep);var dq=ep.get;const Jo=Xn(dq);var hr=e=>e===0?0:e>0?1:-1,Rr=e=>typeof e=="number"&&e!=+e,Pa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ue=e=>(typeof e=="number"||e instanceof Number)&&!Rr(e),en=e=>ue(e)||typeof e=="string",fq=0,Gc=e=>{var t=++fq;return"".concat(e||"").concat(t)},_n=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&typeof t!="string")return n;var i;if(Pa(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Rr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},vT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function $e(e,t,r){return ue(e)&&ue(t)?e+r*(t-e):t}function xT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Jo(n,t))===r)}var hq=e=>{for(var t=e.length,r=0,n=0,a=0,i=0,s=1/0,l=-1/0,c=0,u=0,d=0;d<t;d++)c=e[d].cx||0,u=e[d].cy||0,r+=c,n+=u,a+=c*u,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var f=t*i!==r*r?(t*a-r*n)/(t*i-r*r):0;return{xmin:s,xmax:l,a:f,b:(n-f*r)/t}},Ae=e=>e===null||typeof e>"u",Du=e=>Ae(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function mq(e){return e!=null}function Ru(){}var pq=["type","size","sizeType"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gq(e,t,r){return(t=yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yq(e){var t=vq(e,"string");return typeof t=="symbol"?t:t+""}function vq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xq(e,t){if(e==null)return{};var r,n,a=bq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bT={symbolCircle:jb,symbolCross:LK,symbolDiamond:zK,symbolSquare:FK,symbolStar:VK,symbolTriangle:WK,symbolWye:qK},wq=Math.PI/180,jq=e=>{var t="symbol".concat(Du(e));return bT[t]||jb},kq=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*wq;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Nq=(e,t)=>{bT["symbol".concat(Du(e))]=t},np=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=xq(e,pq),i=kN(kN({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var l=()=>{var h=jq(s),m=YK().type(h).size(kq(r,n,s)),p=m();if(p!==null)return p},{className:c,cx:u,cy:d}=i,f=qt(i);return ue(u)&&ue(d)&&ue(r)?y.createElement("path",Wy({},f,{className:Se("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};np.registerSymbol=Nq;var wT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Nb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{vb(a)&&(n[a]=i=>r[a](r,i))}),n},_q=(e,t,r)=>n=>(e(t,r,n),null),Lu=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];vb(a)&&typeof i=="function"&&(n||(n={}),n[a]=_q(i,t,r))}),n},Sq=e=>Array.isArray(e)&&e.length>0;function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){Cq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cq(e,t,r){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mt(e,t){var r=Eq({},e),n=t,a=Object.keys(t),i=a.reduce((s,l)=>(s[l]===void 0&&n[l]!==void 0&&(s[l]=n[l]),s),r);return i}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(null,arguments)}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){Tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t,r){return(t=Mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mq(e){var t=Iq(e,"string");return typeof t=="symbol"?t:t+""}function Iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hr=32,Dq={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Rq(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Hr/2,i=Hr/6,s=Hr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return y.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:Hr,y2:a,className:"recharts-legend-icon"})}if(c==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Hr,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return y.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Hr/8,"h").concat(Hr,"v").concat(Hr*3/4,"h").concat(-Hr,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var d=Aq({},t);return delete d.legendIcon,y.cloneElement(t.legendIcon,d)}return y.createElement(np,{fill:l,cx:a,cy:a,size:Hr,sizeType:"diameter",type:c})}function Lq(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=e,l={x:0,y:0,width:Hr,height:Hr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=Se({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?i:d.color,v=h?h(d.value,d,f):d.value;return y.createElement("li",Ch({className:m,style:c,key:"legend-item-".concat(f)},Lu(e,d,f)),y.createElement(xb,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(v," legend icon")},y.createElement(Rq,{data:d,iconType:s,inactiveColor:i})),y.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},v))})}var $q=e=>{var t=mt(e,Dq),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:i},y.createElement(Lq,Ch({},t,{payload:r})))},jT={},kT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],l=n(s);a.has(l)||a.set(l,s)}return Array.from(a.values())}e.uniqBy=t})(kT);var _b={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(_b);var NT={},ap={},_T={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(_T);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_T;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ap);var ST={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ST);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ap,r=ST;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(NT);var ET={},CT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ep;function r(n){return function(a){return t.get(a,n)}}e.property=r})(CT);var PT={},Sb={},OT={},Eb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Eb);var Cb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Cb);var Pb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Pb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eb,r=Cb,n=Pb;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(p,v,x,g,w,b){const j=h(p,v,x,g,w,b);return j!==void 0?!!j:i(p,v,m,b)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<p.length;v++){const x=p[v];if(!r.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!h(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,v]of f.entries()){const x=d.get(p);if(h(x,v,p,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let v=0;v<f.length;v++){const x=f[v];let g=!1;for(let w=0;w<d.length;w++){if(p.has(w))continue;const b=d[w];let j=!1;if(h(b,x,v,d,f,m)&&(j=!0),j){p.add(w),g=!0;break}}if(!g)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(OT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OT;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Sb);var AT={},Ob={},TT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(TT);var Ab={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Ab);var Tb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",v="[object DataView]",x="[object Uint8Array]",g="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",k="[object Int8Array]",_="[object Int16Array]",N="[object Int32Array]",S="[object BigInt64Array]",E="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=v,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=E,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=N,e.int8ArrayTag=k,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=g})(Tb);var MT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(MT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TT,r=Ab,n=Tb,a=Cb,i=MT;function s(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,p=void 0){const v=p==null?void 0:p(d,f,h,m);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=l(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[g,w]of d)x.set(g,l(w,g,h,m,p));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const g of d)x.add(l(g,void 0,h,m,p));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=l(d[g],g,h,m,p);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),c(x,d,h,m,p),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),c(x,d,h,m,p),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),c(x,d,h,m,p),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,h,m,p),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),c(x,d,h,m,p),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),c(x,d,h,m,p),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),c(x,d,h,m,p),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),c(x,d,h,m,p),x}return d}function c(d,f,h=d,m,p){const v=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<v.length;x++){const g=v[x],w=Object.getOwnPropertyDescriptor(d,g);(w==null||w.writable)&&(d[g]=l(f[g],g,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=c})(Ob);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ob;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(AT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sb,r=AT;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(PT);var IT={},DT={},RT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ob,r=Tb;function n(a,i){return t.cloneDeepWith(a,(s,l,c,u)=>{const d=i==null?void 0:i(s,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(RT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RT;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(DT);var LT={},Mb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Mb);var $T={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ab;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})($T);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kb,r=Mb,n=$T,a=rp;function i(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(s==null?void 0:s[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(LT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sb,r=tp,n=DT,a=ep,i=LT;function s(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(IT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_b,r=CT,n=PT,a=IT;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(ET);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kT,r=_b,n=NT,a=ET;function i(s,l=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(l)):[]}e.uniqBy=i})(jT);var zq=jT.uniqBy;const SN=Xn(zq);function zT(e,t,r){return t===!0?SN(e,r):typeof t=="function"?SN(e,t):e}var Ib=y.createContext(null),Fq=e=>e,Ge=()=>{var e=y.useContext(Ib);return e?e.store.dispatch:Fq},Af=()=>{},Bq=()=>Af,Uq=(e,t)=>e===t;function se(e){var t=y.useContext(Ib);return aO.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Bq,t?t.store.getState:Af,t?t.store.getState:Af,t?e:Af,Uq)}function Hq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Vq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Wq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var EN=e=>Array.isArray(e)?e:[e];function Kq(e){const t=Array.isArray(e[0])?e[0]:e;return Wq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function qq(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Yq=class{constructor(e){this.value=e}deref(){return this.value}},Gq=typeof WeakRef<"u"?WeakRef:Yq,Xq=0,CN=1;function Wd(){return{s:Xq,v:void 0,o:null,p:null}}function FT(e,t={}){let r=Wd();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const x=v.get(p);x===void 0?(l=Wd(),v.set(p,l)):l=x}else{let v=l.p;v===null&&(l.p=v=new Map);const x=v.get(p);x===void 0?(l=Wd(),v.set(p,l)):l=x}}const u=l;let d;if(l.s===CN)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new Gq(d):d}return u.s=CN,u.v=d,d}return s.clearCache=()=>{r=Wd(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function Qq(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),Hq(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=FT,argsMemoizeOptions:p=[]}=d,v=EN(h),x=EN(p),g=Kq(a),w=f(function(){return i++,u.apply(null,arguments)},...v),b=m(function(){s++;const k=qq(g,arguments);return l=w.apply(null,k),l},...x);return Object.assign(b,{resultFunc:u,memoizedResultFunc:w,dependencies:g,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var V=Qq(FT),Zq=Object.assign((e,t=V)=>{Vq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,l,c)=>(s[r[c]]=l,s),{}))},{withTypes:()=>Zq}),BT={},UT={},HT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),l=t(a);if(s===l&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-s:s-l}return 0};e.compareValues=r})(HT);var VT={},Db={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Db);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Db,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(VT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HT,r=VT,n=rp;function a(i,s,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,p)=>{let v=m;for(let x=0;x<p.length&&v!=null;++x)v=v[p[x]];return v},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let v=0;v<f.length;v++){const x=t.compareValues(m.criteria[v],p.criteria[v],l[v]);if(x!==0)return x}return 0}).map(m=>m.original)}e.orderBy=a})(UT);var WT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?s(d,c+1):a.push(d)}};return s(r,0),a}e.flatten=t})(WT);var Rb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mb,r=ap,n=Eb,a=Pb;function i(s,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],s):!1}e.isIterateeCall=i})(Rb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT,r=WT,n=Rb;function a(i,...s){const l=s.length;return l>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:l>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(BT);var Jq=BT.sortBy;const ip=Xn(Jq);var KT=e=>e.legend.settings,eY=e=>e.legend.size,tY=e=>e.legend.payload,rY=V([tY,KT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ip(n,r):n});function nY(){return se(rY)}var Kd=1;function qT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>Kd||Math.abs(s.left-t.left)>Kd||Math.abs(s.top-t.top)>Kd||Math.abs(s.width-t.width)>Kd)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Tt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var aY=typeof Symbol=="function"&&Symbol.observable||"@@observable",PN=aY,Hg=()=>Math.random().toString(36).substring(7).split("").join("."),iY={INIT:`@@redux/INIT${Hg()}`,REPLACE:`@@redux/REPLACE${Hg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hg()}`},Ph=iY;function Lb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function YT(e,t,r){if(typeof e!="function")throw new Error(Tt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Tt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Tt(1));return r(YT)(e,t)}let n=e,a=t,i=new Map,s=i,l=0,c=!1;function u(){s===i&&(s=new Map,i.forEach((x,g)=>{s.set(g,x)}))}function d(){if(c)throw new Error(Tt(3));return a}function f(x){if(typeof x!="function")throw new Error(Tt(4));if(c)throw new Error(Tt(5));let g=!0;u();const w=l++;return s.set(w,x),function(){if(g){if(c)throw new Error(Tt(6));g=!1,u(),s.delete(w),i=null}}}function h(x){if(!Lb(x))throw new Error(Tt(7));if(typeof x.type>"u")throw new Error(Tt(8));if(typeof x.type!="string")throw new Error(Tt(17));if(c)throw new Error(Tt(9));try{c=!0,a=n(a,x)}finally{c=!1}return(i=s).forEach(w=>{w()}),x}function m(x){if(typeof x!="function")throw new Error(Tt(10));n=x,h({type:Ph.REPLACE})}function p(){const x=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Tt(11));function w(){const j=g;j.next&&j.next(d())}return w(),{unsubscribe:x(w)}},[PN](){return this}}}return h({type:Ph.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[PN]:p}}function sY(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ph.INIT})>"u")throw new Error(Tt(12));if(typeof r(void 0,{type:Ph.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tt(13))})}function GT(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{sY(r)}catch(i){a=i}return function(s={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=s[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(Tt(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(s).length,c?u:s}}function Oh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function oY(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Tt(15))};const s={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(s));return i=Oh(...l)(a.dispatch),{...a,dispatch:i}}}function XT(e){return Lb(e)&&"type"in e&&typeof e.type=="string"}var QT=Symbol.for("immer-nothing"),ON=Symbol.for("immer-draftable"),er=Symbol.for("immer-state");function gn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Or=Object,el=Or.getPrototypeOf,Ah="constructor",sp="prototype",Ky="configurable",Th="enumerable",Tf="writable",Xc="value",Oa=e=>!!e&&!!e[er];function Sn(e){var t;return e?ZT(e)||op(e)||!!e[ON]||!!((t=e[Ah])!=null&&t[ON])||lp(e)||cp(e):!1}var lY=Or[sp][Ah].toString(),AN=new WeakMap;function ZT(e){if(!e||!$b(e))return!1;const t=el(e);if(t===null||t===Or[sp])return!0;const r=Or.hasOwnProperty.call(t,Ah)&&t[Ah];if(r===Object)return!0;if(!qs(r))return!1;let n=AN.get(r);return n===void 0&&(n=Function.toString.call(r),AN.set(r,n)),n===lY}function $u(e,t,r=!0){zu(e)===0?(r?Reflect.ownKeys(e):Or.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function zu(e){const t=e[er];return t?t.type_:op(e)?1:lp(e)?2:cp(e)?3:0}var TN=(e,t,r=zu(e))=>r===2?e.has(t):Or[sp].hasOwnProperty.call(e,t),qy=(e,t,r=zu(e))=>r===2?e.get(t):e[t],Mh=(e,t,r,n=zu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function cY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var op=Array.isArray,lp=e=>e instanceof Map,cp=e=>e instanceof Set,$b=e=>typeof e=="object",qs=e=>typeof e=="function",Vg=e=>typeof e=="boolean",ia=e=>e.copy_||e.base_,zb=e=>e.modified_?e.copy_:e.base_;function Yy(e,t){if(lp(e))return new Map(e);if(cp(e))return new Set(e);if(op(e))return Array[sp].slice.call(e);const r=ZT(e);if(t===!0||t==="class_only"&&!r){const n=Or.getOwnPropertyDescriptors(e);delete n[er];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],l=n[s];l[Tf]===!1&&(l[Tf]=!0,l[Ky]=!0),(l.get||l.set)&&(n[s]={[Ky]:!0,[Tf]:!0,[Th]:l[Th],[Xc]:e[s]})}return Or.create(el(e),n)}else{const n=el(e);if(n!==null&&r)return{...e};const a=Or.create(n);return Or.assign(a,e)}}function Fb(e,t=!1){return up(e)||Oa(e)||!Sn(e)||(zu(e)>1&&Or.defineProperties(e,{set:qd,add:qd,clear:qd,delete:qd}),Or.freeze(e),t&&$u(e,(r,n)=>{Fb(n,!0)},!1)),e}function uY(){gn(2)}var qd={[Xc]:uY};function up(e){return e===null||!$b(e)?!0:Or.isFrozen(e)}var Ih="MapSet",Gy="Patches",JT={};function tl(e){const t=JT[e];return t||gn(0,e),t}var dY=e=>!!JT[e],Qc,eM=()=>Qc,fY=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:dY(Ih)?tl(Ih):void 0});function MN(e,t){t&&(e.patchPlugin_=tl(Gy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Xy(e){Qy(e),e.drafts_.forEach(hY),e.drafts_=null}function Qy(e){e===Qc&&(Qc=e.parent_)}var IN=e=>Qc=fY(Qc,e);function hY(e){const t=e[er];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function DN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[er].modified_&&(Xy(t),gn(4)),Sn(e)&&(e=RN(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[er].base_,e,t)}else e=RN(t,r);return mY(t,e,!0),Xy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==QT?e:void 0}function RN(e,t){if(up(t))return t;const r=t[er];if(!r)return Bb(t,e.handledSet_,e);if(!dp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);nM(r,e)}return r.copy_}function mY(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Fb(t,r)}function tM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var dp=(e,t)=>e.scope_===t,pY=[];function rM(e,t,r,n){const a=ia(e),i=e.type_;if(n!==void 0&&qy(a,n,i)===t){Mh(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;$u(a,(c,u)=>{if(Oa(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const s=e.draftLocations_.get(t)??pY;for(const l of s)Mh(a,l,r,i)}function gY(e,t,r){e.callbacks_.push(function(a){var l;const i=t;if(!i||!dp(i,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(i);const s=zb(i);rM(e,i.draft_??i,s,r),nM(i,a)})}function nM(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}tM(e)}}function yY(e,t,r){const{scope_:n}=e;if(Oa(r)){const a=r[er];dp(a,n)&&a.callbacks_.push(function(){Mf(e);const s=zb(a);rM(e,r,s,t)})}else Sn(r)&&e.callbacks_.push(function(){const i=ia(e);qy(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Bb(qy(e.copy_,t,e.type_),n.handledSet_,n)})}function Bb(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Oa(e)||t.has(e)||!Sn(e)||up(e)||(t.add(e),$u(e,(n,a)=>{if(Oa(a)){const i=a[er];if(dp(i,r)){const s=zb(i);Mh(e,n,s,e.type_),tM(i)}}else Sn(a)&&Bb(a,t,r)})),e}function vY(e,t){const r=op(e),n={type_:r?1:0,scope_:t?t.scope_:eM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Ub;r&&(a=[n],i=Zc);const{revoke:s,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=s,[l,n]}var Ub={get(e,t){if(t===er)return e;const r=ia(e);if(!TN(r,t,e.type_))return xY(e,r,t);const n=r[t];if(e.finalized_||!Sn(n))return n;if(n===Wg(e.base_,t)){Mf(e);const a=e.type_===1?+t:t,i=Jy(e.scope_,n,e,a);return e.copy_[a]=i}return n},has(e,t){return t in ia(e)},ownKeys(e){return Reflect.ownKeys(ia(e))},set(e,t,r){const n=aM(ia(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Wg(ia(e),t),i=a==null?void 0:a[er];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(cY(r,a)&&(r!==void 0||TN(e.base_,t,e.type_)))return!0;Mf(e),Zy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),yY(e,t,r)),!0},deleteProperty(e,t){return Mf(e),Wg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Zy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ia(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Tf]:!0,[Ky]:e.type_!==1||t!=="length",[Th]:n[Th],[Xc]:r[t]}},defineProperty(){gn(11)},getPrototypeOf(e){return el(e.base_)},setPrototypeOf(){gn(12)}},Zc={};$u(Ub,(e,t)=>{Zc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Zc.deleteProperty=function(e,t){return Zc.set.call(this,e,t,void 0)};Zc.set=function(e,t,r){return Ub.set.call(this,e[0],t,r,e[0])};function Wg(e,t){const r=e[er];return(r?ia(r):e)[t]}function xY(e,t,r){var a;const n=aM(t,r);return n?Xc in n?n[Xc]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function aM(e,t){if(!(t in e))return;let r=el(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=el(r)}}function Zy(e){e.modified_||(e.modified_=!0,e.parent_&&Zy(e.parent_))}function Mf(e){e.copy_||(e.assigned_=new Map,e.copy_=Yy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(qs(r)&&!qs(n)){const s=n;n=r;const l=this;return function(u=s,...d){return l.produce(u,f=>n.call(this,f,...d))}}qs(n)||gn(6),a!==void 0&&!qs(a)&&gn(7);let i;if(Sn(r)){const s=IN(this),l=Jy(s,r,void 0);let c=!0;try{i=n(l),c=!1}finally{c?Xy(s):Qy(s)}return MN(s,a),DN(i,s)}else if(!r||!$b(r)){if(i=n(r),i===void 0&&(i=r),i===QT&&(i=void 0),this.autoFreeze_&&Fb(i,!0),a){const s=[],l=[];tl(Gy).generateReplacementPatches_(r,i,{patches_:s,inversePatches_:l}),a(s,l)}return i}else gn(1,r)},this.produceWithPatches=(r,n)=>{if(qs(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,i;return[this.produce(r,n,(l,c)=>{a=l,i=c}),a,i]},Vg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Vg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Vg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Sn(t)||gn(8),Oa(t)&&(t=jn(t));const r=IN(this),n=Jy(r,t,void 0);return n[er].isManual_=!0,Qy(r),n}finishDraft(t,r){const n=t&&t[er];(!n||!n.isManual_)&&gn(9);const{scope_:a}=n;return MN(a,r),DN(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=tl(Gy).applyPatches_;return Oa(t)?a(t,r):this.produce(t,i=>a(i,r))}};function Jy(e,t,r,n){const[a,i]=lp(t)?tl(Ih).proxyMap_(t,r):cp(t)?tl(Ih).proxySet_(t,r):vY(t,r);return((r==null?void 0:r.scope_)??eM()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?gY(r,i,n):i.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),a}function jn(e){return Oa(e)||gn(10,e),iM(e)}function iM(e){if(!Sn(e)||up(e))return e;const t=e[er];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Yy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Yy(e,!0);return $u(r,(a,i)=>{Mh(r,a,iM(i))},n),t&&(t.finalized_=!1),r}var wY=new bY,sM=wY.produce;function oM(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var jY=oM(),kY=oM,NY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Oh:Oh.apply(null,arguments)};function tn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Tr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>XT(n)&&n.type===e,r}var lM=class rc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,rc.prototype)}static get[Symbol.species](){return rc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new rc(...t[0].concat(this)):new rc(...t.concat(this))}};function LN(e){return Sn(e)?sM(e,()=>{}):e}function Yd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function _Y(e){return typeof e=="boolean"}var SY=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new lM;return r&&(_Y(r)?s.push(jY):s.push(kY(r.extraArgument))),s},cM="RTK_autoBatch",Ve=()=>e=>({payload:e,meta:{[cM]:!0}}),$N=e=>t=>{setTimeout(t,e)},uM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$N(10):e.type==="callback"?e.queueNotification:$N(e.timeout),u=()=>{s=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[cM]),i=!a,i&&(s||(s=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},EY=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new lM(e);return n&&a.push(uM(typeof n=="object"?n:void 0)),a};function CY(e){const t=SY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Lb(r))l=GT(r);else throw new Error(Tr(1));let c;typeof n=="function"?c=n(t):c=t();let u=Oh;a&&(u=NY({trace:!1,...typeof a=="object"&&a}));const d=oY(...c),f=EY(d);let h=typeof s=="function"?s(f):f();const m=u(...h);return YT(l,i,m)}function dM(e){const t={},r=[];let n;const a={addCase(i,s){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Tr(28));if(l in t)throw new Error(Tr(29));return t[l]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function PY(e){return typeof e=="function"}function OY(e,t){let[r,n,a]=dM(t),i;if(PY(e))i=()=>LN(e());else{const l=LN(e);i=()=>l}function s(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Oa(d)){const m=f(d,c);return m===void 0?d:m}else{if(Sn(d))return sM(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return s.getInitialState=i,s}var AY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",TY=(e=21)=>{let t="",r=e;for(;r--;)t+=AY[Math.random()*64|0];return t},MY=Symbol.for("rtk-slice-createasyncthunk");function IY(e,t){return`${e}/${t}`}function DY({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[MY];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(Tr(11));const l=(typeof a.reducers=="function"?a.reducers(LY()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,k){const _=typeof j=="string"?j:j.type;if(!_)throw new Error(Tr(12));if(_ in u.sliceCaseReducersByType)throw new Error(Tr(13));return u.sliceCaseReducersByType[_]=k,d},addMatcher(j,k){return u.sliceMatchers.push({matcher:j,reducer:k}),d},exposeAction(j,k){return u.actionCreators[j]=k,d},exposeCaseReducer(j,k){return u.sliceCaseReducersByName[j]=k,d}};c.forEach(j=>{const k=l[j],_={reducerName:j,type:IY(i,j),createNotation:typeof a.reducers=="function"};zY(k)?BY(_,k,d,t):$Y(_,k,d)});function f(){const[j={},k=[],_=void 0]=typeof a.extraReducers=="function"?dM(a.extraReducers):[a.extraReducers],N={...j,...u.sliceCaseReducersByType};return OY(a.initialState,S=>{for(let E in N)S.addCase(E,N[E]);for(let E of u.sliceMatchers)S.addMatcher(E.matcher,E.reducer);for(let E of k)S.addMatcher(E.matcher,E.reducer);_&&S.addDefaultCase(_)})}const h=j=>j,m=new Map,p=new WeakMap;let v;function x(j,k){return v||(v=f()),v(j,k)}function g(){return v||(v=f()),v.getInitialState()}function w(j,k=!1){function _(S){let E=S[j];return typeof E>"u"&&k&&(E=Yd(p,_,g)),E}function N(S=h){const E=Yd(m,k,()=>new WeakMap);return Yd(E,S,()=>{const T={};for(const[O,P]of Object.entries(a.selectors??{}))T[O]=RY(P,S,()=>Yd(p,S,g),k);return T})}return{reducerPath:j,getSelectors:N,get selectors(){return N(_)},selectSlice:_}}const b={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...w(s),injectInto(j,{reducerPath:k,..._}={}){const N=k??s;return j.inject({reducerPath:N,reducer:x},_),{...b,...w(N,!0)}}};return b}}function RY(e,t,r,n){function a(i,...s){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...s)}return a.unwrapped=e,a}var wr=DY();function LY(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function $Y({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!FY(n))throw new Error(Tr(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?tn(e,s):tn(e))}function zY(e){return e._reducerDefinitionType==="asyncThunk"}function FY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function BY({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Tr(18));const{payloadCreator:i,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||Gd,pending:l||Gd,rejected:c||Gd,settled:u||Gd})}function Gd(){}var UY="task",fM="listener",hM="completed",Hb="cancelled",HY=`task-${Hb}`,VY=`task-${hM}`,ev=`${fM}-${Hb}`,WY=`${fM}-${hM}`,fp=class{constructor(e){Cl(this,"name","TaskAbortError");Cl(this,"message");this.code=e,this.message=`${UY} ${Hb} (reason: ${e})`}},Vb=(e,t)=>{if(typeof e!="function")throw new TypeError(Tr(32))},Dh=()=>{},mM=(e,t=Dh)=>(e.catch(t),e),pM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ms=e=>{if(e.aborted)throw new fp(e.reason)};function gM(e,t){let r=Dh;return new Promise((n,a)=>{const i=()=>a(new fp(e.reason));if(e.aborted){i();return}r=pM(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Dh})}var KY=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof fp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Rh=e=>t=>mM(gM(e,t).then(r=>(ms(e),r))),yM=e=>{const t=Rh(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:xo}=Object,zN={},hp="listenerMiddleware",qY=(e,t)=>{const r=n=>pM(e,()=>n.abort(e.reason));return(n,a)=>{Vb(n);const i=new AbortController;r(i);const s=KY(async()=>{ms(e),ms(i.signal);const l=await n({pause:Rh(i.signal),delay:yM(i.signal),signal:i.signal});return ms(i.signal),l},()=>i.abort(VY));return a!=null&&a.autoJoin&&t.push(s.catch(Dh)),{result:Rh(e)(s),cancel(){i.abort(HY)}}}},YY=(e,t)=>{const r=async(n,a)=>{ms(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await gM(t,Promise.race(l));return ms(t),c}finally{i()}};return(n,a)=>mM(r(n,a))},vM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=tn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Tr(21));return Vb(i),{predicate:a,type:t,effect:i}},xM=xo(e=>{const{type:t,predicate:r,effect:n}=vM(e);return{id:TY(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Tr(22))}}},{withTypes:()=>xM}),FN=(e,t)=>{const{type:r,effect:n,predicate:a}=vM(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},tv=e=>{e.pending.forEach(t=>{t.abort(ev)})},GY=(e,t)=>()=>{for(const r of t.keys())tv(r);e.clear()},BN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},bM=xo(tn(`${hp}/add`),{withTypes:()=>bM}),XY=tn(`${hp}/removeAll`),wM=xo(tn(`${hp}/remove`),{withTypes:()=>wM}),QY=(...e)=>{console.error(`${hp}/error`,...e)},Fu=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:i,onError:s=QY}=e;Vb(s);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&tv(m)}),c=m=>{const p=FN(t,m)??xM(m);return l(p)};xo(c,{withTypes:()=>c});const u=m=>{const p=FN(t,m);return p&&(p.unsubscribe(),m.cancelActive&&tv(p)),!!p};xo(u,{withTypes:()=>u});const d=async(m,p,v,x)=>{const g=new AbortController,w=YY(c,g.signal),b=[];try{m.pending.add(g),n(m),await Promise.resolve(m.effect(p,xo({},v,{getOriginalState:x,condition:(j,k)=>w(j,k).then(Boolean),take:w,delay:yM(g.signal),pause:Rh(g.signal),extra:i,signal:g.signal,fork:qY(g.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((j,k,_)=>{j!==g&&(j.abort(ev),_.delete(j))})},cancel:()=>{g.abort(ev),m.pending.delete(g)},throwIfCancelled:()=>{ms(g.signal)}})))}catch(j){j instanceof fp||BN(s,j,{raisedBy:"effect"})}finally{await Promise.all(b),g.abort(WY),a(m),m.pending.delete(g)}},f=GY(t,r);return{middleware:m=>p=>v=>{if(!XT(v))return p(v);if(bM.match(v))return c(v.payload);if(XY.match(v)){f();return}if(wM.match(v))return u(v.payload);let x=m.getState();const g=()=>{if(x===zN)throw new Error(Tr(23));return x};let w;try{if(w=p(v),t.size>0){const b=m.getState(),j=Array.from(t.values());for(const k of j){let _=!1;try{_=k.predicate(v,b,x)}catch(N){_=!1,BN(s,N,{raisedBy:"predicate"})}_&&d(k,v,m,g)}}}finally{x=zN}return w},startListening:c,stopListening:u,clearListeners:f}};function Tr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ZY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},jM=wr({name:"chartLayout",initialState:ZY,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:JY,setLayout:eG,setChartSize:tG,setScale:rG}=jM.actions,nG=jM.reducer;function kM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){aG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aG(e,t,r){return(t=iG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iG(e){var t=sG(e,"string");return typeof t=="symbol"?t:t+""}function sG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Je(e,t,r){return Ae(e)||Ae(t)?r:en(t)?Jo(e,t,r):typeof t=="function"?t(e):r}var oG=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&i!=="center"&&ue(e[i]))return lo(lo({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&s!=="middle"&&ue(e[s]))return lo(lo({},e),{},{[s]:e[s]+(a||0)})}return e},Ii=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",NM=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,s=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||s.push(t),i||s.push(r),s},_M=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=a==="category"&&s.bandwidth?s.bandwidth()/p:0;if(v=m==="angleAxis"&&i&&i.length>=2?hr(i[0]-i[1])*2*v:v,f||h){var x=(f||h||[]).map((g,w)=>{var b=n?n.indexOf(g):g;return{coordinate:s(b)+v,value:g,offset:v,index:w}});return x.filter(g=>!Rr(g.coordinate))}return c&&u?u.map((g,w)=>({coordinate:s(g)+v,value:g,index:w,offset:v})):s.ticks&&d!=null?s.ticks(d).map((g,w)=>({coordinate:s(g)+v,value:g,offset:v,index:w})):s.domain().map((g,w)=>({coordinate:s(g)+v,value:n?n[g]:g,index:w,offset:v}))},HN=1e-4,lG=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-HN,i=Math.max(n[0],n[1])+HN,s=e(t[0]),l=e(t[r-1]);(s<a||s>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},cG=(e,t)=>{if(!t||t.length!==2||!ue(t[0])||!ue(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ue(e[0])||e[0]<r)&&(a[0]=r),(!ue(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},uG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var l=Rr(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+l,i=e[s][r][1])}},dG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=Rr(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},fG={sign:uG,expand:lq,none:Zo,silhouette:cq,wiggle:uq,positive:dG},hG=(e,t,r)=>{var n=fG[r],a=oq().keys(t).value((i,s)=>Number(Je(i,s,0))).order(Vy).offset(n);return a(e)};function mG(e){return e==null?void 0:String(e)}function Lh(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ae(a[t.dataKey])){var l=xT(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Je(a,Ae(s)?t.dataKey:s);return Ae(c)?null:t.scale(c)}var VN=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var l=Je(i,t.dataKey,t.scale.domain()[s]);return Ae(l)?null:t.scale(l)-a/2+n},pG=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},gG=e=>{var t=e.flat(2).filter(ue);return[Math.min(...t),Math.max(...t)]},yG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],vG=(e,t,r)=>{if(e!=null)return yG(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,l=s.reduce((c,u)=>{var d=kM(u,t,r),f=gG(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},WN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rl=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=ip(t,d=>d.coordinate),i=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function qN(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return lo(lo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function xl(e,t){if(e)return String(e);if(typeof t=="string")return t}var xG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},bG=(e,t)=>t==="centric"?e.angle:e.radius,$a=e=>e.layout.width,za=e=>e.layout.height,wG=e=>e.layout.scale,SM=e=>e.layout.margin,mp=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),pp=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),EM="data-recharts-item-index",CM="data-recharts-item-data-key",Bu=60;function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){jG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jG(e,t,r){return(t=kG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _G=e=>e.brush.height;function SG(e){var t=pp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Bu;return r+a}return r},0)}function EG(e){var t=pp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Bu;return r+a}return r},0)}function CG(e){var t=mp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function PG(e){var t=mp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ot=V([$a,za,SM,_G,SG,EG,CG,PG,KT,eY],(e,t,r,n,a,i,s,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+l},h=Xd(Xd({},f),d),m=h.bottom;h.bottom+=n,h=oG(h,c,u);var p=e-h.left-h.right,v=t-h.top-h.bottom;return Xd(Xd({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(v,0)})}),OG=V(Ot,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Wb=V($a,za,(e,t)=>({x:0,y:0,width:e,height:t})),AG=y.createContext(null),vt=()=>y.useContext(AG)!=null,gp=e=>e.brush,yp=V([gp,Ot,SM],(e,t,r)=>({height:e.height,x:ue(e.x)?e.x:t.left,y:ue(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ue(e.width)?e.width:t.width})),PM={},OM={},AM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(s,l),s=void 0,l=null)},f=()=>{u&&d(),v()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{p(),s=void 0,l=null},x=()=>{d()},g=function(...w){if(a!=null&&a.aborted)return;s=this,l=w;const b=h==null;m(),c&&b&&d()};return g.schedule=m,g.cancel=v,g.flush=x,a==null||a.addEventListener("abort",v,{once:!0}),g}e.debounce=t})(AM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AM;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);s&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...v){d=n.apply(this,v),f=null},a,{edges:u}),m=function(...v){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,v),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(OM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OM;function r(n,a=0,i={}){const{leading:s=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:l})}e.throttle=r})(PM);var TG=PM.throttle;const MG=Xn(TG);var $h=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>a[s++]))}},TM=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:s}=r,l=Pa(n)?e:Number(n),c=Pa(a)?t:Number(a);return i&&i>0&&(l?c=l/i:c&&(l=c*i),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:l,calculatedHeight:c}},IG={width:0,height:0,overflow:"visible"},DG={width:0,overflowX:"visible"},RG={height:0,overflowY:"visible"},LG={},$G=e=>{var{width:t,height:r}=e,n=Pa(t),a=Pa(r);return n&&a?IG:n?DG:a?RG:LG};function zG(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function He(e){return Number.isFinite(e)}function Kn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(null,arguments)}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){FG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FG(e,t,r){return(t=BG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MM=y.createContext({width:-1,height:-1});function HG(e){return Kn(e.width)&&Kn(e.height)}function IM(e){var{children:t,width:r,height:n}=e,a=y.useMemo(()=>({width:r,height:n}),[r,n]);return HG(a)?y.createElement(MM.Provider,{value:a},t):null}var Kb=()=>y.useContext(MM),VG=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,v=y.useRef(null),x=y.useRef();x.current=m,y.useImperativeHandle(t,()=>v.current);var[g,w]=y.useState({containerWidth:n.width,containerHeight:n.height}),b=y.useCallback((S,E)=>{w(T=>{var O=Math.round(S),P=Math.round(E);return T.containerWidth===O&&T.containerHeight===P?T:{containerWidth:O,containerHeight:P}})},[]);y.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Ru;var S=P=>{var L,{width:C,height:D}=P[0].contentRect;b(C,D),(L=x.current)===null||L===void 0||L.call(x,C,D)};d>0&&(S=MG(S,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(S),{width:T,height:O}=v.current.getBoundingClientRect();return b(T,O),E.observe(v.current),()=>{E.disconnect()}},[b,d]);var{containerWidth:j,containerHeight:k}=g;$h(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:N}=TM(j,k,{width:a,height:i,aspect:r,maxHeight:c});return $h(_!=null&&_>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,N,a,i,s,l,r),y.createElement("div",{id:f?"".concat(f):void 0,className:Se("recharts-responsive-container",h),style:XN(XN({},p),{},{width:a,height:i,minWidth:s,minHeight:l,maxHeight:c}),ref:v},y.createElement("div",{style:$G({width:a,height:i})},y.createElement(IM,{width:_,height:N},u)))}),Qd=y.forwardRef((e,t)=>{var r=Kb();if(Kn(r.width)&&Kn(r.height))return e.children;var{width:n,height:a}=zG({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=TM(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ue(i)&&ue(s)?y.createElement(IM,{width:i,height:s},e.children):y.createElement(VG,rv({},e,{width:n,height:a,ref:t}))});function DM(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var bl=()=>{var e,t=vt(),r=se(OG),n=se(yp),a=(e=se(gp))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},WG={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RM=()=>{var e;return(e=se(Ot))!==null&&e!==void 0?e:WG},qb=()=>se($a),Yb=()=>se(za),KG=()=>se(e=>e.layout.margin),Ee=e=>e.layout.layoutType,Uu=()=>se(Ee),qG=()=>{var e=Uu();return e!==void 0},vp=e=>{var t=Ge(),r=vt(),{width:n,height:a}=e,i=Kb(),s=n,l=a;return i&&(s=i.width>0?i.width:n,l=i.height>0?i.height:a),y.useEffect(()=>{!r&&Kn(s)&&Kn(l)&&t(tG({width:s,height:l}))},[t,r,s,l]),null},LM=Symbol.for("immer-nothing"),QN=Symbol.for("immer-draftable"),Lr=Symbol.for("immer-state");function yn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jc=Object.getPrototypeOf;function nl(e){return!!e&&!!e[Lr]}function Cs(e){var t;return e?$M(e)||Array.isArray(e)||!!e[QN]||!!((t=e.constructor)!=null&&t[QN])||Hu(e)||bp(e):!1}var YG=Object.prototype.constructor.toString(),ZN=new WeakMap;function $M(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=ZN.get(r);return n===void 0&&(n=Function.toString.call(r),ZN.set(r,n)),n===YG}function zh(e,t,r=!0){xp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function xp(e){const t=e[Lr];return t?t.type_:Array.isArray(e)?1:Hu(e)?2:bp(e)?3:0}function nv(e,t){return xp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function zM(e,t,r){const n=xp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function GG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Hu(e){return e instanceof Map}function bp(e){return e instanceof Set}function Hi(e){return e.copy_||e.base_}function av(e,t){if(Hu(e))return new Map(e);if(bp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=$M(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Lr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],l=n[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(Jc(e),n)}else{const n=Jc(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Gb(e,t=!1){return wp(e)||nl(e)||!Cs(e)||(xp(e)>1&&Object.defineProperties(e,{set:Zd,add:Zd,clear:Zd,delete:Zd}),Object.freeze(e),t&&Object.values(e).forEach(r=>Gb(r,!0))),e}function XG(){yn(2)}var Zd={value:XG};function wp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var QG={};function Ps(e){const t=QG[e];return t||yn(0,e),t}var eu;function FM(){return eu}function ZG(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function JN(e,t){t&&(Ps("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function iv(e){sv(e),e.drafts_.forEach(JG),e.drafts_=null}function sv(e){e===eu&&(eu=e.parent_)}function e_(e){return eu=ZG(eu,e)}function JG(e){const t=e[Lr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function t_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Lr].modified_&&(iv(t),yn(4)),Cs(e)&&(e=Fh(t,e),t.parent_||Bh(t,e)),t.patches_&&Ps("Patches").generateReplacementPatches_(r[Lr].base_,e,t.patches_,t.inversePatches_)):e=Fh(t,r,[]),iv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==LM?e:void 0}function Fh(e,t,r){if(wp(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Lr];if(!a)return zh(t,(i,s)=>r_(e,a,t,i,s,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Bh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let s=i,l=!1;a.type_===3&&(s=new Set(i),i.clear(),l=!0),zh(s,(c,u)=>r_(e,a,i,c,u,r,l),n),Bh(e,i,!1),r&&e.patches_&&Ps("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function r_(e,t,r,n,a,i,s){if(a==null||typeof a!="object"&&!s)return;const l=wp(a);if(!(l&&!s)){if(nl(a)){const c=i&&t&&t.type_!==3&&!nv(t.assigned_,n)?i.concat(n):void 0,u=Fh(e,a,c);if(zM(r,n,u),nl(u))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(Cs(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Fh(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Hu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Bh(e,a)}}}function Bh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Gb(t,r)}function eX(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:FM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Xb;r&&(a=[n],i=tu);const{revoke:s,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=s,l}var Xb={get(e,t){if(t===Lr)return e;const r=Hi(e);if(!nv(r,t))return tX(e,r,t);const n=r[t];return e.finalized_||!Cs(n)?n:n===Kg(e.base_,t)?(qg(e),e.copy_[t]=lv(n,e)):n},has(e,t){return t in Hi(e)},ownKeys(e){return Reflect.ownKeys(Hi(e))},set(e,t,r){const n=BM(Hi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Kg(Hi(e),t),i=a==null?void 0:a[Lr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(GG(r,a)&&(r!==void 0||nv(e.base_,t)))return!0;qg(e),ov(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Kg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,qg(e),ov(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Hi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){yn(11)},getPrototypeOf(e){return Jc(e.base_)},setPrototypeOf(){yn(12)}},tu={};zh(Xb,(e,t)=>{tu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});tu.deleteProperty=function(e,t){return tu.set.call(this,e,t,void 0)};tu.set=function(e,t,r){return Xb.set.call(this,e[0],t,r,e[0])};function Kg(e,t){const r=e[Lr];return(r?Hi(r):e)[t]}function tX(e,t,r){var a;const n=BM(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function BM(e,t){if(!(t in e))return;let r=Jc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Jc(r)}}function ov(e){e.modified_||(e.modified_=!0,e.parent_&&ov(e.parent_))}function qg(e){e.copy_||(e.copy_=av(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(c=i,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&yn(6),n!==void 0&&typeof n!="function"&&yn(7);let a;if(Cs(t)){const i=e_(this),s=lv(t,void 0);let l=!0;try{a=r(s),l=!1}finally{l?iv(i):sv(i)}return JN(i,n),t_(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===LM&&(a=void 0),this.autoFreeze_&&Gb(a,!0),n){const i=[],s=[];Ps("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else yn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,c=>t(c,...l));let n,a;return[this.produce(t,r,(s,l)=>{n=s,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Cs(e)||yn(8),nl(e)&&(e=nX(e));const t=e_(this),r=lv(e,void 0);return r[Lr].isManual_=!0,sv(t),r}finishDraft(e,t){const r=e&&e[Lr];(!r||!r.isManual_)&&yn(9);const{scope_:n}=r;return JN(n,t),t_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ps("Patches").applyPatches_;return nl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function lv(e,t){const r=Hu(e)?Ps("MapSet").proxyMap_(e,t):bp(e)?Ps("MapSet").proxySet_(e,t):eX(e,t);return(t?t.scope_:FM()).drafts_.push(r),r}function nX(e){return nl(e)||yn(10,e),UM(e)}function UM(e){if(!Cs(e)||wp(e))return e;const t=e[Lr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=av(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=av(e,!0);return zh(r,(a,i)=>{zM(r,a,UM(i))},n),t&&(t.finalized_=!1),r}var aX=new rX;aX.produce;var iX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},HM=wr({name:"legend",initialState:iX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ve()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=jn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Ve()},removeLegendPayload:{reducer(e,t){var r=jn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ve()}}}),{setLegendSize:n_,setLegendSettings:sX,addLegendPayload:oX,replaceLegendPayload:lX,removeLegendPayload:cX}=HM.actions,uX=HM.reducer,dX=["contextPayload"];function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cv.apply(null,arguments)}function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){fX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fX(e,t,r){return(t=hX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hX(e){var t=mX(e,"string");return typeof t=="symbol"?t:t+""}function mX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pX(e,t){if(e==null)return{};var r,n,a=gX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yX(e){return e.value}function vX(e){var{contextPayload:t}=e,r=pX(e,dX),n=zT(t,e.payloadUniqBy,yX),a=al(al({},r),{},{payload:n});return y.isValidElement(e.content)?y.cloneElement(e.content,a):typeof e.content=="function"?y.createElement(e.content,a):y.createElement($q,a)}function xX(e,t,r,n,a,i){var{layout:s,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&s==="vertical"?u={left:((n||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),al(al({},u),d)}function bX(e){var t=Ge();return y.useEffect(()=>{t(sX(e))},[t,e]),null}function wX(e){var t=Ge();return y.useEffect(()=>(t(n_(e)),()=>{t(n_({width:0,height:0}))}),[t,e]),null}function jX(e,t,r,n){return e==="vertical"&&ue(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var kX={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function VM(e){var t=mt(e,kX),r=nY(),n=AK(),a=KG(),{width:i,height:s,wrapperStyle:l,portal:c}=t,[u,d]=qT([r]),f=qb(),h=Yb();if(f==null||h==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),p=jX(t.layout,s,i,m),v=c?l:al(al({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||s||"auto"},xX(l,t,a,f,h,u)),l),x=c??n;if(x==null||r==null)return null;var g=y.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},y.createElement(bX,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&y.createElement(wX,{width:u.width,height:u.height}),y.createElement(vX,cv({},t,p,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return yu.createPortal(g,x)}VM.displayName="Legend";function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(null,arguments)}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){NX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NX(e,t,r){return(t=_X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EX(e){return Array.isArray(e)&&en(e[0])&&en(e[1])?e.join(" ~ "):e}var CX=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var k={padding:0,margin:0},_=(l?ip(i,l):i).map((N,S)=>{if(N.type==="none")return null;var E=N.formatter||s||EX,{value:T,name:O}=N,P=T,L=O;if(E){var C=E(T,O,N,S,i);if(Array.isArray(C))[P,L]=C;else if(C!=null)P=C;else return null}var D=Yg({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:D},en(L)?y.createElement("span",{className:"recharts-tooltip-item-name"},L):null,en(L)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},P),y.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:k},_)}return null},p=Yg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=Yg({margin:0},a),x=!Ae(d),g=x?d:"",w=Se("recharts-default-tooltip",c),b=Se("recharts-tooltip-label",u);x&&f&&i!==void 0&&i!==null&&(g=f(d,i));var j=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",uv({className:w,style:p},j),y.createElement("p",{className:b,style:v},y.isValidElement(g)?g:"".concat(g)),m())},Bl="recharts-tooltip-wrapper",PX={visibility:"hidden"};function OX(e){var{coordinate:t,translateX:r,translateY:n}=e;return Se(Bl,{["".concat(Bl,"-right")]:ue(r)&&t&&ue(t.x)&&r>=t.x,["".concat(Bl,"-left")]:ue(r)&&t&&ue(t.x)&&r<t.x,["".concat(Bl,"-bottom")]:ue(n)&&t&&ue(t.y)&&n>=t.y,["".concat(Bl,"-top")]:ue(n)&&t&&ue(t.y)&&n<t.y})}function s_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&ue(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return s[n]?d:f;var h=c[n];if(h==null)return 0;if(s[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var v=f+l,x=h+u;return v>x?Math.max(d,h):Math.max(f,h)}function AX(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function TX(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:l,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=s_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=s_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=AX({translateX:d,translateY:f,useTranslate3d:l})):u=PX,{cssProperties:u,cssClasses:OX({translateX:d,translateY:f,coordinate:r})}}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){dv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dv(e,t,r){return(t=MX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=IX(e,"string");return typeof t=="symbol"?t:t+""}function IX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DX extends y.PureComponent{constructor(){super(...arguments),dv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),dv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:v,innerRef:x,hasPortalFromProps:g}=this.props,{cssClasses:w,cssProperties:b}=TX({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:m}),j=g?{}:Jd(Jd({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=Jd(Jd({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:k,ref:x},i)}}var WM=()=>{var e;return(e=se(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(null,arguments)}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){RX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RX(e,t,r){return(t=LX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function $X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u_={curveBasisClosed:XK,curveBasisOpen:QK,curveBasis:GK,curveBumpX:DK,curveBumpY:RK,curveLinearClosed:ZK,curveLinear:Zm,curveMonotoneX:JK,curveMonotoneY:eq,curveNatural:tq,curveStep:rq,curveStepAfter:aq,curveStepBefore:nq},Uh=e=>He(e.x)&&He(e.y),d_=e=>e.base!=null&&Uh(e.base)&&Uh(e),Ul=e=>e.x,Hl=e=>e.y,zX=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Du(e));return(r==="curveMonotone"||r==="curveBump")&&t?u_["".concat(r).concat(t==="vertical"?"Y":"X")]:u_[r]||Zm},FX=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=zX(t,a),l=i?r.filter(Uh):r,c;if(Array.isArray(n)){var u=r.map((m,p)=>c_(c_({},m),{},{base:n[p]}));a==="vertical"?c=Vd().y(Hl).x1(Ul).x0(m=>m.base.x):c=Vd().x(Ul).y1(Hl).y0(m=>m.base.y);var d=c.defined(d_).curve(s),f=i?u.filter(d_):u;return d(f)}a==="vertical"&&ue(n)?c=Vd().y(Hl).x1(Ul).x0(n):ue(n)?c=Vd().x(Ul).y1(Hl).y0(n):c=iT().x(Ul).y(Hl);var h=c.defined(Uh).curve(s);return h(l)},Qb=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?FX(e):n;return y.createElement("path",fv({},Dr(e),Nb(e),{className:Se("recharts-curve",t),d:i===null?void 0:i,ref:a}))},BX=["x","y","top","left","width","height","className"];function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){HX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HX(e,t,r){return(t=VX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KX(e,t){if(e==null)return{};var r,n,a=qX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YX=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),GX=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:l}=e,c=KX(e,BX),u=UX({x:t,y:r,top:n,left:a,width:i,height:s},c);return!ue(t)||!ue(r)||!ue(i)||!ue(s)||!ue(n)||!ue(a)?null:y.createElement("path",hv({},qt(u),{className:Se("recharts-cross",l),d:YX(t,r,i,s,n,a)}))};function XX(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){QX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e,t,r){return(t=ZX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),KM=(e,t,r)=>e.map(n=>"".concat(eQ(n)," ").concat(t,"ms ").concat(r)).join(","),tQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),ru=(e,t)=>Object.keys(t).reduce((r,n)=>m_(m_({},r),{},{[n]:e(n,t[n])}),{});function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){rQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rQ(e,t,r){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hh=(e,t,r)=>e+(t-e)*r,mv=e=>{var{from:t,to:r}=e;return t!==r},qM=(e,t,r)=>{var n=ru((a,i)=>{if(mv(i)){var[s,l]=e(i.from,i.to,i.velocity);return gt(gt({},i),{},{from:s,velocity:l})}return i},t);return r<1?ru((a,i)=>mv(i)?gt(gt({},i),{},{velocity:Hh(i.velocity,n[a].velocity,r),from:Hh(i.from,n[a].from,r)}):i,t):qM(e,n,r-1)};function iQ(e,t,r,n,a,i){var s,l=n.reduce((h,m)=>gt(gt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>ru((h,m)=>m.from,l),u=()=>!Object.values(l).filter(mv).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/r.dt;l=qM(r,l,p),a(gt(gt(gt({},e),t),c())),s=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function sQ(e,t,r,n,a,i,s){var l=null,c=a.reduce((f,h)=>gt(gt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=ru((v,x)=>Hh(...x,r(h)),c);if(i(gt(gt(gt({},e),t),m)),h<1)l=s.setTimeout(d);else{var p=ru((v,x)=>Hh(...x,r(1)),c);i(gt(gt(gt({},e),t),p))}};return()=>(l=s.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const oQ=(e,t,r,n,a,i)=>{var s=tQ(e,t);return r==null?()=>(a(gt(gt({},e),t)),()=>{}):r.isStepper===!0?iQ(e,t,r,s,a,i):sQ(e,t,r,n,s,a,i)};var Vh=1e-4,YM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],GM=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),g_=(e,t)=>r=>{var n=YM(e,t);return GM(n,r)},lQ=(e,t)=>r=>{var n=YM(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return GM(a,r)},cQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((a=i[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var s=i[1].split(")")[0].split(",").map(l=>parseFloat(l));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},uQ=(e,t,r,n)=>{var a=g_(e,r),i=g_(t,n),s=lQ(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,p=s(f);if(Math.abs(m-d)<Vh||p<Vh)return i(f);f=l(f-m/p)}return i(f)};return c.isStepper=!1,c},y_=function(){return uQ(...cQ(...arguments))},dQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,l,c)=>{var u=-(s-l)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+s;return Math.abs(h-l)<Vh&&Math.abs(f)<Vh?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},fQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return y_(e);case"spring":return dQ();default:if(e.split("(")[0]==="cubic-bezier")return y_(e)}return typeof e=="function"?e:null};function hQ(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class mQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function pQ(){return hQ(new mQ)}var gQ=y.createContext(pQ);function yQ(e,t){var r=y.useContext(gQ);return y.useMemo(()=>t??r(e),[e,t,r])}var vQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vu={devToolsEnabled:!1,isSsr:vQ()},xQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},v_={t:0},Gg={t:1};function Wu(e){var t=mt(e,xQ),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!Vu.isSsr:r,f=yQ(t.animationId,t.animationManager),[h,m]=y.useState(d?v_:Gg),p=y.useRef(null);return y.useEffect(()=>{d||m(Gg)},[d]),y.useEffect(()=>{if(!d||!n)return Ru;var v=oQ(v_,Gg,fQ(i),a,m,f.getTimeoutController()),x=()=>{p.current=v()};return f.start([c,s,x,a,l]),()=>{f.stop(),p.current&&p.current(),l()}},[d,n,a,i,s,c,l,f]),u(h.t)}function Ku(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(Gc(t)),n=y.useRef(e);return n.current!==e&&(r.current=Gc(t),n.current=e),r.current}var bQ=["radius"],wQ=["radius"];function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){jQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jQ(e,t,r){return(t=kQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wh.apply(null,arguments)}function w_(e,t){if(e==null)return{};var r,n,a=_Q(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _Q(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var j_=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},k_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XM=e=>{var t=mt(e,k_),r=y.useRef(null),[n,a]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&a(R)}catch{}},[]);var{x:i,y:s,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:v}=t,x=y.useRef(l),g=y.useRef(c),w=y.useRef(i),b=y.useRef(s),j=y.useMemo(()=>({x:i,y:s,width:l,height:c,radius:u}),[i,s,l,c,u]),k=Ku(j,"rectangle-");if(i!==+i||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var _=Se("recharts-rectangle",d);if(!v){var N=qt(t),{radius:S}=N,E=w_(N,bQ);return y.createElement("path",Wh({},E,{radius:typeof u=="number"?u:void 0,className:_,d:j_(i,s,l,c,u)}))}var T=x.current,O=g.current,P=w.current,L=b.current,C="0px ".concat(n===-1?1:n,"px"),D="".concat(n,"px 0px"),I=KM(["strokeDasharray"],h,typeof f=="string"?f:k_.animationEasing);return y.createElement(Wu,{animationId:k,key:k,canBegin:n>0,duration:h,easing:f,isActive:v,begin:m},R=>{var A=$e(T,l,R),M=$e(O,c,R),z=$e(P,i,R),H=$e(L,s,R);r.current&&(x.current=A,g.current=M,w.current=z,b.current=H);var F;p?R>0?F={transition:I,strokeDasharray:D}:F={strokeDasharray:C}:F={strokeDasharray:D};var Y=qt(t),{radius:q}=Y,Q=w_(Y,wQ);return y.createElement("path",Wh({},Q,{radius:typeof u=="number"?u:void 0,className:_,d:j_(z,H,A,M,u),ref:r,style:b_(b_({},F),t.style)}))})};function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function __(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){SQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SQ(e,t,r){return(t=EQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EQ(e){var t=CQ(e,"string");return typeof t=="symbol"?t:t+""}function CQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kh=Math.PI/180,PQ=e=>e*180/Math.PI,Dt=(e,t,r,n)=>({x:e+Math.cos(-Kh*n)*r,y:t+Math.sin(-Kh*n)*r}),OQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},AQ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},TQ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=AQ({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var l=(r-a)/s,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:s,angle:PQ(c),angleInRadian:c}},MQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},IQ=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},DQ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=TQ({x:r,y:n},t),{innerRadius:s,outerRadius:l}=t;if(a<s||a>l||a===0)return null;var{startAngle:c,endAngle:u}=MQ(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?__(__({},t),{},{radius:a,angle:IQ(d,t)}):null};function QM(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=Dt(t,r,n,a),l=Dt(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}var RQ=(e,t)=>{var r=hr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ef=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:l,cornerIsExternal:c}=e,u=l*(s?1:-1)+n,d=Math.asin(l/u)/Kh,f=c?a:a+i*d,h=Dt(t,r,u,f),m=Dt(t,r,n,f),p=c?a-i*d:a,v=Dt(t,r,u*Math.cos(d*Kh),p);return{center:h,circleTangency:m,lineTangency:v,theta:d}},ZM=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,l=RQ(i,s),c=i+l,u=Dt(t,r,a,i),d=Dt(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Dt(t,r,n,i),m=Dt(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},LQ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=hr(u-c),{circleTangency:f,lineTangency:h,theta:m}=ef({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:p,lineTangency:v,theta:x}=ef({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),g=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(g<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):ZM({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var w="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:k}=ef({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:_,lineTangency:N,theta:S}=ef({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),E=l?Math.abs(c-u):Math.abs(c-u)-k-S;if(E<0&&i===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},$Q={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JM=e=>{var t=mt(e,$Q),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=Se("recharts-sector",f),m=i-a,p=_n(s,m,0,!0),v;return p>0&&Math.abs(u-d)<360?v=LQ({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=ZM({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),y.createElement("path",pv({},qt(t),{className:h,d:v}))};function zQ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(wT(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:s,angle:l}=t,c=Dt(n,a,i,l),u=Dt(n,a,s,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return QM(t)}}var eI={},tI={},rI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Db;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(rI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rI;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(tI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rb,r=tI;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const l=Math.max(Math.ceil((i-a)/(s||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=s;return c}e.range=n})(eI);var FQ=eI.range;const nI=Xn(FQ);function ji(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zb(e){let t,r,n;e.length!==2?(t=ji,r=(l,c)=>ji(e(l),c),n=(l,c)=>e(l)-c):(t=e===ji||e===BQ?e:UQ,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function UQ(){return 0}function aI(e){return e===null?NaN:+e}function*HQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const VQ=Zb(ji),qu=VQ.right;Zb(aI).center;class S_ extends Map{constructor(t,r=qQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(E_(this,t))}has(t){return super.has(E_(this,t))}set(t,r){return super.set(WQ(this,t),r)}delete(t){return super.delete(KQ(this,t))}}function E_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function WQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function KQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function qQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function YQ(e=ji){if(e===ji)return iI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function iI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const GQ=Math.sqrt(50),XQ=Math.sqrt(10),QQ=Math.sqrt(2);function qh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=GQ?10:i>=XQ?5:i>=QQ?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?qh(e,t,r*2):[l,c,u]}function gv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?qh(t,e,r):qh(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function yv(e,t,r){return t=+t,e=+e,r=+r,qh(e,t,r)[2]}function vv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?yv(t,e,r):yv(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function C_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function P_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sI(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?iI:YQ(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));sI(e,t,m,p,a)}const i=e[t];let s=r,l=n;for(Vl(e,r,t),a(e[n],i)>0&&Vl(e,r,n);s<l;){for(Vl(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Vl(e,r,l):(++l,Vl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Vl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ZQ(e,t,r){if(e=Float64Array.from(HQ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return P_(e);if(t>=1)return C_(e);var n,a=(n-1)*t,i=Math.floor(a),s=C_(sI(e,i).subarray(0,i+1)),l=P_(e.subarray(i+1));return s+(l-s)*(a-i)}}function JQ(e,t,r=aI){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function eZ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function an(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xv=Symbol("implicit");function Jb(){var e=new S_,t=[],r=[],n=xv;function a(i){let s=e.get(i);if(s===void 0){if(n!==xv)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new S_;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Jb(t,r).unknown(n)},an.apply(a,arguments),a}function ew(){var e=Jb().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,v=m?n:a;i=(v-p)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),p+=(v-p-i*(h-c))*d,s=i*(1-c),l&&(p=Math.round(p),s=Math.round(s));var x=eZ(h).map(function(g){return p+i*g});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return ew(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},an.apply(f(),arguments)}function oI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oI(t())},e}function tZ(){return oI(ew.apply(null,arguments).paddingInner(1))}function rZ(e){return function(){return e}}function Yh(e){return+e}var O_=[0,1];function Zt(e){return e}function bv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rZ(isNaN(t)?NaN:.5)}function nZ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function aZ(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=bv(a,n),i=r(s,i)):(n=bv(n,a),i=r(i,s)),function(l){return i(n(l))}}function iZ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=bv(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var c=qu(e,l,1,n)-1;return i[c](a[c](l))}}function Yu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jp(){var e=O_,t=O_,r=va,n,a,i,s=Zt,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Zt&&(s=nZ(e[0],e[h-1])),l=h>2?iZ:aZ,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=l(t,e.map(n),mn)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Yh),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=nb,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Zt,d()):s!==Zt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function tw(){return jp()(Zt,Zt)}function sZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function il(e){return e=Gh(Math.abs(e)),e?e[1]:NaN}function oZ(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function lZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nu(e){if(!(t=cZ.exec(e)))throw new Error("invalid format: "+e);var t;return new rw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nu.prototype=rw.prototype;function rw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}rw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uZ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var lI;function dZ(e,t){var r=Gh(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(lI=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Gh(e,Math.max(0,t+i-1))[0]}function A_(e,t){var r=Gh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const T_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>A_(e*100,t),r:A_,s:dZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function M_(e){return e}var I_=Array.prototype.map,D_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fZ(e){var t=e.grouping===void 0||e.thousands===void 0?M_:oZ(I_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?M_:lZ(I_.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=nu(f);var h=f.fill,m=f.align,p=f.sign,v=f.symbol,x=f.zero,g=f.width,w=f.comma,b=f.precision,j=f.trim,k=f.type;k==="n"?(w=!0,k="g"):T_[k]||(b===void 0&&(b=12),j=!0,k="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var _=v==="$"?r:v==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",N=v==="$"?n:/[%p]/.test(k)?s:"",S=T_[k],E=/[defgprs%]/.test(k);b=b===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function T(O){var P=_,L=N,C,D,I;if(k==="c")L=S(O)+L,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?c:S(Math.abs(O),b),j&&(O=uZ(O)),R&&+O==0&&p!=="+"&&(R=!1),P=(R?p==="("?p:l:p==="-"||p==="("?"":p)+P,L=(k==="s"?D_[8+lI/3]:"")+L+(R&&p==="("?")":""),E){for(C=-1,D=O.length;++C<D;)if(I=O.charCodeAt(C),48>I||I>57){L=(I===46?a+O.slice(C+1):O.slice(C))+L,O=O.slice(0,C);break}}}w&&!x&&(O=t(O,1/0));var A=P.length+O.length+L.length,M=A<g?new Array(g-A+1).join(h):"";switch(w&&x&&(O=t(M+O,M.length?g-L.length:1/0),M=""),m){case"<":O=P+O+L+M;break;case"=":O=P+M+O+L;break;case"^":O=M.slice(0,A=M.length>>1)+P+O+L+M.slice(A);break;default:O=M+P+O+L;break}return i(O)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=nu(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(il(h)/3)))*3,v=Math.pow(10,-p),x=D_[8+p/3];return function(g){return m(v*g)+x}}return{format:u,formatPrefix:d}}var tf,nw,cI;hZ({thousands:",",grouping:[3],currency:["$",""]});function hZ(e){return tf=fZ(e),nw=tf.format,cI=tf.formatPrefix,tf}function mZ(e){return Math.max(0,-il(Math.abs(e)))}function pZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(il(t)/3)))*3-il(Math.abs(e)))}function gZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,il(t)-il(e))+1}function uI(e,t,r,n){var a=vv(e,t,r),i;switch(n=nu(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=pZ(a,s))&&(n.precision=i),cI(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=gZ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=mZ(a))&&(n.precision=i-(n.type==="%")*2);break}}return nw(n)}function Di(e){var t=e.domain;return e.ticks=function(r){var n=t();return gv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return uI(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=yv(s,l,r),u===c)return n[a]=s,n[i]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function dI(){var e=tw();return e.copy=function(){return Yu(e,dI())},an.apply(e,arguments),Di(e)}function fI(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return fI(e).unknown(t)},e=arguments.length?Array.from(e,Yh):[0,1],Di(r)}function hI(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function R_(e){return Math.log(e)}function L_(e){return Math.exp(e)}function yZ(e){return-Math.log(-e)}function vZ(e){return-Math.exp(-e)}function xZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bZ(e){return e===10?xZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $_(e){return(t,r)=>-e(-t,r)}function aw(e){const t=e(R_,L_),r=t.domain;let n=10,a,i;function s(){return a=wZ(n),i=bZ(n),r()[0]<0?(a=$_(a),i=$_(i),e(yZ,vZ)):e(R_,L_),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,v;const x=l==null?10:+l;let g=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(v=h<0?p/i(-h):p*i(h),!(v<u)){if(v>d)break;g.push(v)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(v=h>0?p/i(-h):p*i(h),!(v<u)){if(v>d)break;g.push(v)}g.length*2<x&&(g=gv(u,d,x))}else g=gv(h,m,Math.min(m-h,x)).map(i);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=nu(c)).precision==null&&(c.trim=!0),c=nw(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(hI(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function mI(){const e=aw(jp()).domain([1,10]);return e.copy=()=>Yu(e,mI()).base(e.base()),an.apply(e,arguments),e}function z_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function F_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function iw(e){var t=1,r=e(z_(t),F_(t));return r.constant=function(n){return arguments.length?e(z_(t=+n),F_(t)):t},Di(r)}function pI(){var e=iw(jp());return e.copy=function(){return Yu(e,pI()).constant(e.constant())},an.apply(e,arguments)}function B_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function kZ(e){return e<0?-e*e:e*e}function sw(e){var t=e(Zt,Zt),r=1;function n(){return r===1?e(Zt,Zt):r===.5?e(jZ,kZ):e(B_(r),B_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Di(t)}function ow(){var e=sw(jp());return e.copy=function(){return Yu(e,ow()).exponent(e.exponent())},an.apply(e,arguments),e}function NZ(){return ow.apply(null,arguments).exponent(.5)}function U_(e){return Math.sign(e)*e*e}function _Z(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function gI(){var e=tw(),t=[0,1],r=!1,n;function a(i){var s=_Z(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(U_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Yh)).map(U_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return gI(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},an.apply(a,arguments),Di(a)}function yI(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=JQ(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[qu(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ji),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return yI().domain(e).range(t).unknown(n)},an.apply(i,arguments)}function vI(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[qu(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return vI().domain([e,t]).range(a).unknown(i)},an.apply(Di(s),arguments)}function xI(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[qu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return xI().domain(e).range(t).unknown(r)},an.apply(a,arguments)}const Xg=new Date,Qg=new Date;function xt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<s);return c},a.filter=i=>xt(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Xg.setTime(+i),Qg.setTime(+s),e(Xg),e(Qg),Math.floor(r(Xg,Qg))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Xh=xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Xh);Xh.range;const ha=1e3,Xr=ha*60,ma=Xr*60,Aa=ma*24,lw=Aa*7,H_=Aa*30,Zg=Aa*365,Zi=xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getUTCSeconds());Zi.range;const cw=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ha)},(e,t)=>{e.setTime(+e+t*Xr)},(e,t)=>(t-e)/Xr,e=>e.getMinutes());cw.range;const uw=xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xr)},(e,t)=>(t-e)/Xr,e=>e.getUTCMinutes());uw.range;const dw=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ha-e.getMinutes()*Xr)},(e,t)=>{e.setTime(+e+t*ma)},(e,t)=>(t-e)/ma,e=>e.getHours());dw.range;const fw=xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ma)},(e,t)=>(t-e)/ma,e=>e.getUTCHours());fw.range;const Gu=xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xr)/Aa,e=>e.getDate()-1);Gu.range;const kp=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Aa,e=>e.getUTCDate()-1);kp.range;const bI=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Aa,e=>Math.floor(e/Aa));bI.range;function $s(e){return xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Xr)/lw)}const Np=$s(0),Qh=$s(1),SZ=$s(2),EZ=$s(3),sl=$s(4),CZ=$s(5),PZ=$s(6);Np.range;Qh.range;SZ.range;EZ.range;sl.range;CZ.range;PZ.range;function zs(e){return xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/lw)}const _p=zs(0),Zh=zs(1),OZ=zs(2),AZ=zs(3),ol=zs(4),TZ=zs(5),MZ=zs(6);_p.range;Zh.range;OZ.range;AZ.range;ol.range;TZ.range;MZ.range;const hw=xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hw.range;const mw=xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mw.range;const Ta=xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ta.range;const Ma=xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ma.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ma.range;function wI(e,t,r,n,a,i){const s=[[Zi,1,ha],[Zi,5,5*ha],[Zi,15,15*ha],[Zi,30,30*ha],[i,1,Xr],[i,5,5*Xr],[i,15,15*Xr],[i,30,30*Xr],[a,1,ma],[a,3,3*ma],[a,6,6*ma],[a,12,12*ma],[n,1,Aa],[n,2,2*Aa],[r,1,lw],[t,1,H_],[t,3,3*H_],[e,1,Zg]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=Zb(([,,x])=>x).right(s,h);if(m===s.length)return e.every(vv(u/Zg,d/Zg,f));if(m===0)return Xh.every(Math.max(vv(u,d,f),1));const[p,v]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(v)}return[l,c]}const[IZ,DZ]=wI(Ma,mw,_p,bI,fw,uw),[RZ,LZ]=wI(Ta,hw,Np,Gu,dw,cw);function Jg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function e0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function $Z(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=Kl(a),d=ql(a),f=Kl(i),h=ql(i),m=Kl(s),p=ql(s),v=Kl(l),x=ql(l),g=Kl(c),w=ql(c),b={a:R,A,b:M,B:z,c:null,d:G_,e:G_,f:oJ,g:yJ,G:xJ,H:aJ,I:iJ,j:sJ,L:jI,m:lJ,M:cJ,p:H,q:F,Q:Z_,s:J_,S:uJ,u:dJ,U:fJ,V:hJ,w:mJ,W:pJ,x:null,X:null,y:gJ,Y:vJ,Z:bJ,"%":Q_},j={a:Y,A:q,b:Q,B:le,c:null,d:X_,e:X_,f:NJ,g:IJ,G:RJ,H:wJ,I:jJ,j:kJ,L:NI,m:_J,M:SJ,p:Z,q:X,Q:Z_,s:J_,S:EJ,u:CJ,U:PJ,V:OJ,w:AJ,W:TJ,x:null,X:null,y:MJ,Y:DJ,Z:LJ,"%":Q_},k={a:T,A:O,b:P,B:L,c:C,d:q_,e:q_,f:eJ,g:K_,G:W_,H:Y_,I:Y_,j:XZ,L:JZ,m:GZ,M:QZ,p:E,q:YZ,Q:rJ,s:nJ,S:ZZ,u:HZ,U:VZ,V:WZ,w:UZ,W:KZ,x:D,X:I,y:K_,Y:W_,Z:qZ,"%":tJ};b.x=_(r,b),b.X=_(n,b),b.c=_(t,b),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(B,ee){return function(J){var K=[],re=-1,ce=0,ge=B.length,me,Ie,U;for(J instanceof Date||(J=new Date(+J));++re<ge;)B.charCodeAt(re)===37&&(K.push(B.slice(ce,re)),(Ie=V_[me=B.charAt(++re)])!=null?me=B.charAt(++re):Ie=me==="e"?" ":"0",(U=ee[me])&&(me=U(J,Ie)),K.push(me),ce=re+1);return K.push(B.slice(ce,re)),K.join("")}}function N(B,ee){return function(J){var K=Wl(1900,void 0,1),re=S(K,B,J+="",0),ce,ge;if(re!=J.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ee&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(ce=e0(Wl(K.y,0,1)),ge=ce.getUTCDay(),ce=ge>4||ge===0?Zh.ceil(ce):Zh(ce),ce=kp.offset(ce,(K.V-1)*7),K.y=ce.getUTCFullYear(),K.m=ce.getUTCMonth(),K.d=ce.getUTCDate()+(K.w+6)%7):(ce=Jg(Wl(K.y,0,1)),ge=ce.getDay(),ce=ge>4||ge===0?Qh.ceil(ce):Qh(ce),ce=Gu.offset(ce,(K.V-1)*7),K.y=ce.getFullYear(),K.m=ce.getMonth(),K.d=ce.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),ge="Z"in K?e0(Wl(K.y,0,1)).getUTCDay():Jg(Wl(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(ge+5)%7:K.w+K.U*7-(ge+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,e0(K)):Jg(K)}}function S(B,ee,J,K){for(var re=0,ce=ee.length,ge=J.length,me,Ie;re<ce;){if(K>=ge)return-1;if(me=ee.charCodeAt(re++),me===37){if(me=ee.charAt(re++),Ie=k[me in V_?ee.charAt(re++):me],!Ie||(K=Ie(B,J,K))<0)return-1}else if(me!=J.charCodeAt(K++))return-1}return K}function E(B,ee,J){var K=u.exec(ee.slice(J));return K?(B.p=d.get(K[0].toLowerCase()),J+K[0].length):-1}function T(B,ee,J){var K=m.exec(ee.slice(J));return K?(B.w=p.get(K[0].toLowerCase()),J+K[0].length):-1}function O(B,ee,J){var K=f.exec(ee.slice(J));return K?(B.w=h.get(K[0].toLowerCase()),J+K[0].length):-1}function P(B,ee,J){var K=g.exec(ee.slice(J));return K?(B.m=w.get(K[0].toLowerCase()),J+K[0].length):-1}function L(B,ee,J){var K=v.exec(ee.slice(J));return K?(B.m=x.get(K[0].toLowerCase()),J+K[0].length):-1}function C(B,ee,J){return S(B,t,ee,J)}function D(B,ee,J){return S(B,r,ee,J)}function I(B,ee,J){return S(B,n,ee,J)}function R(B){return s[B.getDay()]}function A(B){return i[B.getDay()]}function M(B){return c[B.getMonth()]}function z(B){return l[B.getMonth()]}function H(B){return a[+(B.getHours()>=12)]}function F(B){return 1+~~(B.getMonth()/3)}function Y(B){return s[B.getUTCDay()]}function q(B){return i[B.getUTCDay()]}function Q(B){return c[B.getUTCMonth()]}function le(B){return l[B.getUTCMonth()]}function Z(B){return a[+(B.getUTCHours()>=12)]}function X(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var ee=_(B+="",b);return ee.toString=function(){return B},ee},parse:function(B){var ee=N(B+="",!1);return ee.toString=function(){return B},ee},utcFormat:function(B){var ee=_(B+="",j);return ee.toString=function(){return B},ee},utcParse:function(B){var ee=N(B+="",!0);return ee.toString=function(){return B},ee}}}var V_={"-":"",_:" ",0:"0"},At=/^\s*\d+/,zZ=/^%/,FZ=/[\\^$*+?|[\]().{}]/g;function _e(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function BZ(e){return e.replace(FZ,"\\$&")}function Kl(e){return new RegExp("^(?:"+e.map(BZ).join("|")+")","i")}function ql(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function UZ(e,t,r){var n=At.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function HZ(e,t,r){var n=At.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function VZ(e,t,r){var n=At.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function WZ(e,t,r){var n=At.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function KZ(e,t,r){var n=At.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function W_(e,t,r){var n=At.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function K_(e,t,r){var n=At.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function qZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function YZ(e,t,r){var n=At.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function GZ(e,t,r){var n=At.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function q_(e,t,r){var n=At.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function XZ(e,t,r){var n=At.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Y_(e,t,r){var n=At.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function QZ(e,t,r){var n=At.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ZZ(e,t,r){var n=At.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function JZ(e,t,r){var n=At.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function eJ(e,t,r){var n=At.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tJ(e,t,r){var n=zZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rJ(e,t,r){var n=At.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nJ(e,t,r){var n=At.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function G_(e,t){return _e(e.getDate(),t,2)}function aJ(e,t){return _e(e.getHours(),t,2)}function iJ(e,t){return _e(e.getHours()%12||12,t,2)}function sJ(e,t){return _e(1+Gu.count(Ta(e),e),t,3)}function jI(e,t){return _e(e.getMilliseconds(),t,3)}function oJ(e,t){return jI(e,t)+"000"}function lJ(e,t){return _e(e.getMonth()+1,t,2)}function cJ(e,t){return _e(e.getMinutes(),t,2)}function uJ(e,t){return _e(e.getSeconds(),t,2)}function dJ(e){var t=e.getDay();return t===0?7:t}function fJ(e,t){return _e(Np.count(Ta(e)-1,e),t,2)}function kI(e){var t=e.getDay();return t>=4||t===0?sl(e):sl.ceil(e)}function hJ(e,t){return e=kI(e),_e(sl.count(Ta(e),e)+(Ta(e).getDay()===4),t,2)}function mJ(e){return e.getDay()}function pJ(e,t){return _e(Qh.count(Ta(e)-1,e),t,2)}function gJ(e,t){return _e(e.getFullYear()%100,t,2)}function yJ(e,t){return e=kI(e),_e(e.getFullYear()%100,t,2)}function vJ(e,t){return _e(e.getFullYear()%1e4,t,4)}function xJ(e,t){var r=e.getDay();return e=r>=4||r===0?sl(e):sl.ceil(e),_e(e.getFullYear()%1e4,t,4)}function bJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_e(t/60|0,"0",2)+_e(t%60,"0",2)}function X_(e,t){return _e(e.getUTCDate(),t,2)}function wJ(e,t){return _e(e.getUTCHours(),t,2)}function jJ(e,t){return _e(e.getUTCHours()%12||12,t,2)}function kJ(e,t){return _e(1+kp.count(Ma(e),e),t,3)}function NI(e,t){return _e(e.getUTCMilliseconds(),t,3)}function NJ(e,t){return NI(e,t)+"000"}function _J(e,t){return _e(e.getUTCMonth()+1,t,2)}function SJ(e,t){return _e(e.getUTCMinutes(),t,2)}function EJ(e,t){return _e(e.getUTCSeconds(),t,2)}function CJ(e){var t=e.getUTCDay();return t===0?7:t}function PJ(e,t){return _e(_p.count(Ma(e)-1,e),t,2)}function _I(e){var t=e.getUTCDay();return t>=4||t===0?ol(e):ol.ceil(e)}function OJ(e,t){return e=_I(e),_e(ol.count(Ma(e),e)+(Ma(e).getUTCDay()===4),t,2)}function AJ(e){return e.getUTCDay()}function TJ(e,t){return _e(Zh.count(Ma(e)-1,e),t,2)}function MJ(e,t){return _e(e.getUTCFullYear()%100,t,2)}function IJ(e,t){return e=_I(e),_e(e.getUTCFullYear()%100,t,2)}function DJ(e,t){return _e(e.getUTCFullYear()%1e4,t,4)}function RJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ol(e):ol.ceil(e),_e(e.getUTCFullYear()%1e4,t,4)}function LJ(){return"+0000"}function Q_(){return"%"}function Z_(e){return+e}function J_(e){return Math.floor(+e/1e3)}var Hs,SI,EI;$J({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $J(e){return Hs=$Z(e),SI=Hs.format,Hs.parse,EI=Hs.utcFormat,Hs.utcParse,Hs}function zJ(e){return new Date(e)}function FJ(e){return e instanceof Date?+e:+new Date(+e)}function pw(e,t,r,n,a,i,s,l,c,u){var d=tw(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),v=u("%I:%M"),x=u("%I %p"),g=u("%a %d"),w=u("%b %d"),b=u("%B"),j=u("%Y");function k(_){return(c(_)<_?m:l(_)<_?p:s(_)<_?v:i(_)<_?x:n(_)<_?a(_)<_?g:w:r(_)<_?b:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,FJ)):h().map(zJ)},d.ticks=function(_){var N=h();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?k:u(N)},d.nice=function(_){var N=h();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?h(hI(N,_)):d},d.copy=function(){return Yu(d,pw(e,t,r,n,a,i,s,l,c,u))},d}function BJ(){return an.apply(pw(RZ,LZ,Ta,hw,Np,Gu,dw,cw,Zi,SI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UJ(){return an.apply(pw(IZ,DZ,Ma,mw,_p,kp,fw,uw,Zi,EI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sp(){var e=0,t=1,r,n,a,i,s=Zt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),u):[s(0),s(1)]}}return u.range=d(va),u.rangeRound=d(nb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ri(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function CI(){var e=Di(Sp()(Zt));return e.copy=function(){return Ri(e,CI())},Fa.apply(e,arguments)}function PI(){var e=aw(Sp()).domain([1,10]);return e.copy=function(){return Ri(e,PI()).base(e.base())},Fa.apply(e,arguments)}function OI(){var e=iw(Sp());return e.copy=function(){return Ri(e,OI()).constant(e.constant())},Fa.apply(e,arguments)}function gw(){var e=sw(Sp());return e.copy=function(){return Ri(e,gw()).exponent(e.exponent())},Fa.apply(e,arguments)}function HJ(){return gw.apply(null,arguments).exponent(.5)}function AI(){var e=[],t=Zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((qu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ji),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>ZQ(e,i/n))},r.copy=function(){return AI(t).domain(e)},Fa.apply(r,arguments)}function Ep(){var e=0,t=.5,r=1,n=1,a,i,s,l,c,u=Zt,d,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-i)*(n*v<n*i?l:c),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function p(v){return function(x){var g,w,b;return arguments.length?([g,w,b]=x,u=j9(v,[g,w,b]),m):[u(0),u(.5),u(1)]}}return m.range=p(va),m.rangeRound=p(nb),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return d=v,a=v(e),i=v(t),s=v(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m}}function TI(){var e=Di(Ep()(Zt));return e.copy=function(){return Ri(e,TI())},Fa.apply(e,arguments)}function MI(){var e=aw(Ep()).domain([.1,1,10]);return e.copy=function(){return Ri(e,MI()).base(e.base())},Fa.apply(e,arguments)}function II(){var e=iw(Ep());return e.copy=function(){return Ri(e,II()).constant(e.constant())},Fa.apply(e,arguments)}function yw(){var e=sw(Ep());return e.copy=function(){return Ri(e,yw()).exponent(e.exponent())},Fa.apply(e,arguments)}function VJ(){return yw.apply(null,arguments).exponent(.5)}const nc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ew,scaleDiverging:TI,scaleDivergingLog:MI,scaleDivergingPow:yw,scaleDivergingSqrt:VJ,scaleDivergingSymlog:II,scaleIdentity:fI,scaleImplicit:xv,scaleLinear:dI,scaleLog:mI,scaleOrdinal:Jb,scalePoint:tZ,scalePow:ow,scaleQuantile:yI,scaleQuantize:vI,scaleRadial:gI,scaleSequential:CI,scaleSequentialLog:PI,scaleSequentialPow:gw,scaleSequentialQuantile:AI,scaleSequentialSqrt:HJ,scaleSequentialSymlog:OI,scaleSqrt:NZ,scaleSymlog:pI,scaleThreshold:xI,scaleTime:BJ,scaleUtc:UJ,tickFormat:uI},Symbol.toStringTag,{value:"Module"}));var Li=e=>e.chartData,WJ=V([Li],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Xu=(e,t,r,n)=>n?WJ(e):Li(e);function _i(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(He(t)&&He(r))return!0}return!1}function eS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function DI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(He(r))a=r;else if(typeof r=="function")return;if(He(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(_i(s))return s}}function KJ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(_i(n))return eS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,l;if(a==="auto")t!=null&&(s=Math.min(...t));else if(ue(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&WN.test(a)){var c=WN.exec(a);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ue(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&KN.test(i)){var d=KN.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[s,l];if(_i(h))return t==null?h:eS(h,t,r)}}}var wl=1e9,qJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xw,Ke=!0,rn="[DecimalError] ",ps=rn+"Invalid argument: ",vw=rn+"Exponent out of range: ",jl=Math.floor,Vi=Math.pow,YJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cr,St=1e7,Be=7,RI=9007199254740991,Jh=jl(RI/Be),oe={};oe.absoluteValue=oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};oe.comparedTo=oe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Be;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};oe.dividedBy=oe.div=function(e){return xa(this,new this.constructor(e))};oe.dividedToIntegerBy=oe.idiv=function(e){var t=this,r=t.constructor;return De(xa(t,new r(e),0,1),r.precision)};oe.equals=oe.eq=function(e){return!this.cmp(e)};oe.exponent=function(){return ft(this)};oe.greaterThan=oe.gt=function(e){return this.cmp(e)>0};oe.greaterThanOrEqualTo=oe.gte=function(e){return this.cmp(e)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(e){return this.cmp(e)<0};oe.lessThanOrEqualTo=oe.lte=function(e){return this.cmp(e)<1};oe.logarithm=oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cr))throw Error(rn+"NaN");if(r.s<1)throw Error(rn+(r.s?"NaN":"-Infinity"));return r.eq(Cr)?new n(0):(Ke=!1,t=xa(au(r,i),au(e,i),i),Ke=!0,De(t,a))};oe.minus=oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zI(t,e):LI(t,(e.s=-e.s,e))};oe.modulo=oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(rn+"NaN");return r.s?(Ke=!1,t=xa(r,e,0,1).times(e),Ke=!0,r.minus(t)):De(new n(r),a)};oe.naturalExponential=oe.exp=function(){return $I(this)};oe.naturalLogarithm=oe.ln=function(){return au(this)};oe.negated=oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};oe.plus=oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LI(t,e):zI(t,(e.s=-e.s,e))};oe.precision=oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ps+e);if(t=ft(a)+1,n=a.d.length-1,r=n*Be+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};oe.squareRoot=oe.sqrt=function(){var e,t,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(rn+"NaN")}for(e=ft(l),Ke=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Fn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=jl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(xa(l,i,s+2)).times(.5),Fn(i.d).slice(0,s)===(t=Fn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(De(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return Ke=!0,De(n,r)};oe.times=oe.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%St|0,t=l/St|0;i[a]=(i[a]+t)%St|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ke?De(e,f.precision):e};oe.toDecimalPlaces=oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(qn(e,0,wl),t===void 0?t=n.rounding:qn(t,0,8),De(r,e+ft(r)+1,t))};oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Os(n,!0):(qn(e,0,wl),t===void 0?t=a.rounding:qn(t,0,8),n=De(new a(n),e+1,t),r=Os(n,!0,e+1)),r};oe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Os(a):(qn(e,0,wl),t===void 0?t=i.rounding:qn(t,0,8),n=De(new i(a),e+ft(a)+1,t),r=Os(n.abs(),!1,e+ft(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};oe.toInteger=oe.toint=function(){var e=this,t=e.constructor;return De(new t(e),ft(e)+1,t.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(e){var t,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Cr);if(l=new c(l),!l.s){if(e.s<1)throw Error(rn+"Infinity");return l}if(l.eq(Cr))return l;if(n=c.precision,e.eq(Cr))return De(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=RI){for(a=new c(Cr),t=Math.ceil(n/Be+4),Ke=!1;r%2&&(a=a.times(l),rS(a.d,t)),r=jl(r/2),r!==0;)l=l.times(l),rS(l.d,t);return Ke=!0,e.s<0?new c(Cr).div(a):De(a,n)}}else if(i<0)throw Error(rn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ke=!1,a=e.times(au(l,n+u)),Ke=!0,a=$I(a),a.s=i,a};oe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ft(a),n=Os(a,r<=i.toExpNeg||r>=i.toExpPos)):(qn(e,1,wl),t===void 0?t=i.rounding:qn(t,0,8),a=De(new i(a),e,t),r=ft(a),n=Os(a,e<=r||r<=i.toExpNeg,e)),n};oe.toSignificantDigits=oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(qn(e,1,wl),t===void 0?t=n.rounding:qn(t,0,8)),De(new n(r),e,t)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ft(e),r=e.constructor;return Os(e,t<=r.toExpNeg||t>=r.toExpPos)};function LI(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ke?De(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/Be),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/St|0,c[i]%=St;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ke?De(t,f):t}function qn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ps+e)}function Fn(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Be-n.length,r&&(i+=Xa(r)),i+=n;s=e[t],n=s+"",r=Be-n.length,r&&(i+=Xa(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var xa=function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%St|0,s=i/St|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*St+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,h,m,p,v,x,g,w,b,j,k,_,N,S,E=n.constructor,T=n.s==a.s?1:-1,O=n.d,P=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(rn+"Division by zero");for(c=n.e-a.e,N=P.length,k=O.length,m=new E(T),p=m.d=[],u=0;P[u]==(O[u]||0);)++u;if(P[u]>(O[u]||0)&&--c,i==null?w=i=E.precision:s?w=i+(ft(n)-ft(a))+1:w=i,w<0)return new E(0);if(w=w/Be+2|0,u=0,N==1)for(d=0,P=P[0],w++;(u<k||d)&&w--;u++)b=d*St+(O[u]||0),p[u]=b/P|0,d=b%P|0;else{for(d=St/(P[0]+1)|0,d>1&&(P=e(P,d),O=e(O,d),N=P.length,k=O.length),j=N,v=O.slice(0,N),x=v.length;x<N;)v[x++]=0;S=P.slice(),S.unshift(0),_=P[0],P[1]>=St/2&&++_;do d=0,l=t(P,v,N,x),l<0?(g=v[0],N!=x&&(g=g*St+(v[1]||0)),d=g/_|0,d>1?(d>=St&&(d=St-1),f=e(P,d),h=f.length,x=v.length,l=t(f,v,h,x),l==1&&(d--,r(f,N<h?S:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<x&&f.unshift(0),r(v,f,x),l==-1&&(x=v.length,l=t(P,v,N,x),l<1&&(d++,r(v,N<x?S:P,x))),x=v.length):l===0&&(d++,v=[0]),p[u++]=d,l&&v[0]?v[x++]=O[j]||0:(v=[O[j]],x=1);while((j++<k||v[0]!==void 0)&&w--)}return p[0]||p.shift(),m.e=c,De(m,s?i+ft(m)+1:i)}}();function $I(e,t){var r,n,a,i,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(ft(e)>16)throw Error(vw+ft(e));if(!e.s)return new d(Cr);for(Ke=!1,l=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Vi(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Cr),d.precision=l;;){if(a=De(a.times(e),l),r=r.times(++c),s=i.plus(xa(a,r,l)),Fn(s.d).slice(0,l)===Fn(i.d).slice(0,l)){for(;u--;)i=De(i.times(i),l);return d.precision=f,t==null?(Ke=!0,De(i,f)):i}i=s}}function ft(e){for(var t=e.e*Be,r=e.d[0];r>=10;r/=10)t++;return t}function t0(e,t,r){if(t>e.LN10.sd())throw Ke=!0,r&&(e.precision=r),Error(rn+"LN10 precision limit exceeded");return De(new e(e.LN10),t)}function Xa(e){for(var t="";e--;)t+="0";return t}function au(e,t){var r,n,a,i,s,l,c,u,d,f=1,h=10,m=e,p=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(rn+(m.s?"NaN":"-Infinity"));if(m.eq(Cr))return new v(0);if(t==null?(Ke=!1,u=x):u=t,m.eq(10))return t==null&&(Ke=!0),t0(v,u);if(u+=h,v.precision=u,r=Fn(p),n=r.charAt(0),i=ft(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Fn(m.d),n=r.charAt(0),f++;i=ft(m),n>1?(m=new v("0."+r),i++):m=new v(n+"."+r.slice(1))}else return c=t0(v,u+2,x).times(i+""),m=au(new v(n+"."+r.slice(1)),u-h).plus(c),v.precision=x,t==null?(Ke=!0,De(m,x)):m;for(l=s=m=xa(m.minus(Cr),m.plus(Cr),u),d=De(m.times(m),u),a=3;;){if(s=De(s.times(d),u),c=l.plus(xa(s,new v(a),u)),Fn(c.d).slice(0,u)===Fn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(t0(v,u+2,x).times(i+""))),l=xa(l,new v(f),u),v.precision=x,t==null?(Ke=!0,De(l,x)):l;l=c,a+=2}}function tS(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=jl(r/Be),e.d=[],n=(r+1)%Be,r<0&&(n+=Be),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Be;n<a;)e.d.push(+t.slice(n,n+=Be));t=t.slice(n),n=Be-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ke&&(e.e>Jh||e.e<-Jh))throw Error(vw+r)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,t,r){var n,a,i,s,l,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Be,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Be),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Be,a=n-Be+s}if(r!==void 0&&(i=Vi(10,s-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Vi(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ft(e),f.length=1,t=t-i-1,f[0]=Vi(10,(Be-t%Be)%Be),e.e=jl(-t/Be)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Vi(10,Be-n),f[d]=a>0?(u/Vi(10,s-a)%Vi(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==St&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=St)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ke&&(e.e>Jh||e.e<-Jh))throw Error(vw+ft(e));return e}function zI(e,t){var r,n,a,i,s,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ke?De(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Be),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=St-1;--c[i],c[a]+=St}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ke?De(t,m):t):new h(0)}function Os(e,t,r){var n,a=ft(e),i=Fn(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Xa(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Xa(-a-1)+i,r&&(n=r-s)>0&&(i+=Xa(n))):a>=s?(i+=Xa(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Xa(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Xa(n))),e.s<0?"-"+i:i}function rS(e,t){if(e.length>t)return e.length=t,!0}function FI(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ps+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return tS(s,i.toString())}else if(typeof i!="string")throw Error(ps+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,YJ.test(i))tS(s,i);else throw Error(ps+i)}if(a.prototype=oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=FI,a.config=a.set=GJ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function GJ(e){if(!e||typeof e!="object")throw Error(rn+"Object expected");var t,r,n,a=["precision",1,wl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(jl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ps+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ps+r+": "+n);return this}var xw=FI(qJ);Cr=new xw(1);const Oe=xw;var XJ=e=>e,BI={},UI=e=>e===BI,nS=e=>function t(){return arguments.length===0||arguments.length===1&&UI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},HI=(e,t)=>e===1?t:nS(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==BI).length;return i>=e?t(...n):HI(e-i,nS(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=n.map(d=>UI(d)?l.shift():d);return t(...u,...l)}))}),QJ=e=>HI(e.length,e),wv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},ZJ=QJ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),JJ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return XJ;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((l,c)=>c(l),i(...arguments))}},jv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function VI(e){var t;return e===0?t=1:t=Math.floor(new Oe(e).abs().log(10).toNumber())+1,t}function WI(e,t,r){for(var n=new Oe(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var KI=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},qI=(e,t,r)=>{if(e.lte(0))return new Oe(0);var n=VI(e.toNumber()),a=new Oe(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new Oe(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?new Oe(c.toNumber()):new Oe(Math.ceil(c.toNumber()))},eee=(e,t,r)=>{var n=new Oe(1),a=new Oe(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Oe(10).pow(VI(e)-1),a=new Oe(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Oe(Math.floor(e)))}else e===0?a=new Oe(Math.floor((t-1)/2)):r||(a=new Oe(Math.floor(e)));var s=Math.floor((t-1)/2),l=JJ(ZJ(c=>a.add(new Oe(c-s).mul(n)).toNumber()),wv);return l(0,t)},YI=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Oe(0),tickMin:new Oe(0),tickMax:new Oe(0)};var s=qI(new Oe(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new Oe(0):(l=new Oe(t).add(r).div(2),l=l.sub(new Oe(l).mod(s)));var c=Math.ceil(l.sub(t).div(s).toNumber()),u=Math.ceil(new Oe(r).sub(l).div(s).toNumber()),d=c+u+1;return d>n?YI(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:l.sub(new Oe(c).mul(s)),tickMax:l.add(new Oe(u).mul(s))})},tee=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),[l,c]=KI([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...wv(0,a-1).map(()=>1/0)]:[...wv(0,a-1).map(()=>-1/0),c];return r>n?jv(u):u}if(l===c)return eee(l,a,i);var{step:d,tickMin:f,tickMax:h}=YI(l,c,s,i,0),m=WI(f,h.add(new Oe(.1).mul(d)),d);return r>n?jv(m):m},ree=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=KI([n,a]);if(s===-1/0||l===1/0)return[n,a];if(s===l)return[s];var c=Math.max(r,2),u=qI(new Oe(l).sub(s).div(c-1),i,0),d=[...WI(new Oe(s),new Oe(l),u),l];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?jv(d):d},GI=e=>e.rootProps.maxBarSize,nee=e=>e.rootProps.barGap,XI=e=>e.rootProps.barCategoryGap,aee=e=>e.rootProps.barSize,Cp=e=>e.rootProps.stackOffset,QI=e=>e.rootProps.reverseStackOrder,bw=e=>e.options.chartName,ww=e=>e.rootProps.syncId,ZI=e=>e.rootProps.syncMethod,jw=e=>e.options.eventEmitter,st={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},la={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Sr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Pp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},iee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:la.angleAxisId,includeHidden:!1,name:void 0,reversed:la.reversed,scale:la.scale,tick:la.tick,tickCount:void 0,ticks:void 0,type:la.type,unit:void 0},see={allowDataOverflow:Sr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sr.scale,tick:Sr.tick,tickCount:Sr.tickCount,ticks:void 0,type:Sr.type,unit:void 0},oee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:la.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:la.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:la.scale,tick:la.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},lee={allowDataOverflow:Sr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sr.scale,tick:Sr.tick,tickCount:Sr.tickCount,ticks:void 0,type:"category",unit:void 0},kw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?oee:iee,Nw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?lee:see,Op=e=>e.polarOptions,_w=V([$a,za,Ot],OQ),JI=V([Op,_w],(e,t)=>{if(e!=null)return _n(e.innerRadius,t,0)}),eD=V([Op,_w],(e,t)=>{if(e!=null)return _n(e.outerRadius,t,t*.8)}),cee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},tD=V([Op],cee);V([kw,tD],Pp);var rD=V([_w,JI,eD],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});V([Nw,rD],Pp);var nD=V([Ee,Op,JI,eD,$a,za],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:l,startAngle:c,endAngle:u}=t;return{cx:_n(s,a,a/2),cy:_n(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),bt=(e,t)=>t,Ap=(e,t,r)=>r;function Sw(e){return e==null?void 0:e.id}function aD(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Sw(l);u.forEach((f,h)=>{var m=i==null||a?h:String(Je(f,i,null)),p=Je(f,l.dataKey,0),v;s.has(m)?v=s.get(m):v={},Object.assign(v,{[d]:p}),s.set(m,v)})}}),Array.from(s.values())}function Tp(e){return e.stackId!=null&&e.dataKey!=null}var Mp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ip(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function uee(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var wt=e=>{var t=Ee(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},kl=e=>e.tooltip.settings.axisId;function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dee(e,t,r){return(t=fee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fee(e){var t=hee(e,"string");return typeof t=="symbol"?t:t+""}function hee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kv=[0,"auto"],kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},iD=(e,t)=>e.cartesianAxis.xAxis[t],Jn=(e,t)=>{var r=iD(e,t);return r??kt},Nt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Bu},sD=(e,t)=>e.cartesianAxis.yAxis[t],ea=(e,t)=>{var r=sD(e,t);return r??Nt},oD={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ew=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??oD},nr=(e,t,r)=>{switch(t){case"xAxis":return Jn(e,r);case"yAxis":return ea(e,r);case"zAxis":return Ew(e,r);case"angleAxis":return kw(e,r);case"radiusAxis":return Nw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mee=(e,t,r)=>{switch(t){case"xAxis":return Jn(e,r);case"yAxis":return ea(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Qu=(e,t,r)=>{switch(t){case"xAxis":return Jn(e,r);case"yAxis":return ea(e,r);case"angleAxis":return kw(e,r);case"radiusAxis":return Nw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function cD(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Zu=e=>e.graphicalItems.cartesianItems,pee=V([bt,Ap],cD),uD=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Ju=V([Zu,nr,pee],uD,{memoizeOptions:{resultEqualityCheck:Ip}}),dD=V([Ju],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Tp)),fD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),gee=V([Ju],fD),hD=e=>e.map(t=>t.data).filter(Boolean).flat(1),yee=V([Ju],hD,{memoizeOptions:{resultEqualityCheck:Ip}}),mD=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Cw=V([yee,Xu],mD),pD=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Je(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Je(a,n)}))):e.map(n=>({value:n})),Dp=V([Cw,nr,Ju],pD);function gD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function If(e){if(en(e)||e instanceof Date){var t=Number(e);if(He(t))return t}}function iS(e){if(Array.isArray(e)){var t=[If(e[0]),If(e[1])];return _i(t)?t:void 0}var r=If(e);if(r!=null)return[r,r]}function Ia(e){return e.map(If).filter(mq)}function vee(e,t,r){return!r||typeof t!="number"||Rr(t)?[]:r.length?Ia(r.flatMap(n=>{var a=Je(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!He(i)||!He(s)))return[t-i,t+s]})):[]}var jt=e=>{var t=wt(e),r=kl(e);return Qu(e,t,r)},ed=V([jt],e=>e==null?void 0:e.dataKey),xee=V([dD,Xu,jt],aD),yD=(e,t,r,n)=>{var a={},i=t.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),a);return Object.fromEntries(Object.entries(i).map(s=>{var[l,c]=s,u=n?[...c].reverse():c,d=u.map(Sw);return[l,{stackedData:hG(e,d,r),graphicalItems:u}]}))},Nv=V([xee,dD,Cp,QI],yD),vD=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var s=vG(e,a,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},bee=V([nr],e=>e.allowDataOverflow),Pw=e=>{var t;if(e==null||!("domain"in e))return kv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ia(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:kv},xD=V([nr],Pw),bD=V([xD,bee],DI),wee=V([Nv,Li,bt,bD],vD,{memoizeOptions:{resultEqualityCheck:Mp}}),Ow=e=>e.errorBars,jee=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>gD(r,n)),tm=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),l=Math.max(...i);return[s,l]}},wD=(e,t,r,n,a)=>{var i,s;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(g=>gD(a,g)),h=Je(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=vee(l,h,f);if(m.length>=2){var p=Math.min(...m),v=Math.max(...m);(i==null||p<i)&&(i=p),(s==null||v>s)&&(s=v)}var x=iS(h);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=iS(Je(l,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),He(i)&&He(s))return[i,s]},kee=V([Cw,nr,gee,Ow,bt],wD,{memoizeOptions:{resultEqualityCheck:Mp}});function Nee(e){var{value:t}=e;if(en(t)||t instanceof Date)return t}var _ee=(e,t,r)=>{var n=e.map(Nee).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&vT(n))?nI(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},jD=e=>e.referenceElements.dots,Nl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),See=V([jD,bt,Ap],Nl),kD=e=>e.referenceElements.areas,Eee=V([kD,bt,Ap],Nl),ND=e=>e.referenceElements.lines,Cee=V([ND,bt,Ap],Nl),_D=(e,t)=>{var r=Ia(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Pee=V(See,bt,_D),SD=(e,t)=>{var r=Ia(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Oee=V([Eee,bt],SD);function Aee(e){var t;if(e.x!=null)return Ia([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ia(r)}function Tee(e){var t;if(e.y!=null)return Ia([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ia(r)}var ED=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?Aee(n):Tee(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Mee=V([Cee,bt],ED),Iee=V(Pee,Mee,Oee,(e,t,r)=>tm(e,r,t)),CD=(e,t,r,n,a,i,s,l)=>{if(r!=null)return r;var c=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",u=c?tm(n,i,a):tm(i,a);return KJ(t,u,e.allowDataOverflow)},Dee=V([nr,xD,bD,wee,kee,Iee,Ee,bt],CD,{memoizeOptions:{resultEqualityCheck:Mp}}),Ree=[0,1],PD=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:l,type:c}=e,u=Ii(t,i);if(u&&l==null){var d;return nI(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?_ee(n,e,u):a==="expand"?Ree:s}},Aw=V([nr,Ee,Cw,Dp,Cp,bt,Dee],PD),OD=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Du(i));return l in nc?l:"point"}}},td=V([nr,Ee,lD,bw,bt],OD);function Lee(e){if(e!=null){if(e in nc)return nc[e]();var t="scale".concat(Du(e));if(t in nc)return nc[t]()}}function Tw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Lee(t);if(a!=null){var i=a.domain(r).range(n);return lG(i),i}}}var AD=(e,t,r)=>{var n=Pw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&_i(e))return tee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&_i(e))return ree(e,t.tickCount,t.allowDecimals)}},Mw=V([Aw,Qu,td],AD),TD=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&_i(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(s,l)]}return t},$ee=V([nr,Aw,Mw,bt],TD),zee=V(Dp,nr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ia(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),MD=V(zee,Ee,XI,Ot,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!He(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=_n(r,e*i),l=e*i/2;return l-s-(l-s)/i*s}return 0}),Fee=(e,t)=>{var r=Jn(e,t);return r==null||typeof r.padding!="string"?0:MD(e,"xAxis",t,r.padding)},Bee=(e,t)=>{var r=ea(e,t);return r==null||typeof r.padding!="string"?0:MD(e,"yAxis",t,r.padding)},Uee=V(Jn,Fee,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Hee=V(ea,Bee,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Vee=V([Ot,Uee,yp,gp,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Wee=V([Ot,Ee,Hee,yp,gp,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),rd=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Vee(e,r,n);case"yAxis":return Wee(e,r,n);case"zAxis":return(a=Ew(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return tD(e);case"radiusAxis":return rD(e,r);default:return}},ID=V([nr,rd],Pp),Si=V([nr,td,$ee,ID],Tw);V([Ju,Ow,bt],jee);function DD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Rp=(e,t)=>t,Lp=(e,t,r)=>r,Kee=V(mp,Rp,Lp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(DD)),qee=V(pp,Rp,Lp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(DD)),RD=(e,t)=>({width:e.width,height:t.height}),Yee=(e,t)=>{var r=typeof t.width=="number"?t.width:Bu;return{width:r,height:e.height}},LD=V(Ot,Jn,RD),Gee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Xee=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Qee=V(za,Ot,Kee,Rp,Lp,(e,t,r,n,a)=>{var i={},s;return r.forEach(l=>{var c=RD(t,l);s==null&&(s=Gee(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),i}),Zee=V($a,Ot,qee,Rp,Lp,(e,t,r,n,a)=>{var i={},s;return r.forEach(l=>{var c=Yee(t,l);s==null&&(s=Xee(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),i}),Jee=(e,t)=>{var r=Jn(e,t);if(r!=null)return Qee(e,r.orientation,r.mirror)},ete=V([Ot,Jn,Jee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),tte=(e,t)=>{var r=ea(e,t);if(r!=null)return Zee(e,r.orientation,r.mirror)},rte=V([Ot,ea,tte,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),$D=V(Ot,ea,(e,t)=>{var r=typeof t.width=="number"?t.width:Bu;return{width:r,height:e.height}}),sS=(e,t,r)=>{switch(t){case"xAxis":return LD(e,r).width;case"yAxis":return $D(e,r).height;default:return}},zD=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,l=Ii(e,n),c=t.map(u=>u.value);if(s&&l&&i==="category"&&a&&vT(c))return c}},Iw=V([Ee,Dp,nr,bt],zD),FD=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=Ii(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},Dw=V([Ee,Dp,Qu,bt],FD),oS=V([Ee,mee,td,Si,Iw,Dw,rd,Mw,bt],(e,t,r,n,a,i,s,l,c)=>{if(t!=null){var u=Ii(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:s,realScaleType:r,scale:n}}}),nte=(e,t,r,n,a,i,s,l,c)=>{if(!(t==null||n==null)){var u=Ii(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&i!=null&&i.length>=2?hr(i[0]-i[1])*2*p:p;var v=f||a;if(v){var x=v.map((g,w)=>{var b=s?s.indexOf(g):g;return{index:w,coordinate:n(b)+p,value:g,offset:p}});return x.filter(g=>He(g.coordinate))}return u&&l?l.map((g,w)=>({coordinate:n(g)+p,value:g,index:w,offset:p})).filter(g=>He(g.coordinate)):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+p,value:g,offset:p})):n.domain().map((g,w)=>({coordinate:n(g)+p,value:s?s[g]:g,index:w,offset:p}))}},BD=V([Ee,Qu,td,Si,Mw,rd,Iw,Dw,bt],nte),ate=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ii(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?hr(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Yn=V([Ee,Qu,Si,rd,Iw,Dw,bt],ate),Gn=V(nr,Si,(e,t)=>{if(!(e==null||t==null))return em(em({},e),{},{scale:t})}),ite=V([nr,td,Aw,ID],Tw),ste=V((e,t,r)=>Ew(e,r),ite,(e,t)=>{if(!(e==null||t==null))return em(em({},e),{},{scale:t})}),ote=V([Ee,mp,pp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),UD=e=>e.options.defaultTooltipEventType,HD=e=>e.options.validateTooltipEventTypes;function VD(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Rw(e,t){var r=UD(e),n=HD(e);return VD(t,r,n)}function lte(e){return se(t=>Rw(t,e))}var WD=(e,t)=>{var r,n=Number(t);if(!(Rr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},cte=e=>e.tooltip.settings,ti={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ute={itemInteraction:{click:ti,hover:ti},axisInteraction:{click:ti,hover:ti},keyboardInteraction:ti,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},KD=wr({name:"tooltip",initialState:ute,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ve()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=jn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Ve()},removeTooltipEntrySettings:{reducer(e,t){var r=jn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ve()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:dte,replaceTooltipEntrySettings:fte,removeTooltipEntrySettings:hte,setTooltipSettingsState:mte,setActiveMouseOverItemIndex:qD,mouseLeaveItem:pte,mouseLeaveChart:YD,setActiveClickItemIndex:gte,setMouseOverAxisIndex:GD,setMouseClickAxisIndex:yte,setSyncInteraction:_v,setKeyboardInteraction:Sv}=KD.actions,vte=KD.reducer;function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){xte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xte(e,t,r){return(t=bte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function kte(e){return e.index!=null}var XD=(e,t,r,n)=>{if(t==null)return ti;var a=jte(e,t,r);if(a==null)return ti;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(kte(a)){if(i)return rf(rf({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return rf(rf({},ti),{},{coordinate:a.coordinate})};function Nte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function _te(e,t){var r=Nte(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),s=Math.max(n,a);return r>=i&&r<=s}function Ste(e,t,r){if(r==null||t==null)return!0;var n=Je(e,t);return n==null||!_i(r)?!0:_te(n,r)}var Lw=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!He(i))return a;var s=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(s,Math.min(i,l)),u=t[c];return u==null||Ste(u,r,n)?String(c):null},QD=(e,t,r,n,a,i,s,l)=>{if(!(i==null||l==null)){var c=s[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},ZD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},nd=e=>e.options.tooltipPayloadSearcher,_l=e=>e.tooltip;function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){Ete(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ete(e,t,r){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cte(e){var t=Pte(e,"string");return typeof t=="symbol"?t:t+""}function Pte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ote(e,t){return e??t}var JD=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:v,settings:x}=m,g=Ote(v,l),w=Array.isArray(g)?kM(g,u,d):g,b=(p=x==null?void 0:x.dataKey)!==null&&p!==void 0?p:n,j=x==null?void 0:x.nameKey,k;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?k=xT(w,n,a):k=i(w,t,c,j),Array.isArray(k))k.forEach(N=>{var S=uS(uS({},x),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(qN({tooltipEntrySettings:S,dataKey:N.dataKey,payload:N.payload,value:Je(N.payload,N.dataKey),name:N.name}))});else{var _;h.push(qN({tooltipEntrySettings:x,dataKey:b,payload:k,value:Je(k,b),name:(_=Je(k,j))!==null&&_!==void 0?_:x==null?void 0:x.name}))}return h},f)}},$w=V([jt,Ee,lD,bw,wt],OD),Ate=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Tte=V([wt,kl],cD),ad=V([Ate,jt,Tte],uD,{memoizeOptions:{resultEqualityCheck:Ip}}),Mte=V([ad],e=>e.filter(Tp)),Ite=V([ad],hD,{memoizeOptions:{resultEqualityCheck:Ip}}),Sl=V([Ite,Li],mD),Dte=V([Mte,Li,jt],aD),zw=V([Sl,jt,ad],pD),e4=V([jt],Pw),Rte=V([jt],e=>e.allowDataOverflow),t4=V([e4,Rte],DI),Lte=V([ad],e=>e.filter(Tp)),$te=V([Dte,Lte,Cp,QI],yD),zte=V([$te,Li,wt,t4],vD),Fte=V([ad],fD),Bte=V([Sl,jt,Fte,Ow,wt],wD,{memoizeOptions:{resultEqualityCheck:Mp}}),Ute=V([jD,wt,kl],Nl),Hte=V([Ute,wt],_D),Vte=V([kD,wt,kl],Nl),Wte=V([Vte,wt],SD),Kte=V([ND,wt,kl],Nl),qte=V([Kte,wt],ED),Yte=V([Hte,qte,Wte],tm),Gte=V([jt,e4,t4,zte,Bte,Yte,Ee,wt],CD),id=V([jt,Ee,Sl,zw,Cp,wt,Gte],PD),Xte=V([id,jt,$w],AD),Qte=V([jt,id,Xte,wt],TD),r4=e=>{var t=wt(e),r=kl(e),n=!1;return rd(e,t,r,n)},n4=V([jt,r4],Pp),a4=V([jt,$w,Qte,n4],Tw),Zte=V([Ee,zw,jt,wt],zD),Jte=V([Ee,zw,jt,wt],FD),ere=(e,t,r,n,a,i,s,l)=>{if(t){var{type:c}=t,u=Ii(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?hr(a[0]-a[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},Ba=V([Ee,jt,$w,a4,r4,Zte,Jte,wt],ere),Fw=V([UD,HD,cte],(e,t,r)=>VD(r.shared,e,t)),i4=e=>e.tooltip.settings.trigger,Bw=e=>e.tooltip.settings.defaultIndex,sd=V([_l,Fw,i4,Bw],XD),Ei=V([sd,Sl,ed,id],Lw),s4=V([Ba,Ei],WD),o4=V([sd],e=>{if(e)return e.dataKey});V([sd],e=>{if(e)return e.graphicalItemId});var l4=V([_l,Fw,i4,Bw],ZD),tre=V([$a,za,Ee,Ot,Ba,Bw,l4,nd],QD),rre=V([sd,tre],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),nre=V([sd],e=>e.active),are=V([l4,Ei,Li,ed,s4,nd,Fw],JD),ire=V([are],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){sre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sre(e,t,r){return(t=ore(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ore(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cre=()=>se(jt),ure=()=>{var e=cre(),t=se(Ba),r=se(a4);return rl(!e||!r?void 0:fS(fS({},e),{},{scale:r}),t)};function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){dre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dre(e,t,r){return(t=fre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fre(e){var t=hre(e,"string");return typeof t=="symbol"?t:t+""}function hre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mre=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},pre=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:s}=n;return Vs(Vs(Vs({},n),Dt(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var l=a.coordinate,{angle:c}=n;return Vs(Vs(Vs({},n),Dt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function gre(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var c4=(e,t,r,n,a)=>{var i,s=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(hr(d-u)!==hr(f-d)){var m=[];if(hr(f-d)===hr(a[1]-a[0])){h=f;var p=d+a[1]-a[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var v=f+a[1]-a[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){({index:s}=r[c]);break}}else{var g=Math.min(u,f),w=Math.max(u,f);if(e>(g+d)/2&&e<=(w+d)/2){({index:s}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:s}=t[b]);break}}return s},yre=()=>se(bw),Uw=(e,t)=>t,u4=(e,t,r)=>r,Hw=(e,t,r,n)=>n,vre=V(Ba,e=>ip(e,t=>t.coordinate)),Vw=V([_l,Uw,u4,Hw],XD),Ww=V([Vw,Sl,ed,id],Lw),xre=(e,t,r)=>{if(t!=null){var n=_l(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},d4=V([_l,Uw,u4,Hw],ZD),rm=V([$a,za,Ee,Ot,Ba,Hw,d4,nd],QD),bre=V([Vw,rm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),f4=V([Ba,Ww],WD),wre=V([d4,Ww,Li,ed,f4,nd,Uw],JD),jre=V([Vw,Ww],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),kre=(e,t,r,n,a,i,s)=>{if(!(!e||!r||!n||!a)&&gre(e,s)){var l=xG(e,t),c=c4(l,i,a,r,n),u=mre(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},Nre=(e,t,r,n,a,i,s)=>{if(!(!e||!n||!a||!i||!r)){var l=DQ(e,r);if(l){var c=bG(l,t),u=c4(c,s,i,n,a),d=pre(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},_re=(e,t,r,n,a,i,s,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?kre(e,t,n,a,i,s,l):Nre(e,t,r,n,a,i,s)},Sre=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Ere=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(st)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:uee}});function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){Cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cre(e,t,r){return(t=Pre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pre(e){var t=Ore(e,"string");return typeof t=="symbol"?t:t+""}function Ore(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Are={},Tre={zIndexMap:Object.values(st).reduce((e,t)=>pS(pS({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Are)},Mre=new Set(Object.values(st));function Ire(e){return Mre.has(e)}var h4=wr({name:"zIndex",initialState:Tre,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ve()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Ire(r)&&delete e.zIndexMap[r])},prepare:Ve()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:Ve()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ve()}}}),{registerZIndexPortal:Dre,unregisterZIndexPortal:Rre,registerZIndexPortalId:Lre,unregisterZIndexPortalId:$re}=h4.actions,zre=h4.reducer;function ar(e){var{zIndex:t,children:r}=e,n=qG(),a=n&&t!==void 0&&t!==0,i=vt(),s=Ge();y.useLayoutEffect(()=>a?(s(Dre({zIndex:t})),()=>{s(Rre({zIndex:t}))}):Ru,[s,t,a]);var l=se(u=>Sre(u,t,i));if(!a)return r;if(!l)return null;var c=document.getElementById(l);return c?yu.createPortal(r,c):null}function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(null,arguments)}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){Fre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fre(e,t,r){return(t=Bre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bre(e){var t=Ure(e,"string");return typeof t=="symbol"?t:t+""}function Ure(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hre(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return y.isValidElement(t)?y.cloneElement(t,n):y.createElement(r,n)}function Vre(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:s,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,v,x;if(d==="ScatterChart")p=f,v=GX,x=st.cursorLine;else if(d==="BarChart")p=XX(l,f,i,s),v=XM,x=st.cursorRectangle;else if(l==="radial"&&wT(f)){var{cx:g,cy:w,radius:b,startAngle:j,endAngle:k}=QM(f);p={cx:g,cy:w,startAngle:j,endAngle:k,innerRadius:b,outerRadius:b},v=JM,x=st.cursorLine}else p={points:zQ(l,f,i)},v=Qb,x=st.cursorLine;var _=typeof c=="object"&&"className"in c?c.className:void 0,N=nf(nf(nf(nf({stroke:"#ccc",pointerEvents:"none"},i),p),vl(c)),{},{payload:h,payloadIndex:m,className:Se("recharts-tooltip-cursor",_)});return y.createElement(ar,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},y.createElement(Hre,{cursor:c,cursorComp:v,cursorProps:N}))}function Wre(e){var t=ure(),r=RM(),n=Uu(),a=yre();return t==null||r==null||n==null||a==null?null:y.createElement(Vre,Ev({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var m4=y.createContext(null),Kre=()=>y.useContext(m4),p4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var v=r?r+u:u;if(!this._events[v])return!1;var x=this._events[v],g=arguments.length,w,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,p),!0}for(b=1,w=new Array(g-1);b<g;b++)w[b-1]=arguments[b];x.fn.apply(x.context,w)}else{var j=x.length,k;for(b=0;b<j;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),g){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!w)for(k=1,w=new Array(g-1);k<g;k++)w[k-1]=arguments[k];x[b].fn.apply(x[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var v=0,x=[],g=p.length;v<g;v++)(p[v].fn!==d||h&&!p[v].once||f&&p[v].context!==f)&&x.push(p[v]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(p4);var qre=p4.exports;const Yre=Xn(qre);var iu=new Yre,Cv="recharts.syncEvent.tooltip",yS="recharts.syncEvent.brush";function Kw(e,t){if(t){var r=Number.parseInt(t,10);if(!Rr(r))return e==null?void 0:e[r]}}var Gre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},g4=wr({name:"options",initialState:Gre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Xre=g4.reducer,{createEventEmitter:Qre}=g4.actions;function Zre(e){return e.tooltip.syncInteraction}var Jre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},y4=wr({name:"chartData",initialState:Jre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:vS,setDataStartEndIndexes:ene,setComputedData:pfe}=y4.actions,tne=y4.reducer,rne=["x","y"];function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){nne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nne(e,t,r){return(t=ane(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ane(e){var t=ine(e,"string");return typeof t=="symbol"?t:t+""}function ine(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sne(e,t){if(e==null)return{};var r,n,a=one(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function one(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lne(){var e=se(ww),t=se(jw),r=Ge(),n=se(ZI),a=se(Ba),i=Uu(),s=bl(),l=se(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return Ru;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:v}=m,x=sne(m,rne),{x:g,y:w,width:b,height:j}=d.payload.sourceViewBox,k=Ws(Ws({},x),{},{x:s.x+(b?(p-g)/b:0)*s.width,y:s.y+(j?(v-w)/j:0)*s.height});r(Ws(Ws({},d),{},{payload:Ws(Ws({},d.payload),{},{coordinate:k})}))}else r(d);return}if(a!=null){var _;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(a,N);_=a[S]}else n==="value"&&(_=a.find(I=>String(I.value)===d.payload.label));var{coordinate:E}=d.payload;if(_==null||d.payload.active===!1||E==null||s==null){r(_v({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:O}=E,P=Math.min(T,s.x+s.width),L=Math.min(O,s.y+s.height),C={x:i==="horizontal"?_.coordinate:P,y:i==="horizontal"?L:_.coordinate},D=_v({active:d.payload.active,coordinate:C,dataKey:d.payload.dataKey,index:String(_.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(D)}}};return iu.on(Cv,c),()=>{iu.off(Cv,c)}},[l,r,t,e,n,a,i,s])}function cne(){var e=se(ww),t=se(jw),r=Ge();y.useEffect(()=>{if(e==null)return Ru;var n=(a,i,s)=>{t!==s&&e===a&&r(ene(i))};return iu.on(yS,n),()=>{iu.off(yS,n)}},[r,t,e])}function une(){var e=Ge();y.useEffect(()=>{e(Qre())},[e]),lne(),cne()}function dne(e,t,r,n,a,i){var s=se(m=>xre(m,e,t)),l=se(jw),c=se(ww),u=se(ZI),d=se(Zre),f=d==null?void 0:d.active,h=bl();y.useEffect(()=>{if(!f&&c!=null&&l!=null){var m=_v({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});iu.emit(Cv,c,m,l)}},[f,r,s,a,n,l,c,u,i,h])}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){fne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fne(e,t,r){return(t=hne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hne(e){var t=mne(e,"string");return typeof t=="symbol"?t:t+""}function mne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pne(e){return e.dataKey}function gne(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(CX,t)}var jS=[],yne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function af(e){var t,r,n=mt(e,yne),{active:a,allowEscapeViewBox:i,animationDuration:s,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:v,wrapperStyle:x,cursor:g,shared:w,trigger:b,defaultIndex:j,portal:k,axisId:_}=n,N=Ge(),S=typeof j=="number"?String(j):j;y.useEffect(()=>{N(mte({shared:w,trigger:b,axisId:_,active:a,defaultIndex:S}))},[N,w,b,_,a,S]);var E=bl(),T=WM(),O=lte(w),{activeIndex:P,isActive:L}=(t=se(Z=>jre(Z,O,b,S)))!==null&&t!==void 0?t:{},C=se(Z=>wre(Z,O,b,S)),D=se(Z=>f4(Z,O,b,S)),I=se(Z=>bre(Z,O,b,S)),R=C,A=Kre(),M=(r=a??L)!==null&&r!==void 0?r:!1,[z,H]=qT([R,M]),F=O==="axis"?D:void 0;dne(O,b,I,F,P,M);var Y=k??A;if(Y==null||E==null||O==null)return null;var q=R??jS;M||(q=jS),u&&q.length&&(q=zT(q.filter(Z=>Z.value!=null&&(Z.hide!==!0||n.includeHidden)),h,pne));var Q=q.length>0,le=y.createElement(DX,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:d,active:M,coordinate:I,hasPayload:Q,offset:f,position:m,reverseDirection:p,useTranslate3d:v,viewBox:E,wrapperStyle:x,lastBoundingBox:z,innerRef:H,hasPortalFromProps:!!k},gne(c,wS(wS({},n),{},{payload:q,label:F,active:M,activeIndex:P,coordinate:I,accessibilityLayer:T})));return y.createElement(y.Fragment,null,yu.createPortal(le,Y),M&&y.createElement(Wre,{cursor:g,tooltipEventType:O,coordinate:I,payload:q,index:P}))}var qw=e=>null;qw.displayName="Cell";function vne(e,t,r){return(t=xne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xne(e){var t=bne(e,"string");return typeof t=="symbol"?t:t+""}function bne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wne{constructor(t){vne(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){kne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kne(e,t,r){return(t=Nne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nne(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function _ne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sne={cacheSize:2e3,enableCache:!0},v4=jne({},Sne),NS=new wne(v4.cacheSize),Ene={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_S="recharts_measurement_span";function Cne(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(l)}var SS=(e,t)=>{try{var r=document.getElementById(_S);r||(r=document.createElement("span"),r.setAttribute("id",_S),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Ene,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},yc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vu.isSsr)return{width:0,height:0};if(!v4.enableCache)return SS(t,r);var n=Cne(t,r),a=NS.get(n);if(a)return a;var i=SS(t,r);return NS.set(n,i),i},ES=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,One=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,x4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ane=Object.keys(x4),co="NaN";function Tne(e,t){return e*x4[t]}class lr{static parse(t){var r,[,n,a]=(r=One.exec(t))!==null&&r!==void 0?r:[];return new lr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Rr(t)&&(this.unit=""),r!==""&&!Pne.test(r)&&(this.num=NaN,this.unit=""),Ane.includes(r)&&(this.num=Tne(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new lr(NaN,""):new lr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new lr(NaN,""):new lr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new lr(NaN,""):new lr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new lr(NaN,""):new lr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Rr(this.num)}}function b4(e){if(e.includes(co))return co;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=ES.exec(t))!==null&&r!==void 0?r:[],s=lr.parse(n??""),l=lr.parse(i??""),c=a==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return co;t=t.replace(ES,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=CS.exec(t))!==null&&u!==void 0?u:[],m=lr.parse(d??""),p=lr.parse(h??""),v=f==="+"?m.add(p):m.subtract(p);if(v.isNaN())return co;t=t.replace(CS,v.toString())}return t}var PS=/\(([^()]*)\)/;function Mne(e){for(var t=e,r;(r=PS.exec(t))!=null;){var[,n]=r;t=t.replace(PS,b4(n))}return t}function Ine(e){var t=e.replace(/\s+/g,"");return t=Mne(t),t=b4(t),t}function Dne(e){try{return Ine(e)}catch{return co}}function r0(e){var t=Dne(e.slice(5,-1));return t===co?"":t}var Rne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Lne=["dx","dy","angle","className","breakAll"];function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(null,arguments)}function OS(e,t){if(e==null)return{};var r,n,a=$ne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $ne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w4=/[ \f\n\r\t\v\u2028\u2029]+/,j4=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Ae(t)||(r?a=t.toString().split(""):a=t.toString().split(w4));var i=a.map(l=>({word:l,width:yc(l,n).width})),s=r?0:yc("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}};function zne(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var k4=(e,t,r,n)=>e.reduce((a,i)=>{var{word:s,width:l}=i,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(s),c.width+=l+r;else{var u={words:[s],width:l};a.push(u)}return a},[]),N4=e=>e.reduce((t,r)=>t.width>r.width?t:r),Fne="",AS=(e,t,r,n,a,i,s,l)=>{var c=e.slice(0,t),u=j4({breakAll:r,style:n,children:c+Fne});if(!u)return[!1,[]];var d=k4(u.wordsWithComputedWidth,i,s,l),f=d.length>a||N4(d).width>Number(i);return[f,d]},Bne=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:l,breakAll:c}=e,u=ue(i),d=String(s),f=k4(t,n,r,a);if(!u||a)return f;var h=f.length>i||N4(f).width>Number(n);if(!h)return f;for(var m=0,p=d.length-1,v=0,x;m<=p&&v<=d.length-1;){var g=Math.floor((m+p)/2),w=g-1,[b,j]=AS(d,w,c,l,i,n,r,a),[k]=AS(d,g,c,l,i,n,r,a);if(!b&&!k&&(m=g+1),b&&k&&(p=g-1),!b&&k){x=j;break}v++}return x||f},TS=e=>{var t=Ae(e)?[]:e.toString().split(w4);return[{words:t,width:void 0}]},Une=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!Vu.isSsr){var l,c,u=j4({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return TS(n);return Bne({breakAll:i,children:n,maxLines:s,style:a},l,c,t,!!r)}return TS(n)},_4="#808080",Hne={angle:0,breakAll:!1,capHeight:"0.71em",fill:_4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Yw=y.forwardRef((e,t)=>{var r=mt(e,Hne),{x:n,y:a,lineHeight:i,capHeight:s,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=OS(r,Rne),h=y.useMemo(()=>Une({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:p,angle:v,className:x,breakAll:g}=f,w=OS(f,Lne);if(!en(n)||!en(a)||h.length===0)return null;var b=Number(n)+(ue(m)?m:0),j=Number(a)+(ue(p)?p:0);if(!He(b)||!He(j))return null;var k;switch(d){case"start":k=r0("calc(".concat(s,")"));break;case"middle":k=r0("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:k=r0("calc(".concat(h.length-1," * -").concat(i,")"));break}var _=[];if(c){var N=h[0].width,{width:S}=f;_.push("scale(".concat(ue(S)&&ue(N)?S/N:1,")"))}return v&&_.push("rotate(".concat(v,", ").concat(b,", ").concat(j,")")),_.length&&(w.transform=_.join(" ")),y.createElement("text",Pv({},qt(w),{ref:t,x:b,y:j,className:Se("recharts-text",x),textAnchor:u,fill:l.includes("url")?_4:l}),h.map((E,T)=>{var O=E.words.join(g?"":" ");return y.createElement("tspan",{x:b,dy:T===0?k:i,key:"".concat(O,"-").concat(T)},O)}))});Yw.displayName="Text";var Vne=["labelRef"];function Wne(e,t){if(e==null)return{};var r,n,a=Kne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){qne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qne(e,t,r){return(t=Yne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yne(e){var t=Gne(e,"string");return typeof t=="symbol"?t:t+""}function Gne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ca.apply(null,arguments)}var S4=y.createContext(null),E4=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s,children:l}=e,c=y.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s}),[t,r,n,a,i,s]);return y.createElement(S4.Provider,{value:c},l)},C4=()=>{var e=y.useContext(S4),t=bl();return e||DM(t)},Xne=y.createContext(null),Qne=()=>{var e=y.useContext(Xne),t=se(nD);return e||t},Zne=e=>{var{value:t,formatter:r}=e,n=Ae(e.children)?t:e.children;return typeof r=="function"?r(n):n},Gw=e=>e!=null&&typeof e=="function",Jne=(e,t)=>{var r=hr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},eae=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,p=(u+d)/2,v=Jne(f,h),x=v>=0?1:-1,g,w;switch(t){case"insideStart":g=f+x*i,w=m;break;case"insideEnd":g=h-x*i,w=!m;break;case"end":g=h+x*i,w=m;break;default:throw new Error("Unsupported position ".concat(t))}w=v<=0?w:!w;var b=Dt(l,c,p,g),j=Dt(l,c,p,g+(w?1:-1)*359),k="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(j.x,",").concat(j.y),_=Ae(e.id)?Gc("recharts-radial-line-"):e.id;return y.createElement("text",ca({},n,{dominantBaseline:"central",className:Se("recharts-radial-bar-label",s)}),y.createElement("defs",null,y.createElement("path",{id:_,d:k})),y.createElement("textPath",{xlinkHref:"#".concat(_)},r))},tae=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Dt(n,a,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:m,y:p}=Dt(n,a,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Ov=e=>"cx"in e&&ue(e.cx),rae=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!Ov(r)&&(i=r);var{x:s,y:l,upperWidth:c,lowerWidth:u,height:d}=t,f=s,h=s+(c-u)/2,m=(f+h)/2,p=(c+u)/2,v=f+c/2,x=d>=0?1:-1,g=x*n,w=x>0?"end":"start",b=x>0?"start":"end",j=c>=0?1:-1,k=j*n,_=j>0?"end":"start",N=j>0?"start":"end";if(a==="top"){var S={x:f+c/2,y:l-g,textAnchor:"middle",verticalAnchor:w};return at(at({},S),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var E={x:h+u/2,y:l+d+g,textAnchor:"middle",verticalAnchor:b};return at(at({},E),i?{height:Math.max(i.y+i.height-(l+d),0),width:u}:{})}if(a==="left"){var T={x:m-k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return at(at({},T),i?{width:Math.max(T.x-i.x,0),height:d}:{})}if(a==="right"){var O={x:m+p+k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"};return at(at({},O),i?{width:Math.max(i.x+i.width-O.x,0),height:d}:{})}var P=i?{width:p,height:d}:{};return a==="insideLeft"?at({x:m+k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"},P):a==="insideRight"?at({x:m+p-k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},P):a==="insideTop"?at({x:f+c/2,y:l+g,textAnchor:"middle",verticalAnchor:b},P):a==="insideBottom"?at({x:h+u/2,y:l+d-g,textAnchor:"middle",verticalAnchor:w},P):a==="insideTopLeft"?at({x:f+k,y:l+g,textAnchor:N,verticalAnchor:b},P):a==="insideTopRight"?at({x:f+c-k,y:l+g,textAnchor:_,verticalAnchor:b},P):a==="insideBottomLeft"?at({x:h+k,y:l+d-g,textAnchor:N,verticalAnchor:w},P):a==="insideBottomRight"?at({x:h+u-k,y:l+d-g,textAnchor:_,verticalAnchor:w},P):a&&typeof a=="object"&&(ue(a.x)||Pa(a.x))&&(ue(a.y)||Pa(a.y))?at({x:s+_n(a.x,p),y:l+_n(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):at({x:v,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},nae={angle:0,offset:5,zIndex:st.label,position:"middle",textBreakAll:!1};function Qa(e){var t=mt(e,nae),{viewBox:r,position:n,value:a,children:i,content:s,className:l="",textBreakAll:c,labelRef:u}=t,d=Qne(),f=C4(),h=n==="center"?f:d??f,m,p,v;if(r==null?m=h:Ov(r)?m=r:m=DM(r),!m||Ae(a)&&Ae(i)&&!y.isValidElement(s)&&typeof s!="function")return null;var x=at(at({},t),{},{viewBox:m});if(y.isValidElement(s)){var{labelRef:g}=x,w=Wne(x,Vne);return y.cloneElement(s,w)}if(typeof s=="function"){if(p=y.createElement(s,x),y.isValidElement(p))return p}else p=Zne(t);var b=qt(t);if(Ov(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return eae(t,n,p,b,m);v=tae(m,t.offset,t.position)}else v=rae(t,m);return y.createElement(ar,{zIndex:t.zIndex},y.createElement(Yw,ca({ref:u,className:Se("recharts-label",l)},b,v,{textAnchor:zne(b.textAnchor)?b.textAnchor:v.textAnchor,breakAll:c}),p))}Qa.displayName="Label";var aae=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(Qa,ca({key:"label-implicit"},n)):en(e)?y.createElement(Qa,ca({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===Qa?y.cloneElement(e,at({key:"label-implicit"},n)):y.createElement(Qa,ca({key:"label-implicit",content:e},n)):Gw(e)?y.createElement(Qa,ca({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(Qa,ca({},e,{key:"label-implicit"},n)):null};function P4(e){var{label:t,labelRef:r}=e,n=C4();return aae(t,n,r)||null}var O4={},A4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(A4);var T4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(T4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A4,r=T4,n=ap;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(O4);var iae=O4.last;const sae=Xn(iae);var oae=["valueAccessor"],lae=["dataKey","clockWise","id","textBreakAll","zIndex"];function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nm.apply(null,arguments)}function IS(e,t){if(e==null)return{};var r,n,a=cae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uae=e=>Array.isArray(e.value)?sae(e.value):e.value,M4=y.createContext(void 0),Xw=M4.Provider,I4=y.createContext(void 0);I4.Provider;function dae(){return y.useContext(M4)}function fae(){return y.useContext(I4)}function Df(e){var{valueAccessor:t=uae}=e,r=IS(e,oae),{dataKey:n,clockWise:a,id:i,textBreakAll:s,zIndex:l}=r,c=IS(r,lae),u=dae(),d=fae(),f=u||d;return!f||!f.length?null:y.createElement(ar,{zIndex:l??st.label},y.createElement(Pt,{className:"recharts-label-list"},f.map((h,m)=>{var p,v=Ae(n)?t(h,m):Je(h&&h.payload,n),x=Ae(i)?{}:{id:"".concat(i,"-").concat(m)};return y.createElement(Qa,nm({key:"label-".concat(m)},qt(h),c,x,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}Df.displayName="LabelList";function Qw(e){var{label:t}=e;return t?t===!0?y.createElement(Df,{key:"labelList-implicit"}):y.isValidElement(t)||Gw(t)?y.createElement(Df,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(Df,nm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(null,arguments)}var D4=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Se("recharts-dot",a);return ue(t)&&ue(r)&&ue(n)?y.createElement("circle",Av({},Dr(e),Nb(e),{className:i,cx:t,cy:r,r:n})):null},hae={radiusAxis:{},angleAxis:{}},R4=wr({name:"polarAxis",initialState:hae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:gfe,removeRadiusAxis:yfe,addAngleAxis:vfe,removeAngleAxis:xfe}=R4.actions,mae=R4.reducer,L4={exports:{}},Re={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw=Symbol.for("react.transitional.element"),Jw=Symbol.for("react.portal"),$p=Symbol.for("react.fragment"),zp=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),Bp=Symbol.for("react.consumer"),Up=Symbol.for("react.context"),Hp=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),Wp=Symbol.for("react.suspense_list"),Kp=Symbol.for("react.memo"),qp=Symbol.for("react.lazy"),pae=Symbol.for("react.view_transition"),gae=Symbol.for("react.client.reference");function sn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Zw:switch(e=e.type,e){case $p:case Fp:case zp:case Vp:case Wp:case pae:return e;default:switch(e=e&&e.$$typeof,e){case Up:case Hp:case qp:case Kp:return e;case Bp:return e;default:return t}}case Jw:return t}}}Re.ContextConsumer=Bp;Re.ContextProvider=Up;Re.Element=Zw;Re.ForwardRef=Hp;Re.Fragment=$p;Re.Lazy=qp;Re.Memo=Kp;Re.Portal=Jw;Re.Profiler=Fp;Re.StrictMode=zp;Re.Suspense=Vp;Re.SuspenseList=Wp;Re.isContextConsumer=function(e){return sn(e)===Bp};Re.isContextProvider=function(e){return sn(e)===Up};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zw};Re.isForwardRef=function(e){return sn(e)===Hp};Re.isFragment=function(e){return sn(e)===$p};Re.isLazy=function(e){return sn(e)===qp};Re.isMemo=function(e){return sn(e)===Kp};Re.isPortal=function(e){return sn(e)===Jw};Re.isProfiler=function(e){return sn(e)===Fp};Re.isStrictMode=function(e){return sn(e)===zp};Re.isSuspense=function(e){return sn(e)===Vp};Re.isSuspenseList=function(e){return sn(e)===Wp};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$p||e===Fp||e===zp||e===Vp||e===Wp||typeof e=="object"&&e!==null&&(e.$$typeof===qp||e.$$typeof===Kp||e.$$typeof===Up||e.$$typeof===Bp||e.$$typeof===Hp||e.$$typeof===gae||e.getModuleId!==void 0)};Re.typeOf=sn;L4.exports=Re;var yae=L4.exports,DS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",RS=null,n0=null,$4=e=>{if(e===RS&&Array.isArray(n0))return n0;var t=[];return y.Children.forEach(e,r=>{Ae(r)||(yae.isFragment(r)?t=t.concat($4(r.props.children)):t.push(r))}),n0=t,RS=e,t};function z4(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>DS(a)):n=[DS(t)],$4(e).forEach(a=>{var i=Jo(a,"type.displayName")||Jo(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var F4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,B4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(B4);var vae=B4.isPlainObject;const xae=Xn(vae);function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){bae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bae(e,t,r){return(t=wae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wae(e){var t=jae(e,"string");return typeof t=="symbol"?t:t+""}function jae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},am.apply(null,arguments)}var zS=(e,t,r,n,a)=>{var i=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},kae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nae=e=>{var t=mt(e,kae),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=y.useRef(null),[m,p]=y.useState(-1),v=y.useRef(a),x=y.useRef(i),g=y.useRef(s),w=y.useRef(r),b=y.useRef(n),j=Ku(e,"trapezoid-");if(y.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var C=h.current.getTotalLength();C&&p(C)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var k=Se("recharts-trapezoid",l);if(!f)return y.createElement("g",null,y.createElement("path",am({},qt(t),{className:k,d:zS(r,n,a,i,s)})));var _=v.current,N=x.current,S=g.current,E=w.current,T=b.current,O="0px ".concat(m===-1?1:m,"px"),P="".concat(m,"px 0px"),L=KM(["strokeDasharray"],u,c);return y.createElement(Wu,{animationId:j,key:j,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},C=>{var D=$e(_,a,C),I=$e(N,i,C),R=$e(S,s,C),A=$e(E,r,C),M=$e(T,n,C);h.current&&(v.current=D,x.current=I,g.current=R,w.current=A,b.current=M);var z=C>0?{transition:L,strokeDasharray:P}:{strokeDasharray:O};return y.createElement("path",am({},qt(t),{className:k,d:zS(A,M,D,I,R),ref:h,style:$S($S({},z),t.style)}))})},_ae=["option","shapeType","propTransformer","activeClassName"];function Sae(e,t){if(e==null)return{};var r,n,a=Eae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Eae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){Cae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cae(e,t,r){return(t=Pae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pae(e){var t=Oae(e,"string");return typeof t=="symbol"?t:t+""}function Oae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aae(e,t){return im(im({},t),e)}function Tae(e,t){return e==="symbols"}function BS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(XM,r);case"trapezoid":return y.createElement(Nae,r);case"sector":return y.createElement(JM,r);case"symbols":if(Tae(t))return y.createElement(np,r);break;case"curve":return y.createElement(Qb,r);default:return null}}function Mae(e){return y.isValidElement(e)?e.props:e}function sm(e){var{option:t,shapeType:r,propTransformer:n=Aae,activeClassName:a="recharts-active-shape"}=e,i=Sae(e,_ae),s;if(y.isValidElement(t))s=y.cloneElement(t,im(im({},i),Mae(t)));else if(typeof t=="function")s=t(i,i.index);else if(xae(t)&&typeof t!="boolean"){var l=n(t,i);s=y.createElement(BS,{shapeType:r,elementProps:l})}else{var c=i;s=y.createElement(BS,{shapeType:r,elementProps:c})}return i.isActive?y.createElement(Pt,{className:a},s):s}var e1=(e,t,r)=>{var n=Ge();return(a,i)=>s=>{e==null||e(a,i,s),n(qD({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},t1=e=>{var t=Ge();return(r,n)=>a=>{e==null||e(r,n,a),t(pte())}},r1=(e,t,r)=>{var n=Ge();return(a,i)=>s=>{e==null||e(a,i,s),n(gte({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function n1(e){var{tooltipEntrySettings:t}=e,r=Ge(),n=vt(),a=y.useRef(null);return y.useLayoutEffect(()=>{n||(a.current===null?r(dte(t)):a.current!==t&&r(fte({prev:a.current,next:t})),a.current=t)},[t,r,n]),y.useLayoutEffect(()=>()=>{a.current&&(r(hte(a.current)),a.current=null)},[r]),null}function a1(e){var{legendPayload:t}=e,r=Ge(),n=vt(),a=y.useRef(null);return y.useLayoutEffect(()=>{n||(a.current===null?r(oX(t)):a.current!==t&&r(lX({prev:a.current,next:t})),a.current=t)},[r,n,t]),y.useLayoutEffect(()=>()=>{a.current&&(r(cX(a.current)),a.current=null)},[r]),null}var a0,Iae=()=>{var[e]=y.useState(()=>Gc("uid-"));return e},Dae=(a0=UR.useId)!==null&&a0!==void 0?a0:Iae;function U4(e,t){var r=Dae();return t||(e?"".concat(e,"-").concat(r):r)}var Rae=y.createContext(void 0),i1=e=>{var{id:t,type:r,children:n}=e,a=U4("recharts-".concat(r),t);return y.createElement(Rae.Provider,{value:a},n(a))},Lae={cartesianItems:[],polarItems:[]},H4=wr({name:"graphicalItems",initialState:Lae,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ve()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=jn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Ve()},removeCartesianGraphicalItem:{reducer(e,t){var r=jn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ve()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ve()},removePolarGraphicalItem:{reducer(e,t){var r=jn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ve()}}}),{addCartesianGraphicalItem:$ae,replaceCartesianGraphicalItem:zae,removeCartesianGraphicalItem:Fae,addPolarGraphicalItem:bfe,removePolarGraphicalItem:wfe}=H4.actions,Bae=H4.reducer,Uae=e=>{var t=Ge(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t($ae(e)):r.current!==e&&t(zae({prev:r.current,next:e})),r.current=e},[t,e]),y.useLayoutEffect(()=>()=>{r.current&&(t(Fae(r.current)),r.current=null)},[t]),null},s1=y.memo(Uae),Hae=["points"];function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){Vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vae(e,t,r){return(t=Wae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wae(e){var t=Kae(e,"string");return typeof t=="symbol"?t:t+""}function Kae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},om.apply(null,arguments)}function qae(e,t){if(e==null)return{};var r,n,a=Yae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gae(e){var{option:t,dotProps:r,className:n}=e;if(y.isValidElement(t))return y.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Se(n,typeof t!="boolean"?t.className:""),i=r??{},{points:s}=i,l=qae(i,Hae);return y.createElement(D4,om({},l,{className:a}))}function Xae(e,t){return e==null?!1:t?!0:e.length===1}function Qae(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:s,needClip:l,clipPathId:c,zIndex:u=st.scatter}=e;if(!Xae(t,r))return null;var d=F4(r),f=NK(r),h=t.map((p,v)=>{var x,g,w=i0(i0(i0({r:3},s),f),{},{index:v,cx:(x=p.x)!==null&&x!==void 0?x:void 0,cy:(g=p.y)!==null&&g!==void 0?g:void 0,dataKey:i,value:p.value,payload:p.payload,points:t});return y.createElement(Gae,{key:"dot-".concat(v),option:r,dotProps:w,className:a})}),m={};return l&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),y.createElement(ar,{zIndex:u},y.createElement(Pt,om({className:n},m),h))}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){Zae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zae(e,t,r){return(t=Jae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jae(e){var t=eie(e,"string");return typeof t=="symbol"?t:t+""}function eie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tie={xAxis:{},yAxis:{},zAxis:{}},V4=wr({name:"cartesianAxis",initialState:tie,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ve()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ve()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ve()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ve()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ve()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ve()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ve()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ve()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ve()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var s=[...i,n].slice(-3);e.yAxis[r]=VS(VS({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:rie,replaceXAxis:nie,removeXAxis:aie,addYAxis:iie,replaceYAxis:sie,removeYAxis:oie,addZAxis:jfe,replaceZAxis:kfe,removeZAxis:Nfe,updateYAxisWidth:lie}=V4.actions,cie=V4.reducer,uie=V([Ot],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),die=V([uie,$a,za],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),o1=()=>se(die),fie=()=>se(ire);function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(n){hie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hie(e,t,r){return(t=mie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mie(e){var t=pie(e,"string");return typeof t=="symbol"?t:t+""}function pie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gie=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:s}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=s0(s0(s0({},l),vl(a)),Nb(a)),u;return y.isValidElement(a)?u=y.cloneElement(a,c):typeof a=="function"?u=a(c):u=y.createElement(D4,c),y.createElement(Pt,{className:"recharts-active-dot",clipPath:s},u)};function yie(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:s=st.activeDot}=e,l=se(Ei),c=fie();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return Ae(u)?null:y.createElement(ar,{zIndex:s},y.createElement(gie,{point:u,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var vie="Invariant failed";function xie(e,t){throw new Error(vie)}var bie=["x","y"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(null,arguments)}function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){wie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wie(e,t,r){return(t=jie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jie(e){var t=kie(e,"string");return typeof t=="symbol"?t:t+""}function kie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nie(e,t){if(e==null)return{};var r,n,a=_ie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _ie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sie(e,t){var{x:r,y:n}=e,a=Nie(e,bie),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Yl(Yl(Yl(Yl(Yl({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function lm(e){return y.createElement(sm,Tv({shapeType:"rectangle",propTransformer:Sie,activeClassName:"recharts-active-bar"},e))}var Eie=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ue(t))return t;var i=ue(n)||Ae(n);return i?t(n,a):(i||xie(),r)}},Cie={},W4=wr({name:"errorBars",initialState:Cie,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:_fe,replaceErrorBar:Sfe,removeErrorBar:Efe}=W4.actions,Pie=W4.reducer,Oie=["children"];function Aie(e,t){if(e==null)return{};var r,n,a=Tie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Iie=y.createContext(Mie);function l1(e){var{children:t}=e,r=Aie(e,Oie);return y.createElement(Iie.Provider,{value:r},t)}function Yp(e,t){var r,n,a=se(u=>Jn(u,e)),i=se(u=>ea(u,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:kt.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Nt.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function c1(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=o1(),{needClipX:i,needClipY:s,needClip:l}=Yp(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:i?c:c-d/2,y:s?u:u-f/2,width:i?d:d*2,height:s?f:f*2}))}function Die(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&He(e.zIndex)?e.zIndex:t}var Rie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od=y;function Lie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $ie=typeof Object.is=="function"?Object.is:Lie,zie=od.useSyncExternalStore,Fie=od.useRef,Bie=od.useEffect,Uie=od.useMemo,Hie=od.useDebugValue;Rie.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Fie(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Uie(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&s.hasValue){var p=s.value;if(a(p,m))return f=p}return f=m}if(p=f,$ie(d,m))return p;var v=n(m);return a!==void 0&&a(p,v)?(d=m,p):(d=m,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=zie(e,i[0],i[1]);return Bie(function(){s.hasValue=!0,s.value=l},[l]),Hie(l),l};function Vie(e){e()}function Wie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Vie(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var qS={notify(){},get:()=>[]};function Kie(e,t){let r,n=qS,a=0,i=!1;function s(v){d();const x=n.subscribe(v);let g=!1;return()=>{g||(g=!0,x(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=Wie())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=qS)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const p={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var qie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yie=qie(),Gie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Xie=Gie(),Qie=()=>Yie||Xie?y.useLayoutEffect:y.useEffect,Zie=Qie();function YS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Jie(e,t){if(YS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!YS(e[r[a]],t[r[a]]))return!1;return!0}var o0=Symbol.for("react-redux-context"),l0=typeof globalThis<"u"?globalThis:{};function ese(){if(!y.createContext)return{};const e=l0[o0]??(l0[o0]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var tse=ese();function rse(e){const{children:t,context:r,serverState:n,store:a}=e,i=y.useMemo(()=>{const c=Kie(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),s=y.useMemo(()=>a.getState(),[a]);Zie(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,s]);const l=r||tse;return y.createElement(l.Provider,{value:i},t)}var nse=rse,ase=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function ise(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ld(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(ase.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Jie(e[n],t[n]))return!1}else if(!ise(e[n],t[n]))return!1;return!0}var sse=["onMouseEnter","onMouseLeave","onClick"],ose=["value","background","tooltipPosition"],lse=["id"],cse=["onMouseEnter","onClick","onMouseLeave"];function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Da.apply(null,arguments)}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){use(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function use(e,t,r){return(t=dse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dse(e){var t=fse(e,"string");return typeof t=="symbol"?t:t+""}function fse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cm(e,t){if(e==null)return{};var r,n,a=hse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mse=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:xl(r,t),payload:e}]},pse=y.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:xl(i,t),hide:s,type:c,color:a,unit:l}};return y.createElement(n1,{tooltipEntrySettings:u})});function gse(e){var t=se(Ei),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=i,u=cm(i,sse),d=e1(s,n),f=t1(l),h=r1(c,n);if(!a||r==null)return null;var m=vl(a);return y.createElement(ar,{zIndex:Die(a,st.barBackground)},r.map((p,v)=>{var{value:x,background:g,tooltipPosition:w}=p,b=cm(p,ose);if(!g)return null;var j=d(p,v),k=f(p,v),_=h(p,v),N=Qt(Qt(Qt(Qt(Qt({option:a,isActive:String(v)===t},b),{},{fill:"#eee"},g),m),Lu(u,p,v)),{},{onMouseEnter:j,onMouseLeave:k,onClick:_,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return y.createElement(lm,Da({key:"background-bar-".concat(v)},N))}))}function yse(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Qt(Qt({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return y.createElement(Xw,{value:t?a:void 0},r)}function vse(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,l=se(Ei),c=se(o4),u=r&&String(i)===l&&(c==null||s===c),d=u?r:t;return u?y.createElement(ar,{zIndex:st.activeBar},y.createElement(lm,Da({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:s}))):y.createElement(lm,Da({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:s}))}function xse(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return y.createElement(lm,Da({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function bse(e){var t,{data:r,props:n}=e,a=(t=Dr(n))!==null&&t!==void 0?t:{},{id:i}=a,s=cm(a,lse),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=cm(n,cse),p=e1(d,c),v=t1(h),x=r1(f,c);return r?y.createElement(y.Fragment,null,r.map((g,w)=>y.createElement(Pt,Da({key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(w),className:"recharts-bar-rectangle"},Lu(m,g,w),{onMouseEnter:p(g,w),onMouseLeave:v(g,w),onClick:x(g,w)}),u?y.createElement(vse,{shape:l,activeBar:u,baseProps:s,entry:g,index:w,dataKey:c}):y.createElement(xse,{shape:l,baseProps:s,entry:g,index:w,dataKey:c})))):null}function wse(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=Ku(t,"recharts-bar-"),[m,p]=y.useState(!1),v=!m,x=y.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),g=y.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return y.createElement(yse,{showLabels:v,rects:n},y.createElement(Wu,{animationId:h,begin:s,duration:l,isActive:i,easing:c,onAnimationEnd:x,onAnimationStart:g,key:h},w=>{var b=w===1?n:n==null?void 0:n.map((j,k)=>{var _=f&&f[k];if(_)return Qt(Qt({},j),{},{x:$e(_.x,j.x,w),y:$e(_.y,j.y,w),width:$e(_.width,j.width,w),height:$e(_.height,j.height,w)});if(a==="horizontal"){var N=$e(0,j.height,w),S=$e(j.stackedBarStart,j.y,w);return Qt(Qt({},j),{},{y:S,height:N})}var E=$e(0,j.width,w),T=$e(j.stackedBarStart,j.x,w);return Qt(Qt({},j),{},{width:E,x:T})});return w>0&&(r.current=b??null),b==null?null:y.createElement(Pt,null,y.createElement(bse,{props:t,data:b}))}),y.createElement(Qw,{label:t.label}),t.children)}function jse(e){var t=y.useRef(null);return y.createElement(wse,{previousRectanglesRef:t,props:e})}var K4=0,kse=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Je(e,t)}};class Nse extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Se("recharts-bar",a),f=u;return y.createElement(Pt,{className:d,id:u},l&&y.createElement("defs",null,y.createElement(c1,{clipPathId:f,xAxisId:i,yAxisId:s})),y.createElement(Pt,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},y.createElement(gse,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),y.createElement(jse,this.props)))}}var _se={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:K4,xAxisId:0,yAxisId:0,zIndex:st.bar};function Sse(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Yp(t,r),h=Uu(),m=vt(),p=z4(e.children,qw),v=se(w=>eoe(w,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var x,g=v==null?void 0:v[0];return g==null||g.height==null||g.width==null?x=0:x=h==="vertical"?g.height/2:g.width/2,y.createElement(l1,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:kse,errorBarOffset:x},y.createElement(Nse,Da({},e,{layout:h,needClip:f,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Ese(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p,dataStartIndex:v}=e,x=t==="horizontal"?l:s,g=d?x.scale.domain():null,w=pG({numericAxis:x}),b=x.scale(w);return f.map((j,k)=>{var _,N,S,E,T,O;d?_=cG(d[k+v],g):(_=Je(j,r),Array.isArray(_)||(_=[w,_]));var P=Eie(n,K4)(_[1],k);if(t==="horizontal"){var L,[C,D]=[l.scale(_[0]),l.scale(_[1])];N=VN({axis:s,ticks:c,bandSize:i,offset:a.offset,entry:j,index:k}),S=(L=D??C)!==null&&L!==void 0?L:void 0,E=a.size;var I=C-D;if(T=Rr(I)?0:I,O={x:N,y:h.top,width:E,height:h.height},Math.abs(P)>0&&Math.abs(T)<Math.abs(P)){var R=hr(T||P)*(Math.abs(P)-Math.abs(T));S-=R,T+=R}}else{var[A,M]=[s.scale(_[0]),s.scale(_[1])];if(N=A,S=VN({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:j,index:k}),E=M-A,T=a.size,O={x:h.left,y:S,width:h.width,height:T},Math.abs(P)>0&&Math.abs(E)<Math.abs(P)){var z=hr(E||P)*(Math.abs(P)-Math.abs(E));E+=z}}if(N==null||S==null||E==null||T==null)return null;var H=Qt(Qt({},j),{},{stackedBarStart:b,x:N,y:S,width:E,height:T,value:d?_:_[1],payload:j,background:O,tooltipPosition:{x:N+E/2,y:S+T/2},parentViewBox:p},m&&m[k]&&m[k].props);return H}).filter(Boolean)}function Cse(e){var t=mt(e,_se),r=vt();return y.createElement(i1,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(a1,{legendPayload:mse(t)}),y.createElement(pse,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),y.createElement(s1,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:mG(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(ar,{zIndex:t.zIndex},y.createElement(Sse,Da({},t,{id:n})))))}var q4=y.memo(Cse,ld);q4.displayName="Bar";function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){Pse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pse(e,t,r){return(t=Ose(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ose(e){var t=Ase(e,"string");return typeof t=="symbol"?t:t+""}function Ase(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tse=(e,t)=>t,Mse=(e,t,r)=>r,Ise=(e,t,r,n)=>n,Dse=(e,t,r,n,a)=>a,cd=V([Zu,Dse],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Rse=V([cd],e=>e==null?void 0:e.maxBarSize),Lse=(e,t,r,n,a,i)=>i,QS=(e,t,r)=>{var n=r??e;if(!Ae(n))return _n(n,t,0)},$se=V([Ee,Zu,Tse,Mse,Ise],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),zse=(e,t,r,n)=>{var a=Ee(e);return a==="horizontal"?Nv(e,"yAxis",r,n):Nv(e,"xAxis",t,n)},Fse=(e,t,r)=>{var n=Ee(e);return n==="horizontal"?sS(e,"xAxis",t):sS(e,"yAxis",r)},Bse=(e,t,r)=>{var n={},a=e.filter(Tp),i=e.filter(u=>u.stackId==null),s=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(s).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=QS(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=QS(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},Use=V([$se,aee,Fse],Bse),Hse=(e,t,r,n,a)=>{var i,s,l=cd(e,t,r,n,a);if(l!=null){var c=Ee(e),u=GI(e),{maxBarSize:d}=l,f=Ae(d)?u:d,h,m;return c==="horizontal"?(h=Gn(e,"xAxis",t,n),m=Yn(e,"xAxis",t,n)):(h=Gn(e,"yAxis",r,n),m=Yn(e,"yAxis",r,n)),(i=(s=rl(h,m,!0))!==null&&s!==void 0?s:f)!==null&&i!==void 0?i:0}},Y4=(e,t,r,n)=>{var a=Ee(e),i,s;return a==="horizontal"?(i=Gn(e,"xAxis",t,n),s=Yn(e,"xAxis",t,n)):(i=Gn(e,"yAxis",r,n),s=Yn(e,"yAxis",r,n)),rl(i,s)};function Vse(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=_n(e,r,0,!0),l,c=[];if(He(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((g,w)=>g+(w.barSize||0),0);f+=(i-1)*s,f>=r&&(f-=(i-1)*s,s=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-s,size:0};l=n.reduce((g,w)=>{var b,j={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m.offset+m.size+s,size:u?d:(b=w.barSize)!==null&&b!==void 0?b:0}},k=[...g,j];return m=k[k.length-1].position,k},c)}else{var p=_n(t,r,0,!0);r-2*p-(i-1)*s<=0&&(s=0);var v=(r-2*p-(i-1)*s)/i;v>1&&(v>>=0);var x=He(a)?Math.min(v,a):v;l=n.reduce((g,w,b)=>[...g,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p+(v+s)*b+(v-x)/2,size:x}}],c)}return l}}var Wse=(e,t,r,n,a,i,s)=>{var l=Ae(s)?t:s,c=Vse(r,n,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(u=>sf(sf({},u),{},{position:sf(sf({},u.position),{},{offset:u.position.offset-a/2})}))),c},Kse=V([Use,GI,nee,XI,Hse,Y4,Rse],Wse),qse=(e,t,r,n)=>Gn(e,"xAxis",t,n),Yse=(e,t,r,n)=>Gn(e,"yAxis",r,n),Gse=(e,t,r,n)=>Yn(e,"xAxis",t,n),Xse=(e,t,r,n)=>Yn(e,"yAxis",r,n),Qse=V([Kse,cd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Zse=(e,t)=>{var r=Sw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}},Jse=V([zse,cd],Zse),eoe=V([Ot,Wb,qse,Yse,Gse,Xse,Qse,Ee,Xu,Y4,Jse,cd,Lse],(e,t,r,n,a,i,s,l,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:v}=c;if(!(f==null||s==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:x}=f,g;if(x!=null&&x.length>0?g=x:g=m==null?void 0:m.slice(p,v+1),g!=null)return Ese({layout:l,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:p})}}),toe=e=>{var{chartData:t}=e,r=Ge(),n=vt();return y.useEffect(()=>n?()=>{}:(r(vS(t)),()=>{r(vS(void 0))}),[t,r,n]),null},ZS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},G4=wr({name:"brush",initialState:ZS,reducers:{setBrushSettings(e,t){return t.payload==null?ZS:t.payload}}}),{setBrushSettings:Cfe}=G4.actions,roe=G4.reducer;function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){X4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X4(e,t,r){return(t=noe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function noe(e){var t=aoe(e,"string");return typeof t=="symbol"?t:t+""}function aoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ioe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},soe=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return ioe({x:t,y:r},{x:n,y:a})};class Gp{static create(t){return new Gp(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}X4(Gp,"EPS",1e-4);var ooe=e=>{var t=Object.keys(e).reduce((r,n)=>of(of({},r),{},{[n]:Gp.create(e[n])}),{});return of(of({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(i=>{var[s,l]=i;return[s,t[s].apply(l,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function loe(e){return(e%180+180)%180}var coe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=loe(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},uoe={dots:[],areas:[],lines:[]},Q4=wr({name:"referenceElements",initialState:uoe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=jn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=jn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=jn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Pfe,removeDot:Ofe,addArea:Afe,removeArea:Tfe,addLine:doe,removeLine:foe}=Q4.actions,hoe=Q4.reducer,Z4=y.createContext(void 0),moe=e=>{var{children:t}=e,[r]=y.useState("".concat(Gc("recharts"),"-clip")),n=o1();if(n==null)return null;var{x:a,y:i,width:s,height:l}=n;return y.createElement(Z4.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:a,y:i,height:l,width:s}))),t)},poe=()=>y.useContext(Z4);function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){goe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function goe(e,t,r){return(t=yoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yoe(e){var t=voe(e,"string");return typeof t=="symbol"?t:t+""}function voe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},um.apply(null,arguments)}var xoe=(e,t)=>{var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!He(t.x1)||!He(t.y1)||!He(t.x2)||!He(t.y2))return null;r=y.createElement("line",um({},t,{className:"recharts-reference-line-line"}))}return r},boe=(e,t,r,n,a,i)=>{var{x:s,width:l}=i,c=a.y.apply(e,{position:r});if(Rr(c)||t==="discard"&&!a.y.isInRange(c))return null;var u=[{x:s+l,y:c},{x:s,y:c}];return n==="left"?u.reverse():u},woe=(e,t,r,n,a,i)=>{var{y:s,height:l}=i,c=a.x.apply(e,{position:r});if(Rr(c)||t==="discard"&&!a.x.isInRange(c))return null;var u=[{x:c,y:s+l},{x:c,y:s}];return n==="top"?u.reverse():u},joe=(e,t,r,n)=>{var a=e.map(i=>n.apply(i,{position:r}));return t==="discard"&&a.some(i=>!n.isInRange(i))?null:a},koe=(e,t,r,n,a,i)=>{var{x:s,y:l,segment:c,ifOverflow:u}=i,d=en(s),f=en(l);return f?boe(l,u,r,a,e,t):d?woe(s,u,r,n,e,t):c!=null&&c.length===2?joe(c,u,r,e):null};function Noe(e){var t=Ge();return y.useEffect(()=>(t(doe(e)),()=>{t(foe(e))})),null}function _oe(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:i}=e,s=vt(),l=poe(),c=se(_=>Jn(_,t)),u=se(_=>ea(_,r)),d=se(_=>Si(_,"xAxis",t,s)),f=se(_=>Si(_,"yAxis",r,s)),h=bl();if(!l||!h||c==null||u==null||d==null||f==null)return null;var m=ooe({x:d,y:f}),p=koe(m,h,e.position,c.orientation,u.orientation,e);if(!p)return null;var[{x:v,y:x},{x:g,y:w}]=p,b=i==="hidden"?"url(#".concat(l,")"):void 0,j=t2(t2({clipPath:b},qt(e)),{},{x1:v,y1:x,x2:g,y2:w}),k=soe({x1:v,y1:x,x2:g,y2:w});return y.createElement(ar,{zIndex:e.zIndex},y.createElement(Pt,{className:Se("recharts-reference-line",a)},xoe(n,j),y.createElement(E4,um({},k,{lowerWidth:k.width,upperWidth:k.width}),y.createElement(P4,{label:e.label}),e.children)))}var Soe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:st.line};function J4(e){var t=mt(e,Soe);return y.createElement(y.Fragment,null,y.createElement(Noe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),y.createElement(_oe,t))}J4.displayName="ReferenceLine";function e3(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function Eoe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return coe(n,r)}function Coe(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:l}=e;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function dm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Poe(e,t){return e3(e,t+1)}function Ooe(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:e3(n,u)};var v=c,x,g=()=>(x===void 0&&(x=r(p,v)),x),w=p.coordinate,b=c===0||dm(e,w,g,d,l);b||(c=0,d=s,u+=1),b&&(d=w+e*(g()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){Aoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aoe(e,t,r){return(t=Toe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Toe(e){var t=Moe(e,"string");return typeof t=="symbol"?t:t+""}function Moe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ioe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:l}=t,{end:c}=t,u=function(h){var m=i[h],p,v=()=>(p===void 0&&(p=r(m,h)),p);if(h===s-1){var x=e*(m.coordinate+e*v()/2-c);i[h]=m=Bt(Bt({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[h]=m=Bt(Bt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var g=dm(e,m.tickCoord,v,l,c);g&&(c=m.tickCoord-e*(v()/2+a),i[h]=Bt(Bt({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return i}function Doe(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,{start:c,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);if(s[l-1]=d=Bt(Bt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=dm(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),s[l-1]=Bt(Bt({},d),{},{isShow:!0}))}}for(var p=i?l-1:l,v=function(w){var b=s[w],j,k=()=>(j===void 0&&(j=r(b,w)),j);if(w===0){var _=e*(b.coordinate-e*k()/2-c);s[w]=b=Bt(Bt({},b),{},{tickCoord:_<0?b.coordinate-_*e:b.coordinate})}else s[w]=b=Bt(Bt({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=dm(e,b.tickCoord,k,c,u);N&&(c=b.tickCoord+e*(k()/2+a),s[w]=Bt(Bt({},b),{},{isShow:!0}))}},x=0;x<p;x++)v(x);return s}function u1(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(ue(c)||Vu.isSsr){var h;return(h=Poe(a,ue(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",v=d&&p==="width"?yc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(b,j)=>{var k=typeof u=="function"?u(b.value,j):b.value;return p==="width"?Eoe(yc(k,{fontSize:t,letterSpacing:r}),v,f):yc(k,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?hr(a[1].coordinate-a[0].coordinate):1,w=Coe(i,g,p);return c==="equidistantPreserveStart"?Ooe(g,w,x,a,s):(c==="preserveStart"||c==="preserveStartEnd"?m=Doe(g,w,x,a,s,c==="preserveStartEnd"):m=Ioe(g,w,x,a,s),m.filter(b=>b.isShow))}var Roe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,u=s+c+l+(r?n:0);return Math.round(u)}return 0},Loe=["axisLine","width","height","className","hide","ticks","axisType"];function $oe(e,t){if(e==null)return{};var r,n,a=zoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(null,arguments)}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){Foe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Foe(e,t,r){return(t=Boe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Boe(e){var t=Uoe(e,"string");return typeof t=="symbol"?t:t+""}function Uoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ba={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:st.axis};function Hoe(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=ut(ut(ut({},c),Dr(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!s||i==="bottom"&&s);u=ut(ut({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);u=ut(ut({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return y.createElement("line",As({},u,{className:Se("recharts-cartesian-axis-line",Jo(l,"className"))}))}function Voe(e,t,r,n,a,i,s,l,c){var u,d,f,h,m,p,v=l?-1:1,x=e.tickSize||s,g=ue(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-v*x,p=f-v*c,m=g;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-v*x,m=u-v*c,p=g;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+v*x,m=u+v*c,p=g;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+v*x,p=f+v*c,m=g;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function Woe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Koe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function qoe(e){var{option:t,tickProps:r,value:n}=e,a,i=Se(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))a=y.cloneElement(t,ut(ut({},r),{},{className:i}));else if(typeof t=="function")a=t(ut(ut({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Se(s,t==null?void 0:t.className)),a=y.createElement(Yw,As({},r,{className:s}),n)}return a}var Yoe=y.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:s,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:v,tickSize:x,tickMargin:g,fontSize:w,letterSpacing:b,getTicksConfig:j,events:k,axisType:_}=e,N=u1(ut(ut({},j),{},{ticks:r}),w,b),S=Woe(d,f),E=Koe(d,f),T=Dr(j),O=vl(n),P={};typeof a=="object"&&(P=a);var L=ut(ut({},T),{},{fill:"none"},P),C=N.map(R=>ut({entry:R},Voe(R,h,m,p,v,d,x,f,g))),D=C.map(R=>{var{entry:A,line:M}=R;return y.createElement(Pt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},a&&y.createElement("line",As({},L,M,{className:Se("recharts-cartesian-axis-tick-line",Jo(a,"className"))})))}),I=C.map((R,A)=>{var{entry:M,tick:z}=R,H=ut(ut(ut(ut({textAnchor:S,verticalAnchor:E},T),{},{stroke:"none",fill:i},O),z),{},{index:A,payload:M,visibleTicksCount:N.length,tickFormatter:s,padding:c},u);return y.createElement(Pt,As({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Lu(k,M,A)),n&&y.createElement(qoe,{option:n,tickProps:H,value:"".concat(typeof s=="function"?s(M.value,A):M.value).concat(l||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},I.length>0&&y.createElement(ar,{zIndex:st.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},I)),D.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},D))}),Goe=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:l,axisType:c}=e,u=$oe(e,Loe),[d,f]=y.useState(""),[h,m]=y.useState(""),p=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return Roe({ticks:p.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=y.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=g;var w=g[0];if(w){var b=window.getComputedStyle(w),j=b.fontSize,k=b.letterSpacing;(j!==d||k!==h)&&(f(j),m(k))}}},[d,h]);return s||n!=null&&n<=0||a!=null&&a<=0?null:y.createElement(ar,{zIndex:e.zIndex},y.createElement(Pt,{className:Se("recharts-cartesian-axis",i)},y.createElement(Hoe,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Dr(e)}),y.createElement(Yoe,{ref:v,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(E4,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(P4,{label:e.label,labelRef:e.labelRef}),e.children)))}),d1=y.forwardRef((e,t)=>{var r=mt(e,ba);return y.createElement(Goe,As({},r,{ref:t}))});d1.displayName="CartesianAxis";var Xoe=["x1","y1","x2","y2","key"],Qoe=["offset"],Zoe=["xAxisId","yAxisId"],Joe=["xAxisId","yAxisId"];function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){ele(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ele(e,t,r){return(t=tle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tle(e){var t=rle(e,"string");return typeof t=="symbol"?t:t+""}function rle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(null,arguments)}function fm(e,t){if(e==null)return{};var r,n,a=nle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ale=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:l}=e;return y.createElement("rect",{x:n,y:a,ry:l,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function t3(e){var{option:t,lineItemProps:r}=e,n;if(y.isValidElement(t))n=y.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:s,x2:l,y2:c,key:u}=r,d=fm(r,Xoe),f=(a=Dr(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=fm(f,Qoe);n=y.createElement("line",Ji({},m,{x1:i,y1:s,x2:l,y2:c,fill:"none",key:u}))}return n}function ile(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,l=fm(e,Zoe),c=a.map((u,d)=>{var f=Vt(Vt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return y.createElement(t3,{key:"line-".concat(d),option:n,lineItemProps:f})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function sle(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,l=fm(e,Joe),c=a.map((u,d)=>{var f=Vt(Vt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return y.createElement(t3,{option:n,lineItemProps:f,key:"line-".concat(d)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function ole(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+s-f:u[h+1]-f;if(p<=0)return null;var v=h%t.length;return y.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function lle(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+s-f:u[h+1]-f;if(p<=0)return null;var v=h%r.length;return y.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:l,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var cle=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return NM(u1(Vt(Vt(Vt({},ba),r),{},{ticks:_M(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},ule=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return NM(u1(Vt(Vt(Vt({},ba),r),{},{ticks:_M(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},dle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:st.grid};function ac(e){var t=qb(),r=Yb(),n=RM(),a=Vt(Vt({},mt(e,dle)),{},{x:ue(e.x)?e.x:n.left,y:ue(e.y)?e.y:n.top,width:ue(e.width)?e.width:n.width,height:ue(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=vt(),v=se(E=>oS(E,"xAxis",i,p)),x=se(E=>oS(E,"yAxis",s,p));if(!Kn(u)||!Kn(d)||!ue(l)||!ue(c))return null;var g=a.verticalCoordinatesGenerator||cle,w=a.horizontalCoordinatesGenerator||ule,{horizontalPoints:b,verticalPoints:j}=a;if((!b||!b.length)&&typeof w=="function"){var k=h&&h.length,_=w({yAxis:x?Vt(Vt({},x),{},{ticks:k?h:x.ticks}):void 0,width:t??u,height:r??d,offset:n},k?!0:f);$h(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(b=_)}if((!j||!j.length)&&typeof g=="function"){var N=m&&m.length,S=g({xAxis:v?Vt(Vt({},v),{},{ticks:N?m:v.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);$h(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return y.createElement(ar,{zIndex:a.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(ale,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),y.createElement(ole,Ji({},a,{horizontalPoints:b})),y.createElement(lle,Ji({},a,{verticalPoints:j})),y.createElement(ile,Ji({},a,{offset:n,horizontalPoints:b,xAxis:v,yAxis:x})),y.createElement(sle,Ji({},a,{offset:n,verticalPoints:j,xAxis:v,yAxis:x}))))}ac.displayName="CartesianGrid";var r3=(e,t,r,n)=>Gn(e,"xAxis",t,n),n3=(e,t,r,n)=>Yn(e,"xAxis",t,n),a3=(e,t,r,n)=>Gn(e,"yAxis",r,n),i3=(e,t,r,n)=>Yn(e,"yAxis",r,n),fle=V([Ee,r3,a3,n3,i3],(e,t,r,n,a)=>Ii(e,"xAxis")?rl(t,n,!1):rl(r,a,!1)),hle=(e,t,r,n,a)=>a;function mle(e){return e.type==="line"}var ple=V([Zu,hle],(e,t)=>e.filter(mle).find(r=>r.id===t)),gle=V([Ee,r3,a3,n3,i3,ple,fle,Xu],(e,t,r,n,a,i,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return Lle({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:m})}});function yle(e){var t=vl(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,s=Number(a),l=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(l)||l<0)&&(l=n),{r:s,strokeWidth:l}}return{r,strokeWidth:n}}var vle=["id"],xle=["type","layout","connectNulls","needClip","shape"],ble=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},su.apply(null,arguments)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){wle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wle(e,t,r){return(t=jle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jle(e){var t=kle(e,"string");return typeof t=="symbol"?t:t+""}function kle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f1(e,t){if(e==null)return{};var r,n,a=Nle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _le=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:xl(r,t),payload:e}]},Sle=y.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:l,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:xl(s,t),hide:l,type:u,color:n,unit:c}};return y.createElement(n1,{tooltipEntrySettings:d})}),s3=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Ele(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Cle=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return s3(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){l=[...r.slice(0,c),i-u];break}var d=l.length%2===0?[0,s]:[s];return[...Ele(r,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function Ple(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n,{id:l}=n,c=f1(n,vle),u=Dr(c);return y.createElement(Qae,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:s,clipPathId:t})}function Ole(e){var{showLabels:t,children:r,points:n}=e,a=y.useMemo(()=>n==null?void 0:n.map(i=>{var s,l,c={x:(s=i.x)!==null&&s!==void 0?s:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return $n($n({},c),{},{value:i.value,payload:i.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return y.createElement(Xw,{value:t?a:void 0},r)}function s2(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:l,connectNulls:c,needClip:u,shape:d}=i,f=f1(i,xle),h=$n($n({},qt(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:l,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return y.createElement(y.Fragment,null,(n==null?void 0:n.length)>1&&y.createElement(sm,su({shapeType:"curve",option:d},h,{pathRef:r})),y.createElement(Ple,{points:n,clipPathId:t,props:i}))}function Ale(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Tle(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:v,onAnimationStart:x}=r,g=a.current,w=Ku(s,"recharts-line-"),b=y.useRef(w),[j,k]=y.useState(!1),_=!j,N=y.useCallback(()=>{typeof v=="function"&&v(),k(!1)},[v]),S=y.useCallback(()=>{typeof x=="function"&&x(),k(!0)},[x]),E=Ale(n.current),T=y.useRef(0);b.current!==w&&(T.current=i.current,b.current=w);var O=T.current;return y.createElement(Ole,{points:s,showLabels:_},r.children,y.createElement(Wu,{animationId:w,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:S,key:w},P=>{var L=$e(O,E+O,P),C=Math.min(L,E),D;if(c)if(l){var I="".concat(l).split(/[,\s]+/gim).map(M=>parseFloat(M));D=Cle(C,E,I)}else D=s3(E,C);else D=l==null?void 0:String(l);if(P>0&&E>0&&(a.current=s,i.current=Math.max(i.current,C)),g){var R=g.length/s.length,A=P===1?s:s.map((M,z)=>{var H=Math.floor(z*R);if(g[H]){var F=g[H];return $n($n({},M),{},{x:$e(F.x,M.x,P),y:$e(F.y,M.y,P)})}return h?$n($n({},M),{},{x:$e(m*2,M.x,P),y:$e(p/2,M.y,P)}):$n($n({},M),{},{x:M.x,y:M.y})});return a.current=A,y.createElement(s2,{props:r,points:A,clipPathId:t,pathRef:n,strokeDasharray:D})}return y.createElement(s2,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:D})}),y.createElement(Qw,{label:r.label}))}function Mle(e){var{clipPathId:t,props:r}=e,n=y.useRef(null),a=y.useRef(0),i=y.useRef(null);return y.createElement(Tle,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Ile=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Je(e.payload,t)}};class Dle extends y.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:s,top:l,left:c,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=Se("recharts-line",a),v=f,{r:x,strokeWidth:g}=yle(r),w=F4(r),b=x*2+g,j=h?"url(#clipPath-".concat(w?"":"dots-").concat(v,")"):void 0;return y.createElement(ar,{zIndex:m},y.createElement(Pt,{className:p},h&&y.createElement("defs",null,y.createElement(c1,{clipPathId:v,xAxisId:i,yAxisId:s}),!w&&y.createElement("clipPath",{id:"clipPath-dots-".concat(v)},y.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),y.createElement(l1,{xAxisId:i,yAxisId:s,data:n,dataPointFormatter:Ile,errorBarOffset:0},y.createElement(Mle,{props:this.props,clipPathId:v}))),y.createElement(yie,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:j}))}}var o3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:st.line,type:"linear"};function Rle(e){var t=mt(e,o3),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:v}=t,x=f1(t,ble),{needClip:g}=Yp(m,p),w=o1(),b=Uu(),j=vt(),k=se(T=>gle(T,m,p,j,v));if(b!=="horizontal"&&b!=="vertical"||k==null||w==null)return null;var{height:_,width:N,x:S,y:E}=w;return y.createElement(Dle,su({},x,{id:v,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:k,layout:b,height:_,width:N,left:S,top:E,needClip:g}))}function Lle(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=Je(u,s);if(t==="horizontal"){var h=Lh({axis:r,ticks:a,bandSize:l,entry:u,index:d}),m=Ae(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var p=Ae(f)?null:r.scale(f),v=Lh({axis:n,ticks:i,bandSize:l,entry:u,index:d});return p==null||v==null?null:{x:p,y:v,value:f,payload:u}}).filter(Boolean)}function $le(e){var t=mt(e,o3),r=vt();return y.createElement(i1,{id:t.id,type:"line"},n=>y.createElement(y.Fragment,null,y.createElement(a1,{legendPayload:_le(t)}),y.createElement(Sle,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),y.createElement(s1,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),y.createElement(Rle,su({},t,{id:n}))))}var Rf=y.memo($le,ld);Rf.displayName="Line";var zle=["option","isActive"];function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(null,arguments)}function Fle(e,t){if(e==null)return{};var r,n,a=Ble(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ble(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ule(e){var{option:t,isActive:r}=e,n=Fle(e,zle);return typeof t=="string"?y.createElement(sm,vc({option:y.createElement(np,vc({type:t},n)),isActive:r,shapeType:"symbols"},n)):y.createElement(sm,vc({option:t,isActive:r,shapeType:"symbols"},n))}var Hle=(e,t,r,n,a,i,s)=>Gn(e,"xAxis",t,s),Vle=(e,t,r,n,a,i,s)=>Yn(e,"xAxis",t,s),Wle=(e,t,r,n,a,i,s)=>Gn(e,"yAxis",r,s),Kle=(e,t,r,n,a,i,s)=>Yn(e,"yAxis",r,s),qle=(e,t,r,n)=>ste(e,"zAxis",n,!1),Yle=(e,t,r,n,a)=>a,Gle=(e,t,r,n,a,i)=>i,Xle=(e,t,r,n,a,i,s)=>Xu(e,t,r,s),Qle=V([Zu,Yle],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),Zle=V([Xle,Hle,Vle,Wle,Kle,qle,Qle,Gle],(e,t,r,n,a,i,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(s!=null){var f;if((s==null?void 0:s.data)!=null&&s.data.length>0?f=s.data:f=c==null?void 0:c.slice(u,d+1),!(f==null||t==null||n==null||r==null||a==null||(r==null?void 0:r.length)===0||(a==null?void 0:a.length)===0))return fce({displayedData:f,xAxis:t,yAxis:n,zAxis:i,scatterSettings:s,xAxisTicks:r,yAxisTicks:a,cells:l})}}),Jle=["onMouseEnter","onClick","onMouseLeave"],ece=["id"],tce=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Mv(e,t){if(e==null)return{};var r,n,a=rce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ts.apply(null,arguments)}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){nce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nce(e,t,r){return(t=ace(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ace(e){var t=ice(e,"string");return typeof t=="symbol"?t:t+""}function ice(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sce=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:xl(r,t),payload:e}]},oce=y.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:l,tooltipType:c}=e,u={dataDefinedOnItem:r==null?void 0:r.map(d=>d.tooltipPayload),positions:r==null?void 0:r.map(d=>d.tooltipPosition),settings:{stroke:n,strokeWidth:a,fill:i,nameKey:void 0,dataKey:t,name:xl(s,t),hide:l,type:c,color:i,unit:""}};return y.createElement(n1,{tooltipEntrySettings:u})});function lce(e){var{points:t,props:r}=e,{line:n,lineType:a,lineJointType:i}=r;if(!n)return null;var s=Dr(r),l=vl(n),c,u;if(a==="joint")c=t.map(x=>{var g,w;return{x:(g=x.cx)!==null&&g!==void 0?g:null,y:(w=x.cy)!==null&&w!==void 0?w:null}});else if(a==="fitting"){var{xmin:d,xmax:f,a:h,b:m}=hq(t),p=x=>h*x+m;c=[{x:d,y:p(d)},{x:f,y:p(f)}]}var v=mr(mr(mr({},s),{},{fill:"none",stroke:s&&s.fill},l),{},{points:c});return y.isValidElement(n)?u=y.cloneElement(n,v):typeof n=="function"?u=n(v):u=y.createElement(Qb,Ts({},v,{type:i})),y.createElement(Pt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function cce(e){var{showLabels:t,points:r,children:n}=e,a=bl(),i=y.useMemo(()=>r==null?void 0:r.map(s=>{var l,c,u={x:(l=s.x)!==null&&l!==void 0?l:0,y:(c=s.y)!==null&&c!==void 0?c:0,width:s.width,height:s.height,lowerWidth:s.width,upperWidth:s.width};return mr(mr({},u),{},{value:void 0,payload:s.payload,viewBox:u,parentViewBox:a,fill:void 0})}),[a,r]);return y.createElement(Xw,{value:t?i:void 0},n)}function uce(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:a,dataKey:i}=r,s=se(Ei),{onMouseEnter:l,onClick:c,onMouseLeave:u}=r,d=Mv(r,Jle),f=e1(l,r.dataKey),h=t1(u),m=r1(c,r.dataKey);if(!Sq(t))return null;var{id:p}=r,v=Mv(r,ece),x=Dr(v);return y.createElement(y.Fragment,null,y.createElement(lce,{points:t,props:v}),t.map((g,w)=>{var b=a!=null&&a!==!1,j=b&&s===String(w),k=b&&j?a:n,_=mr(mr(mr({},x),g),{},{[EM]:w,[CM]:String(i)});return y.createElement(ar,{key:"symbol-".concat(g==null?void 0:g.cx,"-").concat(g==null?void 0:g.cy,"-").concat(g==null?void 0:g.size,"-").concat(w),zIndex:j?st.activeDot:void 0},y.createElement(Pt,Ts({className:"recharts-scatter-symbol"},Lu(d,g,w),{onMouseEnter:f(g,w),onMouseLeave:h(g,w),onClick:m(g,w)}),y.createElement(Ule,Ts({option:k,isActive:j},_))))}))}function dce(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:l}=r,c=t.current,u=Ku(r,"recharts-scatter-"),[d,f]=y.useState(!1),h=y.useCallback(()=>{f(!1)},[]),m=y.useCallback(()=>{f(!0)},[]),p=!d;return y.createElement(cce,{showLabels:p,points:n},r.children,y.createElement(Wu,{animationId:u,begin:i,duration:s,isActive:a,easing:l,onAnimationEnd:h,onAnimationStart:m,key:u},v=>{var x=v===1?n:n==null?void 0:n.map((g,w)=>{var b=c&&c[w];return b?mr(mr({},g),{},{cx:g.cx==null?void 0:$e(b.cx,g.cx,v),cy:g.cy==null?void 0:$e(b.cy,g.cy,v),size:$e(b.size,g.size,v)}):mr(mr({},g),{},{size:$e(0,g.size,v)})});return v>0&&(t.current=x),y.createElement(Pt,null,y.createElement(uce,{points:x,allOtherScatterProps:r,showLabels:p}))}),y.createElement(Qw,{label:r.label}))}function fce(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:a,scatterSettings:i,xAxisTicks:s,yAxisTicks:l,cells:c}=e,u=Ae(r.dataKey)?i.dataKey:r.dataKey,d=Ae(n.dataKey)?i.dataKey:n.dataKey,f=a&&a.dataKey,h=a?a.range:oD.range,m=h&&h[0],p=r.scale.bandwidth?r.scale.bandwidth():0,v=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((x,g)=>{var w=Je(x,u),b=Je(x,d),j=!Ae(f)&&Je(x,f)||"-",k=[{name:Ae(r.dataKey)?i.name:r.name||String(r.dataKey),unit:r.unit||"",value:w,payload:x,dataKey:u,type:i.tooltipType},{name:Ae(n.dataKey)?i.name:n.name||String(n.dataKey),unit:n.unit||"",value:b,payload:x,dataKey:d,type:i.tooltipType}];j!=="-"&&k.push({name:a.name||a.dataKey,unit:a.unit||"",value:j,payload:x,dataKey:f,type:i.tooltipType});var _=Lh({axis:r,ticks:s,bandSize:p,entry:x,index:g,dataKey:u}),N=Lh({axis:n,ticks:l,bandSize:v,entry:x,index:g,dataKey:d}),S=j!=="-"?a.scale(j):m,E=Math.sqrt(Math.max(S,0)/Math.PI);return mr(mr({},x),{},{cx:_,cy:N,x:_==null?void 0:_-E,y:N==null?void 0:N-E,width:2*E,height:2*E,size:S,node:{x:w,y:b,z:j},tooltipPayload:k,tooltipPosition:{x:_,y:N},payload:x},c&&c[g]&&c[g].props)})}var hce=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Je(e,t)});function mce(e){var{hide:t,points:r,className:n,needClip:a,xAxisId:i,yAxisId:s,id:l}=e,c=y.useRef(null);if(t)return null;var u=Se("recharts-scatter",n),d=l;return y.createElement(ar,{zIndex:e.zIndex},y.createElement(Pt,{className:u,clipPath:a?"url(#clipPath-".concat(d,")"):void 0,id:l},a&&y.createElement("defs",null,y.createElement(c1,{clipPathId:d,xAxisId:i,yAxisId:s})),y.createElement(l1,{xAxisId:i,yAxisId:s,data:r,dataPointFormatter:hce,errorBarOffset:0},y.createElement(Pt,{key:"recharts-scatter-symbols"},y.createElement(dce,{props:e,previousPointsRef:c})))))}var l3={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:st.scatter};function pce(e){var t=mt(e,l3),{animationBegin:r,animationDuration:n,animationEasing:a,hide:i,isAnimationActive:s,legendType:l,lineJointType:c,lineType:u,shape:d,xAxisId:f,yAxisId:h,zAxisId:m}=t,p=Mv(t,tce),{needClip:v}=Yp(f,h),x=y.useMemo(()=>z4(e.children,qw),[e.children]),g=vt(),w=se(b=>Zle(b,f,h,m,e.id,x,g));return v==null||w==null?null:y.createElement(y.Fragment,null,y.createElement(oce,{dataKey:e.dataKey,points:w,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),y.createElement(mce,Ts({},p,{xAxisId:f,yAxisId:h,zAxisId:m,lineType:u,lineJointType:c,legendType:l,shape:d,hide:i,isAnimationActive:s,animationBegin:r,animationDuration:n,animationEasing:a,points:w,needClip:v})))}function gce(e){var t=mt(e,l3),r=vt();return y.createElement(i1,{id:t.id,type:"scatter"},n=>y.createElement(y.Fragment,null,y.createElement(a1,{legendPayload:sce(t)}),y.createElement(s1,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),y.createElement(pce,Ts({},t,{id:n}))))}var Iv=y.memo(gce,ld);Iv.displayName="Scatter";var yce=["domain","range"],vce=["domain","range"];function l2(e,t){if(e==null)return{};var r,n,a=xce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function c2(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function c3(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=l2(e,yce),{domain:i,range:s}=t,l=l2(t,vce);return!c2(r,i)||!c2(n,s)?!1:ld(a,l)}var bce=["dangerouslySetInnerHTML","ticks"],wce=["id"];function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(null,arguments)}function u2(e,t){if(e==null)return{};var r,n,a=jce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kce(e){var t=Ge(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(rie(e)):r.current!==e&&t(nie({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(aie(r.current)),r.current=null)},[t]),null}var Nce=e=>{var{xAxisId:t,className:r}=e,n=se(Wb),a=vt(),i="xAxis",s=se(x=>Si(x,i,t,a)),l=se(x=>BD(x,i,t,a)),c=se(x=>LD(x,t)),u=se(x=>ete(x,t)),d=se(x=>iD(x,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=u2(e,bce),{id:p}=d,v=u2(d,wce);return y.createElement(d1,Dv({},m,v,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Se("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l,axisType:i}))},_ce={allowDataOverflow:kt.allowDataOverflow,allowDecimals:kt.allowDecimals,allowDuplicatedCategory:kt.allowDuplicatedCategory,angle:kt.angle,axisLine:ba.axisLine,height:kt.height,hide:!1,includeHidden:kt.includeHidden,interval:kt.interval,minTickGap:kt.minTickGap,mirror:kt.mirror,orientation:kt.orientation,padding:kt.padding,reversed:kt.reversed,scale:kt.scale,tick:kt.tick,tickCount:kt.tickCount,tickLine:ba.tickLine,tickSize:ba.tickSize,type:kt.type,xAxisId:0},Sce=e=>{var t=mt(e,_ce);return y.createElement(y.Fragment,null,y.createElement(kce,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(Nce,t))},ic=y.memo(Sce,c3);ic.displayName="XAxis";var Ece=["dangerouslySetInnerHTML","ticks"],Cce=["id"];function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rv.apply(null,arguments)}function d2(e,t){if(e==null)return{};var r,n,a=Pce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Oce(e){var t=Ge(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(iie(e)):r.current!==e&&t(sie({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(oie(r.current)),r.current=null)},[t]),null}var Ace=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=y.useRef(null),s=y.useRef(null),l=se(Wb),c=vt(),u=Ge(),d="yAxis",f=se(k=>Si(k,d,t,c)),h=se(k=>$D(k,t)),m=se(k=>rte(k,t)),p=se(k=>BD(k,d,t,c)),v=se(k=>sD(k,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!h||Gw(a)||y.isValidElement(a)||v==null)){var k=i.current;if(k){var _=k.getCalculatedWidth();Math.round(h.width)!==Math.round(_)&&u(lie({id:t,width:_}))}}},[p,h,u,a,t,n,v]),h==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:x,ticks:g}=e,w=d2(e,Ece),{id:b}=v,j=d2(v,Cce);return y.createElement(d1,Rv({},w,j,{ref:i,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Se("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:p,axisType:d}))},Tce={allowDataOverflow:Nt.allowDataOverflow,allowDecimals:Nt.allowDecimals,allowDuplicatedCategory:Nt.allowDuplicatedCategory,angle:Nt.angle,axisLine:ba.axisLine,hide:!1,includeHidden:Nt.includeHidden,interval:Nt.interval,minTickGap:Nt.minTickGap,mirror:Nt.mirror,orientation:Nt.orientation,padding:Nt.padding,reversed:Nt.reversed,scale:Nt.scale,tick:Nt.tick,tickCount:Nt.tickCount,tickLine:ba.tickLine,tickSize:ba.tickSize,type:Nt.type,width:Nt.width,yAxisId:0},Mce=e=>{var t=mt(e,Tce);return y.createElement(y.Fragment,null,y.createElement(Oce,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(Ace,t))},sc=y.memo(Mce,c3);sc.displayName="YAxis";var Ice=(e,t)=>t,h1=V([Ice,Ee,nD,wt,n4,Ba,vre,Ot],_re),m1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},u3=tn("mouseClick"),d3=Fu();d3.startListening({actionCreator:u3,effect:(e,t)=>{var r=e.payload,n=h1(t.getState(),m1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(yte({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Lv=tn("mouseMove"),f3=Fu(),lf=null;f3.startListening({actionCreator:Lv,effect:(e,t)=>{var r=e.payload;lf!==null&&cancelAnimationFrame(lf);var n=m1(r);lf=requestAnimationFrame(()=>{var a=t.getState(),i=Rw(a,a.tooltip.settings.shared);if(i==="axis"){var s=h1(a,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(GD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(YD())}lf=null})}});var f2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},h3=wr({name:"rootProps",initialState:f2,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:f2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Dce=h3.reducer,{updateOptions:Rce}=h3.actions,m3=wr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Mfe}=m3.actions,Lce=m3.reducer,p3=tn("keyDown"),g3=tn("focus"),p1=Fu();p1.startListening({actionCreator:p3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Lw(a,Sl(r),ed(r),id(r)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var c=Ba(r);if(i==="Enter"){var u=rm(r,"axis","hover",String(a.index));t.dispatch(Sv({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var d=ote(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=l+h*f;if(!(c==null||m>=c.length||m<0)){var p=rm(r,"axis","hover",String(m));t.dispatch(Sv({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}}});p1.startListening({actionCreator:g3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=rm(r,"axis","hover",String(i));t.dispatch(Sv({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var Ur=tn("externalEvent"),y3=Fu(),c0=new Map;y3.startListening({actionCreator:Ur,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=c0.get(a);i!==void 0&&cancelAnimationFrame(i);var s=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:rre(l),activeDataKey:o4(l),activeIndex:Ei(l),activeLabel:s4(l),activeTooltipIndex:Ei(l),isTooltipActive:nre(l)};r(c,n)}finally{c0.delete(a)}});c0.set(a,s)}}});var $ce=V([_l],e=>e.tooltipItemPayloads),zce=V([$ce,nd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),v3=tn("touchMove"),x3=Fu();x3.startListening({actionCreator:v3,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Rw(n,n.tooltip.settings.shared);if(a==="axis"){var i=h1(n,m1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(GD({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,l=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(EM),d=(s=c.getAttribute(CM))!==null&&s!==void 0?s:void 0,f=zce(t.getState(),u,d);t.dispatch(qD({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var Fce=GT({brush:roe,cartesianAxis:cie,chartData:tne,errorBars:Pie,graphicalItems:Bae,layout:nG,legend:uX,options:Xre,polarAxis:mae,polarOptions:Lce,referenceElements:hoe,rootProps:Dce,tooltip:vte,zIndex:zre}),Bce=function(t){return CY({reducer:Fce,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([d3.middleware,f3.middleware,p1.middleware,y3.middleware,x3.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(uM({type:"raf"}))},devTools:Vu.devToolsEnabled})};function Uce(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=vt(),i=y.useRef(null);if(a)return r;i.current==null&&(i.current=Bce(t));var s=Ib;return y.createElement(nse,{context:s,store:i.current},r)}function Hce(e){var{layout:t,margin:r}=e,n=Ge(),a=vt();return y.useEffect(()=>{a||(n(eG(t)),n(JY(r)))},[n,a,t,r]),null}var Vce=y.memo(Hce,ld);function Wce(e){var t=Ge();return y.useEffect(()=>{t(Rce(e))},[t,e]),null}function h2(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=U4("".concat(n).concat(t)),i=Ge();return y.useLayoutEffect(()=>(i(Lre({zIndex:t,elementId:a,isPanorama:r})),()=>{i($re({zIndex:t,isPanorama:r}))}),[i,t,a,r]),y.createElement("g",{tabIndex:-1,id:a})}function m2(e){var{children:t,isPanorama:r}=e,n=se(Ere);if(!n||n.length===0)return t;var a=n.filter(s=>s<0),i=n.filter(s=>s>0);return y.createElement(y.Fragment,null,a.map(s=>y.createElement(h2,{key:s,zIndex:s,isPanorama:r})),t,i.map(s=>y.createElement(h2,{key:s,zIndex:s,isPanorama:r})))}var Kce=["children"];function qce(e,t){if(e==null)return{};var r,n,a=Yce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(null,arguments)}var Gce={width:"100%",height:"100%",display:"block"},Xce=y.forwardRef((e,t)=>{var r=qb(),n=Yb(),a=WM();if(!Kn(r)||!Kn(n))return null;var{children:i,otherAttributes:s,title:l,desc:c}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=a?0:void 0,typeof s.role=="string"?d=s.role:d=a?"application":void 0),y.createElement(xb,hm({},s,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:Gce,ref:t}),i)}),Qce=e=>{var{children:t}=e,r=se(yp);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return y.createElement(xb,{width:n,height:a,x:s,y:i},t)},p2=y.forwardRef((e,t)=>{var{children:r}=e,n=qce(e,Kce),a=vt();return a?y.createElement(Qce,null,y.createElement(m2,{isPanorama:!0},r)):y.createElement(Xce,hm({ref:t},n),y.createElement(m2,{isPanorama:!1},r))});function Zce(){var e=Ge(),[t,r]=y.useState(null),n=se(wG);return y.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;He(i)&&i!==n&&e(rG(i))}},[t,e,n]),r}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){eue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eue(e,t,r){return(t=tue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tue(e){var t=rue(e,"string");return typeof t=="symbol"?t:t+""}function rue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ms.apply(null,arguments)}var nue=()=>(une(),null);function mm(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var aue=y.forwardRef((e,t)=>{var r,n,a=y.useRef(null),[i,s]=y.useState({containerWidth:mm((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:mm((n=e.style)===null||n===void 0?void 0:n.height)}),l=y.useCallback((u,d)=>{s(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=y.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=p=>{var{width:v,height:x}=p[0].contentRect;l(v,x)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,l]);return y.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),y.createElement(y.Fragment,null,y.createElement(vp,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",Ms({ref:c},e)))}),iue=y.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=y.useState({containerWidth:mm(r),containerHeight:mm(n)}),s=y.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=y.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[t,s]);return y.createElement(y.Fragment,null,y.createElement(vp,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",Ms({ref:l},e)))}),sue=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return y.createElement(y.Fragment,null,y.createElement(vp,{width:r,height:n}),y.createElement("div",Ms({ref:t},e)))}),oue=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return Pa(r)||Pa(n)?y.createElement(iue,Ms({},e,{ref:t})):y.createElement(sue,Ms({},e,{ref:t}))});function lue(e){return e===!0?aue:oue}var cue=y.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:v,style:x,width:g,responsive:w,dispatchTouchEvents:b=!0}=e,j=y.useRef(null),k=Ge(),[_,N]=y.useState(null),[S,E]=y.useState(null),T=Zce(),O=Kb(),P=(O==null?void 0:O.width)>0?O.width:g,L=(O==null?void 0:O.height)>0?O.height:a,C=y.useCallback(B=>{T(B),typeof t=="function"&&t(B),N(B),E(B),B!=null&&(j.current=B)},[T,t,N,E]),D=y.useCallback(B=>{k(u3(B)),k(Ur({handler:i,reactEvent:B}))},[k,i]),I=y.useCallback(B=>{k(Lv(B)),k(Ur({handler:u,reactEvent:B}))},[k,u]),R=y.useCallback(B=>{k(YD()),k(Ur({handler:d,reactEvent:B}))},[k,d]),A=y.useCallback(B=>{k(Lv(B)),k(Ur({handler:f,reactEvent:B}))},[k,f]),M=y.useCallback(()=>{k(g3())},[k]),z=y.useCallback(B=>{k(p3(B.key))},[k]),H=y.useCallback(B=>{k(Ur({handler:s,reactEvent:B}))},[k,s]),F=y.useCallback(B=>{k(Ur({handler:l,reactEvent:B}))},[k,l]),Y=y.useCallback(B=>{k(Ur({handler:c,reactEvent:B}))},[k,c]),q=y.useCallback(B=>{k(Ur({handler:h,reactEvent:B}))},[k,h]),Q=y.useCallback(B=>{k(Ur({handler:v,reactEvent:B}))},[k,v]),le=y.useCallback(B=>{b&&k(v3(B)),k(Ur({handler:p,reactEvent:B}))},[k,b,p]),Z=y.useCallback(B=>{k(Ur({handler:m,reactEvent:B}))},[k,m]),X=lue(w);return y.createElement(m4.Provider,{value:_},y.createElement(JA.Provider,{value:S},y.createElement(X,{width:P??(x==null?void 0:x.width),height:L??(x==null?void 0:x.height),className:Se("recharts-wrapper",n),style:Jce({position:"relative",cursor:"default",width:P,height:L},x),onClick:D,onContextMenu:H,onDoubleClick:F,onFocus:M,onKeyDown:z,onMouseDown:Y,onMouseEnter:I,onMouseLeave:R,onMouseMove:A,onMouseUp:q,onTouchEnd:Z,onTouchMove:le,onTouchStart:Q,ref:C},y.createElement(nue,null),r)))}),uue=["width","height","responsive","children","className","style","compact","title","desc"];function due(e,t){if(e==null)return{};var r,n,a=fue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hue=y.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:s,style:l,compact:c,title:u,desc:d}=e,f=due(e,uue),h=Dr(f);return c?y.createElement(y.Fragment,null,y.createElement(vp,{width:r,height:n}),y.createElement(p2,{otherAttributes:h,title:u,desc:d},i)):y.createElement(cue,{className:s,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(p2,{otherAttributes:h,title:u,desc:d,ref:t},y.createElement(moe,null,i)))});function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(null,arguments)}var mue={top:5,right:5,bottom:5,left:5},pue={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:mue,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},g1=y.forwardRef(function(t,r){var n,a=mt(t.categoricalChartProps,pue),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return y.createElement(Uce,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},y.createElement(toe,{chartData:u.data}),y.createElement(Vce,{layout:a.layout,margin:a.margin}),y.createElement(Wce,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),y.createElement(hue,$v({},a,{ref:r})))}),gue=["axis"],yue=y.forwardRef((e,t)=>y.createElement(g1,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gue,tooltipPayloadSearcher:Kw,categoricalChartProps:e,ref:t})),vue=["axis","item"],xue=y.forwardRef((e,t)=>y.createElement(g1,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vue,tooltipPayloadSearcher:Kw,categoricalChartProps:e,ref:t})),bue=["item"],y2=y.forwardRef((e,t)=>y.createElement(g1,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:bue,tooltipPayloadSearcher:Kw,categoricalChartProps:e,ref:t}));const Lf={deployModel:async e=>(await ct.post(`/deployment/deploy/${e}`)).data,getActive:async()=>{try{return(await ct.get("/deployment/active")).data}catch(e){if(e.response&&e.response.status===404)return null;throw e}},deactivate:async()=>{await ct.post("/deployment/deactivate")},predict:async e=>(await ct.post("/deployment/predict",{data:e})).data},wue=()=>{var me,Ie;const{experimentsJobs:e,fetchExperimentsJobs:t,hasMore:r,loadMoreJobs:n,isLoading:a}=yl(),[i,s]=y.useState([]),[l,c]=y.useState("all"),[u,d]=y.useState([]),[f,h]=y.useState("all"),[m,p]=y.useState(null),[v,x]=y.useState(!0),[g,w]=y.useState(!0),[b,j]=y.useState(!0),[k,_]=y.useState(!0),[N,S]=y.useState(!0),[E,T]=y.useState("charts"),[O,P]=y.useState(null),[L,C]=y.useState(!1),[D,I]=y.useState(null),[R,A]=y.useState(null),[M,z]=y.useState(null);y.useEffect(()=>{t(null),H()},[t]),y.useEffect(()=>{var U,ne,he,pe;((pe=(he=(ne=(U=O==null?void 0:O.splits)==null?void 0:U.train)==null?void 0:ne.y_proba)==null?void 0:he.classes)==null?void 0:pe.length)>0&&z(O.splits.train.y_proba.classes[0])},[O]);const H=async()=>{try{const U=await ct.get("/pipeline/datasets/list");d(U.data)}catch(U){console.error("Failed to fetch datasets",U)}},F=async(U,ne)=>{if(U.stopPropagation(),!!confirm("Are you sure you want to deploy this model to production?"))try{await Lf.deployModel(ne),alert("Model deployed successfully!")}catch(he){alert("Failed to deploy model"),console.error(he)}},Y=async U=>{var ne,he;C(!0),P(null),I(null),A(U);try{const pe=await ct.get(`/pipeline/jobs/${U}/evaluation`);P(pe.data)}catch(pe){console.error("Failed to fetch evaluation data",pe),I(((he=(ne=pe.response)==null?void 0:ne.data)==null?void 0:he.detail)||"Failed to fetch evaluation data")}finally{C(!1)}},q=(U,ne)=>{const he=Array.from(new Set([...U,...ne])).sort(),pe=he.map(Me=>he.map(Pe=>U.reduce((jr,kr,ir)=>{const sr=ne[ir];return kr===Me&&sr===Pe?jr+1:jr},0)));return{classes:he,matrix:pe}},Q=(U,ne,he)=>{if(!ne||!ne.values)return null;const pe=ne.classes.indexOf(he);if(pe===-1)return null;const Pe=ne.values.map(Nr=>Nr[pe]).map((Nr,$i)=>({score:Nr,actual:U[$i]===he?1:0}));Pe.sort((Nr,$i)=>$i.score-Nr.score);const jr=[];let kr=0,ir=0;const sr=Pe.filter(Nr=>Nr.actual===1).length,Ua=Pe.length-sr;if(sr===0||Ua===0)return null;jr.push({fpr:0,tpr:0});for(let Nr=0;Nr<Pe.length;Nr++)Pe[Nr].actual===1?kr++:ir++,jr.push({fpr:ir/Ua,tpr:kr/sr});return jr};y.useEffect(()=>{E==="evaluation"&&(!R&&i.length>0||R&&!i.includes(R)&&i.length>0?Y(i[0]):i.length===0&&(P(null),A(null)))},[E,i,R]);const le=e.filter(U=>{const ne=l==="all"||U.job_type===l,he=f==="all"||U.dataset_id===f;return ne&&he}),Z=e.filter(U=>i.includes(U.job_id)),X=U=>{s(ne=>ne.includes(U)?ne.filter(he=>he!==U):[...ne,U])},B=Z.map(U=>{var he;const ne=U.metrics||((he=U.result)==null?void 0:he.metrics)||{};return{name:U.job_id.slice(0,8),...ne}}),ee=Array.from(new Set(Z.flatMap(U=>{var he;const ne=U.metrics||((he=U.result)==null?void 0:he.metrics)||{};return Object.keys(ne).filter(pe=>{const Me=ne[pe];return typeof Me=="number"&&!isNaN(Me)})}))).filter(U=>!(U.startsWith("train_")&&!v||U.startsWith("test_")&&!g||U.startsWith("val_")&&!b)),J=(U,ne)=>{if(!U||!ne)return"-";const he=new Date(ne).getTime()-new Date(U).getTime(),pe=Math.floor(he/1e3);return pe<60?`${pe}s`:`${Math.floor(pe/60)}m ${pe%60}s`},K=U=>U==="best_score"?{type:"val",base:"best_score"}:U.startsWith("train_")?{type:"train",base:U.replace("train_","")}:U.startsWith("test_")?{type:"test",base:U.replace("test_","")}:U.startsWith("val_")?{type:"val",base:U.replace("val_","")}:{type:"other",base:U},re=new Map;ee.forEach(U=>{const{base:ne}=K(U);re.has(ne)||re.set(ne,[]),re.get(ne).push(U)}),re.forEach((U,ne)=>{re.set(ne,U.sort())});const ce=Array.from(re.keys()).sort(),ge=m&&ce.includes(m)?m:ce[0]||null;return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Experiments & Comparison"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Compare metrics and parameters across multiple runs"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:f,onChange:U=>h(U.target.value),children:[o.jsx("option",{value:"all",children:"All Datasets"}),u.map(U=>o.jsx("option",{value:U.id,children:U.name},U.id))]}),o.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:l,onChange:U=>c(U.target.value),children:[o.jsx("option",{value:"all",children:"All Experiments"}),o.jsx("option",{value:"tuning",children:"Model Optimization"}),o.jsx("option",{value:"training",children:"Standard Training"})]})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col",children:[o.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 text-xs font-medium text-gray-500 uppercase",children:["Select Runs to Compare (",i.length,")"]}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[le.map(U=>{var ne,he;return o.jsxs("div",{onClick:()=>X(U.job_id),className:`p-3 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${i.includes(U.job_id)?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"border-l-4 border-l-transparent"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("span",{className:"font-mono text-xs font-semibold text-gray-700 dark:text-gray-300",children:U.job_id.slice(0,8)}),o.jsxs("div",{className:"flex items-center gap-2",children:[U.status==="completed"&&(U.job_type==="training"||U.job_type==="tuning")&&o.jsx("button",{onClick:pe=>F(pe,U.job_id),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600 dark:text-blue-400",title:"Deploy to Test",children:o.jsx(Wx,{className:"w-3 h-3"})}),o.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded capitalize ${U.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":U.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:U.status})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[U.model_type,"  ",U.dataset_name||"Unknown Dataset",U.job_type==="tuning"&&((he=(ne=U.config)==null?void 0:ne.tuning)==null?void 0:he.strategy)&&o.jsxs("span",{className:"ml-1 text-gray-400",children:["(",U.config.tuning.strategy,")"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:[o.jsx("span",{children:new Date(U.start_time||U.created_at).toLocaleString()}),o.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300",children:J(U.start_time,U.end_time)})]})]},U.job_id)}),r&&o.jsx("div",{className:"p-2 flex justify-center border-t border-gray-100 dark:border-gray-700",children:o.jsxs("button",{onClick:()=>n(),disabled:a,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[a?o.jsx(Fo,{className:"w-3 h-3 animate-spin"}):o.jsx(Lt,{className:"w-3 h-3"}),"Load More"]})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Z.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[o.jsx(xP,{className:"w-12 h-12 mb-4 opacity-20"}),o.jsx("p",{children:"Select runs from the sidebar to compare them."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${E==="charts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>T("charts"),children:"Visual Comparison"}),o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${E==="table"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>T("table"),children:"Detailed Metrics & Params"}),o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${E==="evaluation"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>T("evaluation"),children:"Model Evaluation"})]}),E==="charts"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Metrics Comparison"}),o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:v,onChange:U=>x(U.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:g,onChange:U=>w(U.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:b,onChange:U=>j(U.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]})]}),ce.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:ce.map(U=>o.jsx("button",{onClick:()=>p(U),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${ge===U?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:U.toUpperCase()},U))}),ge&&re.has(ge)&&o.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:o.jsx("div",{className:"h-[300px] w-full",children:o.jsx(Qd,{width:"100%",height:"100%",children:o.jsxs(xue,{data:B,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(ac,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),o.jsx(ic,{dataKey:"name",stroke:"#6B7280",fontSize:12}),o.jsx(sc,{stroke:"#6B7280",fontSize:12}),o.jsx(af,{shared:!1,cursor:{fill:"rgba(107, 114, 128, 0.1)"},contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"}}),o.jsx(VM,{}),re.get(ge).map(U=>{const{type:ne}=K(U);let he="#8884d8";return ne==="train"&&(he="#3b82f6"),ne==="test"&&(he="#22c55e"),ne==="val"&&(he="#f97316"),ne==="other"&&(he="#a855f7"),o.jsx(q4,{dataKey:U,fill:he,name:`${ne} (${ge})`},U)})]})})})})]}),E==="table"&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in duration-300",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Detailed Comparison"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-xs text-left",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-900/50 dark:text-gray-400",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Parameter / Metric"}),Z.map(U=>o.jsx("th",{className:"px-4 py-2 font-mono",children:U.job_id.slice(0,8)},U.job_id))]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[o.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100",children:"Model Type"}),Z.map(U=>o.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:U.model_type},U.job_id))]}),o.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>_(!k),children:o.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:Z.length+1,children:[k?o.jsx(Lt,{className:"w-3 h-3"}):o.jsx(js,{className:"w-3 h-3"}),"Key Metrics"]})}),k&&ee.map(U=>o.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[o.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:U}),Z.map(ne=>{var Me;const pe=(ne.metrics||((Me=ne.result)==null?void 0:Me.metrics)||{})[U];return o.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:typeof pe=="number"?pe.toFixed(4):"-"},ne.job_id)})]},U)),o.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>S(!N),children:o.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:Z.length+1,children:[N?o.jsx(Lt,{className:"w-3 h-3"}):o.jsx(js,{className:"w-3 h-3"}),"Hyperparameters"]})}),N&&Array.from(new Set(Z.flatMap(U=>Object.keys(U.hyperparameters||{})))).map(U=>o.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[o.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:U}),Z.map(ne=>{var he;return o.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:String(((he=ne.hyperparameters)==null?void 0:he[U])??"-")},ne.job_id)})]},U))]})]})})]}),E==="evaluation"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[i.length>1&&o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:i.map(U=>o.jsx("button",{onClick:()=>Y(U),className:`px-3 py-1 text-xs font-mono rounded border ${R===U?"bg-blue-100 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700 dark:text-blue-300":"bg-white border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"}`,children:U.slice(0,8)},U))}),L?o.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400",children:[o.jsx(nn,{className:"w-6 h-6 animate-spin mr-2"}),"Loading evaluation data..."]}):D?o.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[o.jsx("p",{className:"font-medium",children:"Error loading evaluation data"}),o.jsx("p",{className:"text-sm mt-2 opacity-80",children:D})]}):O?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:v,onChange:U=>x(U.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:g,onChange:U=>w(U.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:b,onChange:U=>j(U.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]}),O.problem_type==="classification"&&((Ie=(me=O.splits)==null?void 0:me.train)==null?void 0:Ie.y_proba)&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Target Class (ROC):"}),o.jsx("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-1.5",value:M||"",onChange:U=>z(U.target.value),children:O.splits.train.y_proba.classes.map(U=>o.jsx("option",{value:U,children:U},U))})]})]}),o.jsx("div",{className:"flex flex-col gap-6",children:Object.entries(O.splits||{}).filter(([U])=>!(U==="train"&&!v||U==="test"&&!g||U==="validation"&&!b)).map(([U,ne])=>{const he=ne.y_true.map((pe,Me)=>({x:pe,y:ne.y_pred[Me]}));return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4 capitalize",children:[U," Set"]}),O.problem_type==="regression"?o.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[o.jsxs("div",{className:"h-[300px]",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Actual vs Predicted"}),o.jsx(Qd,{width:"100%",height:"100%",children:o.jsxs(y2,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(ac,{strokeDasharray:"3 3",opacity:.2}),o.jsx(ic,{type:"number",dataKey:"x",name:"Actual",unit:"",label:{value:"Actual Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),o.jsx(sc,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),o.jsx(af,{cursor:{strokeDasharray:"3 3"},content:({active:pe,payload:Me})=>{if(pe&&Me&&Me.length){const Pe=Me[0].payload;return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[o.jsxs("p",{className:"font-medium",children:["Actual: ",Pe.x.toFixed(4)]}),o.jsxs("p",{className:"font-medium",children:["Predicted: ",Pe.y.toFixed(4)]}),o.jsxs("p",{className:"text-gray-500",children:["Error: ",(Pe.y-Pe.x).toFixed(4)]})]})}return null}}),o.jsx(Rf,{dataKey:"x",stroke:"#ccc",strokeDasharray:"3 3",dot:!1,activeDot:!1,legendType:"none",isAnimationActive:!1}),o.jsx(Iv,{name:"Predictions",data:he,fill:"#8884d8",fillOpacity:.6})]})})]}),o.jsxs("div",{className:"h-[300px]",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Residuals vs Predicted"}),o.jsx(Qd,{width:"100%",height:"100%",children:o.jsxs(y2,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(ac,{strokeDasharray:"3 3",opacity:.2}),o.jsx(ic,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),o.jsx(sc,{type:"number",dataKey:"residual",name:"Residual",unit:"",label:{value:"Residuals (Actual - Predicted)",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),o.jsx(af,{cursor:{strokeDasharray:"3 3"},content:({active:pe,payload:Me})=>{if(pe&&Me&&Me.length){const Pe=Me[0].payload;return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[o.jsxs("p",{className:"font-medium",children:["Predicted: ",Pe.y.toFixed(4)]}),o.jsxs("p",{className:"font-medium",children:["Residual: ",Pe.residual.toFixed(4)]})]})}return null}}),o.jsx(J4,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),o.jsx(Iv,{name:"Residuals",data:he.map(pe=>({...pe,residual:pe.x-pe.y})),fill:"#82ca9d",fillOpacity:.6})]})})]})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"h-[300px] flex flex-col items-center justify-center",children:(()=>{const{classes:pe,matrix:Me}=q(ne.y_true,ne.y_pred);return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-8"})," ",o.jsxs("div",{className:"flex ml-2",children:[" ",pe.map(Pe=>o.jsxs("div",{className:"w-16 text-center text-xs font-medium text-gray-500 dark:text-gray-400 pb-2",children:["Pred ",Pe]},Pe))]})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex flex-col justify-center mr-2",children:pe.map(Pe=>o.jsxs("div",{className:"h-16 flex items-center justify-end text-xs font-medium text-gray-500 dark:text-gray-400 pr-2",children:["True ",Pe]},Pe))}),o.jsx("div",{className:"border border-gray-200 dark:border-gray-700",children:Me.map((Pe,jr)=>o.jsx("div",{className:"flex",children:Pe.map((kr,ir)=>{const sr=Math.max(...Me.flat()),Ua=sr>0?kr/sr:0;return o.jsx("div",{className:"w-16 h-16 flex items-center justify-center text-sm font-mono border border-gray-100 dark:border-gray-800",style:{backgroundColor:`rgba(59, 130, 246, ${Ua*.8+.1})`,color:Ua>.5?"white":"inherit"},title:`True: ${pe[jr]}, Pred: ${pe[ir]}, Count: ${kr}`,children:kr},ir)})},jr))})]}),o.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"Confusion Matrix"})]})})()}),ne.y_proba&&o.jsxs("div",{className:"h-[300px] w-full",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"ROC Curve"}),(()=>{const pe=Q(ne.y_true,ne.y_proba,M);return pe?o.jsx(Qd,{width:"100%",height:"100%",children:o.jsxs(yue,{data:pe,margin:{top:5,right:20,bottom:20,left:20},children:[o.jsx(ac,{strokeDasharray:"3 3",opacity:.1}),o.jsx(ic,{type:"number",dataKey:"fpr",domain:[0,1],label:{value:"False Positive Rate",position:"bottom",offset:0,fontSize:12}}),o.jsx(sc,{type:"number",dataKey:"tpr",domain:[0,1],label:{value:"True Positive Rate",angle:-90,position:"left",fontSize:12}}),o.jsx(af,{}),o.jsx(Rf,{type:"monotone",dataKey:"tpr",stroke:"#8884d8",dot:!1,strokeWidth:2}),o.jsx(Rf,{dataKey:"fpr",stroke:"#ccc",strokeDasharray:"3 3",dot:!1})]})}):o.jsx("div",{className:"text-center text-xs text-gray-400",children:"ROC not available (multiclass or missing proba)"})})()]})]})]},U)})})]}):o.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400 italic text-center",children:[o.jsx("p",{children:"Select a completed job to view evaluation details."}),o.jsx("p",{className:"text-xs mt-2 opacity-70",children:"(Note: Only jobs run after this update have evaluation artifacts)"})]})]})]})})]})]})},jue=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(`[
  {
    "feature1": 0.5,
    "feature2": 1.2
  }
]`),[a,i]=y.useState(null),[s,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(null);y.useEffect(()=>{h()},[]);const h=async()=>{var v;try{const x=await Lf.getActive();if(t(x),x&&x.job_id)try{const g=await Ht.getJob(x.job_id);if(g.dataset_id){let w=null,b=[];try{const k=await fetch(`/ml-workflow/api/pipelines/${g.dataset_id}`);k.ok&&(((v=(await k.json()).graph)==null?void 0:v.nodes)||[]).forEach(S=>{var O,P;const E=((O=S.data)==null?void 0:O.catalogType)||S.type,T=((P=S.data)==null?void 0:P.config)||S.parameters||{};E==="train_test_split"&&T.target_column&&(w=T.target_column),E==="drop_missing_columns"&&Array.isArray(T.columns)&&b.push(...T.columns),E==="drop_column_recommendations"&&Array.isArray(T.columns)&&b.push(...T.columns),E==="drop_columns"&&Array.isArray(T.columns)&&b.push(...T.columns),E==="feature_selection"&&Array.isArray(T.dropped_columns)&&b.push(...T.dropped_columns)})}catch(k){console.warn("Failed to fetch pipeline for inference filtering",k)}const j=await Ea.getSample(g.dataset_id,1);if(j&&j.length>0){const k=j.map(N=>{const S={...N};return w&&w in S&&delete S[w],b.forEach(E=>{E in S&&delete S[E]}),S});n(JSON.stringify(k,null,2));const _=[];w&&_.push(`Target: ${w}`),b.length>0&&_.push(`Dropped: ${b.length} cols`),_.length>0&&f(`Auto-filtered: ${_.join(", ")}`)}}}catch(g){console.warn("Failed to fetch dataset sample for inference auto-fill",g)}}catch{t(null)}},m=async()=>{if(confirm("Are you sure you want to undeploy the current model?"))try{await Lf.deactivate(),t(null),i(null)}catch(v){console.error("Failed to deactivate",v)}},p=async()=>{l(!0),u(null),i(null);try{const v=JSON.parse(r);if(!Array.isArray(v))throw new Error("Input must be a JSON array of objects");const x=await Lf.predict(v);i(x.predictions)}catch(v){u(v.message||"Prediction failed")}finally{l(!1)}};return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 p-6 overflow-hidden",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6 shrink-0",children:"Model Inference"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Input Data (JSON)"}),d&&o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded border border-amber-200 dark:border-amber-800",children:d}),o.jsx("span",{className:"text-[10px] text-gray-400 mt-1",children:"Please verify fields before running"})]})]}),o.jsx("textarea",{className:"flex-1 w-full p-4 font-mono text-sm bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none",value:r,onChange:v=>n(v.target.value),placeholder:'[{"col1": 1, "col2": "A"}]'}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsx("button",{onClick:p,disabled:!e||s,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${!e||s?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-800 dark:text-gray-600":"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"}`,children:s?"Running...":o.jsxs(o.Fragment,{children:[o.jsx(Nu,{className:"w-4 h-4"})," Run Prediction"]})})})]}),o.jsxs("div",{className:"flex flex-col gap-6 h-full min-h-0",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 shrink-0",children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pF,{className:"w-5 h-5 text-blue-500"}),"Active Deployment"]}),e&&o.jsxs("button",{onClick:m,className:"flex items-center gap-1 text-xs px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50 transition-colors",title:"Undeploy Model",children:[o.jsx($F,{className:"w-3 h-3"}),"Undeploy"]})]}),e?o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Model Type"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:e.model_type})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Job ID"}),o.jsx("div",{className:"font-mono text-sm text-gray-800 dark:text-gray-200",children:e.job_id.slice(0,8)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Deployed At"}),o.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:new Date(e.created_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),o.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-medium text-sm",children:[o.jsx(zo,{className:"w-4 h-4"})," Active"]})]})]}):o.jsxs("div",{className:"text-gray-500 dark:text-gray-400 italic flex items-center gap-2",children:[o.jsx(Sa,{className:"w-4 h-4"}),"No model is currently deployed. Go to Experiments page to deploy one."]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col flex-1 min-h-0",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Prediction Results"}),o.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4 overflow-auto",children:c?o.jsxs("div",{className:"text-red-600 dark:text-red-400 flex items-start gap-2",children:[o.jsx(Sa,{className:"w-5 h-5 shrink-0 mt-0.5"}),o.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm",children:c})]}):a?o.jsx("div",{className:"space-y-2",children:a.map((v,x)=>o.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-800 rounded border border-gray-100 dark:border-gray-700",children:[o.jsxs("span",{className:"text-xs text-gray-500 w-8",children:["#",x+1]}),o.jsx("span",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof v=="object"?JSON.stringify(v):String(v)})]},x))}):o.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm italic",children:"Run a prediction to see results here..."})})]})]})]})]})},kue=()=>{const{activeView:e}=GA();return o.jsxs("div",{className:"flex h-full w-full bg-background overflow-hidden flex-col",children:[o.jsx(vK,{}),o.jsx(yK,{}),e==="canvas"?o.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[o.jsx(nK,{}),o.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[o.jsx(pK,{}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(fK,{}),o.jsx(gK,{})]})]}),o.jsx(hK,{})]}):e==="experiments"?o.jsx(wue,{}):o.jsx(jue,{})]})},Nue=()=>{const e=ve(t=>t.addNode);return Yr.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("source_id");r&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:r})},100)},[]),o.jsx(kue,{})};function _ue(){return o.jsx(eF,{children:o.jsxs(Az,{children:[o.jsxs(Ks,{path:"/",element:o.jsx(QF,{}),children:[o.jsx(Ks,{index:!0,element:o.jsx(T8,{})}),o.jsx(Ks,{path:"data",element:o.jsx(R8,{})}),o.jsx(Ks,{path:"deployments",element:o.jsx("div",{className:"p-8",children:"Deployments (Coming Soon)"})})]}),o.jsx(Ks,{path:"/canvas",element:o.jsx(Nue,{})})]})})}const Sue=({config:e,onChange:t})=>o.jsxs("div",{className:"p-4 space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Debug Message"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:e.message,onChange:r=>t({...e,message:r.target.value})})]}),Eue={type:"debug_node",label:"Debug Node",category:"Utility",description:"A simple node for testing the registry.",icon:yF,inputs:[{id:"in",label:"Input",type:"any"}],outputs:[{id:"out",label:"Output",type:"any"}],component:({data:e})=>o.jsxs("div",{className:"text-xs",children:["Msg: ",o.jsx("span",{className:"font-mono",children:e.message||"..."})]}),settings:Sue,validate:e=>({isValid:e.message.length>0,message:e.message.length===0?"Message is required":void 0}),getDefaultConfig:()=>({message:"Hello World"})},tt=e=>R$({queryKey:["dataset-schema",e],queryFn:()=>P8(e),enabled:!!e,staleTime:1e3*60*5}),Cue=({config:e,onChange:t})=>{const[r,n]=y.useState([]),[a,i]=y.useState(!1),[s,l]=y.useState(!1),{data:c,isLoading:u}=tt(e.datasetId),d=()=>{i(!0),Ea.getAll().then(n).catch(console.error).finally(()=>i(!1))};y.useEffect(()=>{d()},[]);const f=m=>{const p=m.target.value,v=r.find(x=>String(x.id)===p);t({...e,datasetId:p,datasetName:v==null?void 0:v.name})},h=(m,p)=>{l(!1),d(),t({...e,datasetId:m,datasetName:p})};return s?o.jsx(QP,{onUploadComplete:h,onCancel:()=>l(!1)}):o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),o.jsxs("button",{onClick:()=>l(!0),className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium",children:[o.jsx(Rs,{size:14}),"New Upload"]})]}),a?o.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:f,children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(m=>o.jsx("option",{value:m.id,children:m.name},m.id))]})]}),e.datasetId&&o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[o.jsx(WF,{size:14}),o.jsx("span",{children:"Dataset Schema"})]}),u?o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-y-auto",children:o.jsxs("table",{className:"w-full text-xs text-left",children:[o.jsx("thead",{className:"bg-muted/20 sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2 font-medium border-b",children:"Column"}),o.jsx("th",{className:"p-2 font-medium border-b",children:"Type"}),o.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Missing"}),o.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Unique"})]})}),o.jsx("tbody",{children:Object.values(c.columns).map(m=>o.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[o.jsx("td",{className:"p-2 font-mono font-medium",children:m.name}),o.jsx("td",{className:"p-2 text-muted-foreground",children:m.dtype}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.missing_count}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.unique_count})]},m.name))})]})}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},Pue=({data:e})=>{const[t,r]=y.useState(void 0);y.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&Ea.getById(e.datasetId).then(a=>r(a.name)).catch(()=>r(e.datasetId))},[e.datasetId,e.datasetName,t]);const n=e.datasetName||t||e.datasetId;return o.jsx("div",{className:"text-xs",children:e.datasetId?o.jsx("div",{className:"font-medium truncate max-w-[150px]",title:n,children:n||"Loading..."}):o.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},Oue={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:Vn,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:Cue,component:Pue,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},b3=(e,t,r,n=new Set)=>{var i;if(n.has(e.id))return;if(n.add(e.id),(i=e.data)!=null&&i.datasetId)return e.data.datasetId;const a=Mi(e,t,r);for(const s of a){const l=b3(s,t,r,n);if(l)return l}},lt=e=>{const t=ve(i=>i.nodes),r=ve(i=>i.edges),n=t.find(i=>i.id===e);return n?Mi(n,t,r).map(i=>{const s=b3(i,t,r);return s&&!i.data.datasetId?{...i.data,datasetId:s}:i.data}):[]},El=(e,t={})=>{var i;const n=(i=lt(e).find(s=>s.datasetId))==null?void 0:i.datasetId,a=ve(s=>s.executionResult);return y.useMemo(()=>!n||!(a!=null&&a.recommendations)?[]:a.recommendations.filter(s=>{var l,c;if(t.types||t.suggestedNodeTypes){const u=(l=t.types)==null?void 0:l.includes(s.type),d=(c=t.suggestedNodeTypes)==null?void 0:c.includes(s.suggested_node_type);if(!u&&!d)return!1}return!(t.scope==="column"&&(!s.target_columns||s.target_columns.length===0))}),[a,n,t.types,t.suggestedNodeTypes,t.scope])},Fs=({recommendations:e,onApply:t,className:r=""})=>!e||e.length===0?null:o.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${r}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[o.jsx(jP,{className:"w-4 h-4"}),o.jsx("span",{children:"Recommendations"})]}),o.jsx("div",{className:"space-y-2",children:e.map(n=>o.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:n.type.replace("_"," ").toUpperCase()}),o.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:n.description}),n.reasoning&&o.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",n.reasoning]})]}),t&&o.jsx("button",{onClick:()=>t(n),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:o.jsx(zo,{className:"w-5 h-5"})})]})},n.rule_id))})]}),Aue=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=lt(r||"").find(_=>_.datasetId))==null?void 0:k.datasetId,{data:i,isLoading:s}=tt(a),l=i?Object.values(i.columns).map(_=>_.name):[],c=ve(_=>_.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=y.useRef(null),[h,m]=y.useState(!1);y.useEffect(()=>{if(!f.current)return;const _=new ResizeObserver(N=>{for(const S of N)m(S.contentRect.width>450)});return _.observe(f.current),()=>_.disconnect()},[]);const p=El(r||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),v=_=>{if(_.target_columns&&_.target_columns.length>0){const N=Array.from(new Set([...e.columns,..._.target_columns]));t({...e,columns:N})}},[x,g]=y.useState(""),w=y.useMemo(()=>l.filter(_=>_.toLowerCase().includes(x.toLowerCase())),[l,x]),b=()=>{t({...e,columns:w})},j=()=>{const _=e.columns.filter(N=>!w.includes(N));t({...e,columns:_})};return o.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&o.jsx("div",{className:"shrink-0",children:o.jsx(Fs,{recommendations:p,onApply:v})}),o.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),o.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),o.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),o.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:_=>t({...e,missing_threshold:parseInt(_.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),d&&d.dropped_columns_count!==void 0&&o.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(nn,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),o.jsx("span",{className:"font-medium text-destructive",children:d.dropped_columns_count})]}),d.dropped_columns&&Array.isArray(d.dropped_columns)&&d.dropped_columns.length>0&&o.jsxs("div",{className:"pt-1 border-t mt-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:d.dropped_columns.map(_=>o.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:_},_))})]})]})]})]}),o.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${h?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[o.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("div",{className:"relative group",children:o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:x,onChange:_=>g(_.target.value)})}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:l.length>0?w.length>0?o.jsx("div",{className:"space-y-0.5",children:w.map(_=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(_),onChange:N=>{const S=N.target.checked?[...e.columns,_]:e.columns.filter(E=>E!==_);t({...e,columns:S})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),o.jsx("span",{className:"truncate font-mono text-xs",title:_,children:_})]},_))}):o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',x,'"']}):o.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},Tue={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:Ti,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:Aue,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},Mue=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=lt(r||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:i,isLoading:s}=tt(a),l=i?Object.values(i.columns).map(N=>N.name):[],c=ve(N=>N.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=y.useRef(null),[h,m]=y.useState(!1);y.useEffect(()=>{if(!f.current)return;const N=new ResizeObserver(S=>{for(const E of S)m(E.contentRect.width>450)});return N.observe(f.current),()=>N.disconnect()},[]);const p=El(r||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),v=N=>{if(N.target_columns&&N.target_columns.length>0){const S=Array.from(new Set([...e.columns,...N.target_columns]));t({...e,columns:S})}},[x,g]=y.useState(""),w=y.useMemo(()=>l.filter(N=>N.toLowerCase().includes(x.toLowerCase())),[l,x]),b=()=>{t({...e,columns:w})},j=()=>{const N=e.columns.filter(S=>!w.includes(S));t({...e,columns:N})},k=()=>d?o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),d.fill_values&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.fill_values).map(([N,S])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),o.jsx("span",{className:"font-mono",children:typeof S=="number"?S.toFixed(4):String(S)})]},N))})]}),d.missing_counts&&o.jsxs("div",{className:"space-y-1 mt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.missing_counts).map(([N,S])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),o.jsx("span",{className:"font-mono",children:String(S)})]},N))}),d.total_missing!==void 0&&o.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",o.jsx("span",{className:"font-mono font-medium",children:d.total_missing})]})]}),!d.fill_values&&!d.missing_counts&&(u==null?void 0:u.status)==="success"&&o.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return o.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&o.jsx("div",{className:"shrink-0",children:o.jsx(Fs,{recommendations:p,onApply:v})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:N=>t({...e,method:N.target.value}),children:[o.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),o.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),o.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:N=>t({...e,strategy:N.target.value}),children:[o.jsx("option",{value:"mean",children:"Mean (Average)"}),o.jsx("option",{value:"median",children:"Median (Middle Value)"}),o.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),o.jsx("option",{value:"constant",children:"Constant Value"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:N=>t({...e,fill_value:N.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:N=>t({...e,n_neighbors:parseInt(N.target.value)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:N=>t({...e,weights:N.target.value}),children:[o.jsx("option",{value:"uniform",children:"Uniform"}),o.jsx("option",{value:"distance",children:"Distance"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:N=>t({...e,max_iter:parseInt(N.target.value)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:N=>t({...e,estimator:N.target.value}),children:[o.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),o.jsx("option",{value:"decision_tree",children:"Decision Tree"}),o.jsx("option",{value:"extra_trees",children:"Extra Trees"}),o.jsx("option",{value:"knn",children:"KNN"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:N=>t({...e,random_state:parseInt(N.target.value)})})]})]}),h&&o.jsx(k,{})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${h?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:b,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:x,onChange:N=>g(N.target.value)})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:w.length>0?w.map(N=>o.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:S=>{const E=S.target.checked?[...e.columns,N]:e.columns.filter(T=>T!==N);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),o.jsx("span",{className:"truncate",title:N,children:N})]}),(d==null?void 0:d.missing_counts)&&d.missing_counts[N]!==void 0&&o.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${d.missing_counts[N]} missing values filled`,children:d.missing_counts[N]})]},N)):o.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:l.length===0?"No columns available":"No matches found"})})]}),!h&&o.jsx(k,{})]})]})},Iue={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:DF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Mue,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:(e.method==="simple"||!e.method)&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},Due=({config:e,onChange:t,nodeId:r})=>{var b;const a=(b=lt(r||"").find(j=>j.datasetId))==null?void 0:b.datasetId,{data:i,isLoading:s}=tt(a),l=ve(j=>j.executionResult),c=r?l==null?void 0:l.node_results[r]:null,u=y.useRef(null),[d,f]=y.useState(!1),[h,m]=y.useState("");y.useEffect(()=>{if(!u.current)return;const j=new ResizeObserver(k=>{for(const _ of k)f(_.contentRect.width>450)});return j.observe(u.current),()=>j.disconnect()},[]);const p=i?Object.values(i.columns).filter(j=>["int","float","number"].some(k=>{var _;return(_=j.dtype)==null?void 0:_.toLowerCase().includes(k)})).map(j=>j.name):[],v=p.filter(j=>j.toLowerCase().includes(h.toLowerCase())),x=()=>{t({...e,columns:v})},g=()=>{const j=e.columns.filter(k=>!v.includes(k));t({...e,columns:j})},w=()=>{if(!c||!c.metrics)return null;const j=c.metrics,k=j.columns;if(!k)return null;const _=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),o.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:_()})]}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:k.map((N,S)=>{var T,O,P,L,C,D,I;let E="";if(e.method==="standard"){const R=(T=j.mean)==null?void 0:T[S],A=(O=j.scale)==null?void 0:O[S];typeof R=="number"&&(E=`=${R.toFixed(2)}, =${typeof A=="number"?A.toFixed(2):"-"}`)}else if(e.method==="minmax"){const R=(P=j.data_min)==null?void 0:P[S],A=(L=j.data_max)==null?void 0:L[S];typeof R=="number"&&(E=`Min=${R.toFixed(2)}, Max=${typeof A=="number"?A.toFixed(2):"-"}`)}else if(e.method==="robust"){const R=(C=j.center)==null?void 0:C[S],A=(D=j.scale)==null?void 0:D[S];typeof R=="number"&&(E=`Med=${R.toFixed(2)}, IQR=${typeof A=="number"?A.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const R=(I=j.max_abs)==null?void 0:I[S];typeof R=="number"&&(E=`MaxAbs=${R.toFixed(2)}`)}return o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:N,children:N}),o.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:E})]},N)})})]})};return o.jsxs("div",{ref:u,className:`flex flex-col h-full w-full bg-background ${d?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${d?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${d?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:j=>t({...e,method:j.target.value}),children:[o.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),o.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),o.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),o.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:j=>t({...e,with_mean:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Center Data (with_mean)"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:j=>t({...e,with_std:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:j=>t({...e,feature_range_min:parseFloat(j.target.value)})}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:j=>t({...e,feature_range_max:parseFloat(j.target.value)})})]})]}),e.method==="robust"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:j=>t({...e,quantile_range_min:parseFloat(j.target.value)})}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:j=>t({...e,quantile_range_max:parseFloat(j.target.value)})})]}),o.jsxs("div",{className:"space-y-2 mt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:j=>t({...e,with_centering:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Center Data (Median)"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:j=>t({...e,with_scaling:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),d&&o.jsx(w,{})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${d?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:x,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:g,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:h,onChange:j=>m(j.target.value)})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:v.length>0?v.map(j=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(j),onChange:k=>{const _=k.target.checked?[...e.columns,j]:e.columns.filter(N=>N!==j);t({...e,columns:_})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:j,children:j})]},j)):o.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:s?"Loading schema...":p.length===0?"No numeric columns found":"No matches found"})})]}),!d&&o.jsx(w,{})]})]})},Rue={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:BF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:Due,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})};function w3(){const[e,t]=y.useState(null),[r,n]=y.useState({width:0,height:0}),a=y.useCallback(i=>{if(!i||i.length===0)return;const{width:s,height:l}=i[0].contentRect;n({width:s,height:l})},[]);return y.useEffect(()=>{if(!e)return;const i=new ResizeObserver(a);return i.observe(e),()=>i.disconnect()},[e,a]),[t,r]}const Lue=({text:e})=>o.jsxs("div",{className:"group relative flex items-center",children:[o.jsx(gP,{className:"w-3 h-3 text-gray-400 cursor-help"}),o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,o.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),$ue=({isOpen:e,onClose:t,modelType:r,onSelect:n})=>{const[a,i]=y.useState(r),[s,l]=y.useState([]),[c,u]=y.useState(!1),[d,f]=y.useState(null);y.useEffect(()=>{e&&i(r)},[e,r]);const h=y.useCallback(()=>{a&&(u(!0),f(null),Ht.getTuningHistory(a).then(m=>{l(m||[])}).catch(m=>{console.error("Failed to fetch jobs",m),f("Failed to load history.")}).finally(()=>u(!1)))},[a]);return y.useEffect(()=>{e&&h()},[e,h]),e?o.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:o.jsx(nn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Select parameters for:"}),o.jsxs("select",{value:a,onChange:m=>i(m.target.value),className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-blue-500 outline-none",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Fo,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:o.jsx(br,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:c?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[o.jsx(ya,{className:"w-8 h-8 animate-spin mb-2 text-blue-500"}),o.jsx("p",{className:"text-sm",children:"Loading history..."})]}):d?o.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx(Sa,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:d}),o.jsx("button",{onClick:h,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):s.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx(Vn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),o.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):s.map(m=>{var p;return o.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-800 transition-all",children:o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",m.job_id.slice(0,8)]}),o.jsx("span",{className:"text-xs text-gray-400",children:m.end_time?new Date(m.end_time).toLocaleString():"Unknown Date"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((p=m.result)==null?void 0:p.best_score)=="number"&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),o.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:m.result.best_score.toFixed(4)})]}),o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[o.jsx(zc,{className:"w-3 h-3"})," Model Ready"]})]})]}),o.jsxs("button",{onClick:()=>{var v;(v=m.result)!=null&&v.best_params&&(n({params:m.result.best_params,modelType:a}),t())},className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors flex items-center gap-1 shadow-sm shadow-blue-500/20",children:[o.jsx(zc,{className:"w-3 h-3"}),"Apply"]})]})},m.job_id)})})]})]}):null},zue=({value:e,type:t,onChange:r,step:n,min:a,max:i})=>{const[s,l]=y.useState("");y.useEffect(()=>{l(e===null?"None":(e==null?void 0:e.toString())??"")},[e]);const c=()=>{const u=s.trim();if(u.toLowerCase()==="none"){r(null);return}if(t==="number"){if(u==="")return;const d=Number(u);isNaN(d)?l(e===null?"None":(e==null?void 0:e.toString())??""):r(d)}else t==="boolean"?u.toLowerCase()==="true"?r(!0):u.toLowerCase()==="false"?r(!1):l((e==null?void 0:e.toString())??""):r(u)};return o.jsx("input",{type:"text",value:s,onChange:u=>l(u.target.value),onBlur:c,placeholder:e===null?"None":"",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",...t==="number"?{step:n,min:a,max:i}:{}})},Fue=({config:e,onChange:t,nodeId:r})=>{const[n,a]=y.useState([]),[i,s]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(()=>!sessionStorage.getItem("hide_info_model_training")),{toggleDrawer:f,setTab:h}=yl(),m=lt(r||""),p=ve(C=>C.nodes),v=ve(C=>C.edges),g=(C=>{var R,A,M,z;const D=new Set,I=[C];for(;I.length>0;){const H=I.shift();if(D.has(H))continue;D.add(H);const F=p.find(q=>q.id===H);if(!F)continue;if(H!==C){if((R=F.data)!=null&&R.datasetId)return F.data.datasetId;if((A=F.data)!=null&&A.dataset_id)return F.data.dataset_id;if((M=F.data)!=null&&M.config){const q=F.data.config;if(q.datasetId)return q.datasetId;if(q.dataset_id)return q.dataset_id}if((z=F.data)!=null&&z.params){const q=F.data.params;if(q.datasetId)return q.datasetId;if(q.dataset_id)return q.dataset_id}}const Y=Mi(F,p,v);for(const q of Y)I.push(q.id)}})(r||""),{data:w}=tt(g),b=w?Object.values(w.columns):[],[j,{width:k}]=w3(),_=k>450,[N,S]=y.useState("model"),[E,T]=y.useState(!1);y.useEffect(()=>{e.model_type&&(c(!0),Ht.getHyperparameters(e.model_type).then(a).catch(console.error).finally(()=>c(!1)))},[e.model_type]),y.useEffect(()=>{var D;const C=(D=m.find(I=>I.target_column))==null?void 0:D.target_column;C&&e.target_column!==C&&t({...e,target_column:C})},[m,e.target_column]);const O=async()=>{if(r)try{const C=yb(p,v);await Ht.runPipeline({...C,target_node_id:r,job_type:"training"}),alert("Training job submitted successfully!"),h("training"),f(!0)}catch(C){console.error("Failed to submit training job:",C),alert("Failed to submit training job. Check console for details.")}},P=o.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:e.model_type,onChange:C=>t({...e,model_type:C.target.value,hyperparameters:{}}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]}),o.jsx(Lt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),b.length===0&&o.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[o.jsx(qx,{className:"w-3 h-3"}),o.jsx("span",{children:"Connect a dataset node to see available columns"})]}),o.jsxs("div",{className:"relative",children:[b.length>0?o.jsxs("select",{value:e.target_column,onChange:C=>t({...e,target_column:C.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Select target..."}),b.map(C=>o.jsx("option",{value:C.name,children:C.name},C.name))]}):o.jsx("input",{type:"text",value:e.target_column,onChange:C=>t({...e,target_column:C.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),b.length>0&&o.jsx(Lt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>T(!E),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mm,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),o.jsx(js,{className:`w-4 h-4 text-gray-400 transition-transform ${E?"rotate-90":""}`})]}),E&&o.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:C=>t({...e,cv_enabled:C.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&o.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),o.jsx("input",{type:"number",value:e.cv_folds??5,onChange:C=>t({...e,cv_folds:Number(C.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),o.jsxs("select",{value:e.cv_type??"k_fold",onChange:C=>t({...e,cv_type:C.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"k_fold",children:"K-Fold"}),o.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),o.jsx("option",{value:"time_series_split",children:"Time Series"}),o.jsx("option",{value:"shuffle_split",children:"Shuffle Split"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:C=>t({...e,cv_shuffle:C.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),L=()=>{const C=Object.keys(e.hyperparameters).length>0,D=I=>{if(I){const R={};n.forEach(A=>{R[A.name]=A.default}),t({...e,hyperparameters:R})}else t({...e,hyperparameters:{}})};return o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[o.jsx(Kx,{className:"w-4 h-4 text-blue-500"}),"Hyperparameters"]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("label",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2 cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:C,onChange:I=>D(I.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Customize"]})})]}),C?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex justify-end mb-2",children:o.jsxs("button",{onClick:()=>s(!0),className:"text-xs flex items-center gap-1.5 px-2 py-1 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:[o.jsx(Qj,{className:"w-3 h-3"}),"Load Best"]})}),l?o.jsx("div",{className:"flex justify-center py-4",children:o.jsx(ya,{className:"w-5 h-5 animate-spin text-blue-500"})}):n.map(I=>{var R;return o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:I.label}),I.description&&o.jsx(Lue,{text:I.description})]}),I.type==="select"?o.jsx("select",{value:e.hyperparameters[I.name]??I.default,onChange:A=>t({...e,hyperparameters:{...e.hyperparameters,[I.name]:A.target.value}}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:(R=I.options)==null?void 0:R.map(A=>o.jsx("option",{value:A.value,children:A.label},A.value))}):o.jsx(zue,{type:I.type,value:e.hyperparameters[I.name]??I.default,onChange:A=>t({...e,hyperparameters:{...e.hyperparameters,[I.name]:A}}),step:I.step,min:I.min,max:I.max})]},I.name)}),n.length===0&&!l&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic text-center py-4",children:"No parameters available."})]}):o.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-dashed border-gray-200 dark:border-gray-700",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Using default hyperparameters."}),o.jsxs("button",{onClick:()=>s(!0),className:"mt-3 text-xs flex items-center gap-1.5 px-3 py-1.5 mx-auto bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded-md border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors shadow-sm",children:[o.jsx(Qj,{className:"w-3 h-3"}),"Load Best Params"]})]})]})};return o.jsxs("div",{className:"flex flex-col h-full",ref:j,children:[u&&o.jsxs("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded text-xs text-blue-700 dark:text-blue-300 flex justify-between items-start gap-2",children:[o.jsx("span",{children:"Train a model using fixed parameters or defaults."}),o.jsx("button",{onClick:()=>{d(!1),sessionStorage.setItem("hide_info_model_training","true")},className:"text-blue-400 hover:text-blue-600 dark:hover:text-blue-200",children:o.jsx(br,{className:"w-3 h-3"})})]}),o.jsx($ue,{isOpen:i,onClose:()=>s(!1),modelType:e.model_type,onSelect:C=>{C.modelType&&C.modelType!==e.model_type?t({...e,model_type:C.modelType,hyperparameters:C.params}):t({...e,hyperparameters:C.params})}}),!_&&o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${N==="model"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>S("model"),children:"Configuration"}),o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${N==="params"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>S("params"),children:"Hyperparameters"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:_?o.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[o.jsx("div",{className:"overflow-y-auto pr-2",children:P}),o.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:o.jsx(L,{})})]}):o.jsxs(o.Fragment,{children:[N==="model"&&P,N==="params"&&o.jsx(L,{})]})}),o.jsx("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:o.jsxs("button",{onClick:O,className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[o.jsx(Nu,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-semibold",children:"Start Training"})]})})]})},Bue={type:"model_training",label:"Standard Training",category:"Modeling",description:"Train a model with fixed or default parameters.",icon:gF,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:Fue,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",hyperparameters:{},cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42})},Uue=({text:e})=>o.jsxs("div",{className:"group relative flex items-center",children:[o.jsx(gP,{className:"w-3 h-3 text-gray-400 cursor-help"}),o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,o.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),Hue=({def:e,value:t,onChange:r})=>{const[n,a]=y.useState(""),[i,s]=y.useState(null);y.useEffect(()=>{a(Array.isArray(t)?t.map(u=>u===null?"None":u).join(", "):"")},[t]);const l=u=>{if(!u.trim())return[];const d=u.split(",").map(h=>h.trim()).filter(h=>h!==""),f=[];for(const h of d){if(h.toLowerCase()==="none"){f.push(null);continue}if(e.type==="number"){const m=Number(h);if(isNaN(m))throw new Error(`"${h}" is not a valid number`);f.push(m)}else if(e.type==="boolean"){const m=h.toLowerCase();if(m==="true")f.push(!0);else if(m==="false")f.push(!1);else throw new Error(`"${h}" must be true or false`)}else f.push(h)}return f},c=()=>{try{const u=l(n);s(null),JSON.stringify(u)!==JSON.stringify(t)&&r(u)}catch(u){s(u.message)}};return o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[e.label,e.description&&o.jsx(Uue,{text:e.description})]}),o.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:e.type})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:`w-full border rounded px-2 py-1.5 text-sm font-mono bg-white dark:bg-gray-900 dark:text-gray-100 outline-none transition-all ${i?"border-red-500 focus:ring-2 focus:ring-red-500/20":"border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500"}`,placeholder:e.type==="select"?"e.g. lbfgs, liblinear":"e.g. 10, 50, 100",value:n,onChange:u=>{a(u.target.value),s(null)},onBlur:c}),e.type==="select"&&e.options&&o.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.options.map(u=>o.jsx("button",{onClick:()=>{const d=l(n),h=d.includes(u.value)?d.filter(m=>m!==u.value):[...d,u.value];r(h)},className:`text-[10px] px-1.5 py-0.5 rounded border transition-colors ${t.includes(u.value)?"bg-purple-100 border-purple-200 text-purple-700 dark:bg-purple-900/30 dark:border-purple-800 dark:text-purple-300":"bg-gray-50 border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:u.label},u.value))})]}),i&&o.jsxs("p",{className:"text-[10px] text-red-500 flex items-center gap-1",children:[o.jsx(Sa,{className:"w-3 h-3"}),i]})]})},Vue=({isOpen:e,onClose:t,modelType:r})=>{const[n,a]=y.useState(r),[i,s]=y.useState([]),[l,c]=y.useState(!1),[u,d]=y.useState(null);y.useEffect(()=>{e&&a(r)},[e,r]);const f=y.useCallback(()=>{n&&(c(!0),d(null),Ht.getTuningHistory(n).then(h=>{console.log("Fetched jobs for",n,h),s(h||[])}).catch(h=>{console.error("Failed to fetch jobs",h),d("Failed to load history.")}).finally(()=>c(!1)))},[n]);return y.useEffect(()=>{e&&f()},[e,f]),e?o.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:o.jsx(nn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View parameters for:"}),o.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-purple-500 outline-none",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Fo,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:o.jsx(br,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:l?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[o.jsx(ya,{className:"w-8 h-8 animate-spin mb-2 text-purple-500"}),o.jsx("p",{className:"text-sm",children:"Loading history..."})]}):u?o.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx(Sa,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:u}),o.jsx("button",{onClick:f,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):i.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx(Vn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),o.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):i.map(h=>{var m;return o.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-purple-200 dark:hover:border-purple-800 transition-all",children:o.jsx("div",{className:"flex justify-between items-start mb-3",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",h.job_id.slice(0,8)]}),o.jsx("span",{className:"text-xs text-gray-400",children:h.end_time?new Date(h.end_time).toLocaleString():"Unknown Date"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((m=h.result)==null?void 0:m.best_score)=="number"&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),o.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:h.result.best_score.toFixed(4)})]}),o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[o.jsx(zc,{className:"w-3 h-3"})," Model Ready"]})]})]})})},h.job_id)})})]})]}):null},Wue=({config:e,onChange:t,nodeId:r})=>{const[n,a]=y.useState([]),[i,s]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState("config"),[f,h]=y.useState(!1),[m,p]=y.useState(()=>!sessionStorage.getItem("hide_info_model_optimizer")),[v,{width:x}]=w3(),g=x>450,{toggleDrawer:w,setTab:b}=yl(),j=lt(r||""),k=ve(D=>D.nodes),_=ve(D=>D.edges),S=(D=>{var A,M,z,H;const I=new Set,R=[D];for(;R.length>0;){const F=R.shift();if(I.has(F))continue;I.add(F);const Y=k.find(Q=>Q.id===F);if(!Y)continue;if(F!==D){if((A=Y.data)!=null&&A.datasetId)return Y.data.datasetId;if((M=Y.data)!=null&&M.dataset_id)return Y.data.dataset_id;const Q=Y.data;if((z=Q==null?void 0:Q.config)!=null&&z.datasetId)return Q.config.datasetId;if((H=Q==null?void 0:Q.config)!=null&&H.dataset_id)return Q.config.dataset_id}const q=Mi(Y,k,_);for(const Q of q)R.push(Q.id)}})(r||""),{data:E}=tt(S),T=E?Object.values(E.columns):[];y.useEffect(()=>{var I;const D=(I=j.find(R=>R.target_column))==null?void 0:I.target_column;D&&e.target_column!==D&&t({...e,target_column:D})},[j,e.target_column]);const O=y.useRef(null);y.useEffect(()=>{(async()=>{const I=e.model_type;if(!I)return;const R=I!==O.current;if(!(!R&&n.length>0)){s(!0);try{const A=await Ht.getHyperparameters(I);if(a(A),R||Object.keys(e.search_space||{}).length===0){const M=await Ht.getDefaultSearchSpace(I);t({...e,search_space:M||{}}),O.current=I}}catch(A){console.error("Failed to load model hyperparameters:",A)}finally{s(!1)}}})()},[e.model_type]);const P=async()=>{if(r)try{const D=yb(k,_);await Ht.runPipeline({...D,target_node_id:r,job_type:"tuning"}),alert("Tuning job submitted successfully!"),b("tuning"),w(!0)}catch(D){console.error("Failed to submit tuning job:",D),alert("Failed to submit tuning job.")}},L=o.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:e.model_type,onChange:D=>{O.current=null,t({...e,model_type:D.target.value,search_space:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]}),o.jsx(Lt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),T.length===0&&o.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[o.jsx(qx,{className:"w-3 h-3"}),o.jsx("span",{children:"Connect a dataset node to see available columns"})]}),o.jsxs("div",{className:"relative",children:[T.length>0?o.jsxs("select",{value:e.target_column,onChange:D=>t({...e,target_column:D.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Select target..."}),T.map(D=>o.jsx("option",{value:D.name,children:D.name},D.name))]}):o.jsx("input",{type:"text",value:e.target_column,onChange:D=>t({...e,target_column:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),T.length>0&&o.jsx(Lt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tuning Strategy"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Search Method"}),o.jsxs("select",{value:e.search_strategy??"random",onChange:D=>t({...e,search_strategy:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"random",children:"Random Search"}),o.jsx("option",{value:"grid",children:"Grid Search"}),o.jsx("option",{value:"halving_grid",children:"Successive Halving (Grid)"}),o.jsx("option",{value:"halving_random",children:"Successive Halving (Randomized)"}),o.jsx("option",{value:"optuna",children:"Optuna Search"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Metric"}),o.jsxs("select",{value:e.metric,onChange:D=>t({...e,metric:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"accuracy",children:"Accuracy"}),o.jsx("option",{value:"f1",children:"F1 Score"}),o.jsx("option",{value:"roc_auc",children:"ROC AUC"}),o.jsx("option",{value:"mse",children:"MSE"}),o.jsx("option",{value:"r2",children:"R2 Score"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Trials"}),o.jsx("input",{type:"number",value:e.n_trials,onChange:D=>t({...e,n_trials:Number(D.target.value)}),disabled:["grid","halving_grid"].includes(e.search_strategy),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 disabled:opacity-50",min:1})]})]})]}),o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>h(!f),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mm,{className:"w-4 h-4 text-purple-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),o.jsx(js,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-90":""}`})]}),f&&o.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:D=>t({...e,cv_enabled:D.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&o.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),o.jsx("input",{type:"number",value:e.cv_folds??5,onChange:D=>t({...e,cv_folds:Number(D.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),o.jsxs("select",{value:e.cv_type??"k_fold",onChange:D=>t({...e,cv_type:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"k_fold",children:"K-Fold"}),o.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),o.jsx("option",{value:"time_series_split",children:"Time Series"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:D=>t({...e,cv_shuffle:D.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),C=o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[o.jsx(Kx,{className:"w-4 h-4 text-purple-500"}),"Hyperparameters"]})}),i?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(ya,{className:"w-6 h-6 animate-spin text-purple-500"})}):o.jsxs("div",{className:"space-y-3",children:[n.map(D=>{var I;return o.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:o.jsx(Hue,{def:D,value:((I=e.search_space)==null?void 0:I[D.name])||[],onChange:R=>{t({...e,search_space:{...e.search_space,[D.name]:R}})}})},`${e.model_type}-${D.name}`)}),n.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hyperparameters available for this model."})]})]});return o.jsxs("div",{className:"flex flex-col h-full",ref:v,children:[m&&o.jsxs("div",{className:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded text-xs text-purple-700 dark:text-purple-300 flex justify-between items-start gap-2",children:[o.jsx("span",{children:"Automatically explore configurations to find the best performing model."}),o.jsx("button",{onClick:()=>{p(!1),sessionStorage.setItem("hide_info_model_optimizer","true")},className:"text-purple-400 hover:text-purple-600 dark:hover:text-purple-200",children:o.jsx(br,{className:"w-3 h-3"})})]}),!g&&o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="config"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>d("config"),children:"Configuration"}),o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="search_space"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>d("search_space"),children:"Search Space"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:g?o.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[o.jsx("div",{className:"overflow-y-auto pr-2",children:L}),o.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:C})]}):o.jsxs(o.Fragment,{children:[u==="config"&&L,u==="search_space"&&C]})}),o.jsxs("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:[o.jsxs("button",{onClick:P,className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[o.jsx(Nu,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-semibold",children:"Start Train-Optimization"})]}),o.jsxs("button",{onClick:()=>c(!0),className:"text-xs text-gray-500 hover:text-purple-600 dark:text-gray-400 dark:hover:text-purple-400 flex items-center gap-1.5 transition-colors px-3 py-1 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800",children:[o.jsx(nn,{className:"w-3.5 h-3.5"}),"View Best Parameters History"]})]}),o.jsx(Vue,{isOpen:l,onClose:()=>c(!1),modelType:e.model_type})]})},Kue={type:"hyperparameter_tuning",label:"Train Model and Optimize",category:"Modeling",description:"Automatically optimize model performance.",icon:HF,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Best Model",type:"model"}],settings:Wue,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",n_trials:10,metric:"accuracy",search_strategy:"random",cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42,random_state:42,search_space:{}})},que=({config:e,onChange:t})=>{const r=["train","validation","test"],n=["accuracy","precision","recall","f1","roc_auc","mse","rmse","r2"],a=s=>{const l=e.splits.includes(s)?e.splits.filter(c=>c!==s):[...e.splits,s];t({...e,splits:l})},i=s=>{const l=e.metrics.includes(s)?e.metrics.filter(c=>c!==s):[...e.metrics,s];t({...e,metrics:l})};return o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Evaluation Splits"}),o.jsx("div",{className:"space-y-2",children:r.map(s=>o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.splits.includes(s),onChange:()=>a(s),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsxs("span",{className:"capitalize",children:[s," Set"]})]},s))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metrics to Track"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(s=>o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.metrics.includes(s),onChange:()=>i(s),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"uppercase",children:s.replace("_"," ")})]},s))})]})]})},Yue={type:"model_evaluation",label:"Model Evaluation",category:"Evaluation",description:"Evaluate model performance on specific splits.",icon:Mm,inputs:[{id:"model",label:"Trained Model",type:"model"}],outputs:[{id:"report",label:"Evaluation Report",type:"report"}],settings:que,validate:e=>({isValid:e.splits.length>0,message:e.splits.length===0?"Select at least one split to evaluate":void 0}),getDefaultConfig:()=>({splits:["validation"],metrics:["accuracy","f1"]})},Gue=({config:e,onChange:t,nodeId:r})=>{var j;const n=lt(r||""),a=ve(k=>k.nodes),i=ve(k=>k.edges),s=ve(k=>k.executionResult),c=(k=>{var S;const _=new Set,N=[k];for(;N.length>0;){const E=N.shift();if(_.has(E))continue;_.add(E);const T=a.find(P=>P.id===E);if(!T)continue;if(E!==k&&((S=T.data)!=null&&S.datasetId))return T.data.datasetId;const O=Mi(T,a,i);for(const P of O)N.push(P.id)}})(r||""),u=(j=n.find(k=>k.target_column))==null?void 0:j.target_column;y.useEffect(()=>{const k={};c&&e.datasetId!==c&&(k.datasetId=c),u&&e.target_column!==u&&(k.target_column=u),Object.keys(k).length>0&&t({...e,...k})},[c,u,e.datasetId,e.target_column,t]);const{data:d,isLoading:f}=tt(c||e.datasetId),h=d?Object.values(d.columns).map(k=>k.name):[],m=y.useRef(null),[p,v]=y.useState(!1);y.useEffect(()=>{if(!m.current)return;const k=new ResizeObserver(_=>{for(const N of _)v(N.contentRect.width>450)});return k.observe(m.current),()=>k.disconnect()},[]);const x=()=>{const k=e.problem_type||"auto";return k==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:k==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},g=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),w=["select_from_model","rfe"].includes(e.method),b=()=>{const k=s==null?void 0:s.node_results[r||""];if(!k)return null;const _=k.metrics||{},N=_.dropped_columns,S=_.feature_scores,E=_.p_values,T=_.feature_importances,O=_.variances,P=_.ranking;return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),k.error&&o.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:k.error}),N&&N.length>0?o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:o.jsxs("span",{children:["Dropped Columns (",N.length,")"]})}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:N.map(L=>{const C=S==null?void 0:S[L],D=E==null?void 0:E[L],I=T==null?void 0:T[L],R=O==null?void 0:O[L],A=P==null?void 0:P[L];return o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:L,children:L}),o.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[C!==void 0&&o.jsxs("span",{children:["Score: ",C.toFixed(4)]}),D!==void 0&&o.jsxs("span",{children:["p-val: ",D.toExponential(2)]}),I!==void 0&&o.jsxs("span",{children:["Imp: ",I.toFixed(4)]}),R!==void 0&&o.jsxs("span",{children:["Var: ",R.toFixed(4)]}),A!==void 0&&o.jsxs("span",{children:["Rank: ",A]})]})]},L)})})]}):k.status==="success"&&o.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[o.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(S||T)&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(S||T||{}).sort(([,L],[,C])=>C-L).slice(0,5).map(([L,C])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"truncate max-w-[120px]",title:L,children:L}),o.jsx("span",{className:"font-mono text-[10px]",children:C.toFixed(4)})]},L))})]})]})};return o.jsxs("div",{ref:m,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!c&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),f&&!!c&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:k=>t({...e,method:k.target.value}),children:[o.jsxs("optgroup",{label:"Simple",children:[o.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),o.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),o.jsxs("optgroup",{label:"Univariate",children:[o.jsx("option",{value:"select_k_best",children:"Select K Best"}),o.jsx("option",{value:"select_percentile",children:"Select Percentile"}),o.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),o.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),o.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),o.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),o.jsxs("optgroup",{label:"Model Based",children:[o.jsx("option",{value:"select_from_model",children:"Select From Model"}),o.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),u?o.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[u," ",o.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:k=>t({...e,target_column:k.target.value}),children:[o.jsx("option",{value:"",children:"Select Target..."}),h.map(k=>o.jsx("option",{value:k,children:k},k))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(g||w)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:k=>t({...e,problem_type:k.target.value}),children:[o.jsx("option",{value:"auto",children:"Auto-detect"}),o.jsx("option",{value:"classification",children:"Classification"}),o.jsx("option",{value:"regression",children:"Regression"})]})]}),p&&o.jsx(b,{})]}),o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[o.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:k=>t({...e,correlation_method:k.target.value}),children:[o.jsx("option",{value:"pearson",children:"Pearson"}),o.jsx("option",{value:"spearman",children:"Spearman"}),o.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),g&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:k=>t({...e,score_func:k.target.value}),children:[o.jsx("option",{value:"",children:"Auto (Default)"}),x().map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:k=>t({...e,k:parseInt(k.target.value)})})]}),e.method==="select_percentile"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:k=>t({...e,percentile:parseInt(k.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),o.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:k=>t({...e,alpha:parseFloat(k.target.value)})})]}),e.method==="generic_univariate_select"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Mode"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:k=>t({...e,mode:k.target.value}),children:[o.jsx("option",{value:"k_best",children:"K Best"}),o.jsx("option",{value:"percentile",children:"Percentile"}),o.jsx("option",{value:"fpr",children:"FPR"}),o.jsx("option",{value:"fdr",children:"FDR"}),o.jsx("option",{value:"fwe",children:"FWE"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),o.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:k=>t({...e,param:parseFloat(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),w&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:k=>t({...e,estimator:k.target.value}),children:[o.jsx("option",{value:"auto",children:"Auto"}),o.jsx("option",{value:"RandomForest",children:"Random Forest"}),o.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),o.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:k=>t({...e,threshold:k.target.value})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Step"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:k=>t({...e,step:parseInt(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[o.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:k=>t({...e,drop_columns:k.target.checked})}),o.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!p&&o.jsx(b,{})]})]})]})},Xue={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:xP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:Gue,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},Que=({config:e,onChange:t,nodeId:r})=>{var g;const n=lt(r||""),a=ve(w=>w.nodes),i=ve(w=>w.edges),l=(w=>{var k;const b=new Set,j=[w];for(;j.length>0;){const _=j.shift();if(b.has(_))continue;b.add(_);const N=a.find(E=>E.id===_);if(!N)continue;if(_!==w&&((k=N.data)!=null&&k.datasetId))return N.data.datasetId;const S=Mi(N,a,i);for(const E of S)j.push(E.id)}})(r||""),c=(g=n.find(w=>w.target_column))==null?void 0:g.target_column;Yr.useEffect(()=>{const w={};l&&e.datasetId!==l&&(w.datasetId=l),c&&e.target_column!==c&&(w.target_column=c),Object.keys(w).length>0&&t({...e,...w})},[l,c,e.datasetId,e.target_column,t]);const{data:u,isLoading:d}=tt(l||e.datasetId),f=u?Object.values(u.columns).map(w=>w.name):[],h=e.validation_size||0,m=1-e.test_size-h,p=Yr.useRef(null),[v,x]=Yr.useState(!1);return Yr.useEffect(()=>{if(!p.current)return;const w=new ResizeObserver(b=>{for(const j of b)x(j.contentRect.width>450)});return w.observe(p.current),()=>w.disconnect()},[]),o.jsxs("div",{ref:p,className:`flex flex-col h-full w-full bg-background ${v?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!l&&!e.datasetId&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),d&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${v?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${v?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),o.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:w=>t({...e,test_size:parseFloat(w.target.value)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),o.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:h,onChange:w=>t({...e,validation_size:parseFloat(w.target.value)})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(m*100),"% Training, ",Math.round(h*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),m<=0&&o.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:w=>t({...e,random_state:parseInt(w.target.value)})})]})]}),o.jsxs("div",{className:`space-y-4 ${v?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:w=>t({...e,shuffle:w.target.checked})}),o.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:w=>t({...e,stratify:w.target.checked})}),o.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),o.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:w=>t({...e,target_column:w.target.value}),disabled:!e.stratify,children:[o.jsx("option",{value:"",children:"-- Select Target --"}),f.map(w=>o.jsx("option",{value:w,children:w},w))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},Zue={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:NP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:Que,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},Jue=({config:e,onChange:t,nodeId:r})=>{const n=ve(u=>u.nodes),a=ve(u=>u.edges),s=(u=>{var h;const d=new Set,f=[u];for(;f.length>0;){const m=f.shift();if(d.has(m))continue;d.add(m);const p=n.find(x=>x.id===m);if(!p)continue;if(m!==u&&((h=p.data)!=null&&h.datasetId))return p.data.datasetId;const v=Mi(p,n,a);for(const x of v)f.push(x.id)}})(r||"");Yr.useEffect(()=>{s&&e.datasetId!==s&&t({...e,datasetId:s})},[s,e.datasetId,t]);const{data:l}=tt(s||e.datasetId),c=l?Object.values(l.columns).map(u=>u.name):[];return o.jsx("div",{className:"p-4 space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:u=>t({...e,target_column:u.target.value}),children:[o.jsx("option",{value:"",children:"-- Select Target --"}),c.map(u=>o.jsx("option",{value:u,children:u},u))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},ede={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:NP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:Jue,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},tde=({config:e,onChange:t,nodeId:r})=>{var u;const a=(u=lt(r||"").find(d=>d.datasetId))==null?void 0:u.datasetId,{isLoading:i}=tt(a),s=ve(d=>d.executionResult),l=r?s==null?void 0:s.node_results[r]:null,c=l==null?void 0:l.metrics;return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:d=>t({...e,drop_if_any_missing:d.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),o.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[o.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:d=>t({...e,missing_threshold:parseInt(d.target.value)}),className:"flex-1"}),o.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),c&&c.DropMissingRows_rows_removed!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(nn,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),o.jsx("span",{className:"font-medium text-destructive",children:c.DropMissingRows_rows_removed})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),o.jsx("span",{className:"font-medium",children:c.DropMissingRows_rows_remaining})]}),o.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),o.jsx("span",{className:"font-medium",children:c.DropMissingRows_rows_total})]})]})]})]})},rde={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:_F,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:tde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},nde=({config:e,onChange:t,nodeId:r})=>{var x;const a=(x=lt(r||"").find(g=>g.datasetId))==null?void 0:x.datasetId,{data:i,isLoading:s}=tt(a),l=i?Object.values(i.columns).map(g=>g.name):[],c=ve(g=>g.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,[f,h]=y.useState(""),m=y.useMemo(()=>l.filter(g=>g.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,subset:m})},v=()=>{const g=e.subset.filter(w=>!m.includes(w));t({...e,subset:g})};return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:g=>t({...e,keep:g.target.value}),children:[o.jsx("option",{value:"first",children:"Keep First Occurrence"}),o.jsx("option",{value:"last",children:"Keep Last Occurrence"}),o.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:g=>h(g.target.value)}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:v,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[m.map(g=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(g),onChange:w=>{const b=w.target.checked?[...e.subset,g]:e.subset.filter(j=>j!==g);t({...e,subset:b})}}),g]},g)),m.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.Deduplicate_rows_removed!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(nn,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),o.jsx("span",{className:"font-medium text-destructive",children:d.Deduplicate_rows_removed})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),o.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_remaining})]}),o.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),o.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_total})]})]})]})]})},ade={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:bF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:nde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},ide=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],sde=({config:e,onChange:t,nodeId:r})=>{var w;const a=(w=lt(r||"").find(b=>b.datasetId))==null?void 0:w.datasetId,{data:i,isLoading:s}=tt(a),l=i?Object.values(i.columns).map(b=>b.name):[],c=ve(b=>b.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=y.useRef(null),[h,m]=y.useState(!1);y.useEffect(()=>{if(!f.current)return;const b=new ResizeObserver(j=>{for(const k of j)m(k.contentRect.width>450)});return b.observe(f.current),()=>b.disconnect()},[]);const p=()=>{if(l.length===0)return;const b=l.find(j=>!e.column_types[j])||l[0];t({...e,column_types:{...e.column_types,[b]:"float"}})},v=b=>{const j={...e.column_types};delete j[b],t({...e,column_types:j})},x=(b,j)=>{if(b===j)return;const k=e.column_types[b],_={...e.column_types};delete _[b],_[j]=k,t({...e,column_types:_})},g=(b,j)=>{t({...e,column_types:{...e.column_types,[b]:j}})};return o.jsxs("div",{ref:f,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),o.jsx("button",{onClick:p,disabled:!a||l.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:o.jsx(Rs,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:`space-y-2 ${h?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([b,j])=>o.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[o.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[o.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:b,onChange:k=>x(b,k.target.value),children:l.map(k=>o.jsx("option",{value:k,disabled:k!==b&&!!e.column_types[k],children:k},k))}),o.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:j,onChange:k=>g(b,k.target.value),children:ide.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))})]}),o.jsx("button",{onClick:()=>v(b),className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:o.jsx(Ti,{className:"w-4 h-4"})})]},b)),Object.keys(e.column_types).length===0&&o.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${h?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),d&&(d.cast_errors!==void 0||d.casted_columns_count!==void 0)&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(nn,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[d.casted_columns_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),o.jsx("span",{className:"font-medium",children:d.casted_columns_count})]}),d.cast_errors!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),o.jsx("span",{className:"font-medium text-destructive",children:d.cast_errors})]})]})]})]})},ode={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:NF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:sde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},lde=({config:e,onChange:t,nodeId:r})=>{var x;const a=(x=lt(r||"").find(g=>g.datasetId))==null?void 0:x.datasetId,{data:i,isLoading:s}=tt(a),l=i?Object.values(i.columns).map(g=>g.name):[],c=ve(g=>g.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,[f,h]=y.useState(""),m=y.useMemo(()=>l.filter(g=>g.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,columns:m})},v=()=>{const g=e.columns.filter(w=>!m.includes(w));t({...e,columns:g})};return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:g=>t({...e,flag_suffix:g.target.value}),placeholder:"_was_missing"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:g=>h(g.target.value)}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:v,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[m.map(g=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(g),onChange:w=>{const b=w.target.checked?[...e.columns,g]:e.columns.filter(j=>j!==g);t({...e,columns:b})}}),g]},g)),m.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.missing_indicators_created!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(nn,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),o.jsx("span",{className:"font-medium text-primary",children:d.missing_indicators_created})]}),d.missing_indicators_columns&&Array.isArray(d.missing_indicators_columns)&&d.missing_indicators_columns.length>0&&o.jsxs("div",{className:"pt-1 border-t mt-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:d.missing_indicators_columns.map(g=>o.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:g},g))})]})]})]})]})},cde={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:SF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:lde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},ude=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=lt(r||"").find(_=>_.datasetId))==null?void 0:k.datasetId,{data:i,isLoading:s}=tt(a),[l,c]=y.useState(""),u=y.useRef(null),[d,f]=y.useState(!1),h=ve(_=>_.executionResult),m=r?h==null?void 0:h.node_results[r]:null,p=m==null?void 0:m.metrics,x=((h==null?void 0:h.recommendations)||[]).filter(_=>_.suggested_node_type==="encoding"||_.type.includes("encoding")||_.type.includes("cardinality"));y.useEffect(()=>{if(!u.current)return;const _=new ResizeObserver(N=>{for(const S of N)f(S.contentRect.width>400)});return _.observe(u.current),()=>_.disconnect()},[]);const g=i?Object.values(i.columns).filter(_=>["object","string","category","bool"].some(N=>{var S;return(S=_.dtype)==null?void 0:S.toLowerCase().includes(N)})).map(_=>_.name):[],w=g.filter(_=>_.toLowerCase().includes(l.toLowerCase())),b=()=>{t({...e,columns:[...g]})},j=()=>{t({...e,columns:[]})};return o.jsxs("div",{ref:u,className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:`grid gap-4 ${d?"grid-cols-2":"grid-cols-1"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:_=>t({...e,method:_.target.value}),children:[o.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),o.jsx("option",{value:"dummy",children:"Dummy Encoding"}),o.jsx("option",{value:"label",children:"Label Encoding"}),o.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),o.jsx("option",{value:"target",children:"Target Encoding"}),o.jsx("option",{value:"hash",children:"Hash Encoding"})]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]}),o.jsxs("div",{className:"pt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:e.drop_original!==!1,onChange:_=>t({...e,drop_original:_.target.checked}),className:"rounded border-gray-300"}),"Drop Original Column"]}),o.jsx("p",{className:"text-[10px] text-muted-foreground ml-5",children:"If unchecked, keeps the original column alongside encoded features."})]})]}),o.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:_=>t({...e,drop_first:_.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),o.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:_=>t({...e,handle_unknown:_.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[o.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),o.jsx("option",{value:"error",children:"Raise Error"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:_=>t({...e,target_column:_.target.value}),children:[o.jsx("option",{value:"",children:"Select a target column..."}),i&&Object.values(i.columns).map(_=>o.jsxs("option",{value:_.name,children:[_.name," (",_.dtype,")"]},_.name))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:_=>t({...e,n_features:parseInt(_.target.value)})})]}),e.method==="ordinal"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:_=>t({...e,unknown_value:parseInt(_.target.value)}),title:"Integer to assign for unknown categories."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:_=>t({...e,missing_code:parseInt(_.target.value)}),title:"Integer to assign for missing or unknown categories."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:l,onChange:_=>c(_.target.value)}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),g.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[w.map(_=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(_),onChange:N=>{const S=N.target.checked?[...e.columns,_]:e.columns.filter(E=>E!==_);t({...e,columns:S})}}),_]},_)),w.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',l,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),x.length>0&&o.jsx(Fs,{recommendations:x}),p&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(nn,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[p.encoded_columns_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),o.jsx("span",{className:"font-medium",children:p.encoded_columns_count})]}),p.new_features_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),o.jsx("span",{className:"font-medium text-primary",children:p.new_features_count})]}),p.categories_count&&o.jsxs("div",{className:"mt-2 border-t pt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(p.categories_count).map(([_,N])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),o.jsx("span",{className:"font-mono",children:N})]},_))})]}),p.classes_count&&o.jsxs("div",{className:"mt-2 border-t pt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(p.classes_count).map(([_,N])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),o.jsx("span",{className:"font-mono",children:N})]},_))})]})]})]})]})},dde={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:OF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:ude,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},fde=({config:e,onChange:t,nodeId:r})=>{const n=ve(N=>N.nodes),a=ve(N=>N.edges),s=(N=>{var T;const S=new Set,E=[N];for(;E.length>0;){const O=E.shift();if(S.has(O))continue;S.add(O);const P=n.find(C=>C.id===O);if(!P)continue;if(O!==N&&((T=P.data)!=null&&T.datasetId))return P.data.datasetId;const L=Mi(P,n,a);for(const C of L)E.push(C.id)}})(r||""),{data:l,isLoading:c}=tt(s),u=El(r||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),d=ve(N=>N.executionResult),f=r?d==null?void 0:d.node_results[r]:null,h=y.useRef(null),[m,p]=y.useState(!1),[v,x]=y.useState("");y.useEffect(()=>{if(!h.current)return;const N=new ResizeObserver(S=>{for(const E of S)p(E.contentRect.width>450)});return N.observe(h.current),()=>N.disconnect()},[]);const g=l?Object.values(l.columns).filter(N=>["int","float","number"].some(S=>{var E;return(E=N.dtype)==null?void 0:E.toLowerCase().includes(S)})).map(N=>N.name):[],w=g.filter(N=>N.toLowerCase().includes(v.toLowerCase())),b=()=>{t({...e,columns:w})},j=()=>{const N=e.columns.filter(S=>!w.includes(S));t({...e,columns:N})},k=()=>{if(!f||!f.metrics)return null;const N=f.metrics,S=N.rows_removed,E=N.rows_remaining,T=N.rows_total??(S??0)+(E??0),O=N.bounds,P=N.stats,L=N.contamination,C=N.warnings,D=N.values_clipped;if(S===void 0&&!O&&!P&&L===void 0&&!C&&D===void 0)return null;const I=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),o.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:I()})]}),C&&C.length>0&&o.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[o.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),o.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:C.map((R,A)=>o.jsx("li",{className:"truncate",title:R,children:R},A))})]}),e.method==="winsorize"?o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"font-mono font-medium text-blue-600",children:D??0}),o.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):(S!==void 0||T!==void 0)&&o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center justify-end gap-1",children:[o.jsx("span",{className:"font-mono font-medium text-destructive",children:S??0}),T>0&&o.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((S??0)/T*100).toFixed(1),"%)"]})]}),E!==void 0&&o.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[E," remaining"]})]})]}),L!==void 0&&o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),o.jsxs("span",{className:"font-mono font-medium",children:[(L*100).toFixed(1),"%"]})]}),O&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(O).map(([R,A])=>o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),o.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",A.lower.toFixed(2),", ",A.upper.toFixed(2),"]"]})]},R))})]}),P&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(P).map(([R,A])=>o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),o.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",A.mean.toFixed(2),", =",A.std.toFixed(2)]})]},R))})]})]})},_=()=>{const N=[];if(f&&f.metrics){const E=f.metrics,T=E.rows_removed,P=E.rows_total??E[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if(T!==void 0&&P!==void 0&&P>0){const L=T/P;L>.2?N.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):L===0&&e.method!=="winsorize"&&N.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&N.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const S=[...u,...N];return S.length===0?null:o.jsx("div",{className:"mt-4",children:o.jsx(Fs,{recommendations:S})})};return o.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${m?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!s&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${m?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${m?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:N=>t({...e,method:N.target.value}),children:[o.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),o.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),o.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),o.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:N=>t({...e,multiplier:parseFloat(N.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:N=>t({...e,threshold:parseFloat(N.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:N=>t({...e,lower_percentile:parseFloat(N.target.value)})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:N=>t({...e,upper_percentile:parseFloat(N.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),o.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:N=>t({...e,contamination:parseFloat(N.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),m&&o.jsxs(o.Fragment,{children:[o.jsx(k,{}),o.jsx(_,{})]})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${m?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:b,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:v,onChange:N=>x(N.target.value)})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:w.length>0?w.map(N=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:S=>{const E=S.target.checked?[...e.columns,N]:e.columns.filter(T=>T!==N);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:N,children:N})]},N)):o.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:c?"Loading schema...":g.length===0?"No numeric columns found":"No matches found"})})]}),!m&&o.jsxs(o.Fragment,{children:[o.jsx(k,{}),o.jsx(_,{})]})]})]})},hde={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:UF,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:fde,validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},u0={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},mde=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",pde=({allColumns:e,selectedColumns:t,onChange:r})=>{const[n,a]=y.useState(""),i=y.useMemo(()=>e.filter(u=>u.toLowerCase().includes(n.toLowerCase())),[e,n]),s=()=>{const u=Array.from(new Set([...t,...i]));r(u)},l=()=>{const u=t.filter(d=>!i.includes(d));r(u)},c=u=>{t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return o.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[o.jsx("div",{className:"flex gap-2 items-center",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ls,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),o.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:n,onChange:u=>a(u.target.value)})]})}),o.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[o.jsx("button",{onClick:s,className:"text-primary hover:underline font-medium",children:"Select All"}),o.jsx("span",{className:"text-muted-foreground",children:"|"}),o.jsx("button",{onClick:l,className:"text-muted-foreground hover:underline",children:"None"}),o.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:i.length===0?o.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',n,'"']}):i.map(u=>o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:t.includes(u),onChange:()=>c(u),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:u,children:u})]},u))})]})},gde=({config:e,onChange:t,nodeId:r})=>{var j;const n=y.useMemo(()=>e||{transformations:[]},[e]),a=y.useMemo(()=>Array.isArray(n.transformations)?n.transformations:[],[n.transformations]),[i,s]=y.useState([]),l=y.useRef(null),[c,u]=y.useState(!1);y.useEffect(()=>{if(!l.current)return;const k=new ResizeObserver(_=>{for(const N of _)u(N.contentRect.width>450)});return k.observe(l.current),()=>k.disconnect()},[]);const f=(j=lt(r||"").find(k=>k.datasetId))==null?void 0:j.datasetId,{data:h}=tt(f),m=y.useMemo(()=>h!=null&&h.columns?Object.values(h.columns).filter(k=>["int","float","number"].some(_=>{var N;return(N=k.dtype)==null?void 0:N.toLowerCase().includes(_)})).map(k=>k.name):[],[h]),p=()=>{const k=a.length;s(_=>[..._,k]),t({transformations:[...a,{columns:[],method:"log",params:{}}]})},v=(k,_)=>{const N=[...a];N[k]={...N[k],..._},t({transformations:N})},x=k=>{const _=[...a];_.splice(k,1),t({transformations:_}),s(N=>N.filter(S=>S!==k).map(S=>S>k?S-1:S))},g=k=>{s(_=>_.includes(k)?_.filter(N=>N!==k):[..._,k])},w=(k,_)=>{const N=u0[_].methods[0].value;v(k,{method:N})},b=El(r||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return o.jsxs("div",{ref:l,className:"p-4 space-y-6 h-full overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),o.jsxs("button",{onClick:p,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[o.jsx(Rs,{size:12})," Add Rule"]})]}),o.jsxs("div",{className:"space-y-4",children:[a.map((k,_)=>{var T,O,P;const N=mde(k.method),S=i.includes(_),E=((T=u0[N].methods.find(L=>L.value===k.method))==null?void 0:T.label)||k.method;return o.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>g(_),children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[S?o.jsx(Lt,{size:16,className:"text-muted-foreground flex-shrink-0"}):o.jsx(js,{size:16,className:"text-muted-foreground flex-shrink-0"}),o.jsxs("div",{className:"flex flex-col overflow-hidden",children:[o.jsx("span",{className:"text-sm font-medium truncate",children:E}),o.jsx("span",{className:"text-xs text-muted-foreground truncate",children:k.columns.length===0?"No columns selected":`${k.columns.length} columns`})]})]}),o.jsx("button",{onClick:L=>{L.stopPropagation(),x(_)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:o.jsx(Ti,{size:14})})]}),S&&o.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${c?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),o.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:N,onChange:L=>w(_,L.target.value),onClick:L=>L.stopPropagation(),children:[o.jsx("option",{value:"simple",children:"Simple Math"}),o.jsx("option",{value:"power",children:"Power Transform"})]}),o.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:k.method,onChange:L=>v(_,{method:L.target.value}),onClick:L=>L.stopPropagation(),children:u0[N].methods.map(L=>o.jsx("option",{value:L.value,children:L.label},L.value))})]}),(k.method==="yeo-johnson"||k.method==="box-cox")&&o.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:L=>L.stopPropagation(),children:[o.jsx("input",{type:"checkbox",id:`std-${_}`,checked:((O=k.params)==null?void 0:O.standardize)!==!1,onChange:L=>v(_,{params:{...k.params,standardize:L.target.checked}})}),o.jsx("label",{htmlFor:`std-${_}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),k.method==="exponential"&&o.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:L=>L.stopPropagation(),children:[o.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),o.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((P=k.params)==null?void 0:P.clip_threshold)||700,onChange:L=>v(_,{params:{...k.params,clip_threshold:parseFloat(L.target.value)}})})]})]}),o.jsxs("div",{className:"space-y-1 min-w-0",onClick:L=>L.stopPropagation(),children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),o.jsx(pde,{allColumns:m,selectedColumns:k.columns||[],onChange:L=>v(_,{columns:L})})]})]})]},_)}),a.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",o.jsx("br",{}),'Click "Add Rule" to start.']})]}),o.jsx(Fs,{recommendations:b||[],onApply:k=>{var E,T;const _=k,N=((E=_.suggested_params)==null?void 0:E.method)||((T=_.params)==null?void 0:T.method)||"log",S=_.target_columns||[];if(S.length>0){const O=a.length;s(P=>[...P,O]),t({transformations:[...a,{columns:S,method:N,params:{}}]})}}})]})},yde={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:_P,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(!(e!=null&&e.transformations)||e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(!t.columns||t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:gde,getDefaultConfig:()=>({transformations:[]})},vde=({value:e,onChange:t})=>{const[r,n]=y.useState((e==null?void 0:e.join(", "))||""),a=y.useRef(e);y.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(a.current)&&(n((e==null?void 0:e.join(", "))||""),a.current=e)},[e]);const i=()=>{const s=r.split(",").map(l=>parseFloat(l.trim())).filter(l=>!isNaN(l)).sort((l,c)=>l-c);t(s)};return o.jsx("input",{type:"text",className:"w-full p-1 text-xs border rounded bg-background text-foreground",placeholder:"0, 10, 20, 100...",value:r,onChange:s=>n(s.target.value),onBlur:i})},xde=({config:e,onChange:t,nodeId:r})=>{var g;const a=(g=lt(r||"").find(w=>w.datasetId))==null?void 0:g.datasetId,{data:i,isLoading:s}=tt(a),l=y.useRef(null),[c,u]=y.useState(!1),[d,f]=y.useState("");y.useEffect(()=>{if(!l.current)return;const w=new ResizeObserver(b=>{for(const j of b)u(j.contentRect.width>450)});return w.observe(l.current),()=>w.disconnect()},[]);const h=i?Object.values(i.columns).filter(w=>["int","float","number"].some(b=>{var j;return(j=w.dtype)==null?void 0:j.toLowerCase().includes(b)})).map(w=>w.name):[],m=h.filter(w=>w.toLowerCase().includes(d.toLowerCase())),p=()=>{t({...e,columns:m})},v=()=>{const w=e.columns.filter(b=>!m.includes(b));t({...e,columns:w})},x=w=>{e.columns.includes(w)?t({...e,columns:e.columns.filter(b=>b!==w)}):t({...e,columns:[...e.columns,w]})};return o.jsxs("div",{ref:l,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o.jsxs("div",{className:`grid gap-4 ${c?"grid-cols-2":"grid-cols-1"}`,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Binning Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.strategy,onChange:w=>t({...e,strategy:w.target.value}),children:[o.jsx("option",{value:"equal_width",children:"Equal Width (Uniform)"}),o.jsx("option",{value:"equal_frequency",children:"Equal Frequency (Quantile)"}),o.jsx("option",{value:"kmeans",children:"K-Means Clustering"}),o.jsx("option",{value:"custom",children:"Custom Edges"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[e.strategy==="equal_width"&&"Bins have equal width ranges.",e.strategy==="equal_frequency"&&"Bins have equal number of records.",e.strategy==="kmeans"&&"Bins based on K-Means clustering centers.",e.strategy==="custom"&&"Define specific bin edges for each column."]})]}),e.strategy!=="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Number of Bins"}),o.jsx("input",{type:"number",min:2,max:100,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.n_bins,onChange:w=>t({...e,n_bins:parseInt(w.target.value)||5})})]}),e.strategy==="custom"&&o.jsxs("div",{className:"space-y-2 border rounded p-2 bg-muted/10",children:[o.jsx("label",{className:"block text-xs font-medium",children:"Custom Edges"}),e.columns.length===0?o.jsx("div",{className:"text-xs text-muted-foreground",children:"Select columns first."}):o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.columns.map(w=>{var b;return o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-medium",children:w}),o.jsx(vde,{value:(b=e.custom_bins)==null?void 0:b[w],onChange:j=>t({...e,custom_bins:{...e.custom_bins,[w]:j}})})]},w)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Label Format"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.label_format,onChange:w=>t({...e,label_format:w.target.value}),children:[o.jsx("option",{value:"ordinal",children:"Ordinal (0, 1, 2...)"}),o.jsx("option",{value:"range",children:"Range Intervals ([0-10], [10-20]...)"}),o.jsx("option",{value:"bin_index",children:"Bin Index"})]})]}),e.label_format==="range"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Precision (Decimals)"}),o.jsx("input",{type:"number",min:0,max:10,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.precision??3,onChange:w=>t({...e,precision:parseInt(w.target.value)||0})}),o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Number of decimal places to show in interval labels (e.g. 2 gives [0.00, 10.00])."})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"drop_original",checked:e.drop_original,onChange:w=>t({...e,drop_original:w.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("label",{htmlFor:"drop_original",className:"text-sm",children:"Drop Original Columns"})]}),!e.drop_original&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Suffix"}),o.jsx("input",{type:"text",className:"w-full p-1.5 border rounded text-xs",placeholder:"_binned",value:e.output_suffix||"",onChange:w=>t({...e,output_suffix:w.target.value})})]})]})]}),o.jsxs("div",{className:"space-y-2 flex flex-col h-full min-h-[200px]",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Columns"}),o.jsx("div",{className:"flex gap-2",children:o.jsx("input",{className:"w-full px-2 py-1 text-xs border rounded bg-background text-foreground",placeholder:"Search columns...",value:d,onChange:w=>f(w.target.value)})}),o.jsxs("div",{className:"flex gap-2 text-xs border-b pb-1",children:[o.jsx("button",{onClick:p,className:"text-primary hover:underline",children:"Select All"}),o.jsx("span",{className:"text-muted-foreground",children:"|"}),o.jsx("button",{onClick:v,className:"text-muted-foreground hover:underline",children:"None"}),o.jsxs("span",{className:"ml-auto text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("div",{className:"flex-1 border rounded bg-background overflow-y-auto p-2 max-h-[300px]",children:s?o.jsx("div",{className:"text-xs text-muted-foreground p-2",children:"Loading columns..."}):m.length===0?o.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:h.length===0?"No numeric columns found.":`No columns match "${d}"`}):o.jsx("div",{className:"space-y-1",children:m.map(w=>o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(w),onChange:()=>x(w),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:w,children:w})]},w))})})]})]})]})},bde={type:"BinningNode",label:"Binning / Discretization",description:"Convert continuous variables into discrete bins.",icon:Mm,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Binned"}],validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column to bin."}:e.n_bins<2?{isValid:!1,message:"Number of bins must be at least 2."}:{isValid:!0},settings:xde,getDefaultConfig:()=>({columns:[],strategy:"equal_width",n_bins:5,label_format:"ordinal",output_suffix:"_binned",drop_original:!1})},wde=({nodeId:e})=>{const t=ve(a=>a.executionResult),r=e?t==null?void 0:t.node_results[e]:null;if(!r)return null;const n=a=>a?o.jsx("div",{className:"space-y-1",children:Object.entries(a).map(([i,s])=>typeof s=="object"&&s!==null?o.jsxs("div",{className:"mt-1",children:[o.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[i.replace(/_/g," "),":"]}),o.jsx("div",{className:"pl-2 border-l-2 border-gray-200 dark:border-gray-700 ml-1",children:n(s)})]},i):o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[i.replace(/_/g," "),":"]}),o.jsx("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:String(s)})]},i))}):null;return o.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Last Run Results"}),o.jsxs("div",{className:"text-xs space-y-1 text-gray-600 dark:text-gray-300",children:[r.metrics&&o.jsx("div",{className:"mt-2",children:n(r.metrics)}),r.error&&o.jsxs("div",{className:"mt-2 text-red-500 break-words",children:["Error: ",r.error]}),!r.metrics&&!r.error&&o.jsx("div",{className:"italic text-gray-500",children:"No metrics available"})]})]})},jde=({config:e,onChange:t,nodeId:r})=>{var v,x;const n=y.useRef(null),[a,i]=y.useState(!1),[s,l]=y.useState(!0),c=lt(r||""),u=(v=c.find(g=>g.datasetId))==null?void 0:v.datasetId,{data:d}=tt(u),f=(x=c.find(g=>{var w;return(w=g.config)==null?void 0:w.target_column}))==null?void 0:x.config.target_column;y.useEffect(()=>{if(!e.target_column){if(f)t({...e,target_column:f});else if(d!=null&&d.columns){const g=Object.values(d.columns).find(w=>w.name.toLowerCase()==="target"||w.name.toLowerCase()==="class"||w.column_type==="target");g&&t({...e,target_column:g.name})}}},[d,f,e.target_column]),y.useEffect(()=>{if(!n.current)return;const g=new ResizeObserver(w=>{for(const b of w)i(b.contentRect.width>400)});return g.observe(n.current),()=>g.disconnect()},[]);const h=El(r||"",{types:["resampling"],suggestedNodeTypes:["ResamplingNode"]}),m=g=>{g.suggested_params&&t({...e,...g.suggested_params})},p=(g,w)=>{const b={...e,[g]:w};g==="type"&&(w==="oversampling"?b.method="smote":b.method="random_under_sampling"),t(b)};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resampling Type"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.type,onChange:g=>p("type",g.target.value),children:[o.jsx("option",{value:"oversampling",children:"Oversampling (Minority)"}),o.jsx("option",{value:"undersampling",children:"Undersampling (Majority)"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Method"}),o.jsx("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.method,onChange:g=>p("method",g.target.value),children:e.type==="oversampling"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"smote",children:"SMOTE"}),o.jsx("option",{value:"adasyn",children:"ADASYN"}),o.jsx("option",{value:"borderline_smote",children:"Borderline SMOTE"}),o.jsx("option",{value:"svm_smote",children:"SVM SMOTE"}),o.jsx("option",{value:"kmeans_smote",children:"KMeans SMOTE"}),o.jsx("option",{value:"smote_tomek",children:"SMOTE + Tomek"})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"random_under_sampling",children:"Random Under Sampling"}),o.jsx("option",{value:"nearmiss",children:"NearMiss"}),o.jsx("option",{value:"tomek_links",children:"Tomek Links"}),o.jsx("option",{value:"edited_nearest_neighbours",children:"Edited Nearest Neighbours"})]})}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.type==="oversampling"?"Generate synthetic samples for the minority class.":"Remove samples from the majority class."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Column"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"e.g., target",value:e.target_column,onChange:g=>p("target_column",g.target.value),list:"target-column-suggestions"}),(d==null?void 0:d.columns)&&o.jsx("datalist",{id:"target-column-suggestions",children:Object.values(d.columns).map(g=>o.jsx("option",{value:g.name},g.name))})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f?"Auto-detected from upstream node.":"The column containing the class labels."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sampling Strategy"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.sampling_strategy,onChange:g=>p("sampling_strategy",g.target.value),children:[o.jsx("option",{value:"auto",children:"Auto (Resample all classes but majority)"}),o.jsx("option",{value:"minority",children:"Minority (Resample only minority class)"}),o.jsx("option",{value:"not minority",children:"Not Minority (Resample all but minority)"}),o.jsx("option",{value:"not majority",children:"Not Majority (Resample all but majority)"}),o.jsx("option",{value:"all",children:"All (Resample all classes)"})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Defines which classes to resample."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.random_state,onChange:g=>p("random_state",parseInt(g.target.value))})]})]}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[e.type==="oversampling"&&o.jsxs(o.Fragment,{children:[["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"k Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.k_neighbors??5,onChange:g=>p("k_neighbors",parseInt(g.target.value))})]}),["borderline_smote","svm_smote"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"m Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.m_neighbors??10,onChange:g=>p("m_neighbors",parseInt(g.target.value))})]}),e.method==="borderline_smote"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kind"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind??"borderline-1",onChange:g=>p("kind",g.target.value),children:[o.jsx("option",{value:"borderline-1",children:"Borderline-1"}),o.jsx("option",{value:"borderline-2",children:"Borderline-2"})]})]}),e.method==="svm_smote"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Out Step"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.out_step??.5,onChange:g=>p("out_step",parseFloat(g.target.value))})]}),e.method==="kmeans_smote"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cluster Balance Threshold"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.cluster_balance_threshold??.1,onChange:g=>p("cluster_balance_threshold",parseFloat(g.target.value))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Density Exponent"}),o.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.density_exponent??"auto",onChange:g=>p("density_exponent",g.target.value)})]})]})]}),e.type==="undersampling"&&e.method==="random_under_sampling"&&o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Replacement"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sample with replacement"})]}),o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:e.replacement??!1,onChange:g=>p("replacement",g.target.checked)})]}),e.type==="undersampling"&&e.method==="nearmiss"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Version"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.version??1,onChange:g=>p("version",parseInt(g.target.value)),children:[o.jsx("option",{value:"1",children:"1"}),o.jsx("option",{value:"2",children:"2"}),o.jsx("option",{value:"3",children:"3"})]})]}),e.type==="undersampling"&&e.method==="edited_nearest_neighbours"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"n Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.n_neighbors??3,onChange:g=>p("n_neighbors",parseInt(g.target.value))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selection Kind"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind_sel??"all",onChange:g=>p("kind_sel",g.target.value),children:[o.jsx("option",{value:"all",children:"All"}),o.jsx("option",{value:"mode",children:"Mode"})]})]})]}),h.length>0&&o.jsxs("div",{className:"mt-0 border rounded-md overflow-hidden border-gray-200 dark:border-gray-700",children:[o.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>l(!s),children:[o.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Recommendations (",h.length,")"]}),s?o.jsx(hl,{size:16}):o.jsx(Lt,{size:16})]}),s&&o.jsx("div",{className:"p-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:o.jsx(Fs,{recommendations:h,onApply:m})})]}),r&&o.jsx(wde,{nodeId:r})]})]})})},kde=e=>e.target_column?e.type==="oversampling"&&["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&(e.k_neighbors??5)<1?{isValid:!1,message:"k_neighbors must be at least 1."}:{isValid:!0}:{isValid:!1,message:"Target column is required for resampling."},Nde={type:"ResamplingNode",label:"Resampling",category:"Preprocessing",description:"Balance dataset classes using oversampling or undersampling techniques.",icon:nn,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Balanced Data",type:"dataset"}],settings:jde,validate:kde,getDefaultConfig:()=>({type:"oversampling",method:"smote",target_column:"",sampling_strategy:"auto",random_state:42,k_neighbors:5,replacement:!1,version:1,n_neighbors:3,kind_sel:"all"})},_de=[{value:"arithmetic",label:"Arithmetic",icon:Hx},{value:"datetime_extract",label:"Date Extraction",icon:by},{value:"ratio",label:"Ratio",icon:LF},{value:"similarity",label:"Similarity",icon:CF},{value:"polynomial",label:"Polynomial",icon:XF},{value:"group_agg",label:"Group Agg",icon:_P}],Sde=["add","subtract","multiply","divide"],Ede=["year","month","day","weekday","hour","quarter","is_weekend"],Cde=["ratio","token_sort_ratio","token_set_ratio"],Pde=["mean","sum","count","min","max","std","median"],Mn=({columns:e,selected:t,onChange:r,label:n,single:a})=>{const[i,s]=y.useState(""),l=e.filter(u=>u.toLowerCase().includes(i.toLowerCase())),c=u=>{a?r([u]):t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return o.jsxs("div",{className:"space-y-1.5",children:[n&&o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ls,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:i,onChange:u=>s(u.target.value)})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:l.length>0?l.map(u=>{const d=t.includes(u);return o.jsxs("div",{onClick:()=>c(u),className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${d?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[o.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:d&&o.jsx(zc,{size:8,strokeWidth:4})}),o.jsx("span",{className:"truncate",children:u})]},u)}):o.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center italic",children:"No columns found"})})]})]})},Ode=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=lt(r||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:i}=tt(a),s=ve(N=>N.executionResult),l=r?s==null?void 0:s.node_results[r]:null,c=l==null?void 0:l.metrics,[u,d]=y.useState(!1),f=i?Object.values(i.columns).map(N=>N.name):[],h=i?Object.values(i.columns).filter(N=>["int","float","number"].some(S=>{var E;return(E=N.dtype)==null?void 0:E.toLowerCase().includes(S)})).map(N=>N.name):[],m=i?Object.values(i.columns).filter(N=>["date","time"].some(S=>{var E;return(E=N.dtype)==null?void 0:E.toLowerCase().includes(S)})).map(N=>N.name):[],p=i?Object.values(i.columns).filter(N=>["string","object","text"].some(S=>{var E;return(E=N.dtype)==null?void 0:E.toLowerCase().includes(S)})).map(N=>N.name):[],v=El(r||"",{types:["feature_generation"],suggestedNodeTypes:["FeatureGenerationNode"],scope:"column"}),x=N=>{console.log("Applying recommendation:",N)},g=N=>{const S={operation_type:N,method:N==="arithmetic"?"add":N==="similarity"?"ratio":N==="group_agg"?"mean":N==="polynomial"?"poly":"year",input_columns:[],output_column:"",datetime_features:N==="datetime_extract"?["year"]:void 0,degree:N==="polynomial"?2:void 0,interaction_only:N==="polynomial"?!1:void 0,isExpanded:!0};t({operations:[...e.operations||[],S]})},w=(N,S)=>{const E=[...e.operations||[]];E[N]={...E[N],...S},t({operations:E})},b=(N,S)=>{S.stopPropagation();const E=[...e.operations||[]];E.splice(N,1),t({operations:E})},j=N=>{const S=[...e.operations||[]];S[N]={...S[N],isExpanded:!S[N].isExpanded},t({operations:S})},k=(N,S)=>`${N.operation_type}_${S}`;return o.jsxs("div",{className:"flex h-full",children:[o.jsxs("div",{className:"w-20 border-r bg-muted/10 flex flex-col items-center py-4 gap-2 overflow-y-auto shrink-0",children:[o.jsx("span",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider",children:"Add"}),_de.map(N=>o.jsxs("button",{onClick:()=>g(N.value),className:"flex flex-col items-center justify-center gap-1 p-1.5 rounded-md border bg-card hover:bg-accent hover:border-primary/50 transition-all group w-16 h-14 shadow-sm",title:N.label,children:[o.jsx(N.icon,{size:18,className:"text-muted-foreground group-hover:text-primary"}),o.jsx("span",{className:"text-[9px] font-medium text-muted-foreground group-hover:text-foreground text-center leading-tight line-clamp-2",children:N.label.replace(" ",`
`)})]},N.value))]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:[v.length>0&&o.jsxs("div",{className:"border-b bg-muted/10",children:[o.jsxs("button",{onClick:()=>d(!u),className:"w-full flex items-center justify-between px-4 py-2 text-xs font-medium text-muted-foreground hover:text-primary hover:bg-muted/20 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jP,{size:14,className:v.length>0?"text-yellow-500":""}),o.jsxs("span",{children:["Recommendations (",v.length,")"]})]}),u?o.jsx(Lt,{size:14}):o.jsx(js,{size:14})]}),u&&o.jsx("div",{className:"p-4 bg-muted/5 border-t",children:o.jsx(Fs,{recommendations:v,onApply:x,className:"mb-0"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[(e.operations||[]).map((N,S)=>{var E,T,O;return o.jsxs("div",{className:"border rounded-lg bg-card shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>j(S),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[N.isExpanded?o.jsx(Lt,{size:14,className:"text-muted-foreground"}):o.jsx(js,{size:14,className:"text-muted-foreground"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:N.operation_type==="datetime_extract"?"Date":N.operation_type.replace("_"," ")}),["arithmetic","similarity","group_agg"].includes(N.operation_type)&&o.jsx("select",{className:"text-sm border-none bg-transparent font-semibold focus:ring-0 cursor-pointer hover:text-primary",value:N.method,onClick:P=>P.stopPropagation(),onChange:P=>w(S,{method:P.target.value}),children:(N.operation_type==="arithmetic"?Sde:N.operation_type==="similarity"?Cde:N.operation_type==="group_agg"?Pde:[]).map(P=>o.jsx("option",{value:P,children:P.replace("_"," ")},P))})]}),o.jsx("button",{onClick:P=>b(S,P),className:"text-muted-foreground hover:text-destructive transition-colors p-1 rounded-full hover:bg-destructive/10",children:o.jsx(Ti,{size:14})})]}),N.isExpanded&&o.jsxs("div",{className:"p-3 space-y-4",children:[N.operation_type==="arithmetic"&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:N.method==="divide"?"Performs row-by-row division (Col A / Col B) for each record.":"Performs row-by-row arithmetic between two columns."}),o.jsx(Mn,{label:"Column A (Left Operand)",columns:h,selected:N.input_columns.slice(0,1),onChange:P=>w(S,{input_columns:P}),single:!0}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-px bg-border flex-1"}),o.jsx("span",{className:"text-lg font-bold text-muted-foreground bg-muted/20 w-8 h-8 rounded flex items-center justify-center",children:N.method==="add"?"+":N.method==="subtract"?"-":N.method==="multiply"?"":""}),o.jsx("div",{className:"h-px bg-border flex-1"})]}),o.jsx(Mn,{label:"Column B (Right Operand)",columns:h,selected:((E=N.secondary_columns)==null?void 0:E.slice(0,1))||[],onChange:P=>w(S,{secondary_columns:P}),single:!0})]}),N.operation_type==="ratio"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:["Calculates aggregate ratio: ",o.jsx("strong",{children:"Sum(Numerator) / Sum(Denominator)"}),"."]}),o.jsx(Mn,{label:"Numerator (Sum)",columns:h,selected:N.input_columns,onChange:P=>w(S,{input_columns:P})}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-dashed"})}),o.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Divided By"})]}),o.jsx(Mn,{label:"Denominator (Sum)",columns:h,selected:N.secondary_columns||[],onChange:P=>w(S,{secondary_columns:P})})]}),N.operation_type==="similarity"&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20 space-y-1",children:[o.jsx("p",{children:"Calculates string similarity score (0-100) between two text columns."}),o.jsxs("ul",{className:"list-disc pl-3 space-y-0.5 opacity-80",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Ratio:"}),' Strict character matching (Levenshtein). "apple banana" != "banana apple".']}),o.jsxs("li",{children:[o.jsx("strong",{children:"Token Sort:"}),' Sorts words alphabetically then compares. "apple banana" == "banana apple".']}),o.jsxs("li",{children:[o.jsx("strong",{children:"Token Set:"})," Compares intersection of words. Handles duplicates/subsets well."]})]})]}),o.jsx(Mn,{label:"String A",columns:p,selected:N.input_columns.slice(0,1),onChange:P=>w(S,{input_columns:P}),single:!0}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-px bg-border flex-1"}),o.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted/20 px-2 py-1 rounded",children:"vs"}),o.jsx("div",{className:"h-px bg-border flex-1"})]}),o.jsx(Mn,{label:"String B",columns:p,selected:((T=N.secondary_columns)==null?void 0:T.slice(0,1))||[],onChange:P=>w(S,{secondary_columns:P}),single:!0})]}),N.operation_type==="polynomial"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Generates polynomial and interaction features (e.g., A, AB)."}),o.jsx(Mn,{label:"Input Columns",columns:h,selected:N.input_columns,onChange:P=>w(S,{input_columns:P})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Degree"}),o.jsx("input",{type:"number",min:"2",max:"5",className:"w-full text-xs border rounded p-1.5",value:N.degree||2,onChange:P=>w(S,{degree:parseInt(P.target.value)})})]}),o.jsx("div",{className:"space-y-1 pt-5",children:o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:N.interaction_only||!1,onChange:P=>w(S,{interaction_only:P.target.checked})}),"Interaction Only"]})})]})]}),N.operation_type==="group_agg"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Calculates aggregate statistics (e.g., Mean Salary) grouped by a categorical column (e.g., Department) and assigns it back to each row."}),o.jsx(Mn,{label:"Group By (Categorical)",columns:p.length>0?p:f,selected:N.input_columns.slice(0,1),onChange:P=>w(S,{input_columns:P}),single:!0}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-dashed"})}),o.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Target Column"})]}),o.jsx(Mn,{label:"Target (Numeric)",columns:h,selected:((O=N.secondary_columns)==null?void 0:O.slice(0,1))||[],onChange:P=>w(S,{secondary_columns:P}),single:!0})]}),N.operation_type==="datetime_extract"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(Mn,{label:"Date Column",columns:m.length>0?m:f,selected:N.input_columns.slice(0,1),onChange:P=>w(S,{input_columns:P}),single:!0}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Features to Extract"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ede.map(P=>o.jsxs("label",{className:"flex items-center gap-2 text-xs p-1.5 border rounded hover:bg-accent cursor-pointer transition-colors",children:[o.jsx("input",{type:"checkbox",className:"rounded border-muted-foreground/40 text-primary focus:ring-0",checked:(N.datetime_features||[]).includes(P),onChange:L=>{const C=N.datetime_features||[],D=L.target.checked?[...C,P]:C.filter(I=>I!==P);w(S,{datetime_features:D})}}),o.jsx("span",{className:"capitalize",children:P.replace("_"," ")})]},P))})]})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("label",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider mb-1 block",children:"Output Column Name"}),o.jsx("input",{type:"text",className:"w-full text-xs border rounded px-2 py-1.5 bg-background focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:k(N,S),value:N.output_column||"",onChange:P=>w(S,{output_column:P.target.value})})]})]})]},S)}),(!e.operations||e.operations.length===0)&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed rounded-lg bg-muted/5 text-muted-foreground",children:[o.jsx(Hx,{size:32,className:"mb-2 opacity-20"}),o.jsx("p",{className:"text-xs font-medium",children:"No operations added"}),o.jsx("p",{className:"text-[10px] opacity-70",children:"Select a type above to start"})]}),c&&o.jsxs("div",{className:"border rounded-lg bg-muted/10 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold text-primary",children:[o.jsx(nn,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsx("div",{className:"space-y-2 text-xs",children:c.generated_features&&c.generated_features.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),o.jsx("span",{className:"font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:c.generated_features.length})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-semibold mb-1.5 block",children:"Generated Columns"}),o.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.generated_features.map(N=>o.jsx("span",{className:"px-2 py-1 bg-background border rounded text-[10px] font-mono text-foreground shadow-sm",children:N},N))})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[o.jsx(ku,{size:12}),o.jsx("span",{children:"No features generated in last run."})]})})]})]})]})]})},Ade={type:"FeatureGenerationNode",label:"Feature Generation",description:"Create new features via math, stats, or date extraction.",icon:Hx,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Enhanced"}],validate:e=>{var t,r,n;if(!e.operations||e.operations.length===0)return{isValid:!1,message:"Add at least one operation."};for(const a of e.operations){if(a.operation_type==="arithmetic"&&(a.input_columns.length===0||!((t=a.secondary_columns)!=null&&t.length)&&!((r=a.constants)!=null&&r.length)))return{isValid:!1,message:"Arithmetic requires two operands."};if(a.operation_type==="datetime_extract"&&a.input_columns.length===0)return{isValid:!1,message:"Select a date column."};if(a.operation_type==="polynomial"&&a.input_columns.length===0)return{isValid:!1,message:"Select input columns for polynomial features."};if(a.operation_type==="group_agg"&&(a.input_columns.length===0||!((n=a.secondary_columns)!=null&&n.length)))return{isValid:!1,message:"Select both Group By and Target columns."}}return{isValid:!0}},settings:Ode,getDefaultConfig:()=>({operations:[]})},Tde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),s=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ls,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>a(l.target.value)})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>s(l),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Mde=({operation:e,onChange:t,onDelete:r})=>o.jsxs("div",{className:"p-3 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("select",{className:"text-xs font-medium bg-transparent border-none focus:ring-0 p-0 text-gray-900 dark:text-gray-100",value:e.op,onChange:n=>{const a=n.target.value;let i="both";a==="case"&&(i="lower"),a==="remove_special"&&(i="keep_alphanumeric"),a==="regex"&&(i="custom"),t({...e,op:a,mode:i})},children:[o.jsx("option",{value:"trim",children:"Trim Whitespace"}),o.jsx("option",{value:"case",children:"Change Case"}),o.jsx("option",{value:"remove_special",children:"Remove Special Chars"}),o.jsx("option",{value:"regex",children:"Regex Replace"})]}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Ti,{size:14})})]}),o.jsxs("div",{className:"space-y-2",children:[e.op==="trim"&&o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"both",children:"Both Ends"}),o.jsx("option",{value:"leading",children:"Leading Only"}),o.jsx("option",{value:"trailing",children:"Trailing Only"})]}),e.op==="case"&&o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"lower",children:"Lower Case"}),o.jsx("option",{value:"upper",children:"Upper Case"}),o.jsx("option",{value:"title",children:"Title Case"}),o.jsx("option",{value:"sentence",children:"Sentence Case"})]}),e.op==="remove_special"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"keep_alphanumeric",children:"Keep Alphanumeric"}),o.jsx("option",{value:"keep_alphanumeric_space",children:"Keep Alphanumeric & Space"}),o.jsx("option",{value:"letters_only",children:"Letters Only"}),o.jsx("option",{value:"digits_only",children:"Digits Only"})]}),o.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement (optional)",value:e.replacement||"",onChange:n=>t({...e,replacement:n.target.value})})]}),e.op==="regex"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"custom",children:"Custom Pattern"}),o.jsx("option",{value:"collapse_whitespace",children:"Collapse Whitespace"}),o.jsx("option",{value:"extract_digits",children:"Extract Digits"}),o.jsx("option",{value:"normalize_slash_dates",children:"Normalize Dates (MM/DD/YYYY)"})]}),e.mode==="custom"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5 font-mono",placeholder:"Regex Pattern",value:e.pattern||"",onChange:n=>t({...e,pattern:n.target.value})}),o.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",title:"Generate regex from literal text",onClick:()=>{const n=prompt("Enter the exact text you want to match (it will be escaped):");if(n){const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t({...e,pattern:a})}},children:o.jsx(GF,{size:14})})]}),o.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement",value:e.repl||"",onChange:n=>t({...e,repl:n.target.value})})]})]})]})]}),Ide=({config:e,onChange:t,nodeId:r})=>{var v;const n=y.useRef(null),[a,i]=y.useState(!1),[s,l]=y.useState(!0),u=(v=lt(r||"").find(x=>x.datasetId))==null?void 0:v.datasetId,{data:d}=tt(u),f=d?Object.values(d.columns).filter(x=>x.dtype==="object"||x.dtype==="string"||x.dtype==="category").map(x=>x.name):[];y.useEffect(()=>{if(!n.current)return;const x=new ResizeObserver(g=>{for(const w of g)i(w.contentRect.width>400)});return x.observe(n.current),()=>x.disconnect()},[]);const h=()=>{t({...e,operations:[...e.operations,{op:"trim",mode:"both"}]})},m=(x,g)=>{const w=[...e.operations];w[x]=g,t({...e,operations:w})},p=x=>{const g=e.operations.filter((w,b)=>b!==x);t({...e,operations:g})};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(Tde,{columns:f,selected:e.columns,onChange:x=>t({...e,columns:x})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>l(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(ku,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Text Cleaning"}),s?o.jsx(hl,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(Lt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Clean and standardize text columns by trimming whitespace, changing case, removing special characters, or applying custom regex patterns."})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cleaning Operations"}),o.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[o.jsx(Rs,{size:14}),"Add Step"]})]}),o.jsx("div",{className:"space-y-3",children:e.operations.length===0?o.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"No operations added."}),o.jsx("button",{onClick:h,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first cleaning step"})]}):e.operations.map((x,g)=>o.jsx(Mde,{operation:x,onChange:w=>m(g,w),onDelete:()=>p(g)},g))})]})]})})},Dde={type:"TextCleaning",label:"Text Cleaning",category:"Preprocessing",description:"Clean and standardize text columns.",icon:wF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Ide,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.operations.length===0?{isValid:!1,message:"Add at least one operation."}:{isValid:!0},getDefaultConfig:()=>({columns:[],operations:[{op:"trim",mode:"both"}]})},Rde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),s=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ls,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>a(l.target.value)})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>s(l),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},v2=({value:e,type:t,onChange:r,placeholder:n})=>{const a=s=>{let l=e;s==="number"&&(l=Number(e)||0),s==="boolean"&&(l=!!e),s==="string"&&(l=String(e)),s==="null"&&(l=null),s==="nan"&&(l="NaN"),r(l,s)},i=s=>{let l=s.target.value;t==="number"&&(l=parseFloat(l)),r(l,t)};return o.jsxs("div",{className:"flex gap-1",children:[o.jsxs("select",{className:"w-20 text-[10px] rounded border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 px-1",value:t,onChange:s=>a(s.target.value),children:[o.jsx("option",{value:"string",children:"Text"}),o.jsx("option",{value:"number",children:"Num"}),o.jsx("option",{value:"boolean",children:"Bool"}),o.jsx("option",{value:"null",children:"Null"})]}),t==="string"&&o.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:i,placeholder:n}),t==="number"&&o.jsx("input",{type:"number",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e,onChange:i,placeholder:n}),t==="boolean"&&o.jsxs("select",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:String(e),onChange:s=>r(s.target.value==="true","boolean"),children:[o.jsx("option",{value:"true",children:"True"}),o.jsx("option",{value:"false",children:"False"})]}),(t==="null"||t==="nan")&&o.jsx("div",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 italic flex items-center",children:t==="null"?"None / Null":"NaN"})]})},Lde=({item:e,onChange:t,onDelete:r})=>o.jsxs("div",{className:"p-2 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Find"}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:o.jsx(Ti,{size:14})})]}),o.jsx(v2,{value:e.old,type:e.oldType,onChange:(n,a)=>t({...e,old:n,oldType:a}),placeholder:"Value to find"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-gray-400",children:o.jsx(hF,{size:14,className:"rotate-90"})}),o.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Replace With"})]}),o.jsx(v2,{value:e.new,type:e.newType,onChange:(n,a)=>t({...e,new:n,newType:a}),placeholder:"New value"})]}),$de=({config:e,onChange:t,nodeId:r})=>{var v;const n=y.useRef(null),[a,i]=y.useState(!1),[s,l]=y.useState(!0),u=(v=lt(r||"").find(x=>x.datasetId))==null?void 0:v.datasetId,{data:d}=tt(u),f=d?Object.values(d.columns).map(x=>x.name):[];y.useEffect(()=>{if(!n.current)return;const x=new ResizeObserver(g=>{for(const w of g)i(w.contentRect.width>400)});return x.observe(n.current),()=>x.disconnect()},[]);const h=()=>{t({...e,replacements:[...e.replacements,{old:"",new:"",oldType:"string",newType:"string"}]})},m=(x,g)=>{const w=[...e.replacements];w[x]=g,t({...e,replacements:w})},p=x=>{const g=e.replacements.filter((w,b)=>b!==x);t({...e,replacements:g})};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(Rde,{columns:f,selected:e.columns,onChange:x=>t({...e,columns:x})})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>l(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(ku,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Value Replacement"}),s?o.jsx(hl,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(Lt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:'Replace specific values with new ones. Useful for fixing typos, recoding categories (e.g., "Yes" to 1), or handling specific placeholders.'})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Value Mappings"}),o.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[o.jsx(Rs,{size:14}),"Add Mapping"]})]}),o.jsx("div",{className:"space-y-3",children:e.replacements.length===0?o.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"No replacements defined."}),o.jsx("button",{onClick:h,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first replacement"})]}):e.replacements.map((x,g)=>o.jsx(Lde,{item:x,onChange:w=>m(g,w),onDelete:()=>p(g)},g))})]})]})})},zde={type:"ValueReplacement",label:"Value Replacement",category:"Preprocessing",description:"Replace specific values in columns.",icon:zF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Processed Data",type:"dataset"}],settings:$de,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.replacements.length===0?{isValid:!1,message:"Add at least one replacement."}:{isValid:!0},getDefaultConfig:()=>({columns:[],replacements:[{old:"",new:"",oldType:"string",newType:"string"}]})},Fde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),s=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ls,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>a(l.target.value)})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>s(l),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Bde=({pairs:e,onChange:t})=>{const[r,n]=y.useState(""),[a,i]=y.useState(""),s=()=>{r&&a&&(t({...e,[r]:a}),n(""),i(""))},l=c=>{const u={...e};delete u[c],t(u)};return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex gap-2 items-end",children:[o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Alias (Old)"}),o.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. NY",value:r,onChange:c=>n(c.target.value)})]}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Canonical (New)"}),o.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. New York",value:a,onChange:c=>i(c.target.value),onKeyDown:c=>c.key==="Enter"&&s()})]}),o.jsx("button",{onClick:s,disabled:!r||!a,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Rs,{size:16})})]}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2 bg-gray-50 dark:bg-gray-800/50",children:Object.entries(e).length===0?o.jsx("div",{className:"text-center text-xs text-gray-500 py-2",children:"No custom aliases defined."}):Object.entries(e).map(([c,u])=>o.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("span",{className:"font-medium text-red-600 truncate max-w-[80px]",children:c}),o.jsx(mP,{size:12,className:"text-gray-400 shrink-0"}),o.jsx("span",{className:"font-medium text-green-600 truncate max-w-[80px]",children:u})]}),o.jsx("button",{onClick:()=>l(c),className:"text-gray-400 hover:text-red-500",children:o.jsx(Ti,{size:14})})]},c))})]})},Ude=({config:e,onChange:t,nodeId:r})=>{var h;const n=y.useRef(null),[a,i]=y.useState(!1),[s,l]=y.useState(!0),u=(h=lt(r||"").find(m=>m.datasetId))==null?void 0:h.datasetId,{data:d}=tt(u),f=d?Object.values(d.columns).filter(m=>m.dtype==="object"||m.dtype==="string"||m.dtype==="category").map(m=>m.name):[];return y.useEffect(()=>{if(!n.current)return;const m=new ResizeObserver(p=>{for(const v of p)i(v.contentRect.width>400)});return m.observe(n.current),()=>m.disconnect()},[]),o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(Fde,{columns:f,selected:e.columns,onChange:m=>t({...e,columns:m})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>l(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(ku,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Alias Replacement"}),s?o.jsx(hl,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(Lt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Standardize data by mapping multiple variations (aliases) to a single canonical value. Useful for country codes, boolean strings, or custom synonyms."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:m=>t({...e,mode:m.target.value}),children:[o.jsx("option",{value:"custom",children:"Custom Mapping"}),o.jsx("option",{value:"canonicalize_country_codes",children:"Canonicalize Country Codes"}),o.jsx("option",{value:"normalize_boolean",children:"Normalize Booleans (yes/no -> True/False)"}),o.jsx("option",{value:"punctuation",children:"Remove Punctuation"})]}),o.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="custom"&&"Define your own alias mappings below.",e.mode==="canonicalize_country_codes"&&"Standardizes country codes (e.g. 'USA', 'U.S.A.' -> 'US').",e.mode==="normalize_boolean"&&"Converts 'yes', 'y', '1' to True and 'no', 'n', '0' to False.",e.mode==="punctuation"&&"Removes common punctuation characters from text."]})]}),e.mode==="custom"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Custom Aliases"}),o.jsx(Bde,{pairs:e.custom_pairs,onChange:m=>t({...e,custom_pairs:m})})]})]})]})})},Hde={type:"AliasReplacement",label:"Alias Replacement",category:"Preprocessing",description:"Standardize values by mapping aliases to canonical forms.",icon:mP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Standardized Data",type:"dataset"}],settings:Ude,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom"&&Object.keys(e.custom_pairs).length===0?{isValid:!1,message:"Add at least one alias pair for custom mode."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"custom",custom_pairs:{}})},Vde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),s=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ls,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>a(l.target.value)})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>s(l),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Wde=({config:e,onChange:t,nodeId:r})=>{var h;const n=y.useRef(null),[a,i]=y.useState(!1),[s,l]=y.useState(!0),u=(h=lt(r||"").find(m=>m.datasetId))==null?void 0:h.datasetId,{data:d}=tt(u),f=d?Object.values(d.columns).filter(m=>["int","float","number"].some(p=>{var v;return(v=m.dtype)==null?void 0:v.toLowerCase().includes(p)})).map(m=>m.name):[];return y.useEffect(()=>{if(!n.current)return;const m=new ResizeObserver(p=>{for(const v of p)i(v.contentRect.width>400)});return m.observe(n.current),()=>m.disconnect()},[]),o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(Vde,{columns:f,selected:e.columns,onChange:m=>t({...e,columns:m})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only numeric columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>l(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(ku,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Invalid Value Replacement"}),s?o.jsx(hl,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(Lt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Use this node to handle data quality issues by replacing invalid numeric values (like negative ages or out-of-bounds sensor readings) with NaN (Missing)."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:m=>t({...e,mode:m.target.value}),children:[o.jsx("option",{value:"negative_to_nan",children:"Negative to NaN"}),o.jsx("option",{value:"zero_to_nan",children:"Zero to NaN"}),o.jsx("option",{value:"percentage_bounds",children:"Percentage Bounds (0-100)"}),o.jsx("option",{value:"age_bounds",children:"Age Bounds (0-120)"}),o.jsx("option",{value:"custom_range",children:"Custom Range"})]}),o.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="negative_to_nan"&&"Replaces all negative values (< 0) with NaN.",e.mode==="zero_to_nan"&&"Replaces all zero values (== 0) with NaN.",e.mode==="percentage_bounds"&&"Replaces values outside 0-100 range with NaN.",e.mode==="age_bounds"&&"Replaces values outside 0-120 range with NaN.",e.mode==="custom_range"&&"Replaces values outside the specified Min/Max range with NaN."]})]}),(e.mode==="custom_range"||e.mode==="percentage_bounds"||e.mode==="age_bounds")&&o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Min Value"}),o.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"0":"Min",value:e.min_value??"",onChange:m=>t({...e,min_value:m.target.value?parseFloat(m.target.value):void 0})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Max Value"}),o.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"100":"Max",value:e.max_value??"",onChange:m=>t({...e,max_value:m.target.value?parseFloat(m.target.value):void 0})})]}),o.jsx("p",{className:"col-span-2 text-[10px] text-gray-500",children:"Values outside this range will be replaced with NaN."})]})]})]})})},Kde={type:"InvalidValueReplacement",label:"Invalid Value Replacement",category:"Preprocessing",description:"Replace invalid or out-of-range values with NaN.",icon:qx,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Wde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom_range"&&e.min_value===void 0&&e.max_value===void 0?{isValid:!1,message:"Specify at least a min or max value for custom range."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"negative_to_nan"})},qde=()=>{Ne.register(Eue),Ne.register(Oue),Ne.register(Tue),Ne.register(Iue),Ne.register(Rue),Ne.register(hde),Ne.register(yde),Ne.register(bde),Ne.register(Nde),Ne.register(Ade),Ne.register(Dde),Ne.register(zde),Ne.register(Hde),Ne.register(Kde),Ne.register(dde),Ne.register(Xue),Ne.register(Zue),Ne.register(ede),Ne.register(rde),Ne.register(ade),Ne.register(ode),Ne.register(cde),Ne.register(Bue),Ne.register(Kue),Ne.register(Yue),console.log("[Registry] Initialization complete. Total nodes:",Ne.getAll().length)};qde();const Yde=new j$;d0.createRoot(document.getElementById("root")).render(o.jsx(Yr.StrictMode,{children:o.jsx(N$,{client:Yde,children:o.jsx(_ue,{})})}));
