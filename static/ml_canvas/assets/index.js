var a3=Object.defineProperty;var Qb=e=>{throw TypeError(e)};var i3=(e,t,r)=>t in e?a3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var el=(e,t,r)=>i3(e,typeof t!="symbol"?t+"":t,r),Gm=(e,t,r)=>t.has(e)||Qb("Cannot "+r);var z=(e,t,r)=>(Gm(e,t,"read from private field"),r?r.call(e):t.get(e)),ce=(e,t,r)=>t.has(e)?Qb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),te=(e,t,r,n)=>(Gm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ge=(e,t,r)=>(Gm(e,t,"access private method"),r);var wc=(e,t,r,n)=>({set _(a){te(e,t,a,r)},get _(){return z(e,t,n)}});function s3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Pn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var B_={exports:{}},fh={},U_={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=Symbol.for("react.element"),o3=Symbol.for("react.portal"),l3=Symbol.for("react.fragment"),u3=Symbol.for("react.strict_mode"),c3=Symbol.for("react.profiler"),d3=Symbol.for("react.provider"),f3=Symbol.for("react.context"),h3=Symbol.for("react.forward_ref"),m3=Symbol.for("react.suspense"),p3=Symbol.for("react.memo"),g3=Symbol.for("react.lazy"),Zb=Symbol.iterator;function y3(e){return e===null||typeof e!="object"?null:(e=Zb&&e[Zb]||e["@@iterator"],typeof e=="function"?e:null)}var H_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V_=Object.assign,W_={};function Io(e,t,r){this.props=e,this.context=t,this.refs=W_,this.updater=r||H_}Io.prototype.isReactComponent={};Io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function K_(){}K_.prototype=Io.prototype;function C0(e,t,r){this.props=e,this.context=t,this.refs=W_,this.updater=r||H_}var P0=C0.prototype=new K_;P0.constructor=C0;V_(P0,Io.prototype);P0.isPureReactComponent=!0;var Jb=Array.isArray,q_=Object.prototype.hasOwnProperty,O0={current:null},Y_={key:!0,ref:!0,__self:!0,__source:!0};function X_(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)q_.call(t,n)&&!Y_.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Au,type:e,key:i,ref:s,props:a,_owner:O0.current}}function v3(e,t){return{$$typeof:Au,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function A0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Au}function x3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ew=/\/+/g;function Qm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x3(""+e.key):t.toString(36)}function dd(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Au:case o3:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Qm(s,0):n,Jb(a)?(r="",e!=null&&(r=e.replace(ew,"$&/")+"/"),dd(a,t,r,"",function(c){return c})):a!=null&&(A0(a)&&(a=v3(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(ew,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",Jb(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+Qm(i,o);s+=dd(i,t,r,u,a)}else if(u=y3(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+Qm(i,o++),s+=dd(i,t,r,u,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function jc(e,t,r){if(e==null)return e;var n=[],a=0;return dd(e,n,"","",function(i){return t.call(r,i,a++)}),n}function b3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ht={current:null},fd={transition:null},w3={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:fd,ReactCurrentOwner:O0};function G_(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:jc,forEach:function(e,t,r){jc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return jc(e,function(){t++}),t},toArray:function(e){return jc(e,function(t){return t})||[]},only:function(e){if(!A0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=Io;pe.Fragment=l3;pe.Profiler=c3;pe.PureComponent=C0;pe.StrictMode=u3;pe.Suspense=m3;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w3;pe.act=G_;pe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=V_({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=O0.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)q_.call(t,u)&&!Y_.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Au,type:e.type,key:a,ref:i,props:n,_owner:s}};pe.createContext=function(e){return e={$$typeof:f3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:d3,_context:e},e.Consumer=e};pe.createElement=X_;pe.createFactory=function(e){var t=X_.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:h3,render:e}};pe.isValidElement=A0;pe.lazy=function(e){return{$$typeof:g3,_payload:{_status:-1,_result:e},_init:b3}};pe.memo=function(e,t){return{$$typeof:p3,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=fd.transition;fd.transition={};try{e()}finally{fd.transition=t}};pe.unstable_act=G_;pe.useCallback=function(e,t){return Ht.current.useCallback(e,t)};pe.useContext=function(e){return Ht.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return Ht.current.useDeferredValue(e)};pe.useEffect=function(e,t){return Ht.current.useEffect(e,t)};pe.useId=function(){return Ht.current.useId()};pe.useImperativeHandle=function(e,t,r){return Ht.current.useImperativeHandle(e,t,r)};pe.useInsertionEffect=function(e,t){return Ht.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return Ht.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return Ht.current.useMemo(e,t)};pe.useReducer=function(e,t,r){return Ht.current.useReducer(e,t,r)};pe.useRef=function(e){return Ht.current.useRef(e)};pe.useState=function(e){return Ht.current.useState(e)};pe.useSyncExternalStore=function(e,t,r){return Ht.current.useSyncExternalStore(e,t,r)};pe.useTransition=function(){return Ht.current.useTransition()};pe.version="18.3.1";U_.exports=pe;var w=U_.exports;const Qr=Pn(w),j3=s3({__proto__:null,default:Qr},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k3=w,N3=Symbol.for("react.element"),_3=Symbol.for("react.fragment"),S3=Object.prototype.hasOwnProperty,E3=k3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C3={key:!0,ref:!0,__self:!0,__source:!0};function Q_(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)S3.call(t,n)&&!C3.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:N3,type:e,key:i,ref:s,props:a,_owner:E3.current}}fh.Fragment=_3;fh.jsx=Q_;fh.jsxs=Q_;B_.exports=fh;var l=B_.exports,ig={},Z_={exports:{}},xr={},J_={exports:{}},eS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,I){var T=A.length;A.push(I);e:for(;0<T;){var F=T-1>>>1,B=A[F];if(0<a(B,I))A[F]=I,A[T]=B,T=F;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var I=A[0],T=A.pop();if(T!==I){A[0]=T;e:for(var F=0,B=A.length,q=B>>>1;F<q;){var K=2*(F+1)-1,G=A[K],ie=K+1,J=A[ie];if(0>a(G,T))ie<B&&0>a(J,G)?(A[F]=J,A[ie]=T,F=ie):(A[F]=G,A[K]=T,F=K);else if(ie<B&&0>a(J,T))A[F]=J,A[ie]=T,F=ie;else break e}}return I}function a(A,I){var T=A.sortIndex-I.sortIndex;return T!==0?T:A.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var u=[],c=[],d=1,f=null,h=3,m=!1,p=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=A)n(c),I.sortIndex=I.expirationTime,t(u,I);else break;I=r(c)}}function j(A){if(y=!1,b(A),!p)if(r(u)!==null)p=!0,D(k);else{var I=r(c);I!==null&&L(j,I.startTime-A)}}function k(A,I){p=!1,y&&(y=!1,g(S),S=-1),m=!0;var T=h;try{for(b(I),f=r(u);f!==null&&(!(f.expirationTime>I)||A&&!O());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var B=F(f.expirationTime<=I);I=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(u)&&n(u),b(I)}else n(u);f=r(u)}if(f!==null)var q=!0;else{var K=r(c);K!==null&&L(j,K.startTime-I),q=!1}return q}finally{f=null,h=T,m=!1}}var _=!1,N=null,S=-1,C=5,M=-1;function O(){return!(e.unstable_now()-M<C)}function P(){if(N!==null){var A=e.unstable_now();M=A;var I=!0;try{I=N(!0,A)}finally{I?$():(_=!1,N=null)}}else _=!1}var $;if(typeof x=="function")$=function(){x(P)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,R=E.port2;E.port1.onmessage=P,$=function(){R.postMessage(null)}}else $=function(){v(P,0)};function D(A){N=A,_||(_=!0,$())}function L(A,I){S=v(function(){A(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,D(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var T=h;h=I;try{return A()}finally{h=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,I){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var T=h;h=A;try{return I()}finally{h=T}},e.unstable_scheduleCallback=function(A,I,T){var F=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?F+T:F):T=F,A){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=T+B,A={id:d++,callback:I,priorityLevel:A,startTime:T,expirationTime:B,sortIndex:-1},T>F?(A.sortIndex=T,t(c,A),r(u)===null&&A===r(c)&&(y?(g(S),S=-1):y=!0,L(j,T-F))):(A.sortIndex=B,t(u,A),p||m||(p=!0,D(k))),A},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(A){var I=h;return function(){var T=h;h=I;try{return A.apply(this,arguments)}finally{h=T}}}})(eS);J_.exports=eS;var P3=J_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O3=w,gr=P3;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tS=new Set,Fl={};function is(e,t){no(e,t),no(e+"Capture",t)}function no(e,t){for(Fl[e]=t,e=0;e<t.length;e++)tS.add(t[e])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sg=Object.prototype.hasOwnProperty,A3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tw={},rw={};function T3(e){return sg.call(rw,e)?!0:sg.call(tw,e)?!1:A3.test(e)?rw[e]=!0:(tw[e]=!0,!1)}function M3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I3(e,t,r,n){if(t===null||typeof t>"u"||M3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vt(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new Vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var T0=/[\-:]([a-z])/g;function M0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T0,M0);_t[t]=new Vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T0,M0);_t[t]=new Vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T0,M0);_t[t]=new Vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Vt(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function I0(e,t,r,n){var a=_t.hasOwnProperty(t)?_t[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I3(t,r,a,n)&&(r=null),n||a===null?T3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ca=O3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kc=Symbol.for("react.element"),bs=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),D0=Symbol.for("react.strict_mode"),og=Symbol.for("react.profiler"),rS=Symbol.for("react.provider"),nS=Symbol.for("react.context"),R0=Symbol.for("react.forward_ref"),lg=Symbol.for("react.suspense"),ug=Symbol.for("react.suspense_list"),L0=Symbol.for("react.memo"),ka=Symbol.for("react.lazy"),aS=Symbol.for("react.offscreen"),nw=Symbol.iterator;function tl(e){return e===null||typeof e!="object"?null:(e=nw&&e[nw]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,Zm;function bl(e){if(Zm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zm=t&&t[1]||""}return`
`+Zm+e}var Jm=!1;function ep(e,t){if(!e||Jm)return"";Jm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var u=`
`+a[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=o);break}}}finally{Jm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bl(e):""}function D3(e){switch(e.tag){case 5:return bl(e.type);case 16:return bl("Lazy");case 13:return bl("Suspense");case 19:return bl("SuspenseList");case 0:case 2:case 15:return e=ep(e.type,!1),e;case 11:return e=ep(e.type.render,!1),e;case 1:return e=ep(e.type,!0),e;default:return""}}function cg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ws:return"Fragment";case bs:return"Portal";case og:return"Profiler";case D0:return"StrictMode";case lg:return"Suspense";case ug:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nS:return(e.displayName||"Context")+".Consumer";case rS:return(e._context.displayName||"Context")+".Provider";case R0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L0:return t=e.displayName||null,t!==null?t:cg(e.type)||"Memo";case ka:t=e._payload,e=e._init;try{return cg(e(t))}catch{}}return null}function R3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cg(t);case 8:return t===D0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Za(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function L3(e){var t=iS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nc(e){e._valueTracker||(e._valueTracker=L3(e))}function sS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=iS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ld(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dg(e,t){var r=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function aw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Za(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oS(e,t){t=t.checked,t!=null&&I0(e,"checked",t,!1)}function fg(e,t){oS(e,t);var r=Za(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hg(e,t.type,r):t.hasOwnProperty("defaultValue")&&hg(e,t.type,Za(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hg(e,t,r){(t!=="number"||Ld(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wl=Array.isArray;function Rs(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Za(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function mg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Y(92));if(wl(r)){if(1<r.length)throw Error(Y(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Za(r)}}function lS(e,t){var r=Za(t.value),n=Za(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ow(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _c,cS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_c=_c||document.createElement("div"),_c.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_c.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$3=["Webkit","ms","Moz","O"];Object.keys(Pl).forEach(function(e){$3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pl[t]=Pl[e]})});function dS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Pl.hasOwnProperty(e)&&Pl[e]?(""+t).trim():t+"px"}function fS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=dS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var z3=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gg(e,t){if(t){if(z3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function yg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vg=null;function $0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xg=null,Ls=null,$s=null;function lw(e){if(e=Iu(e)){if(typeof xg!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=yh(t),xg(e.stateNode,e.type,t))}}function hS(e){Ls?$s?$s.push(e):$s=[e]:Ls=e}function mS(){if(Ls){var e=Ls,t=$s;if($s=Ls=null,lw(e),t)for(e=0;e<t.length;e++)lw(t[e])}}function pS(e,t){return e(t)}function gS(){}var tp=!1;function yS(e,t,r){if(tp)return e(t,r);tp=!0;try{return pS(e,t,r)}finally{tp=!1,(Ls!==null||$s!==null)&&(gS(),mS())}}function Ul(e,t){var r=e.stateNode;if(r===null)return null;var n=yh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Y(231,t,typeof r));return r}var bg=!1;if(Gn)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){bg=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{bg=!1}function F3(e,t,r,n,a,i,s,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Ol=!1,$d=null,zd=!1,wg=null,B3={onError:function(e){Ol=!0,$d=e}};function U3(e,t,r,n,a,i,s,o,u){Ol=!1,$d=null,F3.apply(B3,arguments)}function H3(e,t,r,n,a,i,s,o,u){if(U3.apply(this,arguments),Ol){if(Ol){var c=$d;Ol=!1,$d=null}else throw Error(Y(198));zd||(zd=!0,wg=c)}}function ss(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uw(e){if(ss(e)!==e)throw Error(Y(188))}function V3(e){var t=e.alternate;if(!t){if(t=ss(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return uw(a),e;if(i===n)return uw(a),t;i=i.sibling}throw Error(Y(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?e:t}function xS(e){return e=V3(e),e!==null?bS(e):null}function bS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bS(e);if(t!==null)return t;e=e.sibling}return null}var wS=gr.unstable_scheduleCallback,cw=gr.unstable_cancelCallback,W3=gr.unstable_shouldYield,K3=gr.unstable_requestPaint,Ye=gr.unstable_now,q3=gr.unstable_getCurrentPriorityLevel,z0=gr.unstable_ImmediatePriority,jS=gr.unstable_UserBlockingPriority,Fd=gr.unstable_NormalPriority,Y3=gr.unstable_LowPriority,kS=gr.unstable_IdlePriority,hh=null,wn=null;function X3(e){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(hh,e,void 0,(e.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Z3,G3=Math.log,Q3=Math.LN2;function Z3(e){return e>>>=0,e===0?32:31-(G3(e)/Q3|0)|0}var Sc=64,Ec=4194304;function jl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=jl(o):(i&=s,i!==0&&(n=jl(i)))}else s=r&~a,s!==0?n=jl(s):i!==0&&(n=jl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-en(t),a=1<<r,n|=e[r],t&=~a;return n}function J3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e4(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-en(i),o=1<<s,u=a[s];u===-1?(!(o&r)||o&n)&&(a[s]=J3(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function jg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function NS(){var e=Sc;return Sc<<=1,!(Sc&4194240)&&(Sc=64),e}function rp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Tu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-en(t),e[t]=r}function t4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-en(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function F0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-en(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ne=0;function _S(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var SS,B0,ES,CS,PS,kg=!1,Cc=[],Ba=null,Ua=null,Ha=null,Hl=new Map,Vl=new Map,Ea=[],r4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dw(e,t){switch(e){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Hl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(t.pointerId)}}function nl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Iu(t),t!==null&&B0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function n4(e,t,r,n,a){switch(t){case"focusin":return Ba=nl(Ba,e,t,r,n,a),!0;case"dragenter":return Ua=nl(Ua,e,t,r,n,a),!0;case"mouseover":return Ha=nl(Ha,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Hl.set(i,nl(Hl.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Vl.set(i,nl(Vl.get(i)||null,e,t,r,n,a)),!0}return!1}function OS(e){var t=yi(e.target);if(t!==null){var r=ss(t);if(r!==null){if(t=r.tag,t===13){if(t=vS(r),t!==null){e.blockedOn=t,PS(e.priority,function(){ES(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ng(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);vg=n,r.target.dispatchEvent(n),vg=null}else return t=Iu(r),t!==null&&B0(t),e.blockedOn=r,!1;t.shift()}return!0}function fw(e,t,r){hd(e)&&r.delete(t)}function a4(){kg=!1,Ba!==null&&hd(Ba)&&(Ba=null),Ua!==null&&hd(Ua)&&(Ua=null),Ha!==null&&hd(Ha)&&(Ha=null),Hl.forEach(fw),Vl.forEach(fw)}function al(e,t){e.blockedOn===t&&(e.blockedOn=null,kg||(kg=!0,gr.unstable_scheduleCallback(gr.unstable_NormalPriority,a4)))}function Wl(e){function t(a){return al(a,e)}if(0<Cc.length){al(Cc[0],e);for(var r=1;r<Cc.length;r++){var n=Cc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ba!==null&&al(Ba,e),Ua!==null&&al(Ua,e),Ha!==null&&al(Ha,e),Hl.forEach(t),Vl.forEach(t),r=0;r<Ea.length;r++)n=Ea[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ea.length&&(r=Ea[0],r.blockedOn===null);)OS(r),r.blockedOn===null&&Ea.shift()}var zs=ca.ReactCurrentBatchConfig,Ud=!0;function i4(e,t,r,n){var a=Ne,i=zs.transition;zs.transition=null;try{Ne=1,U0(e,t,r,n)}finally{Ne=a,zs.transition=i}}function s4(e,t,r,n){var a=Ne,i=zs.transition;zs.transition=null;try{Ne=4,U0(e,t,r,n)}finally{Ne=a,zs.transition=i}}function U0(e,t,r,n){if(Ud){var a=Ng(e,t,r,n);if(a===null)fp(e,t,n,Hd,r),dw(e,n);else if(n4(a,e,t,r,n))n.stopPropagation();else if(dw(e,n),t&4&&-1<r4.indexOf(e)){for(;a!==null;){var i=Iu(a);if(i!==null&&SS(i),i=Ng(e,t,r,n),i===null&&fp(e,t,n,Hd,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else fp(e,t,n,null,r)}}var Hd=null;function Ng(e,t,r,n){if(Hd=null,e=$0(n),e=yi(e),e!==null)if(t=ss(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hd=e,null}function AS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q3()){case z0:return 1;case jS:return 4;case Fd:case Y3:return 16;case kS:return 536870912;default:return 16}default:return 16}}var za=null,H0=null,md=null;function TS(){if(md)return md;var e,t=H0,r=t.length,n,a="value"in za?za.value:za.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return md=a.slice(e,1<n?1-n:void 0)}function pd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pc(){return!0}function hw(){return!1}function br(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pc:hw,this.isPropagationStopped=hw,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pc)},persist:function(){},isPersistent:Pc}),t}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V0=br(Do),Mu=Ue({},Do,{view:0,detail:0}),o4=br(Mu),np,ap,il,mh=Ue({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==il&&(il&&e.type==="mousemove"?(np=e.screenX-il.screenX,ap=e.screenY-il.screenY):ap=np=0,il=e),np)},movementY:function(e){return"movementY"in e?e.movementY:ap}}),mw=br(mh),l4=Ue({},mh,{dataTransfer:0}),u4=br(l4),c4=Ue({},Mu,{relatedTarget:0}),ip=br(c4),d4=Ue({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),f4=br(d4),h4=Ue({},Do,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m4=br(h4),p4=Ue({},Do,{data:0}),pw=br(p4),g4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=v4[e])?!!t[e]:!1}function W0(){return x4}var b4=Ue({},Mu,{key:function(e){if(e.key){var t=g4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W0,charCode:function(e){return e.type==="keypress"?pd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w4=br(b4),j4=Ue({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gw=br(j4),k4=Ue({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W0}),N4=br(k4),_4=Ue({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),S4=br(_4),E4=Ue({},mh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C4=br(E4),P4=[9,13,27,32],K0=Gn&&"CompositionEvent"in window,Al=null;Gn&&"documentMode"in document&&(Al=document.documentMode);var O4=Gn&&"TextEvent"in window&&!Al,MS=Gn&&(!K0||Al&&8<Al&&11>=Al),yw=" ",vw=!1;function IS(e,t){switch(e){case"keyup":return P4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var js=!1;function A4(e,t){switch(e){case"compositionend":return DS(t);case"keypress":return t.which!==32?null:(vw=!0,yw);case"textInput":return e=t.data,e===yw&&vw?null:e;default:return null}}function T4(e,t){if(js)return e==="compositionend"||!K0&&IS(e,t)?(e=TS(),md=H0=za=null,js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return MS&&t.locale!=="ko"?null:t.data;default:return null}}var M4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M4[e.type]:t==="textarea"}function RS(e,t,r,n){hS(n),t=Vd(t,"onChange"),0<t.length&&(r=new V0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tl=null,Kl=null;function I4(e){qS(e,0)}function ph(e){var t=_s(e);if(sS(t))return e}function D4(e,t){if(e==="change")return t}var LS=!1;if(Gn){var sp;if(Gn){var op="oninput"in document;if(!op){var bw=document.createElement("div");bw.setAttribute("oninput","return;"),op=typeof bw.oninput=="function"}sp=op}else sp=!1;LS=sp&&(!document.documentMode||9<document.documentMode)}function ww(){Tl&&(Tl.detachEvent("onpropertychange",$S),Kl=Tl=null)}function $S(e){if(e.propertyName==="value"&&ph(Kl)){var t=[];RS(t,Kl,e,$0(e)),yS(I4,t)}}function R4(e,t,r){e==="focusin"?(ww(),Tl=t,Kl=r,Tl.attachEvent("onpropertychange",$S)):e==="focusout"&&ww()}function L4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ph(Kl)}function $4(e,t){if(e==="click")return ph(t)}function z4(e,t){if(e==="input"||e==="change")return ph(t)}function F4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:F4;function ql(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!sg.call(t,a)||!nn(e[a],t[a]))return!1}return!0}function jw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kw(e,t){var r=jw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jw(r)}}function zS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function FS(){for(var e=window,t=Ld();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ld(e.document)}return t}function q0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function B4(e){var t=FS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&zS(r.ownerDocument.documentElement,r)){if(n!==null&&q0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=kw(r,i);var s=kw(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var U4=Gn&&"documentMode"in document&&11>=document.documentMode,ks=null,_g=null,Ml=null,Sg=!1;function Nw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sg||ks==null||ks!==Ld(n)||(n=ks,"selectionStart"in n&&q0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ml&&ql(Ml,n)||(Ml=n,n=Vd(_g,"onSelect"),0<n.length&&(t=new V0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ks)))}function Oc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ns={animationend:Oc("Animation","AnimationEnd"),animationiteration:Oc("Animation","AnimationIteration"),animationstart:Oc("Animation","AnimationStart"),transitionend:Oc("Transition","TransitionEnd")},lp={},BS={};Gn&&(BS=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function gh(e){if(lp[e])return lp[e];if(!Ns[e])return e;var t=Ns[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in BS)return lp[e]=t[r];return e}var US=gh("animationend"),HS=gh("animationiteration"),VS=gh("animationstart"),WS=gh("transitionend"),KS=new Map,_w="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(e,t){KS.set(e,t),is(t,[e])}for(var up=0;up<_w.length;up++){var cp=_w[up],H4=cp.toLowerCase(),V4=cp[0].toUpperCase()+cp.slice(1);ri(H4,"on"+V4)}ri(US,"onAnimationEnd");ri(HS,"onAnimationIteration");ri(VS,"onAnimationStart");ri("dblclick","onDoubleClick");ri("focusin","onFocus");ri("focusout","onBlur");ri(WS,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W4=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function Sw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,H3(n,t,void 0,e),e.currentTarget=null}function qS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&a.isPropagationStopped())break e;Sw(a,o,c),i=u}else for(s=0;s<n.length;s++){if(o=n[s],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&a.isPropagationStopped())break e;Sw(a,o,c),i=u}}}if(zd)throw e=wg,zd=!1,wg=null,e}function Ae(e,t){var r=t[Ag];r===void 0&&(r=t[Ag]=new Set);var n=e+"__bubble";r.has(n)||(YS(t,e,2,!1),r.add(n))}function dp(e,t,r){var n=0;t&&(n|=4),YS(r,e,n,t)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Yl(e){if(!e[Ac]){e[Ac]=!0,tS.forEach(function(r){r!=="selectionchange"&&(W4.has(r)||dp(r,!1,e),dp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ac]||(t[Ac]=!0,dp("selectionchange",!1,t))}}function YS(e,t,r,n){switch(AS(t)){case 1:var a=i4;break;case 4:a=s4;break;default:a=U0}r=a.bind(null,t,r,e),a=void 0,!bg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function fp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;s=s.return}for(;o!==null;){if(s=yi(o),s===null)return;if(u=s.tag,u===5||u===6){n=i=s;continue e}o=o.parentNode}}n=n.return}yS(function(){var c=i,d=$0(r),f=[];e:{var h=KS.get(e);if(h!==void 0){var m=V0,p=e;switch(e){case"keypress":if(pd(r)===0)break e;case"keydown":case"keyup":m=w4;break;case"focusin":p="focus",m=ip;break;case"focusout":p="blur",m=ip;break;case"beforeblur":case"afterblur":m=ip;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=u4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=N4;break;case US:case HS:case VS:m=f4;break;case WS:m=S4;break;case"scroll":m=o4;break;case"wheel":m=C4;break;case"copy":case"cut":case"paste":m=m4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gw}var y=(t&4)!==0,v=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var x=c,b;x!==null;){b=x;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,g!==null&&(j=Ul(x,g),j!=null&&y.push(Xl(x,j,b)))),v)break;x=x.return}0<y.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==vg&&(p=r.relatedTarget||r.fromElement)&&(yi(p)||p[Qn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=c,p=p?yi(p):null,p!==null&&(v=ss(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(y=mw,j="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=gw,j="onPointerLeave",g="onPointerEnter",x="pointer"),v=m==null?h:_s(m),b=p==null?h:_s(p),h=new y(j,x+"leave",m,r,d),h.target=v,h.relatedTarget=b,j=null,yi(d)===c&&(y=new y(g,x+"enter",p,r,d),y.target=b,y.relatedTarget=v,j=y),v=j,m&&p)t:{for(y=m,g=p,x=0,b=y;b;b=ms(b))x++;for(b=0,j=g;j;j=ms(j))b++;for(;0<x-b;)y=ms(y),x--;for(;0<b-x;)g=ms(g),b--;for(;x--;){if(y===g||g!==null&&y===g.alternate)break t;y=ms(y),g=ms(g)}y=null}else y=null;m!==null&&Ew(f,h,m,y,!1),p!==null&&v!==null&&Ew(f,v,p,y,!0)}}e:{if(h=c?_s(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=D4;else if(xw(h))if(LS)k=z4;else{k=L4;var _=R4}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=$4);if(k&&(k=k(e,c))){RS(f,k,r,d);break e}_&&_(e,h,c),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&hg(h,"number",h.value)}switch(_=c?_s(c):window,e){case"focusin":(xw(_)||_.contentEditable==="true")&&(ks=_,_g=c,Ml=null);break;case"focusout":Ml=_g=ks=null;break;case"mousedown":Sg=!0;break;case"contextmenu":case"mouseup":case"dragend":Sg=!1,Nw(f,r,d);break;case"selectionchange":if(U4)break;case"keydown":case"keyup":Nw(f,r,d)}var N;if(K0)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else js?IS(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(MS&&r.locale!=="ko"&&(js||S!=="onCompositionStart"?S==="onCompositionEnd"&&js&&(N=TS()):(za=d,H0="value"in za?za.value:za.textContent,js=!0)),_=Vd(c,S),0<_.length&&(S=new pw(S,e,null,r,d),f.push({event:S,listeners:_}),N?S.data=N:(N=DS(r),N!==null&&(S.data=N)))),(N=O4?A4(e,r):T4(e,r))&&(c=Vd(c,"onBeforeInput"),0<c.length&&(d=new pw("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=N))}qS(f,t)})}function Xl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vd(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ul(e,r),i!=null&&n.unshift(Xl(e,i,a)),i=Ul(e,t),i!=null&&n.push(Xl(e,i,a))),e=e.return}return n}function ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ew(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,a?(u=Ul(r,i),u!=null&&s.unshift(Xl(r,u,o))):a||(u=Ul(r,i),u!=null&&s.push(Xl(r,u,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var K4=/\r\n?/g,q4=/\u0000|\uFFFD/g;function Cw(e){return(typeof e=="string"?e:""+e).replace(K4,`
`).replace(q4,"")}function Tc(e,t,r){if(t=Cw(t),Cw(e)!==t&&r)throw Error(Y(425))}function Wd(){}var Eg=null,Cg=null;function Pg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Og=typeof setTimeout=="function"?setTimeout:void 0,Y4=typeof clearTimeout=="function"?clearTimeout:void 0,Pw=typeof Promise=="function"?Promise:void 0,X4=typeof queueMicrotask=="function"?queueMicrotask:typeof Pw<"u"?function(e){return Pw.resolve(null).then(e).catch(G4)}:Og;function G4(e){setTimeout(function(){throw e})}function hp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Wl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Wl(t)}function Va(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ow(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),xn="__reactFiber$"+Ro,Gl="__reactProps$"+Ro,Qn="__reactContainer$"+Ro,Ag="__reactEvents$"+Ro,Q4="__reactListeners$"+Ro,Z4="__reactHandles$"+Ro;function yi(e){var t=e[xn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qn]||r[xn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ow(e);e!==null;){if(r=e[xn])return r;e=Ow(e)}return t}e=r,r=e.parentNode}return null}function Iu(e){return e=e[xn]||e[Qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function yh(e){return e[Gl]||null}var Tg=[],Ss=-1;function ni(e){return{current:e}}function Me(e){0>Ss||(e.current=Tg[Ss],Tg[Ss]=null,Ss--)}function Pe(e,t){Ss++,Tg[Ss]=e.current,e.current=t}var Ja={},Mt=ni(Ja),er=ni(!1),Ui=Ja;function ao(e,t){var r=e.type.contextTypes;if(!r)return Ja;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function tr(e){return e=e.childContextTypes,e!=null}function Kd(){Me(er),Me(Mt)}function Aw(e,t,r){if(Mt.current!==Ja)throw Error(Y(168));Pe(Mt,t),Pe(er,r)}function XS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Y(108,R3(e)||"Unknown",a));return Ue({},r,n)}function qd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ja,Ui=Mt.current,Pe(Mt,e),Pe(er,er.current),!0}function Tw(e,t,r){var n=e.stateNode;if(!n)throw Error(Y(169));r?(e=XS(e,t,Ui),n.__reactInternalMemoizedMergedChildContext=e,Me(er),Me(Mt),Pe(Mt,e)):Me(er),Pe(er,r)}var Dn=null,vh=!1,mp=!1;function GS(e){Dn===null?Dn=[e]:Dn.push(e)}function J4(e){vh=!0,GS(e)}function ai(){if(!mp&&Dn!==null){mp=!0;var e=0,t=Ne;try{var r=Dn;for(Ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Dn=null,vh=!1}catch(a){throw Dn!==null&&(Dn=Dn.slice(e+1)),wS(z0,ai),a}finally{Ne=t,mp=!1}}return null}var Es=[],Cs=0,Yd=null,Xd=0,Er=[],Cr=0,Hi=null,Bn=1,Un="";function ci(e,t){Es[Cs++]=Xd,Es[Cs++]=Yd,Yd=e,Xd=t}function QS(e,t,r){Er[Cr++]=Bn,Er[Cr++]=Un,Er[Cr++]=Hi,Hi=e;var n=Bn;e=Un;var a=32-en(n)-1;n&=~(1<<a),r+=1;var i=32-en(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Bn=1<<32-en(t)+a|r<<a|n,Un=i+e}else Bn=1<<i|r<<a|n,Un=e}function Y0(e){e.return!==null&&(ci(e,1),QS(e,1,0))}function X0(e){for(;e===Yd;)Yd=Es[--Cs],Es[Cs]=null,Xd=Es[--Cs],Es[Cs]=null;for(;e===Hi;)Hi=Er[--Cr],Er[Cr]=null,Un=Er[--Cr],Er[Cr]=null,Bn=Er[--Cr],Er[Cr]=null}var mr=null,dr=null,Re=!1,Kr=null;function ZS(e,t){var r=Pr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Mw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mr=e,dr=Va(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mr=e,dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hi!==null?{id:Bn,overflow:Un}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mr=e,dr=null,!0):!1;default:return!1}}function Mg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ig(e){if(Re){var t=dr;if(t){var r=t;if(!Mw(e,t)){if(Mg(e))throw Error(Y(418));t=Va(r.nextSibling);var n=mr;t&&Mw(e,t)?ZS(n,r):(e.flags=e.flags&-4097|2,Re=!1,mr=e)}}else{if(Mg(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Re=!1,mr=e}}}function Iw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mr=e}function Mc(e){if(e!==mr)return!1;if(!Re)return Iw(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pg(e.type,e.memoizedProps)),t&&(t=dr)){if(Mg(e))throw JS(),Error(Y(418));for(;t;)ZS(e,t),t=Va(t.nextSibling)}if(Iw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dr=Va(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dr=null}}else dr=mr?Va(e.stateNode.nextSibling):null;return!0}function JS(){for(var e=dr;e;)e=Va(e.nextSibling)}function io(){dr=mr=null,Re=!1}function G0(e){Kr===null?Kr=[e]:Kr.push(e)}var eR=ca.ReactCurrentBatchConfig;function sl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,e))}return e}function Ic(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dw(e){var t=e._init;return t(e._payload)}function e2(e){function t(g,x){if(e){var b=g.deletions;b===null?(g.deletions=[x],g.flags|=16):b.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=Ya(g,x),g.index=0,g.sibling=null,g}function i(g,x,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<x?(g.flags|=2,x):b):(g.flags|=2,x)):(g.flags|=1048576,x)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,x,b,j){return x===null||x.tag!==6?(x=wp(b,g.mode,j),x.return=g,x):(x=a(x,b),x.return=g,x)}function u(g,x,b,j){var k=b.type;return k===ws?d(g,x,b.props.children,j,b.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ka&&Dw(k)===x.type)?(j=a(x,b.props),j.ref=sl(g,x,b),j.return=g,j):(j=jd(b.type,b.key,b.props,null,g.mode,j),j.ref=sl(g,x,b),j.return=g,j)}function c(g,x,b,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=jp(b,g.mode,j),x.return=g,x):(x=a(x,b.children||[]),x.return=g,x)}function d(g,x,b,j,k){return x===null||x.tag!==7?(x=Di(b,g.mode,j,k),x.return=g,x):(x=a(x,b),x.return=g,x)}function f(g,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=wp(""+x,g.mode,b),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kc:return b=jd(x.type,x.key,x.props,null,g.mode,b),b.ref=sl(g,null,x),b.return=g,b;case bs:return x=jp(x,g.mode,b),x.return=g,x;case ka:var j=x._init;return f(g,j(x._payload),b)}if(wl(x)||tl(x))return x=Di(x,g.mode,b,null),x.return=g,x;Ic(g,x)}return null}function h(g,x,b,j){var k=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:o(g,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kc:return b.key===k?u(g,x,b,j):null;case bs:return b.key===k?c(g,x,b,j):null;case ka:return k=b._init,h(g,x,k(b._payload),j)}if(wl(b)||tl(b))return k!==null?null:d(g,x,b,j,null);Ic(g,b)}return null}function m(g,x,b,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(b)||null,o(x,g,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case kc:return g=g.get(j.key===null?b:j.key)||null,u(x,g,j,k);case bs:return g=g.get(j.key===null?b:j.key)||null,c(x,g,j,k);case ka:var _=j._init;return m(g,x,b,_(j._payload),k)}if(wl(j)||tl(j))return g=g.get(b)||null,d(x,g,j,k,null);Ic(x,j)}return null}function p(g,x,b,j){for(var k=null,_=null,N=x,S=x=0,C=null;N!==null&&S<b.length;S++){N.index>S?(C=N,N=null):C=N.sibling;var M=h(g,N,b[S],j);if(M===null){N===null&&(N=C);break}e&&N&&M.alternate===null&&t(g,N),x=i(M,x,S),_===null?k=M:_.sibling=M,_=M,N=C}if(S===b.length)return r(g,N),Re&&ci(g,S),k;if(N===null){for(;S<b.length;S++)N=f(g,b[S],j),N!==null&&(x=i(N,x,S),_===null?k=N:_.sibling=N,_=N);return Re&&ci(g,S),k}for(N=n(g,N);S<b.length;S++)C=m(N,g,S,b[S],j),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?S:C.key),x=i(C,x,S),_===null?k=C:_.sibling=C,_=C);return e&&N.forEach(function(O){return t(g,O)}),Re&&ci(g,S),k}function y(g,x,b,j){var k=tl(b);if(typeof k!="function")throw Error(Y(150));if(b=k.call(b),b==null)throw Error(Y(151));for(var _=k=null,N=x,S=x=0,C=null,M=b.next();N!==null&&!M.done;S++,M=b.next()){N.index>S?(C=N,N=null):C=N.sibling;var O=h(g,N,M.value,j);if(O===null){N===null&&(N=C);break}e&&N&&O.alternate===null&&t(g,N),x=i(O,x,S),_===null?k=O:_.sibling=O,_=O,N=C}if(M.done)return r(g,N),Re&&ci(g,S),k;if(N===null){for(;!M.done;S++,M=b.next())M=f(g,M.value,j),M!==null&&(x=i(M,x,S),_===null?k=M:_.sibling=M,_=M);return Re&&ci(g,S),k}for(N=n(g,N);!M.done;S++,M=b.next())M=m(N,g,S,M.value,j),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?S:M.key),x=i(M,x,S),_===null?k=M:_.sibling=M,_=M);return e&&N.forEach(function(P){return t(g,P)}),Re&&ci(g,S),k}function v(g,x,b,j){if(typeof b=="object"&&b!==null&&b.type===ws&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case kc:e:{for(var k=b.key,_=x;_!==null;){if(_.key===k){if(k=b.type,k===ws){if(_.tag===7){r(g,_.sibling),x=a(_,b.props.children),x.return=g,g=x;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ka&&Dw(k)===_.type){r(g,_.sibling),x=a(_,b.props),x.ref=sl(g,_,b),x.return=g,g=x;break e}r(g,_);break}else t(g,_);_=_.sibling}b.type===ws?(x=Di(b.props.children,g.mode,j,b.key),x.return=g,g=x):(j=jd(b.type,b.key,b.props,null,g.mode,j),j.ref=sl(g,x,b),j.return=g,g=j)}return s(g);case bs:e:{for(_=b.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(g,x.sibling),x=a(x,b.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=jp(b,g.mode,j),x.return=g,g=x}return s(g);case ka:return _=b._init,v(g,x,_(b._payload),j)}if(wl(b))return p(g,x,b,j);if(tl(b))return y(g,x,b,j);Ic(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(g,x.sibling),x=a(x,b),x.return=g,g=x):(r(g,x),x=wp(b,g.mode,j),x.return=g,g=x),s(g)):r(g,x)}return v}var so=e2(!0),t2=e2(!1),Gd=ni(null),Qd=null,Ps=null,Q0=null;function Z0(){Q0=Ps=Qd=null}function J0(e){var t=Gd.current;Me(Gd),e._currentValue=t}function Dg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Fs(e,t){Qd=e,Q0=Ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qt=!0),e.firstContext=null)}function Tr(e){var t=e._currentValue;if(Q0!==e)if(e={context:e,memoizedValue:t,next:null},Ps===null){if(Qd===null)throw Error(Y(308));Ps=e,Qd.dependencies={lanes:0,firstContext:e}}else Ps=Ps.next=e;return t}var vi=null;function ev(e){vi===null?vi=[e]:vi.push(e)}function r2(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,ev(t)):(r.next=a.next,a.next=r),t.interleaved=r,Zn(e,n)}function Zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Na=!1;function tv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,xe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Zn(e,r)}return a=n.interleaved,a===null?(t.next=t,ev(n)):(t.next=a.next,a.next=t),n.interleaved=t,Zn(e,r)}function gd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,F0(e,r)}}function Rw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Zd(e,t,r,n){var a=e.updateQueue;Na=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,c=u.next;u.next=null,s===null?i=c:s.next=c,s=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=a.baseState;s=0,d=c=u=null,o=i;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,y=o;switch(h=t,m=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Ue({},f,h);break e;case 2:Na=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,u=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(u=f),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Wi|=s,e.lanes=s,e.memoizedState=f}}function Lw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Y(191,a));a.call(n)}}}var Du={},jn=ni(Du),Ql=ni(Du),Zl=ni(Du);function xi(e){if(e===Du)throw Error(Y(174));return e}function rv(e,t){switch(Pe(Zl,t),Pe(Ql,e),Pe(jn,Du),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pg(t,e)}Me(jn),Pe(jn,t)}function oo(){Me(jn),Me(Ql),Me(Zl)}function a2(e){xi(Zl.current);var t=xi(jn.current),r=pg(t,e.type);t!==r&&(Pe(Ql,e),Pe(jn,r))}function nv(e){Ql.current===e&&(Me(jn),Me(Ql))}var Fe=ni(0);function Jd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pp=[];function av(){for(var e=0;e<pp.length;e++)pp[e]._workInProgressVersionPrimary=null;pp.length=0}var yd=ca.ReactCurrentDispatcher,gp=ca.ReactCurrentBatchConfig,Vi=0,Be=null,rt=null,mt=null,ef=!1,Il=!1,Jl=0,tR=0;function St(){throw Error(Y(321))}function iv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nn(e[r],t[r]))return!1;return!0}function sv(e,t,r,n,a,i){if(Vi=i,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yd.current=e===null||e.memoizedState===null?iR:sR,e=r(n,a),Il){i=0;do{if(Il=!1,Jl=0,25<=i)throw Error(Y(301));i+=1,mt=rt=null,t.updateQueue=null,yd.current=oR,e=r(n,a)}while(Il)}if(yd.current=tf,t=rt!==null&&rt.next!==null,Vi=0,mt=rt=Be=null,ef=!1,t)throw Error(Y(300));return e}function ov(){var e=Jl!==0;return Jl=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Be.memoizedState=mt=e:mt=mt.next=e,mt}function Mr(){if(rt===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=mt===null?Be.memoizedState:mt.next;if(t!==null)mt=t,rt=e;else{if(e===null)throw Error(Y(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},mt===null?Be.memoizedState=mt=e:mt=mt.next=e}return mt}function eu(e,t){return typeof t=="function"?t(e):t}function yp(e){var t=Mr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=rt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,u=null,c=i;do{var d=c.lane;if((Vi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=f,s=n):u=u.next=f,Be.lanes|=d,Wi|=d}c=c.next}while(c!==null&&c!==i);u===null?s=n:u.next=o,nn(n,t.memoizedState)||(Qt=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Be.lanes|=i,Wi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function vp(e){var t=Mr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);nn(i,t.memoizedState)||(Qt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function i2(){}function s2(e,t){var r=Be,n=Mr(),a=t(),i=!nn(n.memoizedState,a);if(i&&(n.memoizedState=a,Qt=!0),n=n.queue,lv(u2.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||mt!==null&&mt.memoizedState.tag&1){if(r.flags|=2048,tu(9,l2.bind(null,r,n,a,t),void 0,null),pt===null)throw Error(Y(349));Vi&30||o2(r,t,a)}return a}function o2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function l2(e,t,r,n){t.value=r,t.getSnapshot=n,c2(t)&&d2(e)}function u2(e,t,r){return r(function(){c2(t)&&d2(e)})}function c2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nn(e,r)}catch{return!0}}function d2(e){var t=Zn(e,1);t!==null&&tn(t,e,1,-1)}function $w(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:e},t.queue=e,e=e.dispatch=aR.bind(null,Be,e),[t.memoizedState,e]}function tu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function f2(){return Mr().memoizedState}function vd(e,t,r,n){var a=pn();Be.flags|=e,a.memoizedState=tu(1|t,r,void 0,n===void 0?null:n)}function xh(e,t,r,n){var a=Mr();n=n===void 0?null:n;var i=void 0;if(rt!==null){var s=rt.memoizedState;if(i=s.destroy,n!==null&&iv(n,s.deps)){a.memoizedState=tu(t,r,i,n);return}}Be.flags|=e,a.memoizedState=tu(1|t,r,i,n)}function zw(e,t){return vd(8390656,8,e,t)}function lv(e,t){return xh(2048,8,e,t)}function h2(e,t){return xh(4,2,e,t)}function m2(e,t){return xh(4,4,e,t)}function p2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function g2(e,t,r){return r=r!=null?r.concat([e]):null,xh(4,4,p2.bind(null,t,e),r)}function uv(){}function y2(e,t){var r=Mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&iv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function v2(e,t){var r=Mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&iv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function x2(e,t,r){return Vi&21?(nn(r,t)||(r=NS(),Be.lanes|=r,Wi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=r)}function rR(e,t){var r=Ne;Ne=r!==0&&4>r?r:4,e(!0);var n=gp.transition;gp.transition={};try{e(!1),t()}finally{Ne=r,gp.transition=n}}function b2(){return Mr().memoizedState}function nR(e,t,r){var n=qa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},w2(e))j2(t,r);else if(r=r2(e,t,r,n),r!==null){var a=Ft();tn(r,e,n,a),k2(r,t,n)}}function aR(e,t,r){var n=qa(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(w2(e))j2(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,nn(o,s)){var u=t.interleaved;u===null?(a.next=a,ev(t)):(a.next=u.next,u.next=a),t.interleaved=a;return}}catch{}finally{}r=r2(e,t,a,n),r!==null&&(a=Ft(),tn(r,e,n,a),k2(r,t,n))}}function w2(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function j2(e,t){Il=ef=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function k2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,F0(e,r)}}var tf={readContext:Tr,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},iR={readContext:Tr,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:Tr,useEffect:zw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vd(4194308,4,p2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vd(4194308,4,e,t)},useInsertionEffect:function(e,t){return vd(4,2,e,t)},useMemo:function(e,t){var r=pn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nR.bind(null,Be,e),[n.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:$w,useDebugValue:uv,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=$w(!1),t=e[0];return e=rR.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Be,a=pn();if(Re){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=t(),pt===null)throw Error(Y(349));Vi&30||o2(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,zw(u2.bind(null,n,i,e),[e]),n.flags|=2048,tu(9,l2.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=pn(),t=pt.identifierPrefix;if(Re){var r=Un,n=Bn;r=(n&~(1<<32-en(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=tR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sR={readContext:Tr,useCallback:y2,useContext:Tr,useEffect:lv,useImperativeHandle:g2,useInsertionEffect:h2,useLayoutEffect:m2,useMemo:v2,useReducer:yp,useRef:f2,useState:function(){return yp(eu)},useDebugValue:uv,useDeferredValue:function(e){var t=Mr();return x2(t,rt.memoizedState,e)},useTransition:function(){var e=yp(eu)[0],t=Mr().memoizedState;return[e,t]},useMutableSource:i2,useSyncExternalStore:s2,useId:b2,unstable_isNewReconciler:!1},oR={readContext:Tr,useCallback:y2,useContext:Tr,useEffect:lv,useImperativeHandle:g2,useInsertionEffect:h2,useLayoutEffect:m2,useMemo:v2,useReducer:vp,useRef:f2,useState:function(){return vp(eu)},useDebugValue:uv,useDeferredValue:function(e){var t=Mr();return rt===null?t.memoizedState=e:x2(t,rt.memoizedState,e)},useTransition:function(){var e=vp(eu)[0],t=Mr().memoizedState;return[e,t]},useMutableSource:i2,useSyncExternalStore:s2,useId:b2,unstable_isNewReconciler:!1};function Br(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Rg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bh={isMounted:function(e){return(e=e._reactInternals)?ss(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ft(),a=qa(e),i=Kn(n,a);i.payload=t,r!=null&&(i.callback=r),t=Wa(e,i,a),t!==null&&(tn(t,e,a,n),gd(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ft(),a=qa(e),i=Kn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Wa(e,i,a),t!==null&&(tn(t,e,a,n),gd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ft(),n=qa(e),a=Kn(r,n);a.tag=2,t!=null&&(a.callback=t),t=Wa(e,a,n),t!==null&&(tn(t,e,n,r),gd(t,e,n))}};function Fw(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!ql(r,n)||!ql(a,i):!0}function N2(e,t,r){var n=!1,a=Ja,i=t.contextType;return typeof i=="object"&&i!==null?i=Tr(i):(a=tr(t)?Ui:Mt.current,n=t.contextTypes,i=(n=n!=null)?ao(e,a):Ja),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Bw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bh.enqueueReplaceState(t,t.state,null)}function Lg(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},tv(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Tr(i):(i=tr(t)?Ui:Mt.current,a.context=ao(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Rg(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&bh.enqueueReplaceState(a,a.state,null),Zd(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function lo(e,t){try{var r="",n=t;do r+=D3(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function xp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $g(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var lR=typeof WeakMap=="function"?WeakMap:Map;function _2(e,t,r){r=Kn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){nf||(nf=!0,Yg=n),$g(e,t)},r}function S2(e,t,r){r=Kn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){$g(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$g(e,t),typeof n!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Uw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new lR;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=jR.bind(null,e,t,r),t.then(e,e))}function Hw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vw(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Kn(-1,1),t.tag=2,Wa(r,t,1))),r.lanes|=1),e)}var uR=ca.ReactCurrentOwner,Qt=!1;function Rt(e,t,r,n){t.child=e===null?t2(t,null,r,n):so(t,e.child,r,n)}function Ww(e,t,r,n,a){r=r.render;var i=t.ref;return Fs(t,a),n=sv(e,t,r,n,i,a),r=ov(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Jn(e,t,a)):(Re&&r&&Y0(t),t.flags|=1,Rt(e,t,n,a),t.child)}function Kw(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!yv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,E2(e,t,i,n,a)):(e=jd(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:ql,r(s,n)&&e.ref===t.ref)return Jn(e,t,a)}return t.flags|=1,e=Ya(i,n),e.ref=t.ref,e.return=t,t.child=e}function E2(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(ql(i,n)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Qt=!0);else return t.lanes=e.lanes,Jn(e,t,a)}return zg(e,t,r,n,a)}function C2(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(As,or),or|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(As,or),or|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Pe(As,or),or|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Pe(As,or),or|=n;return Rt(e,t,a,r),t.child}function P2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zg(e,t,r,n,a){var i=tr(r)?Ui:Mt.current;return i=ao(t,i),Fs(t,a),r=sv(e,t,r,n,i,a),n=ov(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Jn(e,t,a)):(Re&&n&&Y0(t),t.flags|=1,Rt(e,t,r,a),t.child)}function qw(e,t,r,n,a){if(tr(r)){var i=!0;qd(t)}else i=!1;if(Fs(t,a),t.stateNode===null)xd(e,t),N2(t,r,n),Lg(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var u=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Tr(c):(c=tr(r)?Ui:Mt.current,c=ao(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||u!==c)&&Bw(t,s,n,c),Na=!1;var h=t.memoizedState;s.state=h,Zd(t,n,s,a),u=t.memoizedState,o!==n||h!==u||er.current||Na?(typeof d=="function"&&(Rg(t,r,d,n),u=t.memoizedState),(o=Na||Fw(t,r,o,n,h,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),s.props=n,s.state=u,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,n2(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Br(t.type,o),s.props=c,f=t.pendingProps,h=s.context,u=r.contextType,typeof u=="object"&&u!==null?u=Tr(u):(u=tr(r)?Ui:Mt.current,u=ao(t,u));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==u)&&Bw(t,s,n,u),Na=!1,h=t.memoizedState,s.state=h,Zd(t,n,s,a);var p=t.memoizedState;o!==f||h!==p||er.current||Na?(typeof m=="function"&&(Rg(t,r,m,n),p=t.memoizedState),(c=Na||Fw(t,r,c,n,h,p,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=u,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Fg(e,t,r,n,i,a)}function Fg(e,t,r,n,a,i){P2(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&Tw(t,r,!1),Jn(e,t,i);n=t.stateNode,uR.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=so(t,e.child,null,i),t.child=so(t,null,o,i)):Rt(e,t,o,i),t.memoizedState=n.state,a&&Tw(t,r,!0),t.child}function O2(e){var t=e.stateNode;t.pendingContext?Aw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Aw(e,t.context,!1),rv(e,t.containerInfo)}function Yw(e,t,r,n,a){return io(),G0(a),t.flags|=256,Rt(e,t,r,n),t.child}var Bg={dehydrated:null,treeContext:null,retryLane:0};function Ug(e){return{baseLanes:e,cachePool:null,transitions:null}}function A2(e,t,r){var n=t.pendingProps,a=Fe.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Pe(Fe,a&1),e===null)return Ig(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=kh(s,n,0,null),e=Di(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ug(r),t.memoizedState=Bg,e):cv(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return cR(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var u={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Ya(a,u),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ya(o,i):(i=Di(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Ug(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Bg,n}return i=e.child,e=i.sibling,n=Ya(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function cv(e,t){return t=kh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dc(e,t,r,n){return n!==null&&G0(n),so(t,e.child,null,r),e=cv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cR(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=xp(Error(Y(422))),Dc(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=kh({mode:"visible",children:n.children},a,0,null),i=Di(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&so(t,e.child,null,s),t.child.memoizedState=Ug(s),t.memoizedState=Bg,i);if(!(t.mode&1))return Dc(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Y(419)),n=xp(i,n,void 0),Dc(e,t,s,n)}if(o=(s&e.childLanes)!==0,Qt||o){if(n=pt,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Zn(e,a),tn(n,e,a,-1))}return gv(),n=xp(Error(Y(421))),Dc(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=kR.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,dr=Va(a.nextSibling),mr=t,Re=!0,Kr=null,e!==null&&(Er[Cr++]=Bn,Er[Cr++]=Un,Er[Cr++]=Hi,Bn=e.id,Un=e.overflow,Hi=t),t=cv(t,n.children),t.flags|=4096,t)}function Xw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Dg(e.return,t,r)}function bp(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function T2(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Rt(e,t,n.children,r),n=Fe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xw(e,r,t);else if(e.tag===19)Xw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pe(Fe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Jd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),bp(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Jd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}bp(t,!0,r,null,i);break;case"together":bp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,r=Ya(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ya(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dR(e,t,r){switch(t.tag){case 3:O2(t),io();break;case 5:a2(t);break;case 1:tr(t.type)&&qd(t);break;case 4:rv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Pe(Gd,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Pe(Fe,Fe.current&1),t.flags|=128,null):r&t.child.childLanes?A2(e,t,r):(Pe(Fe,Fe.current&1),e=Jn(e,t,r),e!==null?e.sibling:null);Pe(Fe,Fe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return T2(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pe(Fe,Fe.current),n)break;return null;case 22:case 23:return t.lanes=0,C2(e,t,r)}return Jn(e,t,r)}var M2,Hg,I2,D2;M2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hg=function(){};I2=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,xi(jn.current);var i=null;switch(r){case"input":a=dg(e,a),n=dg(e,n),i=[];break;case"select":a=Ue({},a,{value:void 0}),n=Ue({},n,{value:void 0}),i=[];break;case"textarea":a=mg(e,a),n=mg(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wd)}gg(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in u)u.hasOwnProperty(s)&&o[s]!==u[s]&&(r||(r={}),r[s]=u[s])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ae("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};D2=function(e,t,r,n){r!==n&&(t.flags|=4)};function ol(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function fR(e,t,r){var n=t.pendingProps;switch(X0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return tr(t.type)&&Kd(),Et(t),null;case 3:return n=t.stateNode,oo(),Me(er),Me(Mt),av(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kr!==null&&(Qg(Kr),Kr=null))),Hg(e,t),Et(t),null;case 5:nv(t);var a=xi(Zl.current);if(r=t.type,e!==null&&t.stateNode!=null)I2(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Y(166));return Et(t),null}if(e=xi(jn.current),Mc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[xn]=t,n[Gl]=i,e=(t.mode&1)!==0,r){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(a=0;a<kl.length;a++)Ae(kl[a],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":aw(n,i),Ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",n);break;case"textarea":sw(n,i),Ae("invalid",n)}gg(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Tc(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Tc(n.textContent,o,e),a=["children",""+o]):Fl.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Ae("scroll",n)}switch(r){case"input":Nc(n),iw(n,i,!0);break;case"textarea":Nc(n),ow(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Wd)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[xn]=t,e[Gl]=n,M2(e,t,!1,!1),t.stateNode=e;e:{switch(s=yg(r,n),r){case"dialog":Ae("cancel",e),Ae("close",e),a=n;break;case"iframe":case"object":case"embed":Ae("load",e),a=n;break;case"video":case"audio":for(a=0;a<kl.length;a++)Ae(kl[a],e);a=n;break;case"source":Ae("error",e),a=n;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),a=n;break;case"details":Ae("toggle",e),a=n;break;case"input":aw(e,n),a=dg(e,n),Ae("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ue({},n,{value:void 0}),Ae("invalid",e);break;case"textarea":sw(e,n),a=mg(e,n),Ae("invalid",e);break;default:a=n}gg(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?fS(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cS(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Bl(e,u):typeof u=="number"&&Bl(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fl.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ae("scroll",e):u!=null&&I0(e,i,u,s))}switch(r){case"input":Nc(e),iw(e,n,!1);break;case"textarea":Nc(e),ow(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Za(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Rs(e,!!n.multiple,i,!1):n.defaultValue!=null&&Rs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Wd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)D2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Y(166));if(r=xi(Zl.current),xi(jn.current),Mc(t)){if(n=t.stateNode,r=t.memoizedProps,n[xn]=t,(i=n.nodeValue!==r)&&(e=mr,e!==null))switch(e.tag){case 3:Tc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xn]=t,t.stateNode=n}return Et(t),null;case 13:if(Me(Fe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&dr!==null&&t.mode&1&&!(t.flags&128))JS(),io(),t.flags|=98560,i=!1;else if(i=Mc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[xn]=t}else io(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),i=!1}else Kr!==null&&(Qg(Kr),Kr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?at===0&&(at=3):gv())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return oo(),Hg(e,t),e===null&&Yl(t.stateNode.containerInfo),Et(t),null;case 10:return J0(t.type._context),Et(t),null;case 17:return tr(t.type)&&Kd(),Et(t),null;case 19:if(Me(Fe),i=t.memoizedState,i===null)return Et(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)ol(i,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Jd(e),s!==null){for(t.flags|=128,ol(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pe(Fe,Fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ye()>uo&&(t.flags|=128,n=!0,ol(i,!1),t.lanes=4194304)}else{if(!n)if(e=Jd(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ol(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Re)return Et(t),null}else 2*Ye()-i.renderingStartTime>uo&&r!==1073741824&&(t.flags|=128,n=!0,ol(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,r=Fe.current,Pe(Fe,n?r&1|2:r&1),t):(Et(t),null);case 22:case 23:return pv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?or&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function hR(e,t){switch(X0(t),t.tag){case 1:return tr(t.type)&&Kd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oo(),Me(er),Me(Mt),av(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nv(t),null;case 13:if(Me(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));io()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Fe),null;case 4:return oo(),null;case 10:return J0(t.type._context),null;case 22:case 23:return pv(),null;case 24:return null;default:return null}}var Rc=!1,Pt=!1,mR=typeof WeakSet=="function"?WeakSet:Set,re=null;function Os(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ke(e,t,n)}else r.current=null}function Vg(e,t,r){try{r()}catch(n){Ke(e,t,n)}}var Gw=!1;function pR(e,t){if(Eg=Ud,e=FS(),q0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(u=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++d===n&&(u=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cg={focusedElem:e,selectionRange:r},Ud=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,v=p.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Br(t.type,y),v);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(j){Ke(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return p=Gw,Gw=!1,p}function Dl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Vg(t,r,i)}a=a.next}while(a!==n)}}function wh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Wg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function R2(e){var t=e.alternate;t!==null&&(e.alternate=null,R2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[Gl],delete t[Ag],delete t[Q4],delete t[Z4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function L2(e){return e.tag===5||e.tag===3||e.tag===4}function Qw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||L2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wd));else if(n!==4&&(e=e.child,e!==null))for(Kg(e,t,r),e=e.sibling;e!==null;)Kg(e,t,r),e=e.sibling}function qg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(qg(e,t,r),e=e.sibling;e!==null;)qg(e,t,r),e=e.sibling}var bt=null,Vr=!1;function xa(e,t,r){for(r=r.child;r!==null;)$2(e,t,r),r=r.sibling}function $2(e,t,r){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(hh,r)}catch{}switch(r.tag){case 5:Pt||Os(r,t);case 6:var n=bt,a=Vr;bt=null,xa(e,t,r),bt=n,Vr=a,bt!==null&&(Vr?(e=bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bt.removeChild(r.stateNode));break;case 18:bt!==null&&(Vr?(e=bt,r=r.stateNode,e.nodeType===8?hp(e.parentNode,r):e.nodeType===1&&hp(e,r),Wl(e)):hp(bt,r.stateNode));break;case 4:n=bt,a=Vr,bt=r.stateNode.containerInfo,Vr=!0,xa(e,t,r),bt=n,Vr=a;break;case 0:case 11:case 14:case 15:if(!Pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Vg(r,t,s),a=a.next}while(a!==n)}xa(e,t,r);break;case 1:if(!Pt&&(Os(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ke(r,t,o)}xa(e,t,r);break;case 21:xa(e,t,r);break;case 22:r.mode&1?(Pt=(n=Pt)||r.memoizedState!==null,xa(e,t,r),Pt=n):xa(e,t,r);break;default:xa(e,t,r)}}function Zw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new mR),t.forEach(function(n){var a=NR.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Fr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:bt=o.stateNode,Vr=!1;break e;case 3:bt=o.stateNode.containerInfo,Vr=!0;break e;case 4:bt=o.stateNode.containerInfo,Vr=!0;break e}o=o.return}if(bt===null)throw Error(Y(160));$2(i,s,a),bt=null,Vr=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(c){Ke(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)z2(t,e),t=t.sibling}function z2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fr(t,e),fn(e),n&4){try{Dl(3,e,e.return),wh(3,e)}catch(y){Ke(e,e.return,y)}try{Dl(5,e,e.return)}catch(y){Ke(e,e.return,y)}}break;case 1:Fr(t,e),fn(e),n&512&&r!==null&&Os(r,r.return);break;case 5:if(Fr(t,e),fn(e),n&512&&r!==null&&Os(r,r.return),e.flags&32){var a=e.stateNode;try{Bl(a,"")}catch(y){Ke(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&oS(a,i),yg(o,s);var c=yg(o,i);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];d==="style"?fS(a,f):d==="dangerouslySetInnerHTML"?cS(a,f):d==="children"?Bl(a,f):I0(a,d,f,c)}switch(o){case"input":fg(a,i);break;case"textarea":lS(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Rs(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Rs(a,!!i.multiple,i.defaultValue,!0):Rs(a,!!i.multiple,i.multiple?[]:"",!1))}a[Gl]=i}catch(y){Ke(e,e.return,y)}}break;case 6:if(Fr(t,e),fn(e),n&4){if(e.stateNode===null)throw Error(Y(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){Ke(e,e.return,y)}}break;case 3:if(Fr(t,e),fn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wl(t.containerInfo)}catch(y){Ke(e,e.return,y)}break;case 4:Fr(t,e),fn(e);break;case 13:Fr(t,e),fn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(hv=Ye())),n&4&&Zw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pt=(c=Pt)||d,Fr(t,e),Pt=c):Fr(t,e),fn(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(re=e,d=e.child;d!==null;){for(f=re=d;re!==null;){switch(h=re,m=h.child,h.tag){case 0:case 11:case 14:case 15:Dl(4,h,h.return);break;case 1:Os(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){Ke(n,r,y)}}break;case 5:Os(h,h.return);break;case 22:if(h.memoizedState!==null){e1(f);continue}}m!==null?(m.return=h,re=m):e1(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=dS("display",s))}catch(y){Ke(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Ke(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fr(t,e),fn(e),n&4&&Zw(e);break;case 21:break;default:Fr(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(L2(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Bl(a,""),n.flags&=-33);var i=Qw(e);qg(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=Qw(e);Kg(e,o,s);break;default:throw Error(Y(161))}}catch(u){Ke(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gR(e,t,r){re=e,F2(e)}function F2(e,t,r){for(var n=(e.mode&1)!==0;re!==null;){var a=re,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Rc;if(!s){var o=a.alternate,u=o!==null&&o.memoizedState!==null||Pt;o=Rc;var c=Pt;if(Rc=s,(Pt=u)&&!c)for(re=a;re!==null;)s=re,u=s.child,s.tag===22&&s.memoizedState!==null?t1(a):u!==null?(u.return=s,re=u):t1(a);for(;i!==null;)re=i,F2(i),i=i.sibling;re=a,Rc=o,Pt=c}Jw(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,re=i):Jw(e)}}function Jw(e){for(;re!==null;){var t=re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||wh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Br(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Lw(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lw(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Pt||t.flags&512&&Wg(t)}catch(h){Ke(t,t.return,h)}}if(t===e){re=null;break}if(r=t.sibling,r!==null){r.return=t.return,re=r;break}re=t.return}}function e1(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,re=r;break}re=t.return}}function t1(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{wh(4,t)}catch(u){Ke(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(u){Ke(t,a,u)}}var i=t.return;try{Wg(t)}catch(u){Ke(t,i,u)}break;case 5:var s=t.return;try{Wg(t)}catch(u){Ke(t,s,u)}}}catch(u){Ke(t,t.return,u)}if(t===e){re=null;break}var o=t.sibling;if(o!==null){o.return=t.return,re=o;break}re=t.return}}var yR=Math.ceil,rf=ca.ReactCurrentDispatcher,dv=ca.ReactCurrentOwner,Ar=ca.ReactCurrentBatchConfig,xe=0,pt=null,Je=null,Nt=0,or=0,As=ni(0),at=0,ru=null,Wi=0,jh=0,fv=0,Rl=null,Gt=null,hv=0,uo=1/0,In=null,nf=!1,Yg=null,Ka=null,Lc=!1,Fa=null,af=0,Ll=0,Xg=null,bd=-1,wd=0;function Ft(){return xe&6?Ye():bd!==-1?bd:bd=Ye()}function qa(e){return e.mode&1?xe&2&&Nt!==0?Nt&-Nt:eR.transition!==null?(wd===0&&(wd=NS()),wd):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:AS(e.type)),e):1}function tn(e,t,r,n){if(50<Ll)throw Ll=0,Xg=null,Error(Y(185));Tu(e,r,n),(!(xe&2)||e!==pt)&&(e===pt&&(!(xe&2)&&(jh|=r),at===4&&Ca(e,Nt)),rr(e,n),r===1&&xe===0&&!(t.mode&1)&&(uo=Ye()+500,vh&&ai()))}function rr(e,t){var r=e.callbackNode;e4(e,t);var n=Bd(e,e===pt?Nt:0);if(n===0)r!==null&&cw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&cw(r),t===1)e.tag===0?J4(r1.bind(null,e)):GS(r1.bind(null,e)),X4(function(){!(xe&6)&&ai()}),r=null;else{switch(_S(n)){case 1:r=z0;break;case 4:r=jS;break;case 16:r=Fd;break;case 536870912:r=kS;break;default:r=Fd}r=Y2(r,B2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function B2(e,t){if(bd=-1,wd=0,xe&6)throw Error(Y(327));var r=e.callbackNode;if(Bs()&&e.callbackNode!==r)return null;var n=Bd(e,e===pt?Nt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sf(e,n);else{t=n;var a=xe;xe|=2;var i=H2();(pt!==e||Nt!==t)&&(In=null,uo=Ye()+500,Ii(e,t));do try{bR();break}catch(o){U2(e,o)}while(!0);Z0(),rf.current=i,xe=a,Je!==null?t=0:(pt=null,Nt=0,t=at)}if(t!==0){if(t===2&&(a=jg(e),a!==0&&(n=a,t=Gg(e,a))),t===1)throw r=ru,Ii(e,0),Ca(e,n),rr(e,Ye()),r;if(t===6)Ca(e,n);else{if(a=e.current.alternate,!(n&30)&&!vR(a)&&(t=sf(e,n),t===2&&(i=jg(e),i!==0&&(n=i,t=Gg(e,i))),t===1))throw r=ru,Ii(e,0),Ca(e,n),rr(e,Ye()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Y(345));case 2:di(e,Gt,In);break;case 3:if(Ca(e,n),(n&130023424)===n&&(t=hv+500-Ye(),10<t)){if(Bd(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ft(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Og(di.bind(null,e,Gt,In),t);break}di(e,Gt,In);break;case 4:if(Ca(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-en(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yR(n/1960))-n,10<n){e.timeoutHandle=Og(di.bind(null,e,Gt,In),n);break}di(e,Gt,In);break;case 5:di(e,Gt,In);break;default:throw Error(Y(329))}}}return rr(e,Ye()),e.callbackNode===r?B2.bind(null,e):null}function Gg(e,t){var r=Rl;return e.current.memoizedState.isDehydrated&&(Ii(e,t).flags|=256),e=sf(e,t),e!==2&&(t=Gt,Gt=r,t!==null&&Qg(t)),e}function Qg(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function vR(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!nn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ca(e,t){for(t&=~fv,t&=~jh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-en(t),n=1<<r;e[r]=-1,t&=~n}}function r1(e){if(xe&6)throw Error(Y(327));Bs();var t=Bd(e,0);if(!(t&1))return rr(e,Ye()),null;var r=sf(e,t);if(e.tag!==0&&r===2){var n=jg(e);n!==0&&(t=n,r=Gg(e,n))}if(r===1)throw r=ru,Ii(e,0),Ca(e,t),rr(e,Ye()),r;if(r===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,di(e,Gt,In),rr(e,Ye()),null}function mv(e,t){var r=xe;xe|=1;try{return e(t)}finally{xe=r,xe===0&&(uo=Ye()+500,vh&&ai())}}function Ki(e){Fa!==null&&Fa.tag===0&&!(xe&6)&&Bs();var t=xe;xe|=1;var r=Ar.transition,n=Ne;try{if(Ar.transition=null,Ne=1,e)return e()}finally{Ne=n,Ar.transition=r,xe=t,!(xe&6)&&ai()}}function pv(){or=As.current,Me(As)}function Ii(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Y4(r)),Je!==null)for(r=Je.return;r!==null;){var n=r;switch(X0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Kd();break;case 3:oo(),Me(er),Me(Mt),av();break;case 5:nv(n);break;case 4:oo();break;case 13:Me(Fe);break;case 19:Me(Fe);break;case 10:J0(n.type._context);break;case 22:case 23:pv()}r=r.return}if(pt=e,Je=e=Ya(e.current,null),Nt=or=t,at=0,ru=null,fv=jh=Wi=0,Gt=Rl=null,vi!==null){for(t=0;t<vi.length;t++)if(r=vi[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}vi=null}return e}function U2(e,t){do{var r=Je;try{if(Z0(),yd.current=tf,ef){for(var n=Be.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ef=!1}if(Vi=0,mt=rt=Be=null,Il=!1,Jl=0,dv.current=null,r===null||r.return===null){at=1,ru=t,Je=null;break}e:{var i=e,s=r.return,o=r,u=t;if(t=Nt,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Hw(s);if(m!==null){m.flags&=-257,Vw(m,s,o,i,t),m.mode&1&&Uw(i,c,t),t=m,u=c;var p=t.updateQueue;if(p===null){var y=new Set;y.add(u),t.updateQueue=y}else p.add(u);break e}else{if(!(t&1)){Uw(i,c,t),gv();break e}u=Error(Y(426))}}else if(Re&&o.mode&1){var v=Hw(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Vw(v,s,o,i,t),G0(lo(u,o));break e}}i=u=lo(u,o),at!==4&&(at=2),Rl===null?Rl=[i]:Rl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=_2(i,u,t);Rw(i,g);break e;case 1:o=u;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ka===null||!Ka.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=S2(i,o,t);Rw(i,j);break e}}i=i.return}while(i!==null)}W2(r)}catch(k){t=k,Je===r&&r!==null&&(Je=r=r.return);continue}break}while(!0)}function H2(){var e=rf.current;return rf.current=tf,e===null?tf:e}function gv(){(at===0||at===3||at===2)&&(at=4),pt===null||!(Wi&268435455)&&!(jh&268435455)||Ca(pt,Nt)}function sf(e,t){var r=xe;xe|=2;var n=H2();(pt!==e||Nt!==t)&&(In=null,Ii(e,t));do try{xR();break}catch(a){U2(e,a)}while(!0);if(Z0(),xe=r,rf.current=n,Je!==null)throw Error(Y(261));return pt=null,Nt=0,at}function xR(){for(;Je!==null;)V2(Je)}function bR(){for(;Je!==null&&!W3();)V2(Je)}function V2(e){var t=q2(e.alternate,e,or);e.memoizedProps=e.pendingProps,t===null?W2(e):Je=t,dv.current=null}function W2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=hR(r,t),r!==null){r.flags&=32767,Je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,Je=null;return}}else if(r=fR(r,t,or),r!==null){Je=r;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);at===0&&(at=5)}function di(e,t,r){var n=Ne,a=Ar.transition;try{Ar.transition=null,Ne=1,wR(e,t,r,n)}finally{Ar.transition=a,Ne=n}return null}function wR(e,t,r,n){do Bs();while(Fa!==null);if(xe&6)throw Error(Y(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(t4(e,i),e===pt&&(Je=pt=null,Nt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Lc||(Lc=!0,Y2(Fd,function(){return Bs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ar.transition,Ar.transition=null;var s=Ne;Ne=1;var o=xe;xe|=4,dv.current=null,pR(e,r),z2(r,e),B4(Cg),Ud=!!Eg,Cg=Eg=null,e.current=r,gR(r),K3(),xe=o,Ne=s,Ar.transition=i}else e.current=r;if(Lc&&(Lc=!1,Fa=e,af=a),i=e.pendingLanes,i===0&&(Ka=null),X3(r.stateNode),rr(e,Ye()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(nf)throw nf=!1,e=Yg,Yg=null,e;return af&1&&e.tag!==0&&Bs(),i=e.pendingLanes,i&1?e===Xg?Ll++:(Ll=0,Xg=e):Ll=0,ai(),null}function Bs(){if(Fa!==null){var e=_S(af),t=Ar.transition,r=Ne;try{if(Ar.transition=null,Ne=16>e?16:e,Fa===null)var n=!1;else{if(e=Fa,Fa=null,af=0,xe&6)throw Error(Y(331));var a=xe;for(xe|=4,re=e.current;re!==null;){var i=re,s=i.child;if(re.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(re=c;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:Dl(8,d,i)}var f=d.child;if(f!==null)f.return=d,re=f;else for(;re!==null;){d=re;var h=d.sibling,m=d.return;if(R2(d),d===c){re=null;break}if(h!==null){h.return=m,re=h;break}re=m}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}re=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,re=s;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dl(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,re=g;break e}re=i.return}}var x=e.current;for(re=x;re!==null;){s=re;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,re=b;else e:for(s=x;re!==null;){if(o=re,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:wh(9,o)}}catch(k){Ke(o,o.return,k)}if(o===s){re=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,re=j;break e}re=o.return}}if(xe=a,ai(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(hh,e)}catch{}n=!0}return n}finally{Ne=r,Ar.transition=t}}return!1}function n1(e,t,r){t=lo(r,t),t=_2(e,t,1),e=Wa(e,t,1),t=Ft(),e!==null&&(Tu(e,1,t),rr(e,t))}function Ke(e,t,r){if(e.tag===3)n1(e,e,r);else for(;t!==null;){if(t.tag===3){n1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ka===null||!Ka.has(n))){e=lo(r,e),e=S2(t,e,1),t=Wa(t,e,1),e=Ft(),t!==null&&(Tu(t,1,e),rr(t,e));break}}t=t.return}}function jR(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&r,pt===e&&(Nt&r)===r&&(at===4||at===3&&(Nt&130023424)===Nt&&500>Ye()-hv?Ii(e,0):fv|=r),rr(e,t)}function K2(e,t){t===0&&(e.mode&1?(t=Ec,Ec<<=1,!(Ec&130023424)&&(Ec=4194304)):t=1);var r=Ft();e=Zn(e,t),e!==null&&(Tu(e,t,r),rr(e,r))}function kR(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),K2(e,r)}function NR(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(t),K2(e,r)}var q2;q2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||er.current)Qt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Qt=!1,dR(e,t,r);Qt=!!(e.flags&131072)}else Qt=!1,Re&&t.flags&1048576&&QS(t,Xd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xd(e,t),e=t.pendingProps;var a=ao(t,Mt.current);Fs(t,r),a=sv(null,t,n,e,a,r);var i=ov();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tr(n)?(i=!0,qd(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,tv(t),a.updater=bh,t.stateNode=a,a._reactInternals=t,Lg(t,n,e,r),t=Fg(null,t,n,!0,i,r)):(t.tag=0,Re&&i&&Y0(t),Rt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(xd(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=SR(n),e=Br(n,e),a){case 0:t=zg(null,t,n,e,r);break e;case 1:t=qw(null,t,n,e,r);break e;case 11:t=Ww(null,t,n,e,r);break e;case 14:t=Kw(null,t,n,Br(n.type,e),r);break e}throw Error(Y(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Br(n,a),zg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Br(n,a),qw(e,t,n,a,r);case 3:e:{if(O2(t),e===null)throw Error(Y(387));n=t.pendingProps,i=t.memoizedState,a=i.element,n2(e,t),Zd(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=lo(Error(Y(423)),t),t=Yw(e,t,n,r,a);break e}else if(n!==a){a=lo(Error(Y(424)),t),t=Yw(e,t,n,r,a);break e}else for(dr=Va(t.stateNode.containerInfo.firstChild),mr=t,Re=!0,Kr=null,r=t2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(io(),n===a){t=Jn(e,t,r);break e}Rt(e,t,n,r)}t=t.child}return t;case 5:return a2(t),e===null&&Ig(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,Pg(n,a)?s=null:i!==null&&Pg(n,i)&&(t.flags|=32),P2(e,t),Rt(e,t,s,r),t.child;case 6:return e===null&&Ig(t),null;case 13:return A2(e,t,r);case 4:return rv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=so(t,null,n,r):Rt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Br(n,a),Ww(e,t,n,a,r);case 7:return Rt(e,t,t.pendingProps,r),t.child;case 8:return Rt(e,t,t.pendingProps.children,r),t.child;case 12:return Rt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Pe(Gd,n._currentValue),n._currentValue=s,i!==null)if(nn(i.value,s)){if(i.children===a.children&&!er.current){t=Jn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Kn(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Dg(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Y(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Dg(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Rt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Fs(t,r),a=Tr(a),n=n(a),t.flags|=1,Rt(e,t,n,r),t.child;case 14:return n=t.type,a=Br(n,t.pendingProps),a=Br(n.type,a),Kw(e,t,n,a,r);case 15:return E2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Br(n,a),xd(e,t),t.tag=1,tr(n)?(e=!0,qd(t)):e=!1,Fs(t,r),N2(t,n,a),Lg(t,n,a,r),Fg(null,t,n,!0,e,r);case 19:return T2(e,t,r);case 22:return C2(e,t,r)}throw Error(Y(156,t.tag))};function Y2(e,t){return wS(e,t)}function _R(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(e,t,r,n){return new _R(e,t,r,n)}function yv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SR(e){if(typeof e=="function")return yv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===R0)return 11;if(e===L0)return 14}return 2}function Ya(e,t){var r=e.alternate;return r===null?(r=Pr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function jd(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")yv(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ws:return Di(r.children,a,i,t);case D0:s=8,a|=8;break;case og:return e=Pr(12,r,t,a|2),e.elementType=og,e.lanes=i,e;case lg:return e=Pr(13,r,t,a),e.elementType=lg,e.lanes=i,e;case ug:return e=Pr(19,r,t,a),e.elementType=ug,e.lanes=i,e;case aS:return kh(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rS:s=10;break e;case nS:s=9;break e;case R0:s=11;break e;case L0:s=14;break e;case ka:s=16,n=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Pr(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Di(e,t,r,n){return e=Pr(7,e,n,t),e.lanes=r,e}function kh(e,t,r,n){return e=Pr(22,e,n,t),e.elementType=aS,e.lanes=r,e.stateNode={isHidden:!1},e}function wp(e,t,r){return e=Pr(6,e,null,t),e.lanes=r,e}function jp(e,t,r){return t=Pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ER(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rp(0),this.expirationTimes=rp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function vv(e,t,r,n,a,i,s,o,u){return e=new ER(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Pr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tv(i),e}function CR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function X2(e){if(!e)return Ja;e=e._reactInternals;e:{if(ss(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var r=e.type;if(tr(r))return XS(e,r,t)}return t}function G2(e,t,r,n,a,i,s,o,u){return e=vv(r,n,!0,e,a,i,s,o,u),e.context=X2(null),r=e.current,n=Ft(),a=qa(r),i=Kn(n,a),i.callback=t??null,Wa(r,i,a),e.current.lanes=a,Tu(e,a,n),rr(e,n),e}function Nh(e,t,r,n){var a=t.current,i=Ft(),s=qa(a);return r=X2(r),t.context===null?t.context=r:t.pendingContext=r,t=Kn(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wa(a,t,s),e!==null&&(tn(e,a,s,i),gd(e,a,s)),s}function of(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function a1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function xv(e,t){a1(e,t),(e=e.alternate)&&a1(e,t)}function PR(){return null}var Q2=typeof reportError=="function"?reportError:function(e){console.error(e)};function bv(e){this._internalRoot=e}_h.prototype.render=bv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));Nh(e,t,null,null)};_h.prototype.unmount=bv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ki(function(){Nh(null,e,null,null)}),t[Qn]=null}};function _h(e){this._internalRoot=e}_h.prototype.unstable_scheduleHydration=function(e){if(e){var t=CS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ea.length&&t!==0&&t<Ea[r].priority;r++);Ea.splice(r,0,e),r===0&&OS(e)}};function wv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function i1(){}function OR(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=of(s);i.call(c)}}var s=G2(t,n,e,0,null,!1,!1,"",i1);return e._reactRootContainer=s,e[Qn]=s.current,Yl(e.nodeType===8?e.parentNode:e),Ki(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=of(u);o.call(c)}}var u=vv(e,0,!1,null,null,!1,!1,"",i1);return e._reactRootContainer=u,e[Qn]=u.current,Yl(e.nodeType===8?e.parentNode:e),Ki(function(){Nh(t,u,r,n)}),u}function Eh(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var u=of(s);o.call(u)}}Nh(t,s,e,a)}else s=OR(r,t,e,a,n);return of(s)}SS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=jl(t.pendingLanes);r!==0&&(F0(t,r|1),rr(t,Ye()),!(xe&6)&&(uo=Ye()+500,ai()))}break;case 13:Ki(function(){var n=Zn(e,1);if(n!==null){var a=Ft();tn(n,e,1,a)}}),xv(e,1)}};B0=function(e){if(e.tag===13){var t=Zn(e,134217728);if(t!==null){var r=Ft();tn(t,e,134217728,r)}xv(e,134217728)}};ES=function(e){if(e.tag===13){var t=qa(e),r=Zn(e,t);if(r!==null){var n=Ft();tn(r,e,t,n)}xv(e,t)}};CS=function(){return Ne};PS=function(e,t){var r=Ne;try{return Ne=e,t()}finally{Ne=r}};xg=function(e,t,r){switch(t){case"input":if(fg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=yh(n);if(!a)throw Error(Y(90));sS(n),fg(n,a)}}}break;case"textarea":lS(e,r);break;case"select":t=r.value,t!=null&&Rs(e,!!r.multiple,t,!1)}};pS=mv;gS=Ki;var AR={usingClientEntryPoint:!1,Events:[Iu,_s,yh,hS,mS,mv]},ll={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TR={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xS(e),e===null?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||PR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{hh=$c.inject(TR),wn=$c}catch{}}xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AR;xr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wv(t))throw Error(Y(200));return CR(e,t,null,r)};xr.createRoot=function(e,t){if(!wv(e))throw Error(Y(299));var r=!1,n="",a=Q2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=vv(e,1,!1,null,null,r,!1,n,a),e[Qn]=t.current,Yl(e.nodeType===8?e.parentNode:e),new bv(t)};xr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=xS(t),e=e===null?null:e.stateNode,e};xr.flushSync=function(e){return Ki(e)};xr.hydrate=function(e,t,r){if(!Sh(t))throw Error(Y(200));return Eh(null,e,t,!0,r)};xr.hydrateRoot=function(e,t,r){if(!wv(e))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=Q2;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=G2(t,null,e,1,r??null,a,!1,i,s),e[Qn]=t.current,Yl(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new _h(t)};xr.render=function(e,t,r){if(!Sh(t))throw Error(Y(200));return Eh(null,e,t,!1,r)};xr.unmountComponentAtNode=function(e){if(!Sh(e))throw Error(Y(40));return e._reactRootContainer?(Ki(function(){Eh(null,null,e,!1,function(){e._reactRootContainer=null,e[Qn]=null})}),!0):!1};xr.unstable_batchedUpdates=mv;xr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sh(r))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Eh(e,t,r,!1,n)};xr.version="18.3.1-next-f1338f8080-20240426";function Z2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z2)}catch(e){console.error(e)}}Z2(),Z_.exports=xr;var Ru=Z_.exports,s1=Ru;ig.createRoot=s1.createRoot,ig.hydrateRoot=s1.hydrateRoot;var Lu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},MR={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Aa,E0,A_,IR=(A_=class{constructor(){ce(this,Aa,MR);ce(this,E0,!1)}setTimeoutProvider(e){te(this,Aa,e)}setTimeout(e,t){return z(this,Aa).setTimeout(e,t)}clearTimeout(e){z(this,Aa).clearTimeout(e)}setInterval(e,t){return z(this,Aa).setInterval(e,t)}clearInterval(e){z(this,Aa).clearInterval(e)}},Aa=new WeakMap,E0=new WeakMap,A_),bi=new IR;function DR(e){setTimeout(e,0)}var qi=typeof window>"u"||"Deno"in globalThis;function Xt(){}function RR(e,t){return typeof e=="function"?e(t):e}function Zg(e){return typeof e=="number"&&e>=0&&e!==1/0}function J2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xa(e,t){return typeof e=="function"?e(t):e}function Sr(e,t){return typeof e=="function"?e(t):e}function o1(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==jv(s,t.options))return!1}else if(!au(t.queryKey,s))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function l1(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(nu(t.options.mutationKey)!==nu(i))return!1}else if(!au(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function jv(e,t){return((t==null?void 0:t.queryKeyHashFn)||nu)(e)}function nu(e){return JSON.stringify(e,(t,r)=>ey(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function au(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>au(e[r],t[r])):!1}var LR=Object.prototype.hasOwnProperty;function eE(e,t){if(e===t)return e;const r=u1(e)&&u1(t);if(!r&&!(ey(e)&&ey(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let u=0;for(let c=0;c<s;c++){const d=r?c:i[c],f=e[d],h=t[d];if(f===h){o[d]=f,(r?c<a:LR.call(e,d))&&u++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[d]=h;continue}const m=eE(f,h);o[d]=m,m===f&&u++}return a===s&&u===a?e:o}function Jg(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function u1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ey(e){if(!c1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!c1(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function c1(e){return Object.prototype.toString.call(e)==="[object Object]"}function $R(e){return new Promise(t=>{bi.setTimeout(t,e)})}function ty(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?eE(e,t):t}function zR(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function FR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var kv=Symbol();function tE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===kv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function BR(e,t){return typeof e=="function"?e(...t):!!e}var _i,Ta,Ws,T_,UR=(T_=class extends Lu{constructor(){super();ce(this,_i);ce(this,Ta);ce(this,Ws);te(this,Ws,t=>{if(!qi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,Ta)||this.setEventListener(z(this,Ws))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Ta))==null||t.call(this),te(this,Ta,void 0))}setEventListener(t){var r;te(this,Ws,t),(r=z(this,Ta))==null||r.call(this),te(this,Ta,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){z(this,_i)!==t&&(te(this,_i,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof z(this,_i)=="boolean"?z(this,_i):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},_i=new WeakMap,Ta=new WeakMap,Ws=new WeakMap,T_),Nv=new UR;function ry(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var HR=DR;function VR(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=HR;const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||s()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var jt=VR(),Ks,Ma,qs,M_,WR=(M_=class extends Lu{constructor(){super();ce(this,Ks,!0);ce(this,Ma);ce(this,qs);te(this,qs,t=>{if(!qi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,Ma)||this.setEventListener(z(this,qs))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Ma))==null||t.call(this),te(this,Ma,void 0))}setEventListener(t){var r;te(this,qs,t),(r=z(this,Ma))==null||r.call(this),te(this,Ma,t(this.setOnline.bind(this)))}setOnline(t){z(this,Ks)!==t&&(te(this,Ks,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return z(this,Ks)}},Ks=new WeakMap,Ma=new WeakMap,qs=new WeakMap,M_),lf=new WR;function KR(e){return Math.min(1e3*2**e,3e4)}function rE(e){return(e??"online")==="online"?lf.isOnline():!0}var ny=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function nE(e){let t=!1,r=0,n;const a=ry(),i=()=>a.status!=="pending",s=y=>{var v;if(!i()){const g=new ny(y);h(g),(v=e.onCancel)==null||v.call(e,g)}},o=()=>{t=!0},u=()=>{t=!1},c=()=>Nv.isFocused()&&(e.networkMode==="always"||lf.isOnline())&&e.canRun(),d=()=>rE(e.networkMode)&&e.canRun(),f=y=>{i()||(n==null||n(),a.resolve(y))},h=y=>{i()||(n==null||n(),a.reject(y))},m=()=>new Promise(y=>{var v;n=g=>{(i()||c())&&y(g)},(v=e.onPause)==null||v.call(e)}).then(()=>{var y;n=void 0,i()||(y=e.onContinue)==null||y.call(e)}),p=()=>{if(i())return;let y;const v=r===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(f).catch(g=>{var _;if(i())return;const x=e.retry??(qi?0:3),b=e.retryDelay??KR,j=typeof b=="function"?b(r,g):b,k=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,g);if(t||!k){h(g);return}r++,(_=e.onFail)==null||_.call(e,r,g),$R(j).then(()=>c()?void 0:m()).then(()=>{t?h(g):p()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:u,canStart:d,start:()=>(d()?p():m().then(p),a)}}var Si,I_,aE=(I_=class{constructor(){ce(this,Si)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zg(this.gcTime)&&te(this,Si,bi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qi?1/0:5*60*1e3))}clearGcTimeout(){z(this,Si)&&(bi.clearTimeout(z(this,Si)),te(this,Si,void 0))}},Si=new WeakMap,I_),Ei,Ys,_r,Ci,dt,Su,Pi,Ur,Mn,D_,qR=(D_=class extends aE{constructor(t){super();ce(this,Ur);ce(this,Ei);ce(this,Ys);ce(this,_r);ce(this,Ci);ce(this,dt);ce(this,Su);ce(this,Pi);te(this,Pi,!1),te(this,Su,t.defaultOptions),this.setOptions(t.options),this.observers=[],te(this,Ci,t.client),te(this,_r,z(this,Ci).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,te(this,Ei,f1(this.options)),this.state=t.state??z(this,Ei),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,dt))==null?void 0:t.promise}setOptions(t){if(this.options={...z(this,Su),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=f1(this.options);r.data!==void 0&&(this.setState(d1(r.data,r.dataUpdatedAt)),te(this,Ei,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,_r).remove(this)}setData(t,r){const n=ty(this.state.data,t,this.options);return ge(this,Ur,Mn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ge(this,Ur,Mn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=z(this,dt))==null?void 0:n.promise;return(a=z(this,dt))==null||a.cancel(t),r?r.then(Xt).catch(Xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Ei))}isActive(){return this.observers.some(t=>Sr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Xa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!J2(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,dt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,dt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,_r).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(z(this,dt)&&(z(this,Pi)?z(this,dt).cancel({revert:!0}):z(this,dt).cancelRetry()),this.scheduleGc()),z(this,_r).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ge(this,Ur,Mn).call(this,{type:"invalidate"})}async fetch(t,r){var u,c,d,f,h,m,p,y,v,g,x,b;if(this.state.fetchStatus!=="idle"&&((u=z(this,dt))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,dt))return z(this,dt).continueRetry(),z(this,dt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(k=>k.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(te(this,Pi,!0),n.signal)})},i=()=>{const j=tE(this.options,r),_=(()=>{const N={client:z(this,Ci),queryKey:this.queryKey,meta:this.meta};return a(N),N})();return te(this,Pi,!1),this.options.persister?this.options.persister(j,_,this):j(_)},o=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,Ci),state:this.state,fetchFn:i};return a(j),j})();(c=this.options.behavior)==null||c.onFetch(o,this),te(this,Ys,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ge(this,Ur,Mn).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),te(this,dt,nE({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:j=>{j instanceof ny&&j.revert&&this.setState({...z(this,Ys),fetchStatus:"idle"}),n.abort()},onFail:(j,k)=>{ge(this,Ur,Mn).call(this,{type:"failed",failureCount:j,error:k})},onPause:()=>{ge(this,Ur,Mn).call(this,{type:"pause"})},onContinue:()=>{ge(this,Ur,Mn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const j=await z(this,dt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(h=z(this,_r).config).onSuccess)==null||m.call(h,j,this),(y=(p=z(this,_r).config).onSettled)==null||y.call(p,j,this.state.error,this),j}catch(j){if(j instanceof ny){if(j.silent)return z(this,dt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw ge(this,Ur,Mn).call(this,{type:"error",error:j}),(g=(v=z(this,_r).config).onError)==null||g.call(v,j,this),(b=(x=z(this,_r).config).onSettled)==null||b.call(x,this.state.data,j,this),j}finally{this.scheduleGc()}}},Ei=new WeakMap,Ys=new WeakMap,_r=new WeakMap,Ci=new WeakMap,dt=new WeakMap,Su=new WeakMap,Pi=new WeakMap,Ur=new WeakSet,Mn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...iE(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...d1(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return te(this,Ys,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),jt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,_r).notify({query:this,type:"updated",action:t})})},D_);function iE(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function d1(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function f1(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var qt,ye,Eu,It,Oi,Xs,Ln,Ia,Cu,Gs,Qs,Ai,Ti,Da,Zs,je,Nl,ay,iy,sy,oy,ly,uy,cy,sE,R_,YR=(R_=class extends Lu{constructor(t,r){super();ce(this,je);ce(this,qt);ce(this,ye);ce(this,Eu);ce(this,It);ce(this,Oi);ce(this,Xs);ce(this,Ln);ce(this,Ia);ce(this,Cu);ce(this,Gs);ce(this,Qs);ce(this,Ai);ce(this,Ti);ce(this,Da);ce(this,Zs,new Set);this.options=r,te(this,qt,t),te(this,Ia,null),te(this,Ln,ry()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,ye).addObserver(this),h1(z(this,ye),this.options)?ge(this,je,Nl).call(this):this.updateResult(),ge(this,je,oy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dy(z(this,ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dy(z(this,ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ge(this,je,ly).call(this),ge(this,je,uy).call(this),z(this,ye).removeObserver(this)}setOptions(t){const r=this.options,n=z(this,ye);if(this.options=z(this,qt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sr(this.options.enabled,z(this,ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ge(this,je,cy).call(this),z(this,ye).setOptions(this.options),r._defaulted&&!Jg(this.options,r)&&z(this,qt).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,ye),observer:this});const a=this.hasListeners();a&&m1(z(this,ye),n,this.options,r)&&ge(this,je,Nl).call(this),this.updateResult(),a&&(z(this,ye)!==n||Sr(this.options.enabled,z(this,ye))!==Sr(r.enabled,z(this,ye))||Xa(this.options.staleTime,z(this,ye))!==Xa(r.staleTime,z(this,ye)))&&ge(this,je,ay).call(this);const i=ge(this,je,iy).call(this);a&&(z(this,ye)!==n||Sr(this.options.enabled,z(this,ye))!==Sr(r.enabled,z(this,ye))||i!==z(this,Da))&&ge(this,je,sy).call(this,i)}getOptimisticResult(t){const r=z(this,qt).getQueryCache().build(z(this,qt),t),n=this.createResult(r,t);return GR(this,n)&&(te(this,It,n),te(this,Xs,this.options),te(this,Oi,z(this,ye).state)),n}getCurrentResult(){return z(this,It)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&z(this,Ln).status==="pending"&&z(this,Ln).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){z(this,Zs).add(t)}getCurrentQuery(){return z(this,ye)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=z(this,qt).defaultQueryOptions(t),n=z(this,qt).getQueryCache().build(z(this,qt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ge(this,je,Nl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,It)))}createResult(t,r){var C;const n=z(this,ye),a=this.options,i=z(this,It),s=z(this,Oi),o=z(this,Xs),c=t!==n?t.state:z(this,Eu),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const M=this.hasListeners(),O=!M&&h1(t,r),P=M&&m1(t,n,r,a);(O||P)&&(f={...f,...iE(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:v}=f;m=f.data;let g=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let M;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(M=i.data,g=!0):M=typeof r.placeholderData=="function"?r.placeholderData((C=z(this,Qs))==null?void 0:C.state.data,z(this,Qs)):r.placeholderData,M!==void 0&&(v="success",m=ty(i==null?void 0:i.data,M,r),h=!0)}if(r.select&&m!==void 0&&!g)if(i&&m===(s==null?void 0:s.data)&&r.select===z(this,Cu))m=z(this,Gs);else try{te(this,Cu,r.select),m=r.select(m),m=ty(i==null?void 0:i.data,m,r),te(this,Gs,m),te(this,Ia,null)}catch(M){te(this,Ia,M)}z(this,Ia)&&(p=z(this,Ia),m=z(this,Gs),y=Date.now(),v="error");const x=f.fetchStatus==="fetching",b=v==="pending",j=v==="error",k=b&&x,_=m!==void 0,S={status:v,fetchStatus:f.fetchStatus,isPending:b,isSuccess:v==="success",isError:j,isInitialLoading:k,isLoading:k,data:m,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:j&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&_,isStale:_v(t,r),refetch:this.refetch,promise:z(this,Ln),isEnabled:Sr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=$=>{S.status==="error"?$.reject(S.error):S.data!==void 0&&$.resolve(S.data)},O=()=>{const $=te(this,Ln,S.promise=ry());M($)},P=z(this,Ln);switch(P.status){case"pending":t.queryHash===n.queryHash&&M(P);break;case"fulfilled":(S.status==="error"||S.data!==P.value)&&O();break;case"rejected":(S.status!=="error"||S.error!==P.reason)&&O();break}}return S}updateResult(){const t=z(this,It),r=this.createResult(z(this,ye),this.options);if(te(this,Oi,z(this,ye).state),te(this,Xs,this.options),z(this,Oi).data!==void 0&&te(this,Qs,z(this,ye)),Jg(r,t))return;te(this,It,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!z(this,Zs).size)return!0;const s=new Set(i??z(this,Zs));return this.options.throwOnError&&s.add("error"),Object.keys(z(this,It)).some(o=>{const u=o;return z(this,It)[u]!==t[u]&&s.has(u)})};ge(this,je,sE).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ge(this,je,oy).call(this)}},qt=new WeakMap,ye=new WeakMap,Eu=new WeakMap,It=new WeakMap,Oi=new WeakMap,Xs=new WeakMap,Ln=new WeakMap,Ia=new WeakMap,Cu=new WeakMap,Gs=new WeakMap,Qs=new WeakMap,Ai=new WeakMap,Ti=new WeakMap,Da=new WeakMap,Zs=new WeakMap,je=new WeakSet,Nl=function(t){ge(this,je,cy).call(this);let r=z(this,ye).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Xt)),r},ay=function(){ge(this,je,ly).call(this);const t=Xa(this.options.staleTime,z(this,ye));if(qi||z(this,It).isStale||!Zg(t))return;const n=J2(z(this,It).dataUpdatedAt,t)+1;te(this,Ai,bi.setTimeout(()=>{z(this,It).isStale||this.updateResult()},n))},iy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,ye)):this.options.refetchInterval)??!1},sy=function(t){ge(this,je,uy).call(this),te(this,Da,t),!(qi||Sr(this.options.enabled,z(this,ye))===!1||!Zg(z(this,Da))||z(this,Da)===0)&&te(this,Ti,bi.setInterval(()=>{(this.options.refetchIntervalInBackground||Nv.isFocused())&&ge(this,je,Nl).call(this)},z(this,Da)))},oy=function(){ge(this,je,ay).call(this),ge(this,je,sy).call(this,ge(this,je,iy).call(this))},ly=function(){z(this,Ai)&&(bi.clearTimeout(z(this,Ai)),te(this,Ai,void 0))},uy=function(){z(this,Ti)&&(bi.clearInterval(z(this,Ti)),te(this,Ti,void 0))},cy=function(){const t=z(this,qt).getQueryCache().build(z(this,qt),this.options);if(t===z(this,ye))return;const r=z(this,ye);te(this,ye,t),te(this,Eu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},sE=function(t){jt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(z(this,It))}),z(this,qt).getQueryCache().notify({query:z(this,ye),type:"observerResultsUpdated"})})},R_);function XR(e,t){return Sr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function h1(e,t){return XR(e,t)||e.state.data!==void 0&&dy(e,t,t.refetchOnMount)}function dy(e,t,r){if(Sr(t.enabled,e)!==!1&&Xa(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&_v(e,t)}return!1}function m1(e,t,r,n){return(e!==t||Sr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&_v(e,r)}function _v(e,t){return Sr(t.enabled,e)!==!1&&e.isStaleByTime(Xa(t.staleTime,e))}function GR(e,t){return!Jg(e.getCurrentResult(),t)}function p1(e){return{onFetch:(t,r)=>{var d,f,h,m,p;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],s=((p=t.state.data)==null?void 0:p.pageParams)||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let y=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},g=tE(t.options,t.fetchOptions),x=async(b,j,k)=>{if(y)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};return v(O),O})(),S=await g(N),{maxPages:C}=t.options,M=k?FR:zR;return{pages:M(b.pages,S,C),pageParams:M(b.pageParams,j,C)}};if(a&&i.length){const b=a==="backward",j=b?QR:g1,k={pages:i,pageParams:s},_=j(n,k);o=await x(k,_,b)}else{const b=e??i.length;do{const j=u===0?s[0]??n.initialPageParam:g1(n,o);if(u>0&&j==null)break;o=await x(o,j),u++}while(u<b)}return o};t.options.persister?t.fetchFn=()=>{var y,v;return(v=(y=t.options).persister)==null?void 0:v.call(y,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function g1(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function QR(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Pu,gn,Dt,Mi,yn,ja,L_,ZR=(L_=class extends aE{constructor(t){super();ce(this,yn);ce(this,Pu);ce(this,gn);ce(this,Dt);ce(this,Mi);te(this,Pu,t.client),this.mutationId=t.mutationId,te(this,Dt,t.mutationCache),te(this,gn,[]),this.state=t.state||JR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,gn).includes(t)||(z(this,gn).push(t),this.clearGcTimeout(),z(this,Dt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){te(this,gn,z(this,gn).filter(r=>r!==t)),this.scheduleGc(),z(this,Dt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,gn).length||(this.state.status==="pending"?this.scheduleGc():z(this,Dt).remove(this))}continue(){var t;return((t=z(this,Mi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,u,c,d,f,h,m,p,y,v,g,x,b,j,k,_,N,S,C;const r=()=>{ge(this,yn,ja).call(this,{type:"continue"})},n={client:z(this,Pu),meta:this.options.meta,mutationKey:this.options.mutationKey};te(this,Mi,nE({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(M,O)=>{ge(this,yn,ja).call(this,{type:"failed",failureCount:M,error:O})},onPause:()=>{ge(this,yn,ja).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Dt).canRun(this)}));const a=this.state.status==="pending",i=!z(this,Mi).canStart();try{if(a)r();else{ge(this,yn,ja).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=z(this,Dt).config).onMutate)==null?void 0:o.call(s,t,this,n));const O=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t,n));O!==this.state.context&&ge(this,yn,ja).call(this,{type:"pending",context:O,variables:t,isPaused:i})}const M=await z(this,Mi).start();return await((f=(d=z(this,Dt).config).onSuccess)==null?void 0:f.call(d,M,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,M,t,this.state.context,n)),await((y=(p=z(this,Dt).config).onSettled)==null?void 0:y.call(p,M,null,this.state.variables,this.state.context,this,n)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,M,null,t,this.state.context,n)),ge(this,yn,ja).call(this,{type:"success",data:M}),M}catch(M){try{throw await((b=(x=z(this,Dt).config).onError)==null?void 0:b.call(x,M,t,this.state.context,this,n)),await((k=(j=this.options).onError)==null?void 0:k.call(j,M,t,this.state.context,n)),await((N=(_=z(this,Dt).config).onSettled)==null?void 0:N.call(_,void 0,M,this.state.variables,this.state.context,this,n)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,M,t,this.state.context,n)),M}finally{ge(this,yn,ja).call(this,{type:"error",error:M})}}finally{z(this,Dt).runNext(this)}}},Pu=new WeakMap,gn=new WeakMap,Dt=new WeakMap,Mi=new WeakMap,yn=new WeakSet,ja=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),jt.batch(()=>{z(this,gn).forEach(n=>{n.onMutationUpdate(t)}),z(this,Dt).notify({mutation:this,type:"updated",action:t})})},L_);function JR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $n,Hr,Ou,$_,e5=($_=class extends Lu{constructor(t={}){super();ce(this,$n);ce(this,Hr);ce(this,Ou);this.config=t,te(this,$n,new Set),te(this,Hr,new Map),te(this,Ou,0)}build(t,r,n){const a=new ZR({client:t,mutationCache:this,mutationId:++wc(this,Ou)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){z(this,$n).add(t);const r=zc(t);if(typeof r=="string"){const n=z(this,Hr).get(r);n?n.push(t):z(this,Hr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,$n).delete(t)){const r=zc(t);if(typeof r=="string"){const n=z(this,Hr).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&z(this,Hr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=zc(t);if(typeof r=="string"){const n=z(this,Hr).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=zc(t);if(typeof r=="string"){const a=(n=z(this,Hr).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){jt.batch(()=>{z(this,$n).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,$n).clear(),z(this,Hr).clear()})}getAll(){return Array.from(z(this,$n))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>l1(r,n))}findAll(t={}){return this.getAll().filter(r=>l1(t,r))}notify(t){jt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return jt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Xt))))}},$n=new WeakMap,Hr=new WeakMap,Ou=new WeakMap,$_);function zc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var vn,z_,t5=(z_=class extends Lu{constructor(t={}){super();ce(this,vn);this.config=t,te(this,vn,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??jv(a,r);let s=this.get(i);return s||(s=new qR({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){z(this,vn).has(t.queryHash)||(z(this,vn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=z(this,vn).get(t.queryHash);r&&(t.destroy(),r===t&&z(this,vn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){jt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,vn).get(t)}getAll(){return[...z(this,vn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>o1(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>o1(t,n)):r}notify(t){jt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){jt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){jt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},vn=new WeakMap,z_),We,Ra,La,Js,eo,$a,to,ro,F_,r5=(F_=class{constructor(e={}){ce(this,We);ce(this,Ra);ce(this,La);ce(this,Js);ce(this,eo);ce(this,$a);ce(this,to);ce(this,ro);te(this,We,e.queryCache||new t5),te(this,Ra,e.mutationCache||new e5),te(this,La,e.defaultOptions||{}),te(this,Js,new Map),te(this,eo,new Map),te(this,$a,0)}mount(){wc(this,$a)._++,z(this,$a)===1&&(te(this,to,Nv.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,We).onFocus())})),te(this,ro,lf.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,We).onOnline())})))}unmount(){var e,t;wc(this,$a)._--,z(this,$a)===0&&((e=z(this,to))==null||e.call(this),te(this,to,void 0),(t=z(this,ro))==null||t.call(this),te(this,ro,void 0))}isFetching(e){return z(this,We).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,Ra).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,We).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=z(this,We).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Xa(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return z(this,We).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=z(this,We).get(n.queryHash),i=a==null?void 0:a.state.data,s=RR(t,i);if(s!==void 0)return z(this,We).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return jt.batch(()=>z(this,We).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,We).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=z(this,We);jt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=z(this,We);return jt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=jt.batch(()=>z(this,We).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Xt).catch(Xt)}invalidateQueries(e,t={}){return jt.batch(()=>(z(this,We).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=jt.batch(()=>z(this,We).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Xt)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Xt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=z(this,We).build(this,t);return r.isStaleByTime(Xa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xt).catch(Xt)}fetchInfiniteQuery(e){return e.behavior=p1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xt).catch(Xt)}ensureInfiniteQueryData(e){return e.behavior=p1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lf.isOnline()?z(this,Ra).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,We)}getMutationCache(){return z(this,Ra)}getDefaultOptions(){return z(this,La)}setDefaultOptions(e){te(this,La,e)}setQueryDefaults(e,t){z(this,Js).set(nu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,Js).values()],r={};return t.forEach(n=>{au(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){z(this,eo).set(nu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,eo).values()],r={};return t.forEach(n=>{au(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,La).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=jv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===kv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,La).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,We).clear(),z(this,Ra).clear()}},We=new WeakMap,Ra=new WeakMap,La=new WeakMap,Js=new WeakMap,eo=new WeakMap,$a=new WeakMap,to=new WeakMap,ro=new WeakMap,F_),oE=w.createContext(void 0),n5=e=>{const t=w.useContext(oE);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},a5=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(oE.Provider,{value:e,children:t})),lE=w.createContext(!1),i5=()=>w.useContext(lE);lE.Provider;function s5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var o5=w.createContext(s5()),l5=()=>w.useContext(o5),u5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},c5=e=>{w.useEffect(()=>{e.clearReset()},[e])},d5=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||BR(r,[e.error,n])),f5=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},h5=(e,t)=>e.isLoading&&e.isFetching&&!t,m5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,y1=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function p5(e,t,r){var f,h,m,p,y;const n=i5(),a=l5(),i=n5(),s=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,s),s._optimisticResults=n?"isRestoring":"optimistic",f5(s),u5(s,a),c5(a);const o=!i.getQueryCache().get(s.queryHash),[u]=w.useState(()=>new t(i,s)),c=u.getOptimisticResult(s),d=!n&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(v=>{const g=d?u.subscribe(jt.batchCalls(v)):Xt;return u.updateResult(),g},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),w.useEffect(()=>{u.setOptions(s)},[s,u]),m5(s,c))throw y1(s,u,a);if(d5({result:c,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw c.error;if((p=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,s,c),s.experimental_prefetchInRender&&!qi&&h5(c,n)){const v=o?y1(s,u,a):(y=i.getQueryCache().get(s.queryHash))==null?void 0:y.promise;v==null||v.catch(Xt).finally(()=>{u.updateResult()})}return s.notifyOnChangeProps?c:u.trackResult(c)}function g5(e,t){return p5(e,YR)}const gi=class gi{constructor(){el(this,"nodes",new Map)}static getInstance(){return gi.instance||(gi.instance=new gi),gi.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t),console.log(`[Registry] Registered node: ${t.label} (${t.type})`)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(r=>{t[r.category]||(t[r.category]=[]),t[r.category].push(r)}),t}};el(gi,"instance");let fy=gi;const be=fy.getInstance(),y5={},v1=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(p=>p(t,m))}},a=()=>t,u={setState:n,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(y5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,a,u);return u},uE=e=>e?v1(e):v1;var cE={exports:{}},dE={},fE={exports:{}},hE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=w;function v5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x5=typeof Object.is=="function"?Object.is:v5,b5=co.useState,w5=co.useEffect,j5=co.useLayoutEffect,k5=co.useDebugValue;function N5(e,t){var r=t(),n=b5({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return j5(function(){a.value=r,a.getSnapshot=t,kp(a)&&i({inst:a})},[e,r,t]),w5(function(){return kp(a)&&i({inst:a}),e(function(){kp(a)&&i({inst:a})})},[e]),k5(r),r}function kp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!x5(e,r)}catch{return!0}}function _5(e,t){return t()}var S5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_5:N5;hE.useSyncExternalStore=co.useSyncExternalStore!==void 0?co.useSyncExternalStore:S5;fE.exports=hE;var E5=fE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=w,C5=E5;function P5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var O5=typeof Object.is=="function"?Object.is:P5,A5=C5.useSyncExternalStore,T5=Ch.useRef,M5=Ch.useEffect,I5=Ch.useMemo,D5=Ch.useDebugValue;dE.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=T5(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=I5(function(){function u(m){if(!c){if(c=!0,d=m,m=n(m),a!==void 0&&s.hasValue){var p=s.value;if(a(p,m))return f=p}return f=m}if(p=f,O5(d,m))return p;var y=n(m);return a!==void 0&&a(p,y)?(d=m,p):(d=m,f=y)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,r,n,a]);var o=A5(e,i[0],i[1]);return M5(function(){s.hasValue=!0,s.value=o},[o]),D5(o),o};cE.exports=dE;var mE=cE.exports;const pE=Pn(mE),gE={},{useDebugValue:R5}=Qr,{useSyncExternalStoreWithSelector:L5}=pE;let x1=!1;const $5=e=>e;function z5(e,t=$5,r){(gE?"production":void 0)!=="production"&&r&&!x1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),x1=!0);const n=L5(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return R5(n),n}const b1=e=>{(gE?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?uE(e):e,r=(n,a)=>z5(t,n,a);return Object.assign(r,t),r},Sv=e=>e?b1(e):b1;function tt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=tt(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var F5={value:()=>{}};function Ph(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new kd(r)}function kd(e){this._=e}function B5(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}kd.prototype=Ph.prototype={constructor:kd,on:function(e,t){var r=this._,n=B5(e+"",r),a,i=-1,s=n.length;if(arguments.length<2){for(;++i<s;)if((a=(e=n[i]).type)&&(a=U5(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(a=(e=n[i]).type)r[a]=w1(r[a],e.name,t);else if(t==null)for(a in r)r[a]=w1(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new kd(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,i;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,i=n.length;a<i;++a)n[a].value.apply(t,r)}};function U5(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function w1(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=F5,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var hy="http://www.w3.org/1999/xhtml";const j1={svg:"http://www.w3.org/2000/svg",xhtml:hy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Oh(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),j1.hasOwnProperty(t)?{space:j1[t],local:e}:e}function H5(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===hy&&t.documentElement.namespaceURI===hy?t.createElement(e):t.createElementNS(r,e)}}function V5(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function yE(e){var t=Oh(e);return(t.local?V5:H5)(t)}function W5(){}function Ev(e){return e==null?W5:function(){return this.querySelector(e)}}function K5(e){typeof e!="function"&&(e=Ev(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],s=i.length,o=n[a]=new Array(s),u,c,d=0;d<s;++d)(u=i[d])&&(c=e.call(u,u.__data__,d,i))&&("__data__"in u&&(c.__data__=u.__data__),o[d]=c);return new yr(n,this._parents)}function q5(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Y5(){return[]}function vE(e){return e==null?Y5:function(){return this.querySelectorAll(e)}}function X5(e){return function(){return q5(e.apply(this,arguments))}}function G5(e){typeof e=="function"?e=X5(e):e=vE(e);for(var t=this._groups,r=t.length,n=[],a=[],i=0;i<r;++i)for(var s=t[i],o=s.length,u,c=0;c<o;++c)(u=s[c])&&(n.push(e.call(u,u.__data__,c,s)),a.push(u));return new yr(n,a)}function xE(e){return function(){return this.matches(e)}}function bE(e){return function(t){return t.matches(e)}}var Q5=Array.prototype.find;function Z5(e){return function(){return Q5.call(this.children,e)}}function J5(){return this.firstElementChild}function eL(e){return this.select(e==null?J5:Z5(typeof e=="function"?e:bE(e)))}var tL=Array.prototype.filter;function rL(){return Array.from(this.children)}function nL(e){return function(){return tL.call(this.children,e)}}function aL(e){return this.selectAll(e==null?rL:nL(typeof e=="function"?e:bE(e)))}function iL(e){typeof e!="function"&&(e=xE(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],s=i.length,o=n[a]=[],u,c=0;c<s;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&o.push(u);return new yr(n,this._parents)}function wE(e){return new Array(e.length)}function sL(){return new yr(this._enter||this._groups.map(wE),this._parents)}function uf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}uf.prototype={constructor:uf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function oL(e){return function(){return e}}function lL(e,t,r,n,a,i){for(var s=0,o,u=t.length,c=i.length;s<c;++s)(o=t[s])?(o.__data__=i[s],n[s]=o):r[s]=new uf(e,i[s]);for(;s<u;++s)(o=t[s])&&(a[s]=o)}function uL(e,t,r,n,a,i,s){var o,u,c=new Map,d=t.length,f=i.length,h=new Array(d),m;for(o=0;o<d;++o)(u=t[o])&&(h[o]=m=s.call(u,u.__data__,o,t)+"",c.has(m)?a[o]=u:c.set(m,u));for(o=0;o<f;++o)m=s.call(e,i[o],o,i)+"",(u=c.get(m))?(n[o]=u,u.__data__=i[o],c.delete(m)):r[o]=new uf(e,i[o]);for(o=0;o<d;++o)(u=t[o])&&c.get(h[o])===u&&(a[o]=u)}function cL(e){return e.__data__}function dL(e,t){if(!arguments.length)return Array.from(this,cL);var r=t?uL:lL,n=this._parents,a=this._groups;typeof e!="function"&&(e=oL(e));for(var i=a.length,s=new Array(i),o=new Array(i),u=new Array(i),c=0;c<i;++c){var d=n[c],f=a[c],h=f.length,m=fL(e.call(d,d&&d.__data__,c,n)),p=m.length,y=o[c]=new Array(p),v=s[c]=new Array(p),g=u[c]=new Array(h);r(d,f,y,v,g,m,t);for(var x=0,b=0,j,k;x<p;++x)if(j=y[x]){for(x>=b&&(b=x+1);!(k=v[b])&&++b<p;);j._next=k||null}}return s=new yr(s,n),s._enter=o,s._exit=u,s}function fL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hL(){return new yr(this._exit||this._groups.map(wE),this._parents)}function mL(e,t,r){var n=this.enter(),a=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?i.remove():r(i),n&&a?n.merge(a).order():a}function pL(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,i=n.length,s=Math.min(a,i),o=new Array(a),u=0;u<s;++u)for(var c=r[u],d=n[u],f=c.length,h=o[u]=new Array(f),m,p=0;p<f;++p)(m=c[p]||d[p])&&(h[p]=m);for(;u<a;++u)o[u]=r[u];return new yr(o,this._parents)}function gL(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,i=n[a],s;--a>=0;)(s=n[a])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function yL(e){e||(e=vL);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var r=this._groups,n=r.length,a=new Array(n),i=0;i<n;++i){for(var s=r[i],o=s.length,u=a[i]=new Array(o),c,d=0;d<o;++d)(c=s[d])&&(u[d]=c);u.sort(t)}return new yr(a,this._parents).order()}function vL(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xL(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function bL(){return Array.from(this)}function wL(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length;a<i;++a){var s=n[a];if(s)return s}return null}function jL(){let e=0;for(const t of this)++e;return e}function kL(){return!this.node()}function NL(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],i=0,s=a.length,o;i<s;++i)(o=a[i])&&e.call(o,o.__data__,i,a);return this}function _L(e){return function(){this.removeAttribute(e)}}function SL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function EL(e,t){return function(){this.setAttribute(e,t)}}function CL(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function PL(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function OL(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function AL(e,t){var r=Oh(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?SL:_L:typeof t=="function"?r.local?OL:PL:r.local?CL:EL)(r,t))}function jE(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function TL(e){return function(){this.style.removeProperty(e)}}function ML(e,t,r){return function(){this.style.setProperty(e,t,r)}}function IL(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function DL(e,t,r){return arguments.length>1?this.each((t==null?TL:typeof t=="function"?IL:ML)(e,t,r??"")):fo(this.node(),e)}function fo(e,t){return e.style.getPropertyValue(t)||jE(e).getComputedStyle(e,null).getPropertyValue(t)}function RL(e){return function(){delete this[e]}}function LL(e,t){return function(){this[e]=t}}function $L(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function zL(e,t){return arguments.length>1?this.each((t==null?RL:typeof t=="function"?$L:LL)(e,t)):this.node()[e]}function kE(e){return e.trim().split(/^|\s+/)}function Cv(e){return e.classList||new NE(e)}function NE(e){this._node=e,this._names=kE(e.getAttribute("class")||"")}NE.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function _E(e,t){for(var r=Cv(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function SE(e,t){for(var r=Cv(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function FL(e){return function(){_E(this,e)}}function BL(e){return function(){SE(this,e)}}function UL(e,t){return function(){(t.apply(this,arguments)?_E:SE)(this,e)}}function HL(e,t){var r=kE(e+"");if(arguments.length<2){for(var n=Cv(this.node()),a=-1,i=r.length;++a<i;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?UL:t?FL:BL)(r,t))}function VL(){this.textContent=""}function WL(e){return function(){this.textContent=e}}function KL(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function qL(e){return arguments.length?this.each(e==null?VL:(typeof e=="function"?KL:WL)(e)):this.node().textContent}function YL(){this.innerHTML=""}function XL(e){return function(){this.innerHTML=e}}function GL(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function QL(e){return arguments.length?this.each(e==null?YL:(typeof e=="function"?GL:XL)(e)):this.node().innerHTML}function ZL(){this.nextSibling&&this.parentNode.appendChild(this)}function JL(){return this.each(ZL)}function e$(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function t$(){return this.each(e$)}function r$(e){var t=typeof e=="function"?e:yE(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function n$(){return null}function a$(e,t){var r=typeof e=="function"?e:yE(e),n=t==null?n$:typeof t=="function"?t:Ev(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function i$(){var e=this.parentNode;e&&e.removeChild(this)}function s$(){return this.each(i$)}function o$(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function l$(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function u$(e){return this.select(e?l$:o$)}function c$(e){return arguments.length?this.property("__data__",e):this.node().__data__}function d$(e){return function(t){e.call(this,t,this.__data__)}}function f$(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function h$(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,i;r<a;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function m$(e,t,r){return function(){var n=this.__on,a,i=d$(t);if(n){for(var s=0,o=n.length;s<o;++s)if((a=n[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=r),a.value=t;return}}this.addEventListener(e.type,i,r),a={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(a):this.__on=[a]}}function p$(e,t,r){var n=f$(e+""),a,i=n.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,c=o.length,d;u<c;++u)for(a=0,d=o[u];a<i;++a)if((s=n[a]).type===d.type&&s.name===d.name)return d.value}return}for(o=t?m$:h$,a=0;a<i;++a)this.each(o(n[a],t,r));return this}function EE(e,t,r){var n=jE(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function g$(e,t){return function(){return EE(this,e,t)}}function y$(e,t){return function(){return EE(this,e,t.apply(this,arguments))}}function v$(e,t){return this.each((typeof t=="function"?y$:g$)(e,t))}function*x$(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length,s;a<i;++a)(s=n[a])&&(yield s)}var CE=[null];function yr(e,t){this._groups=e,this._parents=t}function $u(){return new yr([[document.documentElement]],CE)}function b$(){return this}yr.prototype=$u.prototype={constructor:yr,select:K5,selectAll:G5,selectChild:eL,selectChildren:aL,filter:iL,data:dL,enter:sL,exit:hL,join:mL,merge:pL,selection:b$,order:gL,sort:yL,call:xL,nodes:bL,node:wL,size:jL,empty:kL,each:NL,attr:AL,style:DL,property:zL,classed:HL,text:qL,html:QL,raise:JL,lower:t$,append:r$,insert:a$,remove:s$,clone:u$,datum:c$,on:p$,dispatch:v$,[Symbol.iterator]:x$};function ur(e){return typeof e=="string"?new yr([[document.querySelector(e)]],[document.documentElement]):new yr([[e]],CE)}function w$(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Wr(e,t){if(e=w$(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const j$={passive:!1},iu={capture:!0,passive:!1};function Np(e){e.stopImmediatePropagation()}function Us(e){e.preventDefault(),e.stopImmediatePropagation()}function PE(e){var t=e.document.documentElement,r=ur(e).on("dragstart.drag",Us,iu);"onselectstart"in t?r.on("selectstart.drag",Us,iu):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function OE(e,t){var r=e.document.documentElement,n=ur(e).on("dragstart.drag",null);t&&(n.on("click.drag",Us,iu),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Fc=e=>()=>e;function my(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:i,x:s,y:o,dx:u,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}my.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function k$(e){return!e.ctrlKey&&!e.button}function N$(){return this.parentNode}function _$(e,t){return t??{x:e.x,y:e.y}}function S$(){return navigator.maxTouchPoints||"ontouchstart"in this}function AE(){var e=k$,t=N$,r=_$,n=S$,a={},i=Ph("start","drag","end"),s=0,o,u,c,d,f=0;function h(j){j.on("mousedown.drag",m).filter(n).on("touchstart.drag",v).on("touchmove.drag",g,j$).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(j,k){if(!(d||!e.call(this,j,k))){var _=b(this,t.call(this,j,k),j,k,"mouse");_&&(ur(j.view).on("mousemove.drag",p,iu).on("mouseup.drag",y,iu),PE(j.view),Np(j),c=!1,o=j.clientX,u=j.clientY,_("start",j))}}function p(j){if(Us(j),!c){var k=j.clientX-o,_=j.clientY-u;c=k*k+_*_>f}a.mouse("drag",j)}function y(j){ur(j.view).on("mousemove.drag mouseup.drag",null),OE(j.view,c),Us(j),a.mouse("end",j)}function v(j,k){if(e.call(this,j,k)){var _=j.changedTouches,N=t.call(this,j,k),S=_.length,C,M;for(C=0;C<S;++C)(M=b(this,N,j,k,_[C].identifier,_[C]))&&(Np(j),M("start",j,_[C]))}}function g(j){var k=j.changedTouches,_=k.length,N,S;for(N=0;N<_;++N)(S=a[k[N].identifier])&&(Us(j),S("drag",j,k[N]))}function x(j){var k=j.changedTouches,_=k.length,N,S;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<_;++N)(S=a[k[N].identifier])&&(Np(j),S("end",j,k[N]))}function b(j,k,_,N,S,C){var M=i.copy(),O=Wr(C||_,k),P,$,E;if((E=r.call(j,new my("beforestart",{sourceEvent:_,target:h,identifier:S,active:s,x:O[0],y:O[1],dx:0,dy:0,dispatch:M}),N))!=null)return P=E.x-O[0]||0,$=E.y-O[1]||0,function R(D,L,A){var I=O,T;switch(D){case"start":a[S]=R,T=s++;break;case"end":delete a[S],--s;case"drag":O=Wr(A||L,k),T=s;break}M.call(D,j,new my(D,{sourceEvent:L,subject:E,target:h,identifier:S,active:T,x:O[0]+P,y:O[1]+$,dx:O[0]-I[0],dy:O[1]-I[1],dispatch:M}),N)}}return h.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Fc(!!j),h):e},h.container=function(j){return arguments.length?(t=typeof j=="function"?j:Fc(j),h):t},h.subject=function(j){return arguments.length?(r=typeof j=="function"?j:Fc(j),h):r},h.touchable=function(j){return arguments.length?(n=typeof j=="function"?j:Fc(!!j),h):n},h.on=function(){var j=i.on.apply(i,arguments);return j===i?h:j},h.clickDistance=function(j){return arguments.length?(f=(j=+j)*j,h):Math.sqrt(f)},h}function Pv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function TE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function zu(){}var su=.7,cf=1/su,Hs="\\s*([+-]?\\d+)\\s*",ou="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E$=/^#([0-9a-f]{3,8})$/,C$=new RegExp(`^rgb\\(${Hs},${Hs},${Hs}\\)$`),P$=new RegExp(`^rgb\\(${kn},${kn},${kn}\\)$`),O$=new RegExp(`^rgba\\(${Hs},${Hs},${Hs},${ou}\\)$`),A$=new RegExp(`^rgba\\(${kn},${kn},${kn},${ou}\\)$`),T$=new RegExp(`^hsl\\(${ou},${kn},${kn}\\)$`),M$=new RegExp(`^hsla\\(${ou},${kn},${kn},${ou}\\)$`),k1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pv(zu,Yi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:N1,formatHex:N1,formatHex8:I$,formatHsl:D$,formatRgb:_1,toString:_1});function N1(){return this.rgb().formatHex()}function I$(){return this.rgb().formatHex8()}function D$(){return ME(this).formatHsl()}function _1(){return this.rgb().formatRgb()}function Yi(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=E$.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?S1(t):r===3?new Zt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Bc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Bc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=C$.exec(e))?new Zt(t[1],t[2],t[3],1):(t=P$.exec(e))?new Zt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=O$.exec(e))?Bc(t[1],t[2],t[3],t[4]):(t=A$.exec(e))?Bc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=T$.exec(e))?P1(t[1],t[2]/100,t[3]/100,1):(t=M$.exec(e))?P1(t[1],t[2]/100,t[3]/100,t[4]):k1.hasOwnProperty(e)?S1(k1[e]):e==="transparent"?new Zt(NaN,NaN,NaN,0):null}function S1(e){return new Zt(e>>16&255,e>>8&255,e&255,1)}function Bc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Zt(e,t,r,n)}function R$(e){return e instanceof zu||(e=Yi(e)),e?(e=e.rgb(),new Zt(e.r,e.g,e.b,e.opacity)):new Zt}function py(e,t,r,n){return arguments.length===1?R$(e):new Zt(e,t,r,n??1)}function Zt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Pv(Zt,py,TE(zu,{brighter(e){return e=e==null?cf:Math.pow(cf,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?su:Math.pow(su,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zt(Ri(this.r),Ri(this.g),Ri(this.b),df(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E1,formatHex:E1,formatHex8:L$,formatRgb:C1,toString:C1}));function E1(){return`#${wi(this.r)}${wi(this.g)}${wi(this.b)}`}function L$(){return`#${wi(this.r)}${wi(this.g)}${wi(this.b)}${wi((isNaN(this.opacity)?1:this.opacity)*255)}`}function C1(){const e=df(this.opacity);return`${e===1?"rgb(":"rgba("}${Ri(this.r)}, ${Ri(this.g)}, ${Ri(this.b)}${e===1?")":`, ${e})`}`}function df(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ri(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wi(e){return e=Ri(e),(e<16?"0":"")+e.toString(16)}function P1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yr(e,t,r,n)}function ME(e){if(e instanceof Yr)return new Yr(e.h,e.s,e.l,e.opacity);if(e instanceof zu||(e=Yi(e)),!e)return new Yr;if(e instanceof Yr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,u=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=u<.5?i+a:2-i-a,s*=60):o=u>0&&u<1?0:s,new Yr(s,o,u,e.opacity)}function $$(e,t,r,n){return arguments.length===1?ME(e):new Yr(e,t,r,n??1)}function Yr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Pv(Yr,$$,TE(zu,{brighter(e){return e=e==null?cf:Math.pow(cf,e),new Yr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?su:Math.pow(su,e),new Yr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Zt(_p(e>=240?e-240:e+120,a,n),_p(e,a,n),_p(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Yr(O1(this.h),Uc(this.s),Uc(this.l),df(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=df(this.opacity);return`${e===1?"hsl(":"hsla("}${O1(this.h)}, ${Uc(this.s)*100}%, ${Uc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function O1(e){return e=(e||0)%360,e<0?e+360:e}function Uc(e){return Math.max(0,Math.min(1,e||0))}function _p(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ov=e=>()=>e;function z$(e,t){return function(r){return e+r*t}}function F$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function B$(e){return(e=+e)==1?IE:function(t,r){return r-t?F$(t,r,e):Ov(isNaN(t)?r:t)}}function IE(e,t){var r=t-e;return r?z$(e,r):Ov(isNaN(e)?t:e)}const ff=function e(t){var r=B$(t);function n(a,i){var s=r((a=py(a)).r,(i=py(i)).r),o=r(a.g,i.g),u=r(a.b,i.b),c=IE(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=u(d),a.opacity=c(d),a+""}}return n.gamma=e,n}(1);function U$(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function H$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function V$(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=qn(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function W$(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function qr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function K$(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=qn(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var gy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sp=new RegExp(gy.source,"g");function q$(e){return function(){return e}}function Y$(e){return function(t){return e(t)+""}}function DE(e,t){var r=gy.lastIndex=Sp.lastIndex=0,n,a,i,s=-1,o=[],u=[];for(e=e+"",t=t+"";(n=gy.exec(e))&&(a=Sp.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,u.push({i:s,x:qr(n,a)})),r=Sp.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?u[0]?Y$(u[0].x):q$(t):(t=u.length,function(c){for(var d=0,f;d<t;++d)o[(f=u[d]).i]=f.x(c);return o.join("")})}function qn(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ov(t):(r==="number"?qr:r==="string"?(n=Yi(t))?(t=n,ff):DE:t instanceof Yi?ff:t instanceof Date?W$:H$(t)?U$:Array.isArray(t)?V$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?K$:qr)(e,t)}function Av(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var A1=180/Math.PI,yy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function RE(e,t,r,n,a,i){var s,o,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,u/=o),e*n<t*r&&(e=-e,t=-t,u=-u,s=-s),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*A1,skewX:Math.atan(u)*A1,scaleX:s,scaleY:o}}var Hc;function X$(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?yy:RE(t.a,t.b,t.c,t.d,t.e,t.f)}function G$(e){return e==null||(Hc||(Hc=document.createElementNS("http://www.w3.org/2000/svg","g")),Hc.setAttribute("transform",e),!(e=Hc.transform.baseVal.consolidate()))?yy:(e=e.matrix,RE(e.a,e.b,e.c,e.d,e.e,e.f))}function LE(e,t,r,n){function a(c){return c.length?c.pop()+" ":""}function i(c,d,f,h,m,p){if(c!==f||d!==h){var y=m.push("translate(",null,t,null,r);p.push({i:y-4,x:qr(c,f)},{i:y-2,x:qr(d,h)})}else(f||h)&&m.push("translate("+f+t+h+r)}function s(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(a(f)+"rotate(",null,n)-2,x:qr(c,d)})):d&&f.push(a(f)+"rotate("+d+n)}function o(c,d,f,h){c!==d?h.push({i:f.push(a(f)+"skewX(",null,n)-2,x:qr(c,d)}):d&&f.push(a(f)+"skewX("+d+n)}function u(c,d,f,h,m,p){if(c!==f||d!==h){var y=m.push(a(m)+"scale(",null,",",null,")");p.push({i:y-4,x:qr(c,f)},{i:y-2,x:qr(d,h)})}else(f!==1||h!==1)&&m.push(a(m)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=e(c),d=e(d),i(c.translateX,c.translateY,d.translateX,d.translateY,f,h),s(c.rotate,d.rotate,f,h),o(c.skewX,d.skewX,f,h),u(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(m){for(var p=-1,y=h.length,v;++p<y;)f[(v=h[p]).i]=v.x(m);return f.join("")}}}var Q$=LE(X$,"px, ","px)","deg)"),Z$=LE(G$,", ",")",")"),J$=1e-12;function T1(e){return((e=Math.exp(e))+1/e)/2}function ez(e){return((e=Math.exp(e))-1/e)/2}function tz(e){return((e=Math.exp(2*e))-1)/(e+1)}const Nd=function e(t,r,n){function a(i,s){var o=i[0],u=i[1],c=i[2],d=s[0],f=s[1],h=s[2],m=d-o,p=f-u,y=m*m+p*p,v,g;if(y<J$)g=Math.log(h/c)/t,v=function(N){return[o+N*m,u+N*p,c*Math.exp(t*N*g)]};else{var x=Math.sqrt(y),b=(h*h-c*c+n*y)/(2*c*r*x),j=(h*h-c*c-n*y)/(2*h*r*x),k=Math.log(Math.sqrt(b*b+1)-b),_=Math.log(Math.sqrt(j*j+1)-j);g=(_-k)/t,v=function(N){var S=N*g,C=T1(k),M=c/(r*x)*(C*tz(t*S+k)-ez(k));return[o+M*m,u+M*p,c*C/T1(t*S+k)]}}return v.duration=g*1e3*t/Math.SQRT2,v}return a.rho=function(i){var s=Math.max(.001,+i),o=s*s,u=o*o;return e(s,o,u)},a}(Math.SQRT2,2,4);function rz(e,t){t===void 0&&(t=e,e=qn);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}var ho=0,_l=0,ul=0,$E=1e3,hf,Sl,mf=0,Xi=0,Ah=0,lu=typeof performance=="object"&&performance.now?performance:Date,zE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Tv(){return Xi||(zE(nz),Xi=lu.now()+Ah)}function nz(){Xi=0}function pf(){this._call=this._time=this._next=null}pf.prototype=FE.prototype={constructor:pf,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Tv():+r)+(t==null?0:+t),!this._next&&Sl!==this&&(Sl?Sl._next=this:hf=this,Sl=this),this._call=e,this._time=r,vy()},stop:function(){this._call&&(this._call=null,this._time=1/0,vy())}};function FE(e,t,r){var n=new pf;return n.restart(e,t,r),n}function az(){Tv(),++ho;for(var e=hf,t;e;)(t=Xi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ho}function M1(){Xi=(mf=lu.now())+Ah,ho=_l=0;try{az()}finally{ho=0,sz(),Xi=0}}function iz(){var e=lu.now(),t=e-mf;t>$E&&(Ah-=t,mf=e)}function sz(){for(var e,t=hf,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:hf=r);Sl=e,vy(n)}function vy(e){if(!ho){_l&&(_l=clearTimeout(_l));var t=e-Xi;t>24?(e<1/0&&(_l=setTimeout(M1,e-lu.now()-Ah)),ul&&(ul=clearInterval(ul))):(ul||(mf=lu.now(),ul=setInterval(iz,$E)),ho=1,zE(M1))}}function I1(e,t,r){var n=new pf;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var oz=Ph("start","end","cancel","interrupt"),lz=[],BE=0,D1=1,xy=2,_d=3,R1=4,by=5,Sd=6;function Th(e,t,r,n,a,i){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;uz(e,r,{name:t,index:n,group:a,on:oz,tween:lz,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:BE})}function Mv(e,t){var r=ln(e,t);if(r.state>BE)throw new Error("too late; already scheduled");return r}function On(e,t){var r=ln(e,t);if(r.state>_d)throw new Error("too late; already running");return r}function ln(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function uz(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=FE(i,0,r.time);function i(c){r.state=D1,r.timer.restart(s,r.delay,r.time),r.delay<=c&&s(c-r.delay)}function s(c){var d,f,h,m;if(r.state!==D1)return u();for(d in n)if(m=n[d],m.name===r.name){if(m.state===_d)return I1(s);m.state===R1?(m.state=Sd,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete n[d]):+d<t&&(m.state=Sd,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete n[d])}if(I1(function(){r.state===_d&&(r.state=R1,r.timer.restart(o,r.delay,r.time),o(c))}),r.state=xy,r.on.call("start",e,e.__data__,r.index,r.group),r.state===xy){for(r.state=_d,a=new Array(h=r.tween.length),d=0,f=-1;d<h;++d)(m=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(a[++f]=m);a.length=f+1}}function o(c){for(var d=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(u),r.state=by,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);r.state===by&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=Sd,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function Ed(e,t){var r=e.__transition,n,a,i=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){i=!1;continue}a=n.state>xy&&n.state<by,n.state=Sd,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}i&&delete e.__transition}}function cz(e){return this.each(function(){Ed(this,e)})}function dz(e,t){var r,n;return function(){var a=On(this,e),i=a.tween;if(i!==r){n=r=i;for(var s=0,o=n.length;s<o;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}a.tween=n}}function fz(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var i=On(this,e),s=i.tween;if(s!==n){a=(n=s).slice();for(var o={name:t,value:r},u=0,c=a.length;u<c;++u)if(a[u].name===t){a[u]=o;break}u===c&&a.push(o)}i.tween=a}}function hz(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ln(this.node(),r).tween,a=0,i=n.length,s;a<i;++a)if((s=n[a]).name===e)return s.value;return null}return this.each((t==null?dz:fz)(r,e,t))}function Iv(e,t,r){var n=e._id;return e.each(function(){var a=On(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return ln(a,n).value[t]}}function UE(e,t){var r;return(typeof t=="number"?qr:t instanceof Yi?ff:(r=Yi(t))?(t=r,ff):DE)(e,t)}function mz(e){return function(){this.removeAttribute(e)}}function pz(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gz(e,t,r){var n,a=r+"",i;return function(){var s=this.getAttribute(e);return s===a?null:s===n?i:i=t(n=s,r)}}function yz(e,t,r){var n,a=r+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===n?i:i=t(n=s,r)}}function vz(e,t,r){var n,a,i;return function(){var s,o=r(this),u;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=o+"",s===u?null:s===n&&u===a?i:(a=u,i=t(n=s,o)))}}function xz(e,t,r){var n,a,i;return function(){var s,o=r(this),u;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=o+"",s===u?null:s===n&&u===a?i:(a=u,i=t(n=s,o)))}}function bz(e,t){var r=Oh(e),n=r==="transform"?Z$:UE;return this.attrTween(e,typeof t=="function"?(r.local?xz:vz)(r,n,Iv(this,"attr."+e,t)):t==null?(r.local?pz:mz)(r):(r.local?yz:gz)(r,n,t))}function wz(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function jz(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function kz(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&jz(e,i)),r}return a._value=t,a}function Nz(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&wz(e,i)),r}return a._value=t,a}function _z(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Oh(e);return this.tween(r,(n.local?kz:Nz)(n,t))}function Sz(e,t){return function(){Mv(this,e).delay=+t.apply(this,arguments)}}function Ez(e,t){return t=+t,function(){Mv(this,e).delay=t}}function Cz(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Sz:Ez)(t,e)):ln(this.node(),t).delay}function Pz(e,t){return function(){On(this,e).duration=+t.apply(this,arguments)}}function Oz(e,t){return t=+t,function(){On(this,e).duration=t}}function Az(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Pz:Oz)(t,e)):ln(this.node(),t).duration}function Tz(e,t){if(typeof t!="function")throw new Error;return function(){On(this,e).ease=t}}function Mz(e){var t=this._id;return arguments.length?this.each(Tz(t,e)):ln(this.node(),t).ease}function Iz(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;On(this,e).ease=r}}function Dz(e){if(typeof e!="function")throw new Error;return this.each(Iz(this._id,e))}function Rz(e){typeof e!="function"&&(e=xE(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],s=i.length,o=n[a]=[],u,c=0;c<s;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&o.push(u);return new ea(n,this._parents,this._name,this._id)}function Lz(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,i=Math.min(n,a),s=new Array(n),o=0;o<i;++o)for(var u=t[o],c=r[o],d=u.length,f=s[o]=new Array(d),h,m=0;m<d;++m)(h=u[m]||c[m])&&(f[m]=h);for(;o<n;++o)s[o]=t[o];return new ea(s,this._parents,this._name,this._id)}function $z(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function zz(e,t,r){var n,a,i=$z(t)?Mv:On;return function(){var s=i(this,e),o=s.on;o!==n&&(a=(n=o).copy()).on(t,r),s.on=a}}function Fz(e,t){var r=this._id;return arguments.length<2?ln(this.node(),r).on.on(e):this.each(zz(r,e,t))}function Bz(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Uz(){return this.on("end.remove",Bz(this._id))}function Hz(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ev(e));for(var n=this._groups,a=n.length,i=new Array(a),s=0;s<a;++s)for(var o=n[s],u=o.length,c=i[s]=new Array(u),d,f,h=0;h<u;++h)(d=o[h])&&(f=e.call(d,d.__data__,h,o))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,Th(c[h],t,r,h,c,ln(d,r)));return new ea(i,this._parents,t,r)}function Vz(e){var t=this._name,r=this._id;typeof e!="function"&&(e=vE(e));for(var n=this._groups,a=n.length,i=[],s=[],o=0;o<a;++o)for(var u=n[o],c=u.length,d,f=0;f<c;++f)if(d=u[f]){for(var h=e.call(d,d.__data__,f,u),m,p=ln(d,r),y=0,v=h.length;y<v;++y)(m=h[y])&&Th(m,t,r,y,h,p);i.push(h),s.push(d)}return new ea(i,s,t,r)}var Wz=$u.prototype.constructor;function Kz(){return new Wz(this._groups,this._parents)}function qz(e,t){var r,n,a;return function(){var i=fo(this,e),s=(this.style.removeProperty(e),fo(this,e));return i===s?null:i===r&&s===n?a:a=t(r=i,n=s)}}function HE(e){return function(){this.style.removeProperty(e)}}function Yz(e,t,r){var n,a=r+"",i;return function(){var s=fo(this,e);return s===a?null:s===n?i:i=t(n=s,r)}}function Xz(e,t,r){var n,a,i;return function(){var s=fo(this,e),o=r(this),u=o+"";return o==null&&(u=o=(this.style.removeProperty(e),fo(this,e))),s===u?null:s===n&&u===a?i:(a=u,i=t(n=s,o))}}function Gz(e,t){var r,n,a,i="style."+t,s="end."+i,o;return function(){var u=On(this,e),c=u.on,d=u.value[i]==null?o||(o=HE(t)):void 0;(c!==r||a!==d)&&(n=(r=c).copy()).on(s,a=d),u.on=n}}function Qz(e,t,r){var n=(e+="")=="transform"?Q$:UE;return t==null?this.styleTween(e,qz(e,n)).on("end.style."+e,HE(e)):typeof t=="function"?this.styleTween(e,Xz(e,n,Iv(this,"style."+e,t))).each(Gz(this._id,e)):this.styleTween(e,Yz(e,n,t),r).on("end.style."+e,null)}function Zz(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Jz(e,t,r){var n,a;function i(){var s=t.apply(this,arguments);return s!==a&&(n=(a=s)&&Zz(e,s,r)),n}return i._value=t,i}function eF(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Jz(e,t,r??""))}function tF(e){return function(){this.textContent=e}}function rF(e){return function(){var t=e(this);this.textContent=t??""}}function nF(e){return this.tween("text",typeof e=="function"?rF(Iv(this,"text",e)):tF(e==null?"":e+""))}function aF(e){return function(t){this.textContent=e.call(this,t)}}function iF(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&aF(a)),t}return n._value=e,n}function sF(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,iF(e))}function oF(){for(var e=this._name,t=this._id,r=VE(),n=this._groups,a=n.length,i=0;i<a;++i)for(var s=n[i],o=s.length,u,c=0;c<o;++c)if(u=s[c]){var d=ln(u,t);Th(u,e,r,c,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ea(n,this._parents,e,r)}function lF(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(i,s){var o={value:s},u={value:function(){--a===0&&i()}};r.each(function(){var c=On(this,n),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(u)),c.on=t}),a===0&&i()})}var uF=0;function ea(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function VE(){return++uF}var Tn=$u.prototype;ea.prototype={constructor:ea,select:Hz,selectAll:Vz,selectChild:Tn.selectChild,selectChildren:Tn.selectChildren,filter:Rz,merge:Lz,selection:Kz,transition:oF,call:Tn.call,nodes:Tn.nodes,node:Tn.node,size:Tn.size,empty:Tn.empty,each:Tn.each,on:Fz,attr:bz,attrTween:_z,style:Qz,styleTween:eF,text:nF,textTween:sF,remove:Uz,tween:hz,delay:Cz,duration:Az,ease:Mz,easeVarying:Dz,end:lF,[Symbol.iterator]:Tn[Symbol.iterator]};function cF(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var dF={time:null,delay:0,duration:250,ease:cF};function fF(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function hF(e){var t,r;e instanceof ea?(t=e._id,e=e._name):(t=VE(),(r=dF).time=Tv(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,i=0;i<a;++i)for(var s=n[i],o=s.length,u,c=0;c<o;++c)(u=s[c])&&Th(u,e,t,c,s,r||fF(u,t));return new ea(n,this._parents,e,t)}$u.prototype.interrupt=cz;$u.prototype.transition=hF;const Vc=e=>()=>e;function mF(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function Hn(e,t,r){this.k=e,this.x=t,this.y=r}Hn.prototype={constructor:Hn,scale:function(e){return e===1?this:new Hn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Hn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Mh=new Hn(1,0,0);WE.prototype=Hn.prototype;function WE(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Mh;return e.__zoom}function Ep(e){e.stopImmediatePropagation()}function cl(e){e.preventDefault(),e.stopImmediatePropagation()}function pF(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function gF(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function L1(){return this.__zoom||Mh}function yF(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function vF(){return navigator.maxTouchPoints||"ontouchstart"in this}function xF(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],s=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function KE(){var e=pF,t=gF,r=xF,n=yF,a=vF,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,u=Nd,c=Ph("start","zoom","end"),d,f,h,m=500,p=150,y=0,v=10;function g(E){E.property("__zoom",L1).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",O).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(E,R,D,L){var A=E.selection?E.selection():E;A.property("__zoom",L1),E!==A?k(E,R,D,L):A.interrupt().each(function(){_(this,arguments).event(L).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},g.scaleBy=function(E,R,D,L){g.scaleTo(E,function(){var A=this.__zoom.k,I=typeof R=="function"?R.apply(this,arguments):R;return A*I},D,L)},g.scaleTo=function(E,R,D,L){g.transform(E,function(){var A=t.apply(this,arguments),I=this.__zoom,T=D==null?j(A):typeof D=="function"?D.apply(this,arguments):D,F=I.invert(T),B=typeof R=="function"?R.apply(this,arguments):R;return r(b(x(I,B),T,F),A,s)},D,L)},g.translateBy=function(E,R,D,L){g.transform(E,function(){return r(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),s)},null,L)},g.translateTo=function(E,R,D,L,A){g.transform(E,function(){var I=t.apply(this,arguments),T=this.__zoom,F=L==null?j(I):typeof L=="function"?L.apply(this,arguments):L;return r(Mh.translate(F[0],F[1]).scale(T.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof D=="function"?-D.apply(this,arguments):-D),I,s)},L,A)};function x(E,R){return R=Math.max(i[0],Math.min(i[1],R)),R===E.k?E:new Hn(R,E.x,E.y)}function b(E,R,D){var L=R[0]-D[0]*E.k,A=R[1]-D[1]*E.k;return L===E.x&&A===E.y?E:new Hn(E.k,L,A)}function j(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function k(E,R,D,L){E.on("start.zoom",function(){_(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(L).end()}).tween("zoom",function(){var A=this,I=arguments,T=_(A,I).event(L),F=t.apply(A,I),B=D==null?j(F):typeof D=="function"?D.apply(A,I):D,q=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),K=A.__zoom,G=typeof R=="function"?R.apply(A,I):R,ie=u(K.invert(B).concat(q/K.k),G.invert(B).concat(q/G.k));return function(J){if(J===1)J=G;else{var X=ie(J),U=q/X[2];J=new Hn(U,B[0]-X[0]*U,B[1]-X[1]*U)}T.zoom(null,J)}})}function _(E,R,D){return!D&&E.__zooming||new N(E,R)}function N(E,R){this.that=E,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,R),this.taps=0}N.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,R){return this.mouse&&E!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var R=ur(this.that).datum();c.call(E,this.that,new mF(E,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:c}),R)}};function S(E,...R){if(!e.apply(this,arguments))return;var D=_(this,R).event(E),L=this.__zoom,A=Math.max(i[0],Math.min(i[1],L.k*Math.pow(2,n.apply(this,arguments)))),I=Wr(E);if(D.wheel)(D.mouse[0][0]!==I[0]||D.mouse[0][1]!==I[1])&&(D.mouse[1]=L.invert(D.mouse[0]=I)),clearTimeout(D.wheel);else{if(L.k===A)return;D.mouse=[I,L.invert(I)],Ed(this),D.start()}cl(E),D.wheel=setTimeout(T,p),D.zoom("mouse",r(b(x(L,A),D.mouse[0],D.mouse[1]),D.extent,s));function T(){D.wheel=null,D.end()}}function C(E,...R){if(h||!e.apply(this,arguments))return;var D=E.currentTarget,L=_(this,R,!0).event(E),A=ur(E.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",q,!0),I=Wr(E,D),T=E.clientX,F=E.clientY;PE(E.view),Ep(E),L.mouse=[I,this.__zoom.invert(I)],Ed(this),L.start();function B(K){if(cl(K),!L.moved){var G=K.clientX-T,ie=K.clientY-F;L.moved=G*G+ie*ie>y}L.event(K).zoom("mouse",r(b(L.that.__zoom,L.mouse[0]=Wr(K,D),L.mouse[1]),L.extent,s))}function q(K){A.on("mousemove.zoom mouseup.zoom",null),OE(K.view,L.moved),cl(K),L.event(K).end()}}function M(E,...R){if(e.apply(this,arguments)){var D=this.__zoom,L=Wr(E.changedTouches?E.changedTouches[0]:E,this),A=D.invert(L),I=D.k*(E.shiftKey?.5:2),T=r(b(x(D,I),L,A),t.apply(this,R),s);cl(E),o>0?ur(this).transition().duration(o).call(k,T,L,E):ur(this).call(g.transform,T,L,E)}}function O(E,...R){if(e.apply(this,arguments)){var D=E.touches,L=D.length,A=_(this,R,E.changedTouches.length===L).event(E),I,T,F,B;for(Ep(E),T=0;T<L;++T)F=D[T],B=Wr(F,this),B=[B,this.__zoom.invert(B),F.identifier],A.touch0?!A.touch1&&A.touch0[2]!==B[2]&&(A.touch1=B,A.taps=0):(A.touch0=B,I=!0,A.taps=1+!!d);d&&(d=clearTimeout(d)),I&&(A.taps<2&&(f=B[0],d=setTimeout(function(){d=null},m)),Ed(this),A.start())}}function P(E,...R){if(this.__zooming){var D=_(this,R).event(E),L=E.changedTouches,A=L.length,I,T,F,B;for(cl(E),I=0;I<A;++I)T=L[I],F=Wr(T,this),D.touch0&&D.touch0[2]===T.identifier?D.touch0[0]=F:D.touch1&&D.touch1[2]===T.identifier&&(D.touch1[0]=F);if(T=D.that.__zoom,D.touch1){var q=D.touch0[0],K=D.touch0[1],G=D.touch1[0],ie=D.touch1[1],J=(J=G[0]-q[0])*J+(J=G[1]-q[1])*J,X=(X=ie[0]-K[0])*X+(X=ie[1]-K[1])*X;T=x(T,Math.sqrt(J/X)),F=[(q[0]+G[0])/2,(q[1]+G[1])/2],B=[(K[0]+ie[0])/2,(K[1]+ie[1])/2]}else if(D.touch0)F=D.touch0[0],B=D.touch0[1];else return;D.zoom("touch",r(b(T,F,B),D.extent,s))}}function $(E,...R){if(this.__zooming){var D=_(this,R).event(E),L=E.changedTouches,A=L.length,I,T;for(Ep(E),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),I=0;I<A;++I)T=L[I],D.touch0&&D.touch0[2]===T.identifier?delete D.touch0:D.touch1&&D.touch1[2]===T.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(T=Wr(T,this),Math.hypot(f[0]-T[0],f[1]-T[1])<v)){var F=ur(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return g.wheelDelta=function(E){return arguments.length?(n=typeof E=="function"?E:Vc(+E),g):n},g.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Vc(!!E),g):e},g.touchable=function(E){return arguments.length?(a=typeof E=="function"?E:Vc(!!E),g):a},g.extent=function(E){return arguments.length?(t=typeof E=="function"?E:Vc([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),g):t},g.scaleExtent=function(E){return arguments.length?(i[0]=+E[0],i[1]=+E[1],g):[i[0],i[1]]},g.translateExtent=function(E){return arguments.length?(s[0][0]=+E[0][0],s[1][0]=+E[1][0],s[0][1]=+E[0][1],s[1][1]=+E[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(E){return arguments.length?(r=E,g):r},g.duration=function(E){return arguments.length?(o=+E,g):o},g.interpolate=function(E){return arguments.length?(u=E,g):u},g.on=function(){var E=c.on.apply(c,arguments);return E===c?g:E},g.clickDistance=function(E){return arguments.length?(y=(E=+E)*E,g):Math.sqrt(y)},g.tapDistance=function(E){return arguments.length?(v=+E,g):v},g}const Nn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:n}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},uu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],qE=["Enter"," ","Escape"],YE={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var mo;(function(e){e.Strict="strict",e.Loose="loose"})(mo||(mo={}));var Li;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Li||(Li={}));var cu;(function(e){e.Partial="partial",e.Full="full"})(cu||(cu={}));const XE={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Pa;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Pa||(Pa={}));var gf;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(gf||(gf={}));var ue;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ue||(ue={}));const $1={[ue.Left]:ue.Right,[ue.Right]:ue.Left,[ue.Top]:ue.Bottom,[ue.Bottom]:ue.Top};function GE(e){return e===null?null:e?"valid":"invalid"}const QE=e=>"id"in e&&"source"in e&&"target"in e,bF=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Dv=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),ii=(e,t,r)=>{if(!e.id)return[];const n=new Set;return r.forEach(a=>{a.target===e.id&&n.add(a.source)}),t.filter(a=>n.has(a.id))},Fu=(e,t=[0,0])=>{const{width:r,height:n}=da(e),a=e.origin??t,i=r*a[0],s=n*a[1];return{x:e.position.x-i,y:e.position.y-s}},wF=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const i=typeof a=="string";let s=!t.nodeLookup&&!i?a:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(a):Dv(a)?a:t.nodeLookup.get(a.id));const o=s?yf(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ih(n,o)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Dh(r)},Bu=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},n=!1;return e.forEach(a=>{(t.filter===void 0||t.filter(a))&&(r=Ih(r,yf(a)),n=!0)}),n?Dh(r):{x:0,y:0,width:0,height:0}},Rv=(e,t,[r,n,a]=[0,0,1],i=!1,s=!1)=>{const o={...Hu(t,[r,n,a]),width:t.width/a,height:t.height/a},u=[];for(const c of e.values()){const{measured:d,selectable:f=!0,hidden:h=!1}=c;if(s&&!f||h)continue;const m=d.width??c.width??c.initialWidth??null,p=d.height??c.height??c.initialHeight??null,y=du(o,go(c)),v=(m??0)*(p??0),g=i&&y>0;(!c.internals.handleBounds||g||y>=v||c.dragging)&&u.push(c)}return u},jF=(e,t)=>{const r=new Set;return e.forEach(n=>{r.add(n.id)}),t.filter(n=>r.has(n.source)||r.has(n.target))};function kF(e,t){const r=new Map,n=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!n||n.has(a.id))&&r.set(a.id,a)}),r}async function NF({nodes:e,width:t,height:r,panZoom:n,minZoom:a,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const o=kF(e,s),u=Bu(o),c=Lv(u,t,r,(s==null?void 0:s.minZoom)??a,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await n.setViewport(c,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function ZE({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:a,onError:i}){const s=r.get(e),o=s.parentId?r.get(s.parentId):void 0,{x:u,y:c}=o?o.internals.positionAbsolute:{x:0,y:0},d=s.origin??n;let f=s.extent||a;if(s.extent==="parent"&&!s.expandParent)if(!o)i==null||i("005",Nn.error005());else{const m=o.measured.width,p=o.measured.height;m&&p&&(f=[[u,c],[u+m,c+p]])}else o&&yo(s.extent)&&(f=[[s.extent[0][0]+u,s.extent[0][1]+c],[s.extent[1][0]+u,s.extent[1][1]+c]]);const h=yo(f)?Gi(t,f,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",Nn.error015())),{position:{x:h.x-u+(s.measured.width??0)*d[0],y:h.y-c+(s.measured.height??0)*d[1]},positionAbsolute:h}}async function _F({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:n,onBeforeDelete:a}){const i=new Set(e.map(h=>h.id)),s=[];for(const h of r){if(h.deletable===!1)continue;const m=i.has(h.id),p=!m&&h.parentId&&s.find(y=>y.id===h.parentId);(m||p)&&s.push(h)}const o=new Set(t.map(h=>h.id)),u=n.filter(h=>h.deletable!==!1),d=jF(s,u);for(const h of u)o.has(h.id)&&!d.find(p=>p.id===h.id)&&d.push(h);if(!a)return{edges:d,nodes:s};const f=await a({nodes:s,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:s}:{edges:[],nodes:[]}:f}const po=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Gi=(e={x:0,y:0},t,r)=>({x:po(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:po(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function JE(e,t,r){const{width:n,height:a}=da(r),{x:i,y:s}=r.internals.positionAbsolute;return Gi(e,[[i,s],[i+n,s+a]],t)}const z1=(e,t,r)=>e<t?po(Math.abs(e-t),1,t)/t:e>r?-po(Math.abs(e-r),1,t)/t:0,eC=(e,t,r=15,n=40)=>{const a=z1(e.x,n,t.width-n)*r,i=z1(e.y,n,t.height-n)*r;return[a,i]},Ih=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),wy=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),Dh=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),go=(e,t=[0,0])=>{var a,i;const{x:r,y:n}=Dv(e)?e.internals.positionAbsolute:Fu(e,t);return{x:r,y:n,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},yf=(e,t=[0,0])=>{var a,i;const{x:r,y:n}=Dv(e)?e.internals.positionAbsolute:Fu(e,t);return{x:r,y:n,x2:r+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:n+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},tC=(e,t)=>Dh(Ih(wy(e),wy(t))),du=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},F1=e=>Zr(e.width)&&Zr(e.height)&&Zr(e.x)&&Zr(e.y),Zr=e=>!isNaN(e)&&isFinite(e),SF=(e,t)=>{},Uu=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Hu=({x:e,y:t},[r,n,a],i=!1,s=[1,1])=>{const o={x:(e-r)/a,y:(t-n)/a};return i?Uu(o,s):o},vf=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n});function ps(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function EF(e,t,r){if(typeof e=="string"||typeof e=="number"){const n=ps(e,r),a=ps(e,t);return{top:n,right:a,bottom:n,left:a,x:a*2,y:n*2}}if(typeof e=="object"){const n=ps(e.top??e.y??0,r),a=ps(e.bottom??e.y??0,r),i=ps(e.left??e.x??0,t),s=ps(e.right??e.x??0,t);return{top:n,right:s,bottom:a,left:i,x:i+s,y:n+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function CF(e,t,r,n,a,i){const{x:s,y:o}=vf(e,[t,r,n]),{x:u,y:c}=vf({x:e.x+e.width,y:e.y+e.height},[t,r,n]),d=a-u,f=i-c;return{left:Math.floor(s),top:Math.floor(o),right:Math.floor(d),bottom:Math.floor(f)}}const Lv=(e,t,r,n,a,i)=>{const s=EF(i,t,r),o=(t-s.x)/e.width,u=(r-s.y)/e.height,c=Math.min(o,u),d=po(c,n,a),f=e.x+e.width/2,h=e.y+e.height/2,m=t/2-f*d,p=r/2-h*d,y=CF(e,m,p,d,t,r),v={left:Math.min(y.left-s.left,0),top:Math.min(y.top-s.top,0),right:Math.min(y.right-s.right,0),bottom:Math.min(y.bottom-s.bottom,0)};return{x:m-v.left+v.right,y:p-v.top+v.bottom,zoom:d}},fu=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function yo(e){return e!=null&&e!=="parent"}function da(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function rC(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function nC(e,t={width:0,height:0},r,n,a){const i={...e},s=n.get(r);if(s){const o=s.origin||a;i.x+=s.internals.positionAbsolute.x-(t.width??0)*o[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*o[1]}return i}function B1(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function PF(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}function OF(e){return{...YE,...e||{}}}function $l(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:n,containerBounds:a}){const{x:i,y:s}=Jr(e),o=Hu({x:i-((a==null?void 0:a.left)??0),y:s-((a==null?void 0:a.top)??0)},n),{x:u,y:c}=r?Uu(o,t):o;return{xSnapped:u,ySnapped:c,...o}}const $v=e=>({width:e.offsetWidth,height:e.offsetHeight}),aC=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},AF=["INPUT","SELECT","TEXTAREA"];function iC(e){var n,a;const t=((a=(n=e.composedPath)==null?void 0:n.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:AF.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const sC=e=>"clientX"in e,Jr=(e,t)=>{var i,s;const r=sC(e),n=r?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,a=r?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},U1=(e,t,r,n,a)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const o=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:a,position:s.getAttribute("data-handlepos"),x:(o.left-r.left)/n,y:(o.top-r.top)/n,...$v(s)}})};function oC({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:i,targetControlX:s,targetControlY:o}){const u=e*.125+a*.375+s*.375+r*.125,c=t*.125+i*.375+o*.375+n*.125,d=Math.abs(u-e),f=Math.abs(c-t);return[u,c,d,f]}function Wc(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function H1({pos:e,x1:t,y1:r,x2:n,y2:a,c:i}){switch(e){case ue.Left:return[t-Wc(t-n,i),r];case ue.Right:return[t+Wc(n-t,i),r];case ue.Top:return[t,r-Wc(r-a,i)];case ue.Bottom:return[t,r+Wc(a-r,i)]}}function lC({sourceX:e,sourceY:t,sourcePosition:r=ue.Bottom,targetX:n,targetY:a,targetPosition:i=ue.Top,curvature:s=.25}){const[o,u]=H1({pos:r,x1:e,y1:t,x2:n,y2:a,c:s}),[c,d]=H1({pos:i,x1:n,y1:a,x2:e,y2:t,c:s}),[f,h,m,p]=oC({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:o,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${e},${t} C${o},${u} ${c},${d} ${n},${a}`,f,h,m,p]}function uC({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,i=r<e?r+a:r-a,s=Math.abs(n-t)/2,o=n<t?n+s:n-s;return[i,o,a,s]}function TF({sourceNode:e,targetNode:t,selected:r=!1,zIndex:n=0,elevateOnSelect:a=!1,zIndexMode:i="basic"}){if(i==="manual")return n;const s=a&&r?n+1e3:n,o=Math.max(e.parentId||a&&e.selected?e.internals.z:0,t.parentId||a&&t.selected?t.internals.z:0);return s+o}function MF({sourceNode:e,targetNode:t,width:r,height:n,transform:a}){const i=Ih(yf(e),yf(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-a[0]/a[2],y:-a[1]/a[2],width:r/a[2],height:n/a[2]};return du(s,Dh(i))>0}const IF=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`xy-edge__${e}${t||""}-${r}${n||""}`,DF=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),cC=(e,t,r={})=>{if(!e.source||!e.target)return t;const n=r.getEdgeId||IF;let a;return QE(e)?a={...e}:a={...e,id:n(e)},DF(a,t)?t:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,t.concat(a))};function dC({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,i,s,o]=uC({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,i,s,o]}const V1={[ue.Left]:{x:-1,y:0},[ue.Right]:{x:1,y:0},[ue.Top]:{x:0,y:-1},[ue.Bottom]:{x:0,y:1}},RF=({source:e,sourcePosition:t=ue.Bottom,target:r})=>t===ue.Left||t===ue.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},W1=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function LF({source:e,sourcePosition:t=ue.Bottom,target:r,targetPosition:n=ue.Top,center:a,offset:i,stepPosition:s}){const o=V1[t],u=V1[n],c={x:e.x+o.x*i,y:e.y+o.y*i},d={x:r.x+u.x*i,y:r.y+u.y*i},f=RF({source:c,sourcePosition:t,target:d}),h=f.x!==0?"x":"y",m=f[h];let p=[],y,v;const g={x:0,y:0},x={x:0,y:0},[,,b,j]=uC({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(o[h]*u[h]===-1){h==="x"?(y=a.x??c.x+(d.x-c.x)*s,v=a.y??(c.y+d.y)/2):(y=a.x??(c.x+d.x)/2,v=a.y??c.y+(d.y-c.y)*s);const _=[{x:y,y:c.y},{x:y,y:d.y}],N=[{x:c.x,y:v},{x:d.x,y:v}];o[h]===m?p=h==="x"?_:N:p=h==="x"?N:_}else{const _=[{x:c.x,y:d.y}],N=[{x:d.x,y:c.y}];if(h==="x"?p=o.x===m?N:_:p=o.y===m?_:N,t===n){const P=Math.abs(e[h]-r[h]);if(P<=i){const $=Math.min(i-1,i-P);o[h]===m?g[h]=(c[h]>e[h]?-1:1)*$:x[h]=(d[h]>r[h]?-1:1)*$}}if(t!==n){const P=h==="x"?"y":"x",$=o[h]===u[P],E=c[P]>d[P],R=c[P]<d[P];(o[h]===1&&(!$&&E||$&&R)||o[h]!==1&&(!$&&R||$&&E))&&(p=h==="x"?_:N)}const S={x:c.x+g.x,y:c.y+g.y},C={x:d.x+x.x,y:d.y+x.y},M=Math.max(Math.abs(S.x-p[0].x),Math.abs(C.x-p[0].x)),O=Math.max(Math.abs(S.y-p[0].y),Math.abs(C.y-p[0].y));M>=O?(y=(S.x+C.x)/2,v=p[0].y):(y=p[0].x,v=(S.y+C.y)/2)}return[[e,{x:c.x+g.x,y:c.y+g.y},...p,{x:d.x+x.x,y:d.y+x.y},r],y,v,b,j]}function $F(e,t,r,n){const a=Math.min(W1(e,t)/2,W1(t,r)/2,n),{x:i,y:s}=t;if(e.x===i&&i===r.x||e.y===s&&s===r.y)return`L${i} ${s}`;if(e.y===s){const c=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${i+a*c},${s}Q ${i},${s} ${i},${s+a*d}`}const o=e.x<r.x?1:-1,u=e.y<r.y?-1:1;return`L ${i},${s+a*u}Q ${i},${s} ${i+a*o},${s}`}function xf({sourceX:e,sourceY:t,sourcePosition:r=ue.Bottom,targetX:n,targetY:a,targetPosition:i=ue.Top,borderRadius:s=5,centerX:o,centerY:u,offset:c=20,stepPosition:d=.5}){const[f,h,m,p,y]=LF({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:i,center:{x:o,y:u},offset:c,stepPosition:d});return[f.reduce((g,x,b)=>{let j="";return b>0&&b<f.length-1?j=$F(f[b-1],x,f[b+1],s):j=`${b===0?"M":"L"}${x.x} ${x.y}`,g+=j,g},""),h,m,p,y]}function K1(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function zF(e){var f;const{sourceNode:t,targetNode:r}=e;if(!K1(t)||!K1(r))return null;const n=t.internals.handleBounds||q1(t.handles),a=r.internals.handleBounds||q1(r.handles),i=Y1((n==null?void 0:n.source)??[],e.sourceHandle),s=Y1(e.connectionMode===mo.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!i||!s)return(f=e.onError)==null||f.call(e,"008",Nn.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const o=(i==null?void 0:i.position)||ue.Bottom,u=(s==null?void 0:s.position)||ue.Top,c=Qi(t,i,o),d=Qi(r,s,u);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:o,targetPosition:u}}function q1(e){if(!e)return null;const t=[],r=[];for(const n of e)n.width=n.width??1,n.height=n.height??1,n.type==="source"?t.push(n):n.type==="target"&&r.push(n);return{source:t,target:r}}function Qi(e,t,r=ue.Left,n=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:o}=t??da(e);if(n)return{x:a+s/2,y:i+o/2};switch((t==null?void 0:t.position)??r){case ue.Top:return{x:a+s/2,y:i};case ue.Right:return{x:a+s,y:i+o/2};case ue.Bottom:return{x:a+s/2,y:i+o};case ue.Left:return{x:a,y:i+o/2}}}function Y1(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function jy(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`:""}function FF(e,{id:t,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:a}){const i=new Set;return e.reduce((s,o)=>([o.markerStart||n,o.markerEnd||a].forEach(u=>{if(u&&typeof u=="object"){const c=jy(u,t);i.has(c)||(s.push({id:c,color:u.color||r,...u}),i.add(c))}}),s),[]).sort((s,o)=>s.id.localeCompare(o.id))}const fC=1e3,BF=10,zv={nodeOrigin:[0,0],nodeExtent:uu,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},UF={...zv,checkEquality:!0};function Fv(e,t){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}function HF(e,t,r){const n=Fv(zv,r);for(const a of e.values())if(a.parentId)Uv(a,e,t,n);else{const i=Fu(a,n.nodeOrigin),s=yo(a.extent)?a.extent:n.nodeExtent,o=Gi(i,s,da(a));a.internals.positionAbsolute=o}}function VF(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const r=[],n=[];for(const a of e.handles){const i={id:a.id,width:a.width??1,height:a.height??1,nodeId:e.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?r.push(i):a.type==="target"&&n.push(i)}return{source:r,target:n}}function Bv(e){return e==="manual"}function ky(e,t,r,n={}){var c,d;const a=Fv(UF,n),i={i:0},s=new Map(t),o=a!=null&&a.elevateNodesOnSelect&&!Bv(a.zIndexMode)?fC:0;let u=e.length>0;t.clear(),r.clear();for(const f of e){let h=s.get(f.id);if(a.checkEquality&&f===(h==null?void 0:h.internals.userNode))t.set(f.id,h);else{const m=Fu(f,a.nodeOrigin),p=yo(f.extent)?f.extent:a.nodeExtent,y=Gi(m,p,da(f));h={...a.defaults,...f,measured:{width:(c=f.measured)==null?void 0:c.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:y,handleBounds:VF(f,h),z:hC(f,o,a.zIndexMode),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(u=!1),f.parentId&&Uv(h,t,r,n,i)}return u}function WF(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Uv(e,t,r,n,a){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o,zIndexMode:u}=Fv(zv,n),c=e.parentId,d=t.get(c);if(!d){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}WF(e,r),a&&!d.parentId&&d.internals.rootParentIndex===void 0&&u==="auto"&&(d.internals.rootParentIndex=++a.i,d.internals.z=d.internals.z+a.i*BF),a&&d.internals.rootParentIndex!==void 0&&(a.i=d.internals.rootParentIndex);const f=i&&!Bv(u)?fC:0,{x:h,y:m,z:p}=KF(e,d,s,o,f,u),{positionAbsolute:y}=e.internals,v=h!==y.x||m!==y.y;(v||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:h,y:m}:y,z:p}})}function hC(e,t,r){const n=Zr(e.zIndex)?e.zIndex:0;return Bv(r)?n:n+(e.selected?t:0)}function KF(e,t,r,n,a,i){const{x:s,y:o}=t.internals.positionAbsolute,u=da(e),c=Fu(e,r),d=yo(e.extent)?Gi(c,e.extent,u):c;let f=Gi({x:s+d.x,y:o+d.y},n,u);e.extent==="parent"&&(f=JE(f,u,t));const h=hC(e,a,i),m=t.internals.z??0;return{x:f.x,y:f.y,z:m>=h?m+1:h}}function Hv(e,t,r,n=[0,0]){var s;const a=[],i=new Map;for(const o of e){const u=t.get(o.parentId);if(!u)continue;const c=((s=i.get(o.parentId))==null?void 0:s.expandedRect)??go(u),d=tC(c,o.rect);i.set(o.parentId,{expandedRect:d,parent:u})}return i.size>0&&i.forEach(({expandedRect:o,parent:u},c)=>{var b;const d=u.internals.positionAbsolute,f=da(u),h=u.origin??n,m=o.x<d.x?Math.round(Math.abs(d.x-o.x)):0,p=o.y<d.y?Math.round(Math.abs(d.y-o.y)):0,y=Math.max(f.width,Math.round(o.width)),v=Math.max(f.height,Math.round(o.height)),g=(y-f.width)*h[0],x=(v-f.height)*h[1];(m>0||p>0||g||x)&&(a.push({id:c,type:"position",position:{x:u.position.x-m+g,y:u.position.y-p+x}}),(b=r.get(c))==null||b.forEach(j=>{e.some(k=>k.id===j.id)||a.push({id:j.id,type:"position",position:{x:j.position.x+m,y:j.position.y+p}})})),(f.width<o.width||f.height<o.height||m||p)&&a.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:y+(m?h[0]*m-g:0),height:v+(p?h[1]*p-x:0)}})}),a}function qF(e,t,r,n,a,i,s){const o=n==null?void 0:n.querySelector(".xyflow__viewport");let u=!1;if(!o)return{changes:[],updatedInternals:u};const c=[],d=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const m of e.values()){const p=t.get(m.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),u=!0;continue}const y=$v(m.nodeElement),v=p.measured.width!==y.width||p.measured.height!==y.height;if(!!(y.width&&y.height&&(v||!p.internals.handleBounds||m.force))){const x=m.nodeElement.getBoundingClientRect(),b=yo(p.extent)?p.extent:i;let{positionAbsolute:j}=p.internals;p.parentId&&p.extent==="parent"?j=JE(j,y,t.get(p.parentId)):b&&(j=Gi(j,b,y));const k={...p,measured:y,internals:{...p.internals,positionAbsolute:j,handleBounds:{source:U1("source",m.nodeElement,x,f,p.id),target:U1("target",m.nodeElement,x,f,p.id)}}};t.set(p.id,k),p.parentId&&Uv(k,t,r,{nodeOrigin:a,zIndexMode:s}),u=!0,v&&(c.push({id:p.id,type:"dimensions",dimensions:y}),p.expandParent&&p.parentId&&h.push({id:p.id,parentId:p.parentId,rect:go(k,a)}))}}if(h.length>0){const m=Hv(h,t,r,a);c.push(...m)}return{changes:c,updatedInternals:u}}async function YF({delta:e,panZoom:t,transform:r,translateExtent:n,width:a,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[a,i]],n),o=!!s&&(s.x!==r[0]||s.y!==r[1]||s.k!==r[2]);return Promise.resolve(o)}function X1(e,t,r,n,a,i){let s=a;const o=n.get(s)||new Map;n.set(s,o.set(r,t)),s=`${a}-${e}`;const u=n.get(s)||new Map;if(n.set(s,u.set(r,t)),i){s=`${a}-${e}-${i}`;const c=n.get(s)||new Map;n.set(s,c.set(r,t))}}function mC(e,t,r){e.clear(),t.clear();for(const n of r){const{source:a,target:i,sourceHandle:s=null,targetHandle:o=null}=n,u={edgeId:n.id,source:a,target:i,sourceHandle:s,targetHandle:o},c=`${a}-${s}--${i}-${o}`,d=`${i}-${o}--${a}-${s}`;X1("source",u,d,e,a,s),X1("target",u,c,e,i,o),t.set(n.id,n)}}function pC(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:pC(r,t):!1}function G1(e,t,r){var a;let n=e;do{if((a=n==null?void 0:n.matches)!=null&&a.call(n,t))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function XF(e,t,r,n){const a=new Map;for(const[i,s]of e)if((s.selected||s.id===n)&&(!s.parentId||!pC(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const o=e.get(i);o&&a.set(i,{id:i,position:o.position||{x:0,y:0},distance:{x:r.x-o.internals.positionAbsolute.x,y:r.y-o.internals.positionAbsolute.y},extent:o.extent,parentId:o.parentId,origin:o.origin,expandParent:o.expandParent,internals:{positionAbsolute:o.internals.positionAbsolute||{x:0,y:0}},measured:{width:o.measured.width??0,height:o.measured.height??0}})}return a}function Cp({nodeId:e,dragItems:t,nodeLookup:r,dragging:n=!0}){var s,o,u;const a=[];for(const[c,d]of t){const f=(s=r.get(c))==null?void 0:s.internals.userNode;f&&a.push({...f,position:d.position,dragging:n})}if(!e)return[a[0],a];const i=(o=r.get(e))==null?void 0:o.internals.userNode;return[i?{...i,position:((u=t.get(e))==null?void 0:u.position)||i.position,dragging:n}:a[0],a]}function GF({dragItems:e,snapGrid:t,x:r,y:n}){const a=e.values().next().value;if(!a)return null;const i={x:r-a.distance.x,y:n-a.distance.y},s=Uu(i,t);return{x:s.x-i.x,y:s.y-i.y}}function QF({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:n,onDragStop:a}){let i={x:null,y:null},s=0,o=new Map,u=!1,c={x:0,y:0},d=null,f=!1,h=null,m=!1,p=!1,y=null;function v({noDragClassName:x,handleSelector:b,domNode:j,isSelectable:k,nodeId:_,nodeClickDistance:N=0}){h=ur(j);function S({x:P,y:$}){const{nodeLookup:E,nodeExtent:R,snapGrid:D,snapToGrid:L,nodeOrigin:A,onNodeDrag:I,onSelectionDrag:T,onError:F,updateNodePositions:B}=t();i={x:P,y:$};let q=!1;const K=o.size>1,G=K&&R?wy(Bu(o)):null,ie=K&&L?GF({dragItems:o,snapGrid:D,x:P,y:$}):null;for(const[J,X]of o){if(!E.has(J))continue;let U={x:P-X.distance.x,y:$-X.distance.y};L&&(U=ie?{x:Math.round(U.x+ie.x),y:Math.round(U.y+ie.y)}:Uu(U,D));let Z=null;if(K&&R&&!X.extent&&G){const{positionAbsolute:ae}=X.internals,se=ae.x-G.x+R[0][0],he=ae.x+X.measured.width-G.x2+R[1][0],de=ae.y-G.y+R[0][1],Ie=ae.y+X.measured.height-G.y2+R[1][1];Z=[[se,de],[he,Ie]]}const{position:Q,positionAbsolute:V}=ZE({nodeId:J,nextPosition:U,nodeLookup:E,nodeExtent:Z||R,nodeOrigin:A,onError:F});q=q||X.position.x!==Q.x||X.position.y!==Q.y,X.position=Q,X.internals.positionAbsolute=V}if(p=p||q,!!q&&(B(o,!0),y&&(n||I||!_&&T))){const[J,X]=Cp({nodeId:_,dragItems:o,nodeLookup:E});n==null||n(y,o,J,X),I==null||I(y,J,X),_||T==null||T(y,X)}}async function C(){if(!d)return;const{transform:P,panBy:$,autoPanSpeed:E,autoPanOnNodeDrag:R}=t();if(!R){u=!1,cancelAnimationFrame(s);return}const[D,L]=eC(c,d,E);(D!==0||L!==0)&&(i.x=(i.x??0)-D/P[2],i.y=(i.y??0)-L/P[2],await $({x:D,y:L})&&S(i)),s=requestAnimationFrame(C)}function M(P){var K;const{nodeLookup:$,multiSelectionActive:E,nodesDraggable:R,transform:D,snapGrid:L,snapToGrid:A,selectNodesOnDrag:I,onNodeDragStart:T,onSelectionDragStart:F,unselectNodesAndEdges:B}=t();f=!0,(!I||!k)&&!E&&_&&((K=$.get(_))!=null&&K.selected||B()),k&&I&&_&&(e==null||e(_));const q=$l(P.sourceEvent,{transform:D,snapGrid:L,snapToGrid:A,containerBounds:d});if(i=q,o=XF($,R,q,_),o.size>0&&(r||T||!_&&F)){const[G,ie]=Cp({nodeId:_,dragItems:o,nodeLookup:$});r==null||r(P.sourceEvent,o,G,ie),T==null||T(P.sourceEvent,G,ie),_||F==null||F(P.sourceEvent,ie)}}const O=AE().clickDistance(N).on("start",P=>{const{domNode:$,nodeDragThreshold:E,transform:R,snapGrid:D,snapToGrid:L}=t();d=($==null?void 0:$.getBoundingClientRect())||null,m=!1,p=!1,y=P.sourceEvent,E===0&&M(P),i=$l(P.sourceEvent,{transform:R,snapGrid:D,snapToGrid:L,containerBounds:d}),c=Jr(P.sourceEvent,d)}).on("drag",P=>{const{autoPanOnNodeDrag:$,transform:E,snapGrid:R,snapToGrid:D,nodeDragThreshold:L,nodeLookup:A}=t(),I=$l(P.sourceEvent,{transform:E,snapGrid:R,snapToGrid:D,containerBounds:d});if(y=P.sourceEvent,(P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1||_&&!A.has(_))&&(m=!0),!m){if(!u&&$&&f&&(u=!0,C()),!f){const T=Jr(P.sourceEvent,d),F=T.x-c.x,B=T.y-c.y;Math.sqrt(F*F+B*B)>L&&M(P)}(i.x!==I.xSnapped||i.y!==I.ySnapped)&&o&&f&&(c=Jr(P.sourceEvent,d),S(I))}}).on("end",P=>{if(!(!f||m)&&(u=!1,f=!1,cancelAnimationFrame(s),o.size>0)){const{nodeLookup:$,updateNodePositions:E,onNodeDragStop:R,onSelectionDragStop:D}=t();if(p&&(E(o,!1),p=!1),a||R||!_&&D){const[L,A]=Cp({nodeId:_,dragItems:o,nodeLookup:$,dragging:!1});a==null||a(P.sourceEvent,o,L,A),R==null||R(P.sourceEvent,L,A),_||D==null||D(P.sourceEvent,A)}}}).filter(P=>{const $=P.target;return!P.button&&(!x||!G1($,`.${x}`,j))&&(!b||G1($,b,j))});h.call(O)}function g(){h==null||h.on(".drag",null)}return{update:v,destroy:g}}function ZF(e,t,r){const n=[],a={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const i of t.values())du(a,go(i))>0&&n.push(i);return n}const JF=250;function e8(e,t,r,n){var o,u;let a=[],i=1/0;const s=ZF(e,r,t+JF);for(const c of s){const d=[...((o=c.internals.handleBounds)==null?void 0:o.source)??[],...((u=c.internals.handleBounds)==null?void 0:u.target)??[]];for(const f of d){if(n.nodeId===f.nodeId&&n.type===f.type&&n.id===f.id)continue;const{x:h,y:m}=Qi(c,f,f.position,!0),p=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(m-e.y,2));p>t||(p<i?(a=[{...f,x:h,y:m}],i=p):p===i&&a.push({...f,x:h,y:m}))}}if(!a.length)return null;if(a.length>1){const c=n.type==="source"?"target":"source";return a.find(d=>d.type===c)??a[0]}return a[0]}function gC(e,t,r,n,a,i=!1){var c,d,f;const s=n.get(e);if(!s)return null;const o=a==="strict"?(c=s.internals.handleBounds)==null?void 0:c[t]:[...((d=s.internals.handleBounds)==null?void 0:d.source)??[],...((f=s.internals.handleBounds)==null?void 0:f.target)??[]],u=(r?o==null?void 0:o.find(h=>h.id===r):o==null?void 0:o[0])??null;return u&&i?{...u,...Qi(s,u,u.position,!0)}:u}function yC(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function t8(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const vC=()=>!0;function r8(e,{connectionMode:t,connectionRadius:r,handleId:n,nodeId:a,edgeUpdaterType:i,isTarget:s,domNode:o,nodeLookup:u,lib:c,autoPanOnConnect:d,flowId:f,panBy:h,cancelConnection:m,onConnectStart:p,onConnect:y,onConnectEnd:v,isValidConnection:g=vC,onReconnectEnd:x,updateConnection:b,getTransform:j,getFromHandle:k,autoPanSpeed:_,dragThreshold:N=1,handleDomNode:S}){const C=aC(e.target);let M=0,O;const{x:P,y:$}=Jr(e),E=yC(i,S),R=o==null?void 0:o.getBoundingClientRect();let D=!1;if(!R||!E)return;const L=gC(a,E,n,u,t);if(!L)return;let A=Jr(e,R),I=!1,T=null,F=!1,B=null;function q(){if(!d||!R)return;const[Q,V]=eC(A,R,_);h({x:Q,y:V}),M=requestAnimationFrame(q)}const K={...L,nodeId:a,type:E,position:L.position},G=u.get(a);let J={inProgress:!0,isValid:null,from:Qi(G,K,ue.Left,!0),fromHandle:K,fromPosition:K.position,fromNode:G,to:A,toHandle:null,toPosition:$1[K.position],toNode:null,pointer:A};function X(){D=!0,b(J),p==null||p(e,{nodeId:a,handleId:n,handleType:E})}N===0&&X();function U(Q){if(!D){const{x:Ie,y:zr}=Jr(Q),An=Ie-P,ui=zr-$;if(!(An*An+ui*ui>N*N))return;X()}if(!k()||!K){Z(Q);return}const V=j();A=Jr(Q,R),O=e8(Hu(A,V,!1,[1,1]),r,u,K),I||(q(),I=!0);const ae=xC(Q,{handle:O,connectionMode:t,fromNodeId:a,fromHandleId:n,fromType:s?"target":"source",isValidConnection:g,doc:C,lib:c,flowId:f,nodeLookup:u});B=ae.handleDomNode,T=ae.connection,F=t8(!!O,ae.isValid);const se=u.get(a),he=se?Qi(se,K,ue.Left,!0):J.from,de={...J,from:he,isValid:F,to:ae.toHandle&&F?vf({x:ae.toHandle.x,y:ae.toHandle.y},V):A,toHandle:ae.toHandle,toPosition:F&&ae.toHandle?ae.toHandle.position:$1[K.position],toNode:ae.toHandle?u.get(ae.toHandle.nodeId):null,pointer:A};b(de),J=de}function Z(Q){if(!("touches"in Q&&Q.touches.length>0)){if(D){(O||B)&&T&&F&&(y==null||y(T));const{inProgress:V,...ae}=J,se={...ae,toPosition:J.toHandle?J.toPosition:null};v==null||v(Q,se),i&&(x==null||x(Q,se))}m(),cancelAnimationFrame(M),I=!1,F=!1,T=null,B=null,C.removeEventListener("mousemove",U),C.removeEventListener("mouseup",Z),C.removeEventListener("touchmove",U),C.removeEventListener("touchend",Z)}}C.addEventListener("mousemove",U),C.addEventListener("mouseup",Z),C.addEventListener("touchmove",U),C.addEventListener("touchend",Z)}function xC(e,{handle:t,connectionMode:r,fromNodeId:n,fromHandleId:a,fromType:i,doc:s,lib:o,flowId:u,isValidConnection:c=vC,nodeLookup:d}){const f=i==="target",h=t?s.querySelector(`.${o}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:m,y:p}=Jr(e),y=s.elementFromPoint(m,p),v=y!=null&&y.classList.contains(`${o}-flow__handle`)?y:h,g={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const x=yC(void 0,v),b=v.getAttribute("data-nodeid"),j=v.getAttribute("data-handleid"),k=v.classList.contains("connectable"),_=v.classList.contains("connectableend");if(!b||!x)return g;const N={source:f?b:n,sourceHandle:f?j:a,target:f?n:b,targetHandle:f?a:j};g.connection=N;const C=k&&_&&(r===mo.Strict?f&&x==="source"||!f&&x==="target":b!==n||j!==a);g.isValid=C&&c(N),g.toHandle=gC(b,x,j,d,r,!0)}return g}const Ny={onPointerDown:r8,isValid:xC};function n8({domNode:e,panZoom:t,getTransform:r,getViewScale:n}){const a=ur(e);function i({translateExtent:o,width:u,height:c,zoomStep:d=1,pannable:f=!0,zoomable:h=!0,inversePan:m=!1}){const p=b=>{if(b.sourceEvent.type!=="wheel"||!t)return;const j=r(),k=b.sourceEvent.ctrlKey&&fu()?10:1,_=-b.sourceEvent.deltaY*(b.sourceEvent.deltaMode===1?.05:b.sourceEvent.deltaMode?1:.002)*d,N=j[2]*Math.pow(2,_*k);t.scaleTo(N)};let y=[0,0];const v=b=>{(b.sourceEvent.type==="mousedown"||b.sourceEvent.type==="touchstart")&&(y=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY])},g=b=>{const j=r();if(b.sourceEvent.type!=="mousemove"&&b.sourceEvent.type!=="touchmove"||!t)return;const k=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY],_=[k[0]-y[0],k[1]-y[1]];y=k;const N=n()*Math.max(j[2],Math.log(j[2]))*(m?-1:1),S={x:j[0]-_[0]*N,y:j[1]-_[1]*N},C=[[0,0],[u,c]];t.setViewportConstrained({x:S.x,y:S.y,zoom:j[2]},C,o)},x=KE().on("start",v).on("zoom",f?g:null).on("zoom.wheel",h?p:null);a.call(x,{})}function s(){a.on("zoom",null)}return{update:i,destroy:s,pointer:Wr}}const Rh=e=>({x:e.x,y:e.y,zoom:e.k}),Pp=({x:e,y:t,zoom:r})=>Mh.translate(e,t).scale(r),Ts=(e,t)=>e.target.closest(`.${t}`),bC=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),a8=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Op=(e,t=0,r=a8,n=()=>{})=>{const a=typeof t=="number"&&t>0;return a||n(),a?e.transition().duration(t).ease(r).on("end",n):e},wC=e=>{const t=e.ctrlKey&&fu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function i8({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:n,panOnScrollMode:a,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:o,onPanZoom:u,onPanZoomEnd:c}){return d=>{if(Ts(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=r.property("__zoom").k||1;if(d.ctrlKey&&s){const v=Wr(d),g=wC(d),x=f*Math.pow(2,g);n.scaleTo(r,x,v,d);return}const h=d.deltaMode===1?20:1;let m=a===Li.Vertical?0:d.deltaX*h,p=a===Li.Horizontal?0:d.deltaY*h;!fu()&&d.shiftKey&&a!==Li.Vertical&&(m=d.deltaY*h,p=0),n.translateBy(r,-(m/f)*i,-(p/f)*i,{internal:!0});const y=Rh(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(d,y),e.panScrollTimeout=setTimeout(()=>{c==null||c(d,y),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,o==null||o(d,y))}}function s8({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(n,a){const i=n.type==="wheel",s=!t&&i&&!n.ctrlKey,o=Ts(n,e);if(n.ctrlKey&&i&&o&&n.preventDefault(),s||o)return null;n.preventDefault(),r.call(this,n,a)}}function o8({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return n=>{var i,s,o;if((i=n.sourceEvent)!=null&&i.internal)return;const a=Rh(n.transform);e.mouseButton=((s=n.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((o=n.sourceEvent)==null?void 0:o.type)==="mousedown"&&t(!0),r&&(r==null||r(n.sourceEvent,a))}}function l8({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:n,onPanZoom:a}){return i=>{var s,o;e.usedRightMouseButton=!!(r&&bC(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||n([i.transform.x,i.transform.y,i.transform.k]),a&&!((o=i.sourceEvent)!=null&&o.internal)&&(a==null||a(i.sourceEvent,Rh(i.transform)))}}function u8({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:a,onPaneContextMenu:i}){return s=>{var o;if(!((o=s.sourceEvent)!=null&&o.internal)&&(e.isZoomingOrPanning=!1,i&&bC(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,n(!1),a)){const u=Rh(s.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(s.sourceEvent,u)},r?150:0)}}}function c8({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:n,panOnScroll:a,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:o,noPanClassName:u,lib:c,connectionInProgress:d}){return f=>{var v;const h=e||t,m=r&&f.ctrlKey,p=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(Ts(f,`${c}-flow__node`)||Ts(f,`${c}-flow__edge`)))return!0;if(!n&&!h&&!a&&!i&&!r||s||d&&!p||Ts(f,o)&&p||Ts(f,u)&&(!p||a&&p&&!e)||!r&&f.ctrlKey&&p)return!1;if(!r&&f.type==="touchstart"&&((v=f.touches)==null?void 0:v.length)>1)return f.preventDefault(),!1;if(!h&&!a&&!m&&p||!n&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(n)&&!n.includes(f.button)&&f.type==="mousedown")return!1;const y=Array.isArray(n)&&n.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||p)&&y}}function d8({domNode:e,minZoom:t,maxZoom:r,translateExtent:n,viewport:a,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:o,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=KE().scaleExtent([t,r]).translateExtent(n),h=ur(e).call(f);x({x:a.x,y:a.y,zoom:po(a.zoom,t,r)},[[0,0],[d.width,d.height]],n);const m=h.on("wheel.zoom"),p=h.on("dblclick.zoom");f.wheelDelta(wC);function y(O,P){return h?new Promise($=>{f==null||f.interpolate((P==null?void 0:P.interpolate)==="linear"?qn:Nd).transform(Op(h,P==null?void 0:P.duration,P==null?void 0:P.ease,()=>$(!0)),O)}):Promise.resolve(!1)}function v({noWheelClassName:O,noPanClassName:P,onPaneContextMenu:$,userSelectionActive:E,panOnScroll:R,panOnDrag:D,panOnScrollMode:L,panOnScrollSpeed:A,preventScrolling:I,zoomOnPinch:T,zoomOnScroll:F,zoomOnDoubleClick:B,zoomActivationKeyPressed:q,lib:K,onTransformChange:G,connectionInProgress:ie,paneClickDistance:J,selectionOnDrag:X}){E&&!c.isZoomingOrPanning&&g();const U=R&&!q&&!E;f.clickDistance(X?1/0:!Zr(J)||J<0?0:J);const Z=U?i8({zoomPanValues:c,noWheelClassName:O,d3Selection:h,d3Zoom:f,panOnScrollMode:L,panOnScrollSpeed:A,zoomOnPinch:T,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:o}):s8({noWheelClassName:O,preventScrolling:I,d3ZoomHandler:m});if(h.on("wheel.zoom",Z,{passive:!1}),!E){const V=o8({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:s});f.on("start",V);const ae=l8({zoomPanValues:c,panOnDrag:D,onPaneContextMenu:!!$,onPanZoom:i,onTransformChange:G});f.on("zoom",ae);const se=u8({zoomPanValues:c,panOnDrag:D,panOnScroll:R,onPaneContextMenu:$,onPanZoomEnd:o,onDraggingChange:u});f.on("end",se)}const Q=c8({zoomActivationKeyPressed:q,panOnDrag:D,zoomOnScroll:F,panOnScroll:R,zoomOnDoubleClick:B,zoomOnPinch:T,userSelectionActive:E,noPanClassName:P,noWheelClassName:O,lib:K,connectionInProgress:ie});f.filter(Q),B?h.on("dblclick.zoom",p):h.on("dblclick.zoom",null)}function g(){f.on("zoom",null)}async function x(O,P,$){const E=Pp(O),R=f==null?void 0:f.constrain()(E,P,$);return R&&await y(R),new Promise(D=>D(R))}async function b(O,P){const $=Pp(O);return await y($,P),new Promise(E=>E($))}function j(O){if(h){const P=Pp(O),$=h.property("__zoom");($.k!==O.zoom||$.x!==O.x||$.y!==O.y)&&(f==null||f.transform(h,P,null,{sync:!0}))}}function k(){const O=h?WE(h.node()):{x:0,y:0,k:1};return{x:O.x,y:O.y,zoom:O.k}}function _(O,P){return h?new Promise($=>{f==null||f.interpolate((P==null?void 0:P.interpolate)==="linear"?qn:Nd).scaleTo(Op(h,P==null?void 0:P.duration,P==null?void 0:P.ease,()=>$(!0)),O)}):Promise.resolve(!1)}function N(O,P){return h?new Promise($=>{f==null||f.interpolate((P==null?void 0:P.interpolate)==="linear"?qn:Nd).scaleBy(Op(h,P==null?void 0:P.duration,P==null?void 0:P.ease,()=>$(!0)),O)}):Promise.resolve(!1)}function S(O){f==null||f.scaleExtent(O)}function C(O){f==null||f.translateExtent(O)}function M(O){const P=!Zr(O)||O<0?0:O;f==null||f.clickDistance(P)}return{update:v,destroy:g,setViewport:b,setViewportConstrained:x,getViewport:k,scaleTo:_,scaleBy:N,setScaleExtent:S,setTranslateExtent:C,syncViewport:j,setClickDistance:M}}var vo;(function(e){e.Line="line",e.Handle="handle"})(vo||(vo={}));function f8({width:e,prevWidth:t,height:r,prevHeight:n,affectsX:a,affectsY:i}){const s=e-t,o=r-n,u=[s>0?1:s<0?-1:0,o>0?1:o<0?-1:0];return s&&a&&(u[0]=u[0]*-1),o&&i&&(u[1]=u[1]*-1),u}function Q1(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),n=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:n,affectsY:a}}function ba(e,t){return Math.max(0,t-e)}function wa(e,t){return Math.max(0,e-t)}function Kc(e,t,r){return Math.max(0,t-e,e-r)}function Z1(e,t){return e?!t:t}function h8(e,t,r,n,a,i,s,o){let{affectsX:u,affectsY:c}=t;const{isHorizontal:d,isVertical:f}=t,h=d&&f,{xSnapped:m,ySnapped:p}=r,{minWidth:y,maxWidth:v,minHeight:g,maxHeight:x}=n,{x:b,y:j,width:k,height:_,aspectRatio:N}=e;let S=Math.floor(d?m-e.pointerX:0),C=Math.floor(f?p-e.pointerY:0);const M=k+(u?-S:S),O=_+(c?-C:C),P=-i[0]*k,$=-i[1]*_;let E=Kc(M,y,v),R=Kc(O,g,x);if(s){let A=0,I=0;u&&S<0?A=ba(b+S+P,s[0][0]):!u&&S>0&&(A=wa(b+M+P,s[1][0])),c&&C<0?I=ba(j+C+$,s[0][1]):!c&&C>0&&(I=wa(j+O+$,s[1][1])),E=Math.max(E,A),R=Math.max(R,I)}if(o){let A=0,I=0;u&&S>0?A=wa(b+S,o[0][0]):!u&&S<0&&(A=ba(b+M,o[1][0])),c&&C>0?I=wa(j+C,o[0][1]):!c&&C<0&&(I=ba(j+O,o[1][1])),E=Math.max(E,A),R=Math.max(R,I)}if(a){if(d){const A=Kc(M/N,g,x)*N;if(E=Math.max(E,A),s){let I=0;!u&&!c||u&&!c&&h?I=wa(j+$+M/N,s[1][1])*N:I=ba(j+$+(u?S:-S)/N,s[0][1])*N,E=Math.max(E,I)}if(o){let I=0;!u&&!c||u&&!c&&h?I=ba(j+M/N,o[1][1])*N:I=wa(j+(u?S:-S)/N,o[0][1])*N,E=Math.max(E,I)}}if(f){const A=Kc(O*N,y,v)/N;if(R=Math.max(R,A),s){let I=0;!u&&!c||c&&!u&&h?I=wa(b+O*N+P,s[1][0])/N:I=ba(b+(c?C:-C)*N+P,s[0][0])/N,R=Math.max(R,I)}if(o){let I=0;!u&&!c||c&&!u&&h?I=ba(b+O*N,o[1][0])/N:I=wa(b+(c?C:-C)*N,o[0][0])/N,R=Math.max(R,I)}}}C=C+(C<0?R:-R),S=S+(S<0?E:-E),a&&(h?M>O*N?C=(Z1(u,c)?-S:S)/N:S=(Z1(u,c)?-C:C)*N:d?(C=S/N,c=u):(S=C*N,u=c));const D=u?b+S:b,L=c?j+C:j;return{width:k+(u?-S:S),height:_+(c?-C:C),x:i[0]*S*(u?-1:1)+D,y:i[1]*C*(c?-1:1)+L}}const jC={width:0,height:0,x:0,y:0},m8={...jC,pointerX:0,pointerY:0,aspectRatio:1};function p8(e){return[[0,0],[e.measured.width,e.measured.height]]}function g8(e,t,r){const n=t.position.x+e.position.x,a=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,o=r[0]*i,u=r[1]*s;return[[n-o,a-u],[n+i-o,a+s-u]]}function y8({domNode:e,nodeId:t,getStoreItems:r,onChange:n,onEnd:a}){const i=ur(e);let s={controlDirection:Q1("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function o({controlPosition:c,boundaries:d,keepAspectRatio:f,resizeDirection:h,onResizeStart:m,onResize:p,onResizeEnd:y,shouldResize:v}){let g={...jC},x={...m8};s={boundaries:d,resizeDirection:h,keepAspectRatio:f,controlDirection:Q1(c)};let b,j=null,k=[],_,N,S,C=!1;const M=AE().on("start",O=>{const{nodeLookup:P,transform:$,snapGrid:E,snapToGrid:R,nodeOrigin:D,paneDomNode:L}=r();if(b=P.get(t),!b)return;j=(L==null?void 0:L.getBoundingClientRect())??null;const{xSnapped:A,ySnapped:I}=$l(O.sourceEvent,{transform:$,snapGrid:E,snapToGrid:R,containerBounds:j});g={width:b.measured.width??0,height:b.measured.height??0,x:b.position.x??0,y:b.position.y??0},x={...g,pointerX:A,pointerY:I,aspectRatio:g.width/g.height},_=void 0,b.parentId&&(b.extent==="parent"||b.expandParent)&&(_=P.get(b.parentId),N=_&&b.extent==="parent"?p8(_):void 0),k=[],S=void 0;for(const[T,F]of P)if(F.parentId===t&&(k.push({id:T,position:{...F.position},extent:F.extent}),F.extent==="parent"||F.expandParent)){const B=g8(F,b,F.origin??D);S?S=[[Math.min(B[0][0],S[0][0]),Math.min(B[0][1],S[0][1])],[Math.max(B[1][0],S[1][0]),Math.max(B[1][1],S[1][1])]]:S=B}m==null||m(O,{...g})}).on("drag",O=>{const{transform:P,snapGrid:$,snapToGrid:E,nodeOrigin:R}=r(),D=$l(O.sourceEvent,{transform:P,snapGrid:$,snapToGrid:E,containerBounds:j}),L=[];if(!b)return;const{x:A,y:I,width:T,height:F}=g,B={},q=b.origin??R,{width:K,height:G,x:ie,y:J}=h8(x,s.controlDirection,D,s.boundaries,s.keepAspectRatio,q,N,S),X=K!==T,U=G!==F,Z=ie!==A&&X,Q=J!==I&&U;if(!Z&&!Q&&!X&&!U)return;if((Z||Q||q[0]===1||q[1]===1)&&(B.x=Z?ie:g.x,B.y=Q?J:g.y,g.x=B.x,g.y=B.y,k.length>0)){const he=ie-A,de=J-I;for(const Ie of k)Ie.position={x:Ie.position.x-he+q[0]*(K-T),y:Ie.position.y-de+q[1]*(G-F)},L.push(Ie)}if((X||U)&&(B.width=X&&(!s.resizeDirection||s.resizeDirection==="horizontal")?K:g.width,B.height=U&&(!s.resizeDirection||s.resizeDirection==="vertical")?G:g.height,g.width=B.width,g.height=B.height),_&&b.expandParent){const he=q[0]*(B.width??0);B.x&&B.x<he&&(g.x=he,x.x=x.x-(B.x-he));const de=q[1]*(B.height??0);B.y&&B.y<de&&(g.y=de,x.y=x.y-(B.y-de))}const V=f8({width:g.width,prevWidth:T,height:g.height,prevHeight:F,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),ae={...g,direction:V};(v==null?void 0:v(O,ae))!==!1&&(C=!0,p==null||p(O,ae),n(B,L))}).on("end",O=>{C&&(y==null||y(O,{...g}),a==null||a({...g}),C=!1)});i.call(M)}function u(){i.on(".drag",null)}return{update:o,destroy:u}}const{useDebugValue:v8}=Qr,{useSyncExternalStoreWithSelector:x8}=pE,b8=e=>e;function kC(e,t=b8,r){const n=x8(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return v8(n),n}const J1=(e,t)=>{const r=uE(e),n=(a,i=t)=>kC(r,a,i);return Object.assign(n,r),n},w8=(e,t)=>e?J1(e,t):J1;function $e(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const Lh=w.createContext(null),j8=Lh.Provider,NC=Nn.error001();function ve(e,t){const r=w.useContext(Lh);if(r===null)throw new Error(NC);return kC(r,e,t)}function ze(){const e=w.useContext(Lh);if(e===null)throw new Error(NC);return w.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const ej={display:"none"},k8={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},_C="react-flow__node-desc",SC="react-flow__edge-desc",N8="react-flow__aria-live",_8=e=>e.ariaLiveMessage,S8=e=>e.ariaLabelConfig;function E8({rfId:e}){const t=ve(_8);return l.jsx("div",{id:`${N8}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:k8,children:t})}function C8({rfId:e,disableKeyboardA11y:t}){const r=ve(S8);return l.jsxs(l.Fragment,{children:[l.jsx("div",{id:`${_C}-${e}`,style:ej,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),l.jsx("div",{id:`${SC}-${e}`,style:ej,children:r["edge.a11yDescription.default"]}),!t&&l.jsx(E8,{rfId:e})]})}const $h=w.forwardRef(({position:e="top-left",children:t,className:r,style:n,...a},i)=>{const s=`${e}`.split("-");return l.jsx("div",{className:tt(["react-flow__panel",r,...s]),style:n,ref:i,...a,children:t})});$h.displayName="Panel";function P8({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:l.jsx($h,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:l.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const O8=e=>{const t=[],r=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,n]of e.edgeLookup)n.selected&&r.push(n);return{selectedNodes:t,selectedEdges:r}},qc=e=>e.id;function A8(e,t){return $e(e.selectedNodes.map(qc),t.selectedNodes.map(qc))&&$e(e.selectedEdges.map(qc),t.selectedEdges.map(qc))}function T8({onSelectionChange:e}){const t=ze(),{selectedNodes:r,selectedEdges:n}=ve(O8,A8);return w.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(i=>i(a))},[r,n,e]),null}const M8=e=>!!e.onSelectionChangeHandlers;function I8({onSelectionChange:e}){const t=ve(M8);return e||t?l.jsx(T8,{onSelectionChange:e}):null}const EC=[0,0],D8={x:0,y:0,zoom:1},R8=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],tj=[...R8,"rfId"],L8=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),rj={translateExtent:uu,nodeOrigin:EC,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function $8(e){const{setNodes:t,setEdges:r,setMinZoom:n,setMaxZoom:a,setTranslateExtent:i,setNodeExtent:s,reset:o,setDefaultNodesAndEdges:u}=ve(L8,$e),c=ze();w.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{d.current=rj,o()}),[]);const d=w.useRef(rj);return w.useEffect(()=>{for(const f of tj){const h=e[f],m=d.current[f];h!==m&&(typeof e[f]>"u"||(f==="nodes"?t(h):f==="edges"?r(h):f==="minZoom"?n(h):f==="maxZoom"?a(h):f==="translateExtent"?i(h):f==="nodeExtent"?s(h):f==="ariaLabelConfig"?c.setState({ariaLabelConfig:OF(h)}):f==="fitView"?c.setState({fitViewQueued:h}):f==="fitViewOptions"?c.setState({fitViewOptions:h}):c.setState({[f]:h})))}d.current=e},tj.map(f=>e[f])),null}function nj(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function z8(e){var n;const[t,r]=w.useState(e==="system"?null:e);return w.useEffect(()=>{if(e!=="system"){r(e);return}const a=nj(),i=()=>r(a!=null&&a.matches?"dark":"light");return i(),a==null||a.addEventListener("change",i),()=>{a==null||a.removeEventListener("change",i)}},[e]),t!==null?t:(n=nj())!=null&&n.matches?"dark":"light"}const aj=typeof document<"u"?document:null;function hu(e=null,t={target:aj,actInsideInputWithModifier:!0}){const[r,n]=w.useState(!1),a=w.useRef(!1),i=w.useRef(new Set([])),[s,o]=w.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=c.reduce((f,h)=>f.concat(...h),[]);return[c,d]}return[[],[]]},[e]);return w.useEffect(()=>{const u=(t==null?void 0:t.target)??aj,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=m=>{var v,g;if(a.current=m.ctrlKey||m.metaKey||m.shiftKey||m.altKey,(!a.current||a.current&&!c)&&iC(m))return!1;const y=sj(m.code,o);if(i.current.add(m[y]),ij(s,i.current,!1)){const x=((g=(v=m.composedPath)==null?void 0:v.call(m))==null?void 0:g[0])||m.target,b=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";t.preventDefault!==!1&&(a.current||!b)&&m.preventDefault(),n(!0)}},f=m=>{const p=sj(m.code,o);ij(s,i.current,!0)?(n(!1),i.current.clear()):i.current.delete(m[p]),m.key==="Meta"&&i.current.clear(),a.current=!1},h=()=>{i.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,n]),r}function ij(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function sj(e,t){return t.includes(e)?"code":"key"}const F8=()=>{const e=ze();return w.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:n}=e.getState();return n?n.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[n,a,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??n,y:t.y??a,zoom:t.zoom??i},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,n]=e.getState().transform;return{x:t,y:r,zoom:n}},setCenter:async(t,r,n)=>e.getState().setCenter(t,r,n),fitBounds:async(t,r)=>{const{width:n,height:a,minZoom:i,maxZoom:s,panZoom:o}=e.getState(),u=Lv(t,n,a,i,s,(r==null?void 0:r.padding)??.1);return o?(await o.setViewport(u,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:n,snapGrid:a,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:o,y:u}=s.getBoundingClientRect(),c={x:t.x-o,y:t.y-u},d=r.snapGrid??a,f=r.snapToGrid??i;return Hu(c,n,f,d)},flowToScreenPosition:t=>{const{transform:r,domNode:n}=e.getState();if(!n)return t;const{x:a,y:i}=n.getBoundingClientRect(),s=vf(t,r);return{x:s.x+a,y:s.y+i}}}),[])};function CC(e,t){const r=[],n=new Map,a=[];for(const i of e)if(i.type==="add"){a.push(i);continue}else if(i.type==="remove"||i.type==="replace")n.set(i.id,[i]);else{const s=n.get(i.id);s?s.push(i):n.set(i.id,[i])}for(const i of t){const s=n.get(i.id);if(!s){r.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){r.push({...s[0].item});continue}const o={...i};for(const u of s)B8(u,o);r.push(o)}return a.length&&a.forEach(i=>{i.index!==void 0?r.splice(i.index,0,{...i.item}):r.push({...i.item})}),r}function B8(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function PC(e,t){return CC(e,t)}function OC(e,t){return CC(e,t)}function fi(e,t){return{id:e,type:"select",selected:t}}function Ms(e,t=new Set,r=!1){const n=[];for(const[a,i]of e){const s=t.has(a);!(i.selected===void 0&&!s)&&i.selected!==s&&(r&&(i.selected=s),n.push(fi(i.id,s)))}return n}function oj({items:e=[],lookup:t}){var a;const r=[],n=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const o=t.get(s.id),u=((a=o==null?void 0:o.internals)==null?void 0:a.userNode)??o;u!==void 0&&u!==s&&r.push({id:s.id,item:s,type:"replace"}),u===void 0&&r.push({item:s,type:"add",index:i})}for(const[i]of t)n.get(i)===void 0&&r.push({id:i,type:"remove"});return r}function lj(e){return{id:e.id,type:"remove"}}const uj=e=>bF(e),U8=e=>QE(e);function AC(e){return w.forwardRef(e)}const H8=typeof window<"u"?w.useLayoutEffect:w.useEffect;function cj(e){const[t,r]=w.useState(BigInt(0)),[n]=w.useState(()=>V8(()=>r(a=>a+BigInt(1))));return H8(()=>{const a=n.get();a.length&&(e(a),n.reset())},[t]),n}function V8(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const TC=w.createContext(null);function W8({children:e}){const t=ze(),r=w.useCallback(o=>{const{nodes:u=[],setNodes:c,hasDefaultNodes:d,onNodesChange:f,nodeLookup:h,fitViewQueued:m,onNodesChangeMiddlewareMap:p}=t.getState();let y=u;for(const g of o)y=typeof g=="function"?g(y):g;let v=oj({items:y,lookup:h});for(const g of p.values())v=g(v);d&&c(y),v.length>0?f==null||f(v):m&&window.requestAnimationFrame(()=>{const{fitViewQueued:g,nodes:x,setNodes:b}=t.getState();g&&b(x)})},[]),n=cj(r),a=w.useCallback(o=>{const{edges:u=[],setEdges:c,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:h}=t.getState();let m=u;for(const p of o)m=typeof p=="function"?p(m):p;d?c(m):f&&f(oj({items:m,lookup:h}))},[]),i=cj(a),s=w.useMemo(()=>({nodeQueue:n,edgeQueue:i}),[]);return l.jsx(TC.Provider,{value:s,children:e})}function K8(){const e=w.useContext(TC);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const q8=e=>!!e.panZoom;function Lo(){const e=F8(),t=ze(),r=K8(),n=ve(q8),a=w.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),s=f=>{r.nodeQueue.push(f)},o=f=>{r.edgeQueue.push(f)},u=f=>{var g,x;const{nodeLookup:h,nodeOrigin:m}=t.getState(),p=uj(f)?f:h.get(f.id),y=p.parentId?nC(p.position,p.measured,p.parentId,h,m):p.position,v={...p,position:y,width:((g=p.measured)==null?void 0:g.width)??p.width,height:((x=p.measured)==null?void 0:x.height)??p.height};return go(v)},c=(f,h,m={replace:!1})=>{s(p=>p.map(y=>{if(y.id===f){const v=typeof h=="function"?h(y):h;return m.replace&&uj(v)?v:{...y,...v}}return y}))},d=(f,h,m={replace:!1})=>{o(p=>p.map(y=>{if(y.id===f){const v=typeof h=="function"?h(y):h;return m.replace&&U8(v)?v:{...y,...v}}return y}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var h;return(h=i(f))==null?void 0:h.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(h=>({...h}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:s,setEdges:o,addNodes:f=>{const h=Array.isArray(f)?f:[f];r.nodeQueue.push(m=>[...m,...h])},addEdges:f=>{const h=Array.isArray(f)?f:[f];r.edgeQueue.push(m=>[...m,...h])},toObject:()=>{const{nodes:f=[],edges:h=[],transform:m}=t.getState(),[p,y,v]=m;return{nodes:f.map(g=>({...g})),edges:h.map(g=>({...g})),viewport:{x:p,y,zoom:v}}},deleteElements:async({nodes:f=[],edges:h=[]})=>{const{nodes:m,edges:p,onNodesDelete:y,onEdgesDelete:v,triggerNodeChanges:g,triggerEdgeChanges:x,onDelete:b,onBeforeDelete:j}=t.getState(),{nodes:k,edges:_}=await _F({nodesToRemove:f,edgesToRemove:h,nodes:m,edges:p,onBeforeDelete:j}),N=_.length>0,S=k.length>0;if(N){const C=_.map(lj);v==null||v(_),x(C)}if(S){const C=k.map(lj);y==null||y(k),g(C)}return(S||N)&&(b==null||b({nodes:k,edges:_})),{deletedNodes:k,deletedEdges:_}},getIntersectingNodes:(f,h=!0,m)=>{const p=F1(f),y=p?f:u(f),v=m!==void 0;return y?(m||t.getState().nodes).filter(g=>{const x=t.getState().nodeLookup.get(g.id);if(x&&!p&&(g.id===f.id||!x.internals.positionAbsolute))return!1;const b=go(v?g:x),j=du(b,y);return h&&j>0||j>=b.width*b.height||j>=y.width*y.height}):[]},isNodeIntersecting:(f,h,m=!0)=>{const y=F1(f)?f:u(f);if(!y)return!1;const v=du(y,h);return m&&v>0||v>=h.width*h.height||v>=y.width*y.height},updateNode:c,updateNodeData:(f,h,m={replace:!1})=>{c(f,p=>{const y=typeof h=="function"?h(p):h;return m.replace?{...p,data:y}:{...p,data:{...p.data,...y}}},m)},updateEdge:d,updateEdgeData:(f,h,m={replace:!1})=>{d(f,p=>{const y=typeof h=="function"?h(p):h;return m.replace?{...p,data:y}:{...p,data:{...p.data,...y}}},m)},getNodesBounds:f=>{const{nodeLookup:h,nodeOrigin:m}=t.getState();return wF(f,{nodeLookup:h,nodeOrigin:m})},getHandleConnections:({type:f,id:h,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}-${f}${h?`-${h}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:h,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}${f?h?`-${f}-${h}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const h=t.getState().fitViewResolver??PF();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:h}),r.nodeQueue.push(m=>[...m]),h.promise}}},[]);return w.useMemo(()=>({...a,...e,viewportInitialized:n}),[n])}const dj=e=>e.selected,Y8=typeof window<"u"?window:void 0;function X8({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=ze(),{deleteElements:n}=Lo(),a=hu(e,{actInsideInputWithModifier:!1}),i=hu(t,{target:Y8});w.useEffect(()=>{if(a){const{edges:s,nodes:o}=r.getState();n({nodes:o.filter(dj),edges:s.filter(dj)}),r.setState({nodesSelectionActive:!1})}},[a]),w.useEffect(()=>{r.setState({multiSelectionActive:i})},[i])}function G8(e){const t=ze();w.useEffect(()=>{const r=()=>{var a,i,s,o;if(!e.current||!(((i=(a=e.current).checkVisibility)==null?void 0:i.call(a))??!0))return!1;const n=$v(e.current);(n.height===0||n.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",Nn.error004())),t.setState({width:n.width||500,height:n.height||500})};if(e.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}}},[])}const zh={position:"absolute",width:"100%",height:"100%",top:0,left:0},Q8=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function Z8({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:a=.5,panOnScrollMode:i=Li.Free,zoomOnDoubleClick:s=!0,panOnDrag:o=!0,defaultViewport:u,translateExtent:c,minZoom:d,maxZoom:f,zoomActivationKeyCode:h,preventScrolling:m=!0,children:p,noWheelClassName:y,noPanClassName:v,onViewportChange:g,isControlledViewport:x,paneClickDistance:b,selectionOnDrag:j}){const k=ze(),_=w.useRef(null),{userSelectionActive:N,lib:S,connectionInProgress:C}=ve(Q8,$e),M=hu(h),O=w.useRef();G8(_);const P=w.useCallback($=>{g==null||g({x:$[0],y:$[1],zoom:$[2]}),x||k.setState({transform:$})},[g,x]);return w.useEffect(()=>{if(_.current){O.current=d8({domNode:_.current,minZoom:d,maxZoom:f,translateExtent:c,viewport:u,onDraggingChange:D=>k.setState({paneDragging:D}),onPanZoomStart:(D,L)=>{const{onViewportChangeStart:A,onMoveStart:I}=k.getState();I==null||I(D,L),A==null||A(L)},onPanZoom:(D,L)=>{const{onViewportChange:A,onMove:I}=k.getState();I==null||I(D,L),A==null||A(L)},onPanZoomEnd:(D,L)=>{const{onViewportChangeEnd:A,onMoveEnd:I}=k.getState();I==null||I(D,L),A==null||A(L)}});const{x:$,y:E,zoom:R}=O.current.getViewport();return k.setState({panZoom:O.current,transform:[$,E,R],domNode:_.current.closest(".react-flow")}),()=>{var D;(D=O.current)==null||D.destroy()}}},[]),w.useEffect(()=>{var $;($=O.current)==null||$.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:a,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:o,zoomActivationKeyPressed:M,preventScrolling:m,noPanClassName:v,userSelectionActive:N,noWheelClassName:y,lib:S,onTransformChange:P,connectionInProgress:C,selectionOnDrag:j,paneClickDistance:b})},[e,t,r,n,a,i,s,o,M,m,v,N,y,S,P,C,j,b]),l.jsx("div",{className:"react-flow__renderer",ref:_,style:zh,children:p})}const J8=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function e6(){const{userSelectionActive:e,userSelectionRect:t}=ve(J8,$e);return e&&t?l.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Ap=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},t6=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function r6({isSelecting:e,selectionKeyPressed:t,selectionMode:r=cu.Full,panOnDrag:n,paneClickDistance:a,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:u,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:m,children:p}){const y=ze(),{userSelectionActive:v,elementsSelectable:g,dragging:x,connectionInProgress:b}=ve(t6,$e),j=g&&(e||v),k=w.useRef(null),_=w.useRef(),N=w.useRef(new Set),S=w.useRef(new Set),C=w.useRef(!1),M=A=>{if(C.current||b){C.current=!1;return}u==null||u(A),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},O=A=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){A.preventDefault();return}c==null||c(A)},P=d?A=>d(A):void 0,$=A=>{C.current&&(A.stopPropagation(),C.current=!1)},E=A=>{var G,ie;const{domNode:I}=y.getState();if(_.current=I==null?void 0:I.getBoundingClientRect(),!_.current)return;const T=A.target===k.current;if(!T&&!!A.target.closest(".nokey")||!e||!(i&&T||t)||A.button!==0||!A.isPrimary)return;(ie=(G=A.target)==null?void 0:G.setPointerCapture)==null||ie.call(G,A.pointerId),C.current=!1;const{x:q,y:K}=Jr(A.nativeEvent,_.current);y.setState({userSelectionRect:{width:0,height:0,startX:q,startY:K,x:q,y:K}}),T||(A.stopPropagation(),A.preventDefault())},R=A=>{const{userSelectionRect:I,transform:T,nodeLookup:F,edgeLookup:B,connectionLookup:q,triggerNodeChanges:K,triggerEdgeChanges:G,defaultEdgeOptions:ie,resetSelectedElements:J}=y.getState();if(!_.current||!I)return;const{x:X,y:U}=Jr(A.nativeEvent,_.current),{startX:Z,startY:Q}=I;if(!C.current){const de=t?0:a;if(Math.hypot(X-Z,U-Q)<=de)return;J(),s==null||s(A)}C.current=!0;const V={startX:Z,startY:Q,x:X<Z?X:Z,y:U<Q?U:Q,width:Math.abs(X-Z),height:Math.abs(U-Q)},ae=N.current,se=S.current;N.current=new Set(Rv(F,V,T,r===cu.Partial,!0).map(de=>de.id)),S.current=new Set;const he=(ie==null?void 0:ie.selectable)??!0;for(const de of N.current){const Ie=q.get(de);if(Ie)for(const{edgeId:zr}of Ie.values()){const An=B.get(zr);An&&(An.selectable??he)&&S.current.add(zr)}}if(!B1(ae,N.current)){const de=Ms(F,N.current,!0);K(de)}if(!B1(se,S.current)){const de=Ms(B,S.current);G(de)}y.setState({userSelectionRect:V,userSelectionActive:!0,nodesSelectionActive:!1})},D=A=>{var I,T;A.button===0&&((T=(I=A.target)==null?void 0:I.releasePointerCapture)==null||T.call(I,A.pointerId),!v&&A.target===k.current&&y.getState().userSelectionRect&&(M==null||M(A)),y.setState({userSelectionActive:!1,userSelectionRect:null}),C.current&&(o==null||o(A),y.setState({nodesSelectionActive:N.current.size>0})))},L=n===!0||Array.isArray(n)&&n.includes(0);return l.jsxs("div",{className:tt(["react-flow__pane",{draggable:L,dragging:x,selection:e}]),onClick:j?void 0:Ap(M,k),onContextMenu:Ap(O,k),onWheel:Ap(P,k),onPointerEnter:j?void 0:f,onPointerMove:j?R:h,onPointerUp:j?D:void 0,onPointerDownCapture:j?E:void 0,onClickCapture:j?$:void 0,onPointerLeave:m,ref:k,style:zh,children:[p,l.jsx(e6,{})]})}function _y({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:o,onError:u}=t.getState(),c=o.get(e);if(!c){u==null||u("012",Nn.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(r||c.selected&&s)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):a([e])}function MC({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:i,nodeClickDistance:s}){const o=ze(),[u,c]=w.useState(!1),d=w.useRef();return w.useEffect(()=>{d.current=QF({getStoreItems:()=>o.getState(),onNodeMouseDown:f=>{_y({id:f,store:o,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),w.useEffect(()=>{var f,h;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(h=d.current)==null||h.update({noDragClassName:r,handleSelector:n,domNode:e.current,isSelectable:i,nodeId:a,nodeClickDistance:s}),()=>{var m;(m=d.current)==null||m.destroy()}},[r,n,t,i,e,a]),u}const n6=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function IC(){const e=ze();return w.useCallback(r=>{const{nodeExtent:n,snapToGrid:a,snapGrid:i,nodesDraggable:s,onError:o,updateNodePositions:u,nodeLookup:c,nodeOrigin:d}=e.getState(),f=new Map,h=n6(s),m=a?i[0]:5,p=a?i[1]:5,y=r.direction.x*m*r.factor,v=r.direction.y*p*r.factor;for(const[,g]of c){if(!h(g))continue;let x={x:g.internals.positionAbsolute.x+y,y:g.internals.positionAbsolute.y+v};a&&(x=Uu(x,i));const{position:b,positionAbsolute:j}=ZE({nodeId:g.id,nextPosition:x,nodeLookup:c,nodeExtent:n,nodeOrigin:d,onError:o});g.position=b,g.internals.positionAbsolute=j,f.set(g.id,g)}u(f)},[])}const Vv=w.createContext(null),a6=Vv.Provider;Vv.Consumer;const DC=()=>w.useContext(Vv),i6=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),s6=(e,t,r)=>n=>{const{connectionClickStartHandle:a,connectionMode:i,connection:s}=n,{fromHandle:o,toHandle:u,isValid:c}=s,d=(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===r;return{connectingFrom:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===r,connectingTo:d,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,isPossibleEndHandle:i===mo.Strict?(o==null?void 0:o.type)!==r:e!==(o==null?void 0:o.nodeId)||t!==(o==null?void 0:o.id),connectionInProcess:!!o,clickConnectionInProcess:!!a,valid:d&&c}};function o6({type:e="source",position:t=ue.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:i=!0,id:s,onConnect:o,children:u,className:c,onMouseDown:d,onTouchStart:f,...h},m){var R,D;const p=s||null,y=e==="target",v=ze(),g=DC(),{connectOnClick:x,noPanClassName:b,rfId:j}=ve(i6,$e),{connectingFrom:k,connectingTo:_,clickConnecting:N,isPossibleEndHandle:S,connectionInProcess:C,clickConnectionInProcess:M,valid:O}=ve(s6(g,p,e),$e);g||(D=(R=v.getState()).onError)==null||D.call(R,"010",Nn.error010());const P=L=>{const{defaultEdgeOptions:A,onConnect:I,hasDefaultEdges:T}=v.getState(),F={...A,...L};if(T){const{edges:B,setEdges:q}=v.getState();q(cC(F,B))}I==null||I(F),o==null||o(F)},$=L=>{if(!g)return;const A=sC(L.nativeEvent);if(a&&(A&&L.button===0||!A)){const I=v.getState();Ny.onPointerDown(L.nativeEvent,{handleDomNode:L.currentTarget,autoPanOnConnect:I.autoPanOnConnect,connectionMode:I.connectionMode,connectionRadius:I.connectionRadius,domNode:I.domNode,nodeLookup:I.nodeLookup,lib:I.lib,isTarget:y,handleId:p,nodeId:g,flowId:I.rfId,panBy:I.panBy,cancelConnection:I.cancelConnection,onConnectStart:I.onConnectStart,onConnectEnd:I.onConnectEnd,updateConnection:I.updateConnection,onConnect:P,isValidConnection:r||I.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:I.autoPanSpeed,dragThreshold:I.connectionDragThreshold})}A?d==null||d(L):f==null||f(L)},E=L=>{const{onClickConnectStart:A,onClickConnectEnd:I,connectionClickStartHandle:T,connectionMode:F,isValidConnection:B,lib:q,rfId:K,nodeLookup:G,connection:ie}=v.getState();if(!g||!T&&!a)return;if(!T){A==null||A(L.nativeEvent,{nodeId:g,handleId:p,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:g,type:e,id:p}});return}const J=aC(L.target),X=r||B,{connection:U,isValid:Z}=Ny.isValid(L.nativeEvent,{handle:{nodeId:g,id:p,type:e},connectionMode:F,fromNodeId:T.nodeId,fromHandleId:T.id||null,fromType:T.type,isValidConnection:X,flowId:K,doc:J,lib:q,nodeLookup:G});Z&&U&&P(U);const Q=structuredClone(ie);delete Q.inProgress,Q.toPosition=Q.toHandle?Q.toHandle.position:null,I==null||I(L,Q),v.setState({connectionClickStartHandle:null})};return l.jsx("div",{"data-handleid":p,"data-nodeid":g,"data-handlepos":t,"data-id":`${j}-${g}-${p}-${e}`,className:tt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",b,c,{source:!y,target:y,connectable:n,connectablestart:a,connectableend:i,clickconnecting:N,connectingfrom:k,connectingto:_,valid:O,connectionindicator:n&&(!C||S)&&(C||M?i:a)}]),onMouseDown:$,onTouchStart:$,onClick:x?E:void 0,ref:m,...h,children:u})}const xo=w.memo(AC(o6));function l6({data:e,isConnectable:t,sourcePosition:r=ue.Bottom}){return l.jsxs(l.Fragment,{children:[e==null?void 0:e.label,l.jsx(xo,{type:"source",position:r,isConnectable:t})]})}function u6({data:e,isConnectable:t,targetPosition:r=ue.Top,sourcePosition:n=ue.Bottom}){return l.jsxs(l.Fragment,{children:[l.jsx(xo,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,l.jsx(xo,{type:"source",position:n,isConnectable:t})]})}function c6(){return null}function d6({data:e,isConnectable:t,targetPosition:r=ue.Top}){return l.jsxs(l.Fragment,{children:[l.jsx(xo,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const bf={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},fj={input:l6,default:u6,output:d6,group:c6};function f6(e){var t,r,n,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((n=e.style)==null?void 0:n.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const h6=e=>{const{width:t,height:r,x:n,y:a}=Bu(e.nodeLookup,{filter:i=>!!i.selected});return{width:Zr(t)?t:null,height:Zr(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${n}px,${a}px)`}};function m6({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=ze(),{width:a,height:i,transformString:s,userSelectionActive:o}=ve(h6,$e),u=IC(),c=w.useRef(null);if(w.useEffect(()=>{var h;r||(h=c.current)==null||h.focus({preventScroll:!0})},[r]),MC({nodeRef:c}),o||!a||!i)return null;const d=e?h=>{const m=n.getState().nodes.filter(p=>p.selected);e(h,m)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(bf,h.key)&&(h.preventDefault(),u({direction:bf[h.key],factor:h.shiftKey?4:1}))};return l.jsx("div",{className:tt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:l.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:r?void 0:-1,onKeyDown:r?void 0:f,style:{width:a,height:i}})})}const hj=typeof window<"u"?window:void 0,p6=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function RC({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:o,deleteKeyCode:u,selectionKeyCode:c,selectionOnDrag:d,selectionMode:f,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:p,panActivationKeyCode:y,zoomActivationKeyCode:v,elementsSelectable:g,zoomOnScroll:x,zoomOnPinch:b,panOnScroll:j,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:S,defaultViewport:C,translateExtent:M,minZoom:O,maxZoom:P,preventScrolling:$,onSelectionContextMenu:E,noWheelClassName:R,noPanClassName:D,disableKeyboardA11y:L,onViewportChange:A,isControlledViewport:I}){const{nodesSelectionActive:T,userSelectionActive:F}=ve(p6,$e),B=hu(c,{target:hj}),q=hu(y,{target:hj}),K=q||S,G=q||j,ie=d&&K!==!0,J=B||F||ie;return X8({deleteKeyCode:u,multiSelectionKeyCode:p}),l.jsx(Z8,{onPaneContextMenu:i,elementsSelectable:g,zoomOnScroll:x,zoomOnPinch:b,panOnScroll:G,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:!B&&K,defaultViewport:C,translateExtent:M,minZoom:O,maxZoom:P,zoomActivationKeyCode:v,preventScrolling:$,noWheelClassName:R,noPanClassName:D,onViewportChange:A,isControlledViewport:I,paneClickDistance:o,selectionOnDrag:ie,children:l.jsxs(r6,{onSelectionStart:h,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:K,isSelecting:!!J,selectionMode:f,selectionKeyPressed:B,paneClickDistance:o,selectionOnDrag:ie,children:[e,T&&l.jsx(m6,{onSelectionContextMenu:E,noPanClassName:D,disableKeyboardA11y:L})]})})}RC.displayName="FlowRenderer";const g6=w.memo(RC),y6=e=>t=>e?Rv(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function v6(e){return ve(w.useCallback(y6(e),[e]),$e)}const x6=e=>e.updateNodeInternals;function b6(){const e=ve(x6),[t]=w.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(a=>{const i=a.target.getAttribute("data-id");n.set(i,{id:i,nodeElement:a.target,force:!0})}),e(n)}));return w.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function w6({node:e,nodeType:t,hasDimensions:r,resizeObserver:n}){const a=ze(),i=w.useRef(null),s=w.useRef(null),o=w.useRef(e.sourcePosition),u=w.useRef(e.targetPosition),c=w.useRef(t),d=r&&!!e.internals.handleBounds;return w.useEffect(()=>{i.current&&!e.hidden&&(!d||s.current!==i.current)&&(s.current&&(n==null||n.unobserve(s.current)),n==null||n.observe(i.current),s.current=i.current)},[d,e.hidden]),w.useEffect(()=>()=>{s.current&&(n==null||n.unobserve(s.current),s.current=null)},[]),w.useEffect(()=>{if(i.current){const f=c.current!==t,h=o.current!==e.sourcePosition,m=u.current!==e.targetPosition;(f||h||m)&&(c.current=t,o.current=e.sourcePosition,u.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function j6({id:e,onClick:t,onMouseEnter:r,onMouseMove:n,onMouseLeave:a,onContextMenu:i,onDoubleClick:s,nodesDraggable:o,elementsSelectable:u,nodesConnectable:c,nodesFocusable:d,resizeObserver:f,noDragClassName:h,noPanClassName:m,disableKeyboardA11y:p,rfId:y,nodeTypes:v,nodeClickDistance:g,onError:x}){const{node:b,internals:j,isParent:k}=ve(X=>{const U=X.nodeLookup.get(e),Z=X.parentLookup.has(e);return{node:U,internals:U.internals,isParent:Z}},$e);let _=b.type||"default",N=(v==null?void 0:v[_])||fj[_];N===void 0&&(x==null||x("003",Nn.error003(_)),_="default",N=(v==null?void 0:v.default)||fj.default);const S=!!(b.draggable||o&&typeof b.draggable>"u"),C=!!(b.selectable||u&&typeof b.selectable>"u"),M=!!(b.connectable||c&&typeof b.connectable>"u"),O=!!(b.focusable||d&&typeof b.focusable>"u"),P=ze(),$=rC(b),E=w6({node:b,nodeType:_,hasDimensions:$,resizeObserver:f}),R=MC({nodeRef:E,disabled:b.hidden||!S,noDragClassName:h,handleSelector:b.dragHandle,nodeId:e,isSelectable:C,nodeClickDistance:g}),D=IC();if(b.hidden)return null;const L=da(b),A=f6(b),I=C||S||t||r||n||a,T=r?X=>r(X,{...j.userNode}):void 0,F=n?X=>n(X,{...j.userNode}):void 0,B=a?X=>a(X,{...j.userNode}):void 0,q=i?X=>i(X,{...j.userNode}):void 0,K=s?X=>s(X,{...j.userNode}):void 0,G=X=>{const{selectNodesOnDrag:U,nodeDragThreshold:Z}=P.getState();C&&(!U||!S||Z>0)&&_y({id:e,store:P,nodeRef:E}),t&&t(X,{...j.userNode})},ie=X=>{if(!(iC(X.nativeEvent)||p)){if(qE.includes(X.key)&&C){const U=X.key==="Escape";_y({id:e,store:P,unselect:U,nodeRef:E})}else if(S&&b.selected&&Object.prototype.hasOwnProperty.call(bf,X.key)){X.preventDefault();const{ariaLabelConfig:U}=P.getState();P.setState({ariaLiveMessage:U["node.a11yDescription.ariaLiveMessage"]({direction:X.key.replace("Arrow","").toLowerCase(),x:~~j.positionAbsolute.x,y:~~j.positionAbsolute.y})}),D({direction:bf[X.key],factor:X.shiftKey?4:1})}}},J=()=>{var se;if(p||!((se=E.current)!=null&&se.matches(":focus-visible")))return;const{transform:X,width:U,height:Z,autoPanOnNodeFocus:Q,setCenter:V}=P.getState();if(!Q)return;Rv(new Map([[e,b]]),{x:0,y:0,width:U,height:Z},X,!0).length>0||V(b.position.x+L.width/2,b.position.y+L.height/2,{zoom:X[2]})};return l.jsx("div",{className:tt(["react-flow__node",`react-flow__node-${_}`,{[m]:S},b.className,{selected:b.selected,selectable:C,parent:k,draggable:S,dragging:R}]),ref:E,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:I?"all":"none",visibility:$?"visible":"hidden",...b.style,...A},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:T,onMouseMove:F,onMouseLeave:B,onContextMenu:q,onClick:G,onDoubleClick:K,onKeyDown:O?ie:void 0,tabIndex:O?0:void 0,onFocus:O?J:void 0,role:b.ariaRole??(O?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${_C}-${y}`,"aria-label":b.ariaLabel,...b.domAttributes,children:l.jsx(a6,{value:e,children:l.jsx(N,{id:e,data:b.data,type:_,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:b.selected??!1,selectable:C,draggable:S,deletable:b.deletable??!0,isConnectable:M,sourcePosition:b.sourcePosition,targetPosition:b.targetPosition,dragging:R,dragHandle:b.dragHandle,zIndex:j.z,parentId:b.parentId,...L})})})}var k6=w.memo(j6);const N6=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function LC(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,onError:i}=ve(N6,$e),s=v6(e.onlyRenderVisibleElements),o=b6();return l.jsx("div",{className:"react-flow__nodes",style:zh,children:s.map(u=>l.jsx(k6,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:o,nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:i},u))})}LC.displayName="NodeRenderer";const _6=w.memo(LC);function S6(e){return ve(w.useCallback(r=>{if(!e)return r.edges.map(a=>a.id);const n=[];if(r.width&&r.height)for(const a of r.edges){const i=r.nodeLookup.get(a.source),s=r.nodeLookup.get(a.target);i&&s&&MF({sourceNode:i,targetNode:s,width:r.width,height:r.height,transform:r.transform})&&n.push(a.id)}return n},[e]),$e)}const E6=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return l.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},C6=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return l.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},mj={[gf.Arrow]:E6,[gf.ArrowClosed]:C6};function P6(e){const t=ze();return w.useMemo(()=>{var a,i;return Object.prototype.hasOwnProperty.call(mj,e)?mj[e]:((i=(a=t.getState()).onError)==null||i.call(a,"009",Nn.error009(e)),null)},[e])}const O6=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:o="auto-start-reverse"})=>{const u=P6(t);return u?l.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:o,refX:"0",refY:"0",children:l.jsx(u,{color:r,strokeWidth:s})}):null},$C=({defaultColor:e,rfId:t})=>{const r=ve(i=>i.edges),n=ve(i=>i.defaultEdgeOptions),a=w.useMemo(()=>FF(r,{id:t,defaultColor:e,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,t,e]);return a.length?l.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:l.jsx("defs",{children:a.map(i=>l.jsx(O6,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};$C.displayName="MarkerDefinitions";var A6=w.memo($C);function zC({x:e,y:t,label:r,labelStyle:n,labelShowBg:a=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:o=2,children:u,className:c,...d}){const[f,h]=w.useState({x:1,y:0,width:0,height:0}),m=tt(["react-flow__edge-textwrapper",c]),p=w.useRef(null);return w.useEffect(()=>{if(p.current){const y=p.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[r]),r?l.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:m,visibility:f.width?"visible":"hidden",...d,children:[a&&l.jsx("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:o,ry:o}),l.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:n,children:r}),u]}):null}zC.displayName="EdgeText";const T6=w.memo(zC);function bo({path:e,labelX:t,labelY:r,label:n,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:o,labelBgBorderRadius:u,interactionWidth:c=20,...d}){return l.jsxs(l.Fragment,{children:[l.jsx("path",{...d,d:e,fill:"none",className:tt(["react-flow__edge-path",d.className])}),c?l.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,n&&Zr(t)&&Zr(r)?l.jsx(T6,{x:t,y:r,label:n,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:o,labelBgBorderRadius:u}):null]})}function pj({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===ue.Left||e===ue.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function FC({sourceX:e,sourceY:t,sourcePosition:r=ue.Bottom,targetX:n,targetY:a,targetPosition:i=ue.Top}){const[s,o]=pj({pos:r,x1:e,y1:t,x2:n,y2:a}),[u,c]=pj({pos:i,x1:n,y1:a,x2:e,y2:t}),[d,f,h,m]=oC({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:s,sourceControlY:o,targetControlX:u,targetControlY:c});return[`M${e},${t} C${s},${o} ${u},${c} ${n},${a}`,d,f,h,m]}function BC(e){return w.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,sourcePosition:s,targetPosition:o,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:y,markerStart:v,interactionWidth:g})=>{const[x,b,j]=FC({sourceX:r,sourceY:n,sourcePosition:s,targetX:a,targetY:i,targetPosition:o}),k=e.isInternal?void 0:t;return l.jsx(bo,{id:k,path:x,labelX:b,labelY:j,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:y,markerStart:v,interactionWidth:g})})}const M6=BC({isInternal:!1}),UC=BC({isInternal:!0});M6.displayName="SimpleBezierEdge";UC.displayName="SimpleBezierEdgeInternal";function HC(e){return w.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:m=ue.Bottom,targetPosition:p=ue.Top,markerEnd:y,markerStart:v,pathOptions:g,interactionWidth:x})=>{const[b,j,k]=xf({sourceX:r,sourceY:n,sourcePosition:m,targetX:a,targetY:i,targetPosition:p,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset,stepPosition:g==null?void 0:g.stepPosition}),_=e.isInternal?void 0:t;return l.jsx(bo,{id:_,path:b,labelX:j,labelY:k,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:y,markerStart:v,interactionWidth:x})})}const VC=HC({isInternal:!1}),WC=HC({isInternal:!0});VC.displayName="SmoothStepEdge";WC.displayName="SmoothStepEdgeInternal";function KC(e){return w.memo(({id:t,...r})=>{var a;const n=e.isInternal?void 0:t;return l.jsx(VC,{...r,id:n,pathOptions:w.useMemo(()=>{var i;return{borderRadius:0,offset:(i=r.pathOptions)==null?void 0:i.offset}},[(a=r.pathOptions)==null?void 0:a.offset])})})}const I6=KC({isInternal:!1}),qC=KC({isInternal:!0});I6.displayName="StepEdge";qC.displayName="StepEdgeInternal";function YC(e){return w.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:p,interactionWidth:y})=>{const[v,g,x]=dC({sourceX:r,sourceY:n,targetX:a,targetY:i}),b=e.isInternal?void 0:t;return l.jsx(bo,{id:b,path:v,labelX:g,labelY:x,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:p,interactionWidth:y})})}const D6=YC({isInternal:!1}),XC=YC({isInternal:!0});D6.displayName="StraightEdge";XC.displayName="StraightEdgeInternal";function GC(e){return w.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,sourcePosition:s=ue.Bottom,targetPosition:o=ue.Top,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:y,markerStart:v,pathOptions:g,interactionWidth:x})=>{const[b,j,k]=lC({sourceX:r,sourceY:n,sourcePosition:s,targetX:a,targetY:i,targetPosition:o,curvature:g==null?void 0:g.curvature}),_=e.isInternal?void 0:t;return l.jsx(bo,{id:_,path:b,labelX:j,labelY:k,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:y,markerStart:v,interactionWidth:x})})}const R6=GC({isInternal:!1}),QC=GC({isInternal:!0});R6.displayName="BezierEdge";QC.displayName="BezierEdgeInternal";const gj={default:QC,straight:XC,step:qC,smoothstep:WC,simplebezier:UC},yj={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},L6=(e,t,r)=>r===ue.Left?e-t:r===ue.Right?e+t:e,$6=(e,t,r)=>r===ue.Top?e-t:r===ue.Bottom?e+t:e,vj="react-flow__edgeupdater";function xj({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:i,onMouseOut:s,type:o}){return l.jsx("circle",{onMouseDown:a,onMouseEnter:i,onMouseOut:s,className:tt([vj,`${vj}-${o}`]),cx:L6(t,n,e),cy:$6(r,n,e),r:n,stroke:"transparent",fill:"transparent"})}function z6({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:n,sourceY:a,targetX:i,targetY:s,sourcePosition:o,targetPosition:u,onReconnect:c,onReconnectStart:d,onReconnectEnd:f,setReconnecting:h,setUpdateHover:m}){const p=ze(),y=(j,k)=>{if(j.button!==0)return;const{autoPanOnConnect:_,domNode:N,isValidConnection:S,connectionMode:C,connectionRadius:M,lib:O,onConnectStart:P,onConnectEnd:$,cancelConnection:E,nodeLookup:R,rfId:D,panBy:L,updateConnection:A}=p.getState(),I=k.type==="target",T=(q,K)=>{h(!1),f==null||f(q,r,k.type,K)},F=q=>c==null?void 0:c(r,q),B=(q,K)=>{h(!0),d==null||d(j,r,k.type),P==null||P(q,K)};Ny.onPointerDown(j.nativeEvent,{autoPanOnConnect:_,connectionMode:C,connectionRadius:M,domNode:N,handleId:k.id,nodeId:k.nodeId,nodeLookup:R,isTarget:I,edgeUpdaterType:k.type,lib:O,flowId:D,cancelConnection:E,panBy:L,isValidConnection:S,onConnect:F,onConnectStart:B,onConnectEnd:$,onReconnectEnd:T,updateConnection:A,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:j.currentTarget})},v=j=>y(j,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),g=j=>y(j,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),x=()=>m(!0),b=()=>m(!1);return l.jsxs(l.Fragment,{children:[(e===!0||e==="source")&&l.jsx(xj,{position:o,centerX:n,centerY:a,radius:t,onMouseDown:v,onMouseEnter:x,onMouseOut:b,type:"source"}),(e===!0||e==="target")&&l.jsx(xj,{position:u,centerX:i,centerY:s,radius:t,onMouseDown:g,onMouseEnter:x,onMouseOut:b,type:"target"})]})}function F6({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:n,onClick:a,onDoubleClick:i,onContextMenu:s,onMouseEnter:o,onMouseMove:u,onMouseLeave:c,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,rfId:p,edgeTypes:y,noPanClassName:v,onError:g,disableKeyboardA11y:x}){let b=ve(V=>V.edgeLookup.get(e));const j=ve(V=>V.defaultEdgeOptions);b=j?{...j,...b}:b;let k=b.type||"default",_=(y==null?void 0:y[k])||gj[k];_===void 0&&(g==null||g("011",Nn.error011(k)),k="default",_=(y==null?void 0:y.default)||gj.default);const N=!!(b.focusable||t&&typeof b.focusable>"u"),S=typeof f<"u"&&(b.reconnectable||r&&typeof b.reconnectable>"u"),C=!!(b.selectable||n&&typeof b.selectable>"u"),M=w.useRef(null),[O,P]=w.useState(!1),[$,E]=w.useState(!1),R=ze(),{zIndex:D,sourceX:L,sourceY:A,targetX:I,targetY:T,sourcePosition:F,targetPosition:B}=ve(w.useCallback(V=>{const ae=V.nodeLookup.get(b.source),se=V.nodeLookup.get(b.target);if(!ae||!se)return{zIndex:b.zIndex,...yj};const he=zF({id:e,sourceNode:ae,targetNode:se,sourceHandle:b.sourceHandle||null,targetHandle:b.targetHandle||null,connectionMode:V.connectionMode,onError:g});return{zIndex:TF({selected:b.selected,zIndex:b.zIndex,sourceNode:ae,targetNode:se,elevateOnSelect:V.elevateEdgesOnSelect,zIndexMode:V.zIndexMode}),...he||yj}},[b.source,b.target,b.sourceHandle,b.targetHandle,b.selected,b.zIndex]),$e),q=w.useMemo(()=>b.markerStart?`url('#${jy(b.markerStart,p)}')`:void 0,[b.markerStart,p]),K=w.useMemo(()=>b.markerEnd?`url('#${jy(b.markerEnd,p)}')`:void 0,[b.markerEnd,p]);if(b.hidden||L===null||A===null||I===null||T===null)return null;const G=V=>{var de;const{addSelectedEdges:ae,unselectNodesAndEdges:se,multiSelectionActive:he}=R.getState();C&&(R.setState({nodesSelectionActive:!1}),b.selected&&he?(se({nodes:[],edges:[b]}),(de=M.current)==null||de.blur()):ae([e])),a&&a(V,b)},ie=i?V=>{i(V,{...b})}:void 0,J=s?V=>{s(V,{...b})}:void 0,X=o?V=>{o(V,{...b})}:void 0,U=u?V=>{u(V,{...b})}:void 0,Z=c?V=>{c(V,{...b})}:void 0,Q=V=>{var ae;if(!x&&qE.includes(V.key)&&C){const{unselectNodesAndEdges:se,addSelectedEdges:he}=R.getState();V.key==="Escape"?((ae=M.current)==null||ae.blur(),se({edges:[b]})):he([e])}};return l.jsx("svg",{style:{zIndex:D},children:l.jsxs("g",{className:tt(["react-flow__edge",`react-flow__edge-${k}`,b.className,v,{selected:b.selected,animated:b.animated,inactive:!C&&!a,updating:O,selectable:C}]),onClick:G,onDoubleClick:ie,onContextMenu:J,onMouseEnter:X,onMouseMove:U,onMouseLeave:Z,onKeyDown:N?Q:void 0,tabIndex:N?0:void 0,role:b.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":b.ariaLabel===null?void 0:b.ariaLabel||`Edge from ${b.source} to ${b.target}`,"aria-describedby":N?`${SC}-${p}`:void 0,ref:M,...b.domAttributes,children:[!$&&l.jsx(_,{id:e,source:b.source,target:b.target,type:b.type,selected:b.selected,animated:b.animated,selectable:C,deletable:b.deletable??!0,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,sourceX:L,sourceY:A,targetX:I,targetY:T,sourcePosition:F,targetPosition:B,data:b.data,style:b.style,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerStart:q,markerEnd:K,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth}),S&&l.jsx(z6,{edge:b,isReconnectable:S,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,sourceX:L,sourceY:A,targetX:I,targetY:T,sourcePosition:F,targetPosition:B,setUpdateHover:P,setReconnecting:E})]})})}var B6=w.memo(F6);const U6=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ZC({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:n,noPanClassName:a,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:o,onEdgeMouseMove:u,onEdgeMouseLeave:c,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:m,onReconnectEnd:p,disableKeyboardA11y:y}){const{edgesFocusable:v,edgesReconnectable:g,elementsSelectable:x,onError:b}=ve(U6,$e),j=S6(t);return l.jsxs("div",{className:"react-flow__edges",children:[l.jsx(A6,{defaultColor:e,rfId:r}),j.map(k=>l.jsx(B6,{id:k,edgesFocusable:v,edgesReconnectable:g,elementsSelectable:x,noPanClassName:a,onReconnect:i,onContextMenu:s,onMouseEnter:o,onMouseMove:u,onMouseLeave:c,onClick:d,reconnectRadius:f,onDoubleClick:h,onReconnectStart:m,onReconnectEnd:p,rfId:r,onError:b,edgeTypes:n,disableKeyboardA11y:y},k))]})}ZC.displayName="EdgeRenderer";const H6=w.memo(ZC),V6=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function W6({children:e}){const t=ve(V6);return l.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function K6(e){const t=Lo(),r=w.useRef(!1);w.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const q6=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function Y6(e){const t=ve(q6),r=ze();return w.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function X6(e){return e.connection.inProgress?{...e.connection,to:Hu(e.connection.to,e.transform)}:{...e.connection}}function G6(e){return X6}function Q6(e){const t=G6();return ve(t,$e)}const Z6=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function J6({containerStyle:e,style:t,type:r,component:n}){const{nodesConnectable:a,width:i,height:s,isValid:o,inProgress:u}=ve(Z6,$e);return!(i&&a&&u)?null:l.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:l.jsx("g",{className:tt(["react-flow__connection",GE(o)]),children:l.jsx(JC,{style:t,type:r,CustomComponent:n,isValid:o})})})}const JC=({style:e,type:t=Pa.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:a,from:i,fromNode:s,fromHandle:o,fromPosition:u,to:c,toNode:d,toHandle:f,toPosition:h,pointer:m}=Q6();if(!a)return;if(r)return l.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:o,fromX:i.x,fromY:i.y,toX:c.x,toY:c.y,fromPosition:u,toPosition:h,connectionStatus:GE(n),toNode:d,toHandle:f,pointer:m});let p="";const y={sourceX:i.x,sourceY:i.y,sourcePosition:u,targetX:c.x,targetY:c.y,targetPosition:h};switch(t){case Pa.Bezier:[p]=lC(y);break;case Pa.SimpleBezier:[p]=FC(y);break;case Pa.Step:[p]=xf({...y,borderRadius:0});break;case Pa.SmoothStep:[p]=xf(y);break;default:[p]=dC(y)}return l.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};JC.displayName="ConnectionLine";const eB={};function bj(e=eB){w.useRef(e),ze(),w.useEffect(()=>{},[e])}function tB(){ze(),w.useRef(!1),w.useEffect(()=>{},[])}function eP({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:n,onEdgeClick:a,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:o,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:h,onSelectionEnd:m,connectionLineType:p,connectionLineStyle:y,connectionLineComponent:v,connectionLineContainerStyle:g,selectionKeyCode:x,selectionOnDrag:b,selectionMode:j,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:N,deleteKeyCode:S,onlyRenderVisibleElements:C,elementsSelectable:M,defaultViewport:O,translateExtent:P,minZoom:$,maxZoom:E,preventScrolling:R,defaultMarkerColor:D,zoomOnScroll:L,zoomOnPinch:A,panOnScroll:I,panOnScrollSpeed:T,panOnScrollMode:F,zoomOnDoubleClick:B,panOnDrag:q,onPaneClick:K,onPaneMouseEnter:G,onPaneMouseMove:ie,onPaneMouseLeave:J,onPaneScroll:X,onPaneContextMenu:U,paneClickDistance:Z,nodeClickDistance:Q,onEdgeContextMenu:V,onEdgeMouseEnter:ae,onEdgeMouseMove:se,onEdgeMouseLeave:he,reconnectRadius:de,onReconnect:Ie,onReconnectStart:zr,onReconnectEnd:An,noDragClassName:ui,noWheelClassName:Go,noPanClassName:Qo,disableKeyboardA11y:Zo,nodeExtent:qm,rfId:xc,viewport:hs,onViewportChange:Jo}){return bj(e),bj(t),tB(),K6(r),Y6(hs),l.jsx(g6,{onPaneClick:K,onPaneMouseEnter:G,onPaneMouseMove:ie,onPaneMouseLeave:J,onPaneContextMenu:U,onPaneScroll:X,paneClickDistance:Z,deleteKeyCode:S,selectionKeyCode:x,selectionOnDrag:b,selectionMode:j,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:N,elementsSelectable:M,zoomOnScroll:L,zoomOnPinch:A,zoomOnDoubleClick:B,panOnScroll:I,panOnScrollSpeed:T,panOnScrollMode:F,panOnDrag:q,defaultViewport:O,translateExtent:P,minZoom:$,maxZoom:E,onSelectionContextMenu:f,preventScrolling:R,noDragClassName:ui,noWheelClassName:Go,noPanClassName:Qo,disableKeyboardA11y:Zo,onViewportChange:Jo,isControlledViewport:!!hs,children:l.jsxs(W6,{children:[l.jsx(H6,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:s,onReconnect:Ie,onReconnectStart:zr,onReconnectEnd:An,onlyRenderVisibleElements:C,onEdgeContextMenu:V,onEdgeMouseEnter:ae,onEdgeMouseMove:se,onEdgeMouseLeave:he,reconnectRadius:de,defaultMarkerColor:D,noPanClassName:Qo,disableKeyboardA11y:Zo,rfId:xc}),l.jsx(J6,{style:y,type:p,component:v,containerStyle:g}),l.jsx("div",{className:"react-flow__edgelabel-renderer"}),l.jsx(_6,{nodeTypes:e,onNodeClick:n,onNodeDoubleClick:i,onNodeMouseEnter:o,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:d,nodeClickDistance:Q,onlyRenderVisibleElements:C,noPanClassName:Qo,noDragClassName:ui,disableKeyboardA11y:Zo,nodeExtent:qm,rfId:xc}),l.jsx("div",{className:"react-flow__viewport-portal"})]})})}eP.displayName="GraphView";const rB=w.memo(eP),wj=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:s,fitViewOptions:o,minZoom:u=.5,maxZoom:c=2,nodeOrigin:d,nodeExtent:f,zIndexMode:h="basic"}={})=>{const m=new Map,p=new Map,y=new Map,v=new Map,g=n??t??[],x=r??e??[],b=d??[0,0],j=f??uu;mC(y,v,g);const k=ky(x,m,p,{nodeOrigin:b,nodeExtent:j,zIndexMode:h});let _=[0,0,1];if(s&&a&&i){const N=Bu(m,{filter:O=>!!((O.width||O.initialWidth)&&(O.height||O.initialHeight))}),{x:S,y:C,zoom:M}=Lv(N,a,i,u,c,(o==null?void 0:o.padding)??.1);_=[S,C,M]}return{rfId:"1",width:a??0,height:i??0,transform:_,nodes:x,nodesInitialized:k,nodeLookup:m,parentLookup:p,edges:g,edgeLookup:v,connectionLookup:y,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:u,maxZoom:c,translateExtent:uu,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:mo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:o,fitViewResolver:null,connection:{...XE},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:SF,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:YE,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},nB=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:s,fitViewOptions:o,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h})=>w8((m,p)=>{async function y(){const{nodeLookup:v,panZoom:g,fitViewOptions:x,fitViewResolver:b,width:j,height:k,minZoom:_,maxZoom:N}=p();g&&(await NF({nodes:v,width:j,height:k,panZoom:g,minZoom:_,maxZoom:N},x),b==null||b.resolve(!0),m({fitViewResolver:null}))}return{...wj({nodes:e,edges:t,width:a,height:i,fitView:s,fitViewOptions:o,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f,defaultNodes:r,defaultEdges:n,zIndexMode:h}),setNodes:v=>{const{nodeLookup:g,parentLookup:x,nodeOrigin:b,elevateNodesOnSelect:j,fitViewQueued:k,zIndexMode:_}=p(),N=ky(v,g,x,{nodeOrigin:b,nodeExtent:f,elevateNodesOnSelect:j,checkEquality:!0,zIndexMode:_});k&&N?(y(),m({nodes:v,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):m({nodes:v,nodesInitialized:N})},setEdges:v=>{const{connectionLookup:g,edgeLookup:x}=p();mC(g,x,v),m({edges:v})},setDefaultNodesAndEdges:(v,g)=>{if(v){const{setNodes:x}=p();x(v),m({hasDefaultNodes:!0})}if(g){const{setEdges:x}=p();x(g),m({hasDefaultEdges:!0})}},updateNodeInternals:v=>{const{triggerNodeChanges:g,nodeLookup:x,parentLookup:b,domNode:j,nodeOrigin:k,nodeExtent:_,debug:N,fitViewQueued:S,zIndexMode:C}=p(),{changes:M,updatedInternals:O}=qF(v,x,b,j,k,_,C);O&&(HF(x,b,{nodeOrigin:k,nodeExtent:_,zIndexMode:C}),S?(y(),m({fitViewQueued:!1,fitViewOptions:void 0})):m({}),(M==null?void 0:M.length)>0&&(N&&console.log("React Flow: trigger node changes",M),g==null||g(M)))},updateNodePositions:(v,g=!1)=>{const x=[];let b=[];const{nodeLookup:j,triggerNodeChanges:k,connection:_,updateConnection:N,onNodesChangeMiddlewareMap:S}=p();for(const[C,M]of v){const O=j.get(C),P=!!(O!=null&&O.expandParent&&(O!=null&&O.parentId)&&(M!=null&&M.position)),$={id:C,type:"position",position:P?{x:Math.max(0,M.position.x),y:Math.max(0,M.position.y)}:M.position,dragging:g};if(O&&_.inProgress&&_.fromNode.id===O.id){const E=Qi(O,_.fromHandle,ue.Left,!0);N({..._,from:E})}P&&O.parentId&&x.push({id:C,parentId:O.parentId,rect:{...M.internals.positionAbsolute,width:M.measured.width??0,height:M.measured.height??0}}),b.push($)}if(x.length>0){const{parentLookup:C,nodeOrigin:M}=p(),O=Hv(x,j,C,M);b.push(...O)}for(const C of S.values())b=C(b);k(b)},triggerNodeChanges:v=>{const{onNodesChange:g,setNodes:x,nodes:b,hasDefaultNodes:j,debug:k}=p();if(v!=null&&v.length){if(j){const _=PC(v,b);x(_)}k&&console.log("React Flow: trigger node changes",v),g==null||g(v)}},triggerEdgeChanges:v=>{const{onEdgesChange:g,setEdges:x,edges:b,hasDefaultEdges:j,debug:k}=p();if(v!=null&&v.length){if(j){const _=OC(v,b);x(_)}k&&console.log("React Flow: trigger edge changes",v),g==null||g(v)}},addSelectedNodes:v=>{const{multiSelectionActive:g,edgeLookup:x,nodeLookup:b,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(g){const _=v.map(N=>fi(N,!0));j(_);return}j(Ms(b,new Set([...v]),!0)),k(Ms(x))},addSelectedEdges:v=>{const{multiSelectionActive:g,edgeLookup:x,nodeLookup:b,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(g){const _=v.map(N=>fi(N,!0));k(_);return}k(Ms(x,new Set([...v]))),j(Ms(b,new Set,!0))},unselectNodesAndEdges:({nodes:v,edges:g}={})=>{const{edges:x,nodes:b,nodeLookup:j,triggerNodeChanges:k,triggerEdgeChanges:_}=p(),N=v||b,S=g||x,C=N.map(O=>{const P=j.get(O.id);return P&&(P.selected=!1),fi(O.id,!1)}),M=S.map(O=>fi(O.id,!1));k(C),_(M)},setMinZoom:v=>{const{panZoom:g,maxZoom:x}=p();g==null||g.setScaleExtent([v,x]),m({minZoom:v})},setMaxZoom:v=>{const{panZoom:g,minZoom:x}=p();g==null||g.setScaleExtent([x,v]),m({maxZoom:v})},setTranslateExtent:v=>{var g;(g=p().panZoom)==null||g.setTranslateExtent(v),m({translateExtent:v})},resetSelectedElements:()=>{const{edges:v,nodes:g,triggerNodeChanges:x,triggerEdgeChanges:b,elementsSelectable:j}=p();if(!j)return;const k=g.reduce((N,S)=>S.selected?[...N,fi(S.id,!1)]:N,[]),_=v.reduce((N,S)=>S.selected?[...N,fi(S.id,!1)]:N,[]);x(k),b(_)},setNodeExtent:v=>{const{nodes:g,nodeLookup:x,parentLookup:b,nodeOrigin:j,elevateNodesOnSelect:k,nodeExtent:_,zIndexMode:N}=p();v[0][0]===_[0][0]&&v[0][1]===_[0][1]&&v[1][0]===_[1][0]&&v[1][1]===_[1][1]||(ky(g,x,b,{nodeOrigin:j,nodeExtent:v,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:N}),m({nodeExtent:v}))},panBy:v=>{const{transform:g,width:x,height:b,panZoom:j,translateExtent:k}=p();return YF({delta:v,panZoom:j,transform:g,translateExtent:k,width:x,height:b})},setCenter:async(v,g,x)=>{const{width:b,height:j,maxZoom:k,panZoom:_}=p();if(!_)return Promise.resolve(!1);const N=typeof(x==null?void 0:x.zoom)<"u"?x.zoom:k;return await _.setViewport({x:b/2-v*N,y:j/2-g*N,zoom:N},{duration:x==null?void 0:x.duration,ease:x==null?void 0:x.ease,interpolate:x==null?void 0:x.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{m({connection:{...XE}})},updateConnection:v=>{m({connection:v})},reset:()=>m({...wj()})}},Object.is);function tP({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:n,initialWidth:a,initialHeight:i,initialMinZoom:s,initialMaxZoom:o,initialFitViewOptions:u,fitView:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h,children:m}){const[p]=w.useState(()=>nB({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:c,minZoom:s,maxZoom:o,fitViewOptions:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h}));return l.jsx(j8,{value:p,children:l.jsx(W8,{children:m})})}function aB({children:e,nodes:t,edges:r,defaultNodes:n,defaultEdges:a,width:i,height:s,fitView:o,fitViewOptions:u,minZoom:c,maxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:m}){return w.useContext(Lh)?l.jsx(l.Fragment,{children:e}):l.jsx(tP,{initialNodes:t,initialEdges:r,defaultNodes:n,defaultEdges:a,initialWidth:i,initialHeight:s,fitView:o,initialFitViewOptions:u,initialMinZoom:c,initialMaxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:m,children:e})}const iB={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function sB({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:i,edgeTypes:s,onNodeClick:o,onEdgeClick:u,onInit:c,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:m,onConnectStart:p,onConnectEnd:y,onClickConnectStart:v,onClickConnectEnd:g,onNodeMouseEnter:x,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:_,onNodeDragStart:N,onNodeDrag:S,onNodeDragStop:C,onNodesDelete:M,onEdgesDelete:O,onDelete:P,onSelectionChange:$,onSelectionDragStart:E,onSelectionDrag:R,onSelectionDragStop:D,onSelectionContextMenu:L,onSelectionStart:A,onSelectionEnd:I,onBeforeDelete:T,connectionMode:F,connectionLineType:B=Pa.Bezier,connectionLineStyle:q,connectionLineComponent:K,connectionLineContainerStyle:G,deleteKeyCode:ie="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:X=!1,selectionMode:U=cu.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:Q=fu()?"Meta":"Control",zoomActivationKeyCode:V=fu()?"Meta":"Control",snapToGrid:ae,snapGrid:se,onlyRenderVisibleElements:he=!1,selectNodesOnDrag:de,nodesDraggable:Ie,autoPanOnNodeFocus:zr,nodesConnectable:An,nodesFocusable:ui,nodeOrigin:Go=EC,edgesFocusable:Qo,edgesReconnectable:Zo,elementsSelectable:qm=!0,defaultViewport:xc=D8,minZoom:hs=.5,maxZoom:Jo=2,translateExtent:Hb=uu,preventScrolling:tD=!0,nodeExtent:Ym,defaultMarkerColor:rD="#b1b1b7",zoomOnScroll:nD=!0,zoomOnPinch:aD=!0,panOnScroll:iD=!1,panOnScrollSpeed:sD=.5,panOnScrollMode:oD=Li.Free,zoomOnDoubleClick:lD=!0,panOnDrag:uD=!0,onPaneClick:cD,onPaneMouseEnter:dD,onPaneMouseMove:fD,onPaneMouseLeave:hD,onPaneScroll:mD,onPaneContextMenu:pD,paneClickDistance:gD=1,nodeClickDistance:yD=0,children:vD,onReconnect:xD,onReconnectStart:bD,onReconnectEnd:wD,onEdgeContextMenu:jD,onEdgeDoubleClick:kD,onEdgeMouseEnter:ND,onEdgeMouseMove:_D,onEdgeMouseLeave:SD,reconnectRadius:ED=10,onNodesChange:CD,onEdgesChange:PD,noDragClassName:OD="nodrag",noWheelClassName:AD="nowheel",noPanClassName:Vb="nopan",fitView:Wb,fitViewOptions:Kb,connectOnClick:TD,attributionPosition:MD,proOptions:ID,defaultEdgeOptions:DD,elevateNodesOnSelect:RD=!0,elevateEdgesOnSelect:LD=!1,disableKeyboardA11y:qb=!1,autoPanOnConnect:$D,autoPanOnNodeDrag:zD,autoPanSpeed:FD,connectionRadius:BD,isValidConnection:UD,onError:HD,style:VD,id:Yb,nodeDragThreshold:WD,connectionDragThreshold:KD,viewport:qD,onViewportChange:YD,width:XD,height:GD,colorMode:QD="light",debug:ZD,onScroll:bc,ariaLabelConfig:JD,zIndexMode:Xb="basic",...e3},t3){const Xm=Yb||"1",r3=z8(QD),n3=w.useCallback(Gb=>{Gb.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),bc==null||bc(Gb)},[bc]);return l.jsx("div",{"data-testid":"rf__wrapper",...e3,onScroll:n3,style:{...VD,...iB},ref:t3,className:tt(["react-flow",a,r3]),id:Yb,role:"application",children:l.jsxs(aB,{nodes:e,edges:t,width:XD,height:GD,fitView:Wb,fitViewOptions:Kb,minZoom:hs,maxZoom:Jo,nodeOrigin:Go,nodeExtent:Ym,zIndexMode:Xb,children:[l.jsx(rB,{onInit:c,onNodeClick:o,onEdgeClick:u,onNodeMouseEnter:x,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:_,nodeTypes:i,edgeTypes:s,connectionLineType:B,connectionLineStyle:q,connectionLineComponent:K,connectionLineContainerStyle:G,selectionKeyCode:J,selectionOnDrag:X,selectionMode:U,deleteKeyCode:ie,multiSelectionKeyCode:Q,panActivationKeyCode:Z,zoomActivationKeyCode:V,onlyRenderVisibleElements:he,defaultViewport:xc,translateExtent:Hb,minZoom:hs,maxZoom:Jo,preventScrolling:tD,zoomOnScroll:nD,zoomOnPinch:aD,zoomOnDoubleClick:lD,panOnScroll:iD,panOnScrollSpeed:sD,panOnScrollMode:oD,panOnDrag:uD,onPaneClick:cD,onPaneMouseEnter:dD,onPaneMouseMove:fD,onPaneMouseLeave:hD,onPaneScroll:mD,onPaneContextMenu:pD,paneClickDistance:gD,nodeClickDistance:yD,onSelectionContextMenu:L,onSelectionStart:A,onSelectionEnd:I,onReconnect:xD,onReconnectStart:bD,onReconnectEnd:wD,onEdgeContextMenu:jD,onEdgeDoubleClick:kD,onEdgeMouseEnter:ND,onEdgeMouseMove:_D,onEdgeMouseLeave:SD,reconnectRadius:ED,defaultMarkerColor:rD,noDragClassName:OD,noWheelClassName:AD,noPanClassName:Vb,rfId:Xm,disableKeyboardA11y:qb,nodeExtent:Ym,viewport:qD,onViewportChange:YD}),l.jsx($8,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:m,onConnectStart:p,onConnectEnd:y,onClickConnectStart:v,onClickConnectEnd:g,nodesDraggable:Ie,autoPanOnNodeFocus:zr,nodesConnectable:An,nodesFocusable:ui,edgesFocusable:Qo,edgesReconnectable:Zo,elementsSelectable:qm,elevateNodesOnSelect:RD,elevateEdgesOnSelect:LD,minZoom:hs,maxZoom:Jo,nodeExtent:Ym,onNodesChange:CD,onEdgesChange:PD,snapToGrid:ae,snapGrid:se,connectionMode:F,translateExtent:Hb,connectOnClick:TD,defaultEdgeOptions:DD,fitView:Wb,fitViewOptions:Kb,onNodesDelete:M,onEdgesDelete:O,onDelete:P,onNodeDragStart:N,onNodeDrag:S,onNodeDragStop:C,onSelectionDrag:R,onSelectionDragStart:E,onSelectionDragStop:D,onMove:d,onMoveStart:f,onMoveEnd:h,noPanClassName:Vb,nodeOrigin:Go,rfId:Xm,autoPanOnConnect:$D,autoPanOnNodeDrag:zD,autoPanSpeed:FD,onError:HD,connectionRadius:BD,isValidConnection:UD,selectNodesOnDrag:de,nodeDragThreshold:WD,connectionDragThreshold:KD,onBeforeDelete:T,debug:ZD,ariaLabelConfig:JD,zIndexMode:Xb}),l.jsx(I8,{onSelectionChange:$}),vD,l.jsx(P8,{proOptions:ID,position:MD}),l.jsx(C8,{rfId:Xm,disableKeyboardA11y:qb})]})})}var oB=AC(sB);const lB=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function uB({children:e}){const t=ve(lB);return t?Ru.createPortal(e,t):null}function cB({dimensions:e,lineWidth:t,variant:r,className:n}){return l.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:tt(["react-flow__background-pattern",r,n])})}function dB({radius:e,className:t}){return l.jsx("circle",{cx:e,cy:e,r:e,className:tt(["react-flow__background-pattern","dots",t])})}var Ga;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ga||(Ga={}));const fB={[Ga.Dots]:1,[Ga.Lines]:1,[Ga.Cross]:6},hB=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function rP({id:e,variant:t=Ga.Dots,gap:r=20,size:n,lineWidth:a=1,offset:i=0,color:s,bgColor:o,style:u,className:c,patternClassName:d}){const f=w.useRef(null),{transform:h,patternId:m}=ve(hB,$e),p=n||fB[t],y=t===Ga.Dots,v=t===Ga.Cross,g=Array.isArray(r)?r:[r,r],x=[g[0]*h[2]||1,g[1]*h[2]||1],b=p*h[2],j=Array.isArray(i)?i:[i,i],k=v?[b,b]:x,_=[j[0]*h[2]||1+k[0]/2,j[1]*h[2]||1+k[1]/2],N=`${m}${e||""}`;return l.jsxs("svg",{className:tt(["react-flow__background",c]),style:{...u,...zh,"--xy-background-color-props":o,"--xy-background-pattern-color-props":s},ref:f,"data-testid":"rf__background",children:[l.jsx("pattern",{id:N,x:h[0]%x[0],y:h[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:y?l.jsx(dB,{radius:b/2,className:d}):l.jsx(cB,{dimensions:k,lineWidth:a,variant:t,className:d})}),l.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}rP.displayName="Background";const mB=w.memo(rP);function pB(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:l.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function gB(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:l.jsx("path",{d:"M0 0h32v4.2H0z"})})}function yB(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:l.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function vB(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function xB(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Yc({children:e,className:t,...r}){return l.jsx("button",{type:"button",className:tt(["react-flow__controls-button",t]),...r,children:e})}const bB=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function nP({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:i,onZoomOut:s,onFitView:o,onInteractiveChange:u,className:c,children:d,position:f="bottom-left",orientation:h="vertical","aria-label":m}){const p=ze(),{isInteractive:y,minZoomReached:v,maxZoomReached:g,ariaLabelConfig:x}=ve(bB,$e),{zoomIn:b,zoomOut:j,fitView:k}=Lo(),_=()=>{b(),i==null||i()},N=()=>{j(),s==null||s()},S=()=>{k(a),o==null||o()},C=()=>{p.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),u==null||u(!y)},M=h==="horizontal"?"horizontal":"vertical";return l.jsxs($h,{className:tt(["react-flow__controls",M,c]),position:f,style:e,"data-testid":"rf__controls","aria-label":m??x["controls.ariaLabel"],children:[t&&l.jsxs(l.Fragment,{children:[l.jsx(Yc,{onClick:_,className:"react-flow__controls-zoomin",title:x["controls.zoomIn.ariaLabel"],"aria-label":x["controls.zoomIn.ariaLabel"],disabled:g,children:l.jsx(pB,{})}),l.jsx(Yc,{onClick:N,className:"react-flow__controls-zoomout",title:x["controls.zoomOut.ariaLabel"],"aria-label":x["controls.zoomOut.ariaLabel"],disabled:v,children:l.jsx(gB,{})})]}),r&&l.jsx(Yc,{className:"react-flow__controls-fitview",onClick:S,title:x["controls.fitView.ariaLabel"],"aria-label":x["controls.fitView.ariaLabel"],children:l.jsx(yB,{})}),n&&l.jsx(Yc,{className:"react-flow__controls-interactive",onClick:C,title:x["controls.interactive.ariaLabel"],"aria-label":x["controls.interactive.ariaLabel"],children:y?l.jsx(xB,{}):l.jsx(vB,{})}),d]})}nP.displayName="Controls";const wB=w.memo(nP);function jB({id:e,x:t,y:r,width:n,height:a,style:i,color:s,strokeColor:o,strokeWidth:u,className:c,borderRadius:d,shapeRendering:f,selected:h,onClick:m}){const{background:p,backgroundColor:y}=i||{},v=s||p||y;return l.jsx("rect",{className:tt(["react-flow__minimap-node",{selected:h},c]),x:t,y:r,rx:d,ry:d,width:n,height:a,style:{fill:v,stroke:o,strokeWidth:u},shapeRendering:f,onClick:m?g=>m(g,e):void 0})}const kB=w.memo(jB),NB=e=>e.nodes.map(t=>t.id),Tp=e=>e instanceof Function?e:()=>e;function _B({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:a,nodeComponent:i=kB,onClick:s}){const o=ve(NB,$e),u=Tp(t),c=Tp(e),d=Tp(r),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return l.jsx(l.Fragment,{children:o.map(h=>l.jsx(EB,{id:h,nodeColorFunc:u,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:n,nodeStrokeWidth:a,NodeComponent:i,onClick:s,shapeRendering:f},h))})}function SB({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:a,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:o,onClick:u}){const{node:c,x:d,y:f,width:h,height:m}=ve(p=>{const{internals:y}=p.nodeLookup.get(e),v=y.userNode,{x:g,y:x}=y.positionAbsolute,{width:b,height:j}=da(v);return{node:v,x:g,y:x,width:b,height:j}},$e);return!c||c.hidden||!rC(c)?null:l.jsx(o,{x:d,y:f,width:h,height:m,style:c.style,selected:!!c.selected,className:n(c),color:t(c),borderRadius:a,strokeColor:r(c),strokeWidth:i,shapeRendering:s,onClick:u,id:c.id})}const EB=w.memo(SB);var CB=w.memo(_B);const PB=200,OB=150,AB=e=>!e.hidden,TB=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?tC(Bu(e.nodeLookup,{filter:AB}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},MB="react-flow__minimap-desc";function aP({style:e,className:t,nodeStrokeColor:r,nodeColor:n,nodeClassName:a="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:o,bgColor:u,maskColor:c,maskStrokeColor:d,maskStrokeWidth:f,position:h="bottom-right",onClick:m,onNodeClick:p,pannable:y=!1,zoomable:v=!1,ariaLabel:g,inversePan:x,zoomStep:b=1,offsetScale:j=5}){const k=ze(),_=w.useRef(null),{boundingRect:N,viewBB:S,rfId:C,panZoom:M,translateExtent:O,flowWidth:P,flowHeight:$,ariaLabelConfig:E}=ve(TB,$e),R=(e==null?void 0:e.width)??PB,D=(e==null?void 0:e.height)??OB,L=N.width/R,A=N.height/D,I=Math.max(L,A),T=I*R,F=I*D,B=j*I,q=N.x-(T-N.width)/2-B,K=N.y-(F-N.height)/2-B,G=T+B*2,ie=F+B*2,J=`${MB}-${C}`,X=w.useRef(0),U=w.useRef();X.current=I,w.useEffect(()=>{if(_.current&&M)return U.current=n8({domNode:_.current,panZoom:M,getTransform:()=>k.getState().transform,getViewScale:()=>X.current}),()=>{var ae;(ae=U.current)==null||ae.destroy()}},[M]),w.useEffect(()=>{var ae;(ae=U.current)==null||ae.update({translateExtent:O,width:P,height:$,inversePan:x,pannable:y,zoomStep:b,zoomable:v})},[y,v,x,b,O,P,$]);const Z=m?ae=>{var de;const[se,he]=((de=U.current)==null?void 0:de.pointer(ae))||[0,0];m(ae,{x:se,y:he})}:void 0,Q=p?w.useCallback((ae,se)=>{const he=k.getState().nodeLookup.get(se).internals.userNode;p(ae,he)},[]):void 0,V=g??E["minimap.ariaLabel"];return l.jsx($h,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*I:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:tt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:l.jsxs("svg",{width:R,height:D,viewBox:`${q} ${K} ${G} ${ie}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":J,ref:_,onClick:Z,children:[V&&l.jsx("title",{id:J,children:V}),l.jsx(CB,{onClick:Q,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:i,nodeClassName:a,nodeStrokeWidth:s,nodeComponent:o}),l.jsx("path",{className:"react-flow__minimap-mask",d:`M${q-B},${K-B}h${G+B*2}v${ie+B*2}h${-G-B*2}z
        M${S.x},${S.y}h${S.width}v${S.height}h${-S.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}aP.displayName="MiniMap";w.memo(aP);const IB=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,DB={[vo.Line]:"right",[vo.Handle]:"bottom-right"};function RB({nodeId:e,position:t,variant:r=vo.Handle,className:n,style:a=void 0,children:i,color:s,minWidth:o=10,minHeight:u=10,maxWidth:c=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:h,autoScale:m=!0,shouldResize:p,onResizeStart:y,onResize:v,onResizeEnd:g}){const x=DC(),b=typeof e=="string"?e:x,j=ze(),k=w.useRef(null),_=r===vo.Handle,N=ve(w.useCallback(IB(_&&m),[_,m]),$e),S=w.useRef(null),C=t??DB[r];w.useEffect(()=>{if(!(!k.current||!b))return S.current||(S.current=y8({domNode:k.current,nodeId:b,getStoreItems:()=>{const{nodeLookup:O,transform:P,snapGrid:$,snapToGrid:E,nodeOrigin:R,domNode:D}=j.getState();return{nodeLookup:O,transform:P,snapGrid:$,snapToGrid:E,nodeOrigin:R,paneDomNode:D}},onChange:(O,P)=>{const{triggerNodeChanges:$,nodeLookup:E,parentLookup:R,nodeOrigin:D}=j.getState(),L=[],A={x:O.x,y:O.y},I=E.get(b);if(I&&I.expandParent&&I.parentId){const T=I.origin??D,F=O.width??I.measured.width??0,B=O.height??I.measured.height??0,q={id:I.id,parentId:I.parentId,rect:{width:F,height:B,...nC({x:O.x??I.position.x,y:O.y??I.position.y},{width:F,height:B},I.parentId,E,T)}},K=Hv([q],E,R,D);L.push(...K),A.x=O.x?Math.max(T[0]*F,O.x):void 0,A.y=O.y?Math.max(T[1]*B,O.y):void 0}if(A.x!==void 0&&A.y!==void 0){const T={id:b,type:"position",position:{...A}};L.push(T)}if(O.width!==void 0&&O.height!==void 0){const F={id:b,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:O.width,height:O.height}};L.push(F)}for(const T of P){const F={...T,type:"position"};L.push(F)}$(L)},onEnd:({width:O,height:P})=>{const $={id:b,type:"dimensions",resizing:!1,dimensions:{width:O,height:P}};j.getState().triggerNodeChanges([$])}})),S.current.update({controlPosition:C,boundaries:{minWidth:o,minHeight:u,maxWidth:c,maxHeight:d},keepAspectRatio:f,resizeDirection:h,onResizeStart:y,onResize:v,onResizeEnd:g,shouldResize:p}),()=>{var O;(O=S.current)==null||O.destroy()}},[C,o,u,c,d,f,y,v,g,p]);const M=C.split("-");return l.jsx("div",{className:tt(["react-flow__resize-control","nodrag",...M,r,n]),ref:k,style:{...a,scale:N,...s&&{[_?"backgroundColor":"borderColor"]:s}},children:i})}w.memo(RB);const me=Sv((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:r=>e({executionResult:r}),setGraph:(r,n)=>e({nodes:r,edges:n}),onNodesChange:r=>{e({nodes:PC(r,t().nodes)})},onEdgesChange:r=>{e({edges:OC(r,t().edges)})},onConnect:r=>{e({edges:cC(r,t().edges)})},addNode:(r,n,a={})=>{const i=be.get(r);if(!i)return console.error(`Node type ${r} not found in registry`),"";const s=`${r}-${Date.now()}`,o={id:s,type:"custom",position:n,data:{definitionType:r,catalogType:r,...i.getDefaultConfig(),...a}};return e({nodes:[...t().nodes,o]}),s},updateNodeData:(r,n)=>{e({nodes:t().nodes.map(a=>a.id===r?{...a,data:{...a.data,...n}}:a)})},validateGraph:async()=>{const{nodes:r,edges:n}=t();if(r.length===0)return!1;for(const a of r){const i=be.get(a.data.definitionType);if(i){const s=i.validate(a.data);if(!s.isValid)return console.warn(`Node ${a.id} validation failed: ${s.message}`),!1}}for(const a of r){const i=be.get(a.data.definitionType);if(i&&i.inputs.length>0&&!n.some(o=>o.target===a.id))return console.warn(`Node ${a.id} (${i.label}) is disconnected.`),!1}return!0}}));/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:u,...c},d)=>w.createElement("svg",{ref:d,...LB,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${$B(e)}`,o].join(" "),...c},[...t.map(([f,h])=>w.createElement(f,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=ee("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=ee("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=ee("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=ee("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=ee("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ee("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=ee("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=ee("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=ee("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=ee("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=ee("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=ee("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=ee("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=ee("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=ee("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=ee("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=ee("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=ee("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=ee("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=ee("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=ee("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=ee("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=ee("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=ee("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=ee("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=ee("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=ee("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=ee("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=ee("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),E7=()=>{const e=be.getAll(),t=me(o=>o.addNode),[r,n]=w.useState(""),a=(o,u)=>{o.dataTransfer.setData("application/reactflow",u),o.dataTransfer.effectAllowed="move"},i=e.filter(o=>o.label.toLowerCase().includes(r.toLowerCase())||o.category.toLowerCase().includes(r.toLowerCase())),s=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return l.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10",children:[l.jsxs("div",{className:"p-4 border-b space-y-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(os,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:r,onChange:o=>n(o.target.value)})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:s.map(o=>{const u=i.filter(c=>c.category===o);return u.length===0?null:l.jsxs("div",{children:[l.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:o}),l.jsx("div",{className:"space-y-2",children:u.map(c=>l.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:d=>a(d,c.type),onClick:()=>t(c.type,{x:100,y:100}),children:[l.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:c.icon&&l.jsx(c.icon,{className:"w-4 h-4 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium truncate",children:c.label}),l.jsx("div",{className:"text-xs text-muted-foreground truncate",children:c.description})]})]},c.type))})]},o)})})]})};function C7(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const{useRef:P7}=Qr;function O7(e){const t=P7();return r=>{const n=e(r);return C7(t.current,n)?t.current:t.current=n}}const A7=w.memo(({id:e,data:t,selected:r})=>{const n=t.definitionType,a=be.get(n),{deleteElements:i}=Lo(),s=me(c=>c.executionResult),o=s==null?void 0:s.node_results[e],u=c=>{c.stopPropagation(),i({nodes:[{id:e}]})};return a?l.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${r?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[l.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[l.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:a.icon&&l.jsx(a.icon,{className:"w-4 h-4 text-primary"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-sm font-bold",children:a.label}),o&&l.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${o.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:o.status==="success"?l.jsx(KB,{size:10}):l.jsx(qB,{size:10})})]}),l.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:a.category})]}),l.jsx("button",{onClick:u,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:l.jsx(_n,{size:14})})]}),l.jsx("div",{className:"p-3",children:a.component?l.jsx(a.component,{data:t}):l.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),a.inputs.map((c,d)=>l.jsx(xo,{type:"target",position:ue.Left,id:c.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(a.inputs.length+1)}%`},children:l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:c.label})},`input-${c.id}`)),a.outputs.map((c,d)=>l.jsx(xo,{type:"source",position:ue.Right,id:c.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(a.outputs.length+1)}%`},children:l.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:c.label})},`output-${c.id}`))]}):l.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[l.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[l.jsx(ei,{size:16}),l.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),l.jsxs("div",{className:"text-xs mt-1",children:["Type: ",n]})]})}),T7=({id:e,sourceX:t,sourceY:r,targetX:n,targetY:a,sourcePosition:i,targetPosition:s,style:o={},markerEnd:u})=>{const{deleteElements:c}=Lo(),[d,f,h]=xf({sourceX:t,sourceY:r,sourcePosition:i,targetX:n,targetY:a,targetPosition:s,borderRadius:24}),m=p=>{p.stopPropagation(),c({edges:[{id:e}]})};return l.jsxs(l.Fragment,{children:[l.jsx(bo,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),l.jsx(bo,{path:d,markerEnd:u,style:{...o,strokeWidth:2},className:"react-flow__edge-path"}),l.jsx(uB,{children:l.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${h}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:l.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:m,title:"Remove Connection",children:l.jsx(_n,{size:10})})})})]})},M7={custom:A7},I7={custom:T7},D7=()=>{const e=w.useRef(null),{screenToFlowPosition:t}=Lo(),{nodes:r,edges:n,onNodesChange:a,onEdgesChange:i,onConnect:s,addNode:o}=me(O7(d=>({nodes:d.nodes,edges:d.edges,onNodesChange:d.onNodesChange,onEdgesChange:d.onEdgesChange,onConnect:d.onConnect,addNode:d.addNode}))),u=w.useCallback(d=>{d.preventDefault(),d.dataTransfer.dropEffect="move"},[]),c=w.useCallback(d=>{d.preventDefault();const f=d.dataTransfer.getData("application/reactflow");if(typeof f>"u"||!f)return;const h=t({x:d.clientX,y:d.clientY});o(f,h)},[t,o]);return l.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:l.jsxs(oB,{nodes:r,edges:n,onNodesChange:a,onEdgesChange:i,onConnect:s,nodeTypes:M7,onDragOver:u,onDrop:c,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:I7,deleteKeyCode:["Backspace","Delete"],children:[l.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"edge-gradient",children:[l.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),l.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),l.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),l.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[l.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),l.jsxs("feMerge",{children:[l.jsx("feMergeNode",{in:"coloredBlur"}),l.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),l.jsx(mB,{}),l.jsx(wB,{position:"top-left"})]})})},R7=()=>l.jsx(tP,{children:l.jsx(D7,{})}),L7=()=>{const e=me(f=>f.nodes),t=me(f=>f.updateNodeData),r=me(f=>f.onNodesChange),[n,a]=w.useState(!1),i=e.find(f=>f.selected);if(!i)return l.jsxs("aside",{className:"w-80 border-l bg-background p-8 flex flex-col items-center justify-center text-muted-foreground text-center shrink-0",children:[l.jsx("div",{className:"p-4 bg-muted/50 rounded-full mb-4",children:l.jsx(Kv,{className:"w-8 h-8 opacity-50"})}),l.jsx("h3",{className:"font-medium mb-1",children:"No Node Selected"}),l.jsx("p",{className:"text-sm",children:"Select a node on the canvas to configure its properties."})]});const s=()=>{r([{id:i.id,type:"select",selected:!1}])},o=()=>{a(!n)},u=i.data.definitionType,c=be.get(u);if(!c)return l.jsx("aside",{className:"w-80 border-l bg-background p-4 shrink-0",children:l.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[l.jsx(_n,{className:"w-4 h-4"}),"Error: Node definition '",u,"' not found."]})});const d=c.settings;return l.jsxs("aside",{className:`
        border-l bg-background flex flex-col h-full shadow-xl z-20 transition-all duration-300 ease-in-out
        ${n?"absolute right-0 top-0 bottom-0 w-[calc(100%-16rem)]":"w-80 shrink-0"}
      `,children:[l.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-md",children:c.icon&&l.jsx(c.icon,{className:"w-4 h-4 text-primary"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"font-semibold text-sm",children:c.label}),l.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:c.category})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:o,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:n?"Collapse":"Expand",children:n?l.jsx(u7,{className:"w-4 h-4"}):l.jsx(l7,{className:"w-4 h-4"})}),l.jsx("button",{onClick:s,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Close",children:l.jsx(_n,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:d?l.jsx(d,{config:i.data,onChange:f=>t(i.id,f),nodeId:i.id}):l.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground italic",children:"No configuration options available for this node."})}),l.jsxs("div",{className:"p-3 border-t bg-muted/5 text-[10px] text-muted-foreground font-mono flex justify-between",children:[l.jsxs("span",{children:["ID: ",i.id]}),l.jsx("span",{children:"v1.0"})]})]})};function fP(e,t){return function(){return e.apply(t,arguments)}}const{toString:$7}=Object.prototype,{getPrototypeOf:Yv}=Object,{iterator:Hh,toStringTag:hP}=Symbol,Vh=(e=>t=>{const r=$7.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),cn=e=>(e=e.toLowerCase(),t=>Vh(t)===e),Wh=e=>t=>typeof t===e,{isArray:zo}=Array,wo=Wh("undefined");function qu(e){return e!==null&&!wo(e)&&e.constructor!==null&&!wo(e.constructor)&&nr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const mP=cn("ArrayBuffer");function z7(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&mP(e.buffer),t}const F7=Wh("string"),nr=Wh("function"),pP=Wh("number"),Yu=e=>e!==null&&typeof e=="object",B7=e=>e===!0||e===!1,Cd=e=>{if(Vh(e)!=="object")return!1;const t=Yv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(hP in e)&&!(Hh in e)},U7=e=>{if(!Yu(e)||qu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},H7=cn("Date"),V7=cn("File"),W7=cn("Blob"),K7=cn("FileList"),q7=e=>Yu(e)&&nr(e.pipe),Y7=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||nr(e.append)&&((t=Vh(e))==="formdata"||t==="object"&&nr(e.toString)&&e.toString()==="[object FormData]"))},X7=cn("URLSearchParams"),[G7,Q7,Z7,J7]=["ReadableStream","Request","Response","Headers"].map(cn),e9=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),zo(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(qu(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let o;for(n=0;n<s;n++)o=i[n],t.call(null,e[o],o,e)}}function gP(e,t){if(qu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const ji=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yP=e=>!wo(e)&&e!==ji;function Sy(){const{caseless:e,skipUndefined:t}=yP(this)&&this||{},r={},n=(a,i)=>{const s=e&&gP(r,i)||i;Cd(r[s])&&Cd(a)?r[s]=Sy(r[s],a):Cd(a)?r[s]=Sy({},a):zo(a)?r[s]=a.slice():(!t||!wo(a))&&(r[s]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Xu(arguments[a],n);return r}const t9=(e,t,r,{allOwnKeys:n}={})=>(Xu(t,(a,i)=>{r&&nr(a)?e[i]=fP(a,r):e[i]=a},{allOwnKeys:n}),e),r9=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),n9=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},a9=(e,t,r,n)=>{let a,i,s;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],(!n||n(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=r!==!1&&Yv(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},i9=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},s9=e=>{if(!e)return null;if(zo(e))return e;let t=e.length;if(!pP(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},o9=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Yv(Uint8Array)),l9=(e,t)=>{const n=(e&&e[Hh]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},u9=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},c9=cn("HTMLFormElement"),d9=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),kj=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),f9=cn("RegExp"),vP=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Xu(r,(a,i)=>{let s;(s=t(a,i,e))!==!1&&(n[i]=s||a)}),Object.defineProperties(e,n)},h9=e=>{vP(e,(t,r)=>{if(nr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(nr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},m9=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return zo(e)?n(e):n(String(e).split(t)),r},p9=()=>{},g9=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function y9(e){return!!(e&&nr(e.append)&&e[hP]==="FormData"&&e[Hh])}const v9=e=>{const t=new Array(10),r=(n,a)=>{if(Yu(n)){if(t.indexOf(n)>=0)return;if(qu(n))return n;if(!("toJSON"in n)){t[a]=n;const i=zo(n)?[]:{};return Xu(n,(s,o)=>{const u=r(s,a+1);!wo(u)&&(i[o]=u)}),t[a]=void 0,i}}return n};return r(e,0)},x9=cn("AsyncFunction"),b9=e=>e&&(Yu(e)||nr(e))&&nr(e.then)&&nr(e.catch),xP=((e,t)=>e?setImmediate:t?((r,n)=>(ji.addEventListener("message",({source:a,data:i})=>{a===ji&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ji.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",nr(ji.postMessage)),w9=typeof queueMicrotask<"u"?queueMicrotask.bind(ji):typeof process<"u"&&process.nextTick||xP,j9=e=>e!=null&&nr(e[Hh]),H={isArray:zo,isArrayBuffer:mP,isBuffer:qu,isFormData:Y7,isArrayBufferView:z7,isString:F7,isNumber:pP,isBoolean:B7,isObject:Yu,isPlainObject:Cd,isEmptyObject:U7,isReadableStream:G7,isRequest:Q7,isResponse:Z7,isHeaders:J7,isUndefined:wo,isDate:H7,isFile:V7,isBlob:W7,isRegExp:f9,isFunction:nr,isStream:q7,isURLSearchParams:X7,isTypedArray:o9,isFileList:K7,forEach:Xu,merge:Sy,extend:t9,trim:e9,stripBOM:r9,inherits:n9,toFlatObject:a9,kindOf:Vh,kindOfTest:cn,endsWith:i9,toArray:s9,forEachEntry:l9,matchAll:u9,isHTMLForm:c9,hasOwnProperty:kj,hasOwnProp:kj,reduceDescriptors:vP,freezeMethods:h9,toObjectSet:m9,toCamelCase:d9,noop:p9,toFiniteNumber:g9,findKey:gP,global:ji,isContextDefined:yP,isSpecCompliantForm:y9,toJSONObject:v9,isAsyncFn:x9,isThenable:b9,setImmediate:xP,asap:w9,isIterable:j9};function fe(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}H.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const bP=fe.prototype,wP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wP[e]={value:e}});Object.defineProperties(fe,wP);Object.defineProperty(bP,"isAxiosError",{value:!0});fe.from=(e,t,r,n,a,i)=>{const s=Object.create(bP);H.toFlatObject(e,s,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const o=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return fe.call(s,o,u,r,n,a),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const k9=null;function Ey(e){return H.isPlainObject(e)||H.isArray(e)}function jP(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function Nj(e,t,r){return e?e.concat(t).map(function(a,i){return a=jP(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function N9(e){return H.isArray(e)&&!e.some(Ey)}const _9=H.toFlatObject(H,{},null,function(t){return/^is[A-Z]/.test(t)});function Kh(e,t,r){if(!H.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=H.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!H.isUndefined(v[y])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,s=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(t);if(!H.isFunction(a))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(H.isDate(p))return p.toISOString();if(H.isBoolean(p))return p.toString();if(!u&&H.isBlob(p))throw new fe("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(p)||H.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,v){let g=p;if(p&&!v&&typeof p=="object"){if(H.endsWith(y,"{}"))y=n?y:y.slice(0,-2),p=JSON.stringify(p);else if(H.isArray(p)&&N9(p)||(H.isFileList(p)||H.endsWith(y,"[]"))&&(g=H.toArray(p)))return y=jP(y),g.forEach(function(b,j){!(H.isUndefined(b)||b===null)&&t.append(s===!0?Nj([y],j,i):s===null?y:y+"[]",c(b))}),!1}return Ey(p)?!0:(t.append(Nj(v,y,i),c(p)),!1)}const f=[],h=Object.assign(_9,{defaultVisitor:d,convertValue:c,isVisitable:Ey});function m(p,y){if(!H.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(p),H.forEach(p,function(g,x){(!(H.isUndefined(g)||g===null)&&a.call(t,g,H.isString(x)?x.trim():x,y,h))===!0&&m(g,y?y.concat(x):[x])}),f.pop()}}if(!H.isObject(e))throw new TypeError("data must be an object");return m(e),t}function _j(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Xv(e,t){this._pairs=[],e&&Kh(e,this,t)}const kP=Xv.prototype;kP.append=function(t,r){this._pairs.push([t,r])};kP.toString=function(t){const r=t?function(n){return t.call(this,n,_j)}:_j;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function S9(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function NP(e,t,r){if(!t)return e;const n=r&&r.encode||S9;H.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=H.isURLSearchParams(t)?t.toString():new Xv(t,r).toString(n),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Sj{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){H.forEach(this.handlers,function(n){n!==null&&t(n)})}}const _P={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},E9=typeof URLSearchParams<"u"?URLSearchParams:Xv,C9=typeof FormData<"u"?FormData:null,P9=typeof Blob<"u"?Blob:null,O9={isBrowser:!0,classes:{URLSearchParams:E9,FormData:C9,Blob:P9},protocols:["http","https","file","blob","url","data"]},Gv=typeof window<"u"&&typeof document<"u",Cy=typeof navigator=="object"&&navigator||void 0,A9=Gv&&(!Cy||["ReactNative","NativeScript","NS"].indexOf(Cy.product)<0),T9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",M9=Gv&&window.location.href||"http://localhost",I9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gv,hasStandardBrowserEnv:A9,hasStandardBrowserWebWorkerEnv:T9,navigator:Cy,origin:M9},Symbol.toStringTag,{value:"Module"})),At={...I9,...O9};function D9(e,t){return Kh(e,new At.classes.URLSearchParams,{visitor:function(r,n,a,i){return At.isNode&&H.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function R9(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function L9(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function SP(e){function t(r,n,a,i){let s=r[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),u=i>=r.length;return s=!s&&H.isArray(a)?a.length:s,u?(H.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!o):((!a[s]||!H.isObject(a[s]))&&(a[s]=[]),t(r,n,a[s],i)&&H.isArray(a[s])&&(a[s]=L9(a[s])),!o)}if(H.isFormData(e)&&H.isFunction(e.entries)){const r={};return H.forEachEntry(e,(n,a)=>{t(R9(n),a,r,0)}),r}return null}function $9(e,t,r){if(H.isString(e))try{return(t||JSON.parse)(e),H.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Gu={transitional:_P,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=H.isObject(t);if(i&&H.isHTMLForm(t)&&(t=new FormData(t)),H.isFormData(t))return a?JSON.stringify(SP(t)):t;if(H.isArrayBuffer(t)||H.isBuffer(t)||H.isStream(t)||H.isFile(t)||H.isBlob(t)||H.isReadableStream(t))return t;if(H.isArrayBufferView(t))return t.buffer;if(H.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return D9(t,this.formSerializer).toString();if((o=H.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Kh(o?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),$9(t)):t}],transformResponse:[function(t){const r=this.transitional||Gu.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(H.isResponse(t)||H.isReadableStream(t))return t;if(t&&H.isString(t)&&(n&&!this.responseType||a)){const s=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?fe.from(o,fe.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:At.classes.FormData,Blob:At.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],e=>{Gu.headers[e]={}});const z9=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F9=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),r=s.substring(0,a).trim().toLowerCase(),n=s.substring(a+1).trim(),!(!r||t[r]&&z9[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Ej=Symbol("internals");function dl(e){return e&&String(e).trim().toLowerCase()}function Pd(e){return e===!1||e==null?e:H.isArray(e)?e.map(Pd):String(e)}function B9(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const U9=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Mp(e,t,r,n,a){if(H.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!H.isString(t)){if(H.isString(n))return t.indexOf(n)!==-1;if(H.isRegExp(n))return n.test(t)}}function H9(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function V9(e,t){const r=H.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,s){return this[n].call(this,t,a,i,s)},configurable:!0})})}let ar=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(o,u,c){const d=dl(u);if(!d)throw new Error("header name must be a non-empty string");const f=H.findKey(a,d);(!f||a[f]===void 0||c===!0||c===void 0&&a[f]!==!1)&&(a[f||u]=Pd(o))}const s=(o,u)=>H.forEach(o,(c,d)=>i(c,d,u));if(H.isPlainObject(t)||t instanceof this.constructor)s(t,r);else if(H.isString(t)&&(t=t.trim())&&!U9(t))s(F9(t),r);else if(H.isObject(t)&&H.isIterable(t)){let o={},u,c;for(const d of t){if(!H.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(u=o[c])?H.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}s(o,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=dl(t),t){const n=H.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return B9(a);if(H.isFunction(r))return r.call(this,a,n);if(H.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=dl(t),t){const n=H.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Mp(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(s){if(s=dl(s),s){const o=H.findKey(n,s);o&&(!r||Mp(n,n[o],o,r))&&(delete n[o],a=!0)}}return H.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||Mp(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return H.forEach(this,(a,i)=>{const s=H.findKey(n,i);if(s){r[s]=Pd(a),delete r[i];return}const o=t?H9(i):String(i).trim();o!==i&&delete r[i],r[o]=Pd(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return H.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&H.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Ej]=this[Ej]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=dl(s);n[o]||(V9(a,s),n[o]=!0)}return H.isArray(t)?t.forEach(i):i(t),this}};ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(ar.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});H.freezeMethods(ar);function Ip(e,t){const r=this||Gu,n=t||r,a=ar.from(n.headers);let i=n.data;return H.forEach(e,function(o){i=o.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function EP(e){return!!(e&&e.__CANCEL__)}function Fo(e,t,r){fe.call(this,e??"canceled",fe.ERR_CANCELED,t,r),this.name="CanceledError"}H.inherits(Fo,fe,{__CANCEL__:!0});function CP(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new fe("Request failed with status code "+r.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function W9(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function K9(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,s;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=n[i];s||(s=c),r[a]=u,n[a]=c;let f=i,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),c-s<t)return;const m=d&&c-d;return m?Math.round(h*1e3/m):void 0}}function q9(e,t){let r=0,n=1e3/t,a,i;const s=(c,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-r;f>=n?s(c,d):(a=c,i||(i=setTimeout(()=>{i=null,s(a)},n-f)))},()=>a&&s(a)]}const jf=(e,t,r=3)=>{let n=0;const a=K9(50,250);return q9(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,u=s-n,c=a(u),d=s<=o;n=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:u,rate:c||void 0,estimated:c&&o&&d?(o-s)/c:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},r)},Cj=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Pj=e=>(...t)=>H.asap(()=>e(...t)),Y9=At.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,At.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(At.origin),At.navigator&&/(msie|trident)/i.test(At.navigator.userAgent)):()=>!0,X9=At.hasStandardBrowserEnv?{write(e,t,r,n,a,i,s){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];H.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),H.isString(n)&&o.push(`path=${n}`),H.isString(a)&&o.push(`domain=${a}`),i===!0&&o.push("secure"),H.isString(s)&&o.push(`SameSite=${s}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function G9(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Q9(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function PP(e,t,r){let n=!G9(t);return e&&(n||r==!1)?Q9(e,t):t}const Oj=e=>e instanceof ar?{...e}:e;function Ji(e,t){t=t||{};const r={};function n(c,d,f,h){return H.isPlainObject(c)&&H.isPlainObject(d)?H.merge.call({caseless:h},c,d):H.isPlainObject(d)?H.merge({},d):H.isArray(d)?d.slice():d}function a(c,d,f,h){if(H.isUndefined(d)){if(!H.isUndefined(c))return n(void 0,c,f,h)}else return n(c,d,f,h)}function i(c,d){if(!H.isUndefined(d))return n(void 0,d)}function s(c,d){if(H.isUndefined(d)){if(!H.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,f){if(f in t)return n(c,d);if(f in e)return n(void 0,c)}const u={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(c,d,f)=>a(Oj(c),Oj(d),f,!0)};return H.forEach(Object.keys({...e,...t}),function(d){const f=u[d]||a,h=f(e[d],t[d],d);H.isUndefined(h)&&f!==o||(r[d]=h)}),r}const OP=e=>{const t=Ji({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=t;if(t.headers=s=ar.from(s),t.url=NP(PP(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),H.isFormData(r)){if(At.hasStandardBrowserEnv||At.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(H.isFunction(r.getHeaders)){const u=r.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,f])=>{c.includes(d.toLowerCase())&&s.set(d,f)})}}if(At.hasStandardBrowserEnv&&(n&&H.isFunction(n)&&(n=n(t)),n||n!==!1&&Y9(t.url))){const u=a&&i&&X9.read(i);u&&s.set(a,u)}return t},Z9=typeof XMLHttpRequest<"u",J9=Z9&&function(e){return new Promise(function(r,n){const a=OP(e);let i=a.data;const s=ar.from(a.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:c}=a,d,f,h,m,p;function y(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function g(){if(!v)return;const b=ar.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};CP(function(N){r(N),y()},function(N){n(N),y()},k),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(n(new fe("Request aborted",fe.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const k=j&&j.message?j.message:"Network Error",_=new fe(k,fe.ERR_NETWORK,e,v);_.event=j||null,n(_),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||_P;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new fe(j,k.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,e,v)),v=null},i===void 0&&s.setContentType(null),"setRequestHeader"in v&&H.forEach(s.toJSON(),function(j,k){v.setRequestHeader(k,j)}),H.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),c&&([h,p]=jf(c,!0),v.addEventListener("progress",h)),u&&v.upload&&([f,m]=jf(u),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=b=>{v&&(n(!b||b.type?new Fo(null,e,v):b),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const x=W9(a.url);if(x&&At.protocols.indexOf(x)===-1){n(new fe("Unsupported protocol "+x+":",fe.ERR_BAD_REQUEST,e));return}v.send(i||null)})},eU=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(c){if(!a){a=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof fe?d:new Fo(d instanceof Error?d.message:d))}};let s=t&&setTimeout(()=>{s=null,i(new fe(`timeout ${t} of ms exceeded`,fe.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>H.asap(o),u}},tU=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},rU=async function*(e,t){for await(const r of nU(e))yield*tU(r,t)},nU=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Aj=(e,t,r,n)=>{const a=rU(e,t);let i=0,s,o=u=>{s||(s=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await a.next();if(c){o(),u.close();return}let f=d.byteLength;if(r){let h=i+=f;r(h)}u.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(u){return o(u),a.return()}},{highWaterMark:2})},Tj=64*1024,{isFunction:Xc}=H,aU=(({Request:e,Response:t})=>({Request:e,Response:t}))(H.global),{ReadableStream:Mj,TextEncoder:Ij}=H.global,Dj=(e,...t)=>{try{return!!e(...t)}catch{return!1}},iU=e=>{e=H.merge.call({skipUndefined:!0},aU,e);const{fetch:t,Request:r,Response:n}=e,a=t?Xc(t):typeof fetch=="function",i=Xc(r),s=Xc(n);if(!a)return!1;const o=a&&Xc(Mj),u=a&&(typeof Ij=="function"?(p=>y=>p.encode(y))(new Ij):async p=>new Uint8Array(await new r(p).arrayBuffer())),c=i&&o&&Dj(()=>{let p=!1;const y=new r(At.origin,{body:new Mj,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),d=s&&o&&Dj(()=>H.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(y,v)=>{let g=y&&y[p];if(g)return g.call(y);throw new fe(`Response type '${p}' is not supported`,fe.ERR_NOT_SUPPORT,v)})});const h=async p=>{if(p==null)return 0;if(H.isBlob(p))return p.size;if(H.isSpecCompliantForm(p))return(await new r(At.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(H.isArrayBufferView(p)||H.isArrayBuffer(p))return p.byteLength;if(H.isURLSearchParams(p)&&(p=p+""),H.isString(p))return(await u(p)).byteLength},m=async(p,y)=>{const v=H.toFiniteNumber(p.getContentLength());return v??h(y)};return async p=>{let{url:y,method:v,data:g,signal:x,cancelToken:b,timeout:j,onDownloadProgress:k,onUploadProgress:_,responseType:N,headers:S,withCredentials:C="same-origin",fetchOptions:M}=OP(p),O=t||fetch;N=N?(N+"").toLowerCase():"text";let P=eU([x,b&&b.toAbortSignal()],j),$=null;const E=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let R;try{if(_&&c&&v!=="get"&&v!=="head"&&(R=await m(S,g))!==0){let F=new r(y,{method:"POST",body:g,duplex:"half"}),B;if(H.isFormData(g)&&(B=F.headers.get("content-type"))&&S.setContentType(B),F.body){const[q,K]=Cj(R,jf(Pj(_)));g=Aj(F.body,Tj,q,K)}}H.isString(C)||(C=C?"include":"omit");const D=i&&"credentials"in r.prototype,L={...M,signal:P,method:v.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:D?C:void 0};$=i&&new r(y,L);let A=await(i?O($,M):O(y,L));const I=d&&(N==="stream"||N==="response");if(d&&(k||I&&E)){const F={};["status","statusText","headers"].forEach(G=>{F[G]=A[G]});const B=H.toFiniteNumber(A.headers.get("content-length")),[q,K]=k&&Cj(B,jf(Pj(k),!0))||[];A=new n(Aj(A.body,Tj,q,()=>{K&&K(),E&&E()}),F)}N=N||"text";let T=await f[H.findKey(f,N)||"text"](A,p);return!I&&E&&E(),await new Promise((F,B)=>{CP(F,B,{data:T,headers:ar.from(A.headers),status:A.status,statusText:A.statusText,config:p,request:$})})}catch(D){throw E&&E(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,p,$),{cause:D.cause||D}):fe.from(D,D&&D.code,p,$)}}},sU=new Map,AP=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let s=i.length,o=s,u,c,d=sU;for(;o--;)u=i[o],c=d.get(u),c===void 0&&d.set(u,c=o?new Map:iU(t)),d=c;return c};AP();const Qv={http:k9,xhr:J9,fetch:{get:AP}};H.forEach(Qv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Rj=e=>`- ${e}`,oU=e=>H.isFunction(e)||e===null||e===!1;function lU(e,t){e=H.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let s=0;s<r;s++){n=e[s];let o;if(a=n,!oU(n)&&(a=Qv[(o=String(n)).toLowerCase()],a===void 0))throw new fe(`Unknown adapter '${o}'`);if(a&&(H.isFunction(a)||(a=a.get(t))))break;i[o||"#"+s]=a}if(!a){const s=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?s.length>1?`since :
`+s.map(Rj).join(`
`):" "+Rj(s[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const TP={getAdapter:lU,adapters:Qv};function Dp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fo(null,e)}function Lj(e){return Dp(e),e.headers=ar.from(e.headers),e.data=Ip.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),TP.getAdapter(e.adapter||Gu.adapter,e)(e).then(function(n){return Dp(e),n.data=Ip.call(e,e.transformResponse,n),n.headers=ar.from(n.headers),n},function(n){return EP(n)||(Dp(e),n&&n.response&&(n.response.data=Ip.call(e,e.transformResponse,n.response),n.response.headers=ar.from(n.response.headers))),Promise.reject(n)})}const MP="1.13.2",qh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const $j={};qh.transitional=function(t,r,n){function a(i,s){return"[Axios v"+MP+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return(i,s,o)=>{if(t===!1)throw new fe(a(s," has been removed"+(r?" in "+r:"")),fe.ERR_DEPRECATED);return r&&!$j[s]&&($j[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,s,o):!0}};qh.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function uU(e,t,r){if(typeof e!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],s=t[i];if(s){const o=e[i],u=o===void 0||s(o,i,e);if(u!==!0)throw new fe("option "+i+" must be "+u,fe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new fe("Unknown option "+i,fe.ERR_BAD_OPTION)}}const Od={assertOptions:uU,validators:qh},hn=Od.validators;let zi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Sj,response:new Sj}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ji(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&Od.assertOptions(n,{silentJSONParsing:hn.transitional(hn.boolean),forcedJSONParsing:hn.transitional(hn.boolean),clarifyTimeoutError:hn.transitional(hn.boolean)},!1),a!=null&&(H.isFunction(a)?r.paramsSerializer={serialize:a}:Od.assertOptions(a,{encode:hn.function,serialize:hn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Od.assertOptions(r,{baseUrl:hn.spelling("baseURL"),withXsrfToken:hn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=i&&H.merge(i.common,i[r.method]);i&&H.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=ar.concat(s,i);const o=[];let u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(u=u&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,f=0,h;if(!u){const p=[Lj.bind(this),void 0];for(p.unshift(...o),p.push(...c),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=o.length;let m=r;for(;f<h;){const p=o[f++],y=o[f++];try{m=p(m)}catch(v){y.call(this,v);break}}try{d=Lj.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Ji(this.defaults,t);const r=PP(t.baseURL,t.url,t.allowAbsoluteUrls);return NP(r,t.params,t.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(t){zi.prototype[t]=function(r,n){return this.request(Ji(n||{},{method:t,url:r,data:(n||{}).data}))}});H.forEach(["post","put","patch"],function(t){function r(n){return function(i,s,o){return this.request(Ji(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}zi.prototype[t]=r(),zi.prototype[t+"Form"]=r(!0)});let cU=class IP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{n.subscribe(o),i=o}).then(a);return s.cancel=function(){n.unsubscribe(i)},s},t(function(i,s,o){n.reason||(n.reason=new Fo(i,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new IP(function(a){t=a}),cancel:t}}};function dU(e){return function(r){return e.apply(null,r)}}function fU(e){return H.isObject(e)&&e.isAxiosError===!0}const Py={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Py).forEach(([e,t])=>{Py[t]=e});function DP(e){const t=new zi(e),r=fP(zi.prototype.request,t);return H.extend(r,zi.prototype,t,{allOwnKeys:!0}),H.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return DP(Ji(e,a))},r}const Xe=DP(Gu);Xe.Axios=zi;Xe.CanceledError=Fo;Xe.CancelToken=cU;Xe.isCancel=EP;Xe.VERSION=MP;Xe.toFormData=Kh;Xe.AxiosError=fe;Xe.Cancel=Xe.CanceledError;Xe.all=function(t){return Promise.all(t)};Xe.spread=dU;Xe.isAxiosError=fU;Xe.mergeConfig=Ji;Xe.AxiosHeaders=ar;Xe.formToJSON=e=>SP(H.isHTMLForm(e)?new FormData(e):e);Xe.getAdapter=TP.getAdapter;Xe.HttpStatusCode=Py;Xe.default=Xe;const{Axios:Mse,AxiosError:Ise,CanceledError:Dse,isCancel:Rse,CancelToken:Lse,VERSION:$se,all:zse,Cancel:Fse,isAxiosError:Bse,spread:Use,toFormData:Hse,AxiosHeaders:Vse,HttpStatusCode:Wse,formToJSON:Kse,getAdapter:qse,mergeConfig:Yse}=Xe,hU="/api",ft=Xe.create({baseURL:hU,headers:{"Content-Type":"application/json"}}),mU=async e=>(await ft.post("/pipeline/preview",e)).data,pU=async e=>(await ft.get(`/pipeline/datasets/${e}/schema`)).data,gU=async(e,t)=>(await ft.post(`/pipeline/save/${e}`,t)).data,yU=async e=>{const t=await ft.get(`/pipeline/load/${e}`);return t.data?t.data:null},fr={runPipeline:async e=>(await ft.post("/pipeline/run",e)).data,getJob:async e=>(await ft.get(`/pipeline/jobs/${e}`)).data,cancelJob:async e=>{await ft.post(`/pipeline/jobs/${e}/cancel`)},listJobs:async(e=50)=>(await ft.get("/pipeline/jobs",{params:{limit:e}})).data,getHyperparameters:async e=>(await ft.get(`/pipeline/hyperparameters/${e}`)).data,getDefaultSearchSpace:async e=>(await ft.get(`/pipeline/hyperparameters/${e}/defaults`)).data,getLatestTuningJob:async e=>(await ft.get(`/pipeline/jobs/tuning/latest/${e}`)).data,getBestTuningJobForModel:async e=>(await ft.get(`/pipeline/jobs/tuning/best/${e}`)).data,getTuningJobsForModel:async e=>(await ft.get(`/pipeline/jobs/tuning/history/${e}`)).data},vU=3e3,Bo=Sv((e,t)=>{let r=null;return{jobs:[],isLoading:!1,isDrawerOpen:!1,activeTab:"training",fetchJobs:async()=>{e({isLoading:!0});try{const n=await fr.listJobs();e({jobs:n,isLoading:!1})}catch(n){console.error("Failed to fetch jobs:",n),e({isLoading:!1})}},submitJob:async n=>{try{const a=await fr.runPipeline(n);return await t().fetchJobs(),t().startPolling(),a.job_id}catch(a){throw console.error("Failed to submit job:",a),a}},cancelJob:async n=>{try{await fr.cancelJob(n),await t().fetchJobs()}catch(a){throw console.error("Failed to cancel job:",a),a}},toggleDrawer:n=>{const a=t().isDrawerOpen,i=n!==void 0?n:!a;e({isDrawerOpen:i}),i?(t().fetchJobs(),t().startPolling()):t().jobs.some(o=>o.status==="running"||o.status==="queued")||t().stopPolling()},setTab:n=>e({activeTab:n}),startPolling:()=>{r||(r=setInterval(async()=>{try{const n=await fr.listJobs();e({jobs:n}),!n.some(i=>i.status==="running"||i.status==="queued")&&!t().isDrawerOpen&&t().stopPolling()}catch(n){console.error("Polling error:",n)}},vU))},stopPolling:()=>{r&&(clearInterval(r),r=null)}}}),Zv=(e,t)=>{const r=[],n=new Set,a=[],i=e.find(o=>o.data.definitionType==="dataset_node"),s=i==null?void 0:i.data.datasetId;for(i&&a.push(i.id);a.length>0;){const o=a.shift();if(n.has(o))continue;n.add(o);const u=e.find(p=>p.id===o);if(!u)continue;let c="unknown",d={};const h=t.filter(p=>p.target===o).map(p=>p.source);if(u.data.definitionType==="dataset_node")c="data_loader",d={dataset_id:u.data.datasetId};else if(u.data.definitionType==="imputation_node"){const p=u.data.method||"simple";p==="knn"?(c="KNNImputer",d={columns:u.data.columns,n_neighbors:u.data.n_neighbors,weights:u.data.weights}):p==="iterative"?(c="IterativeImputer",d={columns:u.data.columns,max_iter:u.data.max_iter,estimator:u.data.estimator,random_state:0}):(c="SimpleImputer",d={columns:u.data.columns,strategy:u.data.strategy,fill_value:u.data.fill_value})}else if(u.data.definitionType==="simple_imputer")c="SimpleImputer",d=u.data||{};else if(u.data.definitionType==="drop_missing_columns"||u.data.definitionType==="DropMissingColumns")c="DropMissingColumns",d={columns:u.data.columns||[],missing_threshold:u.data.missing_threshold};else if(u.data.definitionType==="drop_missing_rows"||u.data.definitionType==="DropMissingRows")c="DropMissingRows",d={missing_threshold:u.data.missing_threshold,drop_if_any_missing:u.data.drop_if_any_missing};else if(u.data.definitionType==="deduplicate"||u.data.definitionType==="Deduplicate")c="Deduplicate",d={subset:u.data.subset,keep:u.data.keep};else if(u.data.definitionType==="casting"||u.data.definitionType==="Casting")c="Casting",d={column_types:u.data.column_types};else if(u.data.definitionType==="MissingIndicator"||u.data.definitionType==="missing_indicator")c="MissingIndicator",d={columns:u.data.columns,flag_suffix:u.data.flag_suffix};else if(u.data.definitionType==="scale_numeric_features"){const p=u.data||{},y=p.method||"standard";y==="minmax"?c="MinMaxScaler":y==="maxabs"?c="MaxAbsScaler":y==="robust"?c="RobustScaler":c="StandardScaler",d=p}else if(u.data.definitionType==="encoding"){const p=u.data.method;p==="onehot"?c="OneHotEncoder":p==="dummy"?(c="DummyEncoder",d={...u.data,drop_first:!0}):p==="label"?c="LabelEncoder":p==="ordinal"?c="OrdinalEncoder":p==="target"?c="TargetEncoder":p==="hash"?c="HashEncoder":c="OneHotEncoder",c!=="DummyEncoder"&&(d=u.data)}else if(u.data.definitionType==="TrainTestSplitter")c="TrainTestSplitter",d=u.data||{};else if(u.data.definitionType==="label_encoding")c="LabelEncoder",d=u.data||{};else if(u.data.definitionType==="feature_target_split")c="feature_target_split",d=u.data||{};else if(u.data.definitionType==="feature_selection")c="feature_selection",d=u.data||{};else if(u.data.definitionType==="outlier"){const p=u.data.method||"iqr";p==="iqr"?c="IQR":p==="zscore"?c="ZScore":p==="winsorize"?c="Winsorize":p==="elliptic_envelope"?c="EllipticEnvelope":c="IQR",d=u.data}else if(u.data.definitionType==="TransformationNode"){c="GeneralTransformation";const p=u.data.transformations||[],y=[];for(const v of p)if(v.columns&&Array.isArray(v.columns))for(const g of v.columns)y.push({column:g,method:v.method,...v.params});d={transformations:y}}else u.data.definitionType==="BinningNode"?(c="GeneralBinning",d={columns:u.data.columns,strategy:u.data.strategy,n_bins:u.data.n_bins,label_format:u.data.label_format,output_suffix:u.data.output_suffix,drop_original:u.data.drop_original,custom_bins:u.data.custom_bins,custom_labels:u.data.custom_labels}):u.data.definitionType==="ResamplingNode"?((u.data.type||"oversampling")==="oversampling"?c="Oversampling":c="Undersampling",d=u.data):u.data.definitionType==="FeatureGenerationNode"?(c="FeatureMath",d={operations:u.data.operations}):u.data.definitionType==="TextCleaning"?(c="TextCleaning",d=u.data):u.data.definitionType==="ValueReplacement"?(c="ValueReplacement",d=u.data):u.data.definitionType==="AliasReplacement"?(c="AliasReplacement",d=u.data):u.data.definitionType==="InvalidValueReplacement"?(c="InvalidValueReplacement",d=u.data):u.data.definitionType==="model_training"?(c="model_training",d={target_column:u.data.target_column,model_type:u.data.model_type,hyperparameters:u.data.hyperparameters,cv_enabled:u.data.cv_enabled,cv_folds:u.data.cv_folds,cv_type:u.data.cv_type,cv_shuffle:u.data.cv_shuffle,cv_random_state:u.data.cv_random_state}):u.data.definitionType==="hyperparameter_tuning"?(c="model_tuning",d={target_column:u.data.target_column,algorithm:u.data.model_type,tuning_config:{strategy:u.data.search_strategy,metric:u.data.metric,n_trials:u.data.n_trials,search_space:u.data.search_space,cv_enabled:u.data.cv_enabled,cv_folds:u.data.cv_folds,cv_type:u.data.cv_type,cv_shuffle:u.data.cv_shuffle,cv_random_state:u.data.cv_random_state,random_state:u.data.random_state}}):(console.warn(`Unknown node type: ${u.data.definitionType}`),c="Unknown",d=u.data);r.push({node_id:u.id,step_type:c,params:d,inputs:h}),t.filter(p=>p.source===o).forEach(p=>a.push(p.target))}return{pipeline_id:`preview_${Date.now()}`,nodes:r,metadata:{dataset_source_id:s}}},xU=()=>{const e=me(y=>y.nodes),t=me(y=>y.edges),r=me(y=>y.setExecutionResult),n=me(y=>y.setGraph),{toggleDrawer:a}=Bo(),[i,s]=w.useState(!1),[o,u]=w.useState(!1),[c,d]=w.useState(!1),f=()=>({nodes:e.map(y=>({id:y.id,type:y.type,position:y.position,data:{...y.data,catalogType:y.data.catalogType||y.data.definitionType}})),edges:t.map(y=>({id:y.id,source:y.source,target:y.target,sourceHandle:y.sourceHandle,targetHandle:y.targetHandle,type:y.type,data:y.data}))}),h=async()=>{const y=e.find(g=>g.data.definitionType==="dataset_node"),v=y==null?void 0:y.data.datasetId;if(!v){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}u(!0);try{await gU(v,{name:"My Pipeline",description:"Saved from V2 Canvas",graph:f()}),alert("Pipeline saved successfully!")}catch(g){console.error("Save failed:",g),alert("Failed to save pipeline.")}finally{u(!1)}},m=async()=>{const y=e.find(g=>g.data.definitionType==="dataset_node"),v=y==null?void 0:y.data.datasetId;if(!v){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){d(!0);try{const g=await yU(v);g&&g.graph?(n(g.graph.nodes,g.graph.edges),alert("Pipeline loaded successfully!")):alert("No saved pipeline found for this dataset.")}catch(g){console.error("Load failed:",g),alert("Failed to load pipeline.")}finally{d(!1)}}},p=async()=>{const y=e.find(g=>g.data.definitionType==="dataset_node");if(!(y==null?void 0:y.data.datasetId)){alert("No dataset node found!");return}s(!0),r(null);try{const g=Zv(e,t),x=await mU(g);r(x)}catch(g){console.error("Pipeline failed:",g),alert("Pipeline execution failed. Check console for details.")}finally{s(!1)}};return l.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[l.jsxs("button",{onClick:()=>a(),className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors",children:[l.jsx(i7,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Jobs"})]}),l.jsxs("button",{onClick:m,disabled:c||i,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[c?l.jsx($i,{className:"w-4 h-4 animate-spin"}):l.jsx(t7,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:c?"Loading...":"Load"})]}),l.jsxs("button",{onClick:h,disabled:o||i,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[o?l.jsx($i,{className:"w-4 h-4 animate-spin"}):l.jsx(g7,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:o?"Saving...":"Save"})]}),l.jsxs("button",{onClick:p,disabled:i,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[i?l.jsx($i,{className:"w-4 h-4 animate-spin"}):l.jsx(Bh,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:i?"Running...":"Run Preview"})]})]})},bU=()=>{const e=me(h=>h.executionResult),[t,r]=w.useState(!0),[n,a]=w.useState(null),i=w.useMemo(()=>e!=null&&e.preview_data?Array.isArray(e.preview_data)?{Result:e.preview_data}:typeof e.preview_data=="object"?e.preview_data:{}:{},[e]),s=Object.keys(i);if(Qr.useEffect(()=>{s.length>0&&(!n||!s.includes(n))&&(s.includes("train")?a("train"):s.includes("X")?a("X"):a(s[0]))},[s,n]),!e)return null;const o=n&&i[n]?i[n]:[],u=o.length>0?Object.keys(o[0]):[],c=e.node_results?Object.keys(e.node_results):[],d=Object.keys(e.node_results||{}).find(h=>e.node_results[h].status==="failed"),f=d?e.node_results[d].error:null;return l.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>r(!t),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(k7,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),l.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[o.length," rows shown"]}),e.status==="failed"&&l.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),l.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?l.jsx(Bt,{className:"w-4 h-4"}):l.jsx($o,{className:"w-4 h-4"})})]}),t&&l.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&l.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[l.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),l.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:f||"Unknown error occurred during execution."})]}),s.length>1&&l.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[l.jsx(s7,{className:"w-3 h-3 text-muted-foreground mr-1"}),s.map(h=>l.jsx("button",{onClick:()=>a(h),className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${n===h?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:h},h))]}),c.length>0&&e.status!=="failed"&&l.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:c.map((h,m)=>l.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:h},m))}),l.jsxs("div",{className:"flex-1 overflow-auto",children:[l.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[l.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:l.jsx("tr",{children:u.map(h=>l.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:h},h))})}),l.jsx("tbody",{children:o.map((h,m)=>l.jsx("tr",{className:"border-b hover:bg-muted/10",children:u.map(p=>l.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:h[p]!==null?String(h[p]):l.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${m}-${p}`))},m))})]}),o.length===0&&l.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",n?`for ${n}`:""]})]})]})]})},RP=Sv(e=>({activeView:"canvas",setView:t=>e({activeView:t})})),wU=()=>{const[e,t]=w.useState(!1),{activeView:r,setView:n}=RP();w.useEffect(()=>{document.documentElement.classList.contains("dark")?t(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),t(!0))},[]);const a=()=>{const i=!e;t(i),i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return l.jsxs("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-between shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-8",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:l.jsx(f7,{className:"w-5 h-5 text-primary"})}),l.jsx("h1",{className:"font-bold text-lg tracking-tight bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"Skyulf ML Canvas"})]}),l.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg",children:[l.jsxs("button",{onClick:()=>n("canvas"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${r==="canvas"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[l.jsx(r7,{className:"w-4 h-4"}),"Canvas"]}),l.jsxs("button",{onClick:()=>n("experiments"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${r==="experiments"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[l.jsx(BB,{className:"w-4 h-4"}),"Experiments"]}),l.jsxs("button",{onClick:()=>n("inference"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${r==="inference"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[l.jsx(uP,{className:"w-4 h-4"}),"Inference"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("a",{href:"/ml-workflow-v1",className:"text-sm text-muted-foreground hover:text-primary transition-colors mr-2",target:"_blank",rel:"noopener noreferrer",children:"Switch to Legacy V1"}),l.jsx("button",{onClick:a,className:"p-2 hover:bg-accent rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Toggle Theme",children:e?l.jsx(c7,{className:"w-5 h-5"}):l.jsx(w7,{className:"w-5 h-5"})})]})]})},jU=()=>{const{isDrawerOpen:e,toggleDrawer:t,jobs:r,isLoading:n,activeTab:a,setTab:i,fetchJobs:s}=Bo(),[o,u]=w.useState(null);if(!e)return null;const c=r.filter(d=>d.job_type===a);return l.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),l.jsx("div",{className:"relative w-[900px] h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-lg flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden transition-all",children:o?l.jsx(kU,{job:o,onBack:()=>u(null),onClose:()=>t(!1)}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[l.jsx("h2",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Job History"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>s(),className:`p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 ${n?"animate-spin":""}`,title:"Refresh",children:l.jsx(Uh,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>t(!1),className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:l.jsx(_n,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[l.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="tuning"?"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-50/50 dark:bg-purple-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>i("tuning"),children:"Model Optimization"}),l.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="training"?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>i("training"),children:"Standard Training"})]}),l.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-2 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[l.jsx("div",{className:"col-span-2",children:"Status"}),l.jsx("div",{className:"col-span-2",children:"Dataset"}),l.jsx("div",{className:"col-span-1",children:"Job ID"}),l.jsx("div",{className:"col-span-2",children:"Started"}),l.jsx("div",{className:"col-span-1",children:"Duration"}),l.jsx("div",{className:"col-span-2",children:"Model Ready"}),l.jsx("div",{className:"col-span-2",children:"Result"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-gray-50/30 dark:bg-gray-900/30",children:c.length===0?l.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500 text-sm",children:["No ",a==="tuning"?"optimization":"training"," jobs found."]}):c.map(d=>l.jsx(NU,{job:d,onClick:()=>u(d)},d.job_id))})]})})]})},kU=({job:e,onBack:t,onClose:r})=>{const{cancelJob:n}=Bo(),[a,i]=w.useState(e),[s,o]=w.useState("overview"),[u,c]=w.useState(!1),d=w.useRef(null);w.useEffect(()=>{let h;const m=async()=>{try{const p=await fr.getJob(e.job_id);i(p)}catch(p){console.error("Failed to fetch job details",p)}};return m(),(a.status==="running"||a.status==="queued")&&(h=setInterval(m,2e3)),()=>{h&&clearInterval(h)}},[e.job_id,a.status]),w.useEffect(()=>{s==="logs"&&d.current&&d.current.scrollIntoView({behavior:"smooth"})},[a.logs,s]);const f=async()=>{if(confirm("Are you sure you want to stop this job?")){c(!0);try{await n(a.job_id)}catch{alert("Failed to cancel job")}finally{c(!1)}}};return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-500",children:l.jsx(zB,{className:"w-4 h-4"})}),l.jsx("div",{children:l.jsxs("h2",{className:"font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:["Job Details",l.jsx("span",{className:"text-xs font-normal text-gray-500 font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:a.job_id.slice(0,8)})]})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[(a.status==="running"||a.status==="queued")&&l.jsxs("button",{onClick:f,disabled:u,className:"flex items-center gap-1 px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 rounded text-xs font-medium transition-colors border border-red-200 dark:border-red-800",children:[l.jsx(b7,{className:"w-3 h-3 fill-current"}),u?"Stopping...":"Stop Job"]}),l.jsx("button",{onClick:r,className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:l.jsx(_n,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 px-4",children:[l.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="overview"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>o("overview"),children:[l.jsx(o7,{className:"w-4 h-4"}),"Overview"]}),l.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="logs"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>o("logs"),children:[l.jsx(QB,{className:"w-4 h-4"}),"Live Logs",a.status==="running"&&l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s==="overview"?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),l.jsx("div",{className:"font-medium capitalize flex items-center gap-2 text-gray-800 dark:text-gray-200",children:a.status})]}),l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Dataset"}),l.jsxs("div",{className:"font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[l.jsx(Vu,{className:"w-3 h-3 text-gray-400"}),a.dataset_name||a.dataset_id||"Unknown"]})]}),l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Duration"}),l.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200 font-mono",children:a.start_time&&a.end_time?`${Math.round((new Date(a.end_time).getTime()-new Date(a.start_time).getTime())/1e3)}s`:"-"})]})]}),a.error&&l.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg",children:[l.jsxs("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300 mb-2 flex items-center gap-2",children:[l.jsx(ei,{className:"w-4 h-4"}),"Error Log"]}),l.jsx("pre",{className:"text-xs text-red-700 dark:text-red-400 whitespace-pre-wrap font-mono",children:a.error})]}),a.result&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[l.jsx(N7,{className:"w-4 h-4"}),"Execution Results"]}),a.status==="completed"&&l.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 font-medium",children:[l.jsx(mu,{className:"w-3 h-3"})," Model Ready"]})]}),a.job_type==="training"&&a.result.metrics&&l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).map(([h,m])=>l.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:h.replace(/_/g," ")}),l.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof m=="number"?m.toFixed(4):String(m)})]},h))}),a.job_type==="tuning"&&a.result.best_params&&l.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-xs overflow-x-auto",children:[l.jsx("div",{className:"text-gray-500 mb-2",children:"# Best Hyperparameters"}),l.jsx("pre",{children:JSON.stringify(a.result.best_params,null,2)})]})]})]}):l.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 min-h-[400px] font-mono text-xs text-gray-300 overflow-x-auto",children:[a.logs&&a.logs.length>0?a.logs.map((h,m)=>l.jsx("div",{className:"mb-1 border-b border-gray-800 pb-1 last:border-0",children:h},m)):l.jsx("div",{className:"text-gray-500 italic",children:"No logs available yet..."}),l.jsx("div",{ref:d})]})})]})},NU=({job:e,onClick:t})=>{const r=s=>{switch(s){case"completed":case"succeeded":return l.jsx(mu,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return l.jsx(ei,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"running":return l.jsx(Uh,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 animate-spin"});default:return l.jsx(YB,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}},n=s=>{switch(s){case"completed":return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50";case"failed":return"bg-red-50/30 dark:bg-red-900/10 border-red-100 dark:border-red-900/30 hover:bg-red-50/50 dark:hover:bg-red-900/20";case"running":return"bg-blue-50/30 dark:bg-blue-900/10 border-blue-100 dark:border-blue-900/30 hover:bg-blue-50/50 dark:hover:bg-blue-900/20";default:return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}},a=s=>s?new Date(s).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",i=(s,o)=>{if(!s||!o)return"-";const u=new Date(o).getTime()-new Date(s).getTime(),c=Math.floor(u/1e3);return c<60?`${c}s`:`${Math.floor(c/60)}m ${c%60}s`};return l.jsxs("div",{onClick:t,className:`grid grid-cols-12 gap-4 p-3 rounded-lg border text-sm items-center transition-colors cursor-pointer ${n(e.status)}`,children:[l.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[r(e.status),l.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300 capitalize truncate",children:e.status})]}),l.jsxs("div",{className:"col-span-2 flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 truncate",title:e.dataset_id,children:[l.jsx(Vu,{className:"w-3 h-3"}),e.dataset_name||e.dataset_id||"-"]}),l.jsx("div",{className:"col-span-1 font-mono text-xs text-gray-500 dark:text-gray-400 truncate",title:e.job_id,children:e.job_id.slice(0,8)}),l.jsx("div",{className:"col-span-2 text-gray-600 dark:text-gray-400 text-xs",children:a(e.start_time)}),l.jsx("div",{className:"col-span-1 text-gray-600 dark:text-gray-400 text-xs font-mono",children:i(e.start_time,e.end_time)}),l.jsx("div",{className:"col-span-2",children:e.status==="completed"&&l.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 w-fit",children:[l.jsx(mu,{className:"w-3 h-3"})," Ready"]})}),l.jsx("div",{className:"col-span-2",children:e.error?l.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs truncate block",title:e.error,children:"Error"}):e.status==="completed"&&e.result?e.job_type==="training"&&e.result.metrics?l.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.result.metrics).slice(0,1).map(([s,o])=>l.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 truncate max-w-full",children:[s,": ",Number(o).toFixed(3)]},s))}):e.job_type==="tuning"&&e.result.best_params?l.jsx("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",title:JSON.stringify(e.result.best_params),children:"Params found"}):l.jsx("span",{className:"text-gray-400 text-xs",children:"-"}):l.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]})};function LP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=LP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Oe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=LP(e))&&(n&&(n+=" "),n+=t);return n}var _U=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Jv(e){if(typeof e!="string")return!1;var t=_U;return t.includes(e)}var SU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EU=new Set(SU);function $P(e){return typeof e!="string"?!1:EU.has(e)}function zP(e){return typeof e=="string"&&e.startsWith("data-")}function ta(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&($P(r)||zP(r))&&(t[r]=e[r]);return t}function ex(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ta(t)}return typeof e=="object"&&!Array.isArray(e)?ta(e):null}function Ir(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&($P(r)||zP(r)||Jv(r))&&(t[r]=e[r]);return t}var CU=["children","width","height","viewBox","className","style","title","desc"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(null,arguments)}function PU(e,t){if(e==null)return{};var r,n,a=OU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tx=w.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:u,desc:c}=e,d=PU(e,CU),f=i||{width:n,height:a,x:0,y:0},h=Oe("recharts-surface",s);return w.createElement("svg",Oy({},Ir(d),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,u),w.createElement("desc",null,c),r)}),AU=["children","className"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(null,arguments)}function TU(e,t){if(e==null)return{};var r,n,a=MU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ra=w.forwardRef((e,t)=>{var{children:r,className:n}=e,a=TU(e,AU),i=Oe("recharts-layer",n);return w.createElement("g",Ay({className:i},Ir(a),{ref:t}),r)}),FP=w.createContext(null),IU=()=>w.useContext(FP);function Ce(e){return function(){return e}}const BP=Math.cos,kf=Math.sin,dn=Math.sqrt,Nf=Math.PI,Yh=2*Nf,Ty=Math.PI,My=2*Ty,hi=1e-6,DU=My-hi;function UP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function RU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UP;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class LU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UP:RU(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,u=n-t,c=a-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>hi)if(!(Math.abs(f*u-c*d)>hi)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,p=a-o,y=u*u+c*c,v=m*m+p*p,g=Math.sqrt(y),x=Math.sqrt(h),b=i*Math.tan((Ty-Math.acos((y+h-v)/(2*g*x)))/2),j=b/x,k=b/g;Math.abs(j-1)>hi&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*m>d*p)},${this._x1=t+k*u},${this._y1=r+k*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),u=n*Math.sin(a),c=t+o,d=r+u,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>hi||Math.abs(this._y1-d)>hi)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%My+My),h>DU?this._append`A${n},${n},0,1,${f},${t-o},${r-u}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>hi&&this._append`A${n},${n},0,${+(h>=Ty)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function rx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new LU(t)}function nx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HP(e){this._context=e}HP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Xh(e){return new HP(e)}function VP(e){return e[0]}function WP(e){return e[1]}function KP(e,t){var r=Ce(!0),n=null,a=Xh,i=null,s=rx(o);e=typeof e=="function"?e:e===void 0?VP:Ce(e),t=typeof t=="function"?t:t===void 0?WP:Ce(t);function o(u){var c,d=(u=nx(u)).length,f,h=!1,m;for(n==null&&(i=a(m=s())),c=0;c<=d;++c)!(c<d&&r(f=u[c],c,u))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,u),+t(f,c,u));if(m)return i=null,m+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ce(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ce(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Ce(!!u),o):r},o.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),o):a},o.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),o):n},o}function Gc(e,t,r){var n=null,a=Ce(!0),i=null,s=Xh,o=null,u=rx(c);e=typeof e=="function"?e:e===void 0?VP:Ce(+e),t=typeof t=="function"?t:Ce(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?WP:Ce(+r);function c(f){var h,m,p,y=(f=nx(f)).length,v,g=!1,x,b=new Array(y),j=new Array(y);for(i==null&&(o=s(x=u())),h=0;h<=y;++h){if(!(h<y&&a(v=f[h],h,f))===g)if(g=!g)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(b[p],j[p]);o.lineEnd(),o.areaEnd()}g&&(b[h]=+e(v,h,f),j[h]=+t(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):j[h]))}if(x)return o=null,x+""||null}function d(){return KP().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ce(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ce(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ce(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ce(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ce(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ce(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ce(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class qP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function $U(e){return new qP(e,!0)}function zU(e){return new qP(e,!1)}const ax={draw(e,t){const r=dn(t/Nf);e.moveTo(r,0),e.arc(0,0,r,0,Yh)}},FU={draw(e,t){const r=dn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},YP=dn(1/3),BU=YP*2,UU={draw(e,t){const r=dn(t/BU),n=r*YP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},HU={draw(e,t){const r=dn(t),n=-r/2;e.rect(n,n,r,r)}},VU=.8908130915292852,XP=kf(Nf/10)/kf(7*Nf/10),WU=kf(Yh/10)*XP,KU=-BP(Yh/10)*XP,qU={draw(e,t){const r=dn(t*VU),n=WU*r,a=KU*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=Yh*i/5,o=BP(s),u=kf(s);e.lineTo(u*r,-o*r),e.lineTo(o*n-u*a,u*n+o*a)}e.closePath()}},Rp=dn(3),YU={draw(e,t){const r=-dn(t/(Rp*3));e.moveTo(0,r*2),e.lineTo(-Rp*r,-r),e.lineTo(Rp*r,-r),e.closePath()}},wr=-.5,jr=dn(3)/2,Iy=1/dn(12),XU=(Iy/2+1)*3,GU={draw(e,t){const r=dn(t/XU),n=r/2,a=r*Iy,i=n,s=r*Iy+r,o=-i,u=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,u),e.lineTo(wr*n-jr*a,jr*n+wr*a),e.lineTo(wr*i-jr*s,jr*i+wr*s),e.lineTo(wr*o-jr*u,jr*o+wr*u),e.lineTo(wr*n+jr*a,wr*a-jr*n),e.lineTo(wr*i+jr*s,wr*s-jr*i),e.lineTo(wr*o+jr*u,wr*u-jr*o),e.closePath()}};function QU(e,t){let r=null,n=rx(a);e=typeof e=="function"?e:Ce(e||ax),t=typeof t=="function"?t:Ce(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ce(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ce(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function _f(){}function Sf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function GP(e){this._context=e}GP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZU(e){return new GP(e)}function QP(e){this._context=e}QP.prototype={areaStart:_f,areaEnd:_f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JU(e){return new QP(e)}function ZP(e){this._context=e}ZP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eH(e){return new ZP(e)}function JP(e){this._context=e}JP.prototype={areaStart:_f,areaEnd:_f,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tH(e){return new JP(e)}function zj(e){return e<0?-1:1}function Fj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(zj(i)+zj(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function Bj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Lp(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Ef(e){this._context=e}Ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lp(this,this._t0,Bj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Lp(this,Bj(this,r=Fj(this,e,t)),r);break;default:Lp(this,this._t0,r=Fj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function eO(e){this._context=new tO(e)}(eO.prototype=Object.create(Ef.prototype)).point=function(e,t){Ef.prototype.point.call(this,t,e)};function tO(e){this._context=e}tO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function rH(e){return new Ef(e)}function nH(e){return new eO(e)}function rO(e){this._context=e}rO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Uj(e),a=Uj(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Uj(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function aH(e){return new rO(e)}function Gh(e,t){this._context=e,this._t=t}Gh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function iH(e){return new Gh(e,.5)}function sH(e){return new Gh(e,0)}function oH(e){return new Gh(e,1)}function jo(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Dy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function lH(e,t){return e[t]}function uH(e){const t=[];return t.key=e,t}function cH(){var e=Ce([]),t=Dy,r=jo,n=lH;function a(i){var s=Array.from(e.apply(this,arguments),uH),o,u=s.length,c=-1,d;for(const f of i)for(o=0,++c;o<u;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,d=nx(t(s));o<u;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ce(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ce(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Dy:typeof i=="function"?i:Ce(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??jo,a):r},a}function dH(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}jo(e,t)}}function fH(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}jo(e,t)}}function hH(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,u=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var y=e[t[p]],v=y[n][1]||0,g=y[n-1][1]||0;m+=v-g}u+=f,c+=m*f}a[n-1][1]+=a[n-1][0]=r,u&&(r-=c/u)}a[n-1][1]+=a[n-1][0]=r,jo(e,t)}}var Qh={},nO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(nO);var ix={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ix);var Zh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Zh);var Jh={},aO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(aO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aO,r=Zh;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],s=a.length;if(s===0)return i;let o=0,u="",c="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),o++);o<s;){const f=a[o];c?f==="\\"&&o+1<s?(o++,u+=a[o]):f===c?c="":u+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,i.push(u),u=""):u+=f:f==="["?(d=!0,u&&(i.push(u),u="")):f==="."?u&&(i.push(u),u=""):u+=f,o++}return u&&i.push(u),i}e.toPath=n})(Jh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nO,r=ix,n=Zh,a=Jh;function i(o,u,c){if(o==null)return c;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return c;const d=o[u];return d===void 0?r.isDeepKey(u)?i(o,a.toPath(u),c):c:d}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const d=o[u];return d===void 0?c:d}default:{if(Array.isArray(u))return s(o,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return c;const d=o[u];return d===void 0?c:d}}}function s(o,u,c){if(u.length===0)return c;let d=o;for(let f=0;f<u.length;f++){if(d==null||t.isUnsafeProperty(u[f]))return c;d=d[u[f]]}return d===void 0?c:d}e.get=i})(Qh);var mH=Qh.get;const ko=Pn(mH);var Jt=e=>e===0?0:e>0?1:-1,an=e=>typeof e=="number"&&e!=+e,na=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,oe=e=>(typeof e=="number"||e instanceof Number)&&!an(e),Sn=e=>oe(e)||typeof e=="string",pH=0,pu=e=>{var t=++pH;return"".concat(e||"").concat(t)},sn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(t)&&typeof t!="string")return n;var i;if(na(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return an(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},iO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function wt(e,t,r){return oe(e)&&oe(t)?e+r*(t-e):t}function gH(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ko(n,t))===r)}var gt=e=>e===null||typeof e>"u",Qu=e=>gt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function yH(e){return e!=null}function Zu(){}var vH=["type","size","sizeType"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(null,arguments)}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){xH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xH(e,t,r){return(t=bH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=wH(e,"string");return typeof t=="symbol"?t:t+""}function wH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jH(e,t){if(e==null)return{};var r,n,a=kH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sO={symbolCircle:ax,symbolCross:FU,symbolDiamond:UU,symbolSquare:HU,symbolStar:qU,symbolTriangle:YU,symbolWye:GU},NH=Math.PI/180,_H=e=>{var t="symbol".concat(Qu(e));return sO[t]||ax},SH=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*NH;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},EH=(e,t)=>{sO["symbol".concat(Qu(e))]=t},sx=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=jH(e,vH),i=Vj(Vj({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=_H(s),m=QU().type(h).size(SH(r,n,s)),p=m();if(p!==null)return p},{className:u,cx:c,cy:d}=i,f=Ir(i);return oe(c)&&oe(d)&&oe(r)?w.createElement("path",Ry({},f,{className:Oe("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};sx.registerSymbol=EH;var oO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,CH=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Jv(a)&&(n[a]=i=>r[a](r,i))}),n},PH=(e,t,r)=>n=>(e(t,r,n),null),em=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Jv(a)&&typeof i=="function"&&(n||(n={}),n[a]=PH(i,t,r))}),n};function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){AH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AH(e,t,r){return(t=TH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wt(e,t){var r=OH({},e),n=t,a=Object.keys(t),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cf.apply(null,arguments)}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){DH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DH(e,t,r){return(t=RH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=LH(e,"string");return typeof t=="symbol"?t:t+""}function LH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nr=32,$H={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function zH(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Nr/2,i=Nr/6,s=Nr/3,o=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline"){var c;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:a,x2:Nr,y2:a,className:"recharts-legend-icon"})}if(u==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Nr,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return w.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Nr/8,"h").concat(Nr,"v").concat(Nr*3/4,"h").concat(-Nr,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var d=IH({},t);return delete d.legendIcon,w.cloneElement(t.legendIcon,d)}return w.createElement(sx,{fill:o,cx:a,cy:a,size:Nr,sizeType:"diameter",type:u})}function FH(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=e,o={x:0,y:0,width:Nr,height:Nr},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=Oe({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?i:d.color,y=h?h(d.value,d,f):d.value;return w.createElement("li",Cf({className:m,style:u,key:"legend-item-".concat(f)},em(e,d,f)),w.createElement(tx,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(y," legend icon")},w.createElement(zH,{data:d,iconType:s,inactiveColor:i})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},y))})}var BH=e=>{var t=Wt(e,$H),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:i},w.createElement(FH,Cf({},t,{payload:r})))},lO={},uO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}e.uniqBy=t})(uO);var ox={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ox);var cO={},tm={},dO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(dO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dO;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(tm);var fO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(fO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tm,r=fO;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(cO);var hO={},mO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qh;function r(n){return function(a){return t.get(a,n)}}e.property=r})(mO);var pO={},lx={},gO={},ux={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(ux);var cx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(cx);var dx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(dx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ux,r=cx,n=dx;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(p,y,v,g,x,b){const j=h(p,y,v,g,x,b);return j!==void 0?!!j:i(p,y,m,b)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return u(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let y=0;y<p.length;y++){const v=p[y];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!h(d[v],f[v],v,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,y]of f.entries()){const v=d.get(p);if(h(v,y,p,d,f,m)===!1)return!1}return!0}function u(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let y=0;y<f.length;y++){const v=f[y];let g=!1;for(let x=0;x<d.length;x++){if(p.has(x))continue;const b=d[x];let j=!1;if(h(b,v,y,d,f,m)&&(j=!0),j){p.add(x),g=!0;break}}if(!g)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?u([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=c})(gO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gO;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(lx);var yO={},fx={},vO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(vO);var hx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(hx);var mx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",u="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",y="[object DataView]",v="[object Uint8Array]",g="[object Uint8ClampedArray]",x="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",k="[object Int8Array]",_="[object Int16Array]",N="[object Int32Array]",S="[object BigInt64Array]",C="[object Float32Array]",M="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=y,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=C,e.float64ArrayTag=M,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=N,e.int8ArrayTag=k,e.mapTag=u,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=x,e.uint32ArrayTag=b,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=g})(mx);var xO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(xO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vO,r=hx,n=mx,a=cx,i=xO;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const y=p==null?void 0:p(d,f,h,m);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const v=new Array(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=o(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;m.set(d,v);for(const[g,x]of d)v.set(g,o(x,g,h,m,p));return v}if(d instanceof Set){const v=new Set;m.set(d,v);for(const g of d)v.add(o(g,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=o(d[g],g,h,m,p);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,v),u(v,d,h,m,p),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return m.set(d,v),u(v,d,h,m,p),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return m.set(d,v),u(v,d,h,m,p),v}if(d instanceof Error){const v=new d.constructor;return m.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,u(v,d,h,m,p),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return m.set(d,v),u(v,d,h,m,p),v}if(d instanceof Number){const v=new Number(d.valueOf());return m.set(d,v),u(v,d,h,m,p),v}if(d instanceof String){const v=new String(d.valueOf());return m.set(d,v),u(v,d,h,m,p),v}if(typeof d=="object"&&c(d)){const v=Object.create(Object.getPrototypeOf(d));return m.set(d,v),u(v,d,h,m,p),v}return d}function u(d,f,h=d,m,p){const y=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<y.length;v++){const g=y[v],x=Object.getOwnPropertyDescriptor(d,g);(x==null||x.writable)&&(d[g]=o(f[g],g,h,m,p))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=u})(fx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fx;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(yO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lx,r=yO;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(pO);var bO={},wO={},jO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fx,r=mx;function n(a,i){return t.cloneDeepWith(a,(s,o,u,c)=>{const d=i==null?void 0:i(s,o,u,c);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(jO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jO;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(wO);var kO={},px={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(px);var NO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hx;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(NO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ix,r=px,n=NO,a=Jh;function i(s,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?u=a.toPath(o):u=[o],u.length===0)return!1;let c=s;for(let d=0;d<u.length;d++){const f=u[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(kO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lx,r=Zh,n=wO,a=Qh,i=kO;function s(o,u){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return u=n.cloneDeep(u),function(c){const d=a.get(c,o);return d===void 0?i.has(c,o):u===void 0?d===void 0:t.isMatch(d,u)}}e.matchesProperty=s})(bO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ox,r=mO,n=pO,a=bO;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(hO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uO,r=ox,n=cO,a=hO;function i(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(o)):[]}e.uniqBy=i})(lO);var UH=lO.uniqBy;const qj=Pn(UH);function _O(e,t,r){return t===!0?qj(e,r):typeof t=="function"?qj(e,t):e}var gx=w.createContext(null),HH=e=>e,He=()=>{var e=w.useContext(gx);return e?e.store.dispatch:HH},Ad=()=>{},VH=()=>Ad,WH=(e,t)=>e===t;function le(e){var t=w.useContext(gx);return mE.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:VH,t?t.store.getState:Ad,t?t.store.getState:Ad,t?e:Ad,WH)}function KH(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function qH(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function YH(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Yj=e=>Array.isArray(e)?e:[e];function XH(e){const t=Array.isArray(e[0])?e[0]:e;return YH(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function GH(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var QH=class{constructor(e){this.value=e}deref(){return this.value}},ZH=typeof WeakRef<"u"?WeakRef:QH,JH=0,Xj=1;function Qc(){return{s:JH,v:void 0,o:null,p:null}}function SO(e,t={}){let r=Qc();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var f;let o=r;const{length:u}=arguments;for(let h=0,m=u;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const v=y.get(p);v===void 0?(o=Qc(),y.set(p,o)):o=v}else{let y=o.p;y===null&&(o.p=y=new Map);const v=y.get(p);v===void 0?(o=Qc(),y.set(p,o)):o=v}}const c=o;let d;if(o.s===Xj)d=o.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new ZH(d):d}return c.s=Xj,c.v=d,d}return s.clearCache=()=>{r=Qc(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function eV(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,o,u={},c=a.pop();typeof c=="object"&&(u=c,c=a.pop()),KH(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...u},{memoize:f,memoizeOptions:h=[],argsMemoize:m=SO,argsMemoizeOptions:p=[]}=d,y=Yj(h),v=Yj(p),g=XH(a),x=f(function(){return i++,c.apply(null,arguments)},...y),b=m(function(){s++;const k=GH(g,arguments);return o=x.apply(null,k),o},...v);return Object.assign(b,{resultFunc:c,memoizedResultFunc:x,dependencies:g,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var W=eV(SO),tV=Object.assign((e,t=W)=>{qH(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,o,u)=>(s[r[u]]=o,s),{}))},{withTypes:()=>tV}),EO={},CO={},PO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),o=t(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(PO);var OO={},yx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(yx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(OO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PO,r=OO,n=Jh;function a(i,s,o,u){if(i==null)return[];o=u?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,p)=>{let y=m;for(let v=0;v<p.length&&y!=null;++v)y=y[p[v]];return y},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:c(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?c(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let y=0;y<f.length;y++){const v=t.compareValues(m.criteria[y],p.criteria[y],o[y]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=a})(CO);var AO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(o,u)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&u<i?s(d,u+1):a.push(d)}};return s(r,0),a}e.flatten=t})(AO);var vx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px,r=tm,n=ux,a=dx;function i(s,o,u){return n.isObject(u)&&(typeof o=="number"&&r.isArrayLike(u)&&t.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?a.eq(u[o],s):!1}e.isIterateeCall=i})(vx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CO,r=AO,n=vx;function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(EO);var rV=EO.sortBy;const rm=Pn(rV);var TO=e=>e.legend.settings,nV=e=>e.legend.size,aV=e=>e.legend.payload,iV=W([aV,TO],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?rm(n,r):n});function sV(){return le(iV)}var Zc=1;function MO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>Zc||Math.abs(s.left-t.left)>Zc||Math.abs(s.top-t.top)>Zc||Math.abs(s.width-t.width)>Zc)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function xt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var oV=typeof Symbol=="function"&&Symbol.observable||"@@observable",Gj=oV,$p=()=>Math.random().toString(36).substring(7).split("").join("."),lV={INIT:`@@redux/INIT${$p()}`,REPLACE:`@@redux/REPLACE${$p()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$p()}`},Pf=lV;function xx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function IO(e,t,r){if(typeof e!="function")throw new Error(xt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(xt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(xt(1));return r(IO)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,u=!1;function c(){s===i&&(s=new Map,i.forEach((v,g)=>{s.set(g,v)}))}function d(){if(u)throw new Error(xt(3));return a}function f(v){if(typeof v!="function")throw new Error(xt(4));if(u)throw new Error(xt(5));let g=!0;c();const x=o++;return s.set(x,v),function(){if(g){if(u)throw new Error(xt(6));g=!1,c(),s.delete(x),i=null}}}function h(v){if(!xx(v))throw new Error(xt(7));if(typeof v.type>"u")throw new Error(xt(8));if(typeof v.type!="string")throw new Error(xt(17));if(u)throw new Error(xt(9));try{u=!0,a=n(a,v)}finally{u=!1}return(i=s).forEach(x=>{x()}),v}function m(v){if(typeof v!="function")throw new Error(xt(10));n=v,h({type:Pf.REPLACE})}function p(){const v=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(xt(11));function x(){const j=g;j.next&&j.next(d())}return x(),{unsubscribe:v(x)}},[Gj](){return this}}}return h({type:Pf.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Gj]:p}}function uV(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Pf.INIT})>"u")throw new Error(xt(12));if(typeof r(void 0,{type:Pf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xt(13))})}function DO(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{uV(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let u=!1;const c={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(xt(14));c[f]=p,u=u||p!==m}return u=u||n.length!==Object.keys(s).length,u?c:s}}function Of(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function cV(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(xt(15))};const s={getState:a.getState,dispatch:(u,...c)=>i(u,...c)},o=e.map(u=>u(s));return i=Of(...o)(a.dispatch),{...a,dispatch:i}}}function RO(e){return xx(e)&&"type"in e&&typeof e.type=="string"}var LO=Symbol.for("immer-nothing"),Qj=Symbol.for("immer-draftable"),Ut=Symbol.for("immer-state");function Xr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var hr=Object,No=hr.getPrototypeOf,Af="constructor",nm="prototype",Ly="configurable",Tf="enumerable",Td="writable",gu="value",aa=e=>!!e&&!!e[Ut];function on(e){var t;return e?$O(e)||am(e)||!!e[Qj]||!!((t=e[Af])!=null&&t[Qj])||im(e)||sm(e):!1}var dV=hr[nm][Af].toString(),Zj=new WeakMap;function $O(e){if(!e||!bx(e))return!1;const t=No(e);if(t===null||t===hr[nm])return!0;const r=hr.hasOwnProperty.call(t,Af)&&t[Af];if(r===Object)return!0;if(!xs(r))return!1;let n=Zj.get(r);return n===void 0&&(n=Function.toString.call(r),Zj.set(r,n)),n===dV}function Ju(e,t,r=!0){ec(e)===0?(r?Reflect.ownKeys(e):hr.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function ec(e){const t=e[Ut];return t?t.type_:am(e)?1:im(e)?2:sm(e)?3:0}var Jj=(e,t,r=ec(e))=>r===2?e.has(t):hr[nm].hasOwnProperty.call(e,t),$y=(e,t,r=ec(e))=>r===2?e.get(t):e[t],Mf=(e,t,r,n=ec(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function fV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var am=Array.isArray,im=e=>e instanceof Map,sm=e=>e instanceof Set,bx=e=>typeof e=="object",xs=e=>typeof e=="function",zp=e=>typeof e=="boolean",Rn=e=>e.copy_||e.base_,wx=e=>e.modified_?e.copy_:e.base_;function zy(e,t){if(im(e))return new Map(e);if(sm(e))return new Set(e);if(am(e))return Array[nm].slice.call(e);const r=$O(e);if(t===!0||t==="class_only"&&!r){const n=hr.getOwnPropertyDescriptors(e);delete n[Ut];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o[Td]===!1&&(o[Td]=!0,o[Ly]=!0),(o.get||o.set)&&(n[s]={[Ly]:!0,[Td]:!0,[Tf]:o[Tf],[gu]:e[s]})}return hr.create(No(e),n)}else{const n=No(e);if(n!==null&&r)return{...e};const a=hr.create(n);return hr.assign(a,e)}}function jx(e,t=!1){return om(e)||aa(e)||!on(e)||(ec(e)>1&&hr.defineProperties(e,{set:Jc,add:Jc,clear:Jc,delete:Jc}),hr.freeze(e),t&&Ju(e,(r,n)=>{jx(n,!0)},!1)),e}function hV(){Xr(2)}var Jc={[gu]:hV};function om(e){return e===null||!bx(e)?!0:hr.isFrozen(e)}var If="MapSet",Fy="Patches",zO={};function _o(e){const t=zO[e];return t||Xr(0,e),t}var mV=e=>!!zO[e],yu,FO=()=>yu,pV=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:mV(If)?_o(If):void 0});function ek(e,t){t&&(e.patchPlugin_=_o(Fy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function By(e){Uy(e),e.drafts_.forEach(gV),e.drafts_=null}function Uy(e){e===yu&&(yu=e.parent_)}var tk=e=>yu=pV(yu,e);function gV(e){const t=e[Ut];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function rk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Ut].modified_&&(By(t),Xr(4)),on(e)&&(e=nk(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Ut].base_,e,t)}else e=nk(t,r);return yV(t,e,!0),By(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==LO?e:void 0}function nk(e,t){if(om(t))return t;const r=t[Ut];if(!r)return kx(t,e.handledSet_,e);if(!lm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);HO(r,e)}return r.copy_}function yV(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&jx(t,r)}function BO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var lm=(e,t)=>e.scope_===t,vV=[];function UO(e,t,r,n){const a=Rn(e),i=e.type_;if(n!==void 0&&$y(a,n,i)===t){Mf(a,n,r,i);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;Ju(a,(u,c)=>{if(aa(c)){const d=o.get(c)||[];d.push(u),o.set(c,d)}})}const s=e.draftLocations_.get(t)??vV;for(const o of s)Mf(a,o,r,i)}function xV(e,t,r){e.callbacks_.push(function(a){var o;const i=t;if(!i||!lm(i,a))return;(o=a.mapSetPlugin_)==null||o.fixSetContents(i);const s=wx(i);UO(e,i.draft_??i,s,r),HO(i,a)})}function HO(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}BO(e)}}function bV(e,t,r){const{scope_:n}=e;if(aa(r)){const a=r[Ut];lm(a,n)&&a.callbacks_.push(function(){Md(e);const s=wx(a);UO(e,r,s,t)})}else on(r)&&e.callbacks_.push(function(){const i=Rn(e);$y(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&kx($y(e.copy_,t,e.type_),n.handledSet_,n)})}function kx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||aa(e)||t.has(e)||!on(e)||om(e)||(t.add(e),Ju(e,(n,a)=>{if(aa(a)){const i=a[Ut];if(lm(i,r)){const s=wx(i);Mf(e,n,s,e.type_),BO(i)}}else on(a)&&kx(a,t,r)})),e}function wV(e,t){const r=am(e),n={type_:r?1:0,scope_:t?t.scope_:FO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Nx;r&&(a=[n],i=vu);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,[o,n]}var Nx={get(e,t){if(t===Ut)return e;const r=Rn(e);if(!Jj(r,t,e.type_))return jV(e,r,t);const n=r[t];if(e.finalized_||!on(n))return n;if(n===Fp(e.base_,t)){Md(e);const a=e.type_===1?+t:t,i=Vy(e.scope_,n,e,a);return e.copy_[a]=i}return n},has(e,t){return t in Rn(e)},ownKeys(e){return Reflect.ownKeys(Rn(e))},set(e,t,r){const n=VO(Rn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Fp(Rn(e),t),i=a==null?void 0:a[Ut];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(fV(r,a)&&(r!==void 0||Jj(e.base_,t,e.type_)))return!0;Md(e),Hy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),bV(e,t,r)),!0},deleteProperty(e,t){return Md(e),Fp(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Hy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Rn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Td]:!0,[Ly]:e.type_!==1||t!=="length",[Tf]:n[Tf],[gu]:r[t]}},defineProperty(){Xr(11)},getPrototypeOf(e){return No(e.base_)},setPrototypeOf(){Xr(12)}},vu={};Ju(Nx,(e,t)=>{vu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});vu.deleteProperty=function(e,t){return vu.set.call(this,e,t,void 0)};vu.set=function(e,t,r){return Nx.set.call(this,e[0],t,r,e[0])};function Fp(e,t){const r=e[Ut];return(r?Rn(r):e)[t]}function jV(e,t,r){var a;const n=VO(t,r);return n?gu in n?n[gu]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function VO(e,t){if(!(t in e))return;let r=No(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=No(r)}}function Hy(e){e.modified_||(e.modified_=!0,e.parent_&&Hy(e.parent_))}function Md(e){e.copy_||(e.assigned_=new Map,e.copy_=zy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var kV=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(xs(r)&&!xs(n)){const s=n;n=r;const o=this;return function(c=s,...d){return o.produce(c,f=>n.call(this,f,...d))}}xs(n)||Xr(6),a!==void 0&&!xs(a)&&Xr(7);let i;if(on(r)){const s=tk(this),o=Vy(s,r,void 0);let u=!0;try{i=n(o),u=!1}finally{u?By(s):Uy(s)}return ek(s,a),rk(i,s)}else if(!r||!bx(r)){if(i=n(r),i===void 0&&(i=r),i===LO&&(i=void 0),this.autoFreeze_&&jx(i,!0),a){const s=[],o=[];_o(Fy).generateReplacementPatches_(r,i,{patches_:s,inversePatches_:o}),a(s,o)}return i}else Xr(1,r)},this.produceWithPatches=(r,n)=>{if(xs(r))return(o,...u)=>this.produceWithPatches(o,c=>r(c,...u));let a,i;return[this.produce(r,n,(o,u)=>{a=o,i=u}),a,i]},zp(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),zp(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),zp(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){on(t)||Xr(8),aa(t)&&(t=rn(t));const r=tk(this),n=Vy(r,t,void 0);return n[Ut].isManual_=!0,Uy(r),n}finishDraft(t,r){const n=t&&t[Ut];(!n||!n.isManual_)&&Xr(9);const{scope_:a}=n;return ek(a,r),rk(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=_o(Fy).applyPatches_;return aa(t)?a(t,r):this.produce(t,i=>a(i,r))}};function Vy(e,t,r,n){const[a,i]=im(t)?_o(If).proxyMap_(t,r):sm(t)?_o(If).proxySet_(t,r):wV(t,r);return((r==null?void 0:r.scope_)??FO()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?xV(r,i,n):i.callbacks_.push(function(u){var d;(d=u.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:c}=u;i.modified_&&c&&c.generatePatches_(i,[],u)}),a}function rn(e){return aa(e)||Xr(10,e),WO(e)}function WO(e){if(!on(e)||om(e))return e;const t=e[Ut];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=zy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=zy(e,!0);return Ju(r,(a,i)=>{Mf(r,a,WO(i))},n),t&&(t.finalized_=!1),r}var NV=new kV,KO=NV.produce;function qO(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var _V=qO(),SV=qO,EV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Of:Of.apply(null,arguments)};function Dr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(pr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>RO(n)&&n.type===e,r}var YO=class El extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,El.prototype)}static get[Symbol.species](){return El}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new El(...t[0].concat(this)):new El(...t.concat(this))}};function ak(e){return on(e)?KO(e,()=>{}):e}function ed(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function CV(e){return typeof e=="boolean"}var PV=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new YO;return r&&(CV(r)?s.push(_V):s.push(SV(r.extraArgument))),s},XO="RTK_autoBatch",De=()=>e=>({payload:e,meta:{[XO]:!0}}),ik=e=>t=>{setTimeout(t,e)},GO=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const o=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ik(10):e.type==="callback"?e.queueNotification:ik(e.timeout),c=()=>{s=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[XO]),i=!a,i&&(s||(s=!0,u(c))),n.dispatch(d)}finally{a=!0}}})},OV=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new YO(e);return n&&a.push(GO(typeof n=="object"?n:void 0)),a};function AV(e){const t=PV(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(xx(r))o=DO(r);else throw new Error(pr(1));let u;typeof n=="function"?u=n(t):u=t();let c=Of;a&&(c=EV({trace:!1,...typeof a=="object"&&a}));const d=cV(...u),f=OV(d);let h=typeof s=="function"?s(f):f();const m=c(...h);return IO(o,i,m)}function QO(e){const t={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(pr(28));if(o in t)throw new Error(pr(29));return t[o]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function TV(e){return typeof e=="function"}function MV(e,t){let[r,n,a]=QO(t),i;if(TV(e))i=()=>ak(e());else{const o=ak(e);i=()=>o}function s(o=i(),u){let c=[r[u.type],...n.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[a]),c.reduce((d,f)=>{if(f)if(aa(d)){const m=f(d,u);return m===void 0?d:m}else{if(on(d))return KO(d,h=>f(h,u));{const h=f(d,u);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=i,s}var IV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",DV=(e=21)=>{let t="",r=e;for(;r--;)t+=IV[Math.random()*64|0];return t},RV=Symbol.for("rtk-slice-createasyncthunk");function LV(e,t){return`${e}/${t}`}function $V({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[RV];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(pr(11));const o=(typeof a.reducers=="function"?a.reducers(FV()):a.reducers)||{},u=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,k){const _=typeof j=="string"?j:j.type;if(!_)throw new Error(pr(12));if(_ in c.sliceCaseReducersByType)throw new Error(pr(13));return c.sliceCaseReducersByType[_]=k,d},addMatcher(j,k){return c.sliceMatchers.push({matcher:j,reducer:k}),d},exposeAction(j,k){return c.actionCreators[j]=k,d},exposeCaseReducer(j,k){return c.sliceCaseReducersByName[j]=k,d}};u.forEach(j=>{const k=o[j],_={reducerName:j,type:LV(i,j),createNotation:typeof a.reducers=="function"};UV(k)?VV(_,k,d,t):BV(_,k,d)});function f(){const[j={},k=[],_=void 0]=typeof a.extraReducers=="function"?QO(a.extraReducers):[a.extraReducers],N={...j,...c.sliceCaseReducersByType};return MV(a.initialState,S=>{for(let C in N)S.addCase(C,N[C]);for(let C of c.sliceMatchers)S.addMatcher(C.matcher,C.reducer);for(let C of k)S.addMatcher(C.matcher,C.reducer);_&&S.addDefaultCase(_)})}const h=j=>j,m=new Map,p=new WeakMap;let y;function v(j,k){return y||(y=f()),y(j,k)}function g(){return y||(y=f()),y.getInitialState()}function x(j,k=!1){function _(S){let C=S[j];return typeof C>"u"&&k&&(C=ed(p,_,g)),C}function N(S=h){const C=ed(m,k,()=>new WeakMap);return ed(C,S,()=>{const M={};for(const[O,P]of Object.entries(a.selectors??{}))M[O]=zV(P,S,()=>ed(p,S,g),k);return M})}return{reducerPath:j,getSelectors:N,get selectors(){return N(_)},selectSlice:_}}const b={name:i,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:g,...x(s),injectInto(j,{reducerPath:k,..._}={}){const N=k??s;return j.inject({reducerPath:N,reducer:v},_),{...b,...x(N,!0)}}};return b}}function zV(e,t,r,n){function a(i,...s){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return a.unwrapped=e,a}var ir=$V();function FV(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function BV({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!HV(n))throw new Error(pr(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Dr(e,s):Dr(e))}function UV(e){return e._reducerDefinitionType==="asyncThunk"}function HV(e){return e._reducerDefinitionType==="reducerWithPrepare"}function VV({type:e,reducerName:t},r,n,a){if(!a)throw new Error(pr(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:u,settled:c,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),u&&n.addCase(f.rejected,u),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:s||td,pending:o||td,rejected:u||td,settled:c||td})}function td(){}var WV="task",ZO="listener",JO="completed",_x="cancelled",KV=`task-${_x}`,qV=`task-${JO}`,Wy=`${ZO}-${_x}`,YV=`${ZO}-${JO}`,um=class{constructor(e){el(this,"name","TaskAbortError");el(this,"message");this.code=e,this.message=`${WV} ${_x} (reason: ${e})`}},Sx=(e,t)=>{if(typeof e!="function")throw new TypeError(pr(32))},Df=()=>{},eA=(e,t=Df)=>(e.catch(t),e),tA=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Fi=e=>{if(e.aborted)throw new um(e.reason)};function rA(e,t){let r=Df;return new Promise((n,a)=>{const i=()=>a(new um(e.reason));if(e.aborted){i();return}r=tA(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Df})}var XV=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof um?"cancelled":"rejected",error:r}}finally{t==null||t()}},Rf=e=>t=>eA(rA(e,t).then(r=>(Fi(e),r))),nA=e=>{const t=Rf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Vs}=Object,sk={},cm="listenerMiddleware",GV=(e,t)=>{const r=n=>tA(e,()=>n.abort(e.reason));return(n,a)=>{Sx(n);const i=new AbortController;r(i);const s=XV(async()=>{Fi(e),Fi(i.signal);const o=await n({pause:Rf(i.signal),delay:nA(i.signal),signal:i.signal});return Fi(i.signal),o},()=>i.abort(qV));return a!=null&&a.autoJoin&&t.push(s.catch(Df)),{result:Rf(e)(s),cancel(){i.abort(KV)}}}},QV=(e,t)=>{const r=async(n,a)=>{Fi(t);let i=()=>{};const o=[new Promise((u,c)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),u([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),c()}})];a!=null&&o.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await rA(t,Promise.race(o));return Fi(t),u}finally{i()}};return(n,a)=>eA(r(n,a))},aA=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Dr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(pr(21));return Sx(i),{predicate:a,type:t,effect:i}},iA=Vs(e=>{const{type:t,predicate:r,effect:n}=aA(e);return{id:DV(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(pr(22))}}},{withTypes:()=>iA}),ok=(e,t)=>{const{type:r,effect:n,predicate:a}=aA(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Ky=e=>{e.pending.forEach(t=>{t.abort(Wy)})},ZV=(e,t)=>()=>{for(const r of t.keys())Ky(r);e.clear()},lk=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},sA=Vs(Dr(`${cm}/add`),{withTypes:()=>sA}),JV=Dr(`${cm}/removeAll`),oA=Vs(Dr(`${cm}/remove`),{withTypes:()=>oA}),eW=(...e)=>{console.error(`${cm}/error`,...e)},tc=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:i,onError:s=eW}=e;Sx(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&Ky(m)}),u=m=>{const p=ok(t,m)??iA(m);return o(p)};Vs(u,{withTypes:()=>u});const c=m=>{const p=ok(t,m);return p&&(p.unsubscribe(),m.cancelActive&&Ky(p)),!!p};Vs(c,{withTypes:()=>c});const d=async(m,p,y,v)=>{const g=new AbortController,x=QV(u,g.signal),b=[];try{m.pending.add(g),n(m),await Promise.resolve(m.effect(p,Vs({},y,{getOriginalState:v,condition:(j,k)=>x(j,k).then(Boolean),take:x,delay:nA(g.signal),pause:Rf(g.signal),extra:i,signal:g.signal,fork:GV(g.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((j,k,_)=>{j!==g&&(j.abort(Wy),_.delete(j))})},cancel:()=>{g.abort(Wy),m.pending.delete(g)},throwIfCancelled:()=>{Fi(g.signal)}})))}catch(j){j instanceof um||lk(s,j,{raisedBy:"effect"})}finally{await Promise.all(b),g.abort(YV),a(m),m.pending.delete(g)}},f=ZV(t,r);return{middleware:m=>p=>y=>{if(!RO(y))return p(y);if(sA.match(y))return u(y.payload);if(JV.match(y)){f();return}if(oA.match(y))return c(y.payload);let v=m.getState();const g=()=>{if(v===sk)throw new Error(pr(23));return v};let x;try{if(x=p(y),t.size>0){const b=m.getState(),j=Array.from(t.values());for(const k of j){let _=!1;try{_=k.predicate(y,b,v)}catch(N){_=!1,lk(s,N,{raisedBy:"predicate"})}_&&d(k,y,m,g)}}}finally{v=sk}return x},startListening:u,stopListening:c,clearListeners:f}};function pr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},lA=ir({name:"chartLayout",initialState:tW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:rW,setLayout:nW,setChartSize:aW,setScale:iW}=lA.actions,sW=lA.reducer;function uA(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(n){oW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oW(e,t,r){return(t=lW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lW(e){var t=uW(e,"string");return typeof t=="symbol"?t:t+""}function uW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tt(e,t,r){return gt(e)||gt(t)?r:Sn(t)?ko(e,t,r):typeof t=="function"?t(e):r}var cW=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&oe(e[i]))return Is(Is({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&oe(e[s]))return Is(Is({},e),{},{[s]:e[s]+(a||0)})}return e},us=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",cA=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,s=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||s.push(t),i||s.push(r),s},dA=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:u,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=a==="category"&&s.bandwidth?s.bandwidth()/p:0;if(y=m==="angleAxis"&&i&&i.length>=2?Jt(i[0]-i[1])*2*y:y,f||h){var v=(f||h||[]).map((g,x)=>{var b=n?n.indexOf(g):g;return{coordinate:s(b)+y,value:g,offset:y,index:x}});return v.filter(g=>!an(g.coordinate))}return u&&c?c.map((g,x)=>({coordinate:s(g)+y,value:g,index:x,offset:y})):s.ticks&&d!=null?s.ticks(d).map((g,x)=>({coordinate:s(g)+y,value:g,offset:y,index:x})):s.domain().map((g,x)=>({coordinate:s(g)+y,value:n?n[g]:g,index:x,offset:y}))},ck=1e-4,dW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-ck,i=Math.max(n[0],n[1])+ck,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},fW=(e,t)=>{if(!t||t.length!==2||!oe(t[0])||!oe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!oe(e[0])||e[0]<r)&&(a[0]=r),(!oe(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},hW=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=an(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},mW=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=an(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},pW={sign:hW,expand:dH,none:jo,silhouette:fH,wiggle:hH,positive:mW},gW=(e,t,r)=>{var n=pW[r],a=cH().keys(t).value((i,s)=>Number(Tt(i,s,0))).order(Dy).offset(n);return a(e)};function yW(e){return e==null?void 0:String(e)}var dk=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Tt(i,t.dataKey,t.scale.domain()[s]);return gt(o)?null:t.scale(o)-a/2+n},vW=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},xW=e=>{var t=e.flat(2).filter(oe);return[Math.min(...t),Math.max(...t)]},bW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],wW=(e,t,r)=>{if(e!=null)return bW(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((u,c)=>{var d=uA(c,t,r),f=xW(d);return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},fk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=rm(t,d=>d.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var u=a[s],c=a[s-1];i=Math.min((u.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function mk(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Is(Is({},t),{},{dataKey:r,payload:n,value:a,name:i})}function fA(e,t){if(e)return String(e);if(typeof t=="string")return t}var jW=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},kW=(e,t)=>t==="centric"?e.angle:e.radius,fa=e=>e.layout.width,ha=e=>e.layout.height,NW=e=>e.layout.scale,hA=e=>e.layout.margin,dm=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),fm=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),_W="data-recharts-item-index",SW="data-recharts-item-data-key",rc=60;function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return(t=CW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CW(e){var t=PW(e,"string");return typeof t=="symbol"?t:t+""}function PW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OW=e=>e.brush.height;function AW(e){var t=fm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:rc;return r+a}return r},0)}function TW(e){var t=fm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:rc;return r+a}return r},0)}function MW(e){var t=dm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function IW(e){var t=dm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var yt=W([fa,ha,hA,OW,AW,TW,MW,IW,TO,nV],(e,t,r,n,a,i,s,o,u,c)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=rd(rd({},f),d),m=h.bottom;h.bottom+=n,h=cW(h,u,c);var p=e-h.left-h.right,y=t-h.top-h.bottom;return rd(rd({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(y,0)})}),DW=W(yt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ex=W(fa,ha,(e,t)=>({x:0,y:0,width:e,height:t})),RW=w.createContext(null),sr=()=>w.useContext(RW)!=null,hm=e=>e.brush,mm=W([hm,yt,hA],(e,t,r)=>({height:e.height,x:oe(e.x)?e.x:t.left,y:oe(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:oe(e.width)?e.width:t.width})),mA={},pA={},gA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,o=null;const u=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{c&&d(),y()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{p(),s=void 0,o=null},v=()=>{d()},g=function(...x){if(a!=null&&a.aborted)return;s=this,o=x;const b=h==null;m(),u&&b&&d()};return g.schedule=m,g.cancel=y,g.flush=v,a==null||a.addEventListener("abort",y,{once:!0}),g}e.debounce=t})(gA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gA;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:u}=i,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...y){d=n.apply(this,y),f=null},a,{edges:c}),m=function(...y){return u!=null&&(f===null&&(f=Date.now()),Date.now()-f>=u)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(pA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pA;function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:o})}e.throttle=r})(mA);var LW=mA.throttle;const $W=Pn(LW);var $f=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>a[s++]))}},yA=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:s}=r,o=na(n)?e:Number(n),u=na(a)?t:Number(a);return i&&i>0&&(o?u=o/i:u&&(o=u*i),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:o,calculatedHeight:u}},zW={width:0,height:0,overflow:"visible"},FW={width:0,overflowX:"visible"},BW={height:0,overflowY:"visible"},UW={},HW=e=>{var{width:t,height:r}=e,n=na(t),a=na(r);return n&&a?zW:n?FW:a?BW:UW};function VW(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Ge(e){return Number.isFinite(e)}function En(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(null,arguments)}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(n){WW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WW(e,t,r){return(t=KW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KW(e){var t=qW(e,"string");return typeof t=="symbol"?t:t+""}function qW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vA=w.createContext({width:-1,height:-1});function YW(e){return En(e.width)&&En(e.height)}function xA(e){var{children:t,width:r,height:n}=e,a=w.useMemo(()=>({width:r,height:n}),[r,n]);return YW(a)?w.createElement(vA.Provider,{value:a},t):null}var Cx=()=>w.useContext(vA),XW=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:s=0,minHeight:o,maxHeight:u,children:c,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,y=w.useRef(null),v=w.useRef();v.current=m,w.useImperativeHandle(t,()=>y.current);var[g,x]=w.useState({containerWidth:n.width,containerHeight:n.height}),b=w.useCallback((S,C)=>{x(M=>{var O=Math.round(S),P=Math.round(C);return M.containerWidth===O&&M.containerHeight===P?M:{containerWidth:O,containerHeight:P}})},[]);w.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Zu;var S=P=>{var $,{width:E,height:R}=P[0].contentRect;b(E,R),($=v.current)===null||$===void 0||$.call(v,E,R)};d>0&&(S=$W(S,d,{trailing:!0,leading:!1}));var C=new ResizeObserver(S),{width:M,height:O}=y.current.getBoundingClientRect();return b(M,O),C.observe(y.current),()=>{C.disconnect()}},[b,d]);var{containerWidth:j,containerHeight:k}=g;$f(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:N}=yA(j,k,{width:a,height:i,aspect:r,maxHeight:u});return $f(_!=null&&_>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,N,a,i,s,o,r),w.createElement("div",{id:f?"".concat(f):void 0,className:Oe("recharts-responsive-container",h),style:yk(yk({},p),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:u}),ref:y},w.createElement("div",{style:HW({width:a,height:i})},w.createElement(xA,{width:_,height:N},c)))}),GW=w.forwardRef((e,t)=>{var r=Cx();if(En(r.width)&&En(r.height))return e.children;var{width:n,height:a}=VW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=yA(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return oe(i)&&oe(s)?w.createElement(xA,{width:i,height:s},e.children):w.createElement(XW,qy({},e,{width:n,height:a,ref:t}))});function bA(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var pm=()=>{var e,t=sr(),r=le(DW),n=le(mm),a=(e=le(hm))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},QW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wA=()=>{var e;return(e=le(yt))!==null&&e!==void 0?e:QW},Px=()=>le(fa),Ox=()=>le(ha),ZW=()=>le(e=>e.layout.margin),_e=e=>e.layout.layoutType,gm=()=>le(_e),JW=()=>{var e=gm();return e!==void 0},ym=e=>{var t=He(),r=sr(),{width:n,height:a}=e,i=Cx(),s=n,o=a;return i&&(s=i.width>0?i.width:n,o=i.height>0?i.height:a),w.useEffect(()=>{!r&&En(s)&&En(o)&&t(aW({width:s,height:o}))},[t,r,s,o]),null},jA=Symbol.for("immer-nothing"),vk=Symbol.for("immer-draftable"),vr=Symbol.for("immer-state");function Gr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xu=Object.getPrototypeOf;function So(e){return!!e&&!!e[vr]}function es(e){var t;return e?kA(e)||Array.isArray(e)||!!e[vk]||!!((t=e.constructor)!=null&&t[vk])||nc(e)||xm(e):!1}var eK=Object.prototype.constructor.toString(),xk=new WeakMap;function kA(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=xk.get(r);return n===void 0&&(n=Function.toString.call(r),xk.set(r,n)),n===eK}function zf(e,t,r=!0){vm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function vm(e){const t=e[vr];return t?t.type_:Array.isArray(e)?1:nc(e)?2:xm(e)?3:0}function Yy(e,t){return vm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function NA(e,t,r){const n=vm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function tK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nc(e){return e instanceof Map}function xm(e){return e instanceof Set}function mi(e){return e.copy_||e.base_}function Xy(e,t){if(nc(e))return new Map(e);if(xm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=kA(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[vr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(xu(e),n)}else{const n=xu(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Ax(e,t=!1){return bm(e)||So(e)||!es(e)||(vm(e)>1&&Object.defineProperties(e,{set:nd,add:nd,clear:nd,delete:nd}),Object.freeze(e),t&&Object.values(e).forEach(r=>Ax(r,!0))),e}function rK(){Gr(2)}var nd={value:rK};function bm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var nK={};function ts(e){const t=nK[e];return t||Gr(0,e),t}var bu;function _A(){return bu}function aK(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bk(e,t){t&&(ts("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Gy(e){Qy(e),e.drafts_.forEach(iK),e.drafts_=null}function Qy(e){e===bu&&(bu=e.parent_)}function wk(e){return bu=aK(bu,e)}function iK(e){const t=e[vr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function jk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[vr].modified_&&(Gy(t),Gr(4)),es(e)&&(e=Ff(t,e),t.parent_||Bf(t,e)),t.patches_&&ts("Patches").generateReplacementPatches_(r[vr].base_,e,t.patches_,t.inversePatches_)):e=Ff(t,r,[]),Gy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==jA?e:void 0}function Ff(e,t,r){if(bm(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[vr];if(!a)return zf(t,(i,s)=>kk(e,a,t,i,s,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Bf(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let s=i,o=!1;a.type_===3&&(s=new Set(i),i.clear(),o=!0),zf(s,(u,c)=>kk(e,a,i,u,c,r,o),n),Bf(e,i,!1),r&&e.patches_&&ts("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function kk(e,t,r,n,a,i,s){if(a==null||typeof a!="object"&&!s)return;const o=bm(a);if(!(o&&!s)){if(So(a)){const u=i&&t&&t.type_!==3&&!Yy(t.assigned_,n)?i.concat(n):void 0,c=Ff(e,a,u);if(NA(r,n,c),So(c))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(es(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;Ff(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(nc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Bf(e,a)}}}function Bf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ax(t,r)}function sK(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:_A(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Tx;r&&(a=[n],i=wu);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var Tx={get(e,t){if(t===vr)return e;const r=mi(e);if(!Yy(r,t))return oK(e,r,t);const n=r[t];return e.finalized_||!es(n)?n:n===Bp(e.base_,t)?(Up(e),e.copy_[t]=Jy(n,e)):n},has(e,t){return t in mi(e)},ownKeys(e){return Reflect.ownKeys(mi(e))},set(e,t,r){const n=SA(mi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Bp(mi(e),t),i=a==null?void 0:a[vr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(tK(r,a)&&(r!==void 0||Yy(e.base_,t)))return!0;Up(e),Zy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Bp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Up(e),Zy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=mi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Gr(11)},getPrototypeOf(e){return xu(e.base_)},setPrototypeOf(){Gr(12)}},wu={};zf(Tx,(e,t)=>{wu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});wu.deleteProperty=function(e,t){return wu.set.call(this,e,t,void 0)};wu.set=function(e,t,r){return Tx.set.call(this,e[0],t,r,e[0])};function Bp(e,t){const r=e[vr];return(r?mi(r):e)[t]}function oK(e,t,r){var a;const n=SA(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function SA(e,t){if(!(t in e))return;let r=xu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=xu(r)}}function Zy(e){e.modified_||(e.modified_=!0,e.parent_&&Zy(e.parent_))}function Up(e){e.copy_||(e.copy_=Xy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var lK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(u=i,...c){return s.produce(u,d=>r.call(this,d,...c))}}typeof r!="function"&&Gr(6),n!==void 0&&typeof n!="function"&&Gr(7);let a;if(es(t)){const i=wk(this),s=Jy(t,void 0);let o=!0;try{a=r(s),o=!1}finally{o?Gy(i):Qy(i)}return bk(i,n),jk(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===jA&&(a=void 0),this.autoFreeze_&&Ax(a,!0),n){const i=[],s=[];ts("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else Gr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,u=>t(u,...o));let n,a;return[this.produce(t,r,(s,o)=>{n=s,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){es(e)||Gr(8),So(e)&&(e=uK(e));const t=wk(this),r=Jy(e,void 0);return r[vr].isManual_=!0,Qy(t),r}finishDraft(e,t){const r=e&&e[vr];(!r||!r.isManual_)&&Gr(9);const{scope_:n}=r;return bk(n,t),jk(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ts("Patches").applyPatches_;return So(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Jy(e,t){const r=nc(e)?ts("MapSet").proxyMap_(e,t):xm(e)?ts("MapSet").proxySet_(e,t):sK(e,t);return(t?t.scope_:_A()).drafts_.push(r),r}function uK(e){return So(e)||Gr(10,e),EA(e)}function EA(e){if(!es(e)||bm(e))return e;const t=e[vr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Xy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Xy(e,!0);return zf(r,(a,i)=>{NA(r,a,EA(i))},n),t&&(t.finalized_=!1),r}var cK=new lK;cK.produce;var dK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},CA=ir({name:"legend",initialState:dK,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:De()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=rn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:De()},removeLegendPayload:{reducer(e,t){var r=rn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:De()}}}),{setLegendSize:Nk,setLegendSettings:fK,addLegendPayload:hK,replaceLegendPayload:mK,removeLegendPayload:pK}=CA.actions,gK=CA.reducer,yK=["contextPayload"];function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e0.apply(null,arguments)}function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(n){vK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vK(e,t,r){return(t=xK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wK(e,t){if(e==null)return{};var r,n,a=jK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kK(e){return e.value}function NK(e){var{contextPayload:t}=e,r=wK(e,yK),n=_O(t,e.payloadUniqBy,kK),a=Eo(Eo({},r),{},{payload:n});return w.isValidElement(e.content)?w.cloneElement(e.content,a):typeof e.content=="function"?w.createElement(e.content,a):w.createElement(BH,a)}function _K(e,t,r,n,a,i){var{layout:s,align:o,verticalAlign:u}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((n||0)-i.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?d={top:((a||0)-i.height)/2}:d=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Eo(Eo({},c),d)}function SK(e){var t=He();return w.useEffect(()=>{t(fK(e))},[t,e]),null}function EK(e){var t=He();return w.useEffect(()=>(t(Nk(e)),()=>{t(Nk({width:0,height:0}))}),[t,e]),null}function CK(e,t,r,n){return e==="vertical"&&oe(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var PK={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function PA(e){var t=Wt(e,PK),r=sV(),n=IU(),a=ZW(),{width:i,height:s,wrapperStyle:o,portal:u}=t,[c,d]=MO([r]),f=Px(),h=Ox();if(f==null||h==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),p=CK(t.layout,s,i,m),y=u?o:Eo(Eo({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||s||"auto"},_K(o,t,a,f,h,c)),o),v=u??n;if(v==null||r==null)return null;var g=w.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},w.createElement(SK,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&w.createElement(EK,{width:c.width,height:c.height}),w.createElement(NK,e0({},t,p,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return Ru.createPortal(g,v)}PA.displayName="Legend";function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t0.apply(null,arguments)}function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(r),!0).forEach(function(n){OK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OK(e,t,r){return(t=AK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AK(e){var t=TK(e,"string");return typeof t=="symbol"?t:t+""}function TK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MK(e){return Array.isArray(e)&&Sn(e[0])&&Sn(e[1])?e.join(" ~ "):e}var IK=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:u,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var k={padding:0,margin:0},_=(o?rm(i,o):i).map((N,S)=>{if(N.type==="none")return null;var C=N.formatter||s||MK,{value:M,name:O}=N,P=M,$=O;if(C){var E=C(M,O,N,S,i);if(Array.isArray(E))[P,$]=E;else if(E!=null)P=E;else return null}var R=Hp({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:R},Sn($)?w.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Sn($)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},P),w.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:k},_)}return null},p=Hp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=Hp({margin:0},a),v=!gt(d),g=v?d:"",x=Oe("recharts-default-tooltip",u),b=Oe("recharts-tooltip-label",c);v&&f&&i!==void 0&&i!==null&&(g=f(d,i));var j=h?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",t0({className:x,style:p},j),w.createElement("p",{className:b,style:y},w.isValidElement(g)?g:"".concat(g)),m())},fl="recharts-tooltip-wrapper",DK={visibility:"hidden"};function RK(e){var{coordinate:t,translateX:r,translateY:n}=e;return Oe(fl,{["".concat(fl,"-right")]:oe(r)&&t&&oe(t.x)&&r>=t.x,["".concat(fl,"-left")]:oe(r)&&t&&oe(t.x)&&r<t.x,["".concat(fl,"-bottom")]:oe(n)&&t&&oe(t.y)&&n>=t.y,["".concat(fl,"-top")]:oe(n)&&t&&oe(t.y)&&n<t.y})}function Ek(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:u,viewBoxDimension:c}=e;if(i&&oe(i[n]))return i[n];var d=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return s[n]?d:f;var h=u[n];if(h==null)return 0;if(s[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var y=f+o,v=h+c;return y>v?Math.max(d,h):Math.max(f,h)}function LK(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $K(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:u}=e,c,d,f;return s.height>0&&s.width>0&&r?(d=Ek({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),f=Ek({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=LK({translateX:d,translateY:f,useTranslate3d:o})):c=DK,{cssProperties:c,cssClasses:RK({translateX:d,translateY:f,coordinate:r})}}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(n){r0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r0(e,t,r){return(t=zK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zK(e){var t=FK(e,"string");return typeof t=="symbol"?t:t+""}function FK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BK extends w.PureComponent{constructor(){super(...arguments),r0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),r0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:u,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:y,innerRef:v,hasPortalFromProps:g}=this.props,{cssClasses:x,cssProperties:b}=$K({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:m}),j=g?{}:ad(ad({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=ad(ad({},j),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:k,ref:v},i)}}var OA=()=>{var e;return(e=le(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n0.apply(null,arguments)}function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ok(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(n){UK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UK(e,t,r){return(t=HK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ak={curveBasisClosed:JU,curveBasisOpen:eH,curveBasis:ZU,curveBumpX:$U,curveBumpY:zU,curveLinearClosed:tH,curveLinear:Xh,curveMonotoneX:rH,curveMonotoneY:nH,curveNatural:aH,curveStep:iH,curveStepAfter:oH,curveStepBefore:sH},Uf=e=>Ge(e.x)&&Ge(e.y),Tk=e=>e.base!=null&&Uf(e.base)&&Uf(e),hl=e=>e.x,ml=e=>e.y,WK=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Qu(e));return(r==="curveMonotone"||r==="curveBump")&&t?Ak["".concat(r).concat(t==="vertical"?"Y":"X")]:Ak[r]||Xh},KK=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=WK(t,a),o=i?r.filter(Uf):r,u;if(Array.isArray(n)){var c=r.map((m,p)=>Ok(Ok({},m),{},{base:n[p]}));a==="vertical"?u=Gc().y(ml).x1(hl).x0(m=>m.base.x):u=Gc().x(hl).y1(ml).y0(m=>m.base.y);var d=u.defined(Tk).curve(s),f=i?c.filter(Tk):c;return d(f)}a==="vertical"&&oe(n)?u=Gc().y(ml).x1(hl).x0(n):oe(n)?u=Gc().x(hl).y1(ml).y0(n):u=KP().x(hl).y(ml);var h=u.defined(Uf).curve(s);return h(o)},AA=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?KK(e):n;return w.createElement("path",n0({},ta(e),CH(e),{className:Oe("recharts-curve",t),d:i===null?void 0:i,ref:a}))},qK=["x","y","top","left","width","height","className"];function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(null,arguments)}function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(n){XK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=QK(e,"string");return typeof t=="symbol"?t:t+""}function QK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZK(e,t){if(e==null)return{};var r,n,a=JK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eq=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),tq=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=e,u=ZK(e,qK),c=YK({x:t,y:r,top:n,left:a,width:i,height:s},u);return!oe(t)||!oe(r)||!oe(i)||!oe(s)||!oe(n)||!oe(a)?null:w.createElement("path",a0({},Ir(c),{className:Oe("recharts-cross",o),d:eq(t,r,i,s,n,a)}))};function rq(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(n){nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nq(e,t,r){return(t=aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aq(e){var t=iq(e,"string");return typeof t=="symbol"?t:t+""}function iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),TA=(e,t,r)=>e.map(n=>"".concat(sq(n)," ").concat(t,"ms ").concat(r)).join(","),oq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),ju=(e,t)=>Object.keys(t).reduce((r,n)=>Dk(Dk({},r),{},{[n]:e(n,t[n])}),{});function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(n){lq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lq(e,t,r){return(t=uq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(e){var t=cq(e,"string");return typeof t=="symbol"?t:t+""}function cq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hf=(e,t,r)=>e+(t-e)*r,i0=e=>{var{from:t,to:r}=e;return t!==r},MA=(e,t,r)=>{var n=ju((a,i)=>{if(i0(i)){var[s,o]=e(i.from,i.to,i.velocity);return nt(nt({},i),{},{from:s,velocity:o})}return i},t);return r<1?ju((a,i)=>i0(i)?nt(nt({},i),{},{velocity:Hf(i.velocity,n[a].velocity,r),from:Hf(i.from,n[a].from,r)}):i,t):MA(e,n,r-1)};function dq(e,t,r,n,a,i){var s,o=n.reduce((h,m)=>nt(nt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),u=()=>ju((h,m)=>m.from,o),c=()=>!Object.values(o).filter(i0).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/r.dt;o=MA(r,o,p),a(nt(nt(nt({},e),t),u())),s=h,c()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function fq(e,t,r,n,a,i,s){var o=null,u=a.reduce((f,h)=>nt(nt({},f),{},{[h]:[e[h],t[h]]}),{}),c,d=f=>{c||(c=f);var h=(f-c)/n,m=ju((y,v)=>Hf(...v,r(h)),u);if(i(nt(nt(nt({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=ju((y,v)=>Hf(...v,r(1)),u);i(nt(nt(nt({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const hq=(e,t,r,n,a,i)=>{var s=oq(e,t);return r==null?()=>(a(nt(nt({},e),t)),()=>{}):r.isStepper===!0?dq(e,t,r,s,a,i):fq(e,t,r,n,s,a,i)};var Vf=1e-4,IA=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],DA=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Lk=(e,t)=>r=>{var n=IA(e,t);return DA(n,r)},mq=(e,t)=>r=>{var n=IA(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return DA(a,r)},pq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((a=i[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var s=i[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},gq=(e,t,r,n)=>{var a=Lk(e,r),i=Lk(t,n),s=mq(e,r),o=c=>c>1?1:c<0?0:c,u=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=a(f)-d,p=s(f);if(Math.abs(m-d)<Vf||p<Vf)return i(f);f=o(f-m/p)}return i(f)};return u.isStepper=!1,u},$k=function(){return gq(...pq(...arguments))},yq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,o,u)=>{var c=-(s-o)*r,d=u*n,f=u+(c-d)*a/1e3,h=u*a/1e3+s;return Math.abs(h-o)<Vf&&Math.abs(f)<Vf?[o,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},vq=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $k(e);case"spring":return yq();default:if(e.split("(")[0]==="cubic-bezier")return $k(e)}return typeof e=="function"?e:null};function xq(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[u,...c]=o;if(typeof u=="number"){a=e.setTimeout(i.bind(null,c),u);return}i(u),a=e.setTimeout(i.bind(null,c));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class bq{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function wq(){return xq(new bq)}var jq=w.createContext(wq);function kq(e,t){var r=w.useContext(jq);return w.useMemo(()=>t??r(e),[e,t,r])}var Nq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ac={devToolsEnabled:!1,isSsr:Nq()},_q={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},zk={t:0},Vp={t:1};function Mx(e){var t=Wt(e,_q),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:u,children:c}=t,d=r==="auto"?!ac.isSsr:r,f=kq(t.animationId,t.animationManager),[h,m]=w.useState(d?zk:Vp),p=w.useRef(null);return w.useEffect(()=>{d||m(Vp)},[d]),w.useEffect(()=>{if(!d||!n)return Zu;var y=hq(zk,Vp,vq(i),a,m,f.getTimeoutController()),v=()=>{p.current=y()};return f.start([u,s,v,a,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,n,a,i,s,u,o,f]),c(h.t)}function Ix(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(pu(t)),n=w.useRef(e);return n.current!==e&&(r.current=pu(t),n.current=e),r.current}var Sq=["radius"],Eq=["radius"];function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(n){Cq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cq(e,t,r){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wf.apply(null,arguments)}function Uk(e,t){if(e==null)return{};var r,n,a=Aq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Aq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hk=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,c;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];c="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+o*d[0],",").concat(t)),c+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+s*d[1])),c+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),c+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-s*d[3])),c+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);c="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(t+n-s*m," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},Vk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RA=e=>{var t=Wt(e,Vk),r=w.useRef(null),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var L=r.current.getTotalLength();L&&a(L)}catch{}},[]);var{x:i,y:s,width:o,height:u,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:y}=t,v=w.useRef(o),g=w.useRef(u),x=w.useRef(i),b=w.useRef(s),j=w.useMemo(()=>({x:i,y:s,width:o,height:u,radius:c}),[i,s,o,u,c]),k=Ix(j,"rectangle-");if(i!==+i||s!==+s||o!==+o||u!==+u||o===0||u===0)return null;var _=Oe("recharts-rectangle",d);if(!y){var N=Ir(t),{radius:S}=N,C=Uk(N,Sq);return w.createElement("path",Wf({},C,{radius:typeof c=="number"?c:void 0,className:_,d:Hk(i,s,o,u,c)}))}var M=v.current,O=g.current,P=x.current,$=b.current,E="0px ".concat(n===-1?1:n,"px"),R="".concat(n,"px 0px"),D=TA(["strokeDasharray"],h,typeof f=="string"?f:Vk.animationEasing);return w.createElement(Mx,{animationId:k,key:k,canBegin:n>0,duration:h,easing:f,isActive:y,begin:m},L=>{var A=wt(M,o,L),I=wt(O,u,L),T=wt(P,i,L),F=wt($,s,L);r.current&&(v.current=A,g.current=I,x.current=T,b.current=F);var B;p?L>0?B={transition:D,strokeDasharray:R}:B={strokeDasharray:E}:B={strokeDasharray:R};var q=Ir(t),{radius:K}=q,G=Uk(q,Eq);return w.createElement("path",Wf({},G,{radius:typeof c=="number"?c:void 0,className:_,d:Hk(T,F,A,I,c),ref:r,style:Bk(Bk({},B),t.style)}))})};function Wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(r),!0).forEach(function(n){Tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t,r){return(t=Mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mq(e){var t=Iq(e,"string");return typeof t=="symbol"?t:t+""}function Iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kf=Math.PI/180,Dq=e=>e*180/Math.PI,kt=(e,t,r,n)=>({x:e+Math.cos(-Kf*n)*r,y:t+Math.sin(-Kf*n)*r}),Rq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Lq=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},$q=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=Lq({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,u=Math.acos(o);return n>i&&(u=2*Math.PI-u),{radius:s,angle:Dq(u),angleInRadian:u}},zq=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},Fq=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},Bq=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=$q({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o||a===0)return null;var{startAngle:u,endAngle:c}=zq(t),d=i,f;if(u<=c){for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}else{for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}return f?Kk(Kk({},t),{},{radius:a,angle:Fq(d,t)}):null};function LA(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=kt(t,r,n,a),o=kt(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s0.apply(null,arguments)}var Uq=(e,t)=>{var r=Jt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},id=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:u}=e,c=o*(s?1:-1)+n,d=Math.asin(o/c)/Kf,f=u?a:a+i*d,h=kt(t,r,c,f),m=kt(t,r,n,f),p=u?a-i*d:a,y=kt(t,r,c*Math.cos(d*Kf),p);return{center:h,circleTangency:m,lineTangency:y,theta:d}},$A=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=Uq(i,s),u=i+o,c=kt(t,r,a,i),d=kt(t,r,a,u),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=kt(t,r,n,i),m=kt(t,r,n,u);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},Hq=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:u,endAngle:c}=e,d=Jt(c-u),{circleTangency:f,lineTangency:h,theta:m}=id({cx:t,cy:r,radius:a,angle:u,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:y,theta:v}=id({cx:t,cy:r,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:o}),g=o?Math.abs(u-c):Math.abs(u-c)-m-v;if(g<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):$A({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:c});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:k}=id({cx:t,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:_,lineTangency:N,theta:S}=id({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),C=o?Math.abs(u-c):Math.abs(u-c)-k-S;if(C<0&&i===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},Vq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zA=e=>{var t=Wt(e,Vq),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:d,className:f}=t;if(i<a||c===d)return null;var h=Oe("recharts-sector",f),m=i-a,p=sn(s,m,0,!0),y;return p>0&&Math.abs(c-d)<360?y=Hq({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:d}):y=$A({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d}),w.createElement("path",s0({},Ir(t),{className:h,d:y}))};function Wq(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(oO(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:s,angle:o}=t,u=kt(n,a,i,o),c=kt(n,a,s,o);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return LA(t)}}var FA={},BA={},UA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yx;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(UA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UA;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(BA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vx,r=BA;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),u=new Array(o);for(let c=0;c<o;c++)u[c]=a,a+=s;return u}e.range=n})(FA);var Kq=FA.range;const HA=Pn(Kq);function Qa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qq(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dx(e){let t,r,n;e.length!==2?(t=Qa,r=(o,u)=>Qa(e(o),u),n=(o,u)=>e(o)-u):(t=e===Qa||e===qq?e:Yq,r=e,n=e);function a(o,u,c=0,d=o.length){if(c<d){if(t(u,u)!==0)return d;do{const f=c+d>>>1;r(o[f],u)<0?c=f+1:d=f}while(c<d)}return c}function i(o,u,c=0,d=o.length){if(c<d){if(t(u,u)!==0)return d;do{const f=c+d>>>1;r(o[f],u)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,u,c=0,d=o.length){const f=a(o,u,c,d-1);return f>c&&n(o[f-1],u)>-n(o[f],u)?f-1:f}return{left:a,center:s,right:i}}function Yq(){return 0}function VA(e){return e===null?NaN:+e}function*Xq(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Gq=Dx(Qa),ic=Gq.right;Dx(VA).center;class qk extends Map{constructor(t,r=Jq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Yk(this,t))}has(t){return super.has(Yk(this,t))}set(t,r){return super.set(Qq(this,t),r)}delete(t){return super.delete(Zq(this,t))}}function Yk({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Qq({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Zq({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Jq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function eY(e=Qa){if(e===Qa)return WA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function WA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tY=Math.sqrt(50),rY=Math.sqrt(10),nY=Math.sqrt(2);function qf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=tY?10:i>=rY?5:i>=nY?2:1;let o,u,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),u=Math.round(t*c),o/c<e&&++o,u/c>t&&--u,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),u=Math.round(t/c),o*c<e&&++o,u*c>t&&--u),u<o&&.5<=r&&r<2?qf(e,t,r*2):[o,u,c]}function o0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?qf(t,e,r):qf(e,t,r);if(!(i>=a))return[];const o=i-a+1,u=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)u[c]=(i-c)/-s;else for(let c=0;c<o;++c)u[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)u[c]=(a+c)/-s;else for(let c=0;c<o;++c)u[c]=(a+c)*s;return u}function l0(e,t,r){return t=+t,e=+e,r=+r,qf(e,t,r)[2]}function u0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?l0(t,e,r):l0(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Xk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Gk(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function KA(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?WA:eY(a);n>r;){if(n-r>600){const u=n-r+1,c=t-r+1,d=Math.log(u),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(u-f)/u)*(c-u/2<0?-1:1),m=Math.max(r,Math.floor(t-c*f/u+h)),p=Math.min(n,Math.floor(t+(u-c)*f/u+h));KA(e,t,m,p,a)}const i=e[t];let s=r,o=n;for(pl(e,r,t),a(e[n],i)>0&&pl(e,r,n);s<o;){for(pl(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?pl(e,r,o):(++o,pl(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function pl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function aY(e,t,r){if(e=Float64Array.from(Xq(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Gk(e);if(t>=1)return Xk(e);var n,a=(n-1)*t,i=Math.floor(a),s=Xk(KA(e,i).subarray(0,i+1)),o=Gk(e.subarray(i+1));return s+(o-s)*(a-i)}}function iY(e,t,r=VA){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function sY(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Lr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ma(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const c0=Symbol("implicit");function Rx(){var e=new qk,t=[],r=[],n=c0;function a(i){let s=e.get(i);if(s===void 0){if(n!==c0)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new qk;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Rx(t,r).unknown(n)},Lr.apply(a,arguments),a}function Lx(){var e=Rx().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,u=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,y=m?n:a;i=(y-p)/Math.max(1,h-u+c*2),o&&(i=Math.floor(i)),p+=(y-p-i*(h-u))*d,s=i*(1-u),o&&(p=Math.round(p),s=Math.round(s));var v=sY(h).map(function(g){return p+i*g});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),f()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),f()):u},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Lx(t(),[n,a]).round(o).paddingInner(u).paddingOuter(c).align(d)},Lr.apply(f(),arguments)}function qA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qA(t())},e}function oY(){return qA(Lx.apply(null,arguments).paddingInner(1))}function lY(e){return function(){return e}}function Yf(e){return+e}var Qk=[0,1];function $t(e){return e}function d0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:lY(isNaN(t)?NaN:.5)}function uY(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function cY(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=d0(a,n),i=r(s,i)):(n=d0(n,a),i=r(i,s)),function(o){return i(n(o))}}function dY(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=d0(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var u=ic(e,o,1,n)-1;return i[u](a[u](o))}}function sc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wm(){var e=Qk,t=Qk,r=qn,n,a,i,s=$t,o,u,c;function d(){var h=Math.min(e.length,t.length);return s!==$t&&(s=uY(e[0],e[h-1])),o=h>2?dY:cY,u=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(u||(u=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),qr)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Yf),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Av,d()},f.clamp=function(h){return arguments.length?(s=h?!0:$t,d()):s!==$t},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function $x(){return wm()($t,$t)}function fY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Co(e){return e=Xf(Math.abs(e)),e?e[1]:NaN}function hY(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],u=0;a>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),i.push(r.substring(a-=o,a+o)),!((u+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function mY(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var pY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ku(e){if(!(t=pY.exec(e)))throw new Error("invalid format: "+e);var t;return new zx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ku.prototype=zx.prototype;function zx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gY(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var YA;function yY(e,t){var r=Xf(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(YA=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Xf(e,Math.max(0,t+i-1))[0]}function Zk(e,t){var r=Xf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Jk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zk(e*100,t),r:Zk,s:yY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function eN(e){return e}var tN=Array.prototype.map,rN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vY(e){var t=e.grouping===void 0||e.thousands===void 0?eN:hY(tN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?eN:mY(tN.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(f){f=ku(f);var h=f.fill,m=f.align,p=f.sign,y=f.symbol,v=f.zero,g=f.width,x=f.comma,b=f.precision,j=f.trim,k=f.type;k==="n"?(x=!0,k="g"):Jk[k]||(b===void 0&&(b=12),j=!0,k="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var _=y==="$"?r:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",N=y==="$"?n:/[%p]/.test(k)?s:"",S=Jk[k],C=/[defgprs%]/.test(k);b=b===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function M(O){var P=_,$=N,E,R,D;if(k==="c")$=S(O)+$,O="";else{O=+O;var L=O<0||1/O<0;if(O=isNaN(O)?u:S(Math.abs(O),b),j&&(O=gY(O)),L&&+O==0&&p!=="+"&&(L=!1),P=(L?p==="("?p:o:p==="-"||p==="("?"":p)+P,$=(k==="s"?rN[8+YA/3]:"")+$+(L&&p==="("?")":""),C){for(E=-1,R=O.length;++E<R;)if(D=O.charCodeAt(E),48>D||D>57){$=(D===46?a+O.slice(E+1):O.slice(E))+$,O=O.slice(0,E);break}}}x&&!v&&(O=t(O,1/0));var A=P.length+O.length+$.length,I=A<g?new Array(g-A+1).join(h):"";switch(x&&v&&(O=t(I+O,I.length?g-$.length:1/0),I=""),m){case"<":O=P+O+$+I;break;case"=":O=P+I+O+$;break;case"^":O=I.slice(0,A=I.length>>1)+P+O+$+I.slice(A);break;default:O=I+P+O+$;break}return i(O)}return M.toString=function(){return f+""},M}function d(f,h){var m=c((f=ku(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Co(h)/3)))*3,y=Math.pow(10,-p),v=rN[8+p/3];return function(g){return m(y*g)+v}}return{format:c,formatPrefix:d}}var sd,Fx,XA;xY({thousands:",",grouping:[3],currency:["$",""]});function xY(e){return sd=vY(e),Fx=sd.format,XA=sd.formatPrefix,sd}function bY(e){return Math.max(0,-Co(Math.abs(e)))}function wY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Co(t)/3)))*3-Co(Math.abs(e)))}function jY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Co(t)-Co(e))+1}function GA(e,t,r,n){var a=u0(e,t,r),i;switch(n=ku(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=wY(a,s))&&(n.precision=i),XA(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=jY(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=bY(a))&&(n.precision=i-(n.type==="%")*2);break}}return Fx(n)}function si(e){var t=e.domain;return e.ticks=function(r){var n=t();return o0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return GA(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],u,c,d=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);d-- >0;){if(c=l0(s,o,r),c===u)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;u=c}return e},e}function QA(){var e=$x();return e.copy=function(){return sc(e,QA())},Lr.apply(e,arguments),si(e)}function ZA(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ZA(e).unknown(t)},e=arguments.length?Array.from(e,Yf):[0,1],si(r)}function JA(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function nN(e){return Math.log(e)}function aN(e){return Math.exp(e)}function kY(e){return-Math.log(-e)}function NY(e){return-Math.exp(-e)}function _Y(e){return isFinite(e)?+("1e"+e):e<0?0:e}function SY(e){return e===10?_Y:e===Math.E?Math.exp:t=>Math.pow(e,t)}function EY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iN(e){return(t,r)=>-e(-t,r)}function Bx(e){const t=e(nN,aN),r=t.domain;let n=10,a,i;function s(){return a=EY(n),i=SY(n),r()[0]<0?(a=iN(a),i=iN(i),e(kY,NY)):e(nN,aN),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const u=r();let c=u[0],d=u[u.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=a(c),m=a(d),p,y;const v=o==null?10:+o;let g=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(p=1;p<n;++p)if(y=h<0?p/i(-h):p*i(h),!(y<c)){if(y>d)break;g.push(y)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(y=h>0?p/i(-h):p*i(h),!(y<c)){if(y>d)break;g.push(y)}g.length*2<v&&(g=o0(c,d,v))}else g=o0(h,m,Math.min(m-h,v)).map(i);return f?g.reverse():g},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=ku(u)).precision==null&&(u.trim=!0),u=Fx(u)),o===1/0)return u;const c=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=c?u(d):""}},t.nice=()=>r(JA(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function eT(){const e=Bx(wm()).domain([1,10]);return e.copy=()=>sc(e,eT()).base(e.base()),Lr.apply(e,arguments),e}function sN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ux(e){var t=1,r=e(sN(t),oN(t));return r.constant=function(n){return arguments.length?e(sN(t=+n),oN(t)):t},si(r)}function tT(){var e=Ux(wm());return e.copy=function(){return sc(e,tT()).constant(e.constant())},Lr.apply(e,arguments)}function lN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function CY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PY(e){return e<0?-e*e:e*e}function Hx(e){var t=e($t,$t),r=1;function n(){return r===1?e($t,$t):r===.5?e(CY,PY):e(lN(r),lN(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},si(t)}function Vx(){var e=Hx(wm());return e.copy=function(){return sc(e,Vx()).exponent(e.exponent())},Lr.apply(e,arguments),e}function OY(){return Vx.apply(null,arguments).exponent(.5)}function uN(e){return Math.sign(e)*e*e}function AY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rT(){var e=$x(),t=[0,1],r=!1,n;function a(i){var s=AY(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(uN(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Yf)).map(uN)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return rT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Lr.apply(a,arguments),si(a)}function nT(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=iY(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[ic(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Qa),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return nT().domain(e).range(t).unknown(n)},Lr.apply(i,arguments)}function aT(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(u){return u!=null&&u<=u?a[ic(n,u,0,r)]:i}function o(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,o()):[e,t]},s.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,o()):a.slice()},s.invertExtent=function(u){var c=a.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(u){return arguments.length&&(i=u),s},s.thresholds=function(){return n.slice()},s.copy=function(){return aT().domain([e,t]).range(a).unknown(i)},Lr.apply(si(s),arguments)}function iT(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ic(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return iT().domain(e).range(t).unknown(r)},Lr.apply(a,arguments)}const Wp=new Date,Kp=new Date;function it(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const u=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return u;let c;do u.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return u},a.filter=i=>it(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Wp.setTime(+i),Kp.setTime(+s),e(Wp),e(Kp),Math.floor(r(Wp,Kp))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Gf=it(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?it(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Gf);Gf.range;const Vn=1e3,Or=Vn*60,Wn=Or*60,ia=Wn*24,Wx=ia*7,cN=ia*30,qp=ia*365,ki=it(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vn)},(e,t)=>(t-e)/Vn,e=>e.getUTCSeconds());ki.range;const Kx=it(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vn)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getMinutes());Kx.range;const qx=it(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getUTCMinutes());qx.range;const Yx=it(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vn-e.getMinutes()*Or)},(e,t)=>{e.setTime(+e+t*Wn)},(e,t)=>(t-e)/Wn,e=>e.getHours());Yx.range;const Xx=it(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wn)},(e,t)=>(t-e)/Wn,e=>e.getUTCHours());Xx.range;const oc=it(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Or)/ia,e=>e.getDate()-1);oc.range;const jm=it(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ia,e=>e.getUTCDate()-1);jm.range;const sT=it(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ia,e=>Math.floor(e/ia));sT.range;function cs(e){return it(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Or)/Wx)}const km=cs(0),Qf=cs(1),TY=cs(2),MY=cs(3),Po=cs(4),IY=cs(5),DY=cs(6);km.range;Qf.range;TY.range;MY.range;Po.range;IY.range;DY.range;function ds(e){return it(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Wx)}const Nm=ds(0),Zf=ds(1),RY=ds(2),LY=ds(3),Oo=ds(4),$Y=ds(5),zY=ds(6);Nm.range;Zf.range;RY.range;LY.range;Oo.range;$Y.range;zY.range;const Gx=it(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Gx.range;const Qx=it(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Qx.range;const sa=it(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());sa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:it(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});sa.range;const oa=it(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());oa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:it(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});oa.range;function oT(e,t,r,n,a,i){const s=[[ki,1,Vn],[ki,5,5*Vn],[ki,15,15*Vn],[ki,30,30*Vn],[i,1,Or],[i,5,5*Or],[i,15,15*Or],[i,30,30*Or],[a,1,Wn],[a,3,3*Wn],[a,6,6*Wn],[a,12,12*Wn],[n,1,ia],[n,2,2*ia],[r,1,Wx],[t,1,cN],[t,3,3*cN],[e,1,qp]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:u(c,d,f),p=m?m.range(c,+d+1):[];return h?p.reverse():p}function u(c,d,f){const h=Math.abs(d-c)/f,m=Dx(([,,v])=>v).right(s,h);if(m===s.length)return e.every(u0(c/qp,d/qp,f));if(m===0)return Gf.every(Math.max(u0(c,d,f),1));const[p,y]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(y)}return[o,u]}const[FY,BY]=oT(oa,Qx,Nm,sT,Xx,qx),[UY,HY]=oT(sa,Gx,km,oc,Yx,Kx);function Yp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Xp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function VY(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,u=e.shortMonths,c=yl(a),d=vl(a),f=yl(i),h=vl(i),m=yl(s),p=vl(s),y=yl(o),v=vl(o),g=yl(u),x=vl(u),b={a:L,A,b:I,B:T,c:null,d:gN,e:gN,f:hX,g:kX,G:_X,H:cX,I:dX,j:fX,L:lT,m:mX,M:pX,p:F,q:B,Q:xN,s:bN,S:gX,u:yX,U:vX,V:xX,w:bX,W:wX,x:null,X:null,y:jX,Y:NX,Z:SX,"%":vN},j={a:q,A:K,b:G,B:ie,c:null,d:yN,e:yN,f:OX,g:FX,G:UX,H:EX,I:CX,j:PX,L:cT,m:AX,M:TX,p:J,q:X,Q:xN,s:bN,S:MX,u:IX,U:DX,V:RX,w:LX,W:$X,x:null,X:null,y:zX,Y:BX,Z:HX,"%":vN},k={a:M,A:O,b:P,B:$,c:E,d:mN,e:mN,f:sX,g:hN,G:fN,H:pN,I:pN,j:rX,L:iX,m:tX,M:nX,p:C,q:eX,Q:lX,s:uX,S:aX,u:XY,U:GY,V:QY,w:YY,W:ZY,x:R,X:D,y:hN,Y:fN,Z:JY,"%":oX};b.x=_(r,b),b.X=_(n,b),b.c=_(t,b),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(U,Z){return function(Q){var V=[],ae=-1,se=0,he=U.length,de,Ie,zr;for(Q instanceof Date||(Q=new Date(+Q));++ae<he;)U.charCodeAt(ae)===37&&(V.push(U.slice(se,ae)),(Ie=dN[de=U.charAt(++ae)])!=null?de=U.charAt(++ae):Ie=de==="e"?" ":"0",(zr=Z[de])&&(de=zr(Q,Ie)),V.push(de),se=ae+1);return V.push(U.slice(se,ae)),V.join("")}}function N(U,Z){return function(Q){var V=gl(1900,void 0,1),ae=S(V,U,Q+="",0),se,he;if(ae!=Q.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(Z&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(se=Xp(gl(V.y,0,1)),he=se.getUTCDay(),se=he>4||he===0?Zf.ceil(se):Zf(se),se=jm.offset(se,(V.V-1)*7),V.y=se.getUTCFullYear(),V.m=se.getUTCMonth(),V.d=se.getUTCDate()+(V.w+6)%7):(se=Yp(gl(V.y,0,1)),he=se.getDay(),se=he>4||he===0?Qf.ceil(se):Qf(se),se=oc.offset(se,(V.V-1)*7),V.y=se.getFullYear(),V.m=se.getMonth(),V.d=se.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),he="Z"in V?Xp(gl(V.y,0,1)).getUTCDay():Yp(gl(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(he+5)%7:V.w+V.U*7-(he+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,Xp(V)):Yp(V)}}function S(U,Z,Q,V){for(var ae=0,se=Z.length,he=Q.length,de,Ie;ae<se;){if(V>=he)return-1;if(de=Z.charCodeAt(ae++),de===37){if(de=Z.charAt(ae++),Ie=k[de in dN?Z.charAt(ae++):de],!Ie||(V=Ie(U,Q,V))<0)return-1}else if(de!=Q.charCodeAt(V++))return-1}return V}function C(U,Z,Q){var V=c.exec(Z.slice(Q));return V?(U.p=d.get(V[0].toLowerCase()),Q+V[0].length):-1}function M(U,Z,Q){var V=m.exec(Z.slice(Q));return V?(U.w=p.get(V[0].toLowerCase()),Q+V[0].length):-1}function O(U,Z,Q){var V=f.exec(Z.slice(Q));return V?(U.w=h.get(V[0].toLowerCase()),Q+V[0].length):-1}function P(U,Z,Q){var V=g.exec(Z.slice(Q));return V?(U.m=x.get(V[0].toLowerCase()),Q+V[0].length):-1}function $(U,Z,Q){var V=y.exec(Z.slice(Q));return V?(U.m=v.get(V[0].toLowerCase()),Q+V[0].length):-1}function E(U,Z,Q){return S(U,t,Z,Q)}function R(U,Z,Q){return S(U,r,Z,Q)}function D(U,Z,Q){return S(U,n,Z,Q)}function L(U){return s[U.getDay()]}function A(U){return i[U.getDay()]}function I(U){return u[U.getMonth()]}function T(U){return o[U.getMonth()]}function F(U){return a[+(U.getHours()>=12)]}function B(U){return 1+~~(U.getMonth()/3)}function q(U){return s[U.getUTCDay()]}function K(U){return i[U.getUTCDay()]}function G(U){return u[U.getUTCMonth()]}function ie(U){return o[U.getUTCMonth()]}function J(U){return a[+(U.getUTCHours()>=12)]}function X(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var Z=_(U+="",b);return Z.toString=function(){return U},Z},parse:function(U){var Z=N(U+="",!1);return Z.toString=function(){return U},Z},utcFormat:function(U){var Z=_(U+="",j);return Z.toString=function(){return U},Z},utcParse:function(U){var Z=N(U+="",!0);return Z.toString=function(){return U},Z}}}var dN={"-":"",_:" ",0:"0"},vt=/^\s*\d+/,WY=/^%/,KY=/[\\^$*+?|[\]().{}]/g;function we(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function qY(e){return e.replace(KY,"\\$&")}function yl(e){return new RegExp("^(?:"+e.map(qY).join("|")+")","i")}function vl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function YY(e,t,r){var n=vt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function XY(e,t,r){var n=vt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function GY(e,t,r){var n=vt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function QY(e,t,r){var n=vt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ZY(e,t,r){var n=vt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function fN(e,t,r){var n=vt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function hN(e,t,r){var n=vt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function JY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function eX(e,t,r){var n=vt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function tX(e,t,r){var n=vt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function mN(e,t,r){var n=vt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function rX(e,t,r){var n=vt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function pN(e,t,r){var n=vt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function nX(e,t,r){var n=vt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function aX(e,t,r){var n=vt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function iX(e,t,r){var n=vt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function sX(e,t,r){var n=vt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function oX(e,t,r){var n=WY.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function lX(e,t,r){var n=vt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function uX(e,t,r){var n=vt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function gN(e,t){return we(e.getDate(),t,2)}function cX(e,t){return we(e.getHours(),t,2)}function dX(e,t){return we(e.getHours()%12||12,t,2)}function fX(e,t){return we(1+oc.count(sa(e),e),t,3)}function lT(e,t){return we(e.getMilliseconds(),t,3)}function hX(e,t){return lT(e,t)+"000"}function mX(e,t){return we(e.getMonth()+1,t,2)}function pX(e,t){return we(e.getMinutes(),t,2)}function gX(e,t){return we(e.getSeconds(),t,2)}function yX(e){var t=e.getDay();return t===0?7:t}function vX(e,t){return we(km.count(sa(e)-1,e),t,2)}function uT(e){var t=e.getDay();return t>=4||t===0?Po(e):Po.ceil(e)}function xX(e,t){return e=uT(e),we(Po.count(sa(e),e)+(sa(e).getDay()===4),t,2)}function bX(e){return e.getDay()}function wX(e,t){return we(Qf.count(sa(e)-1,e),t,2)}function jX(e,t){return we(e.getFullYear()%100,t,2)}function kX(e,t){return e=uT(e),we(e.getFullYear()%100,t,2)}function NX(e,t){return we(e.getFullYear()%1e4,t,4)}function _X(e,t){var r=e.getDay();return e=r>=4||r===0?Po(e):Po.ceil(e),we(e.getFullYear()%1e4,t,4)}function SX(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+we(t/60|0,"0",2)+we(t%60,"0",2)}function yN(e,t){return we(e.getUTCDate(),t,2)}function EX(e,t){return we(e.getUTCHours(),t,2)}function CX(e,t){return we(e.getUTCHours()%12||12,t,2)}function PX(e,t){return we(1+jm.count(oa(e),e),t,3)}function cT(e,t){return we(e.getUTCMilliseconds(),t,3)}function OX(e,t){return cT(e,t)+"000"}function AX(e,t){return we(e.getUTCMonth()+1,t,2)}function TX(e,t){return we(e.getUTCMinutes(),t,2)}function MX(e,t){return we(e.getUTCSeconds(),t,2)}function IX(e){var t=e.getUTCDay();return t===0?7:t}function DX(e,t){return we(Nm.count(oa(e)-1,e),t,2)}function dT(e){var t=e.getUTCDay();return t>=4||t===0?Oo(e):Oo.ceil(e)}function RX(e,t){return e=dT(e),we(Oo.count(oa(e),e)+(oa(e).getUTCDay()===4),t,2)}function LX(e){return e.getUTCDay()}function $X(e,t){return we(Zf.count(oa(e)-1,e),t,2)}function zX(e,t){return we(e.getUTCFullYear()%100,t,2)}function FX(e,t){return e=dT(e),we(e.getUTCFullYear()%100,t,2)}function BX(e,t){return we(e.getUTCFullYear()%1e4,t,4)}function UX(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Oo(e):Oo.ceil(e),we(e.getUTCFullYear()%1e4,t,4)}function HX(){return"+0000"}function vN(){return"%"}function xN(e){return+e}function bN(e){return Math.floor(+e/1e3)}var gs,fT,hT;VX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VX(e){return gs=VY(e),fT=gs.format,gs.parse,hT=gs.utcFormat,gs.utcParse,gs}function WX(e){return new Date(e)}function KX(e){return e instanceof Date?+e:+new Date(+e)}function Zx(e,t,r,n,a,i,s,o,u,c){var d=$x(),f=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),y=c("%I:%M"),v=c("%I %p"),g=c("%a %d"),x=c("%b %d"),b=c("%B"),j=c("%Y");function k(_){return(u(_)<_?m:o(_)<_?p:s(_)<_?y:i(_)<_?v:n(_)<_?a(_)<_?g:x:r(_)<_?b:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,KX)):h().map(WX)},d.ticks=function(_){var N=h();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?k:c(N)},d.nice=function(_){var N=h();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?h(JA(N,_)):d},d.copy=function(){return sc(d,Zx(e,t,r,n,a,i,s,o,u,c))},d}function qX(){return Lr.apply(Zx(UY,HY,sa,Gx,km,oc,Yx,Kx,ki,fT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YX(){return Lr.apply(Zx(FY,BY,oa,Qx,Nm,jm,Xx,qx,ki,hT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _m(){var e=0,t=1,r,n,a,i,s=$t,o=!1,u;function c(f){return f==null||isNaN(f=+f)?u:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),c):[s(0),s(1)]}}return c.range=d(qn),c.rangeRound=d(Av),c.unknown=function(f){return arguments.length?(u=f,c):u},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function oi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mT(){var e=si(_m()($t));return e.copy=function(){return oi(e,mT())},ma.apply(e,arguments)}function pT(){var e=Bx(_m()).domain([1,10]);return e.copy=function(){return oi(e,pT()).base(e.base())},ma.apply(e,arguments)}function gT(){var e=Ux(_m());return e.copy=function(){return oi(e,gT()).constant(e.constant())},ma.apply(e,arguments)}function Jx(){var e=Hx(_m());return e.copy=function(){return oi(e,Jx()).exponent(e.exponent())},ma.apply(e,arguments)}function XX(){return Jx.apply(null,arguments).exponent(.5)}function yT(){var e=[],t=$t;function r(n){if(n!=null&&!isNaN(n=+n))return t((ic(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Qa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>aY(e,i/n))},r.copy=function(){return yT(t).domain(e)},ma.apply(r,arguments)}function Sm(){var e=0,t=.5,r=1,n=1,a,i,s,o,u,c=$t,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-i)*(n*y<n*i?o:u),c(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,a=d(e=+e),i=d(t=+t),s=d(r=+r),o=a===i?0:.5/(i-a),u=i===s?0:.5/(s-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(c=y,m):c};function p(y){return function(v){var g,x,b;return arguments.length?([g,x,b]=v,c=rz(y,[g,x,b]),m):[c(0),c(.5),c(1)]}}return m.range=p(qn),m.rangeRound=p(Av),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,a=y(e),i=y(t),s=y(r),o=a===i?0:.5/(i-a),u=i===s?0:.5/(s-i),n=i<a?-1:1,m}}function vT(){var e=si(Sm()($t));return e.copy=function(){return oi(e,vT())},ma.apply(e,arguments)}function xT(){var e=Bx(Sm()).domain([.1,1,10]);return e.copy=function(){return oi(e,xT()).base(e.base())},ma.apply(e,arguments)}function bT(){var e=Ux(Sm());return e.copy=function(){return oi(e,bT()).constant(e.constant())},ma.apply(e,arguments)}function eb(){var e=Hx(Sm());return e.copy=function(){return oi(e,eb()).exponent(e.exponent())},ma.apply(e,arguments)}function GX(){return eb.apply(null,arguments).exponent(.5)}const Cl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lx,scaleDiverging:vT,scaleDivergingLog:xT,scaleDivergingPow:eb,scaleDivergingSqrt:GX,scaleDivergingSymlog:bT,scaleIdentity:ZA,scaleImplicit:c0,scaleLinear:QA,scaleLog:eT,scaleOrdinal:Rx,scalePoint:oY,scalePow:Vx,scaleQuantile:nT,scaleQuantize:aT,scaleRadial:rT,scaleSequential:mT,scaleSequentialLog:pT,scaleSequentialPow:Jx,scaleSequentialQuantile:yT,scaleSequentialSqrt:XX,scaleSequentialSymlog:gT,scaleSqrt:OY,scaleSymlog:tT,scaleThreshold:iT,scaleTime:qX,scaleUtc:YX,tickFormat:GA},Symbol.toStringTag,{value:"Module"}));var li=e=>e.chartData,QX=W([li],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),tb=(e,t,r,n)=>n?QX(e):li(e);function ti(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ge(t)&&Ge(r))return!0}return!1}function wN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function wT(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Ge(r))a=r;else if(typeof r=="function")return;if(Ge(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(ti(s))return s}}function ZX(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ti(n))return wN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,o;if(a==="auto")t!=null&&(s=Math.min(...t));else if(oe(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&fk.test(a)){var u=fk.exec(a);if(u==null||t==null)s=void 0;else{var c=+u[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(oe(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&hk.test(i)){var d=hk.exec(i);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(ti(h))return t==null?h:wN(h,t,r)}}}var Uo=1e9,JX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nb,Le=!0,Rr="[DecimalError] ",Bi=Rr+"Invalid argument: ",rb=Rr+"Exponent out of range: ",Ho=Math.floor,pi=Math.pow,eG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cr,ht=1e7,Te=7,jT=9007199254740991,Jf=Ho(jT/Te),ne={};ne.absoluteValue=ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ne.comparedTo=ne.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Te;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ne.dividedBy=ne.div=function(e){return Yn(this,new this.constructor(e))};ne.dividedToIntegerBy=ne.idiv=function(e){var t=this,r=t.constructor;return Se(Yn(t,new r(e),0,1),r.precision)};ne.equals=ne.eq=function(e){return!this.cmp(e)};ne.exponent=function(){return et(this)};ne.greaterThan=ne.gt=function(e){return this.cmp(e)>0};ne.greaterThanOrEqualTo=ne.gte=function(e){return this.cmp(e)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(e){return this.cmp(e)<0};ne.lessThanOrEqualTo=ne.lte=function(e){return this.cmp(e)<1};ne.logarithm=ne.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(cr))throw Error(Rr+"NaN");if(r.s<1)throw Error(Rr+(r.s?"NaN":"-Infinity"));return r.eq(cr)?new n(0):(Le=!1,t=Yn(Nu(r,i),Nu(e,i),i),Le=!0,Se(t,a))};ne.minus=ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_T(t,e):kT(t,(e.s=-e.s,e))};ne.modulo=ne.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Rr+"NaN");return r.s?(Le=!1,t=Yn(r,e,0,1).times(e),Le=!0,r.minus(t)):Se(new n(r),a)};ne.naturalExponential=ne.exp=function(){return NT(this)};ne.naturalLogarithm=ne.ln=function(){return Nu(this)};ne.negated=ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ne.plus=ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kT(t,e):_T(t,(e.s=-e.s,e))};ne.precision=ne.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bi+e);if(t=et(a)+1,n=a.d.length-1,r=n*Te+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ne.squareRoot=ne.sqrt=function(){var e,t,r,n,a,i,s,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Rr+"NaN")}for(e=et(o),Le=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=bn(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ho((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=s=r+3;;)if(i=n,n=i.plus(Yn(o,i,s+2)).times(.5),bn(i.d).slice(0,s)===(t=bn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Se(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Le=!0,Se(n,r)};ne.times=ne.mul=function(e){var t,r,n,a,i,s,o,u,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,u=h.length,c=m.length,u<c&&(i=h,h=m,m=i,s=u,u=c,c=s),i=[],s=u+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=u+n;a>n;)o=i[a]+m[n]*h[a-n-1]+t,i[a--]=o%ht|0,t=o/ht|0;i[a]=(i[a]+t)%ht|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Le?Se(e,f.precision):e};ne.toDecimalPlaces=ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Cn(e,0,Uo),t===void 0?t=n.rounding:Cn(t,0,8),Se(r,e+et(r)+1,t))};ne.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=rs(n,!0):(Cn(e,0,Uo),t===void 0?t=a.rounding:Cn(t,0,8),n=Se(new a(n),e+1,t),r=rs(n,!0,e+1)),r};ne.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?rs(a):(Cn(e,0,Uo),t===void 0?t=i.rounding:Cn(t,0,8),n=Se(new i(a),e+et(a)+1,t),r=rs(n.abs(),!1,e+et(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ne.toInteger=ne.toint=function(){var e=this,t=e.constructor;return Se(new t(e),et(e)+1,t.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(e){var t,r,n,a,i,s,o=this,u=o.constructor,c=12,d=+(e=new u(e));if(!e.s)return new u(cr);if(o=new u(o),!o.s){if(e.s<1)throw Error(Rr+"Infinity");return o}if(o.eq(cr))return o;if(n=u.precision,e.eq(cr))return Se(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=d<0?-d:d)<=jT){for(a=new u(cr),t=Math.ceil(n/Te+4),Le=!1;r%2&&(a=a.times(o),kN(a.d,t)),r=Ho(r/2),r!==0;)o=o.times(o),kN(o.d,t);return Le=!0,e.s<0?new u(cr).div(a):Se(a,n)}}else if(i<0)throw Error(Rr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Le=!1,a=e.times(Nu(o,n+c)),Le=!0,a=NT(a),a.s=i,a};ne.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=et(a),n=rs(a,r<=i.toExpNeg||r>=i.toExpPos)):(Cn(e,1,Uo),t===void 0?t=i.rounding:Cn(t,0,8),a=Se(new i(a),e,t),r=et(a),n=rs(a,e<=r||r<=i.toExpNeg,e)),n};ne.toSignificantDigits=ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Cn(e,1,Uo),t===void 0?t=n.rounding:Cn(t,0,8)),Se(new n(r),e,t)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=et(e),r=e.constructor;return rs(e,t<=r.toExpNeg||t>=r.toExpPos)};function kT(e,t){var r,n,a,i,s,o,u,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Le?Se(t,f):t;if(u=e.d,c=t.d,s=e.e,a=t.e,u=u.slice(),i=s-a,i){for(i<0?(n=u,i=-i,o=c.length):(n=c,a=s,o=u.length),s=Math.ceil(f/Te),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=u.length,i=c.length,o-i<0&&(i=o,n=c,c=u,u=n),r=0;i;)r=(u[--i]=u[i]+c[i]+r)/ht|0,u[i]%=ht;for(r&&(u.unshift(r),++a),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=a,Le?Se(t,f):t}function Cn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Bi+e)}function bn(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Te-n.length,r&&(i+=_a(r)),i+=n;s=e[t],n=s+"",r=Te-n.length,r&&(i+=_a(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Yn=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%ht|0,s=i/ht|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,u;if(i!=s)u=i>s?1:-1;else for(o=u=0;o<i;o++)if(n[o]!=a[o]){u=n[o]>a[o]?1:-1;break}return u}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*ht+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,u,c,d,f,h,m,p,y,v,g,x,b,j,k,_,N,S,C=n.constructor,M=n.s==a.s?1:-1,O=n.d,P=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(Rr+"Division by zero");for(u=n.e-a.e,N=P.length,k=O.length,m=new C(M),p=m.d=[],c=0;P[c]==(O[c]||0);)++c;if(P[c]>(O[c]||0)&&--u,i==null?x=i=C.precision:s?x=i+(et(n)-et(a))+1:x=i,x<0)return new C(0);if(x=x/Te+2|0,c=0,N==1)for(d=0,P=P[0],x++;(c<k||d)&&x--;c++)b=d*ht+(O[c]||0),p[c]=b/P|0,d=b%P|0;else{for(d=ht/(P[0]+1)|0,d>1&&(P=e(P,d),O=e(O,d),N=P.length,k=O.length),j=N,y=O.slice(0,N),v=y.length;v<N;)y[v++]=0;S=P.slice(),S.unshift(0),_=P[0],P[1]>=ht/2&&++_;do d=0,o=t(P,y,N,v),o<0?(g=y[0],N!=v&&(g=g*ht+(y[1]||0)),d=g/_|0,d>1?(d>=ht&&(d=ht-1),f=e(P,d),h=f.length,v=y.length,o=t(f,y,h,v),o==1&&(d--,r(f,N<h?S:P,h))):(d==0&&(o=d=1),f=P.slice()),h=f.length,h<v&&f.unshift(0),r(y,f,v),o==-1&&(v=y.length,o=t(P,y,N,v),o<1&&(d++,r(y,N<v?S:P,v))),v=y.length):o===0&&(d++,y=[0]),p[c++]=d,o&&y[0]?y[v++]=O[j]||0:(y=[O[j]],v=1);while((j++<k||y[0]!==void 0)&&x--)}return p[0]||p.shift(),m.e=u,Se(m,s?i+et(m)+1:i)}}();function NT(e,t){var r,n,a,i,s,o,u=0,c=0,d=e.constructor,f=d.precision;if(et(e)>16)throw Error(rb+et(e));if(!e.s)return new d(cr);for(Le=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(pi(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new d(cr),d.precision=o;;){if(a=Se(a.times(e),o),r=r.times(++u),s=i.plus(Yn(a,r,o)),bn(s.d).slice(0,o)===bn(i.d).slice(0,o)){for(;c--;)i=Se(i.times(i),o);return d.precision=f,t==null?(Le=!0,Se(i,f)):i}i=s}}function et(e){for(var t=e.e*Te,r=e.d[0];r>=10;r/=10)t++;return t}function Gp(e,t,r){if(t>e.LN10.sd())throw Le=!0,r&&(e.precision=r),Error(Rr+"LN10 precision limit exceeded");return Se(new e(e.LN10),t)}function _a(e){for(var t="";e--;)t+="0";return t}function Nu(e,t){var r,n,a,i,s,o,u,c,d,f=1,h=10,m=e,p=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(Rr+(m.s?"NaN":"-Infinity"));if(m.eq(cr))return new y(0);if(t==null?(Le=!1,c=v):c=t,m.eq(10))return t==null&&(Le=!0),Gp(y,c);if(c+=h,y.precision=c,r=bn(p),n=r.charAt(0),i=et(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=bn(m.d),n=r.charAt(0),f++;i=et(m),n>1?(m=new y("0."+r),i++):m=new y(n+"."+r.slice(1))}else return u=Gp(y,c+2,v).times(i+""),m=Nu(new y(n+"."+r.slice(1)),c-h).plus(u),y.precision=v,t==null?(Le=!0,Se(m,v)):m;for(o=s=m=Yn(m.minus(cr),m.plus(cr),c),d=Se(m.times(m),c),a=3;;){if(s=Se(s.times(d),c),u=o.plus(Yn(s,new y(a),c)),bn(u.d).slice(0,c)===bn(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(Gp(y,c+2,v).times(i+""))),o=Yn(o,new y(f),c),y.precision=v,t==null?(Le=!0,Se(o,v)):o;o=u,a+=2}}function jN(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ho(r/Te),e.d=[],n=(r+1)%Te,r<0&&(n+=Te),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Te;n<a;)e.d.push(+t.slice(n,n+=Te));t=t.slice(n),n=Te-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Le&&(e.e>Jf||e.e<-Jf))throw Error(rb+r)}else e.s=0,e.e=0,e.d=[0];return e}function Se(e,t,r){var n,a,i,s,o,u,c,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Te,a=t,c=f[d=0];else{if(d=Math.ceil((n+1)/Te),i=f.length,d>=i)return e;for(c=i=f[d],s=1;i>=10;i/=10)s++;n%=Te,a=n-Te+s}if(r!==void 0&&(i=pi(10,s-a-1),o=c/i%10|0,u=t<0||f[d+1]!==void 0||c%i,u=r<4?(o||u)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||u||r==6&&(n>0?a>0?c/pi(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return u?(i=et(e),f.length=1,t=t-i-1,f[0]=pi(10,(Te-t%Te)%Te),e.e=Ho(-t/Te)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=pi(10,Te-n),f[d]=a>0?(c/pi(10,s-a)%pi(10,a)|0)*i:0),u)for(;;)if(d==0){(f[0]+=i)==ht&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ht)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Le&&(e.e>Jf||e.e<-Jf))throw Error(rb+et(e));return e}function _T(e,t){var r,n,a,i,s,o,u,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Le?Se(t,m):t;if(u=e.d,f=t.d,n=t.e,c=e.e,u=u.slice(),s=c-n,s){for(d=s<0,d?(r=u,s=-s,o=f.length):(r=f,n=c,o=u.length),a=Math.max(Math.ceil(m/Te),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=u.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(u[a]!=f[a]){d=u[a]<f[a];break}s=0}for(d&&(r=u,u=f,f=r,t.s=-t.s),o=u.length,a=f.length-o;a>0;--a)u[o++]=0;for(a=f.length;a>s;){if(u[--a]<f[a]){for(i=a;i&&u[--i]===0;)u[i]=ht-1;--u[i],u[a]+=ht}u[a]-=f[a]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Le?Se(t,m):t):new h(0)}function rs(e,t,r){var n,a=et(e),i=bn(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+_a(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+_a(-a-1)+i,r&&(n=r-s)>0&&(i+=_a(n))):a>=s?(i+=_a(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+_a(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=_a(n))),e.s<0?"-"+i:i}function kN(e,t){if(e.length>t)return e.length=t,!0}function ST(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bi+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return jN(s,i.toString())}else if(typeof i!="string")throw Error(Bi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,eG.test(i))jN(s,i);else throw Error(Bi+i)}if(a.prototype=ne,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=ST,a.config=a.set=tG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function tG(e){if(!e||typeof e!="object")throw Error(Rr+"Object expected");var t,r,n,a=["precision",1,Uo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ho(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Bi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bi+r+": "+n);return this}var nb=ST(JX);cr=new nb(1);const ke=nb;var rG=e=>e,ET={},CT=e=>e===ET,NN=e=>function t(){return arguments.length===0||arguments.length===1&&CT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},PT=(e,t)=>e===1?t:NN(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==ET).length;return i>=e?t(...n):PT(e-i,NN(function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];var c=n.map(d=>CT(d)?o.shift():d);return t(...c,...o)}))}),nG=e=>PT(e.length,e),f0=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},aG=nG((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),iG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return rG;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,u)=>u(o),i(...arguments))}},h0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function OT(e){var t;return e===0?t=1:t=Math.floor(new ke(e).abs().log(10).toNumber())+1,t}function AT(e,t,r){for(var n=new ke(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var TT=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},MT=(e,t,r)=>{if(e.lte(0))return new ke(0);var n=OT(e.toNumber()),a=new ke(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new ke(Math.ceil(i.div(s).toNumber())).add(r).mul(s),u=o.mul(a);return t?new ke(u.toNumber()):new ke(Math.ceil(u.toNumber()))},sG=(e,t,r)=>{var n=new ke(1),a=new ke(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ke(10).pow(OT(e)-1),a=new ke(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ke(Math.floor(e)))}else e===0?a=new ke(Math.floor((t-1)/2)):r||(a=new ke(Math.floor(e)));var s=Math.floor((t-1)/2),o=iG(aG(u=>a.add(new ke(u-s).mul(n)).toNumber()),f0);return o(0,t)},IT=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ke(0),tickMin:new ke(0),tickMax:new ke(0)};var s=MT(new ke(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new ke(0):(o=new ke(t).add(r).div(2),o=o.sub(new ke(o).mod(s)));var u=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new ke(r).sub(o).div(s).toNumber()),d=u+c+1;return d>n?IT(t,r,n,a,i+1):(d<n&&(c=r>0?c+(n-d):c,u=r>0?u:u+(n-d)),{step:s,tickMin:o.sub(new ke(u).mul(s)),tickMax:o.add(new ke(c).mul(s))})},oG=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),[o,u]=TT([r,n]);if(o===-1/0||u===1/0){var c=u===1/0?[o,...f0(0,a-1).map(()=>1/0)]:[...f0(0,a-1).map(()=>-1/0),u];return r>n?h0(c):c}if(o===u)return sG(o,a,i);var{step:d,tickMin:f,tickMax:h}=IT(o,u,s,i,0),m=AT(f,h.add(new ke(.1).mul(d)),d);return r>n?h0(m):m},lG=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=TT([n,a]);if(s===-1/0||o===1/0)return[n,a];if(s===o)return[s];var u=Math.max(r,2),c=MT(new ke(o).sub(s).div(u-1),i,0),d=[...AT(new ke(s),new ke(o),c),o];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?h0(d):d},DT=e=>e.rootProps.maxBarSize,uG=e=>e.rootProps.barGap,RT=e=>e.rootProps.barCategoryGap,cG=e=>e.rootProps.barSize,Em=e=>e.rootProps.stackOffset,LT=e=>e.rootProps.reverseStackOrder,ab=e=>e.options.chartName,ib=e=>e.rootProps.syncId,$T=e=>e.rootProps.syncMethod,sb=e=>e.options.eventEmitter,zt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},zn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},lr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Cm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},dG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:zn.angleAxisId,includeHidden:!1,name:void 0,reversed:zn.reversed,scale:zn.scale,tick:zn.tick,tickCount:void 0,ticks:void 0,type:zn.type,unit:void 0},fG={allowDataOverflow:lr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:lr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:lr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:lr.scale,tick:lr.tick,tickCount:lr.tickCount,ticks:void 0,type:lr.type,unit:void 0},hG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:zn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zn.scale,tick:zn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},mG={allowDataOverflow:lr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:lr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:lr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:lr.scale,tick:lr.tick,tickCount:lr.tickCount,ticks:void 0,type:"category",unit:void 0},ob=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?hG:dG,lb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?mG:fG,Pm=e=>e.polarOptions,ub=W([fa,ha,yt],Rq),zT=W([Pm,ub],(e,t)=>{if(e!=null)return sn(e.innerRadius,t,0)}),FT=W([Pm,ub],(e,t)=>{if(e!=null)return sn(e.outerRadius,t,t*.8)}),pG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},BT=W([Pm],pG);W([ob,BT],Cm);var UT=W([ub,zT,FT],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});W([lb,UT],Cm);var HT=W([_e,Pm,zT,FT,fa,ha],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:u,endAngle:c}=t;return{cx:sn(s,a,a/2),cy:sn(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:c,clockWise:!1}}}),st=(e,t)=>t,Om=(e,t,r)=>r;function cb(e){return e==null?void 0:e.id}function VT(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(o=>{var u,c=(u=o.data)!==null&&u!==void 0?u:n;if(!(c==null||c.length===0)){var d=cb(o);c.forEach((f,h)=>{var m=i==null||a?h:String(Tt(f,i,null)),p=Tt(f,o.dataKey,0),y;s.has(m)?y=s.get(m):y={},Object.assign(y,{[d]:p}),s.set(m,y)})}}),Array.from(s.values())}function Am(e){return e.stackId!=null&&e.dataKey!=null}var Tm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Mm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function gG(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var ot=e=>{var t=_e(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Vo=e=>e.tooltip.settings.axisId;function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){yG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m0=[0,"auto"],ut={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},WT=(e,t)=>e.cartesianAxis.xAxis[t],pa=(e,t)=>{var r=WT(e,t);return r??ut},ct={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:m0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:rc},KT=(e,t)=>e.cartesianAxis.yAxis[t],ga=(e,t)=>{var r=KT(e,t);return r??ct},bG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},db=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??bG},Kt=(e,t,r)=>{switch(t){case"xAxis":return pa(e,r);case"yAxis":return ga(e,r);case"zAxis":return db(e,r);case"angleAxis":return ob(e,r);case"radiusAxis":return lb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},wG=(e,t,r)=>{switch(t){case"xAxis":return pa(e,r);case"yAxis":return ga(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lc=(e,t,r)=>{switch(t){case"xAxis":return pa(e,r);case"yAxis":return ga(e,r);case"angleAxis":return ob(e,r);case"radiusAxis":return lb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},qT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function YT(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var fb=e=>e.graphicalItems.cartesianItems,jG=W([st,Om],YT),XT=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),uc=W([fb,Kt,jG],XT,{memoizeOptions:{resultEqualityCheck:Mm}}),GT=W([uc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Am)),QT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),kG=W([uc],QT),ZT=e=>e.map(t=>t.data).filter(Boolean).flat(1),NG=W([uc],ZT,{memoizeOptions:{resultEqualityCheck:Mm}}),JT=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},hb=W([NG,tb],JT),eM=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Tt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Tt(a,n)}))):e.map(n=>({value:n})),Im=W([hb,Kt,uc],eM);function tM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Id(e){if(Sn(e)||e instanceof Date){var t=Number(e);if(Ge(t))return t}}function SN(e){if(Array.isArray(e)){var t=[Id(e[0]),Id(e[1])];return ti(t)?t:void 0}var r=Id(e);if(r!=null)return[r,r]}function la(e){return e.map(Id).filter(yH)}function _G(e,t,r){return!r||typeof t!="number"||an(t)?[]:r.length?la(r.flatMap(n=>{var a=Tt(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!Ge(i)||!Ge(s)))return[t-i,t+s]})):[]}var lt=e=>{var t=ot(e),r=Vo(e);return lc(e,t,r)},cc=W([lt],e=>e==null?void 0:e.dataKey),SG=W([GT,tb,lt],VT),rM=(e,t,r,n)=>{var a={},i=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),a);return Object.fromEntries(Object.entries(i).map(s=>{var[o,u]=s,c=n?[...u].reverse():u,d=c.map(cb);return[o,{stackedData:gW(e,d,r),graphicalItems:c}]}))},p0=W([SG,GT,Em,LT],rM),nM=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var s=wW(e,a,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},EG=W([Kt],e=>e.allowDataOverflow),mb=e=>{var t;if(e==null||!("domain"in e))return m0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=la(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:m0},aM=W([Kt],mb),iM=W([aM,EG],wT),CG=W([p0,li,st,iM],nM,{memoizeOptions:{resultEqualityCheck:Tm}}),pb=e=>e.errorBars,PG=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>tM(r,n)),th=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},sM=(e,t,r,n,a)=>{var i,s;if(r.length>0&&e.forEach(o=>{r.forEach(u=>{var c,d,f=(c=n[u.id])===null||c===void 0?void 0:c.filter(g=>tM(a,g)),h=Tt(o,(d=t.dataKey)!==null&&d!==void 0?d:u.dataKey),m=_G(o,h,f);if(m.length>=2){var p=Math.min(...m),y=Math.max(...m);(i==null||p<i)&&(i=p),(s==null||y>s)&&(s=y)}var v=SN(h);v!=null&&(i=i==null?v[0]:Math.min(i,v[0]),s=s==null?v[1]:Math.max(s,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var u=SN(Tt(o,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),Ge(i)&&Ge(s))return[i,s]},OG=W([hb,Kt,kG,pb,st],sM,{memoizeOptions:{resultEqualityCheck:Tm}});function AG(e){var{value:t}=e;if(Sn(t)||t instanceof Date)return t}var TG=(e,t,r)=>{var n=e.map(AG).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&iO(n))?HA(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},oM=e=>e.referenceElements.dots,Wo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),MG=W([oM,st,Om],Wo),lM=e=>e.referenceElements.areas,IG=W([lM,st,Om],Wo),uM=e=>e.referenceElements.lines,DG=W([uM,st,Om],Wo),cM=(e,t)=>{var r=la(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},RG=W(MG,st,cM),dM=(e,t)=>{var r=la(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},LG=W([IG,st],dM);function $G(e){var t;if(e.x!=null)return la([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:la(r)}function zG(e){var t;if(e.y!=null)return la([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:la(r)}var fM=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?$G(n):zG(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},FG=W([DG,st],fM),BG=W(RG,FG,LG,(e,t,r)=>th(e,r,t)),hM=(e,t,r,n,a,i,s,o)=>{if(r!=null)return r;var u=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=u?th(n,i,a):th(i,a);return ZX(t,c,e.allowDataOverflow)},UG=W([Kt,aM,iM,CG,OG,BG,_e,st],hM,{memoizeOptions:{resultEqualityCheck:Tm}}),HG=[0,1],mM=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:u}=e,c=us(t,i);if(c&&o==null){var d;return HA(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return u==="category"?TG(n,e,c):a==="expand"?HG:s}},gb=W([Kt,_e,hb,Im,Em,st,UG],mM),pM=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Qu(i));return o in Cl?o:"point"}}},dc=W([Kt,_e,qT,ab,st],pM);function VG(e){if(e!=null){if(e in Cl)return Cl[e]();var t="scale".concat(Qu(e));if(t in Cl)return Cl[t]()}}function yb(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=VG(t);if(a!=null){var i=a.domain(r).range(n);return dW(i),i}}}var gM=(e,t,r)=>{var n=mb(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ti(e))return oG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ti(e))return lG(e,t.tickCount,t.allowDecimals)}},vb=W([gb,lc,dc],gM),yM=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ti(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},WG=W([Kt,gb,vb,st],yM),KG=W(Im,Kt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(la(e.map(o=>o.value))).sort((o,u)=>o-u);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),vM=W(KG,_e,RT,yt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Ge(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=sn(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),qG=(e,t)=>{var r=pa(e,t);return r==null||typeof r.padding!="string"?0:vM(e,"xAxis",t,r.padding)},YG=(e,t)=>{var r=ga(e,t);return r==null||typeof r.padding!="string"?0:vM(e,"yAxis",t,r.padding)},XG=W(pa,qG,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),GG=W(ga,YG,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),QG=W([yt,XG,mm,hm,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),ZG=W([yt,_e,GG,mm,hm,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),fc=(e,t,r,n)=>{var a;switch(t){case"xAxis":return QG(e,r,n);case"yAxis":return ZG(e,r,n);case"zAxis":return(a=db(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return BT(e);case"radiusAxis":return UT(e,r);default:return}},xM=W([Kt,fc],Cm),Ko=W([Kt,dc,WG,xM],yb);W([uc,pb,st],PG);function bM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Dm=(e,t)=>t,Rm=(e,t,r)=>r,JG=W(dm,Dm,Rm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(bM)),eQ=W(fm,Dm,Rm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(bM)),wM=(e,t)=>({width:e.width,height:t.height}),tQ=(e,t)=>{var r=typeof t.width=="number"?t.width:rc;return{width:r,height:e.height}},jM=W(yt,pa,wM),rQ=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},nQ=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},aQ=W(ha,yt,JG,Dm,Rm,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var u=wM(t,o);s==null&&(s=rQ(t,n,e));var c=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(c)*u.height,s+=(c?-1:1)*u.height}),i}),iQ=W(fa,yt,eQ,Dm,Rm,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var u=tQ(t,o);s==null&&(s=nQ(t,n,e));var c=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(c)*u.width,s+=(c?-1:1)*u.width}),i}),sQ=(e,t)=>{var r=pa(e,t);if(r!=null)return aQ(e,r.orientation,r.mirror)},oQ=W([yt,pa,sQ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),lQ=(e,t)=>{var r=ga(e,t);if(r!=null)return iQ(e,r.orientation,r.mirror)},uQ=W([yt,ga,lQ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),kM=W(yt,ga,(e,t)=>{var r=typeof t.width=="number"?t.width:rc;return{width:r,height:e.height}}),EN=(e,t,r)=>{switch(t){case"xAxis":return jM(e,r).width;case"yAxis":return kM(e,r).height;default:return}},NM=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=us(e,n),u=t.map(c=>c.value);if(s&&o&&i==="category"&&a&&iO(u))return u}},xb=W([_e,Im,Kt,st],NM),_M=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=us(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},bb=W([_e,Im,lc,st],_M),CN=W([_e,wG,dc,Ko,xb,bb,fc,vb,st],(e,t,r,n,a,i,s,o,u)=>{if(t!=null){var c=us(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}}),cQ=(e,t,r,n,a,i,s,o,u)=>{if(!(t==null||n==null)){var c=us(e,u),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=u==="angleAxis"&&i!=null&&i.length>=2?Jt(i[0]-i[1])*2*p:p;var y=f||a;if(y){var v=y.map((g,x)=>{var b=s?s.indexOf(g):g;return{index:x,coordinate:n(b)+p,value:g,offset:p}});return v.filter(g=>Ge(g.coordinate))}return c&&o?o.map((g,x)=>({coordinate:n(g)+p,value:g,index:x,offset:p})).filter(g=>Ge(g.coordinate)):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+p,value:g,offset:p})):n.domain().map((g,x)=>({coordinate:n(g)+p,value:s?s[g]:g,index:x,offset:p}))}},SM=W([_e,lc,dc,Ko,vb,fc,xb,bb,st],cQ),dQ=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=us(e,s),{tickCount:u}=t,c=0;return c=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Jt(n[0]-n[1])*2*c:c,o&&i?i.map((d,f)=>({coordinate:r(d)+c,value:d,index:f,offset:c})):r.ticks?r.ticks(u).map(d=>({coordinate:r(d)+c,value:d,offset:c})):r.domain().map((d,f)=>({coordinate:r(d)+c,value:a?a[d]:d,index:f,offset:c}))}},Ao=W([_e,lc,Ko,fc,xb,bb,st],dQ),To=W(Kt,Ko,(e,t)=>{if(!(e==null||t==null))return eh(eh({},e),{},{scale:t})}),fQ=W([Kt,dc,gb,xM],yb);W((e,t,r)=>db(e,r),fQ,(e,t)=>{if(!(e==null||t==null))return eh(eh({},e),{},{scale:t})});var hQ=W([_e,dm,fm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),EM=e=>e.options.defaultTooltipEventType,CM=e=>e.options.validateTooltipEventTypes;function PM(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function wb(e,t){var r=EM(e),n=CM(e);return PM(t,r,n)}function mQ(e){return le(t=>wb(t,e))}var OM=(e,t)=>{var r,n=Number(t);if(!(an(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},pQ=e=>e.tooltip.settings,Oa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},gQ={itemInteraction:{click:Oa,hover:Oa},axisInteraction:{click:Oa,hover:Oa},keyboardInteraction:Oa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},AM=ir({name:"tooltip",initialState:gQ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:De()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=rn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:De()},removeTooltipEntrySettings:{reducer(e,t){var r=rn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:De()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:yQ,replaceTooltipEntrySettings:vQ,removeTooltipEntrySettings:xQ,setTooltipSettingsState:bQ,setActiveMouseOverItemIndex:TM,mouseLeaveItem:wQ,mouseLeaveChart:MM,setActiveClickItemIndex:jQ,setMouseOverAxisIndex:IM,setMouseClickAxisIndex:kQ,setSyncInteraction:g0,setKeyboardInteraction:y0}=AM.actions,NQ=AM.reducer;function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){_Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Q(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CQ(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function PQ(e){return e.index!=null}var DM=(e,t,r,n)=>{if(t==null)return Oa;var a=CQ(e,t,r);if(a==null)return Oa;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(PQ(a)){if(i)return od(od({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return od(od({},Oa),{},{coordinate:a.coordinate})};function OQ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function AQ(e,t){var r=OQ(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),s=Math.max(n,a);return r>=i&&r<=s}function TQ(e,t,r){if(r==null||t==null)return!0;var n=Tt(e,t);return n==null||!ti(r)?!0:AQ(n,r)}var jb=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Ge(i))return a;var s=0,o=1/0;t.length>0&&(o=t.length-1);var u=Math.max(s,Math.min(i,o)),c=t[u];return c==null||TQ(c,r,n)?String(u):null},RM=(e,t,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var u=s[0],c=u==null?void 0:o(u.positions,i);if(c!=null)return c;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},LM=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},hc=e=>e.options.tooltipPayloadSearcher,qo=e=>e.tooltip;function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){MQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MQ(e,t,r){return(t=IQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IQ(e){var t=DQ(e,"string");return typeof t=="symbol"?t:t+""}function DQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RQ(e,t){return e??t}var $M=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:u,dataStartIndex:c,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:y,settings:v}=m,g=RQ(y,o),x=Array.isArray(g)?uA(g,c,d):g,b=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,j=v==null?void 0:v.nameKey,k;if(n&&Array.isArray(x)&&!Array.isArray(x[0])&&s==="axis"?k=gH(x,n,a):k=i(x,t,u,j),Array.isArray(k))k.forEach(N=>{var S=AN(AN({},v),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(mk({tooltipEntrySettings:S,dataKey:N.dataKey,payload:N.payload,value:Tt(N.payload,N.dataKey),name:N.name}))});else{var _;h.push(mk({tooltipEntrySettings:v,dataKey:b,payload:k,value:Tt(k,b),name:(_=Tt(k,j))!==null&&_!==void 0?_:v==null?void 0:v.name}))}return h},f)}},kb=W([lt,_e,qT,ab,ot],pM),LQ=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),$Q=W([ot,Vo],YT),mc=W([LQ,lt,$Q],XT,{memoizeOptions:{resultEqualityCheck:Mm}}),zQ=W([mc],e=>e.filter(Am)),FQ=W([mc],ZT,{memoizeOptions:{resultEqualityCheck:Mm}}),Yo=W([FQ,li],JT),BQ=W([zQ,li,lt],VT),Nb=W([Yo,lt,mc],eM),zM=W([lt],mb),UQ=W([lt],e=>e.allowDataOverflow),FM=W([zM,UQ],wT),HQ=W([mc],e=>e.filter(Am)),VQ=W([BQ,HQ,Em,LT],rM),WQ=W([VQ,li,ot,FM],nM),KQ=W([mc],QT),qQ=W([Yo,lt,KQ,pb,ot],sM,{memoizeOptions:{resultEqualityCheck:Tm}}),YQ=W([oM,ot,Vo],Wo),XQ=W([YQ,ot],cM),GQ=W([lM,ot,Vo],Wo),QQ=W([GQ,ot],dM),ZQ=W([uM,ot,Vo],Wo),JQ=W([ZQ,ot],fM),eZ=W([XQ,JQ,QQ],th),tZ=W([lt,zM,FM,WQ,qQ,eZ,_e,ot],hM),pc=W([lt,_e,Yo,Nb,Em,ot,tZ],mM),rZ=W([pc,lt,kb],gM),nZ=W([lt,pc,rZ,ot],yM),BM=e=>{var t=ot(e),r=Vo(e),n=!1;return fc(e,t,r,n)},UM=W([lt,BM],Cm),HM=W([lt,kb,nZ,UM],yb),aZ=W([_e,Nb,lt,ot],NM),iZ=W([_e,Nb,lt,ot],_M),sZ=(e,t,r,n,a,i,s,o)=>{if(t){var{type:u}=t,c=us(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=u==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Jt(a[0]-a[1])*2*f:f,c&&s?s.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},ya=W([_e,lt,kb,HM,BM,aZ,iZ,ot],sZ),_b=W([EM,CM,pQ],(e,t,r)=>PM(r.shared,e,t)),VM=e=>e.tooltip.settings.trigger,Sb=e=>e.tooltip.settings.defaultIndex,gc=W([qo,_b,VM,Sb],DM),Mo=W([gc,Yo,cc,pc],jb),WM=W([ya,Mo],OM),KM=W([gc],e=>{if(e)return e.dataKey});W([gc],e=>{if(e)return e.graphicalItemId});var qM=W([qo,_b,VM,Sb],LM),oZ=W([fa,ha,_e,yt,ya,Sb,qM,hc],RM),lZ=W([gc,oZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),uZ=W([gc],e=>e.active),cZ=W([qM,Mo,li,cc,WM,hc,_b],$M);W([cZ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){dZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dZ(e,t,r){return(t=fZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fZ(e){var t=hZ(e,"string");return typeof t=="symbol"?t:t+""}function hZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mZ=()=>le(lt),pZ=()=>{var e=mZ(),t=le(ya),r=le(HM);return Lf(!e||!r?void 0:MN(MN({},e),{},{scale:r}),t)};function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){gZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gZ(e,t,r){return(t=yZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yZ(e){var t=vZ(e,"string");return typeof t=="symbol"?t:t+""}function vZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xZ=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},bZ=(e,t,r,n)=>{var a=t.find(c=>c&&c.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:s}=n;return ys(ys(ys({},n),kt(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:u}=n;return ys(ys(ys({},n),kt(n.cx,n.cy,o,u)),{},{angle:u,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function wZ(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var YM=(e,t,r,n,a)=>{var i,s=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<o;u++){var c=u>0?r[u-1].coordinate:r[o-1].coordinate,d=r[u].coordinate,f=u>=o-1?r[0].coordinate:r[u+1].coordinate,h=void 0;if(Jt(d-c)!==Jt(f-d)){var m=[];if(Jt(f-d)===Jt(a[1]-a[0])){h=f;var p=d+a[1]-a[0];m[0]=Math.min(p,(p+c)/2),m[1]=Math.max(p,(p+c)/2)}else{h=c;var y=f+a[1]-a[0];m[0]=Math.min(d,(y+d)/2),m[1]=Math.max(d,(y+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){({index:s}=r[u]);break}}else{var g=Math.min(c,f),x=Math.max(c,f);if(e>(g+d)/2&&e<=(x+d)/2){({index:s}=r[u]);break}}}else if(t){for(var b=0;b<o;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:s}=t[b]);break}}return s},jZ=()=>le(ab),Eb=(e,t)=>t,XM=(e,t,r)=>r,Cb=(e,t,r,n)=>n,kZ=W(ya,e=>rm(e,t=>t.coordinate)),Pb=W([qo,Eb,XM,Cb],DM),Ob=W([Pb,Yo,cc,pc],jb),NZ=(e,t,r)=>{if(t!=null){var n=qo(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},GM=W([qo,Eb,XM,Cb],LM),rh=W([fa,ha,_e,yt,ya,Cb,GM,hc],RM),_Z=W([Pb,rh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),QM=W([ya,Ob],OM),SZ=W([GM,Ob,li,cc,QM,hc,Eb],$M),EZ=W([Pb,Ob],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),CZ=(e,t,r,n,a,i,s)=>{if(!(!e||!r||!n||!a)&&wZ(e,s)){var o=jW(e,t),u=YM(o,i,a,r,n),c=xZ(t,a,u,e);return{activeIndex:String(u),activeCoordinate:c}}},PZ=(e,t,r,n,a,i,s)=>{if(!(!e||!n||!a||!i||!r)){var o=Bq(e,r);if(o){var u=kW(o,t),c=YM(u,s,i,n,a),d=bZ(t,i,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},OZ=(e,t,r,n,a,i,s,o)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?CZ(e,t,n,a,i,s,o):PZ(e,t,r,n,a,i,s)},AZ=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),TZ=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(zt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:gG}});function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){MZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MZ(e,t,r){return(t=IZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IZ(e){var t=DZ(e,"string");return typeof t=="symbol"?t:t+""}function DZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RZ={},LZ={zIndexMap:Object.values(zt).reduce((e,t)=>RN(RN({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),RZ)},$Z=new Set(Object.values(zt));function zZ(e){return $Z.has(e)}var ZM=ir({name:"zIndex",initialState:LZ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:De()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!zZ(r)&&delete e.zIndexMap[r])},prepare:De()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:De()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:De()}}}),{registerZIndexPortal:FZ,unregisterZIndexPortal:BZ,registerZIndexPortalId:UZ,unregisterZIndexPortalId:HZ}=ZM.actions,VZ=ZM.reducer;function va(e){var{zIndex:t,children:r}=e,n=JW(),a=n&&t!==void 0&&t!==0,i=sr(),s=He();w.useLayoutEffect(()=>a?(s(FZ({zIndex:t})),()=>{s(BZ({zIndex:t}))}):Zu,[s,t,a]);var o=le(c=>AZ(c,t,i));if(!a)return r;if(!o)return null;var u=document.getElementById(o);return u?Ru.createPortal(r,u):null}function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v0.apply(null,arguments)}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){WZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WZ(e,t,r){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YZ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function XZ(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:s,layout:o,cursor:u,tooltipEventType:c,chartName:d}=e,f=r,h=n,m=a;if(!u||!f||d!=="ScatterChart"&&c!=="axis")return null;var p,y,v;if(d==="ScatterChart")p=f,y=tq,v=zt.cursorLine;else if(d==="BarChart")p=rq(o,f,i,s),y=RA,v=zt.cursorRectangle;else if(o==="radial"&&oO(f)){var{cx:g,cy:x,radius:b,startAngle:j,endAngle:k}=LA(f);p={cx:g,cy:x,startAngle:j,endAngle:k,innerRadius:b,outerRadius:b},y=zA,v=zt.cursorLine}else p={points:Wq(o,f,i)},y=AA,v=zt.cursorLine;var _=typeof u=="object"&&"className"in u?u.className:void 0,N=ld(ld(ld(ld({stroke:"#ccc",pointerEvents:"none"},i),p),ex(u)),{},{payload:h,payloadIndex:m,className:Oe("recharts-tooltip-cursor",_)});return w.createElement(va,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},w.createElement(YZ,{cursor:u,cursorComp:y,cursorProps:N}))}function GZ(e){var t=pZ(),r=wA(),n=gm(),a=jZ();return t==null||r==null||n==null||a==null?null:w.createElement(XZ,v0({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var JM=w.createContext(null),QZ=()=>w.useContext(JM),eI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function i(u,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||u,h),p=r?r+c:c;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],m]:u._events[p].push(m):(u._events[p]=m,u._eventsCount++),u}function s(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,m,p){var y=r?r+c:c;if(!this._events[y])return!1;var v=this._events[y],g=arguments.length,x,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(b=1,x=new Array(g-1);b<g;b++)x[b-1]=arguments[b];v.fn.apply(v.context,x)}else{var j=v.length,k;for(b=0;b<j;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),g){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!x)for(k=1,x=new Array(g-1);k<g;k++)x[k-1]=arguments[k];v[b].fn.apply(v[b].context,x)}}return!0},o.prototype.on=function(c,d,f){return i(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return i(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var m=r?r+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var y=0,v=[],g=p.length;y<g;y++)(p[y].fn!==d||h&&!p[y].once||f&&p[y].context!==f)&&v.push(p[y]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(eI);var ZZ=eI.exports;const JZ=Pn(ZZ);var _u=new JZ,x0="recharts.syncEvent.tooltip",$N="recharts.syncEvent.brush";function eJ(e,t){if(t){var r=Number.parseInt(t,10);if(!an(r))return e==null?void 0:e[r]}}var tJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},tI=ir({name:"options",initialState:tJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),rJ=tI.reducer,{createEventEmitter:nJ}=tI.actions;function aJ(e){return e.tooltip.syncInteraction}var iJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},rI=ir({name:"chartData",initialState:iJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:zN,setDataStartEndIndexes:sJ,setComputedData:Gse}=rI.actions,oJ=rI.reducer,lJ=["x","y"];function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){uJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uJ(e,t,r){return(t=cJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cJ(e){var t=dJ(e,"string");return typeof t=="symbol"?t:t+""}function dJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fJ(e,t){if(e==null)return{};var r,n,a=hJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mJ(){var e=le(ib),t=le(sb),r=He(),n=le($T),a=le(ya),i=gm(),s=pm(),o=le(u=>u.rootProps.className);w.useEffect(()=>{if(e==null)return Zu;var u=(c,d,f)=>{if(t!==f&&e===c){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y}=m,v=fJ(m,lJ),{x:g,y:x,width:b,height:j}=d.payload.sourceViewBox,k=vs(vs({},v),{},{x:s.x+(b?(p-g)/b:0)*s.width,y:s.y+(j?(y-x)/j:0)*s.height});r(vs(vs({},d),{},{payload:vs(vs({},d.payload),{},{coordinate:k})}))}else r(d);return}if(a!=null){var _;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(a,N);_=a[S]}else n==="value"&&(_=a.find(D=>String(D.value)===d.payload.label));var{coordinate:C}=d.payload;if(_==null||d.payload.active===!1||C==null||s==null){r(g0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:M,y:O}=C,P=Math.min(M,s.x+s.width),$=Math.min(O,s.y+s.height),E={x:i==="horizontal"?_.coordinate:P,y:i==="horizontal"?$:_.coordinate},R=g0({active:d.payload.active,coordinate:E,dataKey:d.payload.dataKey,index:String(_.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(R)}}};return _u.on(x0,u),()=>{_u.off(x0,u)}},[o,r,t,e,n,a,i,s])}function pJ(){var e=le(ib),t=le(sb),r=He();w.useEffect(()=>{if(e==null)return Zu;var n=(a,i,s)=>{t!==s&&e===a&&r(sJ(i))};return _u.on($N,n),()=>{_u.off($N,n)}},[r,t,e])}function gJ(){var e=He();w.useEffect(()=>{e(nJ())},[e]),mJ(),pJ()}function yJ(e,t,r,n,a,i){var s=le(m=>NZ(m,e,t)),o=le(sb),u=le(ib),c=le($T),d=le(aJ),f=d==null?void 0:d.active,h=pm();w.useEffect(()=>{if(!f&&u!=null&&o!=null){var m=g0({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});_u.emit(x0,u,m,o)}},[f,r,s,a,n,o,u,c,i,h])}function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){vJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vJ(e,t,r){return(t=xJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xJ(e){var t=bJ(e,"string");return typeof t=="symbol"?t:t+""}function bJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wJ(e){return e.dataKey}function jJ(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(IK,t)}var HN=[],kJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function NJ(e){var t,r,n=Wt(e,kJ),{active:a,allowEscapeViewBox:i,animationDuration:s,animationEasing:o,content:u,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:y,wrapperStyle:v,cursor:g,shared:x,trigger:b,defaultIndex:j,portal:k,axisId:_}=n,N=He(),S=typeof j=="number"?String(j):j;w.useEffect(()=>{N(bQ({shared:x,trigger:b,axisId:_,active:a,defaultIndex:S}))},[N,x,b,_,a,S]);var C=pm(),M=OA(),O=mQ(x),{activeIndex:P,isActive:$}=(t=le(J=>EZ(J,O,b,S)))!==null&&t!==void 0?t:{},E=le(J=>SZ(J,O,b,S)),R=le(J=>QM(J,O,b,S)),D=le(J=>_Z(J,O,b,S)),L=E,A=QZ(),I=(r=a??$)!==null&&r!==void 0?r:!1,[T,F]=MO([L,I]),B=O==="axis"?R:void 0;yJ(O,b,D,B,P,I);var q=k??A;if(q==null||C==null||O==null)return null;var K=L??HN;I||(K=HN),c&&K.length&&(K=_O(K.filter(J=>J.value!=null&&(J.hide!==!0||n.includeHidden)),h,wJ));var G=K.length>0,ie=w.createElement(BK,{allowEscapeViewBox:i,animationDuration:s,animationEasing:o,isAnimationActive:d,active:I,coordinate:D,hasPayload:G,offset:f,position:m,reverseDirection:p,useTranslate3d:y,viewBox:C,wrapperStyle:v,lastBoundingBox:T,innerRef:F,hasPortalFromProps:!!k},jJ(u,UN(UN({},n),{},{payload:K,label:B,active:I,activeIndex:P,coordinate:D,accessibilityLayer:M})));return w.createElement(w.Fragment,null,Ru.createPortal(ie,q),I&&w.createElement(GZ,{cursor:g,tooltipEventType:O,coordinate:D,payload:K,index:P}))}var nI=e=>null;nI.displayName="Cell";function _J(e,t,r){return(t=SJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SJ(e){var t=EJ(e,"string");return typeof t=="symbol"?t:t+""}function EJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CJ{constructor(t){_J(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){OJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OJ(e,t,r){return(t=AJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AJ(e){var t=TJ(e,"string");return typeof t=="symbol"?t:t+""}function TJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MJ={cacheSize:2e3,enableCache:!0},aI=PJ({},MJ),WN=new CJ(aI.cacheSize),IJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KN="recharts_measurement_span";function DJ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}var qN=(e,t)=>{try{var r=document.getElementById(KN);r||(r=document.createElement("span"),r.setAttribute("id",KN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,IJ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},zl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ac.isSsr)return{width:0,height:0};if(!aI.enableCache)return qN(t,r);var n=DJ(t,r),a=WN.get(n);if(a)return a;var i=qN(t,r);return WN.set(n,i),i},YN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$J=Object.keys(iI),Ds="NaN";function zJ(e,t){return e*iI[t]}class Yt{static parse(t){var r,[,n,a]=(r=LJ.exec(t))!==null&&r!==void 0?r:[];return new Yt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,an(t)&&(this.unit=""),r!==""&&!RJ.test(r)&&(this.num=NaN,this.unit=""),$J.includes(r)&&(this.num=zJ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Yt(NaN,""):new Yt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Yt(NaN,""):new Yt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yt(NaN,""):new Yt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yt(NaN,""):new Yt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return an(this.num)}}function sI(e){if(e.includes(Ds))return Ds;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=YN.exec(t))!==null&&r!==void 0?r:[],s=Yt.parse(n??""),o=Yt.parse(i??""),u=a==="*"?s.multiply(o):s.divide(o);if(u.isNaN())return Ds;t=t.replace(YN,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=XN.exec(t))!==null&&c!==void 0?c:[],m=Yt.parse(d??""),p=Yt.parse(h??""),y=f==="+"?m.add(p):m.subtract(p);if(y.isNaN())return Ds;t=t.replace(XN,y.toString())}return t}var GN=/\(([^()]*)\)/;function FJ(e){for(var t=e,r;(r=GN.exec(t))!=null;){var[,n]=r;t=t.replace(GN,sI(n))}return t}function BJ(e){var t=e.replace(/\s+/g,"");return t=FJ(t),t=sI(t),t}function UJ(e){try{return BJ(e)}catch{return Ds}}function Qp(e){var t=UJ(e.slice(5,-1));return t===Ds?"":t}var HJ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],VJ=["dx","dy","angle","className","breakAll"];function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b0.apply(null,arguments)}function QN(e,t){if(e==null)return{};var r,n,a=WJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oI=/[ \f\n\r\t\v\u2028\u2029]+/,lI=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gt(t)||(r?a=t.toString().split(""):a=t.toString().split(oI));var i=a.map(o=>({word:o,width:zl(o,n).width})),s=r?0:zl("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}};function KJ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var uI=(e,t,r,n)=>e.reduce((a,i)=>{var{word:s,width:o}=i,u=a[a.length-1];if(u&&o!=null&&(t==null||n||u.width+o+r<Number(t)))u.words.push(s),u.width+=o+r;else{var c={words:[s],width:o};a.push(c)}return a},[]),cI=e=>e.reduce((t,r)=>t.width>r.width?t:r),qJ="",ZN=(e,t,r,n,a,i,s,o)=>{var u=e.slice(0,t),c=lI({breakAll:r,style:n,children:u+qJ});if(!c)return[!1,[]];var d=uI(c.wordsWithComputedWidth,i,s,o),f=d.length>a||cI(d).width>Number(i);return[f,d]},YJ=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:u}=e,c=oe(i),d=String(s),f=uI(t,n,r,a);if(!c||a)return f;var h=f.length>i||cI(f).width>Number(n);if(!h)return f;for(var m=0,p=d.length-1,y=0,v;m<=p&&y<=d.length-1;){var g=Math.floor((m+p)/2),x=g-1,[b,j]=ZN(d,x,u,o,i,n,r,a),[k]=ZN(d,g,u,o,i,n,r,a);if(!b&&!k&&(m=g+1),b&&k&&(p=g-1),!b&&k){v=j;break}y++}return v||f},JN=e=>{var t=gt(e)?[]:e.toString().split(oI);return[{words:t,width:void 0}]},XJ=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!ac.isSsr){var o,u,c=lI({breakAll:i,children:n,style:a});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,u=f}else return JN(n);return YJ({breakAll:i,children:n,maxLines:s,style:a},o,u,t,!!r)}return JN(n)},dI="#808080",GJ={angle:0,breakAll:!1,capHeight:"0.71em",fill:dI,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ab=w.forwardRef((e,t)=>{var r=Wt(e,GJ),{x:n,y:a,lineHeight:i,capHeight:s,fill:o,scaleToFit:u,textAnchor:c,verticalAnchor:d}=r,f=QN(r,HJ),h=w.useMemo(()=>XJ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:u,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,u,f.style,f.width]),{dx:m,dy:p,angle:y,className:v,breakAll:g}=f,x=QN(f,VJ);if(!Sn(n)||!Sn(a)||h.length===0)return null;var b=Number(n)+(oe(m)?m:0),j=Number(a)+(oe(p)?p:0);if(!Ge(b)||!Ge(j))return null;var k;switch(d){case"start":k=Qp("calc(".concat(s,")"));break;case"middle":k=Qp("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:k=Qp("calc(".concat(h.length-1," * -").concat(i,")"));break}var _=[];if(u){var N=h[0].width,{width:S}=f;_.push("scale(".concat(oe(S)&&oe(N)?S/N:1,")"))}return y&&_.push("rotate(".concat(y,", ").concat(b,", ").concat(j,")")),_.length&&(x.transform=_.join(" ")),w.createElement("text",b0({},Ir(x),{ref:t,x:b,y:j,className:Oe("recharts-text",v),textAnchor:c,fill:o.includes("url")?dI:o}),h.map((C,M)=>{var O=C.words.join(g?"":" ");return w.createElement("tspan",{x:b,dy:M===0?k:i,key:"".concat(O,"-").concat(M)},O)}))});Ab.displayName="Text";var QJ=["labelRef"];function ZJ(e,t){if(e==null)return{};var r,n,a=JJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){eee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eee(e,t,r){return(t=tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tee(e){var t=ree(e,"string");return typeof t=="symbol"?t:t+""}function ree(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fn.apply(null,arguments)}var fI=w.createContext(null),nee=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s,children:o}=e,u=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s}),[t,r,n,a,i,s]);return w.createElement(fI.Provider,{value:u},o)},hI=()=>{var e=w.useContext(fI),t=pm();return e||bA(t)},aee=w.createContext(null),iee=()=>{var e=w.useContext(aee),t=le(HT);return e||t},see=e=>{var{value:t,formatter:r}=e,n=gt(e.children)?t:e.children;return typeof r=="function"?r(n):n},Tb=e=>e!=null&&typeof e=="function",oee=(e,t)=>{var r=Jt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},lee=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:o,cy:u,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,p=(c+d)/2,y=oee(f,h),v=y>=0?1:-1,g,x;switch(t){case"insideStart":g=f+v*i,x=m;break;case"insideEnd":g=h-v*i,x=!m;break;case"end":g=h+v*i,x=m;break;default:throw new Error("Unsupported position ".concat(t))}x=y<=0?x:!x;var b=kt(o,u,p,g),j=kt(o,u,p,g+(x?1:-1)*359),k="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(x?0:1,`,
    `).concat(j.x,",").concat(j.y),_=gt(e.id)?pu("recharts-radial-line-"):e.id;return w.createElement("text",Fn({},n,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",s)}),w.createElement("defs",null,w.createElement("path",{id:_,d:k})),w.createElement("textPath",{xlinkHref:"#".concat(_)},r))},uee=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:u}=e,c=(o+u)/2;if(r==="outside"){var{x:d,y:f}=kt(n,a,s+t,c);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:m,y:p}=kt(n,a,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},w0=e=>"cx"in e&&oe(e.cx),cee=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!w0(r)&&(i=r);var{x:s,y:o,upperWidth:u,lowerWidth:c,height:d}=t,f=s,h=s+(u-c)/2,m=(f+h)/2,p=(u+c)/2,y=f+u/2,v=d>=0?1:-1,g=v*n,x=v>0?"end":"start",b=v>0?"start":"end",j=u>=0?1:-1,k=j*n,_=j>0?"end":"start",N=j>0?"start":"end";if(a==="top"){var S={x:f+u/2,y:o-g,textAnchor:"middle",verticalAnchor:x};return qe(qe({},S),i?{height:Math.max(o-i.y,0),width:u}:{})}if(a==="bottom"){var C={x:h+c/2,y:o+d+g,textAnchor:"middle",verticalAnchor:b};return qe(qe({},C),i?{height:Math.max(i.y+i.height-(o+d),0),width:c}:{})}if(a==="left"){var M={x:m-k,y:o+d/2,textAnchor:_,verticalAnchor:"middle"};return qe(qe({},M),i?{width:Math.max(M.x-i.x,0),height:d}:{})}if(a==="right"){var O={x:m+p+k,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return qe(qe({},O),i?{width:Math.max(i.x+i.width-O.x,0),height:d}:{})}var P=i?{width:p,height:d}:{};return a==="insideLeft"?qe({x:m+k,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},P):a==="insideRight"?qe({x:m+p-k,y:o+d/2,textAnchor:_,verticalAnchor:"middle"},P):a==="insideTop"?qe({x:f+u/2,y:o+g,textAnchor:"middle",verticalAnchor:b},P):a==="insideBottom"?qe({x:h+c/2,y:o+d-g,textAnchor:"middle",verticalAnchor:x},P):a==="insideTopLeft"?qe({x:f+k,y:o+g,textAnchor:N,verticalAnchor:b},P):a==="insideTopRight"?qe({x:f+u-k,y:o+g,textAnchor:_,verticalAnchor:b},P):a==="insideBottomLeft"?qe({x:h+k,y:o+d-g,textAnchor:N,verticalAnchor:x},P):a==="insideBottomRight"?qe({x:h+c-k,y:o+d-g,textAnchor:_,verticalAnchor:x},P):a&&typeof a=="object"&&(oe(a.x)||na(a.x))&&(oe(a.y)||na(a.y))?qe({x:s+sn(a.x,p),y:o+sn(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):qe({x:y,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},dee={angle:0,offset:5,zIndex:zt.label,position:"middle",textBreakAll:!1};function Sa(e){var t=Wt(e,dee),{viewBox:r,position:n,value:a,children:i,content:s,className:o="",textBreakAll:u,labelRef:c}=t,d=iee(),f=hI(),h=n==="center"?f:d??f,m,p,y;if(r==null?m=h:w0(r)?m=r:m=bA(r),!m||gt(a)&&gt(i)&&!w.isValidElement(s)&&typeof s!="function")return null;var v=qe(qe({},t),{},{viewBox:m});if(w.isValidElement(s)){var{labelRef:g}=v,x=ZJ(v,QJ);return w.cloneElement(s,x)}if(typeof s=="function"){if(p=w.createElement(s,v),w.isValidElement(p))return p}else p=see(t);var b=Ir(t);if(w0(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return lee(t,n,p,b,m);y=uee(m,t.offset,t.position)}else y=cee(t,m);return w.createElement(va,{zIndex:t.zIndex},w.createElement(Ab,Fn({ref:c,className:Oe("recharts-label",o)},b,y,{textAnchor:KJ(b.textAnchor)?b.textAnchor:y.textAnchor,breakAll:u}),p))}Sa.displayName="Label";var fee=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(Sa,Fn({key:"label-implicit"},n)):Sn(e)?w.createElement(Sa,Fn({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===Sa?w.cloneElement(e,qe({key:"label-implicit"},n)):w.createElement(Sa,Fn({key:"label-implicit",content:e},n)):Tb(e)?w.createElement(Sa,Fn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(Sa,Fn({},e,{key:"label-implicit"},n)):null};function hee(e){var{label:t,labelRef:r}=e,n=hI();return fee(t,n,r)||null}var mI={},pI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(pI);var gI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(gI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pI,r=gI,n=tm;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(mI);var mee=mI.last;const pee=Pn(mee);var gee=["valueAccessor"],yee=["dataKey","clockWise","id","textBreakAll","zIndex"];function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(null,arguments)}function t_(e,t){if(e==null)return{};var r,n,a=vee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xee=e=>Array.isArray(e.value)?pee(e.value):e.value,yI=w.createContext(void 0),bee=yI.Provider,vI=w.createContext(void 0);vI.Provider;function wee(){return w.useContext(yI)}function jee(){return w.useContext(vI)}function Dd(e){var{valueAccessor:t=xee}=e,r=t_(e,gee),{dataKey:n,clockWise:a,id:i,textBreakAll:s,zIndex:o}=r,u=t_(r,yee),c=wee(),d=jee(),f=c||d;return!f||!f.length?null:w.createElement(va,{zIndex:o??zt.label},w.createElement(ra,{className:"recharts-label-list"},f.map((h,m)=>{var p,y=gt(n)?t(h,m):Tt(h&&h.payload,n),v=gt(i)?{}:{id:"".concat(i,"-").concat(m)};return w.createElement(Sa,nh({key:"label-".concat(m)},Ir(h),u,v,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}Dd.displayName="LabelList";function kee(e){var{label:t}=e;return t?t===!0?w.createElement(Dd,{key:"labelList-implicit"}):w.isValidElement(t)||Tb(t)?w.createElement(Dd,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(Dd,nh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var Nee={radiusAxis:{},angleAxis:{}},xI=ir({name:"polarAxis",initialState:Nee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Qse,removeRadiusAxis:Zse,addAngleAxis:Jse,removeAngleAxis:eoe}=xI.actions,_ee=xI.reducer,bI={exports:{}},Ee={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb=Symbol.for("react.transitional.element"),Ib=Symbol.for("react.portal"),Lm=Symbol.for("react.fragment"),$m=Symbol.for("react.strict_mode"),zm=Symbol.for("react.profiler"),Fm=Symbol.for("react.consumer"),Bm=Symbol.for("react.context"),Um=Symbol.for("react.forward_ref"),Hm=Symbol.for("react.suspense"),Vm=Symbol.for("react.suspense_list"),Wm=Symbol.for("react.memo"),Km=Symbol.for("react.lazy"),See=Symbol.for("react.view_transition"),Eee=Symbol.for("react.client.reference");function $r(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Mb:switch(e=e.type,e){case Lm:case zm:case $m:case Hm:case Vm:case See:return e;default:switch(e=e&&e.$$typeof,e){case Bm:case Um:case Km:case Wm:return e;case Fm:return e;default:return t}}case Ib:return t}}}Ee.ContextConsumer=Fm;Ee.ContextProvider=Bm;Ee.Element=Mb;Ee.ForwardRef=Um;Ee.Fragment=Lm;Ee.Lazy=Km;Ee.Memo=Wm;Ee.Portal=Ib;Ee.Profiler=zm;Ee.StrictMode=$m;Ee.Suspense=Hm;Ee.SuspenseList=Vm;Ee.isContextConsumer=function(e){return $r(e)===Fm};Ee.isContextProvider=function(e){return $r(e)===Bm};Ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mb};Ee.isForwardRef=function(e){return $r(e)===Um};Ee.isFragment=function(e){return $r(e)===Lm};Ee.isLazy=function(e){return $r(e)===Km};Ee.isMemo=function(e){return $r(e)===Wm};Ee.isPortal=function(e){return $r(e)===Ib};Ee.isProfiler=function(e){return $r(e)===zm};Ee.isStrictMode=function(e){return $r(e)===$m};Ee.isSuspense=function(e){return $r(e)===Hm};Ee.isSuspenseList=function(e){return $r(e)===Vm};Ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Lm||e===zm||e===$m||e===Hm||e===Vm||typeof e=="object"&&e!==null&&(e.$$typeof===Km||e.$$typeof===Wm||e.$$typeof===Bm||e.$$typeof===Fm||e.$$typeof===Um||e.$$typeof===Eee||e.getModuleId!==void 0)};Ee.typeOf=$r;bI.exports=Ee;var Cee=bI.exports,r_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",n_=null,Zp=null,wI=e=>{if(e===n_&&Array.isArray(Zp))return Zp;var t=[];return w.Children.forEach(e,r=>{gt(r)||(Cee.isFragment(r)?t=t.concat(wI(r.props.children)):t.push(r))}),Zp=t,n_=e,t};function Pee(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>r_(a)):n=[r_(t)],wI(e).forEach(a=>{var i=ko(a,"type.displayName")||ko(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var jI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(jI);var Oee=jI.isPlainObject;const Aee=Pn(Oee);function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){Tee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tee(e,t,r){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=Iee(e,"string");return typeof t=="symbol"?t:t+""}function Iee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ah.apply(null,arguments)}var s_=(e,t,r,n,a)=>{var i=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},Dee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ree=e=>{var t=Wt(e,Dee),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:o}=t,{animationEasing:u,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=w.useRef(null),[m,p]=w.useState(-1),y=w.useRef(a),v=w.useRef(i),g=w.useRef(s),x=w.useRef(r),b=w.useRef(n),j=Ix(e,"trapezoid-");if(w.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var E=h.current.getTotalLength();E&&p(E)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var k=Oe("recharts-trapezoid",o);if(!f)return w.createElement("g",null,w.createElement("path",ah({},Ir(t),{className:k,d:s_(r,n,a,i,s)})));var _=y.current,N=v.current,S=g.current,C=x.current,M=b.current,O="0px ".concat(m===-1?1:m,"px"),P="".concat(m,"px 0px"),$=TA(["strokeDasharray"],c,u);return w.createElement(Mx,{animationId:j,key:j,canBegin:m>0,duration:c,easing:u,isActive:f,begin:d},E=>{var R=wt(_,a,E),D=wt(N,i,E),L=wt(S,s,E),A=wt(C,r,E),I=wt(M,n,E);h.current&&(y.current=R,v.current=D,g.current=L,x.current=A,b.current=I);var T=E>0?{transition:$,strokeDasharray:P}:{strokeDasharray:O};return w.createElement("path",ah({},Ir(t),{className:k,d:s_(A,I,R,D,L),ref:h,style:i_(i_({},T),t.style)}))})},Lee=["option","shapeType","propTransformer","activeClassName"];function $ee(e,t){if(e==null)return{};var r,n,a=zee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){Fee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fee(e,t,r){return(t=Bee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hee(e,t){return ih(ih({},t),e)}function Vee(e,t){return e==="symbols"}function l_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(RA,r);case"trapezoid":return w.createElement(Ree,r);case"sector":return w.createElement(zA,r);case"symbols":if(Vee(t))return w.createElement(sx,r);break;case"curve":return w.createElement(AA,r);default:return null}}function Wee(e){return w.isValidElement(e)?e.props:e}function Kee(e){var{option:t,shapeType:r,propTransformer:n=Hee,activeClassName:a="recharts-active-shape"}=e,i=$ee(e,Lee),s;if(w.isValidElement(t))s=w.cloneElement(t,ih(ih({},i),Wee(t)));else if(typeof t=="function")s=t(i,i.index);else if(Aee(t)&&typeof t!="boolean"){var o=n(t,i);s=w.createElement(l_,{shapeType:r,elementProps:o})}else{var u=i;s=w.createElement(l_,{shapeType:r,elementProps:u})}return i.isActive?w.createElement(ra,{className:a},s):s}var kI=(e,t,r)=>{var n=He();return(a,i)=>s=>{e==null||e(a,i,s),n(TM({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},NI=e=>{var t=He();return(r,n)=>a=>{e==null||e(r,n,a),t(wQ())}},_I=(e,t,r)=>{var n=He();return(a,i)=>s=>{e==null||e(a,i,s),n(jQ({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function qee(e){var{tooltipEntrySettings:t}=e,r=He(),n=sr(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(yQ(t)):a.current!==t&&r(vQ({prev:a.current,next:t})),a.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{a.current&&(r(xQ(a.current)),a.current=null)},[r]),null}function Yee(e){var{legendPayload:t}=e,r=He(),n=sr(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(hK(t)):a.current!==t&&r(mK({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(pK(a.current)),a.current=null)},[r]),null}var Jp,Xee=()=>{var[e]=w.useState(()=>pu("uid-"));return e},Gee=(Jp=j3.useId)!==null&&Jp!==void 0?Jp:Xee;function SI(e,t){var r=Gee();return t||(e?"".concat(e,"-").concat(r):r)}var Qee=w.createContext(void 0),Zee=e=>{var{id:t,type:r,children:n}=e,a=SI("recharts-".concat(r),t);return w.createElement(Qee.Provider,{value:a},n(a))},Jee={cartesianItems:[],polarItems:[]},EI=ir({name:"graphicalItems",initialState:Jee,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:De()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=rn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:De()},removeCartesianGraphicalItem:{reducer(e,t){var r=rn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:De()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:De()},removePolarGraphicalItem:{reducer(e,t){var r=rn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:De()}}}),{addCartesianGraphicalItem:ete,replaceCartesianGraphicalItem:tte,removeCartesianGraphicalItem:rte,addPolarGraphicalItem:toe,removePolarGraphicalItem:roe}=EI.actions,nte=EI.reducer,ate=e=>{var t=He(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(ete(e)):r.current!==e&&t(tte({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(rte(r.current)),r.current=null)},[t]),null},ite=w.memo(ate);function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){ste(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ste(e,t,r){return(t=ote(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ote(e){var t=lte(e,"string");return typeof t=="symbol"?t:t+""}function lte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ute={xAxis:{},yAxis:{},zAxis:{}},CI=ir({name:"cartesianAxis",initialState:ute,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:De()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:De()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:De()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:De()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:De()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:De()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:De()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:De()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:De()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var s=[...i,n].slice(-3);e.yAxis[r]=c_(c_({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:cte,replaceXAxis:dte,removeXAxis:fte,addYAxis:hte,replaceYAxis:mte,removeYAxis:pte,addZAxis:noe,replaceZAxis:aoe,removeZAxis:ioe,updateYAxisWidth:gte}=CI.actions,yte=CI.reducer,vte=W([yt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),xte=W([vte,fa,ha],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),PI=()=>le(xte),bte="Invariant failed";function wte(e,t){throw new Error(bte)}var jte=["x","y"];function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j0.apply(null,arguments)}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){kte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kte(e,t,r){return(t=Nte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nte(e){var t=_te(e,"string");return typeof t=="symbol"?t:t+""}function _te(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ste(e,t){if(e==null)return{};var r,n,a=Ete(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ete(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cte(e,t){var{x:r,y:n}=e,a=Ste(e,jte),i="".concat(r),s=parseInt(i,10),o="".concat(n),u=parseInt(o,10),c="".concat(t.height||a.height),d=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return xl(xl(xl(xl(xl({},t),a),s?{x:s}:{}),u?{y:u}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function sh(e){return w.createElement(Kee,j0({shapeType:"rectangle",propTransformer:Cte,activeClassName:"recharts-active-bar"},e))}var Pte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(oe(t))return t;var i=oe(n)||gt(n);return i?t(n,a):(i||wte(),r)}},Ote={},OI=ir({name:"errorBars",initialState:Ote,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:soe,replaceErrorBar:ooe,removeErrorBar:loe}=OI.actions,Ate=OI.reducer,Tte=["children"];function Mte(e,t){if(e==null)return{};var r,n,a=Ite(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ite(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Rte=w.createContext(Dte);function Lte(e){var{children:t}=e,r=Mte(e,Tte);return w.createElement(Rte.Provider,{value:r},t)}function AI(e,t){var r,n,a=le(c=>pa(c,e)),i=le(c=>ga(c,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ut.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ct.allowDataOverflow,u=s||o;return{needClip:u,needClipX:s,needClipY:o}}function $te(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=PI(),{needClipX:i,needClipY:s,needClip:o}=AI(t,r);if(!o||!a)return null;var{x:u,y:c,width:d,height:f}=a;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:i?u:u-d/2,y:s?c:c-f/2,width:i?d:d*2,height:s?f:f*2}))}function zte(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ge(e.zIndex)?e.zIndex:t}var Fte={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=w;function Bte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ute=typeof Object.is=="function"?Object.is:Bte,Hte=yc.useSyncExternalStore,Vte=yc.useRef,Wte=yc.useEffect,Kte=yc.useMemo,qte=yc.useDebugValue;Fte.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Vte(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Kte(function(){function u(m){if(!c){if(c=!0,d=m,m=n(m),a!==void 0&&s.hasValue){var p=s.value;if(a(p,m))return f=p}return f=m}if(p=f,Ute(d,m))return p;var y=n(m);return a!==void 0&&a(p,y)?(d=m,p):(d=m,f=y)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,r,n,a]);var o=Hte(e,i[0],i[1]);return Wte(function(){s.hasValue=!0,s.value=o},[o]),qte(o),o};function Yte(e){e()}function Xte(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Yte(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var f_={notify(){},get:()=>[]};function Gte(e,t){let r,n=f_,a=0,i=!1;function s(y){d();const v=n.subscribe(y);let g=!1;return()=>{g||(g=!0,v(),f())}}function o(){n.notify()}function u(){p.onStateChange&&p.onStateChange()}function c(){return i}function d(){a++,r||(r=e.subscribe(u),n=Xte())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=f_)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var Qte=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zte=Qte(),Jte=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ere=Jte(),tre=()=>Zte||ere?w.useLayoutEffect:w.useEffect,rre=tre();function h_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function nre(e,t){if(h_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!h_(e[r[a]],t[r[a]]))return!1;return!0}var eg=Symbol.for("react-redux-context"),tg=typeof globalThis<"u"?globalThis:{};function are(){if(!w.createContext)return{};const e=tg[eg]??(tg[eg]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var ire=are();function sre(e){const{children:t,context:r,serverState:n,store:a}=e,i=w.useMemo(()=>{const u=Gte(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),s=w.useMemo(()=>a.getState(),[a]);rre(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,s]);const o=r||ire;return w.createElement(o.Provider,{value:i},t)}var ore=sre,lre=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function ure(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Db(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(lre.has(n)){if(e[n]==null&&t[n]==null)continue;if(!nre(e[n],t[n]))return!1}else if(!ure(e[n],t[n]))return!1;return!0}var cre=["onMouseEnter","onMouseLeave","onClick"],dre=["value","background","tooltipPosition"],fre=["id"],hre=["onMouseEnter","onClick","onMouseLeave"];function ua(){return ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ua.apply(null,arguments)}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){mre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mre(e,t,r){return(t=pre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pre(e){var t=gre(e,"string");return typeof t=="symbol"?t:t+""}function gre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oh(e,t){if(e==null)return{};var r,n,a=yre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vre=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:fA(r,t),payload:e}]},xre=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:o,tooltipType:u}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:fA(i,t),hide:s,type:u,color:a,unit:o}};return w.createElement(qee,{tooltipEntrySettings:c})});function bre(e){var t=le(Mo),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:u}=i,c=oh(i,cre),d=kI(s,n),f=NI(o),h=_I(u,n);if(!a||r==null)return null;var m=ex(a);return w.createElement(va,{zIndex:zte(a,zt.barBackground)},r.map((p,y)=>{var{value:v,background:g,tooltipPosition:x}=p,b=oh(p,dre);if(!g)return null;var j=d(p,y),k=f(p,y),_=h(p,y),N=Lt(Lt(Lt(Lt(Lt({option:a,isActive:String(y)===t},b),{},{fill:"#eee"},g),m),em(c,p,y)),{},{onMouseEnter:j,onMouseLeave:k,onClick:_,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return w.createElement(sh,ua({key:"background-bar-".concat(y)},N))}))}function wre(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Lt(Lt({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return w.createElement(bee,{value:t?a:void 0},r)}function jre(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,o=le(Mo),u=le(KM),c=r&&String(i)===o&&(u==null||s===u),d=c?r:t;return c?w.createElement(va,{zIndex:zt.activeBar},w.createElement(sh,ua({},n,{name:String(n.name)},a,{isActive:c,option:d,index:i,dataKey:s}))):w.createElement(sh,ua({},n,{name:String(n.name)},a,{isActive:c,option:d,index:i,dataKey:s}))}function kre(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return w.createElement(sh,ua({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function Nre(e){var t,{data:r,props:n}=e,a=(t=ta(n))!==null&&t!==void 0?t:{},{id:i}=a,s=oh(a,fre),{shape:o,dataKey:u,activeBar:c}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=oh(n,hre),p=kI(d,u),y=NI(h),v=_I(f,u);return r?w.createElement(w.Fragment,null,r.map((g,x)=>w.createElement(ra,ua({key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(x),className:"recharts-bar-rectangle"},em(m,g,x),{onMouseEnter:p(g,x),onMouseLeave:y(g,x),onClick:v(g,x)}),c?w.createElement(jre,{shape:o,activeBar:c,baseProps:s,entry:g,index:x,dataKey:u}):w.createElement(kre,{shape:o,baseProps:s,entry:g,index:x,dataKey:u})))):null}function _re(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:u,onAnimationEnd:c,onAnimationStart:d}=t,f=r.current,h=Ix(t,"recharts-bar-"),[m,p]=w.useState(!1),y=!m,v=w.useCallback(()=>{typeof c=="function"&&c(),p(!1)},[c]),g=w.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return w.createElement(wre,{showLabels:y,rects:n},w.createElement(Mx,{animationId:h,begin:s,duration:o,isActive:i,easing:u,onAnimationEnd:v,onAnimationStart:g,key:h},x=>{var b=x===1?n:n==null?void 0:n.map((j,k)=>{var _=f&&f[k];if(_)return Lt(Lt({},j),{},{x:wt(_.x,j.x,x),y:wt(_.y,j.y,x),width:wt(_.width,j.width,x),height:wt(_.height,j.height,x)});if(a==="horizontal"){var N=wt(0,j.height,x),S=wt(j.stackedBarStart,j.y,x);return Lt(Lt({},j),{},{y:S,height:N})}var C=wt(0,j.width,x),M=wt(j.stackedBarStart,j.x,x);return Lt(Lt({},j),{},{width:C,x:M})});return x>0&&(r.current=b??null),b==null?null:w.createElement(ra,null,w.createElement(Nre,{props:t,data:b}))}),w.createElement(kee,{label:t.label}),t.children)}function Sre(e){var t=w.useRef(null);return w.createElement(_re,{previousRectanglesRef:t,props:e})}var TI=0,Ere=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Tt(e,t)}};class Cre extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:o,background:u,id:c}=this.props;if(t||r==null)return null;var d=Oe("recharts-bar",a),f=c;return w.createElement(ra,{className:d,id:c},o&&w.createElement("defs",null,w.createElement($te,{clipPathId:f,xAxisId:i,yAxisId:s})),w.createElement(ra,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},w.createElement(bre,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),w.createElement(Sre,this.props)))}}var Pre={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:TI,xAxisId:0,yAxisId:0,zIndex:zt.bar};function Ore(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:u,animationEasing:c,isAnimationActive:d}=e,{needClip:f}=AI(t,r),h=gm(),m=sr(),p=Pee(e.children,nI),y=le(x=>ane(x,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var v,g=y==null?void 0:y[0];return g==null||g.height==null||g.width==null?v=0:v=h==="vertical"?g.height/2:g.width/2,w.createElement(Lte,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:Ere,errorBarOffset:v},w.createElement(Cre,ua({},e,{layout:h,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:u,animationEasing:c,isAnimationActive:d})))}function Are(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:u,yAxisTicks:c,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p,dataStartIndex:y}=e,v=t==="horizontal"?o:s,g=d?v.scale.domain():null,x=vW({numericAxis:v}),b=v.scale(x);return f.map((j,k)=>{var _,N,S,C,M,O;d?_=fW(d[k+y],g):(_=Tt(j,r),Array.isArray(_)||(_=[x,_]));var P=Pte(n,TI)(_[1],k);if(t==="horizontal"){var $,[E,R]=[o.scale(_[0]),o.scale(_[1])];N=dk({axis:s,ticks:u,bandSize:i,offset:a.offset,entry:j,index:k}),S=($=R??E)!==null&&$!==void 0?$:void 0,C=a.size;var D=E-R;if(M=an(D)?0:D,O={x:N,y:h.top,width:C,height:h.height},Math.abs(P)>0&&Math.abs(M)<Math.abs(P)){var L=Jt(M||P)*(Math.abs(P)-Math.abs(M));S-=L,M+=L}}else{var[A,I]=[s.scale(_[0]),s.scale(_[1])];if(N=A,S=dk({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:j,index:k}),C=I-A,M=a.size,O={x:h.left,y:S,width:h.width,height:M},Math.abs(P)>0&&Math.abs(C)<Math.abs(P)){var T=Jt(C||P)*(Math.abs(P)-Math.abs(C));C+=T}}if(N==null||S==null||C==null||M==null)return null;var F=Lt(Lt({},j),{},{stackedBarStart:b,x:N,y:S,width:C,height:M,value:d?_:_[1],payload:j,background:O,tooltipPosition:{x:N+C/2,y:S+M/2},parentViewBox:p},m&&m[k]&&m[k].props);return F}).filter(Boolean)}function Tre(e){var t=Wt(e,Pre),r=sr();return w.createElement(Zee,{id:t.id,type:"bar"},n=>w.createElement(w.Fragment,null,w.createElement(Yee,{legendPayload:vre(t)}),w.createElement(xre,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(ite,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:yW(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement(va,{zIndex:t.zIndex},w.createElement(Ore,ua({},t,{id:n})))))}var MI=w.memo(Tre,Db);MI.displayName="Bar";function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ud(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){Mre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mre(e,t,r){return(t=Ire(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ire(e){var t=Dre(e,"string");return typeof t=="symbol"?t:t+""}function Dre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rre=(e,t)=>t,Lre=(e,t,r)=>r,$re=(e,t,r,n)=>n,zre=(e,t,r,n,a)=>a,vc=W([fb,zre],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Fre=W([vc],e=>e==null?void 0:e.maxBarSize),Bre=(e,t,r,n,a,i)=>i,g_=(e,t,r)=>{var n=r??e;if(!gt(n))return sn(n,t,0)},Ure=W([_e,fb,Rre,Lre,$re],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Hre=(e,t,r,n)=>{var a=_e(e);return a==="horizontal"?p0(e,"yAxis",r,n):p0(e,"xAxis",t,n)},Vre=(e,t,r)=>{var n=_e(e);return n==="horizontal"?EN(e,"xAxis",t):EN(e,"yAxis",r)},Wre=(e,t,r)=>{var n={},a=e.filter(Am),i=e.filter(c=>c.stackId==null),s=a.reduce((c,d)=>(c[d.stackId]||(c[d.stackId]=[]),c[d.stackId].push(d),c),n),o=Object.entries(s).map(c=>{var[d,f]=c,h=f.map(p=>p.dataKey),m=g_(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),u=i.map(c=>{var d=[c.dataKey].filter(h=>h!=null),f=g_(t,r,c.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...u]},Kre=W([Ure,cG,Vre],Wre),qre=(e,t,r,n,a)=>{var i,s,o=vc(e,t,r,n,a);if(o!=null){var u=_e(e),c=DT(e),{maxBarSize:d}=o,f=gt(d)?c:d,h,m;return u==="horizontal"?(h=To(e,"xAxis",t,n),m=Ao(e,"xAxis",t,n)):(h=To(e,"yAxis",r,n),m=Ao(e,"yAxis",r,n)),(i=(s=Lf(h,m,!0))!==null&&s!==void 0?s:f)!==null&&i!==void 0?i:0}},II=(e,t,r,n)=>{var a=_e(e),i,s;return a==="horizontal"?(i=To(e,"xAxis",t,n),s=Ao(e,"xAxis",t,n)):(i=To(e,"yAxis",r,n),s=Ao(e,"yAxis",r,n)),Lf(i,s)};function Yre(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=sn(e,r,0,!0),o,u=[];if(Ge(n[0].barSize)){var c=!1,d=r/i,f=n.reduce((g,x)=>g+(x.barSize||0),0);f+=(i-1)*s,f>=r&&(f-=(i-1)*s,s=0),f>=r&&d>0&&(c=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-s,size:0};o=n.reduce((g,x)=>{var b,j={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m.offset+m.size+s,size:c?d:(b=x.barSize)!==null&&b!==void 0?b:0}},k=[...g,j];return m=k[k.length-1].position,k},u)}else{var p=sn(t,r,0,!0);r-2*p-(i-1)*s<=0&&(s=0);var y=(r-2*p-(i-1)*s)/i;y>1&&(y>>=0);var v=Ge(a)?Math.min(y,a):y;o=n.reduce((g,x,b)=>[...g,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p+(y+s)*b+(y-v)/2,size:v}}],u)}return o}}var Xre=(e,t,r,n,a,i,s)=>{var o=gt(s)?t:s,u=Yre(r,n,a!==i?a:i,e,o);return a!==i&&u!=null&&(u=u.map(c=>ud(ud({},c),{},{position:ud(ud({},c.position),{},{offset:c.position.offset-a/2})}))),u},Gre=W([Kre,DT,uG,RT,qre,II,Fre],Xre),Qre=(e,t,r,n)=>To(e,"xAxis",t,n),Zre=(e,t,r,n)=>To(e,"yAxis",r,n),Jre=(e,t,r,n)=>Ao(e,"xAxis",t,n),ene=(e,t,r,n)=>Ao(e,"yAxis",r,n),tne=W([Gre,vc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),rne=(e,t)=>{var r=cb(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}},nne=W([Hre,vc],rne),ane=W([yt,Ex,Qre,Zre,Jre,ene,tne,_e,tb,II,nne,vc,Bre],(e,t,r,n,a,i,s,o,u,c,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:y}=u;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||c==null)){var{data:v}=f,g;if(v!=null&&v.length>0?g=v:g=m==null?void 0:m.slice(p,y+1),g!=null)return Are({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:p})}}),ine=e=>{var{chartData:t}=e,r=He(),n=sr();return w.useEffect(()=>n?()=>{}:(r(zN(t)),()=>{r(zN(void 0))}),[t,r,n]),null},y_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},DI=ir({name:"brush",initialState:y_,reducers:{setBrushSettings(e,t){return t.payload==null?y_:t.payload}}}),{setBrushSettings:uoe}=DI.actions,sne=DI.reducer;function one(e,t,r){return(t=lne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lne(e){var t=une(e,"string");return typeof t=="symbol"?t:t+""}function une(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Rb{static create(t){return new Rb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}one(Rb,"EPS",1e-4);function cne(e){return(e%180+180)%180}var dne=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=cne(a),s=i*Math.PI/180,o=Math.atan(n/r),u=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(u)},fne={dots:[],areas:[],lines:[]},RI=ir({name:"referenceElements",initialState:fne,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=rn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=rn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=rn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:coe,removeDot:doe,addArea:foe,removeArea:hoe,addLine:moe,removeLine:poe}=RI.actions,hne=RI.reducer,mne=w.createContext(void 0),pne=e=>{var{children:t}=e,[r]=w.useState("".concat(pu("recharts"),"-clip")),n=PI();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return w.createElement(mne.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:a,y:i,height:o,width:s}))),t)};function LI(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function gne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return dne(n,r)}function yne(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:o}=e;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function lh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function vne(e,t){return LI(e,t+1)}function xne(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:o}=t,u=0,c=1,d=s,f=function(){var p=n==null?void 0:n[u];if(p===void 0)return{v:LI(n,c)};var y=u,v,g=()=>(v===void 0&&(v=r(p,y)),v),x=p.coordinate,b=u===0||lh(e,x,g,d,o);b||(u=0,d=s,c+=1),b&&(d=x+e*(g()/2+a),u+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bne(e,t,r){return(t=wne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wne(e){var t=jne(e,"string");return typeof t=="symbol"?t:t+""}function jne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kne(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:u}=t,c=function(h){var m=i[h],p,y=()=>(p===void 0&&(p=r(m,h)),p);if(h===s-1){var v=e*(m.coordinate+e*y()/2-u);i[h]=m=Ct(Ct({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=Ct(Ct({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var g=lh(e,m.tickCoord,y,o,u);g&&(u=m.tickCoord-e*(y()/2+a),i[h]=Ct(Ct({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return i}function Nne(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:u,end:c}=t;if(i){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-c);if(s[o-1]=d=Ct(Ct({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=lh(e,d.tickCoord,()=>f,u,c);m&&(c=d.tickCoord-e*(f/2+a),s[o-1]=Ct(Ct({},d),{},{isShow:!0}))}}for(var p=i?o-1:o,y=function(x){var b=s[x],j,k=()=>(j===void 0&&(j=r(b,x)),j);if(x===0){var _=e*(b.coordinate-e*k()/2-u);s[x]=b=Ct(Ct({},b),{},{tickCoord:_<0?b.coordinate-_*e:b.coordinate})}else s[x]=b=Ct(Ct({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=lh(e,b.tickCoord,k,u,c);N&&(u=b.tickCoord+e*(k()/2+a),s[x]=Ct(Ct({},b),{},{isShow:!0}))}},v=0;v<p;v++)y(v);return s}function Lb(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:o,interval:u,tickFormatter:c,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(oe(u)||ac.isSsr){var h;return(h=vne(a,oe(u)?u:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",y=d&&p==="width"?zl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(b,j)=>{var k=typeof c=="function"?c(b.value,j):b.value;return p==="width"?gne(zl(k,{fontSize:t,letterSpacing:r}),y,f):zl(k,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?Jt(a[1].coordinate-a[0].coordinate):1,x=yne(i,g,p);return u==="equidistantPreserveStart"?xne(g,x,v,a,s):(u==="preserveStart"||u==="preserveStartEnd"?m=Nne(g,x,v,a,s,u==="preserveStartEnd"):m=kne(g,x,v,a,s),m.filter(b=>b.isShow))}var _ne=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,u=a+i,c=s+u+o+(r?n:0);return Math.round(c)}return 0},Sne=["axisLine","width","height","className","hide","ticks","axisType"];function Ene(e,t){if(e==null)return{};var r,n,a=Cne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(null,arguments)}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){Pne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pne(e,t,r){return(t=One(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function One(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:zt.axis};function Tne(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o,otherSvgProps:u}=e;if(!o)return null;var c=Ze(Ze(Ze({},u),ta(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!s||i==="bottom"&&s);c=Ze(Ze({},c),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);c=Ze(Ze({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return w.createElement("line",ns({},c,{className:Oe("recharts-cartesian-axis-line",ko(o,"className"))}))}function Mne(e,t,r,n,a,i,s,o,u){var c,d,f,h,m,p,y=o?-1:1,v=e.tickSize||s,g=oe(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=d=e.coordinate,h=r+ +!o*a,f=h-y*v,p=f-y*u,m=g;break;case"left":f=h=e.coordinate,d=t+ +!o*n,c=d-y*v,m=c-y*u,p=g;break;case"right":f=h=e.coordinate,d=t+ +o*n,c=d+y*v,m=c+y*u,p=g;break;default:c=d=e.coordinate,h=r+ +o*a,f=h+y*v,p=f+y*u,m=g;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function Ine(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Dne(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Rne(e){var{option:t,tickProps:r,value:n}=e,a,i=Oe(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))a=w.cloneElement(t,Ze(Ze({},r),{},{className:i}));else if(typeof t=="function")a=t(Ze(Ze({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Oe(s,t==null?void 0:t.className)),a=w.createElement(Ab,ns({},r,{className:s}),n)}return a}var Lne=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:s,unit:o,padding:u,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:p,height:y,tickSize:v,tickMargin:g,fontSize:x,letterSpacing:b,getTicksConfig:j,events:k,axisType:_}=e,N=Lb(Ze(Ze({},j),{},{ticks:r}),x,b),S=Ine(d,f),C=Dne(d,f),M=ta(j),O=ex(n),P={};typeof a=="object"&&(P=a);var $=Ze(Ze({},M),{},{fill:"none"},P),E=N.map(L=>Ze({entry:L},Mne(L,h,m,p,y,d,v,f,g))),R=E.map(L=>{var{entry:A,line:I}=L;return w.createElement(ra,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},a&&w.createElement("line",ns({},$,I,{className:Oe("recharts-cartesian-axis-tick-line",ko(a,"className"))})))}),D=E.map((L,A)=>{var{entry:I,tick:T}=L,F=Ze(Ze(Ze(Ze({textAnchor:S,verticalAnchor:C},M),{},{stroke:"none",fill:i},O),T),{},{index:A,payload:I,visibleTicksCount:N.length,tickFormatter:s,padding:u},c);return w.createElement(ra,ns({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},em(k,I,A)),n&&w.createElement(Rne,{option:n,tickProps:F,value:"".concat(typeof s=="function"?s(I.value,A):I.value).concat(o||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},D.length>0&&w.createElement(va,{zIndex:zt.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},D)),R.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},R))}),$ne=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:o,axisType:u}=e,c=Ene(e,Sne),[d,f]=w.useState(""),[h,m]=w.useState(""),p=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return _ne({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=w.useCallback(v=>{if(v){var g=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=g;var x=g[0];if(x){var b=window.getComputedStyle(x),j=b.fontSize,k=b.letterSpacing;(j!==d||k!==h)&&(f(j),m(k))}}},[d,h]);return s||n!=null&&n<=0||a!=null&&a<=0?null:w.createElement(va,{zIndex:e.zIndex},w.createElement(ra,{className:Oe("recharts-cartesian-axis",i)},w.createElement(Tne,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ta(e)}),w.createElement(Lne,{ref:y,axisType:u,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(nee,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(hee,{label:e.label,labelRef:e.labelRef}),e.children)))}),$b=w.forwardRef((e,t)=>{var r=Wt(e,Xn);return w.createElement($ne,ns({},r,{ref:t}))});$b.displayName="CartesianAxis";var zne=["x1","y1","x2","y2","key"],Fne=["offset"],Bne=["xAxisId","yAxisId"],Une=["xAxisId","yAxisId"];function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){Hne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hne(e,t,r){return(t=Vne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vne(e){var t=Wne(e,"string");return typeof t=="symbol"?t:t+""}function Wne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(null,arguments)}function uh(e,t){if(e==null)return{};var r,n,a=Kne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:o}=e;return w.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $I(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:s,x2:o,y2:u,key:c}=r,d=uh(r,zne),f=(a=ta(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=uh(f,Fne);n=w.createElement("line",Ni({},m,{x1:i,y1:s,x2:o,y2:u,fill:"none",key:c}))}return n}function Yne(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=uh(e,Bne),u=a.map((c,d)=>{var f=Ot(Ot({},o),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return w.createElement($I,{key:"line-".concat(d),option:n,lineItemProps:f})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Xne(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=uh(e,Une),u=a.map((c,d)=>{var f=Ot(Ot({},o),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return w.createElement($I,{option:n,lineItemProps:f,key:"line-".concat(d)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Gne(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:o,horizontal:u=!0}=e;if(!u||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?a+s-f:c[h+1]-f;if(p<=0)return null;var y=h%t.length;return w.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Qne(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var c=u.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?a+s-f:c[h+1]-f;if(p<=0)return null;var y=h%r.length;return w.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Zne=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return cA(Lb(Ot(Ot(Ot({},Xn),r),{},{ticks:dA(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},Jne=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return cA(Lb(Ot(Ot(Ot({},Xn),r),{},{ticks:dA(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},eae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:zt.grid};function zI(e){var t=Px(),r=Ox(),n=wA(),a=Ot(Ot({},Wt(e,eae)),{},{x:oe(e.x)?e.x:n.left,y:oe(e.y)?e.y:n.top,width:oe(e.width)?e.width:n.width,height:oe(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:o,y:u,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=sr(),y=le(C=>CN(C,"xAxis",i,p)),v=le(C=>CN(C,"yAxis",s,p));if(!En(c)||!En(d)||!oe(o)||!oe(u))return null;var g=a.verticalCoordinatesGenerator||Zne,x=a.horizontalCoordinatesGenerator||Jne,{horizontalPoints:b,verticalPoints:j}=a;if((!b||!b.length)&&typeof x=="function"){var k=h&&h.length,_=x({yAxis:v?Ot(Ot({},v),{},{ticks:k?h:v.ticks}):void 0,width:t??c,height:r??d,offset:n},k?!0:f);$f(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(b=_)}if((!j||!j.length)&&typeof g=="function"){var N=m&&m.length,S=g({xAxis:y?Ot(Ot({},y),{},{ticks:N?m:y.ticks}):void 0,width:t??c,height:r??d,offset:n},N?!0:f);$f(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return w.createElement(va,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(qne,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(Gne,Ni({},a,{horizontalPoints:b})),w.createElement(Qne,Ni({},a,{verticalPoints:j})),w.createElement(Yne,Ni({},a,{offset:n,horizontalPoints:b,xAxis:y,yAxis:v})),w.createElement(Xne,Ni({},a,{offset:n,verticalPoints:j,xAxis:y,yAxis:v}))))}zI.displayName="CartesianGrid";var tae=["domain","range"],rae=["domain","range"];function w_(e,t){if(e==null)return{};var r,n,a=nae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function FI(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=w_(e,tae),{domain:i,range:s}=t,o=w_(t,rae);return!j_(r,i)||!j_(n,s)?!1:Db(a,o)}var aae=["dangerouslySetInnerHTML","ticks"],iae=["id"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(null,arguments)}function k_(e,t){if(e==null)return{};var r,n,a=sae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oae(e){var t=He(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(cte(e)):r.current!==e&&t(dte({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(fte(r.current)),r.current=null)},[t]),null}var lae=e=>{var{xAxisId:t,className:r}=e,n=le(Ex),a=sr(),i="xAxis",s=le(v=>Ko(v,i,t,a)),o=le(v=>SM(v,i,t,a)),u=le(v=>jM(v,t)),c=le(v=>oQ(v,t)),d=le(v=>WT(v,t));if(u==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=k_(e,aae),{id:p}=d,y=k_(d,iae);return w.createElement($b,k0({},m,y,{scale:s,x:c.x,y:c.y,width:u.width,height:u.height,className:Oe("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},uae={allowDataOverflow:ut.allowDataOverflow,allowDecimals:ut.allowDecimals,allowDuplicatedCategory:ut.allowDuplicatedCategory,angle:ut.angle,axisLine:Xn.axisLine,height:ut.height,hide:!1,includeHidden:ut.includeHidden,interval:ut.interval,minTickGap:ut.minTickGap,mirror:ut.mirror,orientation:ut.orientation,padding:ut.padding,reversed:ut.reversed,scale:ut.scale,tick:ut.tick,tickCount:ut.tickCount,tickLine:Xn.tickLine,tickSize:Xn.tickSize,type:ut.type,xAxisId:0},cae=e=>{var t=Wt(e,uae);return w.createElement(w.Fragment,null,w.createElement(oae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(lae,t))},BI=w.memo(cae,FI);BI.displayName="XAxis";var dae=["dangerouslySetInnerHTML","ticks"],fae=["id"];function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(null,arguments)}function N_(e,t){if(e==null)return{};var r,n,a=hae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mae(e){var t=He(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(hte(e)):r.current!==e&&t(mte({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(pte(r.current)),r.current=null)},[t]),null}var pae=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=w.useRef(null),s=w.useRef(null),o=le(Ex),u=sr(),c=He(),d="yAxis",f=le(k=>Ko(k,d,t,u)),h=le(k=>kM(k,t)),m=le(k=>uQ(k,t)),p=le(k=>SM(k,d,t,u)),y=le(k=>KT(k,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!h||Tb(a)||w.isValidElement(a)||y==null)){var k=i.current;if(k){var _=k.getCalculatedWidth();Math.round(h.width)!==Math.round(_)&&c(gte({id:t,width:_}))}}},[p,h,c,a,t,n,y]),h==null||m==null||y==null)return null;var{dangerouslySetInnerHTML:v,ticks:g}=e,x=N_(e,dae),{id:b}=y,j=N_(y,fae);return w.createElement($b,N0({},x,j,{ref:i,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Oe("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:p,axisType:d}))},gae={allowDataOverflow:ct.allowDataOverflow,allowDecimals:ct.allowDecimals,allowDuplicatedCategory:ct.allowDuplicatedCategory,angle:ct.angle,axisLine:Xn.axisLine,hide:!1,includeHidden:ct.includeHidden,interval:ct.interval,minTickGap:ct.minTickGap,mirror:ct.mirror,orientation:ct.orientation,padding:ct.padding,reversed:ct.reversed,scale:ct.scale,tick:ct.tick,tickCount:ct.tickCount,tickLine:Xn.tickLine,tickSize:Xn.tickSize,type:ct.type,width:ct.width,yAxisId:0},yae=e=>{var t=Wt(e,gae);return w.createElement(w.Fragment,null,w.createElement(mae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(pae,t))},UI=w.memo(yae,FI);UI.displayName="YAxis";var vae=(e,t)=>t,zb=W([vae,_e,HT,ot,UM,ya,kZ,yt],OZ),Fb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},HI=Dr("mouseClick"),VI=tc();VI.startListening({actionCreator:HI,effect:(e,t)=>{var r=e.payload,n=zb(t.getState(),Fb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(kQ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var _0=Dr("mouseMove"),WI=tc(),cd=null;WI.startListening({actionCreator:_0,effect:(e,t)=>{var r=e.payload;cd!==null&&cancelAnimationFrame(cd);var n=Fb(r);cd=requestAnimationFrame(()=>{var a=t.getState(),i=wb(a,a.tooltip.settings.shared);if(i==="axis"){var s=zb(a,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(IM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(MM())}cd=null})}});var __={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},KI=ir({name:"rootProps",initialState:__,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:__.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),xae=KI.reducer,{updateOptions:bae}=KI.actions,qI=ir({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:goe}=qI.actions,wae=qI.reducer,YI=Dr("keyDown"),XI=Dr("focus"),Bb=tc();Bb.startListening({actionCreator:YI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=jb(a,Yo(r),cc(r),pc(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var u=ya(r);if(i==="Enter"){var c=rh(r,"axis","hover",String(a.index));t.dispatch(y0({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var d=hQ(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=o+h*f;if(!(u==null||m>=u.length||m<0)){var p=rh(r,"axis","hover",String(m));t.dispatch(y0({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}}});Bb.startListening({actionCreator:XI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=rh(r,"axis","hover",String(i));t.dispatch(y0({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var kr=Dr("externalEvent"),GI=tc(),rg=new Map;GI.startListening({actionCreator:kr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=rg.get(a);i!==void 0&&cancelAnimationFrame(i);var s=requestAnimationFrame(()=>{try{var o=t.getState(),u={activeCoordinate:lZ(o),activeDataKey:KM(o),activeIndex:Mo(o),activeLabel:WM(o),activeTooltipIndex:Mo(o),isTooltipActive:uZ(o)};r(u,n)}finally{rg.delete(a)}});rg.set(a,s)}}});var jae=W([qo],e=>e.tooltipItemPayloads),kae=W([jae,hc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),QI=Dr("touchMove"),ZI=tc();ZI.startListening({actionCreator:QI,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=wb(n,n.tooltip.settings.shared);if(a==="axis"){var i=zb(n,Fb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(IM({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(o.clientX,o.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(_W),d=(s=u.getAttribute(SW))!==null&&s!==void 0?s:void 0,f=kae(t.getState(),c,d);t.dispatch(TM({activeDataKey:d,activeIndex:c,activeCoordinate:f}))}}}});var Nae=DO({brush:sne,cartesianAxis:yte,chartData:oJ,errorBars:Ate,graphicalItems:nte,layout:sW,legend:gK,options:rJ,polarAxis:_ee,polarOptions:wae,referenceElements:hne,rootProps:xae,tooltip:NQ,zIndex:VZ}),_ae=function(t){return AV({reducer:Nae,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([VI.middleware,WI.middleware,Bb.middleware,GI.middleware,ZI.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(GO({type:"raf"}))},devTools:ac.devToolsEnabled})};function Sae(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=sr(),i=w.useRef(null);if(a)return r;i.current==null&&(i.current=_ae(t));var s=gx;return w.createElement(ore,{context:s,store:i.current},r)}function Eae(e){var{layout:t,margin:r}=e,n=He(),a=sr();return w.useEffect(()=>{a||(n(nW(t)),n(rW(r)))},[n,a,t,r]),null}var Cae=w.memo(Eae,Db);function Pae(e){var t=He();return w.useEffect(()=>{t(bae(e))},[t,e]),null}function S_(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=SI("".concat(n).concat(t)),i=He();return w.useLayoutEffect(()=>(i(UZ({zIndex:t,elementId:a,isPanorama:r})),()=>{i(HZ({zIndex:t,isPanorama:r}))}),[i,t,a,r]),w.createElement("g",{tabIndex:-1,id:a})}function E_(e){var{children:t,isPanorama:r}=e,n=le(TZ);if(!n||n.length===0)return t;var a=n.filter(s=>s<0),i=n.filter(s=>s>0);return w.createElement(w.Fragment,null,a.map(s=>w.createElement(S_,{key:s,zIndex:s,isPanorama:r})),t,i.map(s=>w.createElement(S_,{key:s,zIndex:s,isPanorama:r})))}var Oae=["children"];function Aae(e,t){if(e==null)return{};var r,n,a=Tae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(null,arguments)}var Mae={width:"100%",height:"100%",display:"block"},Iae=w.forwardRef((e,t)=>{var r=Px(),n=Ox(),a=OA();if(!En(r)||!En(n))return null;var{children:i,otherAttributes:s,title:o,desc:u}=e,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=a?0:void 0,typeof s.role=="string"?d=s.role:d=a?"application":void 0),w.createElement(tx,ch({},s,{title:o,desc:u,role:d,tabIndex:c,width:r,height:n,style:Mae,ref:t}),i)}),Dae=e=>{var{children:t}=e,r=le(mm);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return w.createElement(tx,{width:n,height:a,x:s,y:i},t)},C_=w.forwardRef((e,t)=>{var{children:r}=e,n=Aae(e,Oae),a=sr();return a?w.createElement(Dae,null,w.createElement(E_,{isPanorama:!0},r)):w.createElement(Iae,ch({ref:t},n),w.createElement(E_,{isPanorama:!1},r))});function Rae(){var e=He(),[t,r]=w.useState(null),n=le(NW);return w.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Ge(i)&&i!==n&&e(iW(i))}},[t,e,n]),r}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){$ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ae(e,t,r){return(t=zae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zae(e){var t=Fae(e,"string");return typeof t=="symbol"?t:t+""}function Fae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(null,arguments)}var Bae=()=>(gJ(),null);function dh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Uae=w.forwardRef((e,t)=>{var r,n,a=w.useRef(null),[i,s]=w.useState({containerWidth:dh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:dh((n=e.style)===null||n===void 0?void 0:n.height)}),o=w.useCallback((c,d)=>{s(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),u=w.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var h=p=>{var{width:y,height:v}=p[0].contentRect;o(y,v)},m=new ResizeObserver(h);m.observe(c),a.current=m}},[t,o]);return w.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[o]),w.createElement(w.Fragment,null,w.createElement(ym,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",as({ref:u},e)))}),Hae=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=w.useState({containerWidth:dh(r),containerHeight:dh(n)}),s=w.useCallback((u,c)=>{i(d=>{var f=Math.round(u),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=w.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:c,height:d}=u.getBoundingClientRect();s(c,d)}},[t,s]);return w.createElement(w.Fragment,null,w.createElement(ym,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",as({ref:o},e)))}),Vae=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(ym,{width:r,height:n}),w.createElement("div",as({ref:t},e)))}),Wae=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return na(r)||na(n)?w.createElement(Hae,as({},e,{ref:t})):w.createElement(Vae,as({},e,{ref:t}))});function Kae(e){return e===!0?Uae:Wae}var qae=w.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:u,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:y,style:v,width:g,responsive:x,dispatchTouchEvents:b=!0}=e,j=w.useRef(null),k=He(),[_,N]=w.useState(null),[S,C]=w.useState(null),M=Rae(),O=Cx(),P=(O==null?void 0:O.width)>0?O.width:g,$=(O==null?void 0:O.height)>0?O.height:a,E=w.useCallback(U=>{M(U),typeof t=="function"&&t(U),N(U),C(U),U!=null&&(j.current=U)},[M,t,N,C]),R=w.useCallback(U=>{k(HI(U)),k(kr({handler:i,reactEvent:U}))},[k,i]),D=w.useCallback(U=>{k(_0(U)),k(kr({handler:c,reactEvent:U}))},[k,c]),L=w.useCallback(U=>{k(MM()),k(kr({handler:d,reactEvent:U}))},[k,d]),A=w.useCallback(U=>{k(_0(U)),k(kr({handler:f,reactEvent:U}))},[k,f]),I=w.useCallback(()=>{k(XI())},[k]),T=w.useCallback(U=>{k(YI(U.key))},[k]),F=w.useCallback(U=>{k(kr({handler:s,reactEvent:U}))},[k,s]),B=w.useCallback(U=>{k(kr({handler:o,reactEvent:U}))},[k,o]),q=w.useCallback(U=>{k(kr({handler:u,reactEvent:U}))},[k,u]),K=w.useCallback(U=>{k(kr({handler:h,reactEvent:U}))},[k,h]),G=w.useCallback(U=>{k(kr({handler:y,reactEvent:U}))},[k,y]),ie=w.useCallback(U=>{b&&k(QI(U)),k(kr({handler:p,reactEvent:U}))},[k,b,p]),J=w.useCallback(U=>{k(kr({handler:m,reactEvent:U}))},[k,m]),X=Kae(x);return w.createElement(JM.Provider,{value:_},w.createElement(FP.Provider,{value:S},w.createElement(X,{width:P??(v==null?void 0:v.width),height:$??(v==null?void 0:v.height),className:Oe("recharts-wrapper",n),style:Lae({position:"relative",cursor:"default",width:P,height:$},v),onClick:R,onContextMenu:F,onDoubleClick:B,onFocus:I,onKeyDown:T,onMouseDown:q,onMouseEnter:D,onMouseLeave:L,onMouseMove:A,onMouseUp:K,onTouchEnd:J,onTouchMove:ie,onTouchStart:G,ref:E},w.createElement(Bae,null),r)))}),Yae=["width","height","responsive","children","className","style","compact","title","desc"];function Xae(e,t){if(e==null)return{};var r,n,a=Gae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qae=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:s,style:o,compact:u,title:c,desc:d}=e,f=Xae(e,Yae),h=ta(f);return u?w.createElement(w.Fragment,null,w.createElement(ym,{width:r,height:n}),w.createElement(C_,{otherAttributes:h,title:c,desc:d},i)):w.createElement(qae,{className:s,style:o,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(C_,{otherAttributes:h,title:c,desc:d,ref:t},w.createElement(pne,null,i)))});function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S0.apply(null,arguments)}var Zae={top:5,right:5,bottom:5,left:5},Jae={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Zae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},eie=w.forwardRef(function(t,r){var n,a=Wt(t.categoricalChartProps,Jae),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:c}=t,d={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return w.createElement(Sae,{preloadedState:{options:d},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:i},w.createElement(ine,{chartData:c.data}),w.createElement(Cae,{layout:a.layout,margin:a.margin}),w.createElement(Pae,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(Qae,S0({},a,{ref:r})))}),tie=["axis","item"],rie=w.forwardRef((e,t)=>w.createElement(eie,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tie,tooltipPayloadSearcher:eJ,categoricalChartProps:e,ref:t}));const Rd={deploy:async e=>(await ft.post(`/deployment/deploy/${e}`)).data,getActive:async()=>(await ft.get("/deployment/active")).data,deactivate:async()=>{await ft.post("/deployment/deactivate")},predict:async e=>(await ft.post("/deployment/predict",{data:e})).data},nie=()=>{const{jobs:e,fetchJobs:t}=Bo(),[r,n]=w.useState([]),[a,i]=w.useState("all"),[s,o]=w.useState([]),[u,c]=w.useState("all"),[d,f]=w.useState(null),[h,m]=w.useState(!0),[p,y]=w.useState(!0),[v,g]=w.useState(!0),[x,b]=w.useState(!0),[j,k]=w.useState(!0),[_,N]=w.useState("charts");w.useEffect(()=>{t(),S()},[t]);const S=async()=>{try{const T=await ft.get("/pipeline/datasets/list");o(T.data)}catch(T){console.error("Failed to fetch datasets",T)}},C=async(T,F)=>{if(T.stopPropagation(),!!confirm("Are you sure you want to deploy this model to production?"))try{await Rd.deploy(F),alert("Model deployed successfully!")}catch(B){alert("Failed to deploy model"),console.error(B)}},M=e.filter(T=>{const F=a==="all"||T.job_type===a,B=u==="all"||T.dataset_id===u;return F&&B}),O=e.filter(T=>r.includes(T.job_id)),P=T=>{n(F=>F.includes(T)?F.filter(B=>B!==T):[...F,T])},$=O.map(T=>{var B;const F=T.metrics||((B=T.result)==null?void 0:B.metrics)||{};return{name:T.job_id.slice(0,8),...F}}),E=Array.from(new Set(O.flatMap(T=>{var B;const F=T.metrics||((B=T.result)==null?void 0:B.metrics)||{};return Object.keys(F).filter(q=>{const K=F[q];return typeof K=="number"&&!isNaN(K)})}))).filter(T=>!(T.startsWith("train_")&&!h||T.startsWith("test_")&&!p||T.startsWith("val_")&&!v)),R=(T,F)=>{if(!T||!F)return"-";const B=new Date(F).getTime()-new Date(T).getTime(),q=Math.floor(B/1e3);return q<60?`${q}s`:`${Math.floor(q/60)}m ${q%60}s`},D=T=>T==="best_score"?{type:"val",base:"best_score"}:T.startsWith("train_")?{type:"train",base:T.replace("train_","")}:T.startsWith("test_")?{type:"test",base:T.replace("test_","")}:T.startsWith("val_")?{type:"val",base:T.replace("val_","")}:{type:"other",base:T},L=new Map;E.forEach(T=>{const{base:F}=D(T);L.has(F)||L.set(F,[]),L.get(F).push(T)}),L.forEach((T,F)=>{L.set(F,T.sort())});const A=Array.from(L.keys()).sort(),I=d&&A.includes(d)?d:A[0]||null;return l.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Experiments & Comparison"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Compare metrics and parameters across multiple runs"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:u,onChange:T=>c(T.target.value),children:[l.jsx("option",{value:"all",children:"All Datasets"}),s.map(T=>l.jsx("option",{value:T.id,children:T.name},T.id))]}),l.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:a,onChange:T=>i(T.target.value),children:[l.jsx("option",{value:"all",children:"All Experiments"}),l.jsx("option",{value:"tuning",children:"Model Optimization"}),l.jsx("option",{value:"training",children:"Standard Training"})]})]})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsxs("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col",children:[l.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 text-xs font-medium text-gray-500 uppercase",children:["Select Runs to Compare (",r.length,")"]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:M.map(T=>l.jsxs("div",{onClick:()=>P(T.job_id),className:`p-3 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${r.includes(T.job_id)?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"border-l-4 border-l-transparent"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("span",{className:"font-mono text-xs font-semibold text-gray-700 dark:text-gray-300",children:T.job_id.slice(0,8)}),l.jsxs("div",{className:"flex items-center gap-2",children:[T.status==="completed"&&(T.job_type==="training"||T.job_type==="tuning")&&l.jsx("button",{onClick:F=>C(F,T.job_id),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600 dark:text-blue-400",title:"Deploy to Test",children:l.jsx(uP,{className:"w-3 h-3"})}),l.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded capitalize ${T.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":T.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:T.status})]})]}),l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[T.model_type,"  ",T.dataset_name||"Unknown Dataset"]}),l.jsxs("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:[l.jsx("span",{children:new Date(T.start_time||T.created_at).toLocaleString()}),l.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300",children:R(T.start_time,T.end_time)})]})]},T.job_id))})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:O.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[l.jsx(oP,{className:"w-12 h-12 mb-4 opacity-20"}),l.jsx("p",{children:"Select runs from the sidebar to compare them."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[l.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${_==="charts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>N("charts"),children:"Visual Comparison"}),l.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${_==="table"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>N("table"),children:"Detailed Metrics & Params"})]}),_==="charts"&&l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Metrics Comparison"}),l.jsxs("div",{className:"flex gap-4 text-sm",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:h,onChange:T=>m(T.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:p,onChange:T=>y(T.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:v,onChange:T=>g(T.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]})]}),A.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:A.map(T=>l.jsx("button",{onClick:()=>f(T),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${I===T?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:T.toUpperCase()},T))}),I&&L.has(I)&&l.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:l.jsx("div",{className:"h-[300px] w-full",children:l.jsx(GW,{width:"100%",height:"100%",children:l.jsxs(rie,{data:$,margin:{top:5,right:30,left:20,bottom:5},children:[l.jsx(zI,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),l.jsx(BI,{dataKey:"name",stroke:"#6B7280",fontSize:12}),l.jsx(UI,{stroke:"#6B7280",fontSize:12}),l.jsx(NJ,{shared:!1,cursor:{fill:"rgba(107, 114, 128, 0.1)"},contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"}}),l.jsx(PA,{}),L.get(I).map(T=>{const{type:F}=D(T);let B="#8884d8";return F==="train"&&(B="#3b82f6"),F==="test"&&(B="#22c55e"),F==="val"&&(B="#f97316"),F==="other"&&(B="#a855f7"),l.jsx(MI,{dataKey:T,fill:B,name:`${F} (${I})`},T)})]})})})})]}),_==="table"&&l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in duration-300",children:[l.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Detailed Comparison"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-xs text-left",children:[l.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-900/50 dark:text-gray-400",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2",children:"Parameter / Metric"}),O.map(T=>l.jsx("th",{className:"px-4 py-2 font-mono",children:T.job_id.slice(0,8)},T.job_id))]})}),l.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[l.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100",children:"Model Type"}),O.map(T=>l.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:T.model_type},T.job_id))]}),l.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>b(!x),children:l.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:O.length+1,children:[x?l.jsx(Bt,{className:"w-3 h-3"}):l.jsx(Zi,{className:"w-3 h-3"}),"Key Metrics"]})}),x&&E.map(T=>l.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[l.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:T}),O.map(F=>{var K;const q=(F.metrics||((K=F.result)==null?void 0:K.metrics)||{})[T];return l.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:typeof q=="number"?q.toFixed(4):"-"},F.job_id)})]},T)),l.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>k(!j),children:l.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:O.length+1,children:[j?l.jsx(Bt,{className:"w-3 h-3"}):l.jsx(Zi,{className:"w-3 h-3"}),"Hyperparameters"]})}),j&&Array.from(new Set(O.flatMap(T=>Object.keys(T.hyperparameters||{})))).map(T=>l.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[l.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:T}),O.map(F=>{var B;return l.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:String(((B=F.hyperparameters)==null?void 0:B[T])??"-")},F.job_id)})]},T))]})]})})]})]})})]})]})},ng="/data/api",Ub={getAll:async()=>{const e=await fetch(`${ng}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getById:async e=>{const t=await fetch(`${ng}/sources/${e}`);if(!t.ok)throw new Error("Failed to fetch dataset");return(await t.json()).source},getSample:async(e,t=1)=>{const r=await fetch(`${ng}/sources/${e}/sample?limit=${t}`);if(!r.ok)throw new Error("Failed to fetch dataset sample");return(await r.json()).data}},aie=()=>{const[e,t]=w.useState(null),[r,n]=w.useState(`[
  {
    "feature1": 0.5,
    "feature2": 1.2
  }
]`),[a,i]=w.useState(null),[s,o]=w.useState(!1),[u,c]=w.useState(null),[d,f]=w.useState(null);w.useEffect(()=>{h()},[]);const h=async()=>{var y;try{const v=await Rd.getActive();if(t(v),v&&v.job_id)try{const g=await fr.getJob(v.job_id);if(g.dataset_id){let x=null,b=[];try{const k=await fetch(`/ml-workflow/api/pipelines/${g.dataset_id}`);k.ok&&(((y=(await k.json()).graph)==null?void 0:y.nodes)||[]).forEach(S=>{var O,P;const C=((O=S.data)==null?void 0:O.catalogType)||S.type,M=((P=S.data)==null?void 0:P.config)||S.parameters||{};C==="train_test_split"&&M.target_column&&(x=M.target_column),C==="drop_missing_columns"&&Array.isArray(M.columns)&&b.push(...M.columns),C==="drop_column_recommendations"&&Array.isArray(M.columns)&&b.push(...M.columns),C==="drop_columns"&&Array.isArray(M.columns)&&b.push(...M.columns),C==="feature_selection"&&Array.isArray(M.dropped_columns)&&b.push(...M.dropped_columns)})}catch(k){console.warn("Failed to fetch pipeline for inference filtering",k)}const j=await Ub.getSample(g.dataset_id,1);if(j&&j.length>0){const k=j.map(N=>{const S={...N};return x&&x in S&&delete S[x],b.forEach(C=>{C in S&&delete S[C]}),S});n(JSON.stringify(k,null,2));const _=[];x&&_.push(`Target: ${x}`),b.length>0&&_.push(`Dropped: ${b.length} cols`),_.length>0&&f(`Auto-filtered: ${_.join(", ")}`)}}}catch(g){console.warn("Failed to fetch dataset sample for inference auto-fill",g)}}catch{t(null)}},m=async()=>{if(confirm("Are you sure you want to undeploy the current model?"))try{await Rd.deactivate(),t(null),i(null)}catch(y){console.error("Failed to deactivate",y)}},p=async()=>{o(!0),c(null),i(null);try{const y=JSON.parse(r);if(!Array.isArray(y))throw new Error("Input must be a JSON array of objects");const v=await Rd.predict(y);i(v.predictions)}catch(y){c(y.message||"Prediction failed")}finally{o(!1)}};return l.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 p-6 overflow-hidden",children:[l.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6 shrink-0",children:"Model Inference"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Input Data (JSON)"}),d&&l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded border border-amber-200 dark:border-amber-800",children:d}),l.jsx("span",{className:"text-[10px] text-gray-400 mt-1",children:"Please verify fields before running"})]})]}),l.jsx("textarea",{className:"flex-1 w-full p-4 font-mono text-sm bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none",value:r,onChange:y=>n(y.target.value),placeholder:'[{"col1": 1, "col2": "A"}]'}),l.jsx("div",{className:"mt-4 flex justify-end",children:l.jsx("button",{onClick:p,disabled:!e||s,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${!e||s?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-800 dark:text-gray-600":"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"}`,children:s?"Running...":l.jsxs(l.Fragment,{children:[l.jsx(Bh,{className:"w-4 h-4"})," Run Prediction"]})})})]}),l.jsxs("div",{className:"flex flex-col gap-6 h-full min-h-0",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 shrink-0",children:[l.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(UB,{className:"w-5 h-5 text-blue-500"}),"Active Deployment"]}),e&&l.jsxs("button",{onClick:m,className:"flex items-center gap-1 text-xs px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50 transition-colors",title:"Undeploy Model",children:[l.jsx(m7,{className:"w-3 h-3"}),"Undeploy"]})]}),e?l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Model Type"}),l.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:e.model_type})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Job ID"}),l.jsx("div",{className:"font-mono text-sm text-gray-800 dark:text-gray-200",children:e.job_id.slice(0,8)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Deployed At"}),l.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:new Date(e.created_at).toLocaleDateString()})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),l.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-medium text-sm",children:[l.jsx(mu,{className:"w-4 h-4"})," Active"]})]})]}):l.jsxs("div",{className:"text-gray-500 dark:text-gray-400 italic flex items-center gap-2",children:[l.jsx(ei,{className:"w-4 h-4"}),"No model is currently deployed. Go to Experiments page to deploy one."]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col flex-1 min-h-0",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Prediction Results"}),l.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4 overflow-auto",children:u?l.jsxs("div",{className:"text-red-600 dark:text-red-400 flex items-start gap-2",children:[l.jsx(ei,{className:"w-5 h-5 shrink-0 mt-0.5"}),l.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm",children:u})]}):a?l.jsx("div",{className:"space-y-2",children:a.map((y,v)=>l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-800 rounded border border-gray-100 dark:border-gray-700",children:[l.jsxs("span",{className:"text-xs text-gray-500 w-8",children:["#",v+1]}),l.jsx("span",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof y=="object"?JSON.stringify(y):String(y)})]},v))}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm italic",children:"Run a prediction to see results here..."})})]})]})]})]})},iie=()=>{const{activeView:e}=RP();return l.jsxs("div",{className:"flex h-screen w-full bg-background overflow-hidden flex-col",children:[l.jsx(jU,{}),l.jsx(wU,{}),e==="canvas"?l.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[l.jsx(E7,{}),l.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[l.jsx(xU,{}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(R7,{}),l.jsx(bU,{})]})]}),l.jsx(L7,{})]}):e==="experiments"?l.jsx(nie,{}):l.jsx(aie,{})]})};function sie(){const e=me(t=>t.addNode);return w.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("source_id");r&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:r})},100)},[]),w.useEffect(()=>{},[]),l.jsx(iie,{})}const oie=({config:e,onChange:t})=>l.jsxs("div",{className:"p-4 space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Debug Message"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:e.message,onChange:r=>t({...e,message:r.target.value})})]}),lie={type:"debug_node",label:"Debug Node",category:"Utility",description:"A simple node for testing the registry.",icon:VB,inputs:[{id:"in",label:"Input",type:"any"}],outputs:[{id:"out",label:"Output",type:"any"}],component:({data:e})=>l.jsxs("div",{className:"text-xs",children:["Msg: ",l.jsx("span",{className:"font-mono",children:e.message||"..."})]}),settings:oie,validate:e=>({isValid:e.message.length>0,message:e.message.length===0?"Message is required":void 0}),getDefaultConfig:()=>({message:"Hello World"})},Ve=e=>g5({queryKey:["dataset-schema",e],queryFn:()=>pU(e),enabled:!!e,staleTime:1e3*60*5}),uie=({config:e,onChange:t})=>{const[r,n]=w.useState([]),[a,i]=w.useState(!1),{data:s,isLoading:o}=Ve(e.datasetId);w.useEffect(()=>{i(!0),Ub.getAll().then(n).catch(console.error).finally(()=>i(!1))},[]);const u=c=>{const d=c.target.value,f=r.find(h=>String(h.id)===d);t({...e,datasetId:d,datasetName:f==null?void 0:f.name})};return l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),a?l.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):l.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:u,children:[l.jsx("option",{value:"",children:"-- Select --"}),r.map(c=>l.jsx("option",{value:c.id,children:c.name},c.id))]})]}),e.datasetId&&l.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[l.jsx(j7,{size:14}),l.jsx("span",{children:"Dataset Schema"})]}),o?l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-xs text-left",children:[l.jsx("thead",{className:"bg-muted/20 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-2 font-medium border-b",children:"Column"}),l.jsx("th",{className:"p-2 font-medium border-b",children:"Type"}),l.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Missing"}),l.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Unique"})]})}),l.jsx("tbody",{children:Object.values(s.columns).map(c=>l.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[l.jsx("td",{className:"p-2 font-mono font-medium",children:c.name}),l.jsx("td",{className:"p-2 text-muted-foreground",children:c.dtype}),l.jsx("td",{className:"p-2 text-right text-muted-foreground",children:c.missing_count}),l.jsx("td",{className:"p-2 text-right text-muted-foreground",children:c.unique_count})]},c.name))})]})}),l.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):l.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},cie=({data:e})=>{const[t,r]=w.useState(void 0);w.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&Ub.getById(e.datasetId).then(a=>r(a.name)).catch(()=>r(e.datasetId))},[e.datasetId,e.datasetName,t]);const n=e.datasetName||t||e.datasetId;return l.jsx("div",{className:"text-xs",children:e.datasetId?l.jsx("div",{className:"font-medium truncate max-w-[150px]",title:n,children:n||"Loading..."}):l.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},die={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:Vu,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:uie,component:cie,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},JI=(e,t,r,n=new Set)=>{var i;if(n.has(e.id))return;if(n.add(e.id),(i=e.data)!=null&&i.datasetId)return e.data.datasetId;const a=ii(e,t,r);for(const s of a){const o=JI(s,t,r,n);if(o)return o}},Qe=e=>{const t=me(i=>i.nodes),r=me(i=>i.edges),n=t.find(i=>i.id===e);return n?ii(n,t,r).map(i=>{const s=JI(i,t,r);return s&&!i.data.datasetId?{...i.data,datasetId:s}:i.data}):[]},Xo=(e,t={})=>{var i;const n=(i=Qe(e).find(s=>s.datasetId))==null?void 0:i.datasetId,a=me(s=>s.executionResult);return w.useMemo(()=>!n||!(a!=null&&a.recommendations)?[]:a.recommendations.filter(s=>{var o,u;if(t.types||t.suggestedNodeTypes){const c=(o=t.types)==null?void 0:o.includes(s.type),d=(u=t.suggestedNodeTypes)==null?void 0:u.includes(s.suggested_node_type);if(!c&&!d)return!1}return!(t.scope==="column"&&(!s.target_columns||s.target_columns.length===0))}),[a,n,t.types,t.suggestedNodeTypes,t.scope])},fs=({recommendations:e,onApply:t,className:r=""})=>!e||e.length===0?null:l.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${r}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[l.jsx(lP,{className:"w-4 h-4"}),l.jsx("span",{children:"Recommendations"})]}),l.jsx("div",{className:"space-y-2",children:e.map(n=>l.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:n.type.replace("_"," ").toUpperCase()}),l.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:n.description}),n.reasoning&&l.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",n.reasoning]})]}),t&&l.jsx("button",{onClick:()=>t(n),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:l.jsx(mu,{className:"w-5 h-5"})})]})},n.rule_id))})]}),fie=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=Qe(r||"").find(_=>_.datasetId))==null?void 0:k.datasetId,{data:i,isLoading:s}=Ve(a),o=i?Object.values(i.columns).map(_=>_.name):[],u=me(_=>_.executionResult),c=r?u==null?void 0:u.node_results[r]:null,d=c==null?void 0:c.metrics,f=w.useRef(null),[h,m]=w.useState(!1);w.useEffect(()=>{if(!f.current)return;const _=new ResizeObserver(N=>{for(const S of N)m(S.contentRect.width>450)});return _.observe(f.current),()=>_.disconnect()},[]);const p=Xo(r||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),y=_=>{if(_.target_columns&&_.target_columns.length>0){const N=Array.from(new Set([...e.columns,..._.target_columns]));t({...e,columns:N})}},[v,g]=w.useState(""),x=w.useMemo(()=>o.filter(_=>_.toLowerCase().includes(v.toLowerCase())),[o,v]),b=()=>{t({...e,columns:x})},j=()=>{const _=e.columns.filter(N=>!x.includes(N));t({...e,columns:_})};return l.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&l.jsx("div",{className:"shrink-0",children:l.jsx(fs,{recommendations:p,onApply:y})}),l.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),l.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),l.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),l.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:_=>t({...e,missing_threshold:parseInt(_.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),d&&d.dropped_columns_count!==void 0&&l.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(un,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),l.jsx("span",{className:"font-medium text-destructive",children:d.dropped_columns_count})]}),d.dropped_columns&&Array.isArray(d.dropped_columns)&&d.dropped_columns.length>0&&l.jsxs("div",{className:"pt-1 border-t mt-1",children:[l.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:d.dropped_columns.map(_=>l.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:_},_))})]})]})]})]}),l.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${h?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[l.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),l.jsx("div",{className:"relative group",children:l.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:v,onChange:_=>g(_.target.value)})}),l.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[l.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),l.jsx("span",{className:"text-border",children:"|"}),l.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:o.length>0?x.length>0?l.jsx("div",{className:"space-y-0.5",children:x.map(_=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(_),onChange:N=>{const S=N.target.checked?[...e.columns,_]:e.columns.filter(C=>C!==_);t({...e,columns:S})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),l.jsx("span",{className:"truncate font-mono text-xs",title:_,children:_})]},_))}):l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',v,'"']}):l.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},hie={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:ls,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:fie,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},mie=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=Qe(r||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:i,isLoading:s}=Ve(a),o=i?Object.values(i.columns).map(N=>N.name):[],u=me(N=>N.executionResult),c=r?u==null?void 0:u.node_results[r]:null,d=c==null?void 0:c.metrics,f=w.useRef(null),[h,m]=w.useState(!1);w.useEffect(()=>{if(!f.current)return;const N=new ResizeObserver(S=>{for(const C of S)m(C.contentRect.width>450)});return N.observe(f.current),()=>N.disconnect()},[]);const p=Xo(r||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),y=N=>{if(N.target_columns&&N.target_columns.length>0){const S=Array.from(new Set([...e.columns,...N.target_columns]));t({...e,columns:S})}},[v,g]=w.useState(""),x=w.useMemo(()=>o.filter(N=>N.toLowerCase().includes(v.toLowerCase())),[o,v]),b=()=>{t({...e,columns:x})},j=()=>{const N=e.columns.filter(S=>!x.includes(S));t({...e,columns:N})},k=()=>d?l.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),d.fill_values&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.fill_values).map(([N,S])=>l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),l.jsx("span",{className:"font-mono",children:typeof S=="number"?S.toFixed(4):String(S)})]},N))})]}),d.missing_counts&&l.jsxs("div",{className:"space-y-1 mt-2",children:[l.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.missing_counts).map(([N,S])=>l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),l.jsx("span",{className:"font-mono",children:String(S)})]},N))}),d.total_missing!==void 0&&l.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",l.jsx("span",{className:"font-mono font-medium",children:d.total_missing})]})]}),!d.fill_values&&!d.missing_counts&&(c==null?void 0:c.status)==="success"&&l.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return l.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&l.jsx("div",{className:"shrink-0",children:l.jsx(fs,{recommendations:p,onApply:y})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:N=>t({...e,method:N.target.value}),children:[l.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),l.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),l.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:N=>t({...e,strategy:N.target.value}),children:[l.jsx("option",{value:"mean",children:"Mean (Average)"}),l.jsx("option",{value:"median",children:"Median (Middle Value)"}),l.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),l.jsx("option",{value:"constant",children:"Constant Value"})]}),l.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:N=>t({...e,fill_value:N.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),l.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:N=>t({...e,n_neighbors:parseInt(N.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:N=>t({...e,weights:N.target.value}),children:[l.jsx("option",{value:"uniform",children:"Uniform"}),l.jsx("option",{value:"distance",children:"Distance"})]}),l.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),l.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:N=>t({...e,max_iter:parseInt(N.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:N=>t({...e,estimator:N.target.value}),children:[l.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),l.jsx("option",{value:"decision_tree",children:"Decision Tree"}),l.jsx("option",{value:"extra_trees",children:"Extra Trees"}),l.jsx("option",{value:"knn",children:"KNN"})]}),l.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:N=>t({...e,random_state:parseInt(N.target.value)})})]})]}),h&&l.jsx(k,{})]}),l.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${h?"":"shrink-0"}`,children:[l.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:b,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),l.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),l.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:v,onChange:N=>g(N.target.value)})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:x.length>0?x.map(N=>l.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:S=>{const C=S.target.checked?[...e.columns,N]:e.columns.filter(M=>M!==N);t({...e,columns:C})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),l.jsx("span",{className:"truncate",title:N,children:N})]}),(d==null?void 0:d.missing_counts)&&d.missing_counts[N]!==void 0&&l.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${d.missing_counts[N]} missing values filled`,children:d.missing_counts[N]})]},N)):l.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:o.length===0?"No columns available":"No matches found"})})]}),!h&&l.jsx(k,{})]})]})},pie={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:d7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:mie,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:(e.method==="simple"||!e.method)&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},gie=({config:e,onChange:t,nodeId:r})=>{var b;const a=(b=Qe(r||"").find(j=>j.datasetId))==null?void 0:b.datasetId,{data:i,isLoading:s}=Ve(a),o=me(j=>j.executionResult),u=r?o==null?void 0:o.node_results[r]:null,c=w.useRef(null),[d,f]=w.useState(!1),[h,m]=w.useState("");w.useEffect(()=>{if(!c.current)return;const j=new ResizeObserver(k=>{for(const _ of k)f(_.contentRect.width>450)});return j.observe(c.current),()=>j.disconnect()},[]);const p=i?Object.values(i.columns).filter(j=>["int","float","number"].some(k=>{var _;return(_=j.dtype)==null?void 0:_.toLowerCase().includes(k)})).map(j=>j.name):[],y=p.filter(j=>j.toLowerCase().includes(h.toLowerCase())),v=()=>{t({...e,columns:y})},g=()=>{const j=e.columns.filter(k=>!y.includes(k));t({...e,columns:j})},x=()=>{if(!u||!u.metrics)return null;const j=u.metrics,k=j.columns;if(!k)return null;const _=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return l.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),l.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:_()})]}),l.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:k.map((N,S)=>{var M,O,P,$,E,R,D;let C="";if(e.method==="standard"){const L=(M=j.mean)==null?void 0:M[S],A=(O=j.scale)==null?void 0:O[S];typeof L=="number"&&(C=`=${L.toFixed(2)}, =${typeof A=="number"?A.toFixed(2):"-"}`)}else if(e.method==="minmax"){const L=(P=j.data_min)==null?void 0:P[S],A=($=j.data_max)==null?void 0:$[S];typeof L=="number"&&(C=`Min=${L.toFixed(2)}, Max=${typeof A=="number"?A.toFixed(2):"-"}`)}else if(e.method==="robust"){const L=(E=j.center)==null?void 0:E[S],A=(R=j.scale)==null?void 0:R[S];typeof L=="number"&&(C=`Med=${L.toFixed(2)}, IQR=${typeof A=="number"?A.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const L=(D=j.max_abs)==null?void 0:D[S];typeof L=="number"&&(C=`MaxAbs=${L.toFixed(2)}`)}return l.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[l.jsx("span",{className:"truncate max-w-[100px] font-medium",title:N,children:N}),l.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:C})]},N)})})]})};return l.jsxs("div",{ref:c,className:`flex flex-col h-full w-full bg-background ${d?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${d?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${d?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:j=>t({...e,method:j.target.value}),children:[l.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),l.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),l.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),l.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),l.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&l.jsxs("div",{className:"space-y-2 border-t pt-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:j=>t({...e,with_mean:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{children:"Center Data (with_mean)"})]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:j=>t({...e,with_std:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&l.jsxs("div",{className:"space-y-2 border-t pt-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:j=>t({...e,feature_range_min:parseFloat(j.target.value)})}),l.jsx("span",{className:"text-muted-foreground",children:"-"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:j=>t({...e,feature_range_max:parseFloat(j.target.value)})})]})]}),e.method==="robust"&&l.jsxs("div",{className:"space-y-2 border-t pt-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:j=>t({...e,quantile_range_min:parseFloat(j.target.value)})}),l.jsx("span",{className:"text-muted-foreground",children:"-"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:j=>t({...e,quantile_range_max:parseFloat(j.target.value)})})]}),l.jsxs("div",{className:"space-y-2 mt-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:j=>t({...e,with_centering:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{children:"Center Data (Median)"})]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:j=>t({...e,with_scaling:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),d&&l.jsx(x,{})]}),l.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${d?"":"shrink-0"}`,children:[l.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:v,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),l.jsx("button",{onClick:g,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),l.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:h,onChange:j=>m(j.target.value)})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:y.length>0?y.map(j=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(j),onChange:k=>{const _=k.target.checked?[...e.columns,j]:e.columns.filter(N=>N!==j);t({...e,columns:_})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"truncate",title:j,children:j})]},j)):l.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:s?"Loading schema...":p.length===0?"No numeric columns found":"No matches found"})})]}),!d&&l.jsx(x,{})]})]})},yie={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:y7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:gie,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})};function eD(){const[e,t]=w.useState(null),[r,n]=w.useState({width:0,height:0}),a=w.useCallback(i=>{if(!i||i.length===0)return;const{width:s,height:o}=i[0].contentRect;n({width:s,height:o})},[]);return w.useEffect(()=>{if(!e)return;const i=new ResizeObserver(a);return i.observe(e),()=>i.disconnect()},[e,a]),[t,r]}const vie=({text:e})=>l.jsxs("div",{className:"group relative flex items-center",children:[l.jsx(sP,{className:"w-3 h-3 text-gray-400 cursor-help"}),l.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,l.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),xie=({isOpen:e,onClose:t,modelType:r,onSelect:n})=>{const[a,i]=w.useState(r),[s,o]=w.useState([]),[u,c]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{e&&i(r)},[e,r]);const h=w.useCallback(()=>{a&&(c(!0),f(null),fr.getTuningJobsForModel(a).then(m=>{o(m||[])}).catch(m=>{console.error("Failed to fetch jobs",m),f("Failed to load history.")}).finally(()=>c(!1)))},[a]);return w.useEffect(()=>{e&&h()},[e,h]),e?l.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),l.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:l.jsx(un,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Select parameters for:"}),l.jsxs("select",{value:a,onChange:m=>i(m.target.value),className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-blue-500 outline-none",children:[l.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),l.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),l.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),l.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:l.jsx(Uh,{className:`w-4 h-4 ${u?"animate-spin":""}`})}),l.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:l.jsx(_n,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:u?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[l.jsx($i,{className:"w-8 h-8 animate-spin mb-2 text-blue-500"}),l.jsx("p",{className:"text-sm",children:"Loading history..."})]}):d?l.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[l.jsx(ei,{className:"w-8 h-8 mx-auto mb-2"}),l.jsx("p",{className:"text-sm",children:d}),l.jsx("button",{onClick:h,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):s.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[l.jsx(Vu,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),l.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):s.map(m=>{var p;return l.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-800 transition-all",children:l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",m.job_id.slice(0,8)]}),l.jsx("span",{className:"text-xs text-gray-400",children:m.end_time?new Date(m.end_time).toLocaleString():"Unknown Date"})]}),l.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[((p=m.result)==null?void 0:p.best_score)!==void 0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),l.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:m.result.best_score.toFixed(4)})]}),l.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[l.jsx(wf,{className:"w-3 h-3"})," Model Ready"]})]})]}),l.jsxs("button",{onClick:()=>{var y;(y=m.result)!=null&&y.best_params&&(n({params:m.result.best_params,modelType:a}),t())},className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors flex items-center gap-1 shadow-sm shadow-blue-500/20",children:[l.jsx(wf,{className:"w-3 h-3"}),"Apply"]})]})},m.job_id)})})]})]}):null},bie=({value:e,type:t,onChange:r,step:n,min:a,max:i})=>{const[s,o]=w.useState("");w.useEffect(()=>{o(e===null?"None":(e==null?void 0:e.toString())??"")},[e]);const u=()=>{const c=s.trim();if(c.toLowerCase()==="none"){r(null);return}if(t==="number"){if(c==="")return;const d=Number(c);isNaN(d)?o(e===null?"None":(e==null?void 0:e.toString())??""):r(d)}else t==="boolean"?c.toLowerCase()==="true"?r(!0):c.toLowerCase()==="false"?r(!1):o((e==null?void 0:e.toString())??""):r(c)};return l.jsx("input",{type:"text",value:s,onChange:c=>o(c.target.value),onBlur:u,placeholder:e===null?"None":"",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",...t==="number"?{step:n,min:a,max:i}:{}})},wie=({config:e,onChange:t,nodeId:r})=>{const[n,a]=w.useState([]),[i,s]=w.useState(!1),[o,u]=w.useState(!1),[c,d]=w.useState(()=>!sessionStorage.getItem("hide_info_model_training")),{toggleDrawer:f,setTab:h}=Bo(),m=Qe(r||""),p=me(E=>E.nodes),y=me(E=>E.edges),g=(E=>{var L,A,I,T;const R=new Set,D=[E];for(;D.length>0;){const F=D.shift();if(R.has(F))continue;R.add(F);const B=p.find(K=>K.id===F);if(!B)continue;if(F!==E){if((L=B.data)!=null&&L.datasetId)return B.data.datasetId;if((A=B.data)!=null&&A.dataset_id)return B.data.dataset_id;if((I=B.data)!=null&&I.config){const K=B.data.config;if(K.datasetId)return K.datasetId;if(K.dataset_id)return K.dataset_id}if((T=B.data)!=null&&T.params){const K=B.data.params;if(K.datasetId)return K.datasetId;if(K.dataset_id)return K.dataset_id}}const q=ii(B,p,y);for(const K of q)D.push(K.id)}})(r||""),{data:x}=Ve(g),b=x?Object.values(x.columns):[],[j,{width:k}]=eD(),_=k>450,[N,S]=w.useState("model"),[C,M]=w.useState(!1);w.useEffect(()=>{e.model_type&&(u(!0),fr.getHyperparameters(e.model_type).then(a).catch(console.error).finally(()=>u(!1)))},[e.model_type]),w.useEffect(()=>{var R;const E=(R=m.find(D=>D.target_column))==null?void 0:R.target_column;E&&e.target_column!==E&&t({...e,target_column:E})},[m,e.target_column]);const O=async()=>{if(r)try{const E=Zv(p,y);await fr.runPipeline({...E,target_node_id:r,job_type:"training"}),alert("Training job submitted successfully!"),h("training"),f(!0)}catch(E){console.error("Failed to submit training job:",E),alert("Failed to submit training job. Check console for details.")}},P=l.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:e.model_type,onChange:E=>t({...e,model_type:E.target.value,hyperparameters:{}}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[l.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),l.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),l.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),l.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]}),l.jsx(Bt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),b.length===0&&l.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[l.jsx(qv,{className:"w-3 h-3"}),l.jsx("span",{children:"Connect a dataset node to see available columns"})]}),l.jsxs("div",{className:"relative",children:[b.length>0?l.jsxs("select",{value:e.target_column,onChange:E=>t({...e,target_column:E.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[l.jsx("option",{value:"",children:"Select target..."}),b.map(E=>l.jsx("option",{value:E.name,children:E.name},E.name))]}):l.jsx("input",{type:"text",value:e.target_column,onChange:E=>t({...e,target_column:E.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),b.length>0&&l.jsx(Bt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),l.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),l.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[l.jsxs("button",{onClick:()=>M(!C),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fh,{className:"w-4 h-4 text-blue-500"}),l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),l.jsx(Zi,{className:`w-4 h-4 text-gray-400 transition-transform ${C?"rotate-90":""}`})]}),C&&l.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:E=>t({...e,cv_enabled:E.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&l.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),l.jsx("input",{type:"number",value:e.cv_folds??5,onChange:E=>t({...e,cv_folds:Number(E.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),l.jsxs("select",{value:e.cv_type??"k_fold",onChange:E=>t({...e,cv_type:E.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[l.jsx("option",{value:"k_fold",children:"K-Fold"}),l.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),l.jsx("option",{value:"time_series_split",children:"Time Series"}),l.jsx("option",{value:"shuffle_split",children:"Shuffle Split"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:E=>t({...e,cv_shuffle:E.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),$=()=>{const E=Object.keys(e.hyperparameters).length>0,R=D=>{if(D){const L={};n.forEach(A=>{L[A.name]=A.default}),t({...e,hyperparameters:L})}else t({...e,hyperparameters:{}})};return l.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[l.jsx(Kv,{className:"w-4 h-4 text-blue-500"}),"Hyperparameters"]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("label",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2 cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",checked:E,onChange:D=>R(D.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Customize"]})})]}),E?l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex justify-end mb-2",children:l.jsxs("button",{onClick:()=>s(!0),className:"text-xs flex items-center gap-1.5 px-2 py-1 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:[l.jsx(jj,{className:"w-3 h-3"}),"Load Best"]})}),o?l.jsx("div",{className:"flex justify-center py-4",children:l.jsx($i,{className:"w-5 h-5 animate-spin text-blue-500"})}):n.map(D=>{var L;return l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:D.label}),D.description&&l.jsx(vie,{text:D.description})]}),D.type==="select"?l.jsx("select",{value:e.hyperparameters[D.name]??D.default,onChange:A=>t({...e,hyperparameters:{...e.hyperparameters,[D.name]:A.target.value}}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:(L=D.options)==null?void 0:L.map(A=>l.jsx("option",{value:A.value,children:A.label},A.value))}):l.jsx(bie,{type:D.type,value:e.hyperparameters[D.name]??D.default,onChange:A=>t({...e,hyperparameters:{...e.hyperparameters,[D.name]:A}}),step:D.step,min:D.min,max:D.max})]},D.name)}),n.length===0&&!o&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic text-center py-4",children:"No parameters available."})]}):l.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-dashed border-gray-200 dark:border-gray-700",children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Using default hyperparameters."}),l.jsxs("button",{onClick:()=>s(!0),className:"mt-3 text-xs flex items-center gap-1.5 px-3 py-1.5 mx-auto bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded-md border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors shadow-sm",children:[l.jsx(jj,{className:"w-3 h-3"}),"Load Best Params"]})]})]})};return l.jsxs("div",{className:"flex flex-col h-full",ref:j,children:[c&&l.jsxs("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded text-xs text-blue-700 dark:text-blue-300 flex justify-between items-start gap-2",children:[l.jsx("span",{children:"Train a model using fixed parameters or defaults."}),l.jsx("button",{onClick:()=>{d(!1),sessionStorage.setItem("hide_info_model_training","true")},className:"text-blue-400 hover:text-blue-600 dark:hover:text-blue-200",children:l.jsx(_n,{className:"w-3 h-3"})})]}),l.jsx(xie,{isOpen:i,onClose:()=>s(!1),modelType:e.model_type,onSelect:E=>{E.modelType&&E.modelType!==e.model_type?t({...e,model_type:E.modelType,hyperparameters:E.params}):t({...e,hyperparameters:E.params})}}),!_&&l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[l.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${N==="model"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>S("model"),children:"Configuration"}),l.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${N==="params"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>S("params"),children:"Hyperparameters"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:_?l.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[l.jsx("div",{className:"overflow-y-auto pr-2",children:P}),l.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:l.jsx($,{})})]}):l.jsxs(l.Fragment,{children:[N==="model"&&P,N==="params"&&l.jsx($,{})]})}),l.jsx("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:l.jsxs("button",{onClick:O,className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg shadow-purple-500/20 transition-all hover:shadow-purple-500/30 hover:-translate-y-0.5 active:translate-y-0",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)"},children:[l.jsx(Bh,{className:"w-4 h-4 fill-current"}),l.jsx("span",{className:"text-sm font-semibold",children:"Start Training"})]})})]})},jie={type:"model_training",label:"Standard Training",category:"Modeling",description:"Train a model with fixed or default parameters.",icon:HB,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:wie,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",hyperparameters:{},cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42})},kie=({text:e})=>l.jsxs("div",{className:"group relative flex items-center",children:[l.jsx(sP,{className:"w-3 h-3 text-gray-400 cursor-help"}),l.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,l.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),Nie=({def:e,value:t,onChange:r})=>{const[n,a]=w.useState(""),[i,s]=w.useState(null);w.useEffect(()=>{a(Array.isArray(t)?t.map(c=>c===null?"None":c).join(", "):"")},[t]);const o=c=>{if(!c.trim())return[];const d=c.split(",").map(h=>h.trim()).filter(h=>h!==""),f=[];for(const h of d){if(h.toLowerCase()==="none"){f.push(null);continue}if(e.type==="number"){const m=Number(h);if(isNaN(m))throw new Error(`"${h}" is not a valid number`);f.push(m)}else if(e.type==="boolean"){const m=h.toLowerCase();if(m==="true")f.push(!0);else if(m==="false")f.push(!1);else throw new Error(`"${h}" must be true or false`)}else f.push(h)}return f},u=()=>{try{const c=o(n);s(null),JSON.stringify(c)!==JSON.stringify(t)&&r(c)}catch(c){s(c.message)}};return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[e.label,e.description&&l.jsx(kie,{text:e.description})]}),l.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:e.type})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",className:`w-full border rounded px-2 py-1.5 text-sm font-mono bg-white dark:bg-gray-900 dark:text-gray-100 outline-none transition-all ${i?"border-red-500 focus:ring-2 focus:ring-red-500/20":"border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500"}`,placeholder:e.type==="select"?"e.g. lbfgs, liblinear":"e.g. 10, 50, 100",value:n,onChange:c=>{a(c.target.value),s(null)},onBlur:u}),e.type==="select"&&e.options&&l.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.options.map(c=>l.jsx("button",{onClick:()=>{const d=o(n),h=d.includes(c.value)?d.filter(m=>m!==c.value):[...d,c.value];r(h)},className:`text-[10px] px-1.5 py-0.5 rounded border transition-colors ${t.includes(c.value)?"bg-purple-100 border-purple-200 text-purple-700 dark:bg-purple-900/30 dark:border-purple-800 dark:text-purple-300":"bg-gray-50 border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:c.label},c.value))})]}),i&&l.jsxs("p",{className:"text-[10px] text-red-500 flex items-center gap-1",children:[l.jsx(ei,{className:"w-3 h-3"}),i]})]})},_ie=({isOpen:e,onClose:t,modelType:r})=>{const[n,a]=w.useState(r),[i,s]=w.useState([]),[o,u]=w.useState(!1),[c,d]=w.useState(null);w.useEffect(()=>{e&&a(r)},[e,r]);const f=w.useCallback(()=>{n&&(u(!0),d(null),fr.getTuningJobsForModel(n).then(h=>{console.log("Fetched jobs for",n,h),s(h||[])}).catch(h=>{console.error("Failed to fetch jobs",h),d("Failed to load history.")}).finally(()=>u(!1)))},[n]);return w.useEffect(()=>{e&&f()},[e,f]),e?l.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),l.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:l.jsx(un,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View parameters for:"}),l.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-purple-500 outline-none",children:[l.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),l.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),l.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),l.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:l.jsx(Uh,{className:`w-4 h-4 ${o?"animate-spin":""}`})}),l.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:l.jsx(_n,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:o?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[l.jsx($i,{className:"w-8 h-8 animate-spin mb-2 text-purple-500"}),l.jsx("p",{className:"text-sm",children:"Loading history..."})]}):c?l.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[l.jsx(ei,{className:"w-8 h-8 mx-auto mb-2"}),l.jsx("p",{className:"text-sm",children:c}),l.jsx("button",{onClick:f,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):i.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[l.jsx(Vu,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),l.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):i.map(h=>{var m;return l.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-purple-200 dark:hover:border-purple-800 transition-all",children:l.jsx("div",{className:"flex justify-between items-start mb-3",children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",h.job_id.slice(0,8)]}),l.jsx("span",{className:"text-xs text-gray-400",children:h.end_time?new Date(h.end_time).toLocaleString():"Unknown Date"})]}),l.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[((m=h.result)==null?void 0:m.best_score)!==void 0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),l.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:h.result.best_score.toFixed(4)})]}),l.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[l.jsx(wf,{className:"w-3 h-3"})," Model Ready"]})]})]})})},h.job_id)})})]})]}):null},Sie=({config:e,onChange:t,nodeId:r})=>{const[n,a]=w.useState([]),[i,s]=w.useState(!1),[o,u]=w.useState(!1),[c,d]=w.useState("config"),[f,h]=w.useState(!1),[m,p]=w.useState(()=>!sessionStorage.getItem("hide_info_model_optimizer")),[y,{width:v}]=eD(),g=v>450,{toggleDrawer:x,setTab:b}=Bo(),j=Qe(r||""),k=me(R=>R.nodes),_=me(R=>R.edges),S=(R=>{var A,I,T,F;const D=new Set,L=[R];for(;L.length>0;){const B=L.shift();if(D.has(B))continue;D.add(B);const q=k.find(G=>G.id===B);if(!q)continue;if(B!==R){if((A=q.data)!=null&&A.datasetId)return q.data.datasetId;if((I=q.data)!=null&&I.dataset_id)return q.data.dataset_id;const G=q.data;if((T=G==null?void 0:G.config)!=null&&T.datasetId)return G.config.datasetId;if((F=G==null?void 0:G.config)!=null&&F.dataset_id)return G.config.dataset_id}const K=ii(q,k,_);for(const G of K)L.push(G.id)}})(r||""),{data:C}=Ve(S),M=C?Object.values(C.columns):[];w.useEffect(()=>{var D;const R=(D=j.find(L=>L.target_column))==null?void 0:D.target_column;R&&e.target_column!==R&&t({...e,target_column:R})},[j,e.target_column]);const O=w.useRef(null);w.useEffect(()=>{(async()=>{const D=e.model_type;if(!D)return;const L=D!==O.current;if(!(!L&&n.length>0)){s(!0);try{const A=await fr.getHyperparameters(D);if(a(A),L||Object.keys(e.search_space||{}).length===0){const I=await fr.getDefaultSearchSpace(D);t({...e,search_space:I||{}}),O.current=D}}catch(A){console.error("Failed to load model hyperparameters:",A)}finally{s(!1)}}})()},[e.model_type]);const P=async()=>{if(r)try{const R=Zv(k,_);await fr.runPipeline({...R,target_node_id:r,job_type:"tuning"}),alert("Tuning job submitted successfully!"),b("tuning"),x(!0)}catch(R){console.error("Failed to submit tuning job:",R),alert("Failed to submit tuning job.")}},$=l.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:e.model_type,onChange:R=>{O.current=null,t({...e,model_type:R.target.value,search_space:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[l.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),l.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),l.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),l.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]}),l.jsx(Bt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),M.length===0&&l.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[l.jsx(qv,{className:"w-3 h-3"}),l.jsx("span",{children:"Connect a dataset node to see available columns"})]}),l.jsxs("div",{className:"relative",children:[M.length>0?l.jsxs("select",{value:e.target_column,onChange:R=>t({...e,target_column:R.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[l.jsx("option",{value:"",children:"Select target..."}),M.map(R=>l.jsx("option",{value:R.name,children:R.name},R.name))]}):l.jsx("input",{type:"text",value:e.target_column,onChange:R=>t({...e,target_column:R.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),M.length>0&&l.jsx(Bt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),l.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tuning Strategy"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Search Method"}),l.jsxs("select",{value:e.search_strategy??"random",onChange:R=>t({...e,search_strategy:R.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[l.jsx("option",{value:"random",children:"Random Search"}),l.jsx("option",{value:"grid",children:"Grid Search"}),l.jsx("option",{value:"halving_grid",children:"Successive Halving (Grid)"}),l.jsx("option",{value:"halving_random",children:"Successive Halving (Randomized)"}),l.jsx("option",{value:"optuna",children:"Optuna Search"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Metric"}),l.jsxs("select",{value:e.metric,onChange:R=>t({...e,metric:R.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[l.jsx("option",{value:"accuracy",children:"Accuracy"}),l.jsx("option",{value:"f1",children:"F1 Score"}),l.jsx("option",{value:"roc_auc",children:"ROC AUC"}),l.jsx("option",{value:"mse",children:"MSE"}),l.jsx("option",{value:"r2",children:"R2 Score"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Trials"}),l.jsx("input",{type:"number",value:e.n_trials,onChange:R=>t({...e,n_trials:Number(R.target.value)}),disabled:["grid","halving_grid"].includes(e.search_strategy),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 disabled:opacity-50",min:1})]})]})]}),l.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[l.jsxs("button",{onClick:()=>h(!f),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fh,{className:"w-4 h-4 text-purple-500"}),l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),l.jsx(Zi,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-90":""}`})]}),f&&l.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:R=>t({...e,cv_enabled:R.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&l.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),l.jsx("input",{type:"number",value:e.cv_folds??5,onChange:R=>t({...e,cv_folds:Number(R.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),l.jsxs("select",{value:e.cv_type??"k_fold",onChange:R=>t({...e,cv_type:R.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[l.jsx("option",{value:"k_fold",children:"K-Fold"}),l.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),l.jsx("option",{value:"time_series_split",children:"Time Series"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:R=>t({...e,cv_shuffle:R.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),E=l.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[l.jsx(Kv,{className:"w-4 h-4 text-purple-500"}),"Hyperparameters"]})}),i?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx($i,{className:"w-6 h-6 animate-spin text-purple-500"})}):l.jsxs("div",{className:"space-y-3",children:[n.map(R=>{var D;return l.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:l.jsx(Nie,{def:R,value:((D=e.search_space)==null?void 0:D[R.name])||[],onChange:L=>{t({...e,search_space:{...e.search_space,[R.name]:L}})}})},`${e.model_type}-${R.name}`)}),n.length===0&&l.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hyperparameters available for this model."})]})]});return l.jsxs("div",{className:"flex flex-col h-full",ref:y,children:[m&&l.jsxs("div",{className:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded text-xs text-purple-700 dark:text-purple-300 flex justify-between items-start gap-2",children:[l.jsx("span",{children:"Automatically explore configurations to find the best performing model."}),l.jsx("button",{onClick:()=>{p(!1),sessionStorage.setItem("hide_info_model_optimizer","true")},className:"text-purple-400 hover:text-purple-600 dark:hover:text-purple-200",children:l.jsx(_n,{className:"w-3 h-3"})})]}),!g&&l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[l.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${c==="config"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>d("config"),children:"Configuration"}),l.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${c==="search_space"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>d("search_space"),children:"Search Space"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:g?l.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[l.jsx("div",{className:"overflow-y-auto pr-2",children:$}),l.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:E})]}):l.jsxs(l.Fragment,{children:[c==="config"&&$,c==="search_space"&&E]})}),l.jsxs("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:[l.jsxs("button",{onClick:P,className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg shadow-purple-500/20 transition-all hover:shadow-purple-500/30 hover:-translate-y-0.5 active:translate-y-0",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)"},children:[l.jsx(Bh,{className:"w-4 h-4 fill-current"}),l.jsx("span",{className:"text-sm font-semibold",children:"Start Optimization"})]}),l.jsxs("button",{onClick:()=>u(!0),className:"text-xs text-gray-500 hover:text-purple-600 dark:text-gray-400 dark:hover:text-purple-400 flex items-center gap-1.5 transition-colors px-3 py-1 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800",children:[l.jsx(un,{className:"w-3.5 h-3.5"}),"View Best Parameters History"]})]}),l.jsx(_ie,{isOpen:o,onClose:()=>u(!1),modelType:e.model_type})]})},Eie={type:"hyperparameter_tuning",label:"Train Model and Optimize",category:"Modeling",description:"Automatically optimize model performance.",icon:x7,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Best Model",type:"model"}],settings:Sie,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",n_trials:10,metric:"accuracy",search_strategy:"random",cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42,random_state:42,search_space:{}})},Cie=({config:e,onChange:t})=>{const r=["train","validation","test"],n=["accuracy","precision","recall","f1","roc_auc","mse","rmse","r2"],a=s=>{const o=e.splits.includes(s)?e.splits.filter(u=>u!==s):[...e.splits,s];t({...e,splits:o})},i=s=>{const o=e.metrics.includes(s)?e.metrics.filter(u=>u!==s):[...e.metrics,s];t({...e,metrics:o})};return l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Evaluation Splits"}),l.jsx("div",{className:"space-y-2",children:r.map(s=>l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.splits.includes(s),onChange:()=>a(s),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsxs("span",{className:"capitalize",children:[s," Set"]})]},s))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metrics to Track"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(s=>l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.metrics.includes(s),onChange:()=>i(s),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"uppercase",children:s.replace("_"," ")})]},s))})]})]})},Pie={type:"model_evaluation",label:"Model Evaluation",category:"Evaluation",description:"Evaluate model performance on specific splits.",icon:Fh,inputs:[{id:"model",label:"Trained Model",type:"model"}],outputs:[{id:"report",label:"Evaluation Report",type:"report"}],settings:Cie,validate:e=>({isValid:e.splits.length>0,message:e.splits.length===0?"Select at least one split to evaluate":void 0}),getDefaultConfig:()=>({splits:["validation"],metrics:["accuracy","f1"]})},Oie=({config:e,onChange:t,nodeId:r})=>{var j;const n=Qe(r||""),a=me(k=>k.nodes),i=me(k=>k.edges),s=me(k=>k.executionResult),u=(k=>{var S;const _=new Set,N=[k];for(;N.length>0;){const C=N.shift();if(_.has(C))continue;_.add(C);const M=a.find(P=>P.id===C);if(!M)continue;if(C!==k&&((S=M.data)!=null&&S.datasetId))return M.data.datasetId;const O=ii(M,a,i);for(const P of O)N.push(P.id)}})(r||""),c=(j=n.find(k=>k.target_column))==null?void 0:j.target_column;w.useEffect(()=>{const k={};u&&e.datasetId!==u&&(k.datasetId=u),c&&e.target_column!==c&&(k.target_column=c),Object.keys(k).length>0&&t({...e,...k})},[u,c,e.datasetId,e.target_column,t]);const{data:d,isLoading:f}=Ve(u||e.datasetId),h=d?Object.values(d.columns).map(k=>k.name):[],m=w.useRef(null),[p,y]=w.useState(!1);w.useEffect(()=>{if(!m.current)return;const k=new ResizeObserver(_=>{for(const N of _)y(N.contentRect.width>450)});return k.observe(m.current),()=>k.disconnect()},[]);const v=()=>{const k=e.problem_type||"auto";return k==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:k==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},g=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),x=["select_from_model","rfe"].includes(e.method),b=()=>{const k=s==null?void 0:s.node_results[r||""];if(!k)return null;const _=k.metrics||{},N=_.dropped_columns,S=_.feature_scores,C=_.p_values,M=_.feature_importances,O=_.variances,P=_.ranking;return l.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[l.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),k.error&&l.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:k.error}),N&&N.length>0?l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:l.jsxs("span",{children:["Dropped Columns (",N.length,")"]})}),l.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:N.map($=>{const E=S==null?void 0:S[$],R=C==null?void 0:C[$],D=M==null?void 0:M[$],L=O==null?void 0:O[$],A=P==null?void 0:P[$];return l.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[l.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:$,children:$}),l.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[E!==void 0&&l.jsxs("span",{children:["Score: ",E.toFixed(4)]}),R!==void 0&&l.jsxs("span",{children:["p-val: ",R.toExponential(2)]}),D!==void 0&&l.jsxs("span",{children:["Imp: ",D.toFixed(4)]}),L!==void 0&&l.jsxs("span",{children:["Var: ",L.toFixed(4)]}),A!==void 0&&l.jsxs("span",{children:["Rank: ",A]})]})]},$)})})]}):k.status==="success"&&l.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[l.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&l.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&l.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&l.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(S||M)&&l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),l.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(S||M||{}).sort(([,$],[,E])=>E-$).slice(0,5).map(([$,E])=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"truncate max-w-[120px]",title:$,children:$}),l.jsx("span",{className:"font-mono text-[10px]",children:E.toFixed(4)})]},$))})]})]})};return l.jsxs("div",{ref:m,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!u&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),f&&!!u&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:k=>t({...e,method:k.target.value}),children:[l.jsxs("optgroup",{label:"Simple",children:[l.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),l.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),l.jsxs("optgroup",{label:"Univariate",children:[l.jsx("option",{value:"select_k_best",children:"Select K Best"}),l.jsx("option",{value:"select_percentile",children:"Select Percentile"}),l.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),l.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),l.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),l.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),l.jsxs("optgroup",{label:"Model Based",children:[l.jsx("option",{value:"select_from_model",children:"Select From Model"}),l.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),c?l.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[c," ",l.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:k=>t({...e,target_column:k.target.value}),children:[l.jsx("option",{value:"",children:"Select Target..."}),h.map(k=>l.jsx("option",{value:k,children:k},k))]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(g||x)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:k=>t({...e,problem_type:k.target.value}),children:[l.jsx("option",{value:"auto",children:"Auto-detect"}),l.jsx("option",{value:"classification",children:"Classification"}),l.jsx("option",{value:"regression",children:"Regression"})]})]}),p&&l.jsx(b,{})]}),l.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[l.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),l.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),l.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:k=>t({...e,correlation_method:k.target.value}),children:[l.jsx("option",{value:"pearson",children:"Pearson"}),l.jsx("option",{value:"spearman",children:"Spearman"}),l.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),g&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:k=>t({...e,score_func:k.target.value}),children:[l.jsx("option",{value:"",children:"Auto (Default)"}),v().map(k=>l.jsx("option",{value:k.value,children:k.label},k.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:k=>t({...e,k:parseInt(k.target.value)})})]}),e.method==="select_percentile"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:k=>t({...e,percentile:parseInt(k.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),l.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:k=>t({...e,alpha:parseFloat(k.target.value)})})]}),e.method==="generic_univariate_select"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Mode"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:k=>t({...e,mode:k.target.value}),children:[l.jsx("option",{value:"k_best",children:"K Best"}),l.jsx("option",{value:"percentile",children:"Percentile"}),l.jsx("option",{value:"fpr",children:"FPR"}),l.jsx("option",{value:"fdr",children:"FDR"}),l.jsx("option",{value:"fwe",children:"FWE"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),l.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:k=>t({...e,param:parseFloat(k.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),x&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:k=>t({...e,estimator:k.target.value}),children:[l.jsx("option",{value:"auto",children:"Auto"}),l.jsx("option",{value:"RandomForest",children:"Random Forest"}),l.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),l.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:k=>t({...e,threshold:k.target.value})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Step"}),l.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:k=>t({...e,step:parseInt(k.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),l.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[l.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:k=>t({...e,drop_columns:k.target.checked})}),l.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!p&&l.jsx(b,{})]})]})]})},Aie={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:oP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:Oie,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},Tie=({config:e,onChange:t,nodeId:r})=>{var g;const n=Qe(r||""),a=me(x=>x.nodes),i=me(x=>x.edges),o=(x=>{var k;const b=new Set,j=[x];for(;j.length>0;){const _=j.shift();if(b.has(_))continue;b.add(_);const N=a.find(C=>C.id===_);if(!N)continue;if(_!==x&&((k=N.data)!=null&&k.datasetId))return N.data.datasetId;const S=ii(N,a,i);for(const C of S)j.push(C.id)}})(r||""),u=(g=n.find(x=>x.target_column))==null?void 0:g.target_column;Qr.useEffect(()=>{const x={};o&&e.datasetId!==o&&(x.datasetId=o),u&&e.target_column!==u&&(x.target_column=u),Object.keys(x).length>0&&t({...e,...x})},[o,u,e.datasetId,e.target_column,t]);const{data:c,isLoading:d}=Ve(o||e.datasetId),f=c?Object.values(c.columns).map(x=>x.name):[],h=e.validation_size||0,m=1-e.test_size-h,p=Qr.useRef(null),[y,v]=Qr.useState(!1);return Qr.useEffect(()=>{if(!p.current)return;const x=new ResizeObserver(b=>{for(const j of b)v(j.contentRect.width>450)});return x.observe(p.current),()=>x.disconnect()},[]),l.jsxs("div",{ref:p,className:`flex flex-col h-full w-full bg-background ${y?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!o&&!e.datasetId&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),d&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${y?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),l.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:x=>t({...e,test_size:parseFloat(x.target.value)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),l.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:h,onChange:x=>t({...e,validation_size:parseFloat(x.target.value)})}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(m*100),"% Training, ",Math.round(h*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),m<=0&&l.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Random State"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:x=>t({...e,random_state:parseInt(x.target.value)})})]})]}),l.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:x=>t({...e,shuffle:x.target.checked})}),l.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:x=>t({...e,stratify:x.target.checked})}),l.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),l.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[l.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:x=>t({...e,target_column:x.target.value}),disabled:!e.stratify,children:[l.jsx("option",{value:"",children:"-- Select Target --"}),f.map(x=>l.jsx("option",{value:x,children:x},x))]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},Mie={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:cP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:Tie,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},Iie=({config:e,onChange:t,nodeId:r})=>{const n=me(c=>c.nodes),a=me(c=>c.edges),s=(c=>{var h;const d=new Set,f=[c];for(;f.length>0;){const m=f.shift();if(d.has(m))continue;d.add(m);const p=n.find(v=>v.id===m);if(!p)continue;if(m!==c&&((h=p.data)!=null&&h.datasetId))return p.data.datasetId;const y=ii(p,n,a);for(const v of y)f.push(v.id)}})(r||"");Qr.useEffect(()=>{s&&e.datasetId!==s&&t({...e,datasetId:s})},[s,e.datasetId,t]);const{data:o}=Ve(s||e.datasetId),u=o?Object.values(o.columns).map(c=>c.name):[];return l.jsx("div",{className:"p-4 space-y-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:c=>t({...e,target_column:c.target.value}),children:[l.jsx("option",{value:"",children:"-- Select Target --"}),u.map(c=>l.jsx("option",{value:c,children:c},c))]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},Die={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:cP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:Iie,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},Rie=({config:e,onChange:t,nodeId:r})=>{var c;const a=(c=Qe(r||"").find(d=>d.datasetId))==null?void 0:c.datasetId,{isLoading:i}=Ve(a),s=me(d=>d.executionResult),o=r?s==null?void 0:s.node_results[r]:null,u=o==null?void 0:o.metrics;return l.jsxs("div",{className:"p-4 space-y-4",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:d=>t({...e,drop_if_any_missing:d.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),l.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[l.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:d=>t({...e,missing_threshold:parseInt(d.target.value)}),className:"flex-1"}),l.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),u&&u.DropMissingRows_rows_removed!==void 0&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(un,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),l.jsx("span",{className:"font-medium text-destructive",children:u.DropMissingRows_rows_removed})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),l.jsx("span",{className:"font-medium",children:u.DropMissingRows_rows_remaining})]}),l.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),l.jsx("span",{className:"font-medium",children:u.DropMissingRows_rows_total})]})]})]})]})},Lie={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:JB,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Rie,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},$ie=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=Qe(r||"").find(g=>g.datasetId))==null?void 0:v.datasetId,{data:i,isLoading:s}=Ve(a),o=i?Object.values(i.columns).map(g=>g.name):[],u=me(g=>g.executionResult),c=r?u==null?void 0:u.node_results[r]:null,d=c==null?void 0:c.metrics,[f,h]=w.useState(""),m=w.useMemo(()=>o.filter(g=>g.toLowerCase().includes(f.toLowerCase())),[o,f]),p=()=>{t({...e,subset:m})},y=()=>{const g=e.subset.filter(x=>!m.includes(x));t({...e,subset:g})};return l.jsxs("div",{className:"p-4 space-y-4",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:g=>t({...e,keep:g.target.value}),children:[l.jsx("option",{value:"first",children:"Keep First Occurrence"}),l.jsx("option",{value:"last",children:"Keep Last Occurrence"}),l.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),l.jsxs("div",{className:"space-y-2 mb-2",children:[l.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:g=>h(g.target.value)}),l.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[l.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),l.jsx("span",{className:"text-border",children:"|"}),l.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),o.length>0?l.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[m.map(g=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(g),onChange:x=>{const b=x.target.checked?[...e.subset,g]:e.subset.filter(j=>j!==g);t({...e,subset:b})}}),g]},g)),m.length===0&&l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):l.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.Deduplicate_rows_removed!==void 0&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(un,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),l.jsx("span",{className:"font-medium text-destructive",children:d.Deduplicate_rows_removed})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),l.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_remaining})]}),l.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),l.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_total})]})]})]})]})},zie={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:XB,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:$ie,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},Fie=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],Bie=({config:e,onChange:t,nodeId:r})=>{var x;const a=(x=Qe(r||"").find(b=>b.datasetId))==null?void 0:x.datasetId,{data:i,isLoading:s}=Ve(a),o=i?Object.values(i.columns).map(b=>b.name):[],u=me(b=>b.executionResult),c=r?u==null?void 0:u.node_results[r]:null,d=c==null?void 0:c.metrics,f=w.useRef(null),[h,m]=w.useState(!1);w.useEffect(()=>{if(!f.current)return;const b=new ResizeObserver(j=>{for(const k of j)m(k.contentRect.width>450)});return b.observe(f.current),()=>b.disconnect()},[]);const p=()=>{if(o.length===0)return;const b=o.find(j=>!e.column_types[j])||o[0];t({...e,column_types:{...e.column_types,[b]:"float"}})},y=b=>{const j={...e.column_types};delete j[b],t({...e,column_types:j})},v=(b,j)=>{if(b===j)return;const k=e.column_types[b],_={...e.column_types};delete _[b],_[j]=k,t({...e,column_types:_})},g=(b,j)=>{t({...e,column_types:{...e.column_types,[b]:j}})};return l.jsxs("div",{ref:f,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),l.jsx("button",{onClick:p,disabled:!a||o.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:l.jsx(Ku,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:`space-y-2 ${h?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([b,j])=>l.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[l.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[l.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:b,onChange:k=>v(b,k.target.value),children:o.map(k=>l.jsx("option",{value:k,disabled:k!==b&&!!e.column_types[k],children:k},k))}),l.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:j,onChange:k=>g(b,k.target.value),children:Fie.map(k=>l.jsx("option",{value:k.value,children:k.label},k.value))})]}),l.jsx("button",{onClick:()=>y(b),className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:l.jsx(ls,{className:"w-4 h-4"})})]},b)),Object.keys(e.column_types).length===0&&l.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${h?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),d&&(d.cast_errors!==void 0||d.casted_columns_count!==void 0)&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(un,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[d.casted_columns_count!==void 0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),l.jsx("span",{className:"font-medium",children:d.casted_columns_count})]}),d.cast_errors!==void 0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),l.jsx("span",{className:"font-medium text-destructive",children:d.cast_errors})]})]})]})]})},Uie={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:ZB,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:Bie,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},Hie=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=Qe(r||"").find(g=>g.datasetId))==null?void 0:v.datasetId,{data:i,isLoading:s}=Ve(a),o=i?Object.values(i.columns).map(g=>g.name):[],u=me(g=>g.executionResult),c=r?u==null?void 0:u.node_results[r]:null,d=c==null?void 0:c.metrics,[f,h]=w.useState(""),m=w.useMemo(()=>o.filter(g=>g.toLowerCase().includes(f.toLowerCase())),[o,f]),p=()=>{t({...e,columns:m})},y=()=>{const g=e.columns.filter(x=>!m.includes(x));t({...e,columns:g})};return l.jsxs("div",{className:"p-4 space-y-4",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:g=>t({...e,flag_suffix:g.target.value}),placeholder:"_was_missing"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),l.jsxs("div",{className:"space-y-2 mb-2",children:[l.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:g=>h(g.target.value)}),l.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[l.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),l.jsx("span",{className:"text-border",children:"|"}),l.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),o.length>0?l.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[m.map(g=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(g),onChange:x=>{const b=x.target.checked?[...e.columns,g]:e.columns.filter(j=>j!==g);t({...e,columns:b})}}),g]},g)),m.length===0&&l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):l.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.missing_indicators_created!==void 0&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(un,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),l.jsx("span",{className:"font-medium text-primary",children:d.missing_indicators_created})]}),d.missing_indicators_columns&&Array.isArray(d.missing_indicators_columns)&&d.missing_indicators_columns.length>0&&l.jsxs("div",{className:"pt-1 border-t mt-1",children:[l.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:d.missing_indicators_columns.map(g=>l.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:g},g))})]})]})]})]})},Vie={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:e7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:Hie,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},Wie=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=Qe(r||"").find(_=>_.datasetId))==null?void 0:k.datasetId,{data:i,isLoading:s}=Ve(a),[o,u]=w.useState(""),c=w.useRef(null),[d,f]=w.useState(!1),h=me(_=>_.executionResult),m=r?h==null?void 0:h.node_results[r]:null,p=m==null?void 0:m.metrics,v=((h==null?void 0:h.recommendations)||[]).filter(_=>_.suggested_node_type==="encoding"||_.type.includes("encoding")||_.type.includes("cardinality"));w.useEffect(()=>{if(!c.current)return;const _=new ResizeObserver(N=>{for(const S of N)f(S.contentRect.width>400)});return _.observe(c.current),()=>_.disconnect()},[]);const g=i?Object.values(i.columns).filter(_=>["object","string","category","bool"].some(N=>{var S;return(S=_.dtype)==null?void 0:S.toLowerCase().includes(N)})).map(_=>_.name):[],x=g.filter(_=>_.toLowerCase().includes(o.toLowerCase())),b=()=>{t({...e,columns:[...g]})},j=()=>{t({...e,columns:[]})};return l.jsxs("div",{ref:c,className:"p-4 space-y-4",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{className:`grid gap-4 ${d?"grid-cols-2":"grid-cols-1"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:_=>t({...e,method:_.target.value}),children:[l.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),l.jsx("option",{value:"dummy",children:"Dummy Encoding"}),l.jsx("option",{value:"label",children:"Label Encoding"}),l.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),l.jsx("option",{value:"target",children:"Target Encoding"}),l.jsx("option",{value:"hash",children:"Hash Encoding"})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]})]}),l.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:_=>t({...e,drop_first:_.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),l.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:_=>t({...e,handle_unknown:_.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[l.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),l.jsx("option",{value:"error",children:"Raise Error"})]}),l.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:_=>t({...e,target_column:_.target.value}),children:[l.jsx("option",{value:"",children:"Select a target column..."}),i&&Object.values(i.columns).map(_=>l.jsxs("option",{value:_.name,children:[_.name," (",_.dtype,")"]},_.name))]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),l.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:_=>t({...e,n_features:parseInt(_.target.value)})})]}),e.method==="ordinal"&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:_=>t({...e,unknown_value:parseInt(_.target.value)}),title:"Integer to assign for unknown categories."}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:_=>t({...e,missing_code:parseInt(_.target.value)}),title:"Integer to assign for missing or unknown categories."}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),l.jsxs("div",{className:"space-y-2 mb-2",children:[l.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:o,onChange:_=>u(_.target.value)}),l.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[l.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),l.jsx("span",{className:"text-border",children:"|"}),l.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),g.length>0?l.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[x.map(_=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(_),onChange:N=>{const S=N.target.checked?[...e.columns,_]:e.columns.filter(C=>C!==_);t({...e,columns:S})}}),_]},_)),x.length===0&&l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',o,'"']})]}):l.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),v.length>0&&l.jsx(fs,{recommendations:v}),p&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(un,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[p.encoded_columns_count!==void 0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),l.jsx("span",{className:"font-medium",children:p.encoded_columns_count})]}),p.new_features_count!==void 0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),l.jsx("span",{className:"font-medium text-primary",children:p.new_features_count})]}),p.categories_count&&l.jsxs("div",{className:"mt-2 border-t pt-2",children:[l.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(p.categories_count).map(([_,N])=>l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),l.jsx("span",{className:"font-mono",children:N})]},_))})]}),p.classes_count&&l.jsxs("div",{className:"mt-2 border-t pt-2",children:[l.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(p.classes_count).map(([_,N])=>l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),l.jsx("span",{className:"font-mono",children:N})]},_))})]})]})]})]})},Kie={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:a7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:Wie,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},qie=({config:e,onChange:t,nodeId:r})=>{const n=me(N=>N.nodes),a=me(N=>N.edges),s=(N=>{var M;const S=new Set,C=[N];for(;C.length>0;){const O=C.shift();if(S.has(O))continue;S.add(O);const P=n.find(E=>E.id===O);if(!P)continue;if(O!==N&&((M=P.data)!=null&&M.datasetId))return P.data.datasetId;const $=ii(P,n,a);for(const E of $)C.push(E.id)}})(r||""),{data:o,isLoading:u}=Ve(s),c=Xo(r||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),d=me(N=>N.executionResult),f=r?d==null?void 0:d.node_results[r]:null,h=w.useRef(null),[m,p]=w.useState(!1),[y,v]=w.useState("");w.useEffect(()=>{if(!h.current)return;const N=new ResizeObserver(S=>{for(const C of S)p(C.contentRect.width>450)});return N.observe(h.current),()=>N.disconnect()},[]);const g=o?Object.values(o.columns).filter(N=>["int","float","number"].some(S=>{var C;return(C=N.dtype)==null?void 0:C.toLowerCase().includes(S)})).map(N=>N.name):[],x=g.filter(N=>N.toLowerCase().includes(y.toLowerCase())),b=()=>{t({...e,columns:x})},j=()=>{const N=e.columns.filter(S=>!x.includes(S));t({...e,columns:N})},k=()=>{if(!f||!f.metrics)return null;const N=f.metrics,S=N.rows_removed,C=N.rows_remaining,M=N.rows_total??(S??0)+(C??0),O=N.bounds,P=N.stats,$=N.contamination,E=N.warnings,R=N.values_clipped;if(S===void 0&&!O&&!P&&$===void 0&&!E&&R===void 0)return null;const D=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return l.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),l.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:D()})]}),E&&E.length>0&&l.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[l.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),l.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:E.map((L,A)=>l.jsx("li",{className:"truncate",title:L,children:L},A))})]}),e.method==="winsorize"?l.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[l.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"font-mono font-medium text-blue-600",children:R??0}),l.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):(S!==void 0||M!==void 0)&&l.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[l.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsx("span",{className:"font-mono font-medium text-destructive",children:S??0}),M>0&&l.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((S??0)/M*100).toFixed(1),"%)"]})]}),C!==void 0&&l.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[C," remaining"]})]})]}),$!==void 0&&l.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[l.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),l.jsxs("span",{className:"font-mono font-medium",children:[($*100).toFixed(1),"%"]})]}),O&&l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),l.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(O).map(([L,A])=>l.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[l.jsx("span",{className:"truncate max-w-[100px] font-medium",title:L,children:L}),l.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",A.lower.toFixed(2),", ",A.upper.toFixed(2),"]"]})]},L))})]}),P&&l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),l.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(P).map(([L,A])=>l.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[l.jsx("span",{className:"truncate max-w-[100px] font-medium",title:L,children:L}),l.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",A.mean.toFixed(2),", =",A.std.toFixed(2)]})]},L))})]})]})},_=()=>{const N=[];if(f&&f.metrics){const C=f.metrics,M=C.rows_removed,P=C.rows_total??C[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if(M!==void 0&&P!==void 0&&P>0){const $=M/P;$>.2?N.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):$===0&&e.method!=="winsorize"&&N.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&N.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const S=[...c,...N];return S.length===0?null:l.jsx("div",{className:"mt-4",children:l.jsx(fs,{recommendations:S})})};return l.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${m?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!s&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${m?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${m?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:N=>t({...e,method:N.target.value}),children:[l.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),l.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),l.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),l.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),l.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),l.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:N=>t({...e,multiplier:parseFloat(N.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),l.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:N=>t({...e,threshold:parseFloat(N.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:N=>t({...e,lower_percentile:parseFloat(N.target.value)})})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:N=>t({...e,upper_percentile:parseFloat(N.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),l.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:N=>t({...e,contamination:parseFloat(N.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),m&&l.jsxs(l.Fragment,{children:[l.jsx(k,{}),l.jsx(_,{})]})]}),l.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${m?"":"shrink-0"}`,children:[l.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:b,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),l.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),l.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:y,onChange:N=>v(N.target.value)})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:x.length>0?x.map(N=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:S=>{const C=S.target.checked?[...e.columns,N]:e.columns.filter(M=>M!==N);t({...e,columns:C})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"truncate",title:N,children:N})]},N)):l.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:u?"Loading schema...":g.length===0?"No numeric columns found":"No matches found"})})]}),!m&&l.jsxs(l.Fragment,{children:[l.jsx(k,{}),l.jsx(_,{})]})]})]})},Yie={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:v7,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:qie,validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},ag={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},Xie=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",Gie=({allColumns:e,selectedColumns:t,onChange:r})=>{const[n,a]=w.useState(""),i=w.useMemo(()=>e.filter(c=>c.toLowerCase().includes(n.toLowerCase())),[e,n]),s=()=>{const c=Array.from(new Set([...t,...i]));r(c)},o=()=>{const c=t.filter(d=>!i.includes(d));r(c)},u=c=>{t.includes(c)?r(t.filter(d=>d!==c)):r([...t,c])};return l.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[l.jsx("div",{className:"flex gap-2 items-center",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(os,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),l.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:n,onChange:c=>a(c.target.value)})]})}),l.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[l.jsx("button",{onClick:s,className:"text-primary hover:underline font-medium",children:"Select All"}),l.jsx("span",{className:"text-muted-foreground",children:"|"}),l.jsx("button",{onClick:o,className:"text-muted-foreground hover:underline",children:"None"}),l.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),l.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:i.length===0?l.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',n,'"']}):i.map(c=>l.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[l.jsx("input",{type:"checkbox",checked:t.includes(c),onChange:()=>u(c),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"truncate",title:c,children:c})]},c))})]})},Qie=({config:e,onChange:t,nodeId:r})=>{var j;const n=w.useMemo(()=>e||{transformations:[]},[e]),a=w.useMemo(()=>Array.isArray(n.transformations)?n.transformations:[],[n.transformations]),[i,s]=w.useState([]),o=w.useRef(null),[u,c]=w.useState(!1);w.useEffect(()=>{if(!o.current)return;const k=new ResizeObserver(_=>{for(const N of _)c(N.contentRect.width>450)});return k.observe(o.current),()=>k.disconnect()},[]);const f=(j=Qe(r||"").find(k=>k.datasetId))==null?void 0:j.datasetId,{data:h}=Ve(f),m=w.useMemo(()=>h!=null&&h.columns?Object.values(h.columns).filter(k=>["int","float","number"].some(_=>{var N;return(N=k.dtype)==null?void 0:N.toLowerCase().includes(_)})).map(k=>k.name):[],[h]),p=()=>{const k=a.length;s(_=>[..._,k]),t({transformations:[...a,{columns:[],method:"log",params:{}}]})},y=(k,_)=>{const N=[...a];N[k]={...N[k],..._},t({transformations:N})},v=k=>{const _=[...a];_.splice(k,1),t({transformations:_}),s(N=>N.filter(S=>S!==k).map(S=>S>k?S-1:S))},g=k=>{s(_=>_.includes(k)?_.filter(N=>N!==k):[..._,k])},x=(k,_)=>{const N=ag[_].methods[0].value;y(k,{method:N})},b=Xo(r||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return l.jsxs("div",{ref:o,className:"p-4 space-y-6 h-full overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),l.jsxs("button",{onClick:p,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[l.jsx(Ku,{size:12})," Add Rule"]})]}),l.jsxs("div",{className:"space-y-4",children:[a.map((k,_)=>{var M,O,P;const N=Xie(k.method),S=i.includes(_),C=((M=ag[N].methods.find($=>$.value===k.method))==null?void 0:M.label)||k.method;return l.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>g(_),children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[S?l.jsx(Bt,{size:16,className:"text-muted-foreground flex-shrink-0"}):l.jsx(Zi,{size:16,className:"text-muted-foreground flex-shrink-0"}),l.jsxs("div",{className:"flex flex-col overflow-hidden",children:[l.jsx("span",{className:"text-sm font-medium truncate",children:C}),l.jsx("span",{className:"text-xs text-muted-foreground truncate",children:k.columns.length===0?"No columns selected":`${k.columns.length} columns`})]})]}),l.jsx("button",{onClick:$=>{$.stopPropagation(),v(_)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:l.jsx(ls,{size:14})})]}),S&&l.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${u?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),l.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:N,onChange:$=>x(_,$.target.value),onClick:$=>$.stopPropagation(),children:[l.jsx("option",{value:"simple",children:"Simple Math"}),l.jsx("option",{value:"power",children:"Power Transform"})]}),l.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:k.method,onChange:$=>y(_,{method:$.target.value}),onClick:$=>$.stopPropagation(),children:ag[N].methods.map($=>l.jsx("option",{value:$.value,children:$.label},$.value))})]}),(k.method==="yeo-johnson"||k.method==="box-cox")&&l.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:$=>$.stopPropagation(),children:[l.jsx("input",{type:"checkbox",id:`std-${_}`,checked:((O=k.params)==null?void 0:O.standardize)!==!1,onChange:$=>y(_,{params:{...k.params,standardize:$.target.checked}})}),l.jsx("label",{htmlFor:`std-${_}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),k.method==="exponential"&&l.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:$=>$.stopPropagation(),children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),l.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((P=k.params)==null?void 0:P.clip_threshold)||700,onChange:$=>y(_,{params:{...k.params,clip_threshold:parseFloat($.target.value)}})})]})]}),l.jsxs("div",{className:"space-y-1 min-w-0",onClick:$=>$.stopPropagation(),children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),l.jsx(Gie,{allColumns:m,selectedColumns:k.columns||[],onChange:$=>y(_,{columns:$})})]})]})]},_)}),a.length===0&&l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",l.jsx("br",{}),'Click "Add Rule" to start.']})]}),l.jsx(fs,{recommendations:b||[],onApply:k=>{var C,M;const _=k,N=((C=_.suggested_params)==null?void 0:C.method)||((M=_.params)==null?void 0:M.method)||"log",S=_.target_columns||[];if(S.length>0){const O=a.length;s(P=>[...P,O]),t({transformations:[...a,{columns:S,method:N,params:{}}]})}}})]})},Zie={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:dP,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(!(e!=null&&e.transformations)||e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(!t.columns||t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:Qie,getDefaultConfig:()=>({transformations:[]})},Jie=({value:e,onChange:t})=>{const[r,n]=w.useState((e==null?void 0:e.join(", "))||""),a=w.useRef(e);w.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(a.current)&&(n((e==null?void 0:e.join(", "))||""),a.current=e)},[e]);const i=()=>{const s=r.split(",").map(o=>parseFloat(o.trim())).filter(o=>!isNaN(o)).sort((o,u)=>o-u);t(s)};return l.jsx("input",{type:"text",className:"w-full p-1 text-xs border rounded bg-background text-foreground",placeholder:"0, 10, 20, 100...",value:r,onChange:s=>n(s.target.value),onBlur:i})},ese=({config:e,onChange:t,nodeId:r})=>{var g;const a=(g=Qe(r||"").find(x=>x.datasetId))==null?void 0:g.datasetId,{data:i,isLoading:s}=Ve(a),o=w.useRef(null),[u,c]=w.useState(!1),[d,f]=w.useState("");w.useEffect(()=>{if(!o.current)return;const x=new ResizeObserver(b=>{for(const j of b)c(j.contentRect.width>450)});return x.observe(o.current),()=>x.disconnect()},[]);const h=i?Object.values(i.columns).filter(x=>["int","float","number"].some(b=>{var j;return(j=x.dtype)==null?void 0:j.toLowerCase().includes(b)})).map(x=>x.name):[],m=h.filter(x=>x.toLowerCase().includes(d.toLowerCase())),p=()=>{t({...e,columns:m})},y=()=>{const x=e.columns.filter(b=>!m.includes(b));t({...e,columns:x})},v=x=>{e.columns.includes(x)?t({...e,columns:e.columns.filter(b=>b!==x)}):t({...e,columns:[...e.columns,x]})};return l.jsxs("div",{ref:o,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),l.jsxs("div",{className:`grid gap-4 ${u?"grid-cols-2":"grid-cols-1"}`,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Binning Strategy"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.strategy,onChange:x=>t({...e,strategy:x.target.value}),children:[l.jsx("option",{value:"equal_width",children:"Equal Width (Uniform)"}),l.jsx("option",{value:"equal_frequency",children:"Equal Frequency (Quantile)"}),l.jsx("option",{value:"kmeans",children:"K-Means Clustering"}),l.jsx("option",{value:"custom",children:"Custom Edges"})]}),l.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[e.strategy==="equal_width"&&"Bins have equal width ranges.",e.strategy==="equal_frequency"&&"Bins have equal number of records.",e.strategy==="kmeans"&&"Bins based on K-Means clustering centers.",e.strategy==="custom"&&"Define specific bin edges for each column."]})]}),e.strategy!=="custom"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Number of Bins"}),l.jsx("input",{type:"number",min:2,max:100,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.n_bins,onChange:x=>t({...e,n_bins:parseInt(x.target.value)||5})})]}),e.strategy==="custom"&&l.jsxs("div",{className:"space-y-2 border rounded p-2 bg-muted/10",children:[l.jsx("label",{className:"block text-xs font-medium",children:"Custom Edges"}),e.columns.length===0?l.jsx("div",{className:"text-xs text-muted-foreground",children:"Select columns first."}):l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.columns.map(x=>{var b;return l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-medium",children:x}),l.jsx(Jie,{value:(b=e.custom_bins)==null?void 0:b[x],onChange:j=>t({...e,custom_bins:{...e.custom_bins,[x]:j}})})]},x)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Label Format"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.label_format,onChange:x=>t({...e,label_format:x.target.value}),children:[l.jsx("option",{value:"ordinal",children:"Ordinal (0, 1, 2...)"}),l.jsx("option",{value:"range",children:"Range Intervals ([0-10], [10-20]...)"}),l.jsx("option",{value:"bin_index",children:"Bin Index"})]})]}),e.label_format==="range"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Precision (Decimals)"}),l.jsx("input",{type:"number",min:0,max:10,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.precision??3,onChange:x=>t({...e,precision:parseInt(x.target.value)||0})}),l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Number of decimal places to show in interval labels (e.g. 2 gives [0.00, 10.00])."})]}),l.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"drop_original",checked:e.drop_original,onChange:x=>t({...e,drop_original:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("label",{htmlFor:"drop_original",className:"text-sm",children:"Drop Original Columns"})]}),!e.drop_original&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Suffix"}),l.jsx("input",{type:"text",className:"w-full p-1.5 border rounded text-xs",placeholder:"_binned",value:e.output_suffix||"",onChange:x=>t({...e,output_suffix:x.target.value})})]})]})]}),l.jsxs("div",{className:"space-y-2 flex flex-col h-full min-h-[200px]",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Target Columns"}),l.jsx("div",{className:"flex gap-2",children:l.jsx("input",{className:"w-full px-2 py-1 text-xs border rounded bg-background text-foreground",placeholder:"Search columns...",value:d,onChange:x=>f(x.target.value)})}),l.jsxs("div",{className:"flex gap-2 text-xs border-b pb-1",children:[l.jsx("button",{onClick:p,className:"text-primary hover:underline",children:"Select All"}),l.jsx("span",{className:"text-muted-foreground",children:"|"}),l.jsx("button",{onClick:y,className:"text-muted-foreground hover:underline",children:"None"}),l.jsxs("span",{className:"ml-auto text-muted-foreground",children:[e.columns.length," selected"]})]}),l.jsx("div",{className:"flex-1 border rounded bg-background overflow-y-auto p-2 max-h-[300px]",children:s?l.jsx("div",{className:"text-xs text-muted-foreground p-2",children:"Loading columns..."}):m.length===0?l.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:h.length===0?"No numeric columns found.":`No columns match "${d}"`}):l.jsx("div",{className:"space-y-1",children:m.map(x=>l.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(x),onChange:()=>v(x),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"truncate",title:x,children:x})]},x))})})]})]})]})},tse={type:"BinningNode",label:"Binning / Discretization",description:"Convert continuous variables into discrete bins.",icon:Fh,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Binned"}],validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column to bin."}:e.n_bins<2?{isValid:!1,message:"Number of bins must be at least 2."}:{isValid:!0},settings:ese,getDefaultConfig:()=>({columns:[],strategy:"equal_width",n_bins:5,label_format:"ordinal",output_suffix:"_binned",drop_original:!1})},rse=({nodeId:e})=>{const t=me(a=>a.executionResult),r=e?t==null?void 0:t.node_results[e]:null;if(!r)return null;const n=a=>a?l.jsx("div",{className:"space-y-1",children:Object.entries(a).map(([i,s])=>typeof s=="object"&&s!==null?l.jsxs("div",{className:"mt-1",children:[l.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[i.replace(/_/g," "),":"]}),l.jsx("div",{className:"pl-2 border-l-2 border-gray-200 dark:border-gray-700 ml-1",children:n(s)})]},i):l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[i.replace(/_/g," "),":"]}),l.jsx("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:String(s)})]},i))}):null;return l.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[l.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Last Run Results"}),l.jsxs("div",{className:"text-xs space-y-1 text-gray-600 dark:text-gray-300",children:[r.metrics&&l.jsx("div",{className:"mt-2",children:n(r.metrics)}),r.error&&l.jsxs("div",{className:"mt-2 text-red-500 break-words",children:["Error: ",r.error]}),!r.metrics&&!r.error&&l.jsx("div",{className:"italic text-gray-500",children:"No metrics available"})]})]})},nse=({config:e,onChange:t,nodeId:r})=>{var y,v;const n=w.useRef(null),[a,i]=w.useState(!1),[s,o]=w.useState(!0),u=Qe(r||""),c=(y=u.find(g=>g.datasetId))==null?void 0:y.datasetId,{data:d}=Ve(c),f=(v=u.find(g=>{var x;return(x=g.config)==null?void 0:x.target_column}))==null?void 0:v.config.target_column;w.useEffect(()=>{if(!e.target_column){if(f)t({...e,target_column:f});else if(d!=null&&d.columns){const g=Object.values(d.columns).find(x=>x.name.toLowerCase()==="target"||x.name.toLowerCase()==="class"||x.column_type==="target");g&&t({...e,target_column:g.name})}}},[d,f,e.target_column]),w.useEffect(()=>{if(!n.current)return;const g=new ResizeObserver(x=>{for(const b of x)i(b.contentRect.width>400)});return g.observe(n.current),()=>g.disconnect()},[]);const h=Xo(r||"",{types:["resampling"],suggestedNodeTypes:["ResamplingNode"]}),m=g=>{g.suggested_params&&t({...e,...g.suggested_params})},p=(g,x)=>{const b={...e,[g]:x};g==="type"&&(x==="oversampling"?b.method="smote":b.method="random_under_sampling"),t(b)};return l.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resampling Type"}),l.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.type,onChange:g=>p("type",g.target.value),children:[l.jsx("option",{value:"oversampling",children:"Oversampling (Minority)"}),l.jsx("option",{value:"undersampling",children:"Undersampling (Majority)"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Method"}),l.jsx("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.method,onChange:g=>p("method",g.target.value),children:e.type==="oversampling"?l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"smote",children:"SMOTE"}),l.jsx("option",{value:"adasyn",children:"ADASYN"}),l.jsx("option",{value:"borderline_smote",children:"Borderline SMOTE"}),l.jsx("option",{value:"svm_smote",children:"SVM SMOTE"}),l.jsx("option",{value:"kmeans_smote",children:"KMeans SMOTE"}),l.jsx("option",{value:"smote_tomek",children:"SMOTE + Tomek"})]}):l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"random_under_sampling",children:"Random Under Sampling"}),l.jsx("option",{value:"nearmiss",children:"NearMiss"}),l.jsx("option",{value:"tomek_links",children:"Tomek Links"}),l.jsx("option",{value:"edited_nearest_neighbours",children:"Edited Nearest Neighbours"})]})}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.type==="oversampling"?"Generate synthetic samples for the minority class.":"Remove samples from the majority class."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Column"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"e.g., target",value:e.target_column,onChange:g=>p("target_column",g.target.value),list:"target-column-suggestions"}),(d==null?void 0:d.columns)&&l.jsx("datalist",{id:"target-column-suggestions",children:Object.values(d.columns).map(g=>l.jsx("option",{value:g.name},g.name))})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f?"Auto-detected from upstream node.":"The column containing the class labels."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sampling Strategy"}),l.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.sampling_strategy,onChange:g=>p("sampling_strategy",g.target.value),children:[l.jsx("option",{value:"auto",children:"Auto (Resample all classes but majority)"}),l.jsx("option",{value:"minority",children:"Minority (Resample only minority class)"}),l.jsx("option",{value:"not minority",children:"Not Minority (Resample all but minority)"}),l.jsx("option",{value:"not majority",children:"Not Majority (Resample all but majority)"}),l.jsx("option",{value:"all",children:"All (Resample all classes)"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Defines which classes to resample."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Random State"}),l.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.random_state,onChange:g=>p("random_state",parseInt(g.target.value))})]})]}),l.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[e.type==="oversampling"&&l.jsxs(l.Fragment,{children:[["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"k Neighbors"}),l.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.k_neighbors??5,onChange:g=>p("k_neighbors",parseInt(g.target.value))})]}),["borderline_smote","svm_smote"].includes(e.method)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"m Neighbors"}),l.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.m_neighbors??10,onChange:g=>p("m_neighbors",parseInt(g.target.value))})]}),e.method==="borderline_smote"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kind"}),l.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind??"borderline-1",onChange:g=>p("kind",g.target.value),children:[l.jsx("option",{value:"borderline-1",children:"Borderline-1"}),l.jsx("option",{value:"borderline-2",children:"Borderline-2"})]})]}),e.method==="svm_smote"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Out Step"}),l.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.out_step??.5,onChange:g=>p("out_step",parseFloat(g.target.value))})]}),e.method==="kmeans_smote"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cluster Balance Threshold"}),l.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.cluster_balance_threshold??.1,onChange:g=>p("cluster_balance_threshold",parseFloat(g.target.value))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Density Exponent"}),l.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.density_exponent??"auto",onChange:g=>p("density_exponent",g.target.value)})]})]})]}),e.type==="undersampling"&&e.method==="random_under_sampling"&&l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Replacement"}),l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sample with replacement"})]}),l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:e.replacement??!1,onChange:g=>p("replacement",g.target.checked)})]}),e.type==="undersampling"&&e.method==="nearmiss"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Version"}),l.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.version??1,onChange:g=>p("version",parseInt(g.target.value)),children:[l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"})]})]}),e.type==="undersampling"&&e.method==="edited_nearest_neighbours"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"n Neighbors"}),l.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.n_neighbors??3,onChange:g=>p("n_neighbors",parseInt(g.target.value))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selection Kind"}),l.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind_sel??"all",onChange:g=>p("kind_sel",g.target.value),children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"mode",children:"Mode"})]})]})]}),h.length>0&&l.jsxs("div",{className:"mt-0 border rounded-md overflow-hidden border-gray-200 dark:border-gray-700",children:[l.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>o(!s),children:[l.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Recommendations (",h.length,")"]}),s?l.jsx($o,{size:16}):l.jsx(Bt,{size:16})]}),s&&l.jsx("div",{className:"p-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:l.jsx(fs,{recommendations:h,onApply:m})})]}),r&&l.jsx(rse,{nodeId:r})]})]})})},ase=e=>e.target_column?e.type==="oversampling"&&["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&(e.k_neighbors??5)<1?{isValid:!1,message:"k_neighbors must be at least 1."}:{isValid:!0}:{isValid:!1,message:"Target column is required for resampling."},ise={type:"ResamplingNode",label:"Resampling",category:"Preprocessing",description:"Balance dataset classes using oversampling or undersampling techniques.",icon:un,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Balanced Data",type:"dataset"}],settings:nse,validate:ase,getDefaultConfig:()=>({type:"oversampling",method:"smote",target_column:"",sampling_strategy:"auto",random_state:42,k_neighbors:5,replacement:!1,version:1,n_neighbors:3,kind_sel:"all"})},sse=[{value:"arithmetic",label:"Arithmetic",icon:Wv},{value:"datetime_extract",label:"Date Extraction",icon:WB},{value:"ratio",label:"Ratio",icon:h7},{value:"similarity",label:"Similarity",icon:n7},{value:"polynomial",label:"Polynomial",icon:S7},{value:"group_agg",label:"Group Agg",icon:dP}],ose=["add","subtract","multiply","divide"],lse=["year","month","day","weekday","hour","quarter","is_weekend"],use=["ratio","token_sort_ratio","token_set_ratio"],cse=["mean","sum","count","min","max","std","median"],mn=({columns:e,selected:t,onChange:r,label:n,single:a})=>{const[i,s]=w.useState(""),o=e.filter(c=>c.toLowerCase().includes(i.toLowerCase())),u=c=>{a?r([c]):t.includes(c)?r(t.filter(d=>d!==c)):r([...t,c])};return l.jsxs("div",{className:"space-y-1.5",children:[n&&l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),l.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[l.jsx(os,{size:12,className:"text-muted-foreground mr-1.5"}),l.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:i,onChange:c=>s(c.target.value)})]}),l.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:o.length>0?o.map(c=>{const d=t.includes(c);return l.jsxs("div",{onClick:()=>u(c),className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${d?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[l.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:d&&l.jsx(wf,{size:8,strokeWidth:4})}),l.jsx("span",{className:"truncate",children:c})]},c)}):l.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center italic",children:"No columns found"})})]})]})},dse=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=Qe(r||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:i}=Ve(a),s=me(N=>N.executionResult),o=r?s==null?void 0:s.node_results[r]:null,u=o==null?void 0:o.metrics,[c,d]=w.useState(!1),f=i?Object.values(i.columns).map(N=>N.name):[],h=i?Object.values(i.columns).filter(N=>["int","float","number"].some(S=>{var C;return(C=N.dtype)==null?void 0:C.toLowerCase().includes(S)})).map(N=>N.name):[],m=i?Object.values(i.columns).filter(N=>["date","time"].some(S=>{var C;return(C=N.dtype)==null?void 0:C.toLowerCase().includes(S)})).map(N=>N.name):[],p=i?Object.values(i.columns).filter(N=>["string","object","text"].some(S=>{var C;return(C=N.dtype)==null?void 0:C.toLowerCase().includes(S)})).map(N=>N.name):[],y=Xo(r||"",{types:["feature_generation"],suggestedNodeTypes:["FeatureGenerationNode"],scope:"column"}),v=N=>{console.log("Applying recommendation:",N)},g=N=>{const S={operation_type:N,method:N==="arithmetic"?"add":N==="similarity"?"ratio":N==="group_agg"?"mean":N==="polynomial"?"poly":"year",input_columns:[],output_column:"",datetime_features:N==="datetime_extract"?["year"]:void 0,degree:N==="polynomial"?2:void 0,interaction_only:N==="polynomial"?!1:void 0,isExpanded:!0};t({operations:[...e.operations||[],S]})},x=(N,S)=>{const C=[...e.operations||[]];C[N]={...C[N],...S},t({operations:C})},b=(N,S)=>{S.stopPropagation();const C=[...e.operations||[]];C.splice(N,1),t({operations:C})},j=N=>{const S=[...e.operations||[]];S[N]={...S[N],isExpanded:!S[N].isExpanded},t({operations:S})},k=(N,S)=>`${N.operation_type}_${S}`;return l.jsxs("div",{className:"flex h-full",children:[l.jsxs("div",{className:"w-20 border-r bg-muted/10 flex flex-col items-center py-4 gap-2 overflow-y-auto shrink-0",children:[l.jsx("span",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider",children:"Add"}),sse.map(N=>l.jsxs("button",{onClick:()=>g(N.value),className:"flex flex-col items-center justify-center gap-1 p-1.5 rounded-md border bg-card hover:bg-accent hover:border-primary/50 transition-all group w-16 h-14 shadow-sm",title:N.label,children:[l.jsx(N.icon,{size:18,className:"text-muted-foreground group-hover:text-primary"}),l.jsx("span",{className:"text-[9px] font-medium text-muted-foreground group-hover:text-foreground text-center leading-tight line-clamp-2",children:N.label.replace(" ",`
`)})]},N.value))]}),l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:[y.length>0&&l.jsxs("div",{className:"border-b bg-muted/10",children:[l.jsxs("button",{onClick:()=>d(!c),className:"w-full flex items-center justify-between px-4 py-2 text-xs font-medium text-muted-foreground hover:text-primary hover:bg-muted/20 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lP,{size:14,className:y.length>0?"text-yellow-500":""}),l.jsxs("span",{children:["Recommendations (",y.length,")"]})]}),c?l.jsx(Bt,{size:14}):l.jsx(Zi,{size:14})]}),c&&l.jsx("div",{className:"p-4 bg-muted/5 border-t",children:l.jsx(fs,{recommendations:y,onApply:v,className:"mb-0"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[(e.operations||[]).map((N,S)=>{var C,M,O;return l.jsxs("div",{className:"border rounded-lg bg-card shadow-sm overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>j(S),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[N.isExpanded?l.jsx(Bt,{size:14,className:"text-muted-foreground"}):l.jsx(Zi,{size:14,className:"text-muted-foreground"}),l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:N.operation_type==="datetime_extract"?"Date":N.operation_type.replace("_"," ")}),["arithmetic","similarity","group_agg"].includes(N.operation_type)&&l.jsx("select",{className:"text-sm border-none bg-transparent font-semibold focus:ring-0 cursor-pointer hover:text-primary",value:N.method,onClick:P=>P.stopPropagation(),onChange:P=>x(S,{method:P.target.value}),children:(N.operation_type==="arithmetic"?ose:N.operation_type==="similarity"?use:N.operation_type==="group_agg"?cse:[]).map(P=>l.jsx("option",{value:P,children:P.replace("_"," ")},P))})]}),l.jsx("button",{onClick:P=>b(S,P),className:"text-muted-foreground hover:text-destructive transition-colors p-1 rounded-full hover:bg-destructive/10",children:l.jsx(ls,{size:14})})]}),N.isExpanded&&l.jsxs("div",{className:"p-3 space-y-4",children:[N.operation_type==="arithmetic"&&l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:N.method==="divide"?"Performs row-by-row division (Col A / Col B) for each record.":"Performs row-by-row arithmetic between two columns."}),l.jsx(mn,{label:"Column A (Left Operand)",columns:h,selected:N.input_columns.slice(0,1),onChange:P=>x(S,{input_columns:P}),single:!0}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-px bg-border flex-1"}),l.jsx("span",{className:"text-lg font-bold text-muted-foreground bg-muted/20 w-8 h-8 rounded flex items-center justify-center",children:N.method==="add"?"+":N.method==="subtract"?"-":N.method==="multiply"?"":""}),l.jsx("div",{className:"h-px bg-border flex-1"})]}),l.jsx(mn,{label:"Column B (Right Operand)",columns:h,selected:((C=N.secondary_columns)==null?void 0:C.slice(0,1))||[],onChange:P=>x(S,{secondary_columns:P}),single:!0})]}),N.operation_type==="ratio"&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:["Calculates aggregate ratio: ",l.jsx("strong",{children:"Sum(Numerator) / Sum(Denominator)"}),"."]}),l.jsx(mn,{label:"Numerator (Sum)",columns:h,selected:N.input_columns,onChange:P=>x(S,{input_columns:P})}),l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-dashed"})}),l.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Divided By"})]}),l.jsx(mn,{label:"Denominator (Sum)",columns:h,selected:N.secondary_columns||[],onChange:P=>x(S,{secondary_columns:P})})]}),N.operation_type==="similarity"&&l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20 space-y-1",children:[l.jsx("p",{children:"Calculates string similarity score (0-100) between two text columns."}),l.jsxs("ul",{className:"list-disc pl-3 space-y-0.5 opacity-80",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Ratio:"}),' Strict character matching (Levenshtein). "apple banana" != "banana apple".']}),l.jsxs("li",{children:[l.jsx("strong",{children:"Token Sort:"}),' Sorts words alphabetically then compares. "apple banana" == "banana apple".']}),l.jsxs("li",{children:[l.jsx("strong",{children:"Token Set:"})," Compares intersection of words. Handles duplicates/subsets well."]})]})]}),l.jsx(mn,{label:"String A",columns:p,selected:N.input_columns.slice(0,1),onChange:P=>x(S,{input_columns:P}),single:!0}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-px bg-border flex-1"}),l.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted/20 px-2 py-1 rounded",children:"vs"}),l.jsx("div",{className:"h-px bg-border flex-1"})]}),l.jsx(mn,{label:"String B",columns:p,selected:((M=N.secondary_columns)==null?void 0:M.slice(0,1))||[],onChange:P=>x(S,{secondary_columns:P}),single:!0})]}),N.operation_type==="polynomial"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Generates polynomial and interaction features (e.g., A, AB)."}),l.jsx(mn,{label:"Input Columns",columns:h,selected:N.input_columns,onChange:P=>x(S,{input_columns:P})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Degree"}),l.jsx("input",{type:"number",min:"2",max:"5",className:"w-full text-xs border rounded p-1.5",value:N.degree||2,onChange:P=>x(S,{degree:parseInt(P.target.value)})})]}),l.jsx("div",{className:"space-y-1 pt-5",children:l.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:N.interaction_only||!1,onChange:P=>x(S,{interaction_only:P.target.checked})}),"Interaction Only"]})})]})]}),N.operation_type==="group_agg"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Calculates aggregate statistics (e.g., Mean Salary) grouped by a categorical column (e.g., Department) and assigns it back to each row."}),l.jsx(mn,{label:"Group By (Categorical)",columns:p.length>0?p:f,selected:N.input_columns.slice(0,1),onChange:P=>x(S,{input_columns:P}),single:!0}),l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-dashed"})}),l.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Target Column"})]}),l.jsx(mn,{label:"Target (Numeric)",columns:h,selected:((O=N.secondary_columns)==null?void 0:O.slice(0,1))||[],onChange:P=>x(S,{secondary_columns:P}),single:!0})]}),N.operation_type==="datetime_extract"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx(mn,{label:"Date Column",columns:m.length>0?m:f,selected:N.input_columns.slice(0,1),onChange:P=>x(S,{input_columns:P}),single:!0}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Features to Extract"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:lse.map(P=>l.jsxs("label",{className:"flex items-center gap-2 text-xs p-1.5 border rounded hover:bg-accent cursor-pointer transition-colors",children:[l.jsx("input",{type:"checkbox",className:"rounded border-muted-foreground/40 text-primary focus:ring-0",checked:(N.datetime_features||[]).includes(P),onChange:$=>{const E=N.datetime_features||[],R=$.target.checked?[...E,P]:E.filter(D=>D!==P);x(S,{datetime_features:R})}}),l.jsx("span",{className:"capitalize",children:P.replace("_"," ")})]},P))})]})]}),l.jsxs("div",{className:"pt-2",children:[l.jsx("label",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider mb-1 block",children:"Output Column Name"}),l.jsx("input",{type:"text",className:"w-full text-xs border rounded px-2 py-1.5 bg-background focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:k(N,S),value:N.output_column||"",onChange:P=>x(S,{output_column:P.target.value})})]})]})]},S)}),(!e.operations||e.operations.length===0)&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed rounded-lg bg-muted/5 text-muted-foreground",children:[l.jsx(Wv,{size:32,className:"mb-2 opacity-20"}),l.jsx("p",{className:"text-xs font-medium",children:"No operations added"}),l.jsx("p",{className:"text-[10px] opacity-70",children:"Select a type above to start"})]}),u&&l.jsxs("div",{className:"border rounded-lg bg-muted/10 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold text-primary",children:[l.jsx(un,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsx("div",{className:"space-y-2 text-xs",children:u.generated_features&&u.generated_features.length>0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),l.jsx("span",{className:"font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:u.generated_features.length})]}),l.jsxs("div",{className:"pt-2",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-semibold mb-1.5 block",children:"Generated Columns"}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.generated_features.map(N=>l.jsx("span",{className:"px-2 py-1 bg-background border rounded text-[10px] font-mono text-foreground shadow-sm",children:N},N))})]})]}):l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[l.jsx(Wu,{size:12}),l.jsx("span",{children:"No features generated in last run."})]})})]})]})]})]})},fse={type:"FeatureGenerationNode",label:"Feature Generation",description:"Create new features via math, stats, or date extraction.",icon:Wv,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Enhanced"}],validate:e=>{var t,r,n;if(!e.operations||e.operations.length===0)return{isValid:!1,message:"Add at least one operation."};for(const a of e.operations){if(a.operation_type==="arithmetic"&&(a.input_columns.length===0||!((t=a.secondary_columns)!=null&&t.length)&&!((r=a.constants)!=null&&r.length)))return{isValid:!1,message:"Arithmetic requires two operands."};if(a.operation_type==="datetime_extract"&&a.input_columns.length===0)return{isValid:!1,message:"Select a date column."};if(a.operation_type==="polynomial"&&a.input_columns.length===0)return{isValid:!1,message:"Select input columns for polynomial features."};if(a.operation_type==="group_agg"&&(a.input_columns.length===0||!((n=a.secondary_columns)!=null&&n.length)))return{isValid:!1,message:"Select both Group By and Target columns."}}return{isValid:!0}},settings:dse,getDefaultConfig:()=>({operations:[]})},hse=({columns:e,selected:t,onChange:r})=>{const[n,a]=w.useState(""),i=e.filter(o=>o.toLowerCase().includes(n.toLowerCase())),s=o=>{t.includes(o)?r(t.filter(u=>u!==o)):r([...t,o])};return l.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[l.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[l.jsx(os,{size:12,className:"text-muted-foreground mr-1.5"}),l.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:o=>a(o.target.value)})]}),l.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(o=>{const u=t.includes(o);return l.jsxs("div",{onClick:()=>s(o),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${u?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[l.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${u?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:u&&l.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),l.jsx("span",{className:"truncate",children:o})]},o)}):l.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},mse=({operation:e,onChange:t,onDelete:r})=>l.jsxs("div",{className:"p-3 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("select",{className:"text-xs font-medium bg-transparent border-none focus:ring-0 p-0 text-gray-900 dark:text-gray-100",value:e.op,onChange:n=>{const a=n.target.value;let i="both";a==="case"&&(i="lower"),a==="remove_special"&&(i="keep_alphanumeric"),a==="regex"&&(i="custom"),t({...e,op:a,mode:i})},children:[l.jsx("option",{value:"trim",children:"Trim Whitespace"}),l.jsx("option",{value:"case",children:"Change Case"}),l.jsx("option",{value:"remove_special",children:"Remove Special Chars"}),l.jsx("option",{value:"regex",children:"Regex Replace"})]}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors",children:l.jsx(ls,{size:14})})]}),l.jsxs("div",{className:"space-y-2",children:[e.op==="trim"&&l.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[l.jsx("option",{value:"both",children:"Both Ends"}),l.jsx("option",{value:"leading",children:"Leading Only"}),l.jsx("option",{value:"trailing",children:"Trailing Only"})]}),e.op==="case"&&l.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[l.jsx("option",{value:"lower",children:"Lower Case"}),l.jsx("option",{value:"upper",children:"Upper Case"}),l.jsx("option",{value:"title",children:"Title Case"}),l.jsx("option",{value:"sentence",children:"Sentence Case"})]}),e.op==="remove_special"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[l.jsx("option",{value:"keep_alphanumeric",children:"Keep Alphanumeric"}),l.jsx("option",{value:"keep_alphanumeric_space",children:"Keep Alphanumeric & Space"}),l.jsx("option",{value:"letters_only",children:"Letters Only"}),l.jsx("option",{value:"digits_only",children:"Digits Only"})]}),l.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement (optional)",value:e.replacement||"",onChange:n=>t({...e,replacement:n.target.value})})]}),e.op==="regex"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[l.jsx("option",{value:"custom",children:"Custom Pattern"}),l.jsx("option",{value:"collapse_whitespace",children:"Collapse Whitespace"}),l.jsx("option",{value:"extract_digits",children:"Extract Digits"}),l.jsx("option",{value:"normalize_slash_dates",children:"Normalize Dates (MM/DD/YYYY)"})]}),e.mode==="custom"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5 font-mono",placeholder:"Regex Pattern",value:e.pattern||"",onChange:n=>t({...e,pattern:n.target.value})}),l.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",title:"Generate regex from literal text",onClick:()=>{const n=prompt("Enter the exact text you want to match (it will be escaped):");if(n){const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t({...e,pattern:a})}},children:l.jsx(_7,{size:14})})]}),l.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement",value:e.repl||"",onChange:n=>t({...e,repl:n.target.value})})]})]})]})]}),pse=({config:e,onChange:t,nodeId:r})=>{var y;const n=w.useRef(null),[a,i]=w.useState(!1),[s,o]=w.useState(!0),c=(y=Qe(r||"").find(v=>v.datasetId))==null?void 0:y.datasetId,{data:d}=Ve(c),f=d?Object.values(d.columns).filter(v=>v.dtype==="object"||v.dtype==="string"||v.dtype==="category").map(v=>v.name):[];w.useEffect(()=>{if(!n.current)return;const v=new ResizeObserver(g=>{for(const x of g)i(x.contentRect.width>400)});return v.observe(n.current),()=>v.disconnect()},[]);const h=()=>{t({...e,operations:[...e.operations,{op:"trim",mode:"both"}]})},m=(v,g)=>{const x=[...e.operations];x[v]=g,t({...e,operations:x})},p=v=>{const g=e.operations.filter((x,b)=>b!==v);t({...e,operations:g})};return l.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),l.jsx(hse,{columns:f,selected:e.columns,onChange:v=>t({...e,columns:v})}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),l.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[l.jsxs("button",{onClick:()=>o(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[l.jsx(Wu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),l.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Text Cleaning"}),s?l.jsx($o,{size:14,className:"text-blue-600 dark:text-blue-400"}):l.jsx(Bt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&l.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:l.jsx("p",{children:"Clean and standardize text columns by trimming whitespace, changing case, removing special characters, or applying custom regex patterns."})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cleaning Operations"}),l.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[l.jsx(Ku,{size:14}),"Add Step"]})]}),l.jsx("div",{className:"space-y-3",children:e.operations.length===0?l.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"No operations added."}),l.jsx("button",{onClick:h,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first cleaning step"})]}):e.operations.map((v,g)=>l.jsx(mse,{operation:v,onChange:x=>m(g,x),onDelete:()=>p(g)},g))})]})]})})},gse={type:"TextCleaning",label:"Text Cleaning",category:"Preprocessing",description:"Clean and standardize text columns.",icon:GB,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:pse,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.operations.length===0?{isValid:!1,message:"Add at least one operation."}:{isValid:!0},getDefaultConfig:()=>({columns:[],operations:[{op:"trim",mode:"both"}]})},yse=({columns:e,selected:t,onChange:r})=>{const[n,a]=w.useState(""),i=e.filter(o=>o.toLowerCase().includes(n.toLowerCase())),s=o=>{t.includes(o)?r(t.filter(u=>u!==o)):r([...t,o])};return l.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[l.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[l.jsx(os,{size:12,className:"text-muted-foreground mr-1.5"}),l.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:o=>a(o.target.value)})]}),l.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(o=>{const u=t.includes(o);return l.jsxs("div",{onClick:()=>s(o),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${u?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[l.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${u?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:u&&l.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),l.jsx("span",{className:"truncate",children:o})]},o)}):l.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},O_=({value:e,type:t,onChange:r,placeholder:n})=>{const a=s=>{let o=e;s==="number"&&(o=Number(e)||0),s==="boolean"&&(o=!!e),s==="string"&&(o=String(e)),s==="null"&&(o=null),s==="nan"&&(o="NaN"),r(o,s)},i=s=>{let o=s.target.value;t==="number"&&(o=parseFloat(o)),r(o,t)};return l.jsxs("div",{className:"flex gap-1",children:[l.jsxs("select",{className:"w-20 text-[10px] rounded border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 px-1",value:t,onChange:s=>a(s.target.value),children:[l.jsx("option",{value:"string",children:"Text"}),l.jsx("option",{value:"number",children:"Num"}),l.jsx("option",{value:"boolean",children:"Bool"}),l.jsx("option",{value:"null",children:"Null"})]}),t==="string"&&l.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:i,placeholder:n}),t==="number"&&l.jsx("input",{type:"number",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e,onChange:i,placeholder:n}),t==="boolean"&&l.jsxs("select",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:String(e),onChange:s=>r(s.target.value==="true","boolean"),children:[l.jsx("option",{value:"true",children:"True"}),l.jsx("option",{value:"false",children:"False"})]}),(t==="null"||t==="nan")&&l.jsx("div",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 italic flex items-center",children:t==="null"?"None / Null":"NaN"})]})},vse=({item:e,onChange:t,onDelete:r})=>l.jsxs("div",{className:"p-2 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Find"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:l.jsx(ls,{size:14})})]}),l.jsx(O_,{value:e.old,type:e.oldType,onChange:(n,a)=>t({...e,old:n,oldType:a}),placeholder:"Value to find"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-gray-400",children:l.jsx(FB,{size:14,className:"rotate-90"})}),l.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Replace With"})]}),l.jsx(O_,{value:e.new,type:e.newType,onChange:(n,a)=>t({...e,new:n,newType:a}),placeholder:"New value"})]}),xse=({config:e,onChange:t,nodeId:r})=>{var y;const n=w.useRef(null),[a,i]=w.useState(!1),[s,o]=w.useState(!0),c=(y=Qe(r||"").find(v=>v.datasetId))==null?void 0:y.datasetId,{data:d}=Ve(c),f=d?Object.values(d.columns).map(v=>v.name):[];w.useEffect(()=>{if(!n.current)return;const v=new ResizeObserver(g=>{for(const x of g)i(x.contentRect.width>400)});return v.observe(n.current),()=>v.disconnect()},[]);const h=()=>{t({...e,replacements:[...e.replacements,{old:"",new:"",oldType:"string",newType:"string"}]})},m=(v,g)=>{const x=[...e.replacements];x[v]=g,t({...e,replacements:x})},p=v=>{const g=e.replacements.filter((x,b)=>b!==v);t({...e,replacements:g})};return l.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),l.jsx(yse,{columns:f,selected:e.columns,onChange:v=>t({...e,columns:v})})]})}),l.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[l.jsxs("button",{onClick:()=>o(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[l.jsx(Wu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),l.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Value Replacement"}),s?l.jsx($o,{size:14,className:"text-blue-600 dark:text-blue-400"}):l.jsx(Bt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&l.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:l.jsx("p",{children:'Replace specific values with new ones. Useful for fixing typos, recoding categories (e.g., "Yes" to 1), or handling specific placeholders.'})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Value Mappings"}),l.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[l.jsx(Ku,{size:14}),"Add Mapping"]})]}),l.jsx("div",{className:"space-y-3",children:e.replacements.length===0?l.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"No replacements defined."}),l.jsx("button",{onClick:h,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first replacement"})]}):e.replacements.map((v,g)=>l.jsx(vse,{item:v,onChange:x=>m(g,x),onDelete:()=>p(g)},g))})]})]})})},bse={type:"ValueReplacement",label:"Value Replacement",category:"Preprocessing",description:"Replace specific values in columns.",icon:p7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Processed Data",type:"dataset"}],settings:xse,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.replacements.length===0?{isValid:!1,message:"Add at least one replacement."}:{isValid:!0},getDefaultConfig:()=>({columns:[],replacements:[{old:"",new:"",oldType:"string",newType:"string"}]})},wse=({columns:e,selected:t,onChange:r})=>{const[n,a]=w.useState(""),i=e.filter(o=>o.toLowerCase().includes(n.toLowerCase())),s=o=>{t.includes(o)?r(t.filter(u=>u!==o)):r([...t,o])};return l.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[l.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[l.jsx(os,{size:12,className:"text-muted-foreground mr-1.5"}),l.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:o=>a(o.target.value)})]}),l.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(o=>{const u=t.includes(o);return l.jsxs("div",{onClick:()=>s(o),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${u?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[l.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${u?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:u&&l.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),l.jsx("span",{className:"truncate",children:o})]},o)}):l.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},jse=({pairs:e,onChange:t})=>{const[r,n]=w.useState(""),[a,i]=w.useState(""),s=()=>{r&&a&&(t({...e,[r]:a}),n(""),i(""))},o=u=>{const c={...e};delete c[u],t(c)};return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex gap-2 items-end",children:[l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Alias (Old)"}),l.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. NY",value:r,onChange:u=>n(u.target.value)})]}),l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Canonical (New)"}),l.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. New York",value:a,onChange:u=>i(u.target.value),onKeyDown:u=>u.key==="Enter"&&s()})]}),l.jsx("button",{onClick:s,disabled:!r||!a,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(Ku,{size:16})})]}),l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2 bg-gray-50 dark:bg-gray-800/50",children:Object.entries(e).length===0?l.jsx("div",{className:"text-center text-xs text-gray-500 py-2",children:"No custom aliases defined."}):Object.entries(e).map(([u,c])=>l.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[l.jsx("span",{className:"font-medium text-red-600 truncate max-w-[80px]",children:u}),l.jsx(iP,{size:12,className:"text-gray-400 shrink-0"}),l.jsx("span",{className:"font-medium text-green-600 truncate max-w-[80px]",children:c})]}),l.jsx("button",{onClick:()=>o(u),className:"text-gray-400 hover:text-red-500",children:l.jsx(ls,{size:14})})]},u))})]})},kse=({config:e,onChange:t,nodeId:r})=>{var h;const n=w.useRef(null),[a,i]=w.useState(!1),[s,o]=w.useState(!0),c=(h=Qe(r||"").find(m=>m.datasetId))==null?void 0:h.datasetId,{data:d}=Ve(c),f=d?Object.values(d.columns).filter(m=>m.dtype==="object"||m.dtype==="string"||m.dtype==="category").map(m=>m.name):[];return w.useEffect(()=>{if(!n.current)return;const m=new ResizeObserver(p=>{for(const y of p)i(y.contentRect.width>400)});return m.observe(n.current),()=>m.disconnect()},[]),l.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),l.jsx(wse,{columns:f,selected:e.columns,onChange:m=>t({...e,columns:m})}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),l.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[l.jsxs("button",{onClick:()=>o(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[l.jsx(Wu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),l.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Alias Replacement"}),s?l.jsx($o,{size:14,className:"text-blue-600 dark:text-blue-400"}):l.jsx(Bt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&l.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:l.jsx("p",{children:"Standardize data by mapping multiple variations (aliases) to a single canonical value. Useful for country codes, boolean strings, or custom synonyms."})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),l.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:m=>t({...e,mode:m.target.value}),children:[l.jsx("option",{value:"custom",children:"Custom Mapping"}),l.jsx("option",{value:"canonicalize_country_codes",children:"Canonicalize Country Codes"}),l.jsx("option",{value:"normalize_boolean",children:"Normalize Booleans (yes/no -> True/False)"}),l.jsx("option",{value:"punctuation",children:"Remove Punctuation"})]}),l.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="custom"&&"Define your own alias mappings below.",e.mode==="canonicalize_country_codes"&&"Standardizes country codes (e.g. 'USA', 'U.S.A.' -> 'US').",e.mode==="normalize_boolean"&&"Converts 'yes', 'y', '1' to True and 'no', 'n', '0' to False.",e.mode==="punctuation"&&"Removes common punctuation characters from text."]})]}),e.mode==="custom"&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Custom Aliases"}),l.jsx(jse,{pairs:e.custom_pairs,onChange:m=>t({...e,custom_pairs:m})})]})]})]})})},Nse={type:"AliasReplacement",label:"Alias Replacement",category:"Preprocessing",description:"Standardize values by mapping aliases to canonical forms.",icon:iP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Standardized Data",type:"dataset"}],settings:kse,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom"&&Object.keys(e.custom_pairs).length===0?{isValid:!1,message:"Add at least one alias pair for custom mode."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"custom",custom_pairs:{}})},_se=({columns:e,selected:t,onChange:r})=>{const[n,a]=w.useState(""),i=e.filter(o=>o.toLowerCase().includes(n.toLowerCase())),s=o=>{t.includes(o)?r(t.filter(u=>u!==o)):r([...t,o])};return l.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[l.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[l.jsx(os,{size:12,className:"text-muted-foreground mr-1.5"}),l.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:o=>a(o.target.value)})]}),l.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(o=>{const u=t.includes(o);return l.jsxs("div",{onClick:()=>s(o),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${u?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[l.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${u?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:u&&l.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),l.jsx("span",{className:"truncate",children:o})]},o)}):l.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Sse=({config:e,onChange:t,nodeId:r})=>{var h;const n=w.useRef(null),[a,i]=w.useState(!1),[s,o]=w.useState(!0),c=(h=Qe(r||"").find(m=>m.datasetId))==null?void 0:h.datasetId,{data:d}=Ve(c),f=d?Object.values(d.columns).filter(m=>["int","float","number"].some(p=>{var y;return(y=m.dtype)==null?void 0:y.toLowerCase().includes(p)})).map(m=>m.name):[];return w.useEffect(()=>{if(!n.current)return;const m=new ResizeObserver(p=>{for(const y of p)i(y.contentRect.width>400)});return m.observe(n.current),()=>m.disconnect()},[]),l.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),l.jsx(_se,{columns:f,selected:e.columns,onChange:m=>t({...e,columns:m})}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only numeric columns are shown."})]})}),l.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[l.jsxs("button",{onClick:()=>o(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[l.jsx(Wu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),l.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Invalid Value Replacement"}),s?l.jsx($o,{size:14,className:"text-blue-600 dark:text-blue-400"}):l.jsx(Bt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&l.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:l.jsx("p",{children:"Use this node to handle data quality issues by replacing invalid numeric values (like negative ages or out-of-bounds sensor readings) with NaN (Missing)."})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),l.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:m=>t({...e,mode:m.target.value}),children:[l.jsx("option",{value:"negative_to_nan",children:"Negative to NaN"}),l.jsx("option",{value:"zero_to_nan",children:"Zero to NaN"}),l.jsx("option",{value:"percentage_bounds",children:"Percentage Bounds (0-100)"}),l.jsx("option",{value:"age_bounds",children:"Age Bounds (0-120)"}),l.jsx("option",{value:"custom_range",children:"Custom Range"})]}),l.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="negative_to_nan"&&"Replaces all negative values (< 0) with NaN.",e.mode==="zero_to_nan"&&"Replaces all zero values (== 0) with NaN.",e.mode==="percentage_bounds"&&"Replaces values outside 0-100 range with NaN.",e.mode==="age_bounds"&&"Replaces values outside 0-120 range with NaN.",e.mode==="custom_range"&&"Replaces values outside the specified Min/Max range with NaN."]})]}),(e.mode==="custom_range"||e.mode==="percentage_bounds"||e.mode==="age_bounds")&&l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Min Value"}),l.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"0":"Min",value:e.min_value??"",onChange:m=>t({...e,min_value:m.target.value?parseFloat(m.target.value):void 0})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Max Value"}),l.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"100":"Max",value:e.max_value??"",onChange:m=>t({...e,max_value:m.target.value?parseFloat(m.target.value):void 0})})]}),l.jsx("p",{className:"col-span-2 text-[10px] text-gray-500",children:"Values outside this range will be replaced with NaN."})]})]})]})})},Ese={type:"InvalidValueReplacement",label:"Invalid Value Replacement",category:"Preprocessing",description:"Replace invalid or out-of-range values with NaN.",icon:qv,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Sse,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom_range"&&e.min_value===void 0&&e.max_value===void 0?{isValid:!1,message:"Specify at least a min or max value for custom range."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"negative_to_nan"})},Cse=()=>{be.register(lie),be.register(die),be.register(hie),be.register(pie),be.register(yie),be.register(Yie),be.register(Zie),be.register(tse),be.register(ise),be.register(fse),be.register(gse),be.register(bse),be.register(Nse),be.register(Ese),be.register(Kie),be.register(Aie),be.register(Mie),be.register(Die),be.register(Lie),be.register(zie),be.register(Uie),be.register(Vie),be.register(jie),be.register(Eie),be.register(Pie),console.log("[Registry] Initialization complete. Total nodes:",be.getAll().length)};Cse();const Pse=new r5;ig.createRoot(document.getElementById("root")).render(l.jsx(Qr.StrictMode,{children:l.jsx(a5,{client:Pse,children:l.jsx(sie,{})})}));
