var l4=Object.defineProperty;var $w=e=>{throw TypeError(e)};var c4=(e,t,r)=>t in e?l4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var cl=(e,t,r)=>c4(e,typeof t!="symbol"?t+"":t,r),jp=(e,t,r)=>t.has(e)||$w("Cannot "+r);var $=(e,t,r)=>(jp(e,t,"read from private field"),r?r.call(e):t.get(e)),me=(e,t,r)=>t.has(e)?$w("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ae=(e,t,r,n)=>(jp(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ve=(e,t,r)=>(jp(e,t,"access private method"),r);var Bu=(e,t,r,n)=>({set _(a){ae(e,t,a,r)},get _(){return $(e,t,n)}});function u4(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Hn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var LS={exports:{}},zh={},$S={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=Symbol.for("react.element"),d4=Symbol.for("react.portal"),f4=Symbol.for("react.fragment"),h4=Symbol.for("react.strict_mode"),m4=Symbol.for("react.profiler"),p4=Symbol.for("react.provider"),g4=Symbol.for("react.context"),y4=Symbol.for("react.forward_ref"),v4=Symbol.for("react.suspense"),x4=Symbol.for("react.memo"),b4=Symbol.for("react.lazy"),zw=Symbol.iterator;function w4(e){return e===null||typeof e!="object"?null:(e=zw&&e[zw]||e["@@iterator"],typeof e=="function"?e:null)}var zS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FS=Object.assign,BS={};function Wo(e,t,r){this.props=e,this.context=t,this.refs=BS,this.updater=r||zS}Wo.prototype.isReactComponent={};Wo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function US(){}US.prototype=Wo.prototype;function iv(e,t,r){this.props=e,this.context=t,this.refs=BS,this.updater=r||zS}var sv=iv.prototype=new US;sv.constructor=iv;FS(sv,Wo.prototype);sv.isPureReactComponent=!0;var Fw=Array.isArray,VS=Object.prototype.hasOwnProperty,ov={current:null},HS={key:!0,ref:!0,__self:!0,__source:!0};function WS(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)VS.call(t,n)&&!HS.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Wc,type:e,key:i,ref:s,props:a,_owner:ov.current}}function j4(e,t){return{$$typeof:Wc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wc}function k4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Bw=/\/+/g;function kp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?k4(""+e.key):t.toString(36)}function Id(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Wc:case d4:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+kp(s,0):n,Fw(a)?(r="",e!=null&&(r=e.replace(Bw,"$&/")+"/"),Id(a,t,r,"",function(u){return u})):a!=null&&(lv(a)&&(a=j4(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(Bw,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",Fw(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+kp(i,o);s+=Id(i,t,r,c,a)}else if(c=w4(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+kp(i,o++),s+=Id(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Uu(e,t,r){if(e==null)return e;var n=[],a=0;return Id(e,n,"","",function(i){return t.call(r,i,a++)}),n}function N4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zt={current:null},Dd={transition:null},_4={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:Dd,ReactCurrentOwner:ov};function KS(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Uu,forEach:function(e,t,r){Uu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Uu(e,function(){t++}),t},toArray:function(e){return Uu(e,function(t){return t})||[]},only:function(e){if(!lv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Wo;ye.Fragment=f4;ye.Profiler=m4;ye.PureComponent=iv;ye.StrictMode=h4;ye.Suspense=v4;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_4;ye.act=KS;ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=FS({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=ov.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)VS.call(t,c)&&!HS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Wc,type:e.type,key:a,ref:i,props:n,_owner:s}};ye.createContext=function(e){return e={$$typeof:g4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:p4,_context:e},e.Consumer=e};ye.createElement=WS;ye.createFactory=function(e){var t=WS.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:y4,render:e}};ye.isValidElement=lv;ye.lazy=function(e){return{$$typeof:b4,_payload:{_status:-1,_result:e},_init:N4}};ye.memo=function(e,t){return{$$typeof:x4,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Dd.transition;Dd.transition={};try{e()}finally{Dd.transition=t}};ye.unstable_act=KS;ye.useCallback=function(e,t){return Zt.current.useCallback(e,t)};ye.useContext=function(e){return Zt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return Zt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return Zt.current.useEffect(e,t)};ye.useId=function(){return Zt.current.useId()};ye.useImperativeHandle=function(e,t,r){return Zt.current.useImperativeHandle(e,t,r)};ye.useInsertionEffect=function(e,t){return Zt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return Zt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return Zt.current.useMemo(e,t)};ye.useReducer=function(e,t,r){return Zt.current.useReducer(e,t,r)};ye.useRef=function(e){return Zt.current.useRef(e)};ye.useState=function(e){return Zt.current.useState(e)};ye.useSyncExternalStore=function(e,t,r){return Zt.current.useSyncExternalStore(e,t,r)};ye.useTransition=function(){return Zt.current.useTransition()};ye.version="18.3.1";$S.exports=ye;var b=$S.exports;const fn=Hn(b),S4=u4({__proto__:null,default:fn},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E4=b,P4=Symbol.for("react.element"),C4=Symbol.for("react.fragment"),O4=Object.prototype.hasOwnProperty,A4=E4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T4={key:!0,ref:!0,__self:!0,__source:!0};function qS(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)O4.call(t,n)&&!T4.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:P4,type:e,key:i,ref:s,props:a,_owner:A4.current}}zh.Fragment=C4;zh.jsx=qS;zh.jsxs=qS;LS.exports=zh;var l=LS.exports,Mg={},YS={exports:{}},Tr={},XS={exports:{}},GS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,M){var z=A.length;A.push(M);e:for(;0<z;){var V=z-1>>>1,B=A[V];if(0<a(B,M))A[V]=M,A[z]=B,z=V;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var M=A[0],z=A.pop();if(z!==M){A[0]=z;e:for(var V=0,B=A.length,X=B>>>1;V<X;){var q=2*(V+1)-1,J=A[q],ce=q+1,te=A[ce];if(0>a(J,z))ce<B&&0>a(te,J)?(A[V]=te,A[ce]=z,V=ce):(A[V]=J,A[q]=z,V=q);else if(ce<B&&0>a(te,z))A[V]=te,A[ce]=z,V=ce;else break e}}return M}function a(A,M){var z=A.sortIndex-M.sortIndex;return z!==0?z:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=A)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function j(A){if(y=!1,w(A),!p)if(r(c)!==null)p=!0,I(k);else{var M=r(u);M!==null&&R(j,M.startTime-A)}}function k(A,M){p=!1,y&&(y=!1,g(S),S=-1),m=!0;var z=h;try{for(w(M),f=r(c);f!==null&&(!(f.expirationTime>M)||A&&!O());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var B=V(f.expirationTime<=M);M=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(c)&&n(c),w(M)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var q=r(u);q!==null&&R(j,q.startTime-M),X=!1}return X}finally{f=null,h=z,m=!1}}var _=!1,N=null,S=-1,E=5,T=-1;function O(){return!(e.unstable_now()-T<E)}function C(){if(N!==null){var A=e.unstable_now();T=A;var M=!0;try{M=N(!0,A)}finally{M?L():(_=!1,N=null)}}else _=!1}var L;if(typeof x=="function")L=function(){x(C)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,D=P.port2;P.port1.onmessage=C,L=function(){D.postMessage(null)}}else L=function(){v(C,0)};function I(A){N=A,_||(_=!0,L())}function R(A,M){S=v(function(){A(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,I(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var z=h;h=M;try{return A()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=h;h=A;try{return M()}finally{h=z}},e.unstable_scheduleCallback=function(A,M,z){var V=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?V+z:V):z=V,A){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=z+B,A={id:d++,callback:M,priorityLevel:A,startTime:z,expirationTime:B,sortIndex:-1},z>V?(A.sortIndex=z,t(u,A),r(c)===null&&A===r(u)&&(y?(g(S),S=-1):y=!0,R(j,z-V))):(A.sortIndex=B,t(c,A),p||m||(p=!0,I(k))),A},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(A){var M=h;return function(){var z=h;h=M;try{return A.apply(this,arguments)}finally{h=z}}}})(GS);XS.exports=GS;var M4=XS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4=b,Er=M4;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QS=new Set,Jl={};function bs(e,t){yo(e,t),yo(e+"Capture",t)}function yo(e,t){for(Jl[e]=t,e=0;e<t.length;e++)QS.add(t[e])}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ig=Object.prototype.hasOwnProperty,D4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uw={},Vw={};function R4(e){return Ig.call(Vw,e)?!0:Ig.call(Uw,e)?!1:D4.test(e)?Vw[e]=!0:(Uw[e]=!0,!1)}function L4(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $4(e,t,r,n){if(t===null||typeof t>"u"||L4(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){It[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];It[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){It[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){It[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){It[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){It[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){It[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){It[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){It[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var cv=/[\-:]([a-z])/g;function uv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cv,uv);It[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cv,uv);It[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cv,uv);It[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){It[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});It.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){It[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function dv(e,t,r,n){var a=It.hasOwnProperty(t)?It[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($4(t,r,a,n)&&(r=null),n||a===null?R4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _a=I4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),Ms=Symbol.for("react.portal"),Is=Symbol.for("react.fragment"),fv=Symbol.for("react.strict_mode"),Dg=Symbol.for("react.profiler"),ZS=Symbol.for("react.provider"),JS=Symbol.for("react.context"),hv=Symbol.for("react.forward_ref"),Rg=Symbol.for("react.suspense"),Lg=Symbol.for("react.suspense_list"),mv=Symbol.for("react.memo"),Da=Symbol.for("react.lazy"),e2=Symbol.for("react.offscreen"),Hw=Symbol.iterator;function ul(e){return e===null||typeof e!="object"?null:(e=Hw&&e[Hw]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Object.assign,Np;function Cl(e){if(Np===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Np=t&&t[1]||""}return`
`+Np+e}var _p=!1;function Sp(e,t){if(!e||_p)return"";_p=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{_p=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Cl(e):""}function z4(e){switch(e.tag){case 5:return Cl(e.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 2:case 15:return e=Sp(e.type,!1),e;case 11:return e=Sp(e.type.render,!1),e;case 1:return e=Sp(e.type,!0),e;default:return""}}function $g(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Is:return"Fragment";case Ms:return"Portal";case Dg:return"Profiler";case fv:return"StrictMode";case Rg:return"Suspense";case Lg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JS:return(e.displayName||"Context")+".Consumer";case ZS:return(e._context.displayName||"Context")+".Provider";case hv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mv:return t=e.displayName||null,t!==null?t:$g(e.type)||"Memo";case Da:t=e._payload,e=e._init;try{return $g(e(t))}catch{}}return null}function F4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $g(t);case 8:return t===fv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ui(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function t2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function B4(e){var t=t2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hu(e){e._valueTracker||(e._valueTracker=B4(e))}function r2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=t2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function lf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zg(e,t){var r=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ww(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ui(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function n2(e,t){t=t.checked,t!=null&&dv(e,"checked",t,!1)}function Fg(e,t){n2(e,t);var r=ui(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bg(e,t.type,ui(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bg(e,t,r){(t!=="number"||lf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ol=Array.isArray;function Xs(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ui(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ug(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(Ol(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ui(r)}}function a2(e,t){var r=ui(t.value),n=ui(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Yw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function i2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?i2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wu,s2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wu=Wu||document.createElement("div"),Wu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ec(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U4=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(e){U4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bl[t]=Bl[e]})});function o2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bl.hasOwnProperty(e)&&Bl[e]?(""+t).trim():t+"px"}function l2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=o2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var V4=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hg(e,t){if(t){if(V4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Wg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kg=null;function pv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qg=null,Gs=null,Qs=null;function Xw(e){if(e=Yc(e)){if(typeof qg!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Hh(t),qg(e.stateNode,e.type,t))}}function c2(e){Gs?Qs?Qs.push(e):Qs=[e]:Gs=e}function u2(){if(Gs){var e=Gs,t=Qs;if(Qs=Gs=null,Xw(e),t)for(e=0;e<t.length;e++)Xw(t[e])}}function d2(e,t){return e(t)}function f2(){}var Ep=!1;function h2(e,t,r){if(Ep)return e(t,r);Ep=!0;try{return d2(e,t,r)}finally{Ep=!1,(Gs!==null||Qs!==null)&&(f2(),u2())}}function tc(e,t){var r=e.stateNode;if(r===null)return null;var n=Hh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Yg=!1;if(ha)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){Yg=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{Yg=!1}function H4(e,t,r,n,a,i,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ul=!1,cf=null,uf=!1,Xg=null,W4={onError:function(e){Ul=!0,cf=e}};function K4(e,t,r,n,a,i,s,o,c){Ul=!1,cf=null,H4.apply(W4,arguments)}function q4(e,t,r,n,a,i,s,o,c){if(K4.apply(this,arguments),Ul){if(Ul){var u=cf;Ul=!1,cf=null}else throw Error(G(198));uf||(uf=!0,Xg=u)}}function ws(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function m2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gw(e){if(ws(e)!==e)throw Error(G(188))}function Y4(e){var t=e.alternate;if(!t){if(t=ws(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Gw(a),e;if(i===n)return Gw(a),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function p2(e){return e=Y4(e),e!==null?g2(e):null}function g2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=g2(e);if(t!==null)return t;e=e.sibling}return null}var y2=Er.unstable_scheduleCallback,Qw=Er.unstable_cancelCallback,X4=Er.unstable_shouldYield,G4=Er.unstable_requestPaint,tt=Er.unstable_now,Q4=Er.unstable_getCurrentPriorityLevel,gv=Er.unstable_ImmediatePriority,v2=Er.unstable_UserBlockingPriority,df=Er.unstable_NormalPriority,Z4=Er.unstable_LowPriority,x2=Er.unstable_IdlePriority,Fh=null,Dn=null;function J4(e){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(Fh,e,void 0,(e.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:rR,eR=Math.log,tR=Math.LN2;function rR(e){return e>>>=0,e===0?32:31-(eR(e)/tR|0)|0}var Ku=64,qu=4194304;function Al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ff(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=Al(o):(i&=s,i!==0&&(n=Al(i)))}else s=r&~a,s!==0?n=Al(s):i!==0&&(n=Al(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-pn(t),a=1<<r,n|=e[r],t&=~a;return n}function nR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-pn(i),o=1<<s,c=a[s];c===-1?(!(o&r)||o&n)&&(a[s]=nR(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Gg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function b2(){var e=Ku;return Ku<<=1,!(Ku&4194240)&&(Ku=64),e}function Pp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Kc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pn(t),e[t]=r}function iR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-pn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function yv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-pn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ae=0;function w2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var j2,vv,k2,N2,_2,Qg=!1,Yu=[],Ja=null,ei=null,ti=null,rc=new Map,nc=new Map,za=[],sR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zw(e,t){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":rc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(t.pointerId)}}function fl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Yc(t),t!==null&&vv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function oR(e,t,r,n,a){switch(t){case"focusin":return Ja=fl(Ja,e,t,r,n,a),!0;case"dragenter":return ei=fl(ei,e,t,r,n,a),!0;case"mouseover":return ti=fl(ti,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return rc.set(i,fl(rc.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,nc.set(i,fl(nc.get(i)||null,e,t,r,n,a)),!0}return!1}function S2(e){var t=Ai(e.target);if(t!==null){var r=ws(t);if(r!==null){if(t=r.tag,t===13){if(t=m2(r),t!==null){e.blockedOn=t,_2(e.priority,function(){k2(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Kg=n,r.target.dispatchEvent(n),Kg=null}else return t=Yc(r),t!==null&&vv(t),e.blockedOn=r,!1;t.shift()}return!0}function Jw(e,t,r){Rd(e)&&r.delete(t)}function lR(){Qg=!1,Ja!==null&&Rd(Ja)&&(Ja=null),ei!==null&&Rd(ei)&&(ei=null),ti!==null&&Rd(ti)&&(ti=null),rc.forEach(Jw),nc.forEach(Jw)}function hl(e,t){e.blockedOn===t&&(e.blockedOn=null,Qg||(Qg=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,lR)))}function ac(e){function t(a){return hl(a,e)}if(0<Yu.length){hl(Yu[0],e);for(var r=1;r<Yu.length;r++){var n=Yu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ja!==null&&hl(Ja,e),ei!==null&&hl(ei,e),ti!==null&&hl(ti,e),rc.forEach(t),nc.forEach(t),r=0;r<za.length;r++)n=za[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<za.length&&(r=za[0],r.blockedOn===null);)S2(r),r.blockedOn===null&&za.shift()}var Zs=_a.ReactCurrentBatchConfig,hf=!0;function cR(e,t,r,n){var a=Ae,i=Zs.transition;Zs.transition=null;try{Ae=1,xv(e,t,r,n)}finally{Ae=a,Zs.transition=i}}function uR(e,t,r,n){var a=Ae,i=Zs.transition;Zs.transition=null;try{Ae=4,xv(e,t,r,n)}finally{Ae=a,Zs.transition=i}}function xv(e,t,r,n){if(hf){var a=Zg(e,t,r,n);if(a===null)$p(e,t,n,mf,r),Zw(e,n);else if(oR(a,e,t,r,n))n.stopPropagation();else if(Zw(e,n),t&4&&-1<sR.indexOf(e)){for(;a!==null;){var i=Yc(a);if(i!==null&&j2(i),i=Zg(e,t,r,n),i===null&&$p(e,t,n,mf,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else $p(e,t,n,null,r)}}var mf=null;function Zg(e,t,r,n){if(mf=null,e=pv(n),e=Ai(e),e!==null)if(t=ws(e),t===null)e=null;else if(r=t.tag,r===13){if(e=m2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mf=e,null}function E2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q4()){case gv:return 1;case v2:return 4;case df:case Z4:return 16;case x2:return 536870912;default:return 16}default:return 16}}var Qa=null,bv=null,Ld=null;function P2(){if(Ld)return Ld;var e,t=bv,r=t.length,n,a="value"in Qa?Qa.value:Qa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Ld=a.slice(e,1<n?1-n:void 0)}function $d(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xu(){return!0}function e1(){return!1}function Mr(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xu:e1,this.isPropagationStopped=e1,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),t}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wv=Mr(Ko),qc=Ge({},Ko,{view:0,detail:0}),dR=Mr(qc),Cp,Op,ml,Bh=Ge({},qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ml&&(ml&&e.type==="mousemove"?(Cp=e.screenX-ml.screenX,Op=e.screenY-ml.screenY):Op=Cp=0,ml=e),Cp)},movementY:function(e){return"movementY"in e?e.movementY:Op}}),t1=Mr(Bh),fR=Ge({},Bh,{dataTransfer:0}),hR=Mr(fR),mR=Ge({},qc,{relatedTarget:0}),Ap=Mr(mR),pR=Ge({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),gR=Mr(pR),yR=Ge({},Ko,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vR=Mr(yR),xR=Ge({},Ko,{data:0}),r1=Mr(xR),bR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jR[e])?!!t[e]:!1}function jv(){return kR}var NR=Ge({},qc,{key:function(e){if(e.key){var t=bR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$d(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jv,charCode:function(e){return e.type==="keypress"?$d(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$d(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_R=Mr(NR),SR=Ge({},Bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n1=Mr(SR),ER=Ge({},qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jv}),PR=Mr(ER),CR=Ge({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),OR=Mr(CR),AR=Ge({},Bh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TR=Mr(AR),MR=[9,13,27,32],kv=ha&&"CompositionEvent"in window,Vl=null;ha&&"documentMode"in document&&(Vl=document.documentMode);var IR=ha&&"TextEvent"in window&&!Vl,C2=ha&&(!kv||Vl&&8<Vl&&11>=Vl),a1=" ",i1=!1;function O2(e,t){switch(e){case"keyup":return MR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function DR(e,t){switch(e){case"compositionend":return A2(t);case"keypress":return t.which!==32?null:(i1=!0,a1);case"textInput":return e=t.data,e===a1&&i1?null:e;default:return null}}function RR(e,t){if(Ds)return e==="compositionend"||!kv&&O2(e,t)?(e=P2(),Ld=bv=Qa=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return C2&&t.locale!=="ko"?null:t.data;default:return null}}var LR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LR[e.type]:t==="textarea"}function T2(e,t,r,n){c2(n),t=pf(t,"onChange"),0<t.length&&(r=new wv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hl=null,ic=null;function $R(e){V2(e,0)}function Uh(e){var t=$s(e);if(r2(t))return e}function zR(e,t){if(e==="change")return t}var M2=!1;if(ha){var Tp;if(ha){var Mp="oninput"in document;if(!Mp){var o1=document.createElement("div");o1.setAttribute("oninput","return;"),Mp=typeof o1.oninput=="function"}Tp=Mp}else Tp=!1;M2=Tp&&(!document.documentMode||9<document.documentMode)}function l1(){Hl&&(Hl.detachEvent("onpropertychange",I2),ic=Hl=null)}function I2(e){if(e.propertyName==="value"&&Uh(ic)){var t=[];T2(t,ic,e,pv(e)),h2($R,t)}}function FR(e,t,r){e==="focusin"?(l1(),Hl=t,ic=r,Hl.attachEvent("onpropertychange",I2)):e==="focusout"&&l1()}function BR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uh(ic)}function UR(e,t){if(e==="click")return Uh(t)}function VR(e,t){if(e==="input"||e==="change")return Uh(t)}function HR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vn=typeof Object.is=="function"?Object.is:HR;function sc(e,t){if(vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Ig.call(t,a)||!vn(e[a],t[a]))return!1}return!0}function c1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function u1(e,t){var r=c1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=c1(r)}}function D2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function R2(){for(var e=window,t=lf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=lf(e.document)}return t}function Nv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function WR(e){var t=R2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&D2(r.ownerDocument.documentElement,r)){if(n!==null&&Nv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=u1(r,i);var s=u1(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KR=ha&&"documentMode"in document&&11>=document.documentMode,Rs=null,Jg=null,Wl=null,ey=!1;function d1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ey||Rs==null||Rs!==lf(n)||(n=Rs,"selectionStart"in n&&Nv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wl&&sc(Wl,n)||(Wl=n,n=pf(Jg,"onSelect"),0<n.length&&(t=new wv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Rs)))}function Gu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ls={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionend:Gu("Transition","TransitionEnd")},Ip={},L2={};ha&&(L2=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Vh(e){if(Ip[e])return Ip[e];if(!Ls[e])return e;var t=Ls[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in L2)return Ip[e]=t[r];return e}var $2=Vh("animationend"),z2=Vh("animationiteration"),F2=Vh("animationstart"),B2=Vh("transitionend"),U2=new Map,f1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(e,t){U2.set(e,t),bs(t,[e])}for(var Dp=0;Dp<f1.length;Dp++){var Rp=f1[Dp],qR=Rp.toLowerCase(),YR=Rp[0].toUpperCase()+Rp.slice(1);gi(qR,"on"+YR)}gi($2,"onAnimationEnd");gi(z2,"onAnimationIteration");gi(F2,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(B2,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function h1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,q4(n,t,void 0,e),e.currentTarget=null}function V2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;h1(a,o,u),i=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;h1(a,o,u),i=c}}}if(uf)throw e=Xg,uf=!1,Xg=null,e}function Le(e,t){var r=t[iy];r===void 0&&(r=t[iy]=new Set);var n=e+"__bubble";r.has(n)||(H2(t,e,2,!1),r.add(n))}function Lp(e,t,r){var n=0;t&&(n|=4),H2(r,e,n,t)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function oc(e){if(!e[Qu]){e[Qu]=!0,QS.forEach(function(r){r!=="selectionchange"&&(XR.has(r)||Lp(r,!1,e),Lp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qu]||(t[Qu]=!0,Lp("selectionchange",!1,t))}}function H2(e,t,r,n){switch(E2(t)){case 1:var a=cR;break;case 4:a=uR;break;default:a=xv}r=a.bind(null,t,r,e),a=void 0,!Yg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function $p(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Ai(o),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}o=o.parentNode}}n=n.return}h2(function(){var u=i,d=pv(r),f=[];e:{var h=U2.get(e);if(h!==void 0){var m=wv,p=e;switch(e){case"keypress":if($d(r)===0)break e;case"keydown":case"keyup":m=_R;break;case"focusin":p="focus",m=Ap;break;case"focusout":p="blur",m=Ap;break;case"beforeblur":case"afterblur":m=Ap;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=t1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=hR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=PR;break;case $2:case z2:case F2:m=gR;break;case B2:m=OR;break;case"scroll":m=dR;break;case"wheel":m=TR;break;case"copy":case"cut":case"paste":m=vR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=n1}var y=(t&4)!==0,v=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var x=u,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,g!==null&&(j=tc(x,g),j!=null&&y.push(lc(x,j,w)))),v)break;x=x.return}0<y.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Kg&&(p=r.relatedTarget||r.fromElement)&&(Ai(p)||p[ma]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Ai(p):null,p!==null&&(v=ws(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(y=t1,j="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=n1,j="onPointerLeave",g="onPointerEnter",x="pointer"),v=m==null?h:$s(m),w=p==null?h:$s(p),h=new y(j,x+"leave",m,r,d),h.target=v,h.relatedTarget=w,j=null,Ai(d)===u&&(y=new y(g,x+"enter",p,r,d),y.target=w,y.relatedTarget=v,j=y),v=j,m&&p)t:{for(y=m,g=p,x=0,w=y;w;w=Es(w))x++;for(w=0,j=g;j;j=Es(j))w++;for(;0<x-w;)y=Es(y),x--;for(;0<w-x;)g=Es(g),w--;for(;x--;){if(y===g||g!==null&&y===g.alternate)break t;y=Es(y),g=Es(g)}y=null}else y=null;m!==null&&m1(f,h,m,y,!1),p!==null&&v!==null&&m1(f,v,p,y,!0)}}e:{if(h=u?$s(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=zR;else if(s1(h))if(M2)k=VR;else{k=BR;var _=FR}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=UR);if(k&&(k=k(e,u))){T2(f,k,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Bg(h,"number",h.value)}switch(_=u?$s(u):window,e){case"focusin":(s1(_)||_.contentEditable==="true")&&(Rs=_,Jg=u,Wl=null);break;case"focusout":Wl=Jg=Rs=null;break;case"mousedown":ey=!0;break;case"contextmenu":case"mouseup":case"dragend":ey=!1,d1(f,r,d);break;case"selectionchange":if(KR)break;case"keydown":case"keyup":d1(f,r,d)}var N;if(kv)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ds?O2(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(C2&&r.locale!=="ko"&&(Ds||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ds&&(N=P2()):(Qa=d,bv="value"in Qa?Qa.value:Qa.textContent,Ds=!0)),_=pf(u,S),0<_.length&&(S=new r1(S,e,null,r,d),f.push({event:S,listeners:_}),N?S.data=N:(N=A2(r),N!==null&&(S.data=N)))),(N=IR?DR(e,r):RR(e,r))&&(u=pf(u,"onBeforeInput"),0<u.length&&(d=new r1("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}V2(f,t)})}function lc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function pf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=tc(e,r),i!=null&&n.unshift(lc(e,i,a)),i=tc(e,t),i!=null&&n.push(lc(e,i,a))),e=e.return}return n}function Es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function m1(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=tc(r,i),c!=null&&s.unshift(lc(r,c,o))):a||(c=tc(r,i),c!=null&&s.push(lc(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var GR=/\r\n?/g,QR=/\u0000|\uFFFD/g;function p1(e){return(typeof e=="string"?e:""+e).replace(GR,`
`).replace(QR,"")}function Zu(e,t,r){if(t=p1(t),p1(e)!==t&&r)throw Error(G(425))}function gf(){}var ty=null,ry=null;function ny(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ay=typeof setTimeout=="function"?setTimeout:void 0,ZR=typeof clearTimeout=="function"?clearTimeout:void 0,g1=typeof Promise=="function"?Promise:void 0,JR=typeof queueMicrotask=="function"?queueMicrotask:typeof g1<"u"?function(e){return g1.resolve(null).then(e).catch(e5)}:ay;function e5(e){setTimeout(function(){throw e})}function zp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ac(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ac(t)}function ri(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function y1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var qo=Math.random().toString(36).slice(2),Mn="__reactFiber$"+qo,cc="__reactProps$"+qo,ma="__reactContainer$"+qo,iy="__reactEvents$"+qo,t5="__reactListeners$"+qo,r5="__reactHandles$"+qo;function Ai(e){var t=e[Mn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ma]||r[Mn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=y1(e);e!==null;){if(r=e[Mn])return r;e=y1(e)}return t}e=r,r=e.parentNode}return null}function Yc(e){return e=e[Mn]||e[ma],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Hh(e){return e[cc]||null}var sy=[],zs=-1;function yi(e){return{current:e}}function ze(e){0>zs||(e.current=sy[zs],sy[zs]=null,zs--)}function Re(e,t){zs++,sy[zs]=e.current,e.current=t}var di={},Bt=yi(di),dr=yi(!1),rs=di;function vo(e,t){var r=e.type.contextTypes;if(!r)return di;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function fr(e){return e=e.childContextTypes,e!=null}function yf(){ze(dr),ze(Bt)}function v1(e,t,r){if(Bt.current!==di)throw Error(G(168));Re(Bt,t),Re(dr,r)}function W2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(G(108,F4(e)||"Unknown",a));return Ge({},r,n)}function vf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,rs=Bt.current,Re(Bt,e),Re(dr,dr.current),!0}function x1(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=W2(e,t,rs),n.__reactInternalMemoizedMergedChildContext=e,ze(dr),ze(Bt),Re(Bt,e)):ze(dr),Re(dr,r)}var Zn=null,Wh=!1,Fp=!1;function K2(e){Zn===null?Zn=[e]:Zn.push(e)}function n5(e){Wh=!0,K2(e)}function vi(){if(!Fp&&Zn!==null){Fp=!0;var e=0,t=Ae;try{var r=Zn;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Zn=null,Wh=!1}catch(a){throw Zn!==null&&(Zn=Zn.slice(e+1)),y2(gv,vi),a}finally{Ae=t,Fp=!1}}return null}var Fs=[],Bs=0,xf=null,bf=0,Br=[],Ur=0,ns=null,aa=1,ia="";function Ni(e,t){Fs[Bs++]=bf,Fs[Bs++]=xf,xf=e,bf=t}function q2(e,t,r){Br[Ur++]=aa,Br[Ur++]=ia,Br[Ur++]=ns,ns=e;var n=aa;e=ia;var a=32-pn(n)-1;n&=~(1<<a),r+=1;var i=32-pn(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,aa=1<<32-pn(t)+a|r<<a|n,ia=i+e}else aa=1<<i|r<<a|n,ia=e}function _v(e){e.return!==null&&(Ni(e,1),q2(e,1,0))}function Sv(e){for(;e===xf;)xf=Fs[--Bs],Fs[Bs]=null,bf=Fs[--Bs],Fs[Bs]=null;for(;e===ns;)ns=Br[--Ur],Br[Ur]=null,ia=Br[--Ur],Br[Ur]=null,aa=Br[--Ur],Br[Ur]=null}var _r=null,jr=null,Ue=!1,on=null;function Y2(e,t){var r=Vr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function b1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_r=e,jr=ri(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_r=e,jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ns!==null?{id:aa,overflow:ia}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,_r=e,jr=null,!0):!1;default:return!1}}function oy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ly(e){if(Ue){var t=jr;if(t){var r=t;if(!b1(e,t)){if(oy(e))throw Error(G(418));t=ri(r.nextSibling);var n=_r;t&&b1(e,t)?Y2(n,r):(e.flags=e.flags&-4097|2,Ue=!1,_r=e)}}else{if(oy(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ue=!1,_r=e}}}function w1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_r=e}function Ju(e){if(e!==_r)return!1;if(!Ue)return w1(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ny(e.type,e.memoizedProps)),t&&(t=jr)){if(oy(e))throw X2(),Error(G(418));for(;t;)Y2(e,t),t=ri(t.nextSibling)}if(w1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){jr=ri(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}jr=null}}else jr=_r?ri(e.stateNode.nextSibling):null;return!0}function X2(){for(var e=jr;e;)e=ri(e.nextSibling)}function xo(){jr=_r=null,Ue=!1}function Ev(e){on===null?on=[e]:on.push(e)}var a5=_a.ReactCurrentBatchConfig;function pl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function ed(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function j1(e){var t=e._init;return t(e._payload)}function G2(e){function t(g,x){if(e){var w=g.deletions;w===null?(g.deletions=[x],g.flags|=16):w.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=si(g,x),g.index=0,g.sibling=null,g}function i(g,x,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags|=2,x):w):(g.flags|=2,x)):(g.flags|=1048576,x)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,x,w,j){return x===null||x.tag!==6?(x=qp(w,g.mode,j),x.return=g,x):(x=a(x,w),x.return=g,x)}function c(g,x,w,j){var k=w.type;return k===Is?d(g,x,w.props.children,j,w.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Da&&j1(k)===x.type)?(j=a(x,w.props),j.ref=pl(g,x,w),j.return=g,j):(j=Wd(w.type,w.key,w.props,null,g.mode,j),j.ref=pl(g,x,w),j.return=g,j)}function u(g,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Yp(w,g.mode,j),x.return=g,x):(x=a(x,w.children||[]),x.return=g,x)}function d(g,x,w,j,k){return x===null||x.tag!==7?(x=Xi(w,g.mode,j,k),x.return=g,x):(x=a(x,w),x.return=g,x)}function f(g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=qp(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vu:return w=Wd(x.type,x.key,x.props,null,g.mode,w),w.ref=pl(g,null,x),w.return=g,w;case Ms:return x=Yp(x,g.mode,w),x.return=g,x;case Da:var j=x._init;return f(g,j(x._payload),w)}if(Ol(x)||ul(x))return x=Xi(x,g.mode,w,null),x.return=g,x;ed(g,x)}return null}function h(g,x,w,j){var k=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:o(g,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vu:return w.key===k?c(g,x,w,j):null;case Ms:return w.key===k?u(g,x,w,j):null;case Da:return k=w._init,h(g,x,k(w._payload),j)}if(Ol(w)||ul(w))return k!==null?null:d(g,x,w,j,null);ed(g,w)}return null}function m(g,x,w,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(w)||null,o(x,g,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Vu:return g=g.get(j.key===null?w:j.key)||null,c(x,g,j,k);case Ms:return g=g.get(j.key===null?w:j.key)||null,u(x,g,j,k);case Da:var _=j._init;return m(g,x,w,_(j._payload),k)}if(Ol(j)||ul(j))return g=g.get(w)||null,d(x,g,j,k,null);ed(x,j)}return null}function p(g,x,w,j){for(var k=null,_=null,N=x,S=x=0,E=null;N!==null&&S<w.length;S++){N.index>S?(E=N,N=null):E=N.sibling;var T=h(g,N,w[S],j);if(T===null){N===null&&(N=E);break}e&&N&&T.alternate===null&&t(g,N),x=i(T,x,S),_===null?k=T:_.sibling=T,_=T,N=E}if(S===w.length)return r(g,N),Ue&&Ni(g,S),k;if(N===null){for(;S<w.length;S++)N=f(g,w[S],j),N!==null&&(x=i(N,x,S),_===null?k=N:_.sibling=N,_=N);return Ue&&Ni(g,S),k}for(N=n(g,N);S<w.length;S++)E=m(N,g,S,w[S],j),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?S:E.key),x=i(E,x,S),_===null?k=E:_.sibling=E,_=E);return e&&N.forEach(function(O){return t(g,O)}),Ue&&Ni(g,S),k}function y(g,x,w,j){var k=ul(w);if(typeof k!="function")throw Error(G(150));if(w=k.call(w),w==null)throw Error(G(151));for(var _=k=null,N=x,S=x=0,E=null,T=w.next();N!==null&&!T.done;S++,T=w.next()){N.index>S?(E=N,N=null):E=N.sibling;var O=h(g,N,T.value,j);if(O===null){N===null&&(N=E);break}e&&N&&O.alternate===null&&t(g,N),x=i(O,x,S),_===null?k=O:_.sibling=O,_=O,N=E}if(T.done)return r(g,N),Ue&&Ni(g,S),k;if(N===null){for(;!T.done;S++,T=w.next())T=f(g,T.value,j),T!==null&&(x=i(T,x,S),_===null?k=T:_.sibling=T,_=T);return Ue&&Ni(g,S),k}for(N=n(g,N);!T.done;S++,T=w.next())T=m(N,g,S,T.value,j),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?S:T.key),x=i(T,x,S),_===null?k=T:_.sibling=T,_=T);return e&&N.forEach(function(C){return t(g,C)}),Ue&&Ni(g,S),k}function v(g,x,w,j){if(typeof w=="object"&&w!==null&&w.type===Is&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Vu:e:{for(var k=w.key,_=x;_!==null;){if(_.key===k){if(k=w.type,k===Is){if(_.tag===7){r(g,_.sibling),x=a(_,w.props.children),x.return=g,g=x;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Da&&j1(k)===_.type){r(g,_.sibling),x=a(_,w.props),x.ref=pl(g,_,w),x.return=g,g=x;break e}r(g,_);break}else t(g,_);_=_.sibling}w.type===Is?(x=Xi(w.props.children,g.mode,j,w.key),x.return=g,g=x):(j=Wd(w.type,w.key,w.props,null,g.mode,j),j.ref=pl(g,x,w),j.return=g,g=j)}return s(g);case Ms:e:{for(_=w.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(g,x.sibling),x=a(x,w.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=Yp(w,g.mode,j),x.return=g,g=x}return s(g);case Da:return _=w._init,v(g,x,_(w._payload),j)}if(Ol(w))return p(g,x,w,j);if(ul(w))return y(g,x,w,j);ed(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(g,x.sibling),x=a(x,w),x.return=g,g=x):(r(g,x),x=qp(w,g.mode,j),x.return=g,g=x),s(g)):r(g,x)}return v}var bo=G2(!0),Q2=G2(!1),wf=yi(null),jf=null,Us=null,Pv=null;function Cv(){Pv=Us=jf=null}function Ov(e){var t=wf.current;ze(wf),e._currentValue=t}function cy(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Js(e,t){jf=e,Pv=Us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(or=!0),e.firstContext=null)}function Kr(e){var t=e._currentValue;if(Pv!==e)if(e={context:e,memoizedValue:t,next:null},Us===null){if(jf===null)throw Error(G(308));Us=e,jf.dependencies={lanes:0,firstContext:e}}else Us=Us.next=e;return t}var Ti=null;function Av(e){Ti===null?Ti=[e]:Ti.push(e)}function Z2(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Av(t)):(r.next=a.next,a.next=r),t.interleaved=r,pa(e,n)}function pa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ra=!1;function Tv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ni(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,pa(e,r)}return a=n.interleaved,a===null?(t.next=t,Av(n)):(t.next=a.next,a.next=t),n.interleaved=t,pa(e,r)}function zd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yv(e,r)}}function k1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function kf(e,t,r,n){var a=e.updateQueue;Ra=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,o=i;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,y=o;switch(h=t,m=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Ge({},f,h);break e;case 2:Ra=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);is|=s,e.lanes=s,e.memoizedState=f}}function N1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(G(191,a));a.call(n)}}}var Xc={},Rn=yi(Xc),uc=yi(Xc),dc=yi(Xc);function Mi(e){if(e===Xc)throw Error(G(174));return e}function Mv(e,t){switch(Re(dc,t),Re(uc,e),Re(Rn,Xc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vg(t,e)}ze(Rn),Re(Rn,t)}function wo(){ze(Rn),ze(uc),ze(dc)}function eE(e){Mi(dc.current);var t=Mi(Rn.current),r=Vg(t,e.type);t!==r&&(Re(uc,e),Re(Rn,r))}function Iv(e){uc.current===e&&(ze(Rn),ze(uc))}var qe=yi(0);function Nf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bp=[];function Dv(){for(var e=0;e<Bp.length;e++)Bp[e]._workInProgressVersionPrimary=null;Bp.length=0}var Fd=_a.ReactCurrentDispatcher,Up=_a.ReactCurrentBatchConfig,as=0,Ye=null,dt=null,Nt=null,_f=!1,Kl=!1,fc=0,i5=0;function Dt(){throw Error(G(321))}function Rv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!vn(e[r],t[r]))return!1;return!0}function Lv(e,t,r,n,a,i){if(as=i,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fd.current=e===null||e.memoizedState===null?c5:u5,e=r(n,a),Kl){i=0;do{if(Kl=!1,fc=0,25<=i)throw Error(G(301));i+=1,Nt=dt=null,t.updateQueue=null,Fd.current=d5,e=r(n,a)}while(Kl)}if(Fd.current=Sf,t=dt!==null&&dt.next!==null,as=0,Nt=dt=Ye=null,_f=!1,t)throw Error(G(300));return e}function $v(){var e=fc!==0;return fc=0,e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ye.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function qr(){if(dt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=Nt===null?Ye.memoizedState:Nt.next;if(t!==null)Nt=t,dt=e;else{if(e===null)throw Error(G(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Nt===null?Ye.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function hc(e,t){return typeof t=="function"?t(e):t}function Vp(e){var t=qr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=dt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,c=null,u=i;do{var d=u.lane;if((as&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,Ye.lanes|=d,is|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=o,vn(n,t.memoizedState)||(or=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ye.lanes|=i,is|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hp(e){var t=qr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);vn(i,t.memoizedState)||(or=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function tE(){}function rE(e,t){var r=Ye,n=qr(),a=t(),i=!vn(n.memoizedState,a);if(i&&(n.memoizedState=a,or=!0),n=n.queue,zv(iE.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,mc(9,aE.bind(null,r,n,a,t),void 0,null),_t===null)throw Error(G(349));as&30||nE(r,t,a)}return a}function nE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function aE(e,t,r,n){t.value=r,t.getSnapshot=n,sE(t)&&oE(e)}function iE(e,t,r){return r(function(){sE(t)&&oE(e)})}function sE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vn(e,r)}catch{return!0}}function oE(e){var t=pa(e,1);t!==null&&gn(t,e,1,-1)}function _1(e){var t=Pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:e},t.queue=e,e=e.dispatch=l5.bind(null,Ye,e),[t.memoizedState,e]}function mc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function lE(){return qr().memoizedState}function Bd(e,t,r,n){var a=Pn();Ye.flags|=e,a.memoizedState=mc(1|t,r,void 0,n===void 0?null:n)}function Kh(e,t,r,n){var a=qr();n=n===void 0?null:n;var i=void 0;if(dt!==null){var s=dt.memoizedState;if(i=s.destroy,n!==null&&Rv(n,s.deps)){a.memoizedState=mc(t,r,i,n);return}}Ye.flags|=e,a.memoizedState=mc(1|t,r,i,n)}function S1(e,t){return Bd(8390656,8,e,t)}function zv(e,t){return Kh(2048,8,e,t)}function cE(e,t){return Kh(4,2,e,t)}function uE(e,t){return Kh(4,4,e,t)}function dE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fE(e,t,r){return r=r!=null?r.concat([e]):null,Kh(4,4,dE.bind(null,t,e),r)}function Fv(){}function hE(e,t){var r=qr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mE(e,t){var r=qr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function pE(e,t,r){return as&21?(vn(r,t)||(r=b2(),Ye.lanes|=r,is|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,or=!0),e.memoizedState=r)}function s5(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=Up.transition;Up.transition={};try{e(!1),t()}finally{Ae=r,Up.transition=n}}function gE(){return qr().memoizedState}function o5(e,t,r){var n=ii(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yE(e))vE(t,r);else if(r=Z2(e,t,r,n),r!==null){var a=Xt();gn(r,e,n,a),xE(r,t,n)}}function l5(e,t,r){var n=ii(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yE(e))vE(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,vn(o,s)){var c=t.interleaved;c===null?(a.next=a,Av(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Z2(e,t,a,n),r!==null&&(a=Xt(),gn(r,e,n,a),xE(r,t,n))}}function yE(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function vE(e,t){Kl=_f=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function xE(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yv(e,r)}}var Sf={readContext:Kr,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},c5={readContext:Kr,useCallback:function(e,t){return Pn().memoizedState=[e,t===void 0?null:t],e},useContext:Kr,useEffect:S1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bd(4194308,4,dE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bd(4,2,e,t)},useMemo:function(e,t){var r=Pn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Pn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=o5.bind(null,Ye,e),[n.memoizedState,e]},useRef:function(e){var t=Pn();return e={current:e},t.memoizedState=e},useState:_1,useDebugValue:Fv,useDeferredValue:function(e){return Pn().memoizedState=e},useTransition:function(){var e=_1(!1),t=e[0];return e=s5.bind(null,e[1]),Pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ye,a=Pn();if(Ue){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),_t===null)throw Error(G(349));as&30||nE(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,S1(iE.bind(null,n,i,e),[e]),n.flags|=2048,mc(9,aE.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Pn(),t=_t.identifierPrefix;if(Ue){var r=ia,n=aa;r=(n&~(1<<32-pn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=i5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},u5={readContext:Kr,useCallback:hE,useContext:Kr,useEffect:zv,useImperativeHandle:fE,useInsertionEffect:cE,useLayoutEffect:uE,useMemo:mE,useReducer:Vp,useRef:lE,useState:function(){return Vp(hc)},useDebugValue:Fv,useDeferredValue:function(e){var t=qr();return pE(t,dt.memoizedState,e)},useTransition:function(){var e=Vp(hc)[0],t=qr().memoizedState;return[e,t]},useMutableSource:tE,useSyncExternalStore:rE,useId:gE,unstable_isNewReconciler:!1},d5={readContext:Kr,useCallback:hE,useContext:Kr,useEffect:zv,useImperativeHandle:fE,useInsertionEffect:cE,useLayoutEffect:uE,useMemo:mE,useReducer:Hp,useRef:lE,useState:function(){return Hp(hc)},useDebugValue:Fv,useDeferredValue:function(e){var t=qr();return dt===null?t.memoizedState=e:pE(t,dt.memoizedState,e)},useTransition:function(){var e=Hp(hc)[0],t=qr().memoizedState;return[e,t]},useMutableSource:tE,useSyncExternalStore:rE,useId:gE,unstable_isNewReconciler:!1};function tn(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function uy(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ge({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qh={isMounted:function(e){return(e=e._reactInternals)?ws(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xt(),a=ii(e),i=ca(n,a);i.payload=t,r!=null&&(i.callback=r),t=ni(e,i,a),t!==null&&(gn(t,e,a,n),zd(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xt(),a=ii(e),i=ca(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ni(e,i,a),t!==null&&(gn(t,e,a,n),zd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xt(),n=ii(e),a=ca(r,n);a.tag=2,t!=null&&(a.callback=t),t=ni(e,a,n),t!==null&&(gn(t,e,n,r),zd(t,e,n))}};function E1(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!sc(r,n)||!sc(a,i):!0}function bE(e,t,r){var n=!1,a=di,i=t.contextType;return typeof i=="object"&&i!==null?i=Kr(i):(a=fr(t)?rs:Bt.current,n=t.contextTypes,i=(n=n!=null)?vo(e,a):di),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function P1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&qh.enqueueReplaceState(t,t.state,null)}function dy(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Tv(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Kr(i):(i=fr(t)?rs:Bt.current,a.context=vo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(uy(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&qh.enqueueReplaceState(a,a.state,null),kf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function jo(e,t){try{var r="",n=t;do r+=z4(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Wp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fy(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var f5=typeof WeakMap=="function"?WeakMap:Map;function wE(e,t,r){r=ca(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Pf||(Pf=!0,jy=n),fy(e,t)},r}function jE(e,t,r){r=ca(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){fy(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){fy(e,t),typeof n!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function C1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new f5;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=S5.bind(null,e,t,r),t.then(e,e))}function O1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function A1(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ca(-1,1),t.tag=2,ni(r,t,1))),r.lanes|=1),e)}var h5=_a.ReactCurrentOwner,or=!1;function Kt(e,t,r,n){t.child=e===null?Q2(t,null,r,n):bo(t,e.child,r,n)}function T1(e,t,r,n,a){r=r.render;var i=t.ref;return Js(t,a),n=Lv(e,t,r,n,i,a),r=$v(),e!==null&&!or?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ga(e,t,a)):(Ue&&r&&_v(t),t.flags|=1,Kt(e,t,n,a),t.child)}function M1(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Yv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,kE(e,t,i,n,a)):(e=Wd(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:sc,r(s,n)&&e.ref===t.ref)return ga(e,t,a)}return t.flags|=1,e=si(i,n),e.ref=t.ref,e.return=t,t.child=e}function kE(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(sc(i,n)&&e.ref===t.ref)if(or=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(or=!0);else return t.lanes=e.lanes,ga(e,t,a)}return hy(e,t,r,n,a)}function NE(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Hs,vr),vr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(Hs,vr),vr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Re(Hs,vr),vr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Re(Hs,vr),vr|=n;return Kt(e,t,a,r),t.child}function _E(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function hy(e,t,r,n,a){var i=fr(r)?rs:Bt.current;return i=vo(t,i),Js(t,a),r=Lv(e,t,r,n,i,a),n=$v(),e!==null&&!or?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ga(e,t,a)):(Ue&&n&&_v(t),t.flags|=1,Kt(e,t,r,a),t.child)}function I1(e,t,r,n,a){if(fr(r)){var i=!0;vf(t)}else i=!1;if(Js(t,a),t.stateNode===null)Ud(e,t),bE(t,r,n),dy(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Kr(u):(u=fr(r)?rs:Bt.current,u=vo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&P1(t,s,n,u),Ra=!1;var h=t.memoizedState;s.state=h,kf(t,n,s,a),c=t.memoizedState,o!==n||h!==c||dr.current||Ra?(typeof d=="function"&&(uy(t,r,d,n),c=t.memoizedState),(o=Ra||E1(t,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,J2(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:tn(t.type,o),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Kr(c):(c=fr(r)?rs:Bt.current,c=vo(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&P1(t,s,n,c),Ra=!1,h=t.memoizedState,s.state=h,kf(t,n,s,a);var p=t.memoizedState;o!==f||h!==p||dr.current||Ra?(typeof m=="function"&&(uy(t,r,m,n),p=t.memoizedState),(u=Ra||E1(t,r,u,n,h,p,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return my(e,t,r,n,i,a)}function my(e,t,r,n,a,i){_E(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&x1(t,r,!1),ga(e,t,i);n=t.stateNode,h5.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=bo(t,e.child,null,i),t.child=bo(t,null,o,i)):Kt(e,t,o,i),t.memoizedState=n.state,a&&x1(t,r,!0),t.child}function SE(e){var t=e.stateNode;t.pendingContext?v1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&v1(e,t.context,!1),Mv(e,t.containerInfo)}function D1(e,t,r,n,a){return xo(),Ev(a),t.flags|=256,Kt(e,t,r,n),t.child}var py={dehydrated:null,treeContext:null,retryLane:0};function gy(e){return{baseLanes:e,cachePool:null,transitions:null}}function EE(e,t,r){var n=t.pendingProps,a=qe.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Re(qe,a&1),e===null)return ly(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Gh(s,n,0,null),e=Xi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=gy(r),t.memoizedState=py,e):Bv(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return m5(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=si(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=si(o,i):(i=Xi(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?gy(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=py,n}return i=e.child,e=i.sibling,n=si(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Bv(e,t){return t=Gh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function td(e,t,r,n){return n!==null&&Ev(n),bo(t,e.child,null,r),e=Bv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m5(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=Wp(Error(G(422))),td(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Gh({mode:"visible",children:n.children},a,0,null),i=Xi(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&bo(t,e.child,null,s),t.child.memoizedState=gy(s),t.memoizedState=py,i);if(!(t.mode&1))return td(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(G(419)),n=Wp(i,n,void 0),td(e,t,s,n)}if(o=(s&e.childLanes)!==0,or||o){if(n=_t,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,pa(e,a),gn(n,e,a,-1))}return qv(),n=Wp(Error(G(421))),td(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=E5.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,jr=ri(a.nextSibling),_r=t,Ue=!0,on=null,e!==null&&(Br[Ur++]=aa,Br[Ur++]=ia,Br[Ur++]=ns,aa=e.id,ia=e.overflow,ns=t),t=Bv(t,n.children),t.flags|=4096,t)}function R1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),cy(e.return,t,r)}function Kp(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function PE(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Kt(e,t,n.children,r),n=qe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&R1(e,r,t);else if(e.tag===19)R1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Re(qe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Nf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Kp(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Nf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Kp(t,!0,r,null,i);break;case"together":Kp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ud(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ga(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),is|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=si(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=si(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function p5(e,t,r){switch(t.tag){case 3:SE(t),xo();break;case 5:eE(t);break;case 1:fr(t.type)&&vf(t);break;case 4:Mv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Re(wf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Re(qe,qe.current&1),t.flags|=128,null):r&t.child.childLanes?EE(e,t,r):(Re(qe,qe.current&1),e=ga(e,t,r),e!==null?e.sibling:null);Re(qe,qe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return PE(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Re(qe,qe.current),n)break;return null;case 22:case 23:return t.lanes=0,NE(e,t,r)}return ga(e,t,r)}var CE,yy,OE,AE;CE=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yy=function(){};OE=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Mi(Rn.current);var i=null;switch(r){case"input":a=zg(e,a),n=zg(e,n),i=[];break;case"select":a=Ge({},a,{value:void 0}),n=Ge({},n,{value:void 0}),i=[];break;case"textarea":a=Ug(e,a),n=Ug(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gf)}Hg(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Le("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};AE=function(e,t,r,n){r!==n&&(t.flags|=4)};function gl(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function g5(e,t,r){var n=t.pendingProps;switch(Sv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return fr(t.type)&&yf(),Rt(t),null;case 3:return n=t.stateNode,wo(),ze(dr),ze(Bt),Dv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ju(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,on!==null&&(_y(on),on=null))),yy(e,t),Rt(t),null;case 5:Iv(t);var a=Mi(dc.current);if(r=t.type,e!==null&&t.stateNode!=null)OE(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Rt(t),null}if(e=Mi(Rn.current),Ju(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Mn]=t,n[cc]=i,e=(t.mode&1)!==0,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Le(Tl[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Ww(n,i),Le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Le("invalid",n);break;case"textarea":qw(n,i),Le("invalid",n)}Hg(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Zu(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Zu(n.textContent,o,e),a=["children",""+o]):Jl.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Le("scroll",n)}switch(r){case"input":Hu(n),Kw(n,i,!0);break;case"textarea":Hu(n),Yw(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=gf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=i2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Mn]=t,e[cc]=n,CE(e,t,!1,!1),t.stateNode=e;e:{switch(s=Wg(r,n),r){case"dialog":Le("cancel",e),Le("close",e),a=n;break;case"iframe":case"object":case"embed":Le("load",e),a=n;break;case"video":case"audio":for(a=0;a<Tl.length;a++)Le(Tl[a],e);a=n;break;case"source":Le("error",e),a=n;break;case"img":case"image":case"link":Le("error",e),Le("load",e),a=n;break;case"details":Le("toggle",e),a=n;break;case"input":Ww(e,n),a=zg(e,n),Le("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ge({},n,{value:void 0}),Le("invalid",e);break;case"textarea":qw(e,n),a=Ug(e,n),Le("invalid",e);break;default:a=n}Hg(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?l2(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&s2(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ec(e,c):typeof c=="number"&&ec(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Le("scroll",e):c!=null&&dv(e,i,c,s))}switch(r){case"input":Hu(e),Kw(e,n,!1);break;case"textarea":Hu(e),Yw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ui(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Xs(e,!!n.multiple,i,!1):n.defaultValue!=null&&Xs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=gf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)AE(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=Mi(dc.current),Mi(Rn.current),Ju(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mn]=t,(i=n.nodeValue!==r)&&(e=_r,e!==null))switch(e.tag){case 3:Zu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mn]=t,t.stateNode=n}return Rt(t),null;case 13:if(ze(qe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&jr!==null&&t.mode&1&&!(t.flags&128))X2(),xo(),t.flags|=98560,i=!1;else if(i=Ju(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Mn]=t}else xo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),i=!1}else on!==null&&(_y(on),on=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?ht===0&&(ht=3):qv())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return wo(),yy(e,t),e===null&&oc(t.stateNode.containerInfo),Rt(t),null;case 10:return Ov(t.type._context),Rt(t),null;case 17:return fr(t.type)&&yf(),Rt(t),null;case 19:if(ze(qe),i=t.memoizedState,i===null)return Rt(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)gl(i,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Nf(e),s!==null){for(t.flags|=128,gl(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re(qe,qe.current&1|2),t.child}e=e.sibling}i.tail!==null&&tt()>ko&&(t.flags|=128,n=!0,gl(i,!1),t.lanes=4194304)}else{if(!n)if(e=Nf(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ue)return Rt(t),null}else 2*tt()-i.renderingStartTime>ko&&r!==1073741824&&(t.flags|=128,n=!0,gl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=tt(),t.sibling=null,r=qe.current,Re(qe,n?r&1|2:r&1),t):(Rt(t),null);case 22:case 23:return Kv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vr&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function y5(e,t){switch(Sv(t),t.tag){case 1:return fr(t.type)&&yf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wo(),ze(dr),ze(Bt),Dv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Iv(t),null;case 13:if(ze(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));xo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(qe),null;case 4:return wo(),null;case 10:return Ov(t.type._context),null;case 22:case 23:return Kv(),null;case 24:return null;default:return null}}var rd=!1,$t=!1,v5=typeof WeakSet=="function"?WeakSet:Set,se=null;function Vs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Je(e,t,n)}else r.current=null}function vy(e,t,r){try{r()}catch(n){Je(e,t,n)}}var L1=!1;function x5(e,t){if(ty=hf,e=R2(),Nv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(o=s),h===i&&++d===n&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ry={focusedElem:e,selectionRange:r},hf=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,v=p.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:tn(t.type,y),v);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){Je(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return p=L1,L1=!1,p}function ql(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&vy(t,r,i)}a=a.next}while(a!==n)}}function Yh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xy(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function TE(e){var t=e.alternate;t!==null&&(e.alternate=null,TE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mn],delete t[cc],delete t[iy],delete t[t5],delete t[r5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ME(e){return e.tag===5||e.tag===3||e.tag===4}function $1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ME(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function by(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gf));else if(n!==4&&(e=e.child,e!==null))for(by(e,t,r),e=e.sibling;e!==null;)by(e,t,r),e=e.sibling}function wy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(wy(e,t,r),e=e.sibling;e!==null;)wy(e,t,r),e=e.sibling}var Ot=null,an=!1;function Aa(e,t,r){for(r=r.child;r!==null;)IE(e,t,r),r=r.sibling}function IE(e,t,r){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(Fh,r)}catch{}switch(r.tag){case 5:$t||Vs(r,t);case 6:var n=Ot,a=an;Ot=null,Aa(e,t,r),Ot=n,an=a,Ot!==null&&(an?(e=Ot,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ot.removeChild(r.stateNode));break;case 18:Ot!==null&&(an?(e=Ot,r=r.stateNode,e.nodeType===8?zp(e.parentNode,r):e.nodeType===1&&zp(e,r),ac(e)):zp(Ot,r.stateNode));break;case 4:n=Ot,a=an,Ot=r.stateNode.containerInfo,an=!0,Aa(e,t,r),Ot=n,an=a;break;case 0:case 11:case 14:case 15:if(!$t&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&vy(r,t,s),a=a.next}while(a!==n)}Aa(e,t,r);break;case 1:if(!$t&&(Vs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Je(r,t,o)}Aa(e,t,r);break;case 21:Aa(e,t,r);break;case 22:r.mode&1?($t=(n=$t)||r.memoizedState!==null,Aa(e,t,r),$t=n):Aa(e,t,r);break;default:Aa(e,t,r)}}function z1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new v5),t.forEach(function(n){var a=P5.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function en(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ot=o.stateNode,an=!1;break e;case 3:Ot=o.stateNode.containerInfo,an=!0;break e;case 4:Ot=o.stateNode.containerInfo,an=!0;break e}o=o.return}if(Ot===null)throw Error(G(160));IE(i,s,a),Ot=null,an=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Je(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)DE(t,e),t=t.sibling}function DE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(t,e),_n(e),n&4){try{ql(3,e,e.return),Yh(3,e)}catch(y){Je(e,e.return,y)}try{ql(5,e,e.return)}catch(y){Je(e,e.return,y)}}break;case 1:en(t,e),_n(e),n&512&&r!==null&&Vs(r,r.return);break;case 5:if(en(t,e),_n(e),n&512&&r!==null&&Vs(r,r.return),e.flags&32){var a=e.stateNode;try{ec(a,"")}catch(y){Je(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&n2(a,i),Wg(o,s);var u=Wg(o,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?l2(a,f):d==="dangerouslySetInnerHTML"?s2(a,f):d==="children"?ec(a,f):dv(a,d,f,u)}switch(o){case"input":Fg(a,i);break;case"textarea":a2(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Xs(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Xs(a,!!i.multiple,i.defaultValue,!0):Xs(a,!!i.multiple,i.multiple?[]:"",!1))}a[cc]=i}catch(y){Je(e,e.return,y)}}break;case 6:if(en(t,e),_n(e),n&4){if(e.stateNode===null)throw Error(G(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){Je(e,e.return,y)}}break;case 3:if(en(t,e),_n(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ac(t.containerInfo)}catch(y){Je(e,e.return,y)}break;case 4:en(t,e),_n(e);break;case 13:en(t,e),_n(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Hv=tt())),n&4&&z1(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?($t=(u=$t)||d,en(t,e),$t=u):en(t,e),_n(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,m=h.child,h.tag){case 0:case 11:case 14:case 15:ql(4,h,h.return);break;case 1:Vs(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){Je(n,r,y)}}break;case 5:Vs(h,h.return);break;case 22:if(h.memoizedState!==null){B1(f);continue}}m!==null?(m.return=h,se=m):B1(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=o2("display",s))}catch(y){Je(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Je(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:en(t,e),_n(e),n&4&&z1(e);break;case 21:break;default:en(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ME(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ec(a,""),n.flags&=-33);var i=$1(e);wy(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=$1(e);by(e,o,s);break;default:throw Error(G(161))}}catch(c){Je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b5(e,t,r){se=e,RE(e)}function RE(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var a=se,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||rd;if(!s){var o=a.alternate,c=o!==null&&o.memoizedState!==null||$t;o=rd;var u=$t;if(rd=s,($t=c)&&!u)for(se=a;se!==null;)s=se,c=s.child,s.tag===22&&s.memoizedState!==null?U1(a):c!==null?(c.return=s,se=c):U1(a);for(;i!==null;)se=i,RE(i),i=i.sibling;se=a,rd=o,$t=u}F1(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,se=i):F1(e)}}function F1(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$t||Yh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$t)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:tn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&N1(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}N1(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ac(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}$t||t.flags&512&&xy(t)}catch(h){Je(t,t.return,h)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function B1(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function U1(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Yh(4,t)}catch(c){Je(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Je(t,a,c)}}var i=t.return;try{xy(t)}catch(c){Je(t,i,c)}break;case 5:var s=t.return;try{xy(t)}catch(c){Je(t,s,c)}}}catch(c){Je(t,t.return,c)}if(t===e){se=null;break}var o=t.sibling;if(o!==null){o.return=t.return,se=o;break}se=t.return}}var w5=Math.ceil,Ef=_a.ReactCurrentDispatcher,Uv=_a.ReactCurrentOwner,Wr=_a.ReactCurrentBatchConfig,we=0,_t=null,st=null,Mt=0,vr=0,Hs=yi(0),ht=0,pc=null,is=0,Xh=0,Vv=0,Yl=null,sr=null,Hv=0,ko=1/0,Qn=null,Pf=!1,jy=null,ai=null,nd=!1,Za=null,Cf=0,Xl=0,ky=null,Vd=-1,Hd=0;function Xt(){return we&6?tt():Vd!==-1?Vd:Vd=tt()}function ii(e){return e.mode&1?we&2&&Mt!==0?Mt&-Mt:a5.transition!==null?(Hd===0&&(Hd=b2()),Hd):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:E2(e.type)),e):1}function gn(e,t,r,n){if(50<Xl)throw Xl=0,ky=null,Error(G(185));Kc(e,r,n),(!(we&2)||e!==_t)&&(e===_t&&(!(we&2)&&(Xh|=r),ht===4&&Fa(e,Mt)),hr(e,n),r===1&&we===0&&!(t.mode&1)&&(ko=tt()+500,Wh&&vi()))}function hr(e,t){var r=e.callbackNode;aR(e,t);var n=ff(e,e===_t?Mt:0);if(n===0)r!==null&&Qw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Qw(r),t===1)e.tag===0?n5(V1.bind(null,e)):K2(V1.bind(null,e)),JR(function(){!(we&6)&&vi()}),r=null;else{switch(w2(n)){case 1:r=gv;break;case 4:r=v2;break;case 16:r=df;break;case 536870912:r=x2;break;default:r=df}r=HE(r,LE.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function LE(e,t){if(Vd=-1,Hd=0,we&6)throw Error(G(327));var r=e.callbackNode;if(eo()&&e.callbackNode!==r)return null;var n=ff(e,e===_t?Mt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Of(e,n);else{t=n;var a=we;we|=2;var i=zE();(_t!==e||Mt!==t)&&(Qn=null,ko=tt()+500,Yi(e,t));do try{N5();break}catch(o){$E(e,o)}while(!0);Cv(),Ef.current=i,we=a,st!==null?t=0:(_t=null,Mt=0,t=ht)}if(t!==0){if(t===2&&(a=Gg(e),a!==0&&(n=a,t=Ny(e,a))),t===1)throw r=pc,Yi(e,0),Fa(e,n),hr(e,tt()),r;if(t===6)Fa(e,n);else{if(a=e.current.alternate,!(n&30)&&!j5(a)&&(t=Of(e,n),t===2&&(i=Gg(e),i!==0&&(n=i,t=Ny(e,i))),t===1))throw r=pc,Yi(e,0),Fa(e,n),hr(e,tt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:_i(e,sr,Qn);break;case 3:if(Fa(e,n),(n&130023424)===n&&(t=Hv+500-tt(),10<t)){if(ff(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Xt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ay(_i.bind(null,e,sr,Qn),t);break}_i(e,sr,Qn);break;case 4:if(Fa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-pn(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*w5(n/1960))-n,10<n){e.timeoutHandle=ay(_i.bind(null,e,sr,Qn),n);break}_i(e,sr,Qn);break;case 5:_i(e,sr,Qn);break;default:throw Error(G(329))}}}return hr(e,tt()),e.callbackNode===r?LE.bind(null,e):null}function Ny(e,t){var r=Yl;return e.current.memoizedState.isDehydrated&&(Yi(e,t).flags|=256),e=Of(e,t),e!==2&&(t=sr,sr=r,t!==null&&_y(t)),e}function _y(e){sr===null?sr=e:sr.push.apply(sr,e)}function j5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!vn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fa(e,t){for(t&=~Vv,t&=~Xh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-pn(t),n=1<<r;e[r]=-1,t&=~n}}function V1(e){if(we&6)throw Error(G(327));eo();var t=ff(e,0);if(!(t&1))return hr(e,tt()),null;var r=Of(e,t);if(e.tag!==0&&r===2){var n=Gg(e);n!==0&&(t=n,r=Ny(e,n))}if(r===1)throw r=pc,Yi(e,0),Fa(e,t),hr(e,tt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_i(e,sr,Qn),hr(e,tt()),null}function Wv(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(ko=tt()+500,Wh&&vi())}}function ss(e){Za!==null&&Za.tag===0&&!(we&6)&&eo();var t=we;we|=1;var r=Wr.transition,n=Ae;try{if(Wr.transition=null,Ae=1,e)return e()}finally{Ae=n,Wr.transition=r,we=t,!(we&6)&&vi()}}function Kv(){vr=Hs.current,ze(Hs)}function Yi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ZR(r)),st!==null)for(r=st.return;r!==null;){var n=r;switch(Sv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&yf();break;case 3:wo(),ze(dr),ze(Bt),Dv();break;case 5:Iv(n);break;case 4:wo();break;case 13:ze(qe);break;case 19:ze(qe);break;case 10:Ov(n.type._context);break;case 22:case 23:Kv()}r=r.return}if(_t=e,st=e=si(e.current,null),Mt=vr=t,ht=0,pc=null,Vv=Xh=is=0,sr=Yl=null,Ti!==null){for(t=0;t<Ti.length;t++)if(r=Ti[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Ti=null}return e}function $E(e,t){do{var r=st;try{if(Cv(),Fd.current=Sf,_f){for(var n=Ye.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}_f=!1}if(as=0,Nt=dt=Ye=null,Kl=!1,fc=0,Uv.current=null,r===null||r.return===null){ht=1,pc=t,st=null;break}e:{var i=e,s=r.return,o=r,c=t;if(t=Mt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=O1(s);if(m!==null){m.flags&=-257,A1(m,s,o,i,t),m.mode&1&&C1(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){C1(i,u,t),qv();break e}c=Error(G(426))}}else if(Ue&&o.mode&1){var v=O1(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),A1(v,s,o,i,t),Ev(jo(c,o));break e}}i=c=jo(c,o),ht!==4&&(ht=2),Yl===null?Yl=[i]:Yl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=wE(i,c,t);k1(i,g);break e;case 1:o=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ai===null||!ai.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=jE(i,o,t);k1(i,j);break e}}i=i.return}while(i!==null)}BE(r)}catch(k){t=k,st===r&&r!==null&&(st=r=r.return);continue}break}while(!0)}function zE(){var e=Ef.current;return Ef.current=Sf,e===null?Sf:e}function qv(){(ht===0||ht===3||ht===2)&&(ht=4),_t===null||!(is&268435455)&&!(Xh&268435455)||Fa(_t,Mt)}function Of(e,t){var r=we;we|=2;var n=zE();(_t!==e||Mt!==t)&&(Qn=null,Yi(e,t));do try{k5();break}catch(a){$E(e,a)}while(!0);if(Cv(),we=r,Ef.current=n,st!==null)throw Error(G(261));return _t=null,Mt=0,ht}function k5(){for(;st!==null;)FE(st)}function N5(){for(;st!==null&&!X4();)FE(st)}function FE(e){var t=VE(e.alternate,e,vr);e.memoizedProps=e.pendingProps,t===null?BE(e):st=t,Uv.current=null}function BE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=y5(r,t),r!==null){r.flags&=32767,st=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,st=null;return}}else if(r=g5(r,t,vr),r!==null){st=r;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);ht===0&&(ht=5)}function _i(e,t,r){var n=Ae,a=Wr.transition;try{Wr.transition=null,Ae=1,_5(e,t,r,n)}finally{Wr.transition=a,Ae=n}return null}function _5(e,t,r,n){do eo();while(Za!==null);if(we&6)throw Error(G(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(iR(e,i),e===_t&&(st=_t=null,Mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nd||(nd=!0,HE(df,function(){return eo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Wr.transition,Wr.transition=null;var s=Ae;Ae=1;var o=we;we|=4,Uv.current=null,x5(e,r),DE(r,e),WR(ry),hf=!!ty,ry=ty=null,e.current=r,b5(r),G4(),we=o,Ae=s,Wr.transition=i}else e.current=r;if(nd&&(nd=!1,Za=e,Cf=a),i=e.pendingLanes,i===0&&(ai=null),J4(r.stateNode),hr(e,tt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Pf)throw Pf=!1,e=jy,jy=null,e;return Cf&1&&e.tag!==0&&eo(),i=e.pendingLanes,i&1?e===ky?Xl++:(Xl=0,ky=e):Xl=0,vi(),null}function eo(){if(Za!==null){var e=w2(Cf),t=Wr.transition,r=Ae;try{if(Wr.transition=null,Ae=16>e?16:e,Za===null)var n=!1;else{if(e=Za,Za=null,Cf=0,we&6)throw Error(G(331));var a=we;for(we|=4,se=e.current;se!==null;){var i=se,s=i.child;if(se.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:ql(8,d,i)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,m=d.return;if(TE(d),d===u){se=null;break}if(h!==null){h.return=m,se=h;break}se=m}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}se=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,se=s;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ql(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,se=g;break e}se=i.return}}var x=e.current;for(se=x;se!==null;){s=se;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,se=w;else e:for(s=x;se!==null;){if(o=se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Yh(9,o)}}catch(k){Je(o,o.return,k)}if(o===s){se=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,se=j;break e}se=o.return}}if(we=a,vi(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(Fh,e)}catch{}n=!0}return n}finally{Ae=r,Wr.transition=t}}return!1}function H1(e,t,r){t=jo(r,t),t=wE(e,t,1),e=ni(e,t,1),t=Xt(),e!==null&&(Kc(e,1,t),hr(e,t))}function Je(e,t,r){if(e.tag===3)H1(e,e,r);else for(;t!==null;){if(t.tag===3){H1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ai===null||!ai.has(n))){e=jo(r,e),e=jE(t,e,1),t=ni(t,e,1),e=Xt(),t!==null&&(Kc(t,1,e),hr(t,e));break}}t=t.return}}function S5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xt(),e.pingedLanes|=e.suspendedLanes&r,_t===e&&(Mt&r)===r&&(ht===4||ht===3&&(Mt&130023424)===Mt&&500>tt()-Hv?Yi(e,0):Vv|=r),hr(e,t)}function UE(e,t){t===0&&(e.mode&1?(t=qu,qu<<=1,!(qu&130023424)&&(qu=4194304)):t=1);var r=Xt();e=pa(e,t),e!==null&&(Kc(e,t,r),hr(e,r))}function E5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),UE(e,r)}function P5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),UE(e,r)}var VE;VE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||dr.current)or=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return or=!1,p5(e,t,r);or=!!(e.flags&131072)}else or=!1,Ue&&t.flags&1048576&&q2(t,bf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ud(e,t),e=t.pendingProps;var a=vo(t,Bt.current);Js(t,r),a=Lv(null,t,n,e,a,r);var i=$v();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fr(n)?(i=!0,vf(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Tv(t),a.updater=qh,t.stateNode=a,a._reactInternals=t,dy(t,n,e,r),t=my(null,t,n,!0,i,r)):(t.tag=0,Ue&&i&&_v(t),Kt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ud(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=O5(n),e=tn(n,e),a){case 0:t=hy(null,t,n,e,r);break e;case 1:t=I1(null,t,n,e,r);break e;case 11:t=T1(null,t,n,e,r);break e;case 14:t=M1(null,t,n,tn(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tn(n,a),hy(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tn(n,a),I1(e,t,n,a,r);case 3:e:{if(SE(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,a=i.element,J2(e,t),kf(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=jo(Error(G(423)),t),t=D1(e,t,n,r,a);break e}else if(n!==a){a=jo(Error(G(424)),t),t=D1(e,t,n,r,a);break e}else for(jr=ri(t.stateNode.containerInfo.firstChild),_r=t,Ue=!0,on=null,r=Q2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xo(),n===a){t=ga(e,t,r);break e}Kt(e,t,n,r)}t=t.child}return t;case 5:return eE(t),e===null&&ly(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,ny(n,a)?s=null:i!==null&&ny(n,i)&&(t.flags|=32),_E(e,t),Kt(e,t,s,r),t.child;case 6:return e===null&&ly(t),null;case 13:return EE(e,t,r);case 4:return Mv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bo(t,null,n,r):Kt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tn(n,a),T1(e,t,n,a,r);case 7:return Kt(e,t,t.pendingProps,r),t.child;case 8:return Kt(e,t,t.pendingProps.children,r),t.child;case 12:return Kt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Re(wf,n._currentValue),n._currentValue=s,i!==null)if(vn(i.value,s)){if(i.children===a.children&&!dr.current){t=ga(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ca(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),cy(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(G(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),cy(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Kt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Js(t,r),a=Kr(a),n=n(a),t.flags|=1,Kt(e,t,n,r),t.child;case 14:return n=t.type,a=tn(n,t.pendingProps),a=tn(n.type,a),M1(e,t,n,a,r);case 15:return kE(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tn(n,a),Ud(e,t),t.tag=1,fr(n)?(e=!0,vf(t)):e=!1,Js(t,r),bE(t,n,a),dy(t,n,a,r),my(null,t,n,!0,e,r);case 19:return PE(e,t,r);case 22:return NE(e,t,r)}throw Error(G(156,t.tag))};function HE(e,t){return y2(e,t)}function C5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,r,n){return new C5(e,t,r,n)}function Yv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O5(e){if(typeof e=="function")return Yv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hv)return 11;if(e===mv)return 14}return 2}function si(e,t){var r=e.alternate;return r===null?(r=Vr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wd(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")Yv(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Is:return Xi(r.children,a,i,t);case fv:s=8,a|=8;break;case Dg:return e=Vr(12,r,t,a|2),e.elementType=Dg,e.lanes=i,e;case Rg:return e=Vr(13,r,t,a),e.elementType=Rg,e.lanes=i,e;case Lg:return e=Vr(19,r,t,a),e.elementType=Lg,e.lanes=i,e;case e2:return Gh(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ZS:s=10;break e;case JS:s=9;break e;case hv:s=11;break e;case mv:s=14;break e;case Da:s=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Vr(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Xi(e,t,r,n){return e=Vr(7,e,n,t),e.lanes=r,e}function Gh(e,t,r,n){return e=Vr(22,e,n,t),e.elementType=e2,e.lanes=r,e.stateNode={isHidden:!1},e}function qp(e,t,r){return e=Vr(6,e,null,t),e.lanes=r,e}function Yp(e,t,r){return t=Vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function A5(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pp(0),this.expirationTimes=Pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Xv(e,t,r,n,a,i,s,o,c){return e=new A5(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Vr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tv(i),e}function T5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ms,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function WE(e){if(!e)return di;e=e._reactInternals;e:{if(ws(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(fr(r))return W2(e,r,t)}return t}function KE(e,t,r,n,a,i,s,o,c){return e=Xv(r,n,!0,e,a,i,s,o,c),e.context=WE(null),r=e.current,n=Xt(),a=ii(r),i=ca(n,a),i.callback=t??null,ni(r,i,a),e.current.lanes=a,Kc(e,a,n),hr(e,n),e}function Qh(e,t,r,n){var a=t.current,i=Xt(),s=ii(a);return r=WE(r),t.context===null?t.context=r:t.pendingContext=r,t=ca(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ni(a,t,s),e!==null&&(gn(e,a,s,i),zd(e,a,s)),s}function Af(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function W1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gv(e,t){W1(e,t),(e=e.alternate)&&W1(e,t)}function M5(){return null}var qE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qv(e){this._internalRoot=e}Zh.prototype.render=Qv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Qh(e,t,null,null)};Zh.prototype.unmount=Qv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ss(function(){Qh(null,e,null,null)}),t[ma]=null}};function Zh(e){this._internalRoot=e}Zh.prototype.unstable_scheduleHydration=function(e){if(e){var t=N2();e={blockedOn:null,target:e,priority:t};for(var r=0;r<za.length&&t!==0&&t<za[r].priority;r++);za.splice(r,0,e),r===0&&S2(e)}};function Zv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function K1(){}function I5(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Af(s);i.call(u)}}var s=KE(t,n,e,0,null,!1,!1,"",K1);return e._reactRootContainer=s,e[ma]=s.current,oc(e.nodeType===8?e.parentNode:e),ss(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=Af(c);o.call(u)}}var c=Xv(e,0,!1,null,null,!1,!1,"",K1);return e._reactRootContainer=c,e[ma]=c.current,oc(e.nodeType===8?e.parentNode:e),ss(function(){Qh(t,c,r,n)}),c}function em(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var c=Af(s);o.call(c)}}Qh(t,s,e,a)}else s=I5(r,t,e,a,n);return Af(s)}j2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Al(t.pendingLanes);r!==0&&(yv(t,r|1),hr(t,tt()),!(we&6)&&(ko=tt()+500,vi()))}break;case 13:ss(function(){var n=pa(e,1);if(n!==null){var a=Xt();gn(n,e,1,a)}}),Gv(e,1)}};vv=function(e){if(e.tag===13){var t=pa(e,134217728);if(t!==null){var r=Xt();gn(t,e,134217728,r)}Gv(e,134217728)}};k2=function(e){if(e.tag===13){var t=ii(e),r=pa(e,t);if(r!==null){var n=Xt();gn(r,e,t,n)}Gv(e,t)}};N2=function(){return Ae};_2=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};qg=function(e,t,r){switch(t){case"input":if(Fg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Hh(n);if(!a)throw Error(G(90));r2(n),Fg(n,a)}}}break;case"textarea":a2(e,r);break;case"select":t=r.value,t!=null&&Xs(e,!!r.multiple,t,!1)}};d2=Wv;f2=ss;var D5={usingClientEntryPoint:!1,Events:[Yc,$s,Hh,c2,u2,Wv]},yl={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R5={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_a.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=p2(e),e===null?null:e.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||M5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{Fh=ad.inject(R5),Dn=ad}catch{}}Tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D5;Tr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zv(t))throw Error(G(200));return T5(e,t,null,r)};Tr.createRoot=function(e,t){if(!Zv(e))throw Error(G(299));var r=!1,n="",a=qE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Xv(e,1,!1,null,null,r,!1,n,a),e[ma]=t.current,oc(e.nodeType===8?e.parentNode:e),new Qv(t)};Tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=p2(t),e=e===null?null:e.stateNode,e};Tr.flushSync=function(e){return ss(e)};Tr.hydrate=function(e,t,r){if(!Jh(t))throw Error(G(200));return em(null,e,t,!0,r)};Tr.hydrateRoot=function(e,t,r){if(!Zv(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=qE;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=KE(t,null,e,1,r??null,a,!1,i,s),e[ma]=t.current,oc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Zh(t)};Tr.render=function(e,t,r){if(!Jh(t))throw Error(G(200));return em(null,e,t,!1,r)};Tr.unmountComponentAtNode=function(e){if(!Jh(e))throw Error(G(40));return e._reactRootContainer?(ss(function(){em(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0):!1};Tr.unstable_batchedUpdates=Wv;Tr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Jh(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return em(e,t,r,!1,n)};Tr.version="18.3.1-next-f1338f8080-20240426";function YE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YE)}catch(e){console.error(e)}}YE(),YS.exports=Tr;var Gc=YS.exports,q1=Gc;Mg.createRoot=q1.createRoot,Mg.hydrateRoot=q1.hydrateRoot;var Qc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},L5={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Va,av,ES,$5=(ES=class{constructor(){me(this,Va,L5);me(this,av,!1)}setTimeoutProvider(e){ae(this,Va,e)}setTimeout(e,t){return $(this,Va).setTimeout(e,t)}clearTimeout(e){$(this,Va).clearTimeout(e)}setInterval(e,t){return $(this,Va).setInterval(e,t)}clearInterval(e){$(this,Va).clearInterval(e)}},Va=new WeakMap,av=new WeakMap,ES),Ii=new $5;function z5(e){setTimeout(e,0)}var os=typeof window>"u"||"Deno"in globalThis;function ir(){}function F5(e,t){return typeof e=="function"?e(t):e}function Sy(e){return typeof e=="number"&&e>=0&&e!==1/0}function XE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function oi(e,t){return typeof e=="function"?e(t):e}function Fr(e,t){return typeof e=="function"?e(t):e}function Y1(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==Jv(s,t.options))return!1}else if(!yc(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function X1(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(gc(t.options.mutationKey)!==gc(i))return!1}else if(!yc(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Jv(e,t){return((t==null?void 0:t.queryKeyHashFn)||gc)(e)}function gc(e){return JSON.stringify(e,(t,r)=>Py(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function yc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>yc(e[r],t[r])):!1}var B5=Object.prototype.hasOwnProperty;function GE(e,t){if(e===t)return e;const r=G1(e)&&G1(t);if(!r&&!(Py(e)&&Py(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let c=0;for(let u=0;u<s;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){o[d]=f,(r?u<a:B5.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[d]=h;continue}const m=GE(f,h);o[d]=m,m===f&&c++}return a===s&&c===a?e:o}function Ey(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function G1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Py(e){if(!Q1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Q1(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Q1(e){return Object.prototype.toString.call(e)==="[object Object]"}function U5(e){return new Promise(t=>{Ii.setTimeout(t,e)})}function Cy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?GE(e,t):t}function V5(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function H5(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ex=Symbol();function QE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ex?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function W5(e,t){return typeof e=="function"?e(...t):!!e}var zi,Ha,ao,PS,K5=(PS=class extends Qc{constructor(){super();me(this,zi);me(this,Ha);me(this,ao);ae(this,ao,t=>{if(!os&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,Ha)||this.setEventListener($(this,ao))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Ha))==null||t.call(this),ae(this,Ha,void 0))}setEventListener(t){var r;ae(this,ao,t),(r=$(this,Ha))==null||r.call(this),ae(this,Ha,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,zi)!==t&&(ae(this,zi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof $(this,zi)=="boolean"?$(this,zi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zi=new WeakMap,Ha=new WeakMap,ao=new WeakMap,PS),tx=new K5;function Oy(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var q5=z5;function Y5(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=q5;const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||s()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var At=Y5(),io,Wa,so,CS,X5=(CS=class extends Qc{constructor(){super();me(this,io,!0);me(this,Wa);me(this,so);ae(this,so,t=>{if(!os&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,Wa)||this.setEventListener($(this,so))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Wa))==null||t.call(this),ae(this,Wa,void 0))}setEventListener(t){var r;ae(this,so,t),(r=$(this,Wa))==null||r.call(this),ae(this,Wa,t(this.setOnline.bind(this)))}setOnline(t){$(this,io)!==t&&(ae(this,io,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return $(this,io)}},io=new WeakMap,Wa=new WeakMap,so=new WeakMap,CS),Tf=new X5;function G5(e){return Math.min(1e3*2**e,3e4)}function ZE(e){return(e??"online")==="online"?Tf.isOnline():!0}var Ay=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function JE(e){let t=!1,r=0,n;const a=Oy(),i=()=>a.status!=="pending",s=y=>{var v;if(!i()){const g=new Ay(y);h(g),(v=e.onCancel)==null||v.call(e,g)}},o=()=>{t=!0},c=()=>{t=!1},u=()=>tx.isFocused()&&(e.networkMode==="always"||Tf.isOnline())&&e.canRun(),d=()=>ZE(e.networkMode)&&e.canRun(),f=y=>{i()||(n==null||n(),a.resolve(y))},h=y=>{i()||(n==null||n(),a.reject(y))},m=()=>new Promise(y=>{var v;n=g=>{(i()||u())&&y(g)},(v=e.onPause)==null||v.call(e)}).then(()=>{var y;n=void 0,i()||(y=e.onContinue)==null||y.call(e)}),p=()=>{if(i())return;let y;const v=r===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(f).catch(g=>{var _;if(i())return;const x=e.retry??(os?0:3),w=e.retryDelay??G5,j=typeof w=="function"?w(r,g):w,k=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,g);if(t||!k){h(g);return}r++,(_=e.onFail)==null||_.call(e,r,g),U5(j).then(()=>u()?void 0:m()).then(()=>{t?h(g):p()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),a)}}var Fi,OS,eP=(OS=class{constructor(){me(this,Fi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sy(this.gcTime)&&ae(this,Fi,Ii.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(os?1/0:5*60*1e3))}clearGcTimeout(){$(this,Fi)&&(Ii.clearTimeout($(this,Fi)),ae(this,Fi,void 0))}},Fi=new WeakMap,OS),Bi,oo,zr,Ui,jt,Fc,Vi,rn,Gn,AS,Q5=(AS=class extends eP{constructor(t){super();me(this,rn);me(this,Bi);me(this,oo);me(this,zr);me(this,Ui);me(this,jt);me(this,Fc);me(this,Vi);ae(this,Vi,!1),ae(this,Fc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ae(this,Ui,t.client),ae(this,zr,$(this,Ui).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ae(this,Bi,J1(this.options)),this.state=t.state??$(this,Bi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,jt))==null?void 0:t.promise}setOptions(t){if(this.options={...$(this,Fc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=J1(this.options);r.data!==void 0&&(this.setState(Z1(r.data,r.dataUpdatedAt)),ae(this,Bi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,zr).remove(this)}setData(t,r){const n=Cy(this.state.data,t,this.options);return ve(this,rn,Gn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ve(this,rn,Gn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=$(this,jt))==null?void 0:n.promise;return(a=$(this,jt))==null||a.cancel(t),r?r.then(ir).catch(ir):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Bi))}isActive(){return this.observers.some(t=>Fr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ex||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>oi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!XE(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,jt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,jt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,zr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||($(this,jt)&&($(this,Vi)?$(this,jt).cancel({revert:!0}):$(this,jt).cancelRetry()),this.scheduleGc()),$(this,zr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ve(this,rn,Gn).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,p,y,v,g,x,w;if(this.state.fetchStatus!=="idle"&&((c=$(this,jt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,jt))return $(this,jt).continueRetry(),$(this,jt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(k=>k.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(ae(this,Vi,!0),n.signal)})},i=()=>{const j=QE(this.options,r),_=(()=>{const N={client:$(this,Ui),queryKey:this.queryKey,meta:this.meta};return a(N),N})();return ae(this,Vi,!1),this.options.persister?this.options.persister(j,_,this):j(_)},o=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,Ui),state:this.state,fetchFn:i};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(o,this),ae(this,oo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ve(this,rn,Gn).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),ae(this,jt,JE({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:j=>{j instanceof Ay&&j.revert&&this.setState({...$(this,oo),fetchStatus:"idle"}),n.abort()},onFail:(j,k)=>{ve(this,rn,Gn).call(this,{type:"failed",failureCount:j,error:k})},onPause:()=>{ve(this,rn,Gn).call(this,{type:"pause"})},onContinue:()=>{ve(this,rn,Gn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const j=await $(this,jt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(h=$(this,zr).config).onSuccess)==null||m.call(h,j,this),(y=(p=$(this,zr).config).onSettled)==null||y.call(p,j,this.state.error,this),j}catch(j){if(j instanceof Ay){if(j.silent)return $(this,jt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw ve(this,rn,Gn).call(this,{type:"error",error:j}),(g=(v=$(this,zr).config).onError)==null||g.call(v,j,this),(w=(x=$(this,zr).config).onSettled)==null||w.call(x,this.state.data,j,this),j}finally{this.scheduleGc()}}},Bi=new WeakMap,oo=new WeakMap,zr=new WeakMap,Ui=new WeakMap,jt=new WeakMap,Fc=new WeakMap,Vi=new WeakMap,rn=new WeakSet,Gn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tP(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...Z1(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ae(this,oo,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),At.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,zr).notify({query:this,type:"updated",action:t})})},AS);function tP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Z1(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function J1(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var nr,xe,Bc,Ht,Hi,lo,ea,Ka,Uc,co,uo,Wi,Ki,qa,fo,Pe,Ml,Ty,My,Iy,Dy,Ry,Ly,$y,rP,TS,Z5=(TS=class extends Qc{constructor(t,r){super();me(this,Pe);me(this,nr);me(this,xe);me(this,Bc);me(this,Ht);me(this,Hi);me(this,lo);me(this,ea);me(this,Ka);me(this,Uc);me(this,co);me(this,uo);me(this,Wi);me(this,Ki);me(this,qa);me(this,fo,new Set);this.options=r,ae(this,nr,t),ae(this,Ka,null),ae(this,ea,Oy()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,xe).addObserver(this),ej($(this,xe),this.options)?ve(this,Pe,Ml).call(this):this.updateResult(),ve(this,Pe,Dy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zy($(this,xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zy($(this,xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ve(this,Pe,Ry).call(this),ve(this,Pe,Ly).call(this),$(this,xe).removeObserver(this)}setOptions(t){const r=this.options,n=$(this,xe);if(this.options=$(this,nr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fr(this.options.enabled,$(this,xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ve(this,Pe,$y).call(this),$(this,xe).setOptions(this.options),r._defaulted&&!Ey(this.options,r)&&$(this,nr).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,xe),observer:this});const a=this.hasListeners();a&&tj($(this,xe),n,this.options,r)&&ve(this,Pe,Ml).call(this),this.updateResult(),a&&($(this,xe)!==n||Fr(this.options.enabled,$(this,xe))!==Fr(r.enabled,$(this,xe))||oi(this.options.staleTime,$(this,xe))!==oi(r.staleTime,$(this,xe)))&&ve(this,Pe,Ty).call(this);const i=ve(this,Pe,My).call(this);a&&($(this,xe)!==n||Fr(this.options.enabled,$(this,xe))!==Fr(r.enabled,$(this,xe))||i!==$(this,qa))&&ve(this,Pe,Iy).call(this,i)}getOptimisticResult(t){const r=$(this,nr).getQueryCache().build($(this,nr),t),n=this.createResult(r,t);return eL(this,n)&&(ae(this,Ht,n),ae(this,lo,this.options),ae(this,Hi,$(this,xe).state)),n}getCurrentResult(){return $(this,Ht)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&$(this,ea).status==="pending"&&$(this,ea).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){$(this,fo).add(t)}getCurrentQuery(){return $(this,xe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=$(this,nr).defaultQueryOptions(t),n=$(this,nr).getQueryCache().build($(this,nr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ve(this,Pe,Ml).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Ht)))}createResult(t,r){var E;const n=$(this,xe),a=this.options,i=$(this,Ht),s=$(this,Hi),o=$(this,lo),u=t!==n?t.state:$(this,Bc),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const T=this.hasListeners(),O=!T&&ej(t,r),C=T&&tj(t,n,r,a);(O||C)&&(f={...f,...tP(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:v}=f;m=f.data;let g=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(T=i.data,g=!0):T=typeof r.placeholderData=="function"?r.placeholderData((E=$(this,uo))==null?void 0:E.state.data,$(this,uo)):r.placeholderData,T!==void 0&&(v="success",m=Cy(i==null?void 0:i.data,T,r),h=!0)}if(r.select&&m!==void 0&&!g)if(i&&m===(s==null?void 0:s.data)&&r.select===$(this,Uc))m=$(this,co);else try{ae(this,Uc,r.select),m=r.select(m),m=Cy(i==null?void 0:i.data,m,r),ae(this,co,m),ae(this,Ka,null)}catch(T){ae(this,Ka,T)}$(this,Ka)&&(p=$(this,Ka),m=$(this,co),y=Date.now(),v="error");const x=f.fetchStatus==="fetching",w=v==="pending",j=v==="error",k=w&&x,_=m!==void 0,S={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:j,isInitialLoading:k,isLoading:k,data:m,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:j&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&_,isStale:rx(t,r),refetch:this.refetch,promise:$(this,ea),isEnabled:Fr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=L=>{S.status==="error"?L.reject(S.error):S.data!==void 0&&L.resolve(S.data)},O=()=>{const L=ae(this,ea,S.promise=Oy());T(L)},C=$(this,ea);switch(C.status){case"pending":t.queryHash===n.queryHash&&T(C);break;case"fulfilled":(S.status==="error"||S.data!==C.value)&&O();break;case"rejected":(S.status!=="error"||S.error!==C.reason)&&O();break}}return S}updateResult(){const t=$(this,Ht),r=this.createResult($(this,xe),this.options);if(ae(this,Hi,$(this,xe).state),ae(this,lo,this.options),$(this,Hi).data!==void 0&&ae(this,uo,$(this,xe)),Ey(r,t))return;ae(this,Ht,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!$(this,fo).size)return!0;const s=new Set(i??$(this,fo));return this.options.throwOnError&&s.add("error"),Object.keys($(this,Ht)).some(o=>{const c=o;return $(this,Ht)[c]!==t[c]&&s.has(c)})};ve(this,Pe,rP).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ve(this,Pe,Dy).call(this)}},nr=new WeakMap,xe=new WeakMap,Bc=new WeakMap,Ht=new WeakMap,Hi=new WeakMap,lo=new WeakMap,ea=new WeakMap,Ka=new WeakMap,Uc=new WeakMap,co=new WeakMap,uo=new WeakMap,Wi=new WeakMap,Ki=new WeakMap,qa=new WeakMap,fo=new WeakMap,Pe=new WeakSet,Ml=function(t){ve(this,Pe,$y).call(this);let r=$(this,xe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ir)),r},Ty=function(){ve(this,Pe,Ry).call(this);const t=oi(this.options.staleTime,$(this,xe));if(os||$(this,Ht).isStale||!Sy(t))return;const n=XE($(this,Ht).dataUpdatedAt,t)+1;ae(this,Wi,Ii.setTimeout(()=>{$(this,Ht).isStale||this.updateResult()},n))},My=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,xe)):this.options.refetchInterval)??!1},Iy=function(t){ve(this,Pe,Ly).call(this),ae(this,qa,t),!(os||Fr(this.options.enabled,$(this,xe))===!1||!Sy($(this,qa))||$(this,qa)===0)&&ae(this,Ki,Ii.setInterval(()=>{(this.options.refetchIntervalInBackground||tx.isFocused())&&ve(this,Pe,Ml).call(this)},$(this,qa)))},Dy=function(){ve(this,Pe,Ty).call(this),ve(this,Pe,Iy).call(this,ve(this,Pe,My).call(this))},Ry=function(){$(this,Wi)&&(Ii.clearTimeout($(this,Wi)),ae(this,Wi,void 0))},Ly=function(){$(this,Ki)&&(Ii.clearInterval($(this,Ki)),ae(this,Ki,void 0))},$y=function(){const t=$(this,nr).getQueryCache().build($(this,nr),this.options);if(t===$(this,xe))return;const r=$(this,xe);ae(this,xe,t),ae(this,Bc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},rP=function(t){At.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r($(this,Ht))}),$(this,nr).getQueryCache().notify({query:$(this,xe),type:"observerResultsUpdated"})})},TS);function J5(e,t){return Fr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ej(e,t){return J5(e,t)||e.state.data!==void 0&&zy(e,t,t.refetchOnMount)}function zy(e,t,r){if(Fr(t.enabled,e)!==!1&&oi(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&rx(e,t)}return!1}function tj(e,t,r,n){return(e!==t||Fr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&rx(e,r)}function rx(e,t){return Fr(t.enabled,e)!==!1&&e.isStaleByTime(oi(t.staleTime,e))}function eL(e,t){return!Ey(e.getCurrentResult(),t)}function rj(e){return{onFetch:(t,r)=>{var d,f,h,m,p;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],s=((p=t.state.data)==null?void 0:p.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},g=QE(t.options,t.fetchOptions),x=async(w,j,k)=>{if(y)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};return v(O),O})(),S=await g(N),{maxPages:E}=t.options,T=k?H5:V5;return{pages:T(w.pages,S,E),pageParams:T(w.pageParams,j,E)}};if(a&&i.length){const w=a==="backward",j=w?tL:nj,k={pages:i,pageParams:s},_=j(n,k);o=await x(k,_,w)}else{const w=e??i.length;do{const j=c===0?s[0]??n.initialPageParam:nj(n,o);if(c>0&&j==null)break;o=await x(o,j),c++}while(c<w)}return o};t.options.persister?t.fetchFn=()=>{var y,v;return(v=(y=t.options).persister)==null?void 0:v.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function nj(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function tL(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Vc,Cn,Wt,qi,On,Ia,MS,rL=(MS=class extends eP{constructor(t){super();me(this,On);me(this,Vc);me(this,Cn);me(this,Wt);me(this,qi);ae(this,Vc,t.client),this.mutationId=t.mutationId,ae(this,Wt,t.mutationCache),ae(this,Cn,[]),this.state=t.state||nL(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,Cn).includes(t)||($(this,Cn).push(t),this.clearGcTimeout(),$(this,Wt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ae(this,Cn,$(this,Cn).filter(r=>r!==t)),this.scheduleGc(),$(this,Wt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,Cn).length||(this.state.status==="pending"?this.scheduleGc():$(this,Wt).remove(this))}continue(){var t;return((t=$(this,qi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,c,u,d,f,h,m,p,y,v,g,x,w,j,k,_,N,S,E;const r=()=>{ve(this,On,Ia).call(this,{type:"continue"})},n={client:$(this,Vc),meta:this.options.meta,mutationKey:this.options.mutationKey};ae(this,qi,JE({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,O)=>{ve(this,On,Ia).call(this,{type:"failed",failureCount:T,error:O})},onPause:()=>{ve(this,On,Ia).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Wt).canRun(this)}));const a=this.state.status==="pending",i=!$(this,qi).canStart();try{if(a)r();else{ve(this,On,Ia).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=$(this,Wt).config).onMutate)==null?void 0:o.call(s,t,this,n));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));O!==this.state.context&&ve(this,On,Ia).call(this,{type:"pending",context:O,variables:t,isPaused:i})}const T=await $(this,qi).start();return await((f=(d=$(this,Wt).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,T,t,this.state.context,n)),await((y=(p=$(this,Wt).config).onSettled)==null?void 0:y.call(p,T,null,this.state.variables,this.state.context,this,n)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,T,null,t,this.state.context,n)),ve(this,On,Ia).call(this,{type:"success",data:T}),T}catch(T){try{throw await((w=(x=$(this,Wt).config).onError)==null?void 0:w.call(x,T,t,this.state.context,this,n)),await((k=(j=this.options).onError)==null?void 0:k.call(j,T,t,this.state.context,n)),await((N=(_=$(this,Wt).config).onSettled)==null?void 0:N.call(_,void 0,T,this.state.variables,this.state.context,this,n)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,T,t,this.state.context,n)),T}finally{ve(this,On,Ia).call(this,{type:"error",error:T})}}finally{$(this,Wt).runNext(this)}}},Vc=new WeakMap,Cn=new WeakMap,Wt=new WeakMap,qi=new WeakMap,On=new WeakSet,Ia=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),At.batch(()=>{$(this,Cn).forEach(n=>{n.onMutationUpdate(t)}),$(this,Wt).notify({mutation:this,type:"updated",action:t})})},MS);function nL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ta,nn,Hc,IS,aL=(IS=class extends Qc{constructor(t={}){super();me(this,ta);me(this,nn);me(this,Hc);this.config=t,ae(this,ta,new Set),ae(this,nn,new Map),ae(this,Hc,0)}build(t,r,n){const a=new rL({client:t,mutationCache:this,mutationId:++Bu(this,Hc)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){$(this,ta).add(t);const r=id(t);if(typeof r=="string"){const n=$(this,nn).get(r);n?n.push(t):$(this,nn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,ta).delete(t)){const r=id(t);if(typeof r=="string"){const n=$(this,nn).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&$(this,nn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=id(t);if(typeof r=="string"){const n=$(this,nn).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=id(t);if(typeof r=="string"){const a=(n=$(this,nn).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){At.batch(()=>{$(this,ta).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,ta).clear(),$(this,nn).clear()})}getAll(){return Array.from($(this,ta))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>X1(r,n))}findAll(t={}){return this.getAll().filter(r=>X1(t,r))}notify(t){At.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return At.batch(()=>Promise.all(t.map(r=>r.continue().catch(ir))))}},ta=new WeakMap,nn=new WeakMap,Hc=new WeakMap,IS);function id(e){var t;return(t=e.options.scope)==null?void 0:t.id}var An,DS,iL=(DS=class extends Qc{constructor(t={}){super();me(this,An);this.config=t,ae(this,An,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??Jv(a,r);let s=this.get(i);return s||(s=new Q5({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){$(this,An).has(t.queryHash)||($(this,An).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=$(this,An).get(t.queryHash);r&&(t.destroy(),r===t&&$(this,An).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){At.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,An).get(t)}getAll(){return[...$(this,An).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Y1(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Y1(t,n)):r}notify(t){At.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){At.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},An=new WeakMap,DS),Ze,Ya,Xa,ho,mo,Ga,po,go,RS,sL=(RS=class{constructor(e={}){me(this,Ze);me(this,Ya);me(this,Xa);me(this,ho);me(this,mo);me(this,Ga);me(this,po);me(this,go);ae(this,Ze,e.queryCache||new iL),ae(this,Ya,e.mutationCache||new aL),ae(this,Xa,e.defaultOptions||{}),ae(this,ho,new Map),ae(this,mo,new Map),ae(this,Ga,0)}mount(){Bu(this,Ga)._++,$(this,Ga)===1&&(ae(this,po,tx.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Ze).onFocus())})),ae(this,go,Tf.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Ze).onOnline())})))}unmount(){var e,t;Bu(this,Ga)._--,$(this,Ga)===0&&((e=$(this,po))==null||e.call(this),ae(this,po,void 0),(t=$(this,go))==null||t.call(this),ae(this,go,void 0))}isFetching(e){return $(this,Ze).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,Ya).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,Ze).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=$(this,Ze).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(oi(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return $(this,Ze).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=$(this,Ze).get(n.queryHash),i=a==null?void 0:a.state.data,s=F5(t,i);if(s!==void 0)return $(this,Ze).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return At.batch(()=>$(this,Ze).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,Ze).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=$(this,Ze);At.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=$(this,Ze);return At.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=At.batch(()=>$(this,Ze).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ir).catch(ir)}invalidateQueries(e,t={}){return At.batch(()=>($(this,Ze).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=At.batch(()=>$(this,Ze).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ir)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ir)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=$(this,Ze).build(this,t);return r.isStaleByTime(oi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ir).catch(ir)}fetchInfiniteQuery(e){return e.behavior=rj(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ir).catch(ir)}ensureInfiniteQueryData(e){return e.behavior=rj(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Tf.isOnline()?$(this,Ya).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Ze)}getMutationCache(){return $(this,Ya)}getDefaultOptions(){return $(this,Xa)}setDefaultOptions(e){ae(this,Xa,e)}setQueryDefaults(e,t){$(this,ho).set(gc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,ho).values()],r={};return t.forEach(n=>{yc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){$(this,mo).set(gc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,mo).values()],r={};return t.forEach(n=>{yc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,Xa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Jv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ex&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,Xa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,Ze).clear(),$(this,Ya).clear()}},Ze=new WeakMap,Ya=new WeakMap,Xa=new WeakMap,ho=new WeakMap,mo=new WeakMap,Ga=new WeakMap,po=new WeakMap,go=new WeakMap,RS),nP=b.createContext(void 0),oL=e=>{const t=b.useContext(nP);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},lL=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(nP.Provider,{value:e,children:t})),aP=b.createContext(!1),cL=()=>b.useContext(aP);aP.Provider;function uL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var dL=b.createContext(uL()),fL=()=>b.useContext(dL),hL=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},mL=e=>{b.useEffect(()=>{e.clearReset()},[e])},pL=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||W5(r,[e.error,n])),gL=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},yL=(e,t)=>e.isLoading&&e.isFetching&&!t,vL=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,aj=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function xL(e,t,r){var f,h,m,p,y;const n=cL(),a=fL(),i=oL(),s=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,s),s._optimisticResults=n?"isRestoring":"optimistic",gL(s),hL(s,a),mL(a);const o=!i.getQueryCache().get(s.queryHash),[c]=b.useState(()=>new t(i,s)),u=c.getOptimisticResult(s),d=!n&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(v=>{const g=d?c.subscribe(At.batchCalls(v)):ir;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(s)},[s,c]),vL(s,u))throw aj(s,c,a);if(pL({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((p=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,s,u),s.experimental_prefetchInRender&&!os&&yL(u,n)){const v=o?aj(s,c,a):(y=i.getQueryCache().get(s.queryHash))==null?void 0:y.promise;v==null||v.catch(ir).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function bL(e,t){return xL(e,Z5)}const Oi=class Oi{constructor(){cl(this,"nodes",new Map)}static getInstance(){return Oi.instance||(Oi.instance=new Oi),Oi.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t),console.log(`[Registry] Registered node: ${t.label} (${t.type})`)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(r=>{t[r.category]||(t[r.category]=[]),t[r.category].push(r)}),t}};cl(Oi,"instance");let Fy=Oi;const ke=Fy.getInstance(),wL={},ij=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(p=>p(t,m))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(wL?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},iP=e=>e?ij(e):ij;var sP={exports:{}},oP={},lP={exports:{}},cP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=b;function jL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kL=typeof Object.is=="function"?Object.is:jL,NL=No.useState,_L=No.useEffect,SL=No.useLayoutEffect,EL=No.useDebugValue;function PL(e,t){var r=t(),n=NL({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return SL(function(){a.value=r,a.getSnapshot=t,Xp(a)&&i({inst:a})},[e,r,t]),_L(function(){return Xp(a)&&i({inst:a}),e(function(){Xp(a)&&i({inst:a})})},[e]),EL(r),r}function Xp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kL(e,r)}catch{return!0}}function CL(e,t){return t()}var OL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CL:PL;cP.useSyncExternalStore=No.useSyncExternalStore!==void 0?No.useSyncExternalStore:OL;lP.exports=cP;var AL=lP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=b,TL=AL;function ML(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IL=typeof Object.is=="function"?Object.is:ML,DL=TL.useSyncExternalStore,RL=tm.useRef,LL=tm.useEffect,$L=tm.useMemo,zL=tm.useDebugValue;oP.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=RL(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=$L(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&s.hasValue){var p=s.value;if(a(p,m))return f=p}return f=m}if(p=f,IL(d,m))return p;var y=n(m);return a!==void 0&&a(p,y)?(d=m,p):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=DL(e,i[0],i[1]);return LL(function(){s.hasValue=!0,s.value=o},[o]),zL(o),o};sP.exports=oP;var uP=sP.exports;const dP=Hn(uP),fP={},{useDebugValue:FL}=fn,{useSyncExternalStoreWithSelector:BL}=dP;let sj=!1;const UL=e=>e;function VL(e,t=UL,r){(fP?"production":void 0)!=="production"&&r&&!sj&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),sj=!0);const n=BL(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return FL(n),n}const oj=e=>{(fP?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?iP(e):e,r=(n,a)=>VL(t,n,a);return Object.assign(r,t),r},nx=e=>e?oj(e):oj;function lt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=lt(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var HL={value:()=>{}};function rm(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Kd(r)}function Kd(e){this._=e}function WL(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Kd.prototype=rm.prototype={constructor:Kd,on:function(e,t){var r=this._,n=WL(e+"",r),a,i=-1,s=n.length;if(arguments.length<2){for(;++i<s;)if((a=(e=n[i]).type)&&(a=KL(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(a=(e=n[i]).type)r[a]=lj(r[a],e.name,t);else if(t==null)for(a in r)r[a]=lj(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Kd(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,i;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,i=n.length;a<i;++a)n[a].value.apply(t,r)}};function KL(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function lj(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=HL,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var By="http://www.w3.org/1999/xhtml";const cj={svg:"http://www.w3.org/2000/svg",xhtml:By,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nm(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),cj.hasOwnProperty(t)?{space:cj[t],local:e}:e}function qL(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===By&&t.documentElement.namespaceURI===By?t.createElement(e):t.createElementNS(r,e)}}function YL(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hP(e){var t=nm(e);return(t.local?YL:qL)(t)}function XL(){}function ax(e){return e==null?XL:function(){return this.querySelector(e)}}function GL(e){typeof e!="function"&&(e=ax(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],s=i.length,o=n[a]=new Array(s),c,u,d=0;d<s;++d)(c=i[d])&&(u=e.call(c,c.__data__,d,i))&&("__data__"in c&&(u.__data__=c.__data__),o[d]=u);return new Pr(n,this._parents)}function QL(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ZL(){return[]}function mP(e){return e==null?ZL:function(){return this.querySelectorAll(e)}}function JL(e){return function(){return QL(e.apply(this,arguments))}}function e$(e){typeof e=="function"?e=JL(e):e=mP(e);for(var t=this._groups,r=t.length,n=[],a=[],i=0;i<r;++i)for(var s=t[i],o=s.length,c,u=0;u<o;++u)(c=s[u])&&(n.push(e.call(c,c.__data__,u,s)),a.push(c));return new Pr(n,a)}function pP(e){return function(){return this.matches(e)}}function gP(e){return function(t){return t.matches(e)}}var t$=Array.prototype.find;function r$(e){return function(){return t$.call(this.children,e)}}function n$(){return this.firstElementChild}function a$(e){return this.select(e==null?n$:r$(typeof e=="function"?e:gP(e)))}var i$=Array.prototype.filter;function s$(){return Array.from(this.children)}function o$(e){return function(){return i$.call(this.children,e)}}function l$(e){return this.selectAll(e==null?s$:o$(typeof e=="function"?e:gP(e)))}function c$(e){typeof e!="function"&&(e=pP(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],s=i.length,o=n[a]=[],c,u=0;u<s;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&o.push(c);return new Pr(n,this._parents)}function yP(e){return new Array(e.length)}function u$(){return new Pr(this._enter||this._groups.map(yP),this._parents)}function Mf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Mf.prototype={constructor:Mf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function d$(e){return function(){return e}}function f$(e,t,r,n,a,i){for(var s=0,o,c=t.length,u=i.length;s<u;++s)(o=t[s])?(o.__data__=i[s],n[s]=o):r[s]=new Mf(e,i[s]);for(;s<c;++s)(o=t[s])&&(a[s]=o)}function h$(e,t,r,n,a,i,s){var o,c,u=new Map,d=t.length,f=i.length,h=new Array(d),m;for(o=0;o<d;++o)(c=t[o])&&(h[o]=m=s.call(c,c.__data__,o,t)+"",u.has(m)?a[o]=c:u.set(m,c));for(o=0;o<f;++o)m=s.call(e,i[o],o,i)+"",(c=u.get(m))?(n[o]=c,c.__data__=i[o],u.delete(m)):r[o]=new Mf(e,i[o]);for(o=0;o<d;++o)(c=t[o])&&u.get(h[o])===c&&(a[o]=c)}function m$(e){return e.__data__}function p$(e,t){if(!arguments.length)return Array.from(this,m$);var r=t?h$:f$,n=this._parents,a=this._groups;typeof e!="function"&&(e=d$(e));for(var i=a.length,s=new Array(i),o=new Array(i),c=new Array(i),u=0;u<i;++u){var d=n[u],f=a[u],h=f.length,m=g$(e.call(d,d&&d.__data__,u,n)),p=m.length,y=o[u]=new Array(p),v=s[u]=new Array(p),g=c[u]=new Array(h);r(d,f,y,v,g,m,t);for(var x=0,w=0,j,k;x<p;++x)if(j=y[x]){for(x>=w&&(w=x+1);!(k=v[w])&&++w<p;);j._next=k||null}}return s=new Pr(s,n),s._enter=o,s._exit=c,s}function g$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function y$(){return new Pr(this._exit||this._groups.map(yP),this._parents)}function v$(e,t,r){var n=this.enter(),a=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?i.remove():r(i),n&&a?n.merge(a).order():a}function x$(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,i=n.length,s=Math.min(a,i),o=new Array(a),c=0;c<s;++c)for(var u=r[c],d=n[c],f=u.length,h=o[c]=new Array(f),m,p=0;p<f;++p)(m=u[p]||d[p])&&(h[p]=m);for(;c<a;++c)o[c]=r[c];return new Pr(o,this._parents)}function b$(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,i=n[a],s;--a>=0;)(s=n[a])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function w$(e){e||(e=j$);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var r=this._groups,n=r.length,a=new Array(n),i=0;i<n;++i){for(var s=r[i],o=s.length,c=a[i]=new Array(o),u,d=0;d<o;++d)(u=s[d])&&(c[d]=u);c.sort(t)}return new Pr(a,this._parents).order()}function j$(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function k$(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function N$(){return Array.from(this)}function _$(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length;a<i;++a){var s=n[a];if(s)return s}return null}function S$(){let e=0;for(const t of this)++e;return e}function E$(){return!this.node()}function P$(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],i=0,s=a.length,o;i<s;++i)(o=a[i])&&e.call(o,o.__data__,i,a);return this}function C$(e){return function(){this.removeAttribute(e)}}function O$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function A$(e,t){return function(){this.setAttribute(e,t)}}function T$(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function M$(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function I$(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function D$(e,t){var r=nm(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?O$:C$:typeof t=="function"?r.local?I$:M$:r.local?T$:A$)(r,t))}function vP(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function R$(e){return function(){this.style.removeProperty(e)}}function L$(e,t,r){return function(){this.style.setProperty(e,t,r)}}function $$(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function z$(e,t,r){return arguments.length>1?this.each((t==null?R$:typeof t=="function"?$$:L$)(e,t,r??"")):_o(this.node(),e)}function _o(e,t){return e.style.getPropertyValue(t)||vP(e).getComputedStyle(e,null).getPropertyValue(t)}function F$(e){return function(){delete this[e]}}function B$(e,t){return function(){this[e]=t}}function U$(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function V$(e,t){return arguments.length>1?this.each((t==null?F$:typeof t=="function"?U$:B$)(e,t)):this.node()[e]}function xP(e){return e.trim().split(/^|\s+/)}function ix(e){return e.classList||new bP(e)}function bP(e){this._node=e,this._names=xP(e.getAttribute("class")||"")}bP.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function wP(e,t){for(var r=ix(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function jP(e,t){for(var r=ix(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function H$(e){return function(){wP(this,e)}}function W$(e){return function(){jP(this,e)}}function K$(e,t){return function(){(t.apply(this,arguments)?wP:jP)(this,e)}}function q$(e,t){var r=xP(e+"");if(arguments.length<2){for(var n=ix(this.node()),a=-1,i=r.length;++a<i;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?K$:t?H$:W$)(r,t))}function Y$(){this.textContent=""}function X$(e){return function(){this.textContent=e}}function G$(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Q$(e){return arguments.length?this.each(e==null?Y$:(typeof e=="function"?G$:X$)(e)):this.node().textContent}function Z$(){this.innerHTML=""}function J$(e){return function(){this.innerHTML=e}}function ez(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function tz(e){return arguments.length?this.each(e==null?Z$:(typeof e=="function"?ez:J$)(e)):this.node().innerHTML}function rz(){this.nextSibling&&this.parentNode.appendChild(this)}function nz(){return this.each(rz)}function az(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iz(){return this.each(az)}function sz(e){var t=typeof e=="function"?e:hP(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function oz(){return null}function lz(e,t){var r=typeof e=="function"?e:hP(e),n=t==null?oz:typeof t=="function"?t:ax(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function cz(){var e=this.parentNode;e&&e.removeChild(this)}function uz(){return this.each(cz)}function dz(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fz(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hz(e){return this.select(e?fz:dz)}function mz(e){return arguments.length?this.property("__data__",e):this.node().__data__}function pz(e){return function(t){e.call(this,t,this.__data__)}}function gz(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function yz(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,i;r<a;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function vz(e,t,r){return function(){var n=this.__on,a,i=pz(t);if(n){for(var s=0,o=n.length;s<o;++s)if((a=n[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=r),a.value=t;return}}this.addEventListener(e.type,i,r),a={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(a):this.__on=[a]}}function xz(e,t,r){var n=gz(e+""),a,i=n.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,u=o.length,d;c<u;++c)for(a=0,d=o[c];a<i;++a)if((s=n[a]).type===d.type&&s.name===d.name)return d.value}return}for(o=t?vz:yz,a=0;a<i;++a)this.each(o(n[a],t,r));return this}function kP(e,t,r){var n=vP(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function bz(e,t){return function(){return kP(this,e,t)}}function wz(e,t){return function(){return kP(this,e,t.apply(this,arguments))}}function jz(e,t){return this.each((typeof t=="function"?wz:bz)(e,t))}function*kz(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length,s;a<i;++a)(s=n[a])&&(yield s)}var NP=[null];function Pr(e,t){this._groups=e,this._parents=t}function Zc(){return new Pr([[document.documentElement]],NP)}function Nz(){return this}Pr.prototype=Zc.prototype={constructor:Pr,select:GL,selectAll:e$,selectChild:a$,selectChildren:l$,filter:c$,data:p$,enter:u$,exit:y$,join:v$,merge:x$,selection:Nz,order:b$,sort:w$,call:k$,nodes:N$,node:_$,size:S$,empty:E$,each:P$,attr:D$,style:z$,property:V$,classed:q$,text:Q$,html:tz,raise:nz,lower:iz,append:sz,insert:lz,remove:uz,clone:hz,datum:mz,on:xz,dispatch:jz,[Symbol.iterator]:kz};function br(e){return typeof e=="string"?new Pr([[document.querySelector(e)]],[document.documentElement]):new Pr([[e]],NP)}function _z(e){let t;for(;t=e.sourceEvent;)e=t;return e}function sn(e,t){if(e=_z(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const Sz={passive:!1},vc={capture:!0,passive:!1};function Gp(e){e.stopImmediatePropagation()}function to(e){e.preventDefault(),e.stopImmediatePropagation()}function _P(e){var t=e.document.documentElement,r=br(e).on("dragstart.drag",to,vc);"onselectstart"in t?r.on("selectstart.drag",to,vc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function SP(e,t){var r=e.document.documentElement,n=br(e).on("dragstart.drag",null);t&&(n.on("click.drag",to,vc),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const sd=e=>()=>e;function Uy(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:i,x:s,y:o,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Uy.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Ez(e){return!e.ctrlKey&&!e.button}function Pz(){return this.parentNode}function Cz(e,t){return t??{x:e.x,y:e.y}}function Oz(){return navigator.maxTouchPoints||"ontouchstart"in this}function EP(){var e=Ez,t=Pz,r=Cz,n=Oz,a={},i=rm("start","drag","end"),s=0,o,c,u,d,f=0;function h(j){j.on("mousedown.drag",m).filter(n).on("touchstart.drag",v).on("touchmove.drag",g,Sz).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(j,k){if(!(d||!e.call(this,j,k))){var _=w(this,t.call(this,j,k),j,k,"mouse");_&&(br(j.view).on("mousemove.drag",p,vc).on("mouseup.drag",y,vc),_P(j.view),Gp(j),u=!1,o=j.clientX,c=j.clientY,_("start",j))}}function p(j){if(to(j),!u){var k=j.clientX-o,_=j.clientY-c;u=k*k+_*_>f}a.mouse("drag",j)}function y(j){br(j.view).on("mousemove.drag mouseup.drag",null),SP(j.view,u),to(j),a.mouse("end",j)}function v(j,k){if(e.call(this,j,k)){var _=j.changedTouches,N=t.call(this,j,k),S=_.length,E,T;for(E=0;E<S;++E)(T=w(this,N,j,k,_[E].identifier,_[E]))&&(Gp(j),T("start",j,_[E]))}}function g(j){var k=j.changedTouches,_=k.length,N,S;for(N=0;N<_;++N)(S=a[k[N].identifier])&&(to(j),S("drag",j,k[N]))}function x(j){var k=j.changedTouches,_=k.length,N,S;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<_;++N)(S=a[k[N].identifier])&&(Gp(j),S("end",j,k[N]))}function w(j,k,_,N,S,E){var T=i.copy(),O=sn(E||_,k),C,L,P;if((P=r.call(j,new Uy("beforestart",{sourceEvent:_,target:h,identifier:S,active:s,x:O[0],y:O[1],dx:0,dy:0,dispatch:T}),N))!=null)return C=P.x-O[0]||0,L=P.y-O[1]||0,function D(I,R,A){var M=O,z;switch(I){case"start":a[S]=D,z=s++;break;case"end":delete a[S],--s;case"drag":O=sn(A||R,k),z=s;break}T.call(I,j,new Uy(I,{sourceEvent:R,subject:P,target:h,identifier:S,active:z,x:O[0]+C,y:O[1]+L,dx:O[0]-M[0],dy:O[1]-M[1],dispatch:T}),N)}}return h.filter=function(j){return arguments.length?(e=typeof j=="function"?j:sd(!!j),h):e},h.container=function(j){return arguments.length?(t=typeof j=="function"?j:sd(j),h):t},h.subject=function(j){return arguments.length?(r=typeof j=="function"?j:sd(j),h):r},h.touchable=function(j){return arguments.length?(n=typeof j=="function"?j:sd(!!j),h):n},h.on=function(){var j=i.on.apply(i,arguments);return j===i?h:j},h.clickDistance=function(j){return arguments.length?(f=(j=+j)*j,h):Math.sqrt(f)},h}function sx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function PP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Jc(){}var xc=.7,If=1/xc,ro="\\s*([+-]?\\d+)\\s*",bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Az=/^#([0-9a-f]{3,8})$/,Tz=new RegExp(`^rgb\\(${ro},${ro},${ro}\\)$`),Mz=new RegExp(`^rgb\\(${Ln},${Ln},${Ln}\\)$`),Iz=new RegExp(`^rgba\\(${ro},${ro},${ro},${bc}\\)$`),Dz=new RegExp(`^rgba\\(${Ln},${Ln},${Ln},${bc}\\)$`),Rz=new RegExp(`^hsl\\(${bc},${Ln},${Ln}\\)$`),Lz=new RegExp(`^hsla\\(${bc},${Ln},${Ln},${bc}\\)$`),uj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sx(Jc,ls,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dj,formatHex:dj,formatHex8:$z,formatHsl:zz,formatRgb:fj,toString:fj});function dj(){return this.rgb().formatHex()}function $z(){return this.rgb().formatHex8()}function zz(){return CP(this).formatHsl()}function fj(){return this.rgb().formatRgb()}function ls(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Az.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?hj(t):r===3?new lr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?od(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?od(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Tz.exec(e))?new lr(t[1],t[2],t[3],1):(t=Mz.exec(e))?new lr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Iz.exec(e))?od(t[1],t[2],t[3],t[4]):(t=Dz.exec(e))?od(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rz.exec(e))?gj(t[1],t[2]/100,t[3]/100,1):(t=Lz.exec(e))?gj(t[1],t[2]/100,t[3]/100,t[4]):uj.hasOwnProperty(e)?hj(uj[e]):e==="transparent"?new lr(NaN,NaN,NaN,0):null}function hj(e){return new lr(e>>16&255,e>>8&255,e&255,1)}function od(e,t,r,n){return n<=0&&(e=t=r=NaN),new lr(e,t,r,n)}function Fz(e){return e instanceof Jc||(e=ls(e)),e?(e=e.rgb(),new lr(e.r,e.g,e.b,e.opacity)):new lr}function Vy(e,t,r,n){return arguments.length===1?Fz(e):new lr(e,t,r,n??1)}function lr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}sx(lr,Vy,PP(Jc,{brighter(e){return e=e==null?If:Math.pow(If,e),new lr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xc:Math.pow(xc,e),new lr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lr(Gi(this.r),Gi(this.g),Gi(this.b),Df(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mj,formatHex:mj,formatHex8:Bz,formatRgb:pj,toString:pj}));function mj(){return`#${Di(this.r)}${Di(this.g)}${Di(this.b)}`}function Bz(){return`#${Di(this.r)}${Di(this.g)}${Di(this.b)}${Di((isNaN(this.opacity)?1:this.opacity)*255)}`}function pj(){const e=Df(this.opacity);return`${e===1?"rgb(":"rgba("}${Gi(this.r)}, ${Gi(this.g)}, ${Gi(this.b)}${e===1?")":`, ${e})`}`}function Df(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Di(e){return e=Gi(e),(e<16?"0":"")+e.toString(16)}function gj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new cn(e,t,r,n)}function CP(e){if(e instanceof cn)return new cn(e.h,e.s,e.l,e.opacity);if(e instanceof Jc||(e=ls(e)),!e)return new cn;if(e instanceof cn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,c=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new cn(s,o,c,e.opacity)}function Uz(e,t,r,n){return arguments.length===1?CP(e):new cn(e,t,r,n??1)}function cn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}sx(cn,Uz,PP(Jc,{brighter(e){return e=e==null?If:Math.pow(If,e),new cn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xc:Math.pow(xc,e),new cn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new lr(Qp(e>=240?e-240:e+120,a,n),Qp(e,a,n),Qp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new cn(yj(this.h),ld(this.s),ld(this.l),Df(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Df(this.opacity);return`${e===1?"hsl(":"hsla("}${yj(this.h)}, ${ld(this.s)*100}%, ${ld(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yj(e){return e=(e||0)%360,e<0?e+360:e}function ld(e){return Math.max(0,Math.min(1,e||0))}function Qp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ox=e=>()=>e;function Vz(e,t){return function(r){return e+r*t}}function Hz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Wz(e){return(e=+e)==1?OP:function(t,r){return r-t?Hz(t,r,e):ox(isNaN(t)?r:t)}}function OP(e,t){var r=t-e;return r?Vz(e,r):ox(isNaN(e)?t:e)}const Rf=function e(t){var r=Wz(t);function n(a,i){var s=r((a=Vy(a)).r,(i=Vy(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=OP(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Kz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function qz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yz(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=ua(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function Xz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ln(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Gz(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ua(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Hy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zp=new RegExp(Hy.source,"g");function Qz(e){return function(){return e}}function Zz(e){return function(t){return e(t)+""}}function AP(e,t){var r=Hy.lastIndex=Zp.lastIndex=0,n,a,i,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=Hy.exec(e))&&(a=Zp.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:ln(n,a)})),r=Zp.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?Zz(c[0].x):Qz(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function ua(e,t){var r=typeof t,n;return t==null||r==="boolean"?ox(t):(r==="number"?ln:r==="string"?(n=ls(t))?(t=n,Rf):AP:t instanceof ls?Rf:t instanceof Date?Xz:qz(t)?Kz:Array.isArray(t)?Yz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Gz:ln)(e,t)}function lx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var vj=180/Math.PI,Wy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function TP(e,t,r,n,a,i){var s,o,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,c/=o),e*n<t*r&&(e=-e,t=-t,c=-c,s=-s),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*vj,skewX:Math.atan(c)*vj,scaleX:s,scaleY:o}}var cd;function Jz(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Wy:TP(t.a,t.b,t.c,t.d,t.e,t.f)}function eF(e){return e==null||(cd||(cd=document.createElementNS("http://www.w3.org/2000/svg","g")),cd.setAttribute("transform",e),!(e=cd.transform.baseVal.consolidate()))?Wy:(e=e.matrix,TP(e.a,e.b,e.c,e.d,e.e,e.f))}function MP(e,t,r,n){function a(u){return u.length?u.pop()+" ":""}function i(u,d,f,h,m,p){if(u!==f||d!==h){var y=m.push("translate(",null,t,null,r);p.push({i:y-4,x:ln(u,f)},{i:y-2,x:ln(d,h)})}else(f||h)&&m.push("translate("+f+t+h+r)}function s(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(a(f)+"rotate(",null,n)-2,x:ln(u,d)})):d&&f.push(a(f)+"rotate("+d+n)}function o(u,d,f,h){u!==d?h.push({i:f.push(a(f)+"skewX(",null,n)-2,x:ln(u,d)}):d&&f.push(a(f)+"skewX("+d+n)}function c(u,d,f,h,m,p){if(u!==f||d!==h){var y=m.push(a(m)+"scale(",null,",",null,")");p.push({i:y-4,x:ln(u,f)},{i:y-2,x:ln(d,h)})}else(f!==1||h!==1)&&m.push(a(m)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,f,h),s(u.rotate,d.rotate,f,h),o(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(m){for(var p=-1,y=h.length,v;++p<y;)f[(v=h[p]).i]=v.x(m);return f.join("")}}}var tF=MP(Jz,"px, ","px)","deg)"),rF=MP(eF,", ",")",")"),nF=1e-12;function xj(e){return((e=Math.exp(e))+1/e)/2}function aF(e){return((e=Math.exp(e))-1/e)/2}function iF(e){return((e=Math.exp(2*e))-1)/(e+1)}const qd=function e(t,r,n){function a(i,s){var o=i[0],c=i[1],u=i[2],d=s[0],f=s[1],h=s[2],m=d-o,p=f-c,y=m*m+p*p,v,g;if(y<nF)g=Math.log(h/u)/t,v=function(N){return[o+N*m,c+N*p,u*Math.exp(t*N*g)]};else{var x=Math.sqrt(y),w=(h*h-u*u+n*y)/(2*u*r*x),j=(h*h-u*u-n*y)/(2*h*r*x),k=Math.log(Math.sqrt(w*w+1)-w),_=Math.log(Math.sqrt(j*j+1)-j);g=(_-k)/t,v=function(N){var S=N*g,E=xj(k),T=u/(r*x)*(E*iF(t*S+k)-aF(k));return[o+T*m,c+T*p,u*E/xj(t*S+k)]}}return v.duration=g*1e3*t/Math.SQRT2,v}return a.rho=function(i){var s=Math.max(.001,+i),o=s*s,c=o*o;return e(s,o,c)},a}(Math.SQRT2,2,4);function sF(e,t){t===void 0&&(t=e,e=ua);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}var So=0,Il=0,vl=0,IP=1e3,Lf,Dl,$f=0,cs=0,am=0,wc=typeof performance=="object"&&performance.now?performance:Date,DP=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function cx(){return cs||(DP(oF),cs=wc.now()+am)}function oF(){cs=0}function zf(){this._call=this._time=this._next=null}zf.prototype=RP.prototype={constructor:zf,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?cx():+r)+(t==null?0:+t),!this._next&&Dl!==this&&(Dl?Dl._next=this:Lf=this,Dl=this),this._call=e,this._time=r,Ky()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ky())}};function RP(e,t,r){var n=new zf;return n.restart(e,t,r),n}function lF(){cx(),++So;for(var e=Lf,t;e;)(t=cs-e._time)>=0&&e._call.call(void 0,t),e=e._next;--So}function bj(){cs=($f=wc.now())+am,So=Il=0;try{lF()}finally{So=0,uF(),cs=0}}function cF(){var e=wc.now(),t=e-$f;t>IP&&(am-=t,$f=e)}function uF(){for(var e,t=Lf,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Lf=r);Dl=e,Ky(n)}function Ky(e){if(!So){Il&&(Il=clearTimeout(Il));var t=e-cs;t>24?(e<1/0&&(Il=setTimeout(bj,e-wc.now()-am)),vl&&(vl=clearInterval(vl))):(vl||($f=wc.now(),vl=setInterval(cF,IP)),So=1,DP(bj))}}function wj(e,t,r){var n=new zf;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var dF=rm("start","end","cancel","interrupt"),fF=[],LP=0,jj=1,qy=2,Yd=3,kj=4,Yy=5,Xd=6;function im(e,t,r,n,a,i){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;hF(e,r,{name:t,index:n,group:a,on:dF,tween:fF,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:LP})}function ux(e,t){var r=wn(e,t);if(r.state>LP)throw new Error("too late; already scheduled");return r}function Wn(e,t){var r=wn(e,t);if(r.state>Yd)throw new Error("too late; already running");return r}function wn(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function hF(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=RP(i,0,r.time);function i(u){r.state=jj,r.timer.restart(s,r.delay,r.time),r.delay<=u&&s(u-r.delay)}function s(u){var d,f,h,m;if(r.state!==jj)return c();for(d in n)if(m=n[d],m.name===r.name){if(m.state===Yd)return wj(s);m.state===kj?(m.state=Xd,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete n[d]):+d<t&&(m.state=Xd,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete n[d])}if(wj(function(){r.state===Yd&&(r.state=kj,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=qy,r.on.call("start",e,e.__data__,r.index,r.group),r.state===qy){for(r.state=Yd,a=new Array(h=r.tween.length),d=0,f=-1;d<h;++d)(m=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(a[++f]=m);a.length=f+1}}function o(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=Yy,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);r.state===Yy&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=Xd,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function Gd(e,t){var r=e.__transition,n,a,i=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){i=!1;continue}a=n.state>qy&&n.state<Yy,n.state=Xd,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}i&&delete e.__transition}}function mF(e){return this.each(function(){Gd(this,e)})}function pF(e,t){var r,n;return function(){var a=Wn(this,e),i=a.tween;if(i!==r){n=r=i;for(var s=0,o=n.length;s<o;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}a.tween=n}}function gF(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var i=Wn(this,e),s=i.tween;if(s!==n){a=(n=s).slice();for(var o={name:t,value:r},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=o;break}c===u&&a.push(o)}i.tween=a}}function yF(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=wn(this.node(),r).tween,a=0,i=n.length,s;a<i;++a)if((s=n[a]).name===e)return s.value;return null}return this.each((t==null?pF:gF)(r,e,t))}function dx(e,t,r){var n=e._id;return e.each(function(){var a=Wn(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return wn(a,n).value[t]}}function $P(e,t){var r;return(typeof t=="number"?ln:t instanceof ls?Rf:(r=ls(t))?(t=r,Rf):AP)(e,t)}function vF(e){return function(){this.removeAttribute(e)}}function xF(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bF(e,t,r){var n,a=r+"",i;return function(){var s=this.getAttribute(e);return s===a?null:s===n?i:i=t(n=s,r)}}function wF(e,t,r){var n,a=r+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===n?i:i=t(n=s,r)}}function jF(e,t,r){var n,a,i;return function(){var s,o=r(this),c;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=o+"",s===c?null:s===n&&c===a?i:(a=c,i=t(n=s,o)))}}function kF(e,t,r){var n,a,i;return function(){var s,o=r(this),c;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=o+"",s===c?null:s===n&&c===a?i:(a=c,i=t(n=s,o)))}}function NF(e,t){var r=nm(e),n=r==="transform"?rF:$P;return this.attrTween(e,typeof t=="function"?(r.local?kF:jF)(r,n,dx(this,"attr."+e,t)):t==null?(r.local?xF:vF)(r):(r.local?wF:bF)(r,n,t))}function _F(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function SF(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function EF(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&SF(e,i)),r}return a._value=t,a}function PF(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&_F(e,i)),r}return a._value=t,a}function CF(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=nm(e);return this.tween(r,(n.local?EF:PF)(n,t))}function OF(e,t){return function(){ux(this,e).delay=+t.apply(this,arguments)}}function AF(e,t){return t=+t,function(){ux(this,e).delay=t}}function TF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?OF:AF)(t,e)):wn(this.node(),t).delay}function MF(e,t){return function(){Wn(this,e).duration=+t.apply(this,arguments)}}function IF(e,t){return t=+t,function(){Wn(this,e).duration=t}}function DF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?MF:IF)(t,e)):wn(this.node(),t).duration}function RF(e,t){if(typeof t!="function")throw new Error;return function(){Wn(this,e).ease=t}}function LF(e){var t=this._id;return arguments.length?this.each(RF(t,e)):wn(this.node(),t).ease}function $F(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Wn(this,e).ease=r}}function zF(e){if(typeof e!="function")throw new Error;return this.each($F(this._id,e))}function FF(e){typeof e!="function"&&(e=pP(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],s=i.length,o=n[a]=[],c,u=0;u<s;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&o.push(c);return new ya(n,this._parents,this._name,this._id)}function BF(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,i=Math.min(n,a),s=new Array(n),o=0;o<i;++o)for(var c=t[o],u=r[o],d=c.length,f=s[o]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;o<n;++o)s[o]=t[o];return new ya(s,this._parents,this._name,this._id)}function UF(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function VF(e,t,r){var n,a,i=UF(t)?ux:Wn;return function(){var s=i(this,e),o=s.on;o!==n&&(a=(n=o).copy()).on(t,r),s.on=a}}function HF(e,t){var r=this._id;return arguments.length<2?wn(this.node(),r).on.on(e):this.each(VF(r,e,t))}function WF(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function KF(){return this.on("end.remove",WF(this._id))}function qF(e){var t=this._name,r=this._id;typeof e!="function"&&(e=ax(e));for(var n=this._groups,a=n.length,i=new Array(a),s=0;s<a;++s)for(var o=n[s],c=o.length,u=i[s]=new Array(c),d,f,h=0;h<c;++h)(d=o[h])&&(f=e.call(d,d.__data__,h,o))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,im(u[h],t,r,h,u,wn(d,r)));return new ya(i,this._parents,t,r)}function YF(e){var t=this._name,r=this._id;typeof e!="function"&&(e=mP(e));for(var n=this._groups,a=n.length,i=[],s=[],o=0;o<a;++o)for(var c=n[o],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),m,p=wn(d,r),y=0,v=h.length;y<v;++y)(m=h[y])&&im(m,t,r,y,h,p);i.push(h),s.push(d)}return new ya(i,s,t,r)}var XF=Zc.prototype.constructor;function GF(){return new XF(this._groups,this._parents)}function QF(e,t){var r,n,a;return function(){var i=_o(this,e),s=(this.style.removeProperty(e),_o(this,e));return i===s?null:i===r&&s===n?a:a=t(r=i,n=s)}}function zP(e){return function(){this.style.removeProperty(e)}}function ZF(e,t,r){var n,a=r+"",i;return function(){var s=_o(this,e);return s===a?null:s===n?i:i=t(n=s,r)}}function JF(e,t,r){var n,a,i;return function(){var s=_o(this,e),o=r(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(e),_o(this,e))),s===c?null:s===n&&c===a?i:(a=c,i=t(n=s,o))}}function e8(e,t){var r,n,a,i="style."+t,s="end."+i,o;return function(){var c=Wn(this,e),u=c.on,d=c.value[i]==null?o||(o=zP(t)):void 0;(u!==r||a!==d)&&(n=(r=u).copy()).on(s,a=d),c.on=n}}function t8(e,t,r){var n=(e+="")=="transform"?tF:$P;return t==null?this.styleTween(e,QF(e,n)).on("end.style."+e,zP(e)):typeof t=="function"?this.styleTween(e,JF(e,n,dx(this,"style."+e,t))).each(e8(this._id,e)):this.styleTween(e,ZF(e,n,t),r).on("end.style."+e,null)}function r8(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function n8(e,t,r){var n,a;function i(){var s=t.apply(this,arguments);return s!==a&&(n=(a=s)&&r8(e,s,r)),n}return i._value=t,i}function a8(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,n8(e,t,r??""))}function i8(e){return function(){this.textContent=e}}function s8(e){return function(){var t=e(this);this.textContent=t??""}}function o8(e){return this.tween("text",typeof e=="function"?s8(dx(this,"text",e)):i8(e==null?"":e+""))}function l8(e){return function(t){this.textContent=e.call(this,t)}}function c8(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&l8(a)),t}return n._value=e,n}function u8(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,c8(e))}function d8(){for(var e=this._name,t=this._id,r=FP(),n=this._groups,a=n.length,i=0;i<a;++i)for(var s=n[i],o=s.length,c,u=0;u<o;++u)if(c=s[u]){var d=wn(c,t);im(c,e,r,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ya(n,this._parents,e,r)}function f8(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(i,s){var o={value:s},c={value:function(){--a===0&&i()}};r.each(function(){var u=Wn(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(c)),u.on=t}),a===0&&i()})}var h8=0;function ya(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function FP(){return++h8}var Xn=Zc.prototype;ya.prototype={constructor:ya,select:qF,selectAll:YF,selectChild:Xn.selectChild,selectChildren:Xn.selectChildren,filter:FF,merge:BF,selection:GF,transition:d8,call:Xn.call,nodes:Xn.nodes,node:Xn.node,size:Xn.size,empty:Xn.empty,each:Xn.each,on:HF,attr:NF,attrTween:CF,style:t8,styleTween:a8,text:o8,textTween:u8,remove:KF,tween:yF,delay:TF,duration:DF,ease:LF,easeVarying:zF,end:f8,[Symbol.iterator]:Xn[Symbol.iterator]};function m8(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var p8={time:null,delay:0,duration:250,ease:m8};function g8(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function y8(e){var t,r;e instanceof ya?(t=e._id,e=e._name):(t=FP(),(r=p8).time=cx(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,i=0;i<a;++i)for(var s=n[i],o=s.length,c,u=0;u<o;++u)(c=s[u])&&im(c,e,t,u,s,r||g8(c,t));return new ya(n,this._parents,e,t)}Zc.prototype.interrupt=mF;Zc.prototype.transition=y8;const ud=e=>()=>e;function v8(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function sa(e,t,r){this.k=e,this.x=t,this.y=r}sa.prototype={constructor:sa,scale:function(e){return e===1?this:new sa(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new sa(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var sm=new sa(1,0,0);BP.prototype=sa.prototype;function BP(e){for(;!e.__zoom;)if(!(e=e.parentNode))return sm;return e.__zoom}function Jp(e){e.stopImmediatePropagation()}function xl(e){e.preventDefault(),e.stopImmediatePropagation()}function x8(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function b8(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Nj(){return this.__zoom||sm}function w8(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function j8(){return navigator.maxTouchPoints||"ontouchstart"in this}function k8(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],s=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function UP(){var e=x8,t=b8,r=k8,n=w8,a=j8,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,c=qd,u=rm("start","zoom","end"),d,f,h,m=500,p=150,y=0,v=10;function g(P){P.property("__zoom",Nj).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",T).filter(a).on("touchstart.zoom",O).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(P,D,I,R){var A=P.selection?P.selection():P;A.property("__zoom",Nj),P!==A?k(P,D,I,R):A.interrupt().each(function(){_(this,arguments).event(R).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},g.scaleBy=function(P,D,I,R){g.scaleTo(P,function(){var A=this.__zoom.k,M=typeof D=="function"?D.apply(this,arguments):D;return A*M},I,R)},g.scaleTo=function(P,D,I,R){g.transform(P,function(){var A=t.apply(this,arguments),M=this.__zoom,z=I==null?j(A):typeof I=="function"?I.apply(this,arguments):I,V=M.invert(z),B=typeof D=="function"?D.apply(this,arguments):D;return r(w(x(M,B),z,V),A,s)},I,R)},g.translateBy=function(P,D,I,R){g.transform(P,function(){return r(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),s)},null,R)},g.translateTo=function(P,D,I,R,A){g.transform(P,function(){var M=t.apply(this,arguments),z=this.__zoom,V=R==null?j(M):typeof R=="function"?R.apply(this,arguments):R;return r(sm.translate(V[0],V[1]).scale(z.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof I=="function"?-I.apply(this,arguments):-I),M,s)},R,A)};function x(P,D){return D=Math.max(i[0],Math.min(i[1],D)),D===P.k?P:new sa(D,P.x,P.y)}function w(P,D,I){var R=D[0]-I[0]*P.k,A=D[1]-I[1]*P.k;return R===P.x&&A===P.y?P:new sa(P.k,R,A)}function j(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function k(P,D,I,R){P.on("start.zoom",function(){_(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(R).end()}).tween("zoom",function(){var A=this,M=arguments,z=_(A,M).event(R),V=t.apply(A,M),B=I==null?j(V):typeof I=="function"?I.apply(A,M):I,X=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),q=A.__zoom,J=typeof D=="function"?D.apply(A,M):D,ce=c(q.invert(B).concat(X/q.k),J.invert(B).concat(X/J.k));return function(te){if(te===1)te=J;else{var Q=ce(te),U=X/Q[2];te=new sa(U,B[0]-Q[0]*U,B[1]-Q[1]*U)}z.zoom(null,te)}})}function _(P,D,I){return!I&&P.__zooming||new N(P,D)}function N(P,D){this.that=P,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(P,D),this.taps=0}N.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,D){return this.mouse&&P!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var D=br(this.that).datum();u.call(P,this.that,new v8(P,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),D)}};function S(P,...D){if(!e.apply(this,arguments))return;var I=_(this,D).event(P),R=this.__zoom,A=Math.max(i[0],Math.min(i[1],R.k*Math.pow(2,n.apply(this,arguments)))),M=sn(P);if(I.wheel)(I.mouse[0][0]!==M[0]||I.mouse[0][1]!==M[1])&&(I.mouse[1]=R.invert(I.mouse[0]=M)),clearTimeout(I.wheel);else{if(R.k===A)return;I.mouse=[M,R.invert(M)],Gd(this),I.start()}xl(P),I.wheel=setTimeout(z,p),I.zoom("mouse",r(w(x(R,A),I.mouse[0],I.mouse[1]),I.extent,s));function z(){I.wheel=null,I.end()}}function E(P,...D){if(h||!e.apply(this,arguments))return;var I=P.currentTarget,R=_(this,D,!0).event(P),A=br(P.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",X,!0),M=sn(P,I),z=P.clientX,V=P.clientY;_P(P.view),Jp(P),R.mouse=[M,this.__zoom.invert(M)],Gd(this),R.start();function B(q){if(xl(q),!R.moved){var J=q.clientX-z,ce=q.clientY-V;R.moved=J*J+ce*ce>y}R.event(q).zoom("mouse",r(w(R.that.__zoom,R.mouse[0]=sn(q,I),R.mouse[1]),R.extent,s))}function X(q){A.on("mousemove.zoom mouseup.zoom",null),SP(q.view,R.moved),xl(q),R.event(q).end()}}function T(P,...D){if(e.apply(this,arguments)){var I=this.__zoom,R=sn(P.changedTouches?P.changedTouches[0]:P,this),A=I.invert(R),M=I.k*(P.shiftKey?.5:2),z=r(w(x(I,M),R,A),t.apply(this,D),s);xl(P),o>0?br(this).transition().duration(o).call(k,z,R,P):br(this).call(g.transform,z,R,P)}}function O(P,...D){if(e.apply(this,arguments)){var I=P.touches,R=I.length,A=_(this,D,P.changedTouches.length===R).event(P),M,z,V,B;for(Jp(P),z=0;z<R;++z)V=I[z],B=sn(V,this),B=[B,this.__zoom.invert(B),V.identifier],A.touch0?!A.touch1&&A.touch0[2]!==B[2]&&(A.touch1=B,A.taps=0):(A.touch0=B,M=!0,A.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(A.taps<2&&(f=B[0],d=setTimeout(function(){d=null},m)),Gd(this),A.start())}}function C(P,...D){if(this.__zooming){var I=_(this,D).event(P),R=P.changedTouches,A=R.length,M,z,V,B;for(xl(P),M=0;M<A;++M)z=R[M],V=sn(z,this),I.touch0&&I.touch0[2]===z.identifier?I.touch0[0]=V:I.touch1&&I.touch1[2]===z.identifier&&(I.touch1[0]=V);if(z=I.that.__zoom,I.touch1){var X=I.touch0[0],q=I.touch0[1],J=I.touch1[0],ce=I.touch1[1],te=(te=J[0]-X[0])*te+(te=J[1]-X[1])*te,Q=(Q=ce[0]-q[0])*Q+(Q=ce[1]-q[1])*Q;z=x(z,Math.sqrt(te/Q)),V=[(X[0]+J[0])/2,(X[1]+J[1])/2],B=[(q[0]+ce[0])/2,(q[1]+ce[1])/2]}else if(I.touch0)V=I.touch0[0],B=I.touch0[1];else return;I.zoom("touch",r(w(z,V,B),I.extent,s))}}function L(P,...D){if(this.__zooming){var I=_(this,D).event(P),R=P.changedTouches,A=R.length,M,z;for(Jp(P),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),M=0;M<A;++M)z=R[M],I.touch0&&I.touch0[2]===z.identifier?delete I.touch0:I.touch1&&I.touch1[2]===z.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(z=sn(z,this),Math.hypot(f[0]-z[0],f[1]-z[1])<v)){var V=br(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return g.wheelDelta=function(P){return arguments.length?(n=typeof P=="function"?P:ud(+P),g):n},g.filter=function(P){return arguments.length?(e=typeof P=="function"?P:ud(!!P),g):e},g.touchable=function(P){return arguments.length?(a=typeof P=="function"?P:ud(!!P),g):a},g.extent=function(P){return arguments.length?(t=typeof P=="function"?P:ud([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),g):t},g.scaleExtent=function(P){return arguments.length?(i[0]=+P[0],i[1]=+P[1],g):[i[0],i[1]]},g.translateExtent=function(P){return arguments.length?(s[0][0]=+P[0][0],s[1][0]=+P[1][0],s[0][1]=+P[0][1],s[1][1]=+P[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(P){return arguments.length?(r=P,g):r},g.duration=function(P){return arguments.length?(o=+P,g):o},g.interpolate=function(P){return arguments.length?(c=P,g):c},g.on=function(){var P=u.on.apply(u,arguments);return P===u?g:P},g.clickDistance=function(P){return arguments.length?(y=(P=+P)*P,g):Math.sqrt(y)},g.tapDistance=function(P){return arguments.length?(v=+P,g):v},g}const $n={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:n}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},jc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],VP=["Enter"," ","Escape"],HP={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Eo;(function(e){e.Strict="strict",e.Loose="loose"})(Eo||(Eo={}));var Qi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Qi||(Qi={}));var kc;(function(e){e.Partial="partial",e.Full="full"})(kc||(kc={}));const WP={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Ba;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ba||(Ba={}));var Ff;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ff||(Ff={}));var fe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(fe||(fe={}));const _j={[fe.Left]:fe.Right,[fe.Right]:fe.Left,[fe.Top]:fe.Bottom,[fe.Bottom]:fe.Top};function KP(e){return e===null?null:e?"valid":"invalid"}const qP=e=>"id"in e&&"source"in e&&"target"in e,N8=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),fx=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),xi=(e,t,r)=>{if(!e.id)return[];const n=new Set;return r.forEach(a=>{a.target===e.id&&n.add(a.source)}),t.filter(a=>n.has(a.id))},eu=(e,t=[0,0])=>{const{width:r,height:n}=Sa(e),a=e.origin??t,i=r*a[0],s=n*a[1];return{x:e.position.x-i,y:e.position.y-s}},_8=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const i=typeof a=="string";let s=!t.nodeLookup&&!i?a:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(a):fx(a)?a:t.nodeLookup.get(a.id));const o=s?Bf(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return om(n,o)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return lm(r)},tu=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},n=!1;return e.forEach(a=>{(t.filter===void 0||t.filter(a))&&(r=om(r,Bf(a)),n=!0)}),n?lm(r):{x:0,y:0,width:0,height:0}},hx=(e,t,[r,n,a]=[0,0,1],i=!1,s=!1)=>{const o={...nu(t,[r,n,a]),width:t.width/a,height:t.height/a},c=[];for(const u of e.values()){const{measured:d,selectable:f=!0,hidden:h=!1}=u;if(s&&!f||h)continue;const m=d.width??u.width??u.initialWidth??null,p=d.height??u.height??u.initialHeight??null,y=Nc(o,Co(u)),v=(m??0)*(p??0),g=i&&y>0;(!u.internals.handleBounds||g||y>=v||u.dragging)&&c.push(u)}return c},S8=(e,t)=>{const r=new Set;return e.forEach(n=>{r.add(n.id)}),t.filter(n=>r.has(n.source)||r.has(n.target))};function E8(e,t){const r=new Map,n=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!n||n.has(a.id))&&r.set(a.id,a)}),r}async function P8({nodes:e,width:t,height:r,panZoom:n,minZoom:a,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const o=E8(e,s),c=tu(o),u=mx(c,t,r,(s==null?void 0:s.minZoom)??a,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await n.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function YP({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:a,onError:i}){const s=r.get(e),o=s.parentId?r.get(s.parentId):void 0,{x:c,y:u}=o?o.internals.positionAbsolute:{x:0,y:0},d=s.origin??n;let f=s.extent||a;if(s.extent==="parent"&&!s.expandParent)if(!o)i==null||i("005",$n.error005());else{const m=o.measured.width,p=o.measured.height;m&&p&&(f=[[c,u],[c+m,u+p]])}else o&&Oo(s.extent)&&(f=[[s.extent[0][0]+c,s.extent[0][1]+u],[s.extent[1][0]+c,s.extent[1][1]+u]]);const h=Oo(f)?us(t,f,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",$n.error015())),{position:{x:h.x-c+(s.measured.width??0)*d[0],y:h.y-u+(s.measured.height??0)*d[1]},positionAbsolute:h}}async function C8({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:n,onBeforeDelete:a}){const i=new Set(e.map(h=>h.id)),s=[];for(const h of r){if(h.deletable===!1)continue;const m=i.has(h.id),p=!m&&h.parentId&&s.find(y=>y.id===h.parentId);(m||p)&&s.push(h)}const o=new Set(t.map(h=>h.id)),c=n.filter(h=>h.deletable!==!1),d=S8(s,c);for(const h of c)o.has(h.id)&&!d.find(p=>p.id===h.id)&&d.push(h);if(!a)return{edges:d,nodes:s};const f=await a({nodes:s,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:s}:{edges:[],nodes:[]}:f}const Po=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),us=(e={x:0,y:0},t,r)=>({x:Po(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:Po(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function XP(e,t,r){const{width:n,height:a}=Sa(r),{x:i,y:s}=r.internals.positionAbsolute;return us(e,[[i,s],[i+n,s+a]],t)}const Sj=(e,t,r)=>e<t?Po(Math.abs(e-t),1,t)/t:e>r?-Po(Math.abs(e-r),1,t)/t:0,GP=(e,t,r=15,n=40)=>{const a=Sj(e.x,n,t.width-n)*r,i=Sj(e.y,n,t.height-n)*r;return[a,i]},om=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Xy=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),lm=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),Co=(e,t=[0,0])=>{var a,i;const{x:r,y:n}=fx(e)?e.internals.positionAbsolute:eu(e,t);return{x:r,y:n,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Bf=(e,t=[0,0])=>{var a,i;const{x:r,y:n}=fx(e)?e.internals.positionAbsolute:eu(e,t);return{x:r,y:n,x2:r+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:n+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},QP=(e,t)=>lm(om(Xy(e),Xy(t))),Nc=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},Ej=e=>hn(e.width)&&hn(e.height)&&hn(e.x)&&hn(e.y),hn=e=>!isNaN(e)&&isFinite(e),O8=(e,t)=>{},ru=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),nu=({x:e,y:t},[r,n,a],i=!1,s=[1,1])=>{const o={x:(e-r)/a,y:(t-n)/a};return i?ru(o,s):o},Uf=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n});function Ps(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function A8(e,t,r){if(typeof e=="string"||typeof e=="number"){const n=Ps(e,r),a=Ps(e,t);return{top:n,right:a,bottom:n,left:a,x:a*2,y:n*2}}if(typeof e=="object"){const n=Ps(e.top??e.y??0,r),a=Ps(e.bottom??e.y??0,r),i=Ps(e.left??e.x??0,t),s=Ps(e.right??e.x??0,t);return{top:n,right:s,bottom:a,left:i,x:i+s,y:n+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function T8(e,t,r,n,a,i){const{x:s,y:o}=Uf(e,[t,r,n]),{x:c,y:u}=Uf({x:e.x+e.width,y:e.y+e.height},[t,r,n]),d=a-c,f=i-u;return{left:Math.floor(s),top:Math.floor(o),right:Math.floor(d),bottom:Math.floor(f)}}const mx=(e,t,r,n,a,i)=>{const s=A8(i,t,r),o=(t-s.x)/e.width,c=(r-s.y)/e.height,u=Math.min(o,c),d=Po(u,n,a),f=e.x+e.width/2,h=e.y+e.height/2,m=t/2-f*d,p=r/2-h*d,y=T8(e,m,p,d,t,r),v={left:Math.min(y.left-s.left,0),top:Math.min(y.top-s.top,0),right:Math.min(y.right-s.right,0),bottom:Math.min(y.bottom-s.bottom,0)};return{x:m-v.left+v.right,y:p-v.top+v.bottom,zoom:d}},_c=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Oo(e){return e!=null&&e!=="parent"}function Sa(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function ZP(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function JP(e,t={width:0,height:0},r,n,a){const i={...e},s=n.get(r);if(s){const o=s.origin||a;i.x+=s.internals.positionAbsolute.x-(t.width??0)*o[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*o[1]}return i}function Pj(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function M8(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}function I8(e){return{...HP,...e||{}}}function Gl(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:n,containerBounds:a}){const{x:i,y:s}=mn(e),o=nu({x:i-((a==null?void 0:a.left)??0),y:s-((a==null?void 0:a.top)??0)},n),{x:c,y:u}=r?ru(o,t):o;return{xSnapped:c,ySnapped:u,...o}}const px=e=>({width:e.offsetWidth,height:e.offsetHeight}),eC=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},D8=["INPUT","SELECT","TEXTAREA"];function tC(e){var n,a;const t=((a=(n=e.composedPath)==null?void 0:n.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:D8.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const rC=e=>"clientX"in e,mn=(e,t)=>{var i,s;const r=rC(e),n=r?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,a=r?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},Cj=(e,t,r,n,a)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const o=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:a,position:s.getAttribute("data-handlepos"),x:(o.left-r.left)/n,y:(o.top-r.top)/n,...px(s)}})};function nC({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:i,targetControlX:s,targetControlY:o}){const c=e*.125+a*.375+s*.375+r*.125,u=t*.125+i*.375+o*.375+n*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}function dd(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Oj({pos:e,x1:t,y1:r,x2:n,y2:a,c:i}){switch(e){case fe.Left:return[t-dd(t-n,i),r];case fe.Right:return[t+dd(n-t,i),r];case fe.Top:return[t,r-dd(r-a,i)];case fe.Bottom:return[t,r+dd(a-r,i)]}}function aC({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:i=fe.Top,curvature:s=.25}){const[o,c]=Oj({pos:r,x1:e,y1:t,x2:n,y2:a,c:s}),[u,d]=Oj({pos:i,x1:n,y1:a,x2:e,y2:t,c:s}),[f,h,m,p]=nC({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:o,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${o},${c} ${u},${d} ${n},${a}`,f,h,m,p]}function iC({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,i=r<e?r+a:r-a,s=Math.abs(n-t)/2,o=n<t?n+s:n-s;return[i,o,a,s]}function R8({sourceNode:e,targetNode:t,selected:r=!1,zIndex:n=0,elevateOnSelect:a=!1,zIndexMode:i="basic"}){if(i==="manual")return n;const s=a&&r?n+1e3:n,o=Math.max(e.parentId||a&&e.selected?e.internals.z:0,t.parentId||a&&t.selected?t.internals.z:0);return s+o}function L8({sourceNode:e,targetNode:t,width:r,height:n,transform:a}){const i=om(Bf(e),Bf(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-a[0]/a[2],y:-a[1]/a[2],width:r/a[2],height:n/a[2]};return Nc(s,lm(i))>0}const $8=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`xy-edge__${e}${t||""}-${r}${n||""}`,z8=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),sC=(e,t,r={})=>{if(!e.source||!e.target)return t;const n=r.getEdgeId||$8;let a;return qP(e)?a={...e}:a={...e,id:n(e)},z8(a,t)?t:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,t.concat(a))};function oC({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,i,s,o]=iC({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,i,s,o]}const Aj={[fe.Left]:{x:-1,y:0},[fe.Right]:{x:1,y:0},[fe.Top]:{x:0,y:-1},[fe.Bottom]:{x:0,y:1}},F8=({source:e,sourcePosition:t=fe.Bottom,target:r})=>t===fe.Left||t===fe.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Tj=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function B8({source:e,sourcePosition:t=fe.Bottom,target:r,targetPosition:n=fe.Top,center:a,offset:i,stepPosition:s}){const o=Aj[t],c=Aj[n],u={x:e.x+o.x*i,y:e.y+o.y*i},d={x:r.x+c.x*i,y:r.y+c.y*i},f=F8({source:u,sourcePosition:t,target:d}),h=f.x!==0?"x":"y",m=f[h];let p=[],y,v;const g={x:0,y:0},x={x:0,y:0},[,,w,j]=iC({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(o[h]*c[h]===-1){h==="x"?(y=a.x??u.x+(d.x-u.x)*s,v=a.y??(u.y+d.y)/2):(y=a.x??(u.x+d.x)/2,v=a.y??u.y+(d.y-u.y)*s);const _=[{x:y,y:u.y},{x:y,y:d.y}],N=[{x:u.x,y:v},{x:d.x,y:v}];o[h]===m?p=h==="x"?_:N:p=h==="x"?N:_}else{const _=[{x:u.x,y:d.y}],N=[{x:d.x,y:u.y}];if(h==="x"?p=o.x===m?N:_:p=o.y===m?_:N,t===n){const C=Math.abs(e[h]-r[h]);if(C<=i){const L=Math.min(i-1,i-C);o[h]===m?g[h]=(u[h]>e[h]?-1:1)*L:x[h]=(d[h]>r[h]?-1:1)*L}}if(t!==n){const C=h==="x"?"y":"x",L=o[h]===c[C],P=u[C]>d[C],D=u[C]<d[C];(o[h]===1&&(!L&&P||L&&D)||o[h]!==1&&(!L&&D||L&&P))&&(p=h==="x"?_:N)}const S={x:u.x+g.x,y:u.y+g.y},E={x:d.x+x.x,y:d.y+x.y},T=Math.max(Math.abs(S.x-p[0].x),Math.abs(E.x-p[0].x)),O=Math.max(Math.abs(S.y-p[0].y),Math.abs(E.y-p[0].y));T>=O?(y=(S.x+E.x)/2,v=p[0].y):(y=p[0].x,v=(S.y+E.y)/2)}return[[e,{x:u.x+g.x,y:u.y+g.y},...p,{x:d.x+x.x,y:d.y+x.y},r],y,v,w,j]}function U8(e,t,r,n){const a=Math.min(Tj(e,t)/2,Tj(t,r)/2,n),{x:i,y:s}=t;if(e.x===i&&i===r.x||e.y===s&&s===r.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${i+a*u},${s}Q ${i},${s} ${i},${s+a*d}`}const o=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${i},${s+a*c}Q ${i},${s} ${i+a*o},${s}`}function Vf({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:i=fe.Top,borderRadius:s=5,centerX:o,centerY:c,offset:u=20,stepPosition:d=.5}){const[f,h,m,p,y]=B8({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:i,center:{x:o,y:c},offset:u,stepPosition:d});return[f.reduce((g,x,w)=>{let j="";return w>0&&w<f.length-1?j=U8(f[w-1],x,f[w+1],s):j=`${w===0?"M":"L"}${x.x} ${x.y}`,g+=j,g},""),h,m,p,y]}function Mj(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function V8(e){var f;const{sourceNode:t,targetNode:r}=e;if(!Mj(t)||!Mj(r))return null;const n=t.internals.handleBounds||Ij(t.handles),a=r.internals.handleBounds||Ij(r.handles),i=Dj((n==null?void 0:n.source)??[],e.sourceHandle),s=Dj(e.connectionMode===Eo.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!i||!s)return(f=e.onError)==null||f.call(e,"008",$n.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const o=(i==null?void 0:i.position)||fe.Bottom,c=(s==null?void 0:s.position)||fe.Top,u=ds(t,i,o),d=ds(r,s,c);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:o,targetPosition:c}}function Ij(e){if(!e)return null;const t=[],r=[];for(const n of e)n.width=n.width??1,n.height=n.height??1,n.type==="source"?t.push(n):n.type==="target"&&r.push(n);return{source:t,target:r}}function ds(e,t,r=fe.Left,n=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:o}=t??Sa(e);if(n)return{x:a+s/2,y:i+o/2};switch((t==null?void 0:t.position)??r){case fe.Top:return{x:a+s/2,y:i};case fe.Right:return{x:a+s,y:i+o/2};case fe.Bottom:return{x:a+s/2,y:i+o};case fe.Left:return{x:a,y:i+o/2}}}function Dj(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function Gy(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`:""}function H8(e,{id:t,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:a}){const i=new Set;return e.reduce((s,o)=>([o.markerStart||n,o.markerEnd||a].forEach(c=>{if(c&&typeof c=="object"){const u=Gy(c,t);i.has(u)||(s.push({id:u,color:c.color||r,...c}),i.add(u))}}),s),[]).sort((s,o)=>s.id.localeCompare(o.id))}const lC=1e3,W8=10,gx={nodeOrigin:[0,0],nodeExtent:jc,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},K8={...gx,checkEquality:!0};function yx(e,t){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}function q8(e,t,r){const n=yx(gx,r);for(const a of e.values())if(a.parentId)xx(a,e,t,n);else{const i=eu(a,n.nodeOrigin),s=Oo(a.extent)?a.extent:n.nodeExtent,o=us(i,s,Sa(a));a.internals.positionAbsolute=o}}function Y8(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const r=[],n=[];for(const a of e.handles){const i={id:a.id,width:a.width??1,height:a.height??1,nodeId:e.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?r.push(i):a.type==="target"&&n.push(i)}return{source:r,target:n}}function vx(e){return e==="manual"}function Qy(e,t,r,n={}){var u,d;const a=yx(K8,n),i={i:0},s=new Map(t),o=a!=null&&a.elevateNodesOnSelect&&!vx(a.zIndexMode)?lC:0;let c=e.length>0;t.clear(),r.clear();for(const f of e){let h=s.get(f.id);if(a.checkEquality&&f===(h==null?void 0:h.internals.userNode))t.set(f.id,h);else{const m=eu(f,a.nodeOrigin),p=Oo(f.extent)?f.extent:a.nodeExtent,y=us(m,p,Sa(f));h={...a.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:y,handleBounds:Y8(f,h),z:cC(f,o,a.zIndexMode),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(c=!1),f.parentId&&xx(h,t,r,n,i)}return c}function X8(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function xx(e,t,r,n,a){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o,zIndexMode:c}=yx(gx,n),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}X8(e,r),a&&!d.parentId&&d.internals.rootParentIndex===void 0&&c==="auto"&&(d.internals.rootParentIndex=++a.i,d.internals.z=d.internals.z+a.i*W8),a&&d.internals.rootParentIndex!==void 0&&(a.i=d.internals.rootParentIndex);const f=i&&!vx(c)?lC:0,{x:h,y:m,z:p}=G8(e,d,s,o,f,c),{positionAbsolute:y}=e.internals,v=h!==y.x||m!==y.y;(v||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:h,y:m}:y,z:p}})}function cC(e,t,r){const n=hn(e.zIndex)?e.zIndex:0;return vx(r)?n:n+(e.selected?t:0)}function G8(e,t,r,n,a,i){const{x:s,y:o}=t.internals.positionAbsolute,c=Sa(e),u=eu(e,r),d=Oo(e.extent)?us(u,e.extent,c):u;let f=us({x:s+d.x,y:o+d.y},n,c);e.extent==="parent"&&(f=XP(f,c,t));const h=cC(e,a,i),m=t.internals.z??0;return{x:f.x,y:f.y,z:m>=h?m+1:h}}function bx(e,t,r,n=[0,0]){var s;const a=[],i=new Map;for(const o of e){const c=t.get(o.parentId);if(!c)continue;const u=((s=i.get(o.parentId))==null?void 0:s.expandedRect)??Co(c),d=QP(u,o.rect);i.set(o.parentId,{expandedRect:d,parent:c})}return i.size>0&&i.forEach(({expandedRect:o,parent:c},u)=>{var w;const d=c.internals.positionAbsolute,f=Sa(c),h=c.origin??n,m=o.x<d.x?Math.round(Math.abs(d.x-o.x)):0,p=o.y<d.y?Math.round(Math.abs(d.y-o.y)):0,y=Math.max(f.width,Math.round(o.width)),v=Math.max(f.height,Math.round(o.height)),g=(y-f.width)*h[0],x=(v-f.height)*h[1];(m>0||p>0||g||x)&&(a.push({id:u,type:"position",position:{x:c.position.x-m+g,y:c.position.y-p+x}}),(w=r.get(u))==null||w.forEach(j=>{e.some(k=>k.id===j.id)||a.push({id:j.id,type:"position",position:{x:j.position.x+m,y:j.position.y+p}})})),(f.width<o.width||f.height<o.height||m||p)&&a.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(m?h[0]*m-g:0),height:v+(p?h[1]*p-x:0)}})}),a}function Q8(e,t,r,n,a,i,s){const o=n==null?void 0:n.querySelector(".xyflow__viewport");let c=!1;if(!o)return{changes:[],updatedInternals:c};const u=[],d=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const m of e.values()){const p=t.get(m.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),c=!0;continue}const y=px(m.nodeElement),v=p.measured.width!==y.width||p.measured.height!==y.height;if(!!(y.width&&y.height&&(v||!p.internals.handleBounds||m.force))){const x=m.nodeElement.getBoundingClientRect(),w=Oo(p.extent)?p.extent:i;let{positionAbsolute:j}=p.internals;p.parentId&&p.extent==="parent"?j=XP(j,y,t.get(p.parentId)):w&&(j=us(j,w,y));const k={...p,measured:y,internals:{...p.internals,positionAbsolute:j,handleBounds:{source:Cj("source",m.nodeElement,x,f,p.id),target:Cj("target",m.nodeElement,x,f,p.id)}}};t.set(p.id,k),p.parentId&&xx(k,t,r,{nodeOrigin:a,zIndexMode:s}),c=!0,v&&(u.push({id:p.id,type:"dimensions",dimensions:y}),p.expandParent&&p.parentId&&h.push({id:p.id,parentId:p.parentId,rect:Co(k,a)}))}}if(h.length>0){const m=bx(h,t,r,a);u.push(...m)}return{changes:u,updatedInternals:c}}async function Z8({delta:e,panZoom:t,transform:r,translateExtent:n,width:a,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[a,i]],n),o=!!s&&(s.x!==r[0]||s.y!==r[1]||s.k!==r[2]);return Promise.resolve(o)}function Rj(e,t,r,n,a,i){let s=a;const o=n.get(s)||new Map;n.set(s,o.set(r,t)),s=`${a}-${e}`;const c=n.get(s)||new Map;if(n.set(s,c.set(r,t)),i){s=`${a}-${e}-${i}`;const u=n.get(s)||new Map;n.set(s,u.set(r,t))}}function uC(e,t,r){e.clear(),t.clear();for(const n of r){const{source:a,target:i,sourceHandle:s=null,targetHandle:o=null}=n,c={edgeId:n.id,source:a,target:i,sourceHandle:s,targetHandle:o},u=`${a}-${s}--${i}-${o}`,d=`${i}-${o}--${a}-${s}`;Rj("source",c,d,e,a,s),Rj("target",c,u,e,i,o),t.set(n.id,n)}}function dC(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:dC(r,t):!1}function Lj(e,t,r){var a;let n=e;do{if((a=n==null?void 0:n.matches)!=null&&a.call(n,t))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function J8(e,t,r,n){const a=new Map;for(const[i,s]of e)if((s.selected||s.id===n)&&(!s.parentId||!dC(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const o=e.get(i);o&&a.set(i,{id:i,position:o.position||{x:0,y:0},distance:{x:r.x-o.internals.positionAbsolute.x,y:r.y-o.internals.positionAbsolute.y},extent:o.extent,parentId:o.parentId,origin:o.origin,expandParent:o.expandParent,internals:{positionAbsolute:o.internals.positionAbsolute||{x:0,y:0}},measured:{width:o.measured.width??0,height:o.measured.height??0}})}return a}function eg({nodeId:e,dragItems:t,nodeLookup:r,dragging:n=!0}){var s,o,c;const a=[];for(const[u,d]of t){const f=(s=r.get(u))==null?void 0:s.internals.userNode;f&&a.push({...f,position:d.position,dragging:n})}if(!e)return[a[0],a];const i=(o=r.get(e))==null?void 0:o.internals.userNode;return[i?{...i,position:((c=t.get(e))==null?void 0:c.position)||i.position,dragging:n}:a[0],a]}function e6({dragItems:e,snapGrid:t,x:r,y:n}){const a=e.values().next().value;if(!a)return null;const i={x:r-a.distance.x,y:n-a.distance.y},s=ru(i,t);return{x:s.x-i.x,y:s.y-i.y}}function t6({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:n,onDragStop:a}){let i={x:null,y:null},s=0,o=new Map,c=!1,u={x:0,y:0},d=null,f=!1,h=null,m=!1,p=!1,y=null;function v({noDragClassName:x,handleSelector:w,domNode:j,isSelectable:k,nodeId:_,nodeClickDistance:N=0}){h=br(j);function S({x:C,y:L}){const{nodeLookup:P,nodeExtent:D,snapGrid:I,snapToGrid:R,nodeOrigin:A,onNodeDrag:M,onSelectionDrag:z,onError:V,updateNodePositions:B}=t();i={x:C,y:L};let X=!1;const q=o.size>1,J=q&&D?Xy(tu(o)):null,ce=q&&R?e6({dragItems:o,snapGrid:I,x:C,y:L}):null;for(const[te,Q]of o){if(!P.has(te))continue;let U={x:C-Q.distance.x,y:L-Q.distance.y};R&&(U=ce?{x:Math.round(U.x+ce.x),y:Math.round(U.y+ce.y)}:ru(U,I));let Z=null;if(q&&D&&!Q.extent&&J){const{positionAbsolute:ne}=Q.internals,ue=ne.x-J.x+D[0][0],F=ne.x+Q.measured.width-J.x2+D[1][0],Y=ne.y-J.y+D[0][1],ie=ne.y+Q.measured.height-J.y2+D[1][1];Z=[[ue,Y],[F,ie]]}const{position:ee,positionAbsolute:H}=YP({nodeId:te,nextPosition:U,nodeLookup:P,nodeExtent:Z||D,nodeOrigin:A,onError:V});X=X||Q.position.x!==ee.x||Q.position.y!==ee.y,Q.position=ee,Q.internals.positionAbsolute=H}if(p=p||X,!!X&&(B(o,!0),y&&(n||M||!_&&z))){const[te,Q]=eg({nodeId:_,dragItems:o,nodeLookup:P});n==null||n(y,o,te,Q),M==null||M(y,te,Q),_||z==null||z(y,Q)}}async function E(){if(!d)return;const{transform:C,panBy:L,autoPanSpeed:P,autoPanOnNodeDrag:D}=t();if(!D){c=!1,cancelAnimationFrame(s);return}const[I,R]=GP(u,d,P);(I!==0||R!==0)&&(i.x=(i.x??0)-I/C[2],i.y=(i.y??0)-R/C[2],await L({x:I,y:R})&&S(i)),s=requestAnimationFrame(E)}function T(C){var q;const{nodeLookup:L,multiSelectionActive:P,nodesDraggable:D,transform:I,snapGrid:R,snapToGrid:A,selectNodesOnDrag:M,onNodeDragStart:z,onSelectionDragStart:V,unselectNodesAndEdges:B}=t();f=!0,(!M||!k)&&!P&&_&&((q=L.get(_))!=null&&q.selected||B()),k&&M&&_&&(e==null||e(_));const X=Gl(C.sourceEvent,{transform:I,snapGrid:R,snapToGrid:A,containerBounds:d});if(i=X,o=J8(L,D,X,_),o.size>0&&(r||z||!_&&V)){const[J,ce]=eg({nodeId:_,dragItems:o,nodeLookup:L});r==null||r(C.sourceEvent,o,J,ce),z==null||z(C.sourceEvent,J,ce),_||V==null||V(C.sourceEvent,ce)}}const O=EP().clickDistance(N).on("start",C=>{const{domNode:L,nodeDragThreshold:P,transform:D,snapGrid:I,snapToGrid:R}=t();d=(L==null?void 0:L.getBoundingClientRect())||null,m=!1,p=!1,y=C.sourceEvent,P===0&&T(C),i=Gl(C.sourceEvent,{transform:D,snapGrid:I,snapToGrid:R,containerBounds:d}),u=mn(C.sourceEvent,d)}).on("drag",C=>{const{autoPanOnNodeDrag:L,transform:P,snapGrid:D,snapToGrid:I,nodeDragThreshold:R,nodeLookup:A}=t(),M=Gl(C.sourceEvent,{transform:P,snapGrid:D,snapToGrid:I,containerBounds:d});if(y=C.sourceEvent,(C.sourceEvent.type==="touchmove"&&C.sourceEvent.touches.length>1||_&&!A.has(_))&&(m=!0),!m){if(!c&&L&&f&&(c=!0,E()),!f){const z=mn(C.sourceEvent,d),V=z.x-u.x,B=z.y-u.y;Math.sqrt(V*V+B*B)>R&&T(C)}(i.x!==M.xSnapped||i.y!==M.ySnapped)&&o&&f&&(u=mn(C.sourceEvent,d),S(M))}}).on("end",C=>{if(!(!f||m)&&(c=!1,f=!1,cancelAnimationFrame(s),o.size>0)){const{nodeLookup:L,updateNodePositions:P,onNodeDragStop:D,onSelectionDragStop:I}=t();if(p&&(P(o,!1),p=!1),a||D||!_&&I){const[R,A]=eg({nodeId:_,dragItems:o,nodeLookup:L,dragging:!1});a==null||a(C.sourceEvent,o,R,A),D==null||D(C.sourceEvent,R,A),_||I==null||I(C.sourceEvent,A)}}}).filter(C=>{const L=C.target;return!C.button&&(!x||!Lj(L,`.${x}`,j))&&(!w||Lj(L,w,j))});h.call(O)}function g(){h==null||h.on(".drag",null)}return{update:v,destroy:g}}function r6(e,t,r){const n=[],a={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const i of t.values())Nc(a,Co(i))>0&&n.push(i);return n}const n6=250;function a6(e,t,r,n){var o,c;let a=[],i=1/0;const s=r6(e,r,t+n6);for(const u of s){const d=[...((o=u.internals.handleBounds)==null?void 0:o.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const f of d){if(n.nodeId===f.nodeId&&n.type===f.type&&n.id===f.id)continue;const{x:h,y:m}=ds(u,f,f.position,!0),p=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(m-e.y,2));p>t||(p<i?(a=[{...f,x:h,y:m}],i=p):p===i&&a.push({...f,x:h,y:m}))}}if(!a.length)return null;if(a.length>1){const u=n.type==="source"?"target":"source";return a.find(d=>d.type===u)??a[0]}return a[0]}function fC(e,t,r,n,a,i=!1){var u,d,f;const s=n.get(e);if(!s)return null;const o=a==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((d=s.internals.handleBounds)==null?void 0:d.source)??[],...((f=s.internals.handleBounds)==null?void 0:f.target)??[]],c=(r?o==null?void 0:o.find(h=>h.id===r):o==null?void 0:o[0])??null;return c&&i?{...c,...ds(s,c,c.position,!0)}:c}function hC(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function i6(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const mC=()=>!0;function s6(e,{connectionMode:t,connectionRadius:r,handleId:n,nodeId:a,edgeUpdaterType:i,isTarget:s,domNode:o,nodeLookup:c,lib:u,autoPanOnConnect:d,flowId:f,panBy:h,cancelConnection:m,onConnectStart:p,onConnect:y,onConnectEnd:v,isValidConnection:g=mC,onReconnectEnd:x,updateConnection:w,getTransform:j,getFromHandle:k,autoPanSpeed:_,dragThreshold:N=1,handleDomNode:S}){const E=eC(e.target);let T=0,O;const{x:C,y:L}=mn(e),P=hC(i,S),D=o==null?void 0:o.getBoundingClientRect();let I=!1;if(!D||!P)return;const R=fC(a,P,n,c,t);if(!R)return;let A=mn(e,D),M=!1,z=null,V=!1,B=null;function X(){if(!d||!D)return;const[ee,H]=GP(A,D,_);h({x:ee,y:H}),T=requestAnimationFrame(X)}const q={...R,nodeId:a,type:P,position:R.position},J=c.get(a);let te={inProgress:!0,isValid:null,from:ds(J,q,fe.Left,!0),fromHandle:q,fromPosition:q.position,fromNode:J,to:A,toHandle:null,toPosition:_j[q.position],toNode:null,pointer:A};function Q(){I=!0,w(te),p==null||p(e,{nodeId:a,handleId:n,handleType:P})}N===0&&Q();function U(ee){if(!I){const{x:ie,y:he}=mn(ee),je=ie-C,_e=he-L;if(!(je*je+_e*_e>N*N))return;Q()}if(!k()||!q){Z(ee);return}const H=j();A=mn(ee,D),O=a6(nu(A,H,!1,[1,1]),r,c,q),M||(X(),M=!0);const ne=pC(ee,{handle:O,connectionMode:t,fromNodeId:a,fromHandleId:n,fromType:s?"target":"source",isValidConnection:g,doc:E,lib:u,flowId:f,nodeLookup:c});B=ne.handleDomNode,z=ne.connection,V=i6(!!O,ne.isValid);const ue=c.get(a),F=ue?ds(ue,q,fe.Left,!0):te.from,Y={...te,from:F,isValid:V,to:ne.toHandle&&V?Uf({x:ne.toHandle.x,y:ne.toHandle.y},H):A,toHandle:ne.toHandle,toPosition:V&&ne.toHandle?ne.toHandle.position:_j[q.position],toNode:ne.toHandle?c.get(ne.toHandle.nodeId):null,pointer:A};w(Y),te=Y}function Z(ee){if(!("touches"in ee&&ee.touches.length>0)){if(I){(O||B)&&z&&V&&(y==null||y(z));const{inProgress:H,...ne}=te,ue={...ne,toPosition:te.toHandle?te.toPosition:null};v==null||v(ee,ue),i&&(x==null||x(ee,ue))}m(),cancelAnimationFrame(T),M=!1,V=!1,z=null,B=null,E.removeEventListener("mousemove",U),E.removeEventListener("mouseup",Z),E.removeEventListener("touchmove",U),E.removeEventListener("touchend",Z)}}E.addEventListener("mousemove",U),E.addEventListener("mouseup",Z),E.addEventListener("touchmove",U),E.addEventListener("touchend",Z)}function pC(e,{handle:t,connectionMode:r,fromNodeId:n,fromHandleId:a,fromType:i,doc:s,lib:o,flowId:c,isValidConnection:u=mC,nodeLookup:d}){const f=i==="target",h=t?s.querySelector(`.${o}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:m,y:p}=mn(e),y=s.elementFromPoint(m,p),v=y!=null&&y.classList.contains(`${o}-flow__handle`)?y:h,g={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const x=hC(void 0,v),w=v.getAttribute("data-nodeid"),j=v.getAttribute("data-handleid"),k=v.classList.contains("connectable"),_=v.classList.contains("connectableend");if(!w||!x)return g;const N={source:f?w:n,sourceHandle:f?j:a,target:f?n:w,targetHandle:f?a:j};g.connection=N;const E=k&&_&&(r===Eo.Strict?f&&x==="source"||!f&&x==="target":w!==n||j!==a);g.isValid=E&&u(N),g.toHandle=fC(w,x,j,d,r,!0)}return g}const Zy={onPointerDown:s6,isValid:pC};function o6({domNode:e,panZoom:t,getTransform:r,getViewScale:n}){const a=br(e);function i({translateExtent:o,width:c,height:u,zoomStep:d=1,pannable:f=!0,zoomable:h=!0,inversePan:m=!1}){const p=w=>{if(w.sourceEvent.type!=="wheel"||!t)return;const j=r(),k=w.sourceEvent.ctrlKey&&_c()?10:1,_=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*d,N=j[2]*Math.pow(2,_*k);t.scaleTo(N)};let y=[0,0];const v=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(y=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},g=w=>{const j=r();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!t)return;const k=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],_=[k[0]-y[0],k[1]-y[1]];y=k;const N=n()*Math.max(j[2],Math.log(j[2]))*(m?-1:1),S={x:j[0]-_[0]*N,y:j[1]-_[1]*N},E=[[0,0],[c,u]];t.setViewportConstrained({x:S.x,y:S.y,zoom:j[2]},E,o)},x=UP().on("start",v).on("zoom",f?g:null).on("zoom.wheel",h?p:null);a.call(x,{})}function s(){a.on("zoom",null)}return{update:i,destroy:s,pointer:sn}}const cm=e=>({x:e.x,y:e.y,zoom:e.k}),tg=({x:e,y:t,zoom:r})=>sm.translate(e,t).scale(r),Ws=(e,t)=>e.target.closest(`.${t}`),gC=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),l6=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,rg=(e,t=0,r=l6,n=()=>{})=>{const a=typeof t=="number"&&t>0;return a||n(),a?e.transition().duration(t).ease(r).on("end",n):e},yC=e=>{const t=e.ctrlKey&&_c()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function c6({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:n,panOnScrollMode:a,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:o,onPanZoom:c,onPanZoomEnd:u}){return d=>{if(Ws(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=r.property("__zoom").k||1;if(d.ctrlKey&&s){const v=sn(d),g=yC(d),x=f*Math.pow(2,g);n.scaleTo(r,x,v,d);return}const h=d.deltaMode===1?20:1;let m=a===Qi.Vertical?0:d.deltaX*h,p=a===Qi.Horizontal?0:d.deltaY*h;!_c()&&d.shiftKey&&a!==Qi.Vertical&&(m=d.deltaY*h,p=0),n.translateBy(r,-(m/f)*i,-(p/f)*i,{internal:!0});const y=cm(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(d,y),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,y),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,o==null||o(d,y))}}function u6({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(n,a){const i=n.type==="wheel",s=!t&&i&&!n.ctrlKey,o=Ws(n,e);if(n.ctrlKey&&i&&o&&n.preventDefault(),s||o)return null;n.preventDefault(),r.call(this,n,a)}}function d6({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return n=>{var i,s,o;if((i=n.sourceEvent)!=null&&i.internal)return;const a=cm(n.transform);e.mouseButton=((s=n.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((o=n.sourceEvent)==null?void 0:o.type)==="mousedown"&&t(!0),r&&(r==null||r(n.sourceEvent,a))}}function f6({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:n,onPanZoom:a}){return i=>{var s,o;e.usedRightMouseButton=!!(r&&gC(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||n([i.transform.x,i.transform.y,i.transform.k]),a&&!((o=i.sourceEvent)!=null&&o.internal)&&(a==null||a(i.sourceEvent,cm(i.transform)))}}function h6({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:a,onPaneContextMenu:i}){return s=>{var o;if(!((o=s.sourceEvent)!=null&&o.internal)&&(e.isZoomingOrPanning=!1,i&&gC(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,n(!1),a)){const c=cm(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(s.sourceEvent,c)},r?150:0)}}}function m6({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:n,panOnScroll:a,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:o,noPanClassName:c,lib:u,connectionInProgress:d}){return f=>{var v;const h=e||t,m=r&&f.ctrlKey,p=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(Ws(f,`${u}-flow__node`)||Ws(f,`${u}-flow__edge`)))return!0;if(!n&&!h&&!a&&!i&&!r||s||d&&!p||Ws(f,o)&&p||Ws(f,c)&&(!p||a&&p&&!e)||!r&&f.ctrlKey&&p)return!1;if(!r&&f.type==="touchstart"&&((v=f.touches)==null?void 0:v.length)>1)return f.preventDefault(),!1;if(!h&&!a&&!m&&p||!n&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(n)&&!n.includes(f.button)&&f.type==="mousedown")return!1;const y=Array.isArray(n)&&n.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||p)&&y}}function p6({domNode:e,minZoom:t,maxZoom:r,translateExtent:n,viewport:a,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:o,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=UP().scaleExtent([t,r]).translateExtent(n),h=br(e).call(f);x({x:a.x,y:a.y,zoom:Po(a.zoom,t,r)},[[0,0],[d.width,d.height]],n);const m=h.on("wheel.zoom"),p=h.on("dblclick.zoom");f.wheelDelta(yC);function y(O,C){return h?new Promise(L=>{f==null||f.interpolate((C==null?void 0:C.interpolate)==="linear"?ua:qd).transform(rg(h,C==null?void 0:C.duration,C==null?void 0:C.ease,()=>L(!0)),O)}):Promise.resolve(!1)}function v({noWheelClassName:O,noPanClassName:C,onPaneContextMenu:L,userSelectionActive:P,panOnScroll:D,panOnDrag:I,panOnScrollMode:R,panOnScrollSpeed:A,preventScrolling:M,zoomOnPinch:z,zoomOnScroll:V,zoomOnDoubleClick:B,zoomActivationKeyPressed:X,lib:q,onTransformChange:J,connectionInProgress:ce,paneClickDistance:te,selectionOnDrag:Q}){P&&!u.isZoomingOrPanning&&g();const U=D&&!X&&!P;f.clickDistance(Q?1/0:!hn(te)||te<0?0:te);const Z=U?c6({zoomPanValues:u,noWheelClassName:O,d3Selection:h,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:A,zoomOnPinch:z,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:o}):u6({noWheelClassName:O,preventScrolling:M,d3ZoomHandler:m});if(h.on("wheel.zoom",Z,{passive:!1}),!P){const H=d6({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:s});f.on("start",H);const ne=f6({zoomPanValues:u,panOnDrag:I,onPaneContextMenu:!!L,onPanZoom:i,onTransformChange:J});f.on("zoom",ne);const ue=h6({zoomPanValues:u,panOnDrag:I,panOnScroll:D,onPaneContextMenu:L,onPanZoomEnd:o,onDraggingChange:c});f.on("end",ue)}const ee=m6({zoomActivationKeyPressed:X,panOnDrag:I,zoomOnScroll:V,panOnScroll:D,zoomOnDoubleClick:B,zoomOnPinch:z,userSelectionActive:P,noPanClassName:C,noWheelClassName:O,lib:q,connectionInProgress:ce});f.filter(ee),B?h.on("dblclick.zoom",p):h.on("dblclick.zoom",null)}function g(){f.on("zoom",null)}async function x(O,C,L){const P=tg(O),D=f==null?void 0:f.constrain()(P,C,L);return D&&await y(D),new Promise(I=>I(D))}async function w(O,C){const L=tg(O);return await y(L,C),new Promise(P=>P(L))}function j(O){if(h){const C=tg(O),L=h.property("__zoom");(L.k!==O.zoom||L.x!==O.x||L.y!==O.y)&&(f==null||f.transform(h,C,null,{sync:!0}))}}function k(){const O=h?BP(h.node()):{x:0,y:0,k:1};return{x:O.x,y:O.y,zoom:O.k}}function _(O,C){return h?new Promise(L=>{f==null||f.interpolate((C==null?void 0:C.interpolate)==="linear"?ua:qd).scaleTo(rg(h,C==null?void 0:C.duration,C==null?void 0:C.ease,()=>L(!0)),O)}):Promise.resolve(!1)}function N(O,C){return h?new Promise(L=>{f==null||f.interpolate((C==null?void 0:C.interpolate)==="linear"?ua:qd).scaleBy(rg(h,C==null?void 0:C.duration,C==null?void 0:C.ease,()=>L(!0)),O)}):Promise.resolve(!1)}function S(O){f==null||f.scaleExtent(O)}function E(O){f==null||f.translateExtent(O)}function T(O){const C=!hn(O)||O<0?0:O;f==null||f.clickDistance(C)}return{update:v,destroy:g,setViewport:w,setViewportConstrained:x,getViewport:k,scaleTo:_,scaleBy:N,setScaleExtent:S,setTranslateExtent:E,syncViewport:j,setClickDistance:T}}var Ao;(function(e){e.Line="line",e.Handle="handle"})(Ao||(Ao={}));function g6({width:e,prevWidth:t,height:r,prevHeight:n,affectsX:a,affectsY:i}){const s=e-t,o=r-n,c=[s>0?1:s<0?-1:0,o>0?1:o<0?-1:0];return s&&a&&(c[0]=c[0]*-1),o&&i&&(c[1]=c[1]*-1),c}function $j(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),n=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:n,affectsY:a}}function Ta(e,t){return Math.max(0,t-e)}function Ma(e,t){return Math.max(0,e-t)}function fd(e,t,r){return Math.max(0,t-e,e-r)}function zj(e,t){return e?!t:t}function y6(e,t,r,n,a,i,s,o){let{affectsX:c,affectsY:u}=t;const{isHorizontal:d,isVertical:f}=t,h=d&&f,{xSnapped:m,ySnapped:p}=r,{minWidth:y,maxWidth:v,minHeight:g,maxHeight:x}=n,{x:w,y:j,width:k,height:_,aspectRatio:N}=e;let S=Math.floor(d?m-e.pointerX:0),E=Math.floor(f?p-e.pointerY:0);const T=k+(c?-S:S),O=_+(u?-E:E),C=-i[0]*k,L=-i[1]*_;let P=fd(T,y,v),D=fd(O,g,x);if(s){let A=0,M=0;c&&S<0?A=Ta(w+S+C,s[0][0]):!c&&S>0&&(A=Ma(w+T+C,s[1][0])),u&&E<0?M=Ta(j+E+L,s[0][1]):!u&&E>0&&(M=Ma(j+O+L,s[1][1])),P=Math.max(P,A),D=Math.max(D,M)}if(o){let A=0,M=0;c&&S>0?A=Ma(w+S,o[0][0]):!c&&S<0&&(A=Ta(w+T,o[1][0])),u&&E>0?M=Ma(j+E,o[0][1]):!u&&E<0&&(M=Ta(j+O,o[1][1])),P=Math.max(P,A),D=Math.max(D,M)}if(a){if(d){const A=fd(T/N,g,x)*N;if(P=Math.max(P,A),s){let M=0;!c&&!u||c&&!u&&h?M=Ma(j+L+T/N,s[1][1])*N:M=Ta(j+L+(c?S:-S)/N,s[0][1])*N,P=Math.max(P,M)}if(o){let M=0;!c&&!u||c&&!u&&h?M=Ta(j+T/N,o[1][1])*N:M=Ma(j+(c?S:-S)/N,o[0][1])*N,P=Math.max(P,M)}}if(f){const A=fd(O*N,y,v)/N;if(D=Math.max(D,A),s){let M=0;!c&&!u||u&&!c&&h?M=Ma(w+O*N+C,s[1][0])/N:M=Ta(w+(u?E:-E)*N+C,s[0][0])/N,D=Math.max(D,M)}if(o){let M=0;!c&&!u||u&&!c&&h?M=Ta(w+O*N,o[1][0])/N:M=Ma(w+(u?E:-E)*N,o[0][0])/N,D=Math.max(D,M)}}}E=E+(E<0?D:-D),S=S+(S<0?P:-P),a&&(h?T>O*N?E=(zj(c,u)?-S:S)/N:S=(zj(c,u)?-E:E)*N:d?(E=S/N,u=c):(S=E*N,c=u));const I=c?w+S:w,R=u?j+E:j;return{width:k+(c?-S:S),height:_+(u?-E:E),x:i[0]*S*(c?-1:1)+I,y:i[1]*E*(u?-1:1)+R}}const vC={width:0,height:0,x:0,y:0},v6={...vC,pointerX:0,pointerY:0,aspectRatio:1};function x6(e){return[[0,0],[e.measured.width,e.measured.height]]}function b6(e,t,r){const n=t.position.x+e.position.x,a=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,o=r[0]*i,c=r[1]*s;return[[n-o,a-c],[n+i-o,a+s-c]]}function w6({domNode:e,nodeId:t,getStoreItems:r,onChange:n,onEnd:a}){const i=br(e);let s={controlDirection:$j("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function o({controlPosition:u,boundaries:d,keepAspectRatio:f,resizeDirection:h,onResizeStart:m,onResize:p,onResizeEnd:y,shouldResize:v}){let g={...vC},x={...v6};s={boundaries:d,resizeDirection:h,keepAspectRatio:f,controlDirection:$j(u)};let w,j=null,k=[],_,N,S,E=!1;const T=EP().on("start",O=>{const{nodeLookup:C,transform:L,snapGrid:P,snapToGrid:D,nodeOrigin:I,paneDomNode:R}=r();if(w=C.get(t),!w)return;j=(R==null?void 0:R.getBoundingClientRect())??null;const{xSnapped:A,ySnapped:M}=Gl(O.sourceEvent,{transform:L,snapGrid:P,snapToGrid:D,containerBounds:j});g={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},x={...g,pointerX:A,pointerY:M,aspectRatio:g.width/g.height},_=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(_=C.get(w.parentId),N=_&&w.extent==="parent"?x6(_):void 0),k=[],S=void 0;for(const[z,V]of C)if(V.parentId===t&&(k.push({id:z,position:{...V.position},extent:V.extent}),V.extent==="parent"||V.expandParent)){const B=b6(V,w,V.origin??I);S?S=[[Math.min(B[0][0],S[0][0]),Math.min(B[0][1],S[0][1])],[Math.max(B[1][0],S[1][0]),Math.max(B[1][1],S[1][1])]]:S=B}m==null||m(O,{...g})}).on("drag",O=>{const{transform:C,snapGrid:L,snapToGrid:P,nodeOrigin:D}=r(),I=Gl(O.sourceEvent,{transform:C,snapGrid:L,snapToGrid:P,containerBounds:j}),R=[];if(!w)return;const{x:A,y:M,width:z,height:V}=g,B={},X=w.origin??D,{width:q,height:J,x:ce,y:te}=y6(x,s.controlDirection,I,s.boundaries,s.keepAspectRatio,X,N,S),Q=q!==z,U=J!==V,Z=ce!==A&&Q,ee=te!==M&&U;if(!Z&&!ee&&!Q&&!U)return;if((Z||ee||X[0]===1||X[1]===1)&&(B.x=Z?ce:g.x,B.y=ee?te:g.y,g.x=B.x,g.y=B.y,k.length>0)){const F=ce-A,Y=te-M;for(const ie of k)ie.position={x:ie.position.x-F+X[0]*(q-z),y:ie.position.y-Y+X[1]*(J-V)},R.push(ie)}if((Q||U)&&(B.width=Q&&(!s.resizeDirection||s.resizeDirection==="horizontal")?q:g.width,B.height=U&&(!s.resizeDirection||s.resizeDirection==="vertical")?J:g.height,g.width=B.width,g.height=B.height),_&&w.expandParent){const F=X[0]*(B.width??0);B.x&&B.x<F&&(g.x=F,x.x=x.x-(B.x-F));const Y=X[1]*(B.height??0);B.y&&B.y<Y&&(g.y=Y,x.y=x.y-(B.y-Y))}const H=g6({width:g.width,prevWidth:z,height:g.height,prevHeight:V,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),ne={...g,direction:H};(v==null?void 0:v(O,ne))!==!1&&(E=!0,p==null||p(O,ne),n(B,R))}).on("end",O=>{E&&(y==null||y(O,{...g}),a==null||a({...g}),E=!1)});i.call(T)}function c(){i.on(".drag",null)}return{update:o,destroy:c}}const{useDebugValue:j6}=fn,{useSyncExternalStoreWithSelector:k6}=dP,N6=e=>e;function xC(e,t=N6,r){const n=k6(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return j6(n),n}const Fj=(e,t)=>{const r=iP(e),n=(a,i=t)=>xC(r,a,i);return Object.assign(n,r),n},_6=(e,t)=>e?Fj(e,t):Fj;function He(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const um=b.createContext(null),S6=um.Provider,bC=$n.error001();function be(e,t){const r=b.useContext(um);if(r===null)throw new Error(bC);return xC(r,e,t)}function We(){const e=b.useContext(um);if(e===null)throw new Error(bC);return b.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Bj={display:"none"},E6={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},wC="react-flow__node-desc",jC="react-flow__edge-desc",P6="react-flow__aria-live",C6=e=>e.ariaLiveMessage,O6=e=>e.ariaLabelConfig;function A6({rfId:e}){const t=be(C6);return l.jsx("div",{id:`${P6}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:E6,children:t})}function T6({rfId:e,disableKeyboardA11y:t}){const r=be(O6);return l.jsxs(l.Fragment,{children:[l.jsx("div",{id:`${wC}-${e}`,style:Bj,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),l.jsx("div",{id:`${jC}-${e}`,style:Bj,children:r["edge.a11yDescription.default"]}),!t&&l.jsx(A6,{rfId:e})]})}const dm=b.forwardRef(({position:e="top-left",children:t,className:r,style:n,...a},i)=>{const s=`${e}`.split("-");return l.jsx("div",{className:lt(["react-flow__panel",r,...s]),style:n,ref:i,...a,children:t})});dm.displayName="Panel";function M6({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:l.jsx(dm,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:l.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const I6=e=>{const t=[],r=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,n]of e.edgeLookup)n.selected&&r.push(n);return{selectedNodes:t,selectedEdges:r}},hd=e=>e.id;function D6(e,t){return He(e.selectedNodes.map(hd),t.selectedNodes.map(hd))&&He(e.selectedEdges.map(hd),t.selectedEdges.map(hd))}function R6({onSelectionChange:e}){const t=We(),{selectedNodes:r,selectedEdges:n}=be(I6,D6);return b.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(i=>i(a))},[r,n,e]),null}const L6=e=>!!e.onSelectionChangeHandlers;function $6({onSelectionChange:e}){const t=be(L6);return e||t?l.jsx(R6,{onSelectionChange:e}):null}const kC=[0,0],z6={x:0,y:0,zoom:1},F6=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Uj=[...F6,"rfId"],B6=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Vj={translateExtent:jc,nodeOrigin:kC,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function U6(e){const{setNodes:t,setEdges:r,setMinZoom:n,setMaxZoom:a,setTranslateExtent:i,setNodeExtent:s,reset:o,setDefaultNodesAndEdges:c}=be(B6,He),u=We();b.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{d.current=Vj,o()}),[]);const d=b.useRef(Vj);return b.useEffect(()=>{for(const f of Uj){const h=e[f],m=d.current[f];h!==m&&(typeof e[f]>"u"||(f==="nodes"?t(h):f==="edges"?r(h):f==="minZoom"?n(h):f==="maxZoom"?a(h):f==="translateExtent"?i(h):f==="nodeExtent"?s(h):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:I8(h)}):f==="fitView"?u.setState({fitViewQueued:h}):f==="fitViewOptions"?u.setState({fitViewOptions:h}):u.setState({[f]:h})))}d.current=e},Uj.map(f=>e[f])),null}function Hj(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function V6(e){var n;const[t,r]=b.useState(e==="system"?null:e);return b.useEffect(()=>{if(e!=="system"){r(e);return}const a=Hj(),i=()=>r(a!=null&&a.matches?"dark":"light");return i(),a==null||a.addEventListener("change",i),()=>{a==null||a.removeEventListener("change",i)}},[e]),t!==null?t:(n=Hj())!=null&&n.matches?"dark":"light"}const Wj=typeof document<"u"?document:null;function Sc(e=null,t={target:Wj,actInsideInputWithModifier:!0}){const[r,n]=b.useState(!1),a=b.useRef(!1),i=b.useRef(new Set([])),[s,o]=b.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return b.useEffect(()=>{const c=(t==null?void 0:t.target)??Wj,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=m=>{var v,g;if(a.current=m.ctrlKey||m.metaKey||m.shiftKey||m.altKey,(!a.current||a.current&&!u)&&tC(m))return!1;const y=qj(m.code,o);if(i.current.add(m[y]),Kj(s,i.current,!1)){const x=((g=(v=m.composedPath)==null?void 0:v.call(m))==null?void 0:g[0])||m.target,w=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";t.preventDefault!==!1&&(a.current||!w)&&m.preventDefault(),n(!0)}},f=m=>{const p=qj(m.code,o);Kj(s,i.current,!0)?(n(!1),i.current.clear()):i.current.delete(m[p]),m.key==="Meta"&&i.current.clear(),a.current=!1},h=()=>{i.current.clear(),n(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,n]),r}function Kj(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function qj(e,t){return t.includes(e)?"code":"key"}const H6=()=>{const e=We();return b.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:n}=e.getState();return n?n.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[n,a,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??n,y:t.y??a,zoom:t.zoom??i},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,n]=e.getState().transform;return{x:t,y:r,zoom:n}},setCenter:async(t,r,n)=>e.getState().setCenter(t,r,n),fitBounds:async(t,r)=>{const{width:n,height:a,minZoom:i,maxZoom:s,panZoom:o}=e.getState(),c=mx(t,n,a,i,s,(r==null?void 0:r.padding)??.1);return o?(await o.setViewport(c,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:n,snapGrid:a,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:o,y:c}=s.getBoundingClientRect(),u={x:t.x-o,y:t.y-c},d=r.snapGrid??a,f=r.snapToGrid??i;return nu(u,n,f,d)},flowToScreenPosition:t=>{const{transform:r,domNode:n}=e.getState();if(!n)return t;const{x:a,y:i}=n.getBoundingClientRect(),s=Uf(t,r);return{x:s.x+a,y:s.y+i}}}),[])};function NC(e,t){const r=[],n=new Map,a=[];for(const i of e)if(i.type==="add"){a.push(i);continue}else if(i.type==="remove"||i.type==="replace")n.set(i.id,[i]);else{const s=n.get(i.id);s?s.push(i):n.set(i.id,[i])}for(const i of t){const s=n.get(i.id);if(!s){r.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){r.push({...s[0].item});continue}const o={...i};for(const c of s)W6(c,o);r.push(o)}return a.length&&a.forEach(i=>{i.index!==void 0?r.splice(i.index,0,{...i.item}):r.push({...i.item})}),r}function W6(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function _C(e,t){return NC(e,t)}function SC(e,t){return NC(e,t)}function Si(e,t){return{id:e,type:"select",selected:t}}function Ks(e,t=new Set,r=!1){const n=[];for(const[a,i]of e){const s=t.has(a);!(i.selected===void 0&&!s)&&i.selected!==s&&(r&&(i.selected=s),n.push(Si(i.id,s)))}return n}function Yj({items:e=[],lookup:t}){var a;const r=[],n=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const o=t.get(s.id),c=((a=o==null?void 0:o.internals)==null?void 0:a.userNode)??o;c!==void 0&&c!==s&&r.push({id:s.id,item:s,type:"replace"}),c===void 0&&r.push({item:s,type:"add",index:i})}for(const[i]of t)n.get(i)===void 0&&r.push({id:i,type:"remove"});return r}function Xj(e){return{id:e.id,type:"remove"}}const Gj=e=>N8(e),K6=e=>qP(e);function EC(e){return b.forwardRef(e)}const q6=typeof window<"u"?b.useLayoutEffect:b.useEffect;function Qj(e){const[t,r]=b.useState(BigInt(0)),[n]=b.useState(()=>Y6(()=>r(a=>a+BigInt(1))));return q6(()=>{const a=n.get();a.length&&(e(a),n.reset())},[t]),n}function Y6(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const PC=b.createContext(null);function X6({children:e}){const t=We(),r=b.useCallback(o=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:d,onNodesChange:f,nodeLookup:h,fitViewQueued:m,onNodesChangeMiddlewareMap:p}=t.getState();let y=c;for(const g of o)y=typeof g=="function"?g(y):g;let v=Yj({items:y,lookup:h});for(const g of p.values())v=g(v);d&&u(y),v.length>0?f==null||f(v):m&&window.requestAnimationFrame(()=>{const{fitViewQueued:g,nodes:x,setNodes:w}=t.getState();g&&w(x)})},[]),n=Qj(r),a=b.useCallback(o=>{const{edges:c=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:h}=t.getState();let m=c;for(const p of o)m=typeof p=="function"?p(m):p;d?u(m):f&&f(Yj({items:m,lookup:h}))},[]),i=Qj(a),s=b.useMemo(()=>({nodeQueue:n,edgeQueue:i}),[]);return l.jsx(PC.Provider,{value:s,children:e})}function G6(){const e=b.useContext(PC);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const Q6=e=>!!e.panZoom;function Yo(){const e=H6(),t=We(),r=G6(),n=be(Q6),a=b.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),s=f=>{r.nodeQueue.push(f)},o=f=>{r.edgeQueue.push(f)},c=f=>{var g,x;const{nodeLookup:h,nodeOrigin:m}=t.getState(),p=Gj(f)?f:h.get(f.id),y=p.parentId?JP(p.position,p.measured,p.parentId,h,m):p.position,v={...p,position:y,width:((g=p.measured)==null?void 0:g.width)??p.width,height:((x=p.measured)==null?void 0:x.height)??p.height};return Co(v)},u=(f,h,m={replace:!1})=>{s(p=>p.map(y=>{if(y.id===f){const v=typeof h=="function"?h(y):h;return m.replace&&Gj(v)?v:{...y,...v}}return y}))},d=(f,h,m={replace:!1})=>{o(p=>p.map(y=>{if(y.id===f){const v=typeof h=="function"?h(y):h;return m.replace&&K6(v)?v:{...y,...v}}return y}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var h;return(h=i(f))==null?void 0:h.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(h=>({...h}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:s,setEdges:o,addNodes:f=>{const h=Array.isArray(f)?f:[f];r.nodeQueue.push(m=>[...m,...h])},addEdges:f=>{const h=Array.isArray(f)?f:[f];r.edgeQueue.push(m=>[...m,...h])},toObject:()=>{const{nodes:f=[],edges:h=[],transform:m}=t.getState(),[p,y,v]=m;return{nodes:f.map(g=>({...g})),edges:h.map(g=>({...g})),viewport:{x:p,y,zoom:v}}},deleteElements:async({nodes:f=[],edges:h=[]})=>{const{nodes:m,edges:p,onNodesDelete:y,onEdgesDelete:v,triggerNodeChanges:g,triggerEdgeChanges:x,onDelete:w,onBeforeDelete:j}=t.getState(),{nodes:k,edges:_}=await C8({nodesToRemove:f,edgesToRemove:h,nodes:m,edges:p,onBeforeDelete:j}),N=_.length>0,S=k.length>0;if(N){const E=_.map(Xj);v==null||v(_),x(E)}if(S){const E=k.map(Xj);y==null||y(k),g(E)}return(S||N)&&(w==null||w({nodes:k,edges:_})),{deletedNodes:k,deletedEdges:_}},getIntersectingNodes:(f,h=!0,m)=>{const p=Ej(f),y=p?f:c(f),v=m!==void 0;return y?(m||t.getState().nodes).filter(g=>{const x=t.getState().nodeLookup.get(g.id);if(x&&!p&&(g.id===f.id||!x.internals.positionAbsolute))return!1;const w=Co(v?g:x),j=Nc(w,y);return h&&j>0||j>=w.width*w.height||j>=y.width*y.height}):[]},isNodeIntersecting:(f,h,m=!0)=>{const y=Ej(f)?f:c(f);if(!y)return!1;const v=Nc(y,h);return m&&v>0||v>=h.width*h.height||v>=y.width*y.height},updateNode:u,updateNodeData:(f,h,m={replace:!1})=>{u(f,p=>{const y=typeof h=="function"?h(p):h;return m.replace?{...p,data:y}:{...p,data:{...p.data,...y}}},m)},updateEdge:d,updateEdgeData:(f,h,m={replace:!1})=>{d(f,p=>{const y=typeof h=="function"?h(p):h;return m.replace?{...p,data:y}:{...p,data:{...p.data,...y}}},m)},getNodesBounds:f=>{const{nodeLookup:h,nodeOrigin:m}=t.getState();return _8(f,{nodeLookup:h,nodeOrigin:m})},getHandleConnections:({type:f,id:h,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}-${f}${h?`-${h}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:h,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}${f?h?`-${f}-${h}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const h=t.getState().fitViewResolver??M8();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:h}),r.nodeQueue.push(m=>[...m]),h.promise}}},[]);return b.useMemo(()=>({...a,...e,viewportInitialized:n}),[n])}const Zj=e=>e.selected,Z6=typeof window<"u"?window:void 0;function J6({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=We(),{deleteElements:n}=Yo(),a=Sc(e,{actInsideInputWithModifier:!1}),i=Sc(t,{target:Z6});b.useEffect(()=>{if(a){const{edges:s,nodes:o}=r.getState();n({nodes:o.filter(Zj),edges:s.filter(Zj)}),r.setState({nodesSelectionActive:!1})}},[a]),b.useEffect(()=>{r.setState({multiSelectionActive:i})},[i])}function eB(e){const t=We();b.useEffect(()=>{const r=()=>{var a,i,s,o;if(!e.current||!(((i=(a=e.current).checkVisibility)==null?void 0:i.call(a))??!0))return!1;const n=px(e.current);(n.height===0||n.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",$n.error004())),t.setState({width:n.width||500,height:n.height||500})};if(e.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}}},[])}const fm={position:"absolute",width:"100%",height:"100%",top:0,left:0},tB=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function rB({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:a=.5,panOnScrollMode:i=Qi.Free,zoomOnDoubleClick:s=!0,panOnDrag:o=!0,defaultViewport:c,translateExtent:u,minZoom:d,maxZoom:f,zoomActivationKeyCode:h,preventScrolling:m=!0,children:p,noWheelClassName:y,noPanClassName:v,onViewportChange:g,isControlledViewport:x,paneClickDistance:w,selectionOnDrag:j}){const k=We(),_=b.useRef(null),{userSelectionActive:N,lib:S,connectionInProgress:E}=be(tB,He),T=Sc(h),O=b.useRef();eB(_);const C=b.useCallback(L=>{g==null||g({x:L[0],y:L[1],zoom:L[2]}),x||k.setState({transform:L})},[g,x]);return b.useEffect(()=>{if(_.current){O.current=p6({domNode:_.current,minZoom:d,maxZoom:f,translateExtent:u,viewport:c,onDraggingChange:I=>k.setState({paneDragging:I}),onPanZoomStart:(I,R)=>{const{onViewportChangeStart:A,onMoveStart:M}=k.getState();M==null||M(I,R),A==null||A(R)},onPanZoom:(I,R)=>{const{onViewportChange:A,onMove:M}=k.getState();M==null||M(I,R),A==null||A(R)},onPanZoomEnd:(I,R)=>{const{onViewportChangeEnd:A,onMoveEnd:M}=k.getState();M==null||M(I,R),A==null||A(R)}});const{x:L,y:P,zoom:D}=O.current.getViewport();return k.setState({panZoom:O.current,transform:[L,P,D],domNode:_.current.closest(".react-flow")}),()=>{var I;(I=O.current)==null||I.destroy()}}},[]),b.useEffect(()=>{var L;(L=O.current)==null||L.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:a,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:o,zoomActivationKeyPressed:T,preventScrolling:m,noPanClassName:v,userSelectionActive:N,noWheelClassName:y,lib:S,onTransformChange:C,connectionInProgress:E,selectionOnDrag:j,paneClickDistance:w})},[e,t,r,n,a,i,s,o,T,m,v,N,y,S,C,E,j,w]),l.jsx("div",{className:"react-flow__renderer",ref:_,style:fm,children:p})}const nB=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function aB(){const{userSelectionActive:e,userSelectionRect:t}=be(nB,He);return e&&t?l.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const ng=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},iB=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function sB({isSelecting:e,selectionKeyPressed:t,selectionMode:r=kc.Full,panOnDrag:n,paneClickDistance:a,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:m,children:p}){const y=We(),{userSelectionActive:v,elementsSelectable:g,dragging:x,connectionInProgress:w}=be(iB,He),j=g&&(e||v),k=b.useRef(null),_=b.useRef(),N=b.useRef(new Set),S=b.useRef(new Set),E=b.useRef(!1),T=A=>{if(E.current||w){E.current=!1;return}c==null||c(A),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},O=A=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){A.preventDefault();return}u==null||u(A)},C=d?A=>d(A):void 0,L=A=>{E.current&&(A.stopPropagation(),E.current=!1)},P=A=>{var J,ce;const{domNode:M}=y.getState();if(_.current=M==null?void 0:M.getBoundingClientRect(),!_.current)return;const z=A.target===k.current;if(!z&&!!A.target.closest(".nokey")||!e||!(i&&z||t)||A.button!==0||!A.isPrimary)return;(ce=(J=A.target)==null?void 0:J.setPointerCapture)==null||ce.call(J,A.pointerId),E.current=!1;const{x:X,y:q}=mn(A.nativeEvent,_.current);y.setState({userSelectionRect:{width:0,height:0,startX:X,startY:q,x:X,y:q}}),z||(A.stopPropagation(),A.preventDefault())},D=A=>{const{userSelectionRect:M,transform:z,nodeLookup:V,edgeLookup:B,connectionLookup:X,triggerNodeChanges:q,triggerEdgeChanges:J,defaultEdgeOptions:ce,resetSelectedElements:te}=y.getState();if(!_.current||!M)return;const{x:Q,y:U}=mn(A.nativeEvent,_.current),{startX:Z,startY:ee}=M;if(!E.current){const Y=t?0:a;if(Math.hypot(Q-Z,U-ee)<=Y)return;te(),s==null||s(A)}E.current=!0;const H={startX:Z,startY:ee,x:Q<Z?Q:Z,y:U<ee?U:ee,width:Math.abs(Q-Z),height:Math.abs(U-ee)},ne=N.current,ue=S.current;N.current=new Set(hx(V,H,z,r===kc.Partial,!0).map(Y=>Y.id)),S.current=new Set;const F=(ce==null?void 0:ce.selectable)??!0;for(const Y of N.current){const ie=X.get(Y);if(ie)for(const{edgeId:he}of ie.values()){const je=B.get(he);je&&(je.selectable??F)&&S.current.add(he)}}if(!Pj(ne,N.current)){const Y=Ks(V,N.current,!0);q(Y)}if(!Pj(ue,S.current)){const Y=Ks(B,S.current);J(Y)}y.setState({userSelectionRect:H,userSelectionActive:!0,nodesSelectionActive:!1})},I=A=>{var M,z;A.button===0&&((z=(M=A.target)==null?void 0:M.releasePointerCapture)==null||z.call(M,A.pointerId),!v&&A.target===k.current&&y.getState().userSelectionRect&&(T==null||T(A)),y.setState({userSelectionActive:!1,userSelectionRect:null}),E.current&&(o==null||o(A),y.setState({nodesSelectionActive:N.current.size>0})))},R=n===!0||Array.isArray(n)&&n.includes(0);return l.jsxs("div",{className:lt(["react-flow__pane",{draggable:R,dragging:x,selection:e}]),onClick:j?void 0:ng(T,k),onContextMenu:ng(O,k),onWheel:ng(C,k),onPointerEnter:j?void 0:f,onPointerMove:j?D:h,onPointerUp:j?I:void 0,onPointerDownCapture:j?P:void 0,onClickCapture:j?L:void 0,onPointerLeave:m,ref:k,style:fm,children:[p,l.jsx(aB,{})]})}function Jy({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:o,onError:c}=t.getState(),u=o.get(e);if(!u){c==null||c("012",$n.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):a([e])}function CC({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:i,nodeClickDistance:s}){const o=We(),[c,u]=b.useState(!1),d=b.useRef();return b.useEffect(()=>{d.current=t6({getStoreItems:()=>o.getState(),onNodeMouseDown:f=>{Jy({id:f,store:o,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),b.useEffect(()=>{var f,h;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(h=d.current)==null||h.update({noDragClassName:r,handleSelector:n,domNode:e.current,isSelectable:i,nodeId:a,nodeClickDistance:s}),()=>{var m;(m=d.current)==null||m.destroy()}},[r,n,t,i,e,a]),c}const oB=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function OC(){const e=We();return b.useCallback(r=>{const{nodeExtent:n,snapToGrid:a,snapGrid:i,nodesDraggable:s,onError:o,updateNodePositions:c,nodeLookup:u,nodeOrigin:d}=e.getState(),f=new Map,h=oB(s),m=a?i[0]:5,p=a?i[1]:5,y=r.direction.x*m*r.factor,v=r.direction.y*p*r.factor;for(const[,g]of u){if(!h(g))continue;let x={x:g.internals.positionAbsolute.x+y,y:g.internals.positionAbsolute.y+v};a&&(x=ru(x,i));const{position:w,positionAbsolute:j}=YP({nodeId:g.id,nextPosition:x,nodeLookup:u,nodeExtent:n,nodeOrigin:d,onError:o});g.position=w,g.internals.positionAbsolute=j,f.set(g.id,g)}c(f)},[])}const wx=b.createContext(null),lB=wx.Provider;wx.Consumer;const AC=()=>b.useContext(wx),cB=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),uB=(e,t,r)=>n=>{const{connectionClickStartHandle:a,connectionMode:i,connection:s}=n,{fromHandle:o,toHandle:c,isValid:u}=s,d=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===r;return{connectingFrom:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===r,connectingTo:d,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,isPossibleEndHandle:i===Eo.Strict?(o==null?void 0:o.type)!==r:e!==(o==null?void 0:o.nodeId)||t!==(o==null?void 0:o.id),connectionInProcess:!!o,clickConnectionInProcess:!!a,valid:d&&u}};function dB({type:e="source",position:t=fe.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:i=!0,id:s,onConnect:o,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},m){var D,I;const p=s||null,y=e==="target",v=We(),g=AC(),{connectOnClick:x,noPanClassName:w,rfId:j}=be(cB,He),{connectingFrom:k,connectingTo:_,clickConnecting:N,isPossibleEndHandle:S,connectionInProcess:E,clickConnectionInProcess:T,valid:O}=be(uB(g,p,e),He);g||(I=(D=v.getState()).onError)==null||I.call(D,"010",$n.error010());const C=R=>{const{defaultEdgeOptions:A,onConnect:M,hasDefaultEdges:z}=v.getState(),V={...A,...R};if(z){const{edges:B,setEdges:X}=v.getState();X(sC(V,B))}M==null||M(V),o==null||o(V)},L=R=>{if(!g)return;const A=rC(R.nativeEvent);if(a&&(A&&R.button===0||!A)){const M=v.getState();Zy.onPointerDown(R.nativeEvent,{handleDomNode:R.currentTarget,autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:y,handleId:p,nodeId:g,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:C,isValidConnection:r||M.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed,dragThreshold:M.connectionDragThreshold})}A?d==null||d(R):f==null||f(R)},P=R=>{const{onClickConnectStart:A,onClickConnectEnd:M,connectionClickStartHandle:z,connectionMode:V,isValidConnection:B,lib:X,rfId:q,nodeLookup:J,connection:ce}=v.getState();if(!g||!z&&!a)return;if(!z){A==null||A(R.nativeEvent,{nodeId:g,handleId:p,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:g,type:e,id:p}});return}const te=eC(R.target),Q=r||B,{connection:U,isValid:Z}=Zy.isValid(R.nativeEvent,{handle:{nodeId:g,id:p,type:e},connectionMode:V,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:Q,flowId:q,doc:te,lib:X,nodeLookup:J});Z&&U&&C(U);const ee=structuredClone(ce);delete ee.inProgress,ee.toPosition=ee.toHandle?ee.toHandle.position:null,M==null||M(R,ee),v.setState({connectionClickStartHandle:null})};return l.jsx("div",{"data-handleid":p,"data-nodeid":g,"data-handlepos":t,"data-id":`${j}-${g}-${p}-${e}`,className:lt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!y,target:y,connectable:n,connectablestart:a,connectableend:i,clickconnecting:N,connectingfrom:k,connectingto:_,valid:O,connectionindicator:n&&(!E||S)&&(E||T?i:a)}]),onMouseDown:L,onTouchStart:L,onClick:x?P:void 0,ref:m,...h,children:c})}const To=b.memo(EC(dB));function fB({data:e,isConnectable:t,sourcePosition:r=fe.Bottom}){return l.jsxs(l.Fragment,{children:[e==null?void 0:e.label,l.jsx(To,{type:"source",position:r,isConnectable:t})]})}function hB({data:e,isConnectable:t,targetPosition:r=fe.Top,sourcePosition:n=fe.Bottom}){return l.jsxs(l.Fragment,{children:[l.jsx(To,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,l.jsx(To,{type:"source",position:n,isConnectable:t})]})}function mB(){return null}function pB({data:e,isConnectable:t,targetPosition:r=fe.Top}){return l.jsxs(l.Fragment,{children:[l.jsx(To,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const Hf={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Jj={input:fB,default:hB,output:pB,group:mB};function gB(e){var t,r,n,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((n=e.style)==null?void 0:n.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const yB=e=>{const{width:t,height:r,x:n,y:a}=tu(e.nodeLookup,{filter:i=>!!i.selected});return{width:hn(t)?t:null,height:hn(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${n}px,${a}px)`}};function vB({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=We(),{width:a,height:i,transformString:s,userSelectionActive:o}=be(yB,He),c=OC(),u=b.useRef(null);if(b.useEffect(()=>{var h;r||(h=u.current)==null||h.focus({preventScroll:!0})},[r]),CC({nodeRef:u}),o||!a||!i)return null;const d=e?h=>{const m=n.getState().nodes.filter(p=>p.selected);e(h,m)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(Hf,h.key)&&(h.preventDefault(),c({direction:Hf[h.key],factor:h.shiftKey?4:1}))};return l.jsx("div",{className:lt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:l.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:r?void 0:-1,onKeyDown:r?void 0:f,style:{width:a,height:i}})})}const ek=typeof window<"u"?window:void 0,xB=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function TC({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:o,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:d,selectionMode:f,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:p,panActivationKeyCode:y,zoomActivationKeyCode:v,elementsSelectable:g,zoomOnScroll:x,zoomOnPinch:w,panOnScroll:j,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:S,defaultViewport:E,translateExtent:T,minZoom:O,maxZoom:C,preventScrolling:L,onSelectionContextMenu:P,noWheelClassName:D,noPanClassName:I,disableKeyboardA11y:R,onViewportChange:A,isControlledViewport:M}){const{nodesSelectionActive:z,userSelectionActive:V}=be(xB,He),B=Sc(u,{target:ek}),X=Sc(y,{target:ek}),q=X||S,J=X||j,ce=d&&q!==!0,te=B||V||ce;return J6({deleteKeyCode:c,multiSelectionKeyCode:p}),l.jsx(rB,{onPaneContextMenu:i,elementsSelectable:g,zoomOnScroll:x,zoomOnPinch:w,panOnScroll:J,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:!B&&q,defaultViewport:E,translateExtent:T,minZoom:O,maxZoom:C,zoomActivationKeyCode:v,preventScrolling:L,noWheelClassName:D,noPanClassName:I,onViewportChange:A,isControlledViewport:M,paneClickDistance:o,selectionOnDrag:ce,children:l.jsxs(sB,{onSelectionStart:h,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:q,isSelecting:!!te,selectionMode:f,selectionKeyPressed:B,paneClickDistance:o,selectionOnDrag:ce,children:[e,z&&l.jsx(vB,{onSelectionContextMenu:P,noPanClassName:I,disableKeyboardA11y:R})]})})}TC.displayName="FlowRenderer";const bB=b.memo(TC),wB=e=>t=>e?hx(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function jB(e){return be(b.useCallback(wB(e),[e]),He)}const kB=e=>e.updateNodeInternals;function NB(){const e=be(kB),[t]=b.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(a=>{const i=a.target.getAttribute("data-id");n.set(i,{id:i,nodeElement:a.target,force:!0})}),e(n)}));return b.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function _B({node:e,nodeType:t,hasDimensions:r,resizeObserver:n}){const a=We(),i=b.useRef(null),s=b.useRef(null),o=b.useRef(e.sourcePosition),c=b.useRef(e.targetPosition),u=b.useRef(t),d=r&&!!e.internals.handleBounds;return b.useEffect(()=>{i.current&&!e.hidden&&(!d||s.current!==i.current)&&(s.current&&(n==null||n.unobserve(s.current)),n==null||n.observe(i.current),s.current=i.current)},[d,e.hidden]),b.useEffect(()=>()=>{s.current&&(n==null||n.unobserve(s.current),s.current=null)},[]),b.useEffect(()=>{if(i.current){const f=u.current!==t,h=o.current!==e.sourcePosition,m=c.current!==e.targetPosition;(f||h||m)&&(u.current=t,o.current=e.sourcePosition,c.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function SB({id:e,onClick:t,onMouseEnter:r,onMouseMove:n,onMouseLeave:a,onContextMenu:i,onDoubleClick:s,nodesDraggable:o,elementsSelectable:c,nodesConnectable:u,nodesFocusable:d,resizeObserver:f,noDragClassName:h,noPanClassName:m,disableKeyboardA11y:p,rfId:y,nodeTypes:v,nodeClickDistance:g,onError:x}){const{node:w,internals:j,isParent:k}=be(Q=>{const U=Q.nodeLookup.get(e),Z=Q.parentLookup.has(e);return{node:U,internals:U.internals,isParent:Z}},He);let _=w.type||"default",N=(v==null?void 0:v[_])||Jj[_];N===void 0&&(x==null||x("003",$n.error003(_)),_="default",N=(v==null?void 0:v.default)||Jj.default);const S=!!(w.draggable||o&&typeof w.draggable>"u"),E=!!(w.selectable||c&&typeof w.selectable>"u"),T=!!(w.connectable||u&&typeof w.connectable>"u"),O=!!(w.focusable||d&&typeof w.focusable>"u"),C=We(),L=ZP(w),P=_B({node:w,nodeType:_,hasDimensions:L,resizeObserver:f}),D=CC({nodeRef:P,disabled:w.hidden||!S,noDragClassName:h,handleSelector:w.dragHandle,nodeId:e,isSelectable:E,nodeClickDistance:g}),I=OC();if(w.hidden)return null;const R=Sa(w),A=gB(w),M=E||S||t||r||n||a,z=r?Q=>r(Q,{...j.userNode}):void 0,V=n?Q=>n(Q,{...j.userNode}):void 0,B=a?Q=>a(Q,{...j.userNode}):void 0,X=i?Q=>i(Q,{...j.userNode}):void 0,q=s?Q=>s(Q,{...j.userNode}):void 0,J=Q=>{const{selectNodesOnDrag:U,nodeDragThreshold:Z}=C.getState();E&&(!U||!S||Z>0)&&Jy({id:e,store:C,nodeRef:P}),t&&t(Q,{...j.userNode})},ce=Q=>{if(!(tC(Q.nativeEvent)||p)){if(VP.includes(Q.key)&&E){const U=Q.key==="Escape";Jy({id:e,store:C,unselect:U,nodeRef:P})}else if(S&&w.selected&&Object.prototype.hasOwnProperty.call(Hf,Q.key)){Q.preventDefault();const{ariaLabelConfig:U}=C.getState();C.setState({ariaLiveMessage:U["node.a11yDescription.ariaLiveMessage"]({direction:Q.key.replace("Arrow","").toLowerCase(),x:~~j.positionAbsolute.x,y:~~j.positionAbsolute.y})}),I({direction:Hf[Q.key],factor:Q.shiftKey?4:1})}}},te=()=>{var ue;if(p||!((ue=P.current)!=null&&ue.matches(":focus-visible")))return;const{transform:Q,width:U,height:Z,autoPanOnNodeFocus:ee,setCenter:H}=C.getState();if(!ee)return;hx(new Map([[e,w]]),{x:0,y:0,width:U,height:Z},Q,!0).length>0||H(w.position.x+R.width/2,w.position.y+R.height/2,{zoom:Q[2]})};return l.jsx("div",{className:lt(["react-flow__node",`react-flow__node-${_}`,{[m]:S},w.className,{selected:w.selected,selectable:E,parent:k,draggable:S,dragging:D}]),ref:P,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:M?"all":"none",visibility:L?"visible":"hidden",...w.style,...A},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:V,onMouseLeave:B,onContextMenu:X,onClick:J,onDoubleClick:q,onKeyDown:O?ce:void 0,tabIndex:O?0:void 0,onFocus:O?te:void 0,role:w.ariaRole??(O?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${wC}-${y}`,"aria-label":w.ariaLabel,...w.domAttributes,children:l.jsx(lB,{value:e,children:l.jsx(N,{id:e,data:w.data,type:_,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:w.selected??!1,selectable:E,draggable:S,deletable:w.deletable??!0,isConnectable:T,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:D,dragHandle:w.dragHandle,zIndex:j.z,parentId:w.parentId,...R})})})}var EB=b.memo(SB);const PB=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function MC(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,onError:i}=be(PB,He),s=jB(e.onlyRenderVisibleElements),o=NB();return l.jsx("div",{className:"react-flow__nodes",style:fm,children:s.map(c=>l.jsx(EB,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:o,nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:i},c))})}MC.displayName="NodeRenderer";const CB=b.memo(MC);function OB(e){return be(b.useCallback(r=>{if(!e)return r.edges.map(a=>a.id);const n=[];if(r.width&&r.height)for(const a of r.edges){const i=r.nodeLookup.get(a.source),s=r.nodeLookup.get(a.target);i&&s&&L8({sourceNode:i,targetNode:s,width:r.width,height:r.height,transform:r.transform})&&n.push(a.id)}return n},[e]),He)}const AB=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return l.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},TB=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return l.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},tk={[Ff.Arrow]:AB,[Ff.ArrowClosed]:TB};function MB(e){const t=We();return b.useMemo(()=>{var a,i;return Object.prototype.hasOwnProperty.call(tk,e)?tk[e]:((i=(a=t.getState()).onError)==null||i.call(a,"009",$n.error009(e)),null)},[e])}const IB=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:o="auto-start-reverse"})=>{const c=MB(t);return c?l.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:o,refX:"0",refY:"0",children:l.jsx(c,{color:r,strokeWidth:s})}):null},IC=({defaultColor:e,rfId:t})=>{const r=be(i=>i.edges),n=be(i=>i.defaultEdgeOptions),a=b.useMemo(()=>H8(r,{id:t,defaultColor:e,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,t,e]);return a.length?l.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:l.jsx("defs",{children:a.map(i=>l.jsx(IB,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};IC.displayName="MarkerDefinitions";var DB=b.memo(IC);function DC({x:e,y:t,label:r,labelStyle:n,labelShowBg:a=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:o=2,children:c,className:u,...d}){const[f,h]=b.useState({x:1,y:0,width:0,height:0}),m=lt(["react-flow__edge-textwrapper",u]),p=b.useRef(null);return b.useEffect(()=>{if(p.current){const y=p.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[r]),r?l.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:m,visibility:f.width?"visible":"hidden",...d,children:[a&&l.jsx("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:o,ry:o}),l.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:n,children:r}),c]}):null}DC.displayName="EdgeText";const RB=b.memo(DC);function Mo({path:e,labelX:t,labelY:r,label:n,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:o,labelBgBorderRadius:c,interactionWidth:u=20,...d}){return l.jsxs(l.Fragment,{children:[l.jsx("path",{...d,d:e,fill:"none",className:lt(["react-flow__edge-path",d.className])}),u?l.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,n&&hn(t)&&hn(r)?l.jsx(RB,{x:t,y:r,label:n,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:o,labelBgBorderRadius:c}):null]})}function rk({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===fe.Left||e===fe.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function RC({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:i=fe.Top}){const[s,o]=rk({pos:r,x1:e,y1:t,x2:n,y2:a}),[c,u]=rk({pos:i,x1:n,y1:a,x2:e,y2:t}),[d,f,h,m]=nC({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:s,sourceControlY:o,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${o} ${c},${u} ${n},${a}`,d,f,h,m]}function LC(e){return b.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,sourcePosition:s,targetPosition:o,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:y,markerStart:v,interactionWidth:g})=>{const[x,w,j]=RC({sourceX:r,sourceY:n,sourcePosition:s,targetX:a,targetY:i,targetPosition:o}),k=e.isInternal?void 0:t;return l.jsx(Mo,{id:k,path:x,labelX:w,labelY:j,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:y,markerStart:v,interactionWidth:g})})}const LB=LC({isInternal:!1}),$C=LC({isInternal:!0});LB.displayName="SimpleBezierEdge";$C.displayName="SimpleBezierEdgeInternal";function zC(e){return b.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,label:s,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:m=fe.Bottom,targetPosition:p=fe.Top,markerEnd:y,markerStart:v,pathOptions:g,interactionWidth:x})=>{const[w,j,k]=Vf({sourceX:r,sourceY:n,sourcePosition:m,targetX:a,targetY:i,targetPosition:p,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset,stepPosition:g==null?void 0:g.stepPosition}),_=e.isInternal?void 0:t;return l.jsx(Mo,{id:_,path:w,labelX:j,labelY:k,label:s,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:y,markerStart:v,interactionWidth:x})})}const FC=zC({isInternal:!1}),BC=zC({isInternal:!0});FC.displayName="SmoothStepEdge";BC.displayName="SmoothStepEdgeInternal";function UC(e){return b.memo(({id:t,...r})=>{var a;const n=e.isInternal?void 0:t;return l.jsx(FC,{...r,id:n,pathOptions:b.useMemo(()=>{var i;return{borderRadius:0,offset:(i=r.pathOptions)==null?void 0:i.offset}},[(a=r.pathOptions)==null?void 0:a.offset])})})}const $B=UC({isInternal:!1}),VC=UC({isInternal:!0});$B.displayName="StepEdge";VC.displayName="StepEdgeInternal";function HC(e){return b.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,label:s,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:p,interactionWidth:y})=>{const[v,g,x]=oC({sourceX:r,sourceY:n,targetX:a,targetY:i}),w=e.isInternal?void 0:t;return l.jsx(Mo,{id:w,path:v,labelX:g,labelY:x,label:s,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:p,interactionWidth:y})})}const zB=HC({isInternal:!1}),WC=HC({isInternal:!0});zB.displayName="StraightEdge";WC.displayName="StraightEdgeInternal";function KC(e){return b.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,sourcePosition:s=fe.Bottom,targetPosition:o=fe.Top,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:y,markerStart:v,pathOptions:g,interactionWidth:x})=>{const[w,j,k]=aC({sourceX:r,sourceY:n,sourcePosition:s,targetX:a,targetY:i,targetPosition:o,curvature:g==null?void 0:g.curvature}),_=e.isInternal?void 0:t;return l.jsx(Mo,{id:_,path:w,labelX:j,labelY:k,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:y,markerStart:v,interactionWidth:x})})}const FB=KC({isInternal:!1}),qC=KC({isInternal:!0});FB.displayName="BezierEdge";qC.displayName="BezierEdgeInternal";const nk={default:qC,straight:WC,step:VC,smoothstep:BC,simplebezier:$C},ak={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},BB=(e,t,r)=>r===fe.Left?e-t:r===fe.Right?e+t:e,UB=(e,t,r)=>r===fe.Top?e-t:r===fe.Bottom?e+t:e,ik="react-flow__edgeupdater";function sk({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:i,onMouseOut:s,type:o}){return l.jsx("circle",{onMouseDown:a,onMouseEnter:i,onMouseOut:s,className:lt([ik,`${ik}-${o}`]),cx:BB(t,n,e),cy:UB(r,n,e),r:n,stroke:"transparent",fill:"transparent"})}function VB({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:n,sourceY:a,targetX:i,targetY:s,sourcePosition:o,targetPosition:c,onReconnect:u,onReconnectStart:d,onReconnectEnd:f,setReconnecting:h,setUpdateHover:m}){const p=We(),y=(j,k)=>{if(j.button!==0)return;const{autoPanOnConnect:_,domNode:N,isValidConnection:S,connectionMode:E,connectionRadius:T,lib:O,onConnectStart:C,onConnectEnd:L,cancelConnection:P,nodeLookup:D,rfId:I,panBy:R,updateConnection:A}=p.getState(),M=k.type==="target",z=(X,q)=>{h(!1),f==null||f(X,r,k.type,q)},V=X=>u==null?void 0:u(r,X),B=(X,q)=>{h(!0),d==null||d(j,r,k.type),C==null||C(X,q)};Zy.onPointerDown(j.nativeEvent,{autoPanOnConnect:_,connectionMode:E,connectionRadius:T,domNode:N,handleId:k.id,nodeId:k.nodeId,nodeLookup:D,isTarget:M,edgeUpdaterType:k.type,lib:O,flowId:I,cancelConnection:P,panBy:R,isValidConnection:S,onConnect:V,onConnectStart:B,onConnectEnd:L,onReconnectEnd:z,updateConnection:A,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:j.currentTarget})},v=j=>y(j,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),g=j=>y(j,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),x=()=>m(!0),w=()=>m(!1);return l.jsxs(l.Fragment,{children:[(e===!0||e==="source")&&l.jsx(sk,{position:o,centerX:n,centerY:a,radius:t,onMouseDown:v,onMouseEnter:x,onMouseOut:w,type:"source"}),(e===!0||e==="target")&&l.jsx(sk,{position:c,centerX:i,centerY:s,radius:t,onMouseDown:g,onMouseEnter:x,onMouseOut:w,type:"target"})]})}function HB({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:n,onClick:a,onDoubleClick:i,onContextMenu:s,onMouseEnter:o,onMouseMove:c,onMouseLeave:u,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,rfId:p,edgeTypes:y,noPanClassName:v,onError:g,disableKeyboardA11y:x}){let w=be(H=>H.edgeLookup.get(e));const j=be(H=>H.defaultEdgeOptions);w=j?{...j,...w}:w;let k=w.type||"default",_=(y==null?void 0:y[k])||nk[k];_===void 0&&(g==null||g("011",$n.error011(k)),k="default",_=(y==null?void 0:y.default)||nk.default);const N=!!(w.focusable||t&&typeof w.focusable>"u"),S=typeof f<"u"&&(w.reconnectable||r&&typeof w.reconnectable>"u"),E=!!(w.selectable||n&&typeof w.selectable>"u"),T=b.useRef(null),[O,C]=b.useState(!1),[L,P]=b.useState(!1),D=We(),{zIndex:I,sourceX:R,sourceY:A,targetX:M,targetY:z,sourcePosition:V,targetPosition:B}=be(b.useCallback(H=>{const ne=H.nodeLookup.get(w.source),ue=H.nodeLookup.get(w.target);if(!ne||!ue)return{zIndex:w.zIndex,...ak};const F=V8({id:e,sourceNode:ne,targetNode:ue,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:H.connectionMode,onError:g});return{zIndex:R8({selected:w.selected,zIndex:w.zIndex,sourceNode:ne,targetNode:ue,elevateOnSelect:H.elevateEdgesOnSelect,zIndexMode:H.zIndexMode}),...F||ak}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),He),X=b.useMemo(()=>w.markerStart?`url('#${Gy(w.markerStart,p)}')`:void 0,[w.markerStart,p]),q=b.useMemo(()=>w.markerEnd?`url('#${Gy(w.markerEnd,p)}')`:void 0,[w.markerEnd,p]);if(w.hidden||R===null||A===null||M===null||z===null)return null;const J=H=>{var Y;const{addSelectedEdges:ne,unselectNodesAndEdges:ue,multiSelectionActive:F}=D.getState();E&&(D.setState({nodesSelectionActive:!1}),w.selected&&F?(ue({nodes:[],edges:[w]}),(Y=T.current)==null||Y.blur()):ne([e])),a&&a(H,w)},ce=i?H=>{i(H,{...w})}:void 0,te=s?H=>{s(H,{...w})}:void 0,Q=o?H=>{o(H,{...w})}:void 0,U=c?H=>{c(H,{...w})}:void 0,Z=u?H=>{u(H,{...w})}:void 0,ee=H=>{var ne;if(!x&&VP.includes(H.key)&&E){const{unselectNodesAndEdges:ue,addSelectedEdges:F}=D.getState();H.key==="Escape"?((ne=T.current)==null||ne.blur(),ue({edges:[w]})):F([e])}};return l.jsx("svg",{style:{zIndex:I},children:l.jsxs("g",{className:lt(["react-flow__edge",`react-flow__edge-${k}`,w.className,v,{selected:w.selected,animated:w.animated,inactive:!E&&!a,updating:O,selectable:E}]),onClick:J,onDoubleClick:ce,onContextMenu:te,onMouseEnter:Q,onMouseMove:U,onMouseLeave:Z,onKeyDown:N?ee:void 0,tabIndex:N?0:void 0,role:w.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":N?`${jC}-${p}`:void 0,ref:T,...w.domAttributes,children:[!L&&l.jsx(_,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:E,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:R,sourceY:A,targetX:M,targetY:z,sourcePosition:V,targetPosition:B,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:X,markerEnd:q,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),S&&l.jsx(VB,{edge:w,isReconnectable:S,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,sourceX:R,sourceY:A,targetX:M,targetY:z,sourcePosition:V,targetPosition:B,setUpdateHover:C,setReconnecting:P})]})})}var WB=b.memo(HB);const KB=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function YC({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:n,noPanClassName:a,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:o,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:m,onReconnectEnd:p,disableKeyboardA11y:y}){const{edgesFocusable:v,edgesReconnectable:g,elementsSelectable:x,onError:w}=be(KB,He),j=OB(t);return l.jsxs("div",{className:"react-flow__edges",children:[l.jsx(DB,{defaultColor:e,rfId:r}),j.map(k=>l.jsx(WB,{id:k,edgesFocusable:v,edgesReconnectable:g,elementsSelectable:x,noPanClassName:a,onReconnect:i,onContextMenu:s,onMouseEnter:o,onMouseMove:c,onMouseLeave:u,onClick:d,reconnectRadius:f,onDoubleClick:h,onReconnectStart:m,onReconnectEnd:p,rfId:r,onError:w,edgeTypes:n,disableKeyboardA11y:y},k))]})}YC.displayName="EdgeRenderer";const qB=b.memo(YC),YB=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function XB({children:e}){const t=be(YB);return l.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function GB(e){const t=Yo(),r=b.useRef(!1);b.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const QB=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function ZB(e){const t=be(QB),r=We();return b.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function JB(e){return e.connection.inProgress?{...e.connection,to:nu(e.connection.to,e.transform)}:{...e.connection}}function e7(e){return JB}function t7(e){const t=e7();return be(t,He)}const r7=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function n7({containerStyle:e,style:t,type:r,component:n}){const{nodesConnectable:a,width:i,height:s,isValid:o,inProgress:c}=be(r7,He);return!(i&&a&&c)?null:l.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:l.jsx("g",{className:lt(["react-flow__connection",KP(o)]),children:l.jsx(XC,{style:t,type:r,CustomComponent:n,isValid:o})})})}const XC=({style:e,type:t=Ba.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:a,from:i,fromNode:s,fromHandle:o,fromPosition:c,to:u,toNode:d,toHandle:f,toPosition:h,pointer:m}=t7();if(!a)return;if(r)return l.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:o,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:h,connectionStatus:KP(n),toNode:d,toHandle:f,pointer:m});let p="";const y={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:h};switch(t){case Ba.Bezier:[p]=aC(y);break;case Ba.SimpleBezier:[p]=RC(y);break;case Ba.Step:[p]=Vf({...y,borderRadius:0});break;case Ba.SmoothStep:[p]=Vf(y);break;default:[p]=oC(y)}return l.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};XC.displayName="ConnectionLine";const a7={};function ok(e=a7){b.useRef(e),We(),b.useEffect(()=>{},[e])}function i7(){We(),b.useRef(!1),b.useEffect(()=>{},[])}function GC({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:n,onEdgeClick:a,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:o,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:h,onSelectionEnd:m,connectionLineType:p,connectionLineStyle:y,connectionLineComponent:v,connectionLineContainerStyle:g,selectionKeyCode:x,selectionOnDrag:w,selectionMode:j,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:N,deleteKeyCode:S,onlyRenderVisibleElements:E,elementsSelectable:T,defaultViewport:O,translateExtent:C,minZoom:L,maxZoom:P,preventScrolling:D,defaultMarkerColor:I,zoomOnScroll:R,zoomOnPinch:A,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:V,zoomOnDoubleClick:B,panOnDrag:X,onPaneClick:q,onPaneMouseEnter:J,onPaneMouseMove:ce,onPaneMouseLeave:te,onPaneScroll:Q,onPaneContextMenu:U,paneClickDistance:Z,nodeClickDistance:ee,onEdgeContextMenu:H,onEdgeMouseEnter:ne,onEdgeMouseMove:ue,onEdgeMouseLeave:F,reconnectRadius:Y,onReconnect:ie,onReconnectStart:he,onReconnectEnd:je,noDragClassName:_e,noWheelClassName:Vt,noPanClassName:rr,disableKeyboardA11y:yr,nodeExtent:Ir,rfId:Nn,viewport:xt,onViewportChange:Yn}){return ok(e),ok(t),i7(),GB(r),ZB(xt),l.jsx(bB,{onPaneClick:q,onPaneMouseEnter:J,onPaneMouseMove:ce,onPaneMouseLeave:te,onPaneContextMenu:U,onPaneScroll:Q,paneClickDistance:Z,deleteKeyCode:S,selectionKeyCode:x,selectionOnDrag:w,selectionMode:j,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:N,elementsSelectable:T,zoomOnScroll:R,zoomOnPinch:A,zoomOnDoubleClick:B,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:V,panOnDrag:X,defaultViewport:O,translateExtent:C,minZoom:L,maxZoom:P,onSelectionContextMenu:f,preventScrolling:D,noDragClassName:_e,noWheelClassName:Vt,noPanClassName:rr,disableKeyboardA11y:yr,onViewportChange:Yn,isControlledViewport:!!xt,children:l.jsxs(XB,{children:[l.jsx(qB,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:s,onReconnect:ie,onReconnectStart:he,onReconnectEnd:je,onlyRenderVisibleElements:E,onEdgeContextMenu:H,onEdgeMouseEnter:ne,onEdgeMouseMove:ue,onEdgeMouseLeave:F,reconnectRadius:Y,defaultMarkerColor:I,noPanClassName:rr,disableKeyboardA11y:yr,rfId:Nn}),l.jsx(n7,{style:y,type:p,component:v,containerStyle:g}),l.jsx("div",{className:"react-flow__edgelabel-renderer"}),l.jsx(CB,{nodeTypes:e,onNodeClick:n,onNodeDoubleClick:i,onNodeMouseEnter:o,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:ee,onlyRenderVisibleElements:E,noPanClassName:rr,noDragClassName:_e,disableKeyboardA11y:yr,nodeExtent:Ir,rfId:Nn}),l.jsx("div",{className:"react-flow__viewport-portal"})]})})}GC.displayName="GraphView";const s7=b.memo(GC),lk=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:s,fitViewOptions:o,minZoom:c=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:f,zIndexMode:h="basic"}={})=>{const m=new Map,p=new Map,y=new Map,v=new Map,g=n??t??[],x=r??e??[],w=d??[0,0],j=f??jc;uC(y,v,g);const k=Qy(x,m,p,{nodeOrigin:w,nodeExtent:j,zIndexMode:h});let _=[0,0,1];if(s&&a&&i){const N=tu(m,{filter:O=>!!((O.width||O.initialWidth)&&(O.height||O.initialHeight))}),{x:S,y:E,zoom:T}=mx(N,a,i,c,u,(o==null?void 0:o.padding)??.1);_=[S,E,T]}return{rfId:"1",width:a??0,height:i??0,transform:_,nodes:x,nodesInitialized:k,nodeLookup:m,parentLookup:p,edges:g,edgeLookup:v,connectionLookup:y,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:c,maxZoom:u,translateExtent:jc,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Eo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:o,fitViewResolver:null,connection:{...WP},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:O8,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:HP,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},o7=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:s,fitViewOptions:o,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h})=>_6((m,p)=>{async function y(){const{nodeLookup:v,panZoom:g,fitViewOptions:x,fitViewResolver:w,width:j,height:k,minZoom:_,maxZoom:N}=p();g&&(await P8({nodes:v,width:j,height:k,panZoom:g,minZoom:_,maxZoom:N},x),w==null||w.resolve(!0),m({fitViewResolver:null}))}return{...lk({nodes:e,edges:t,width:a,height:i,fitView:s,fitViewOptions:o,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,defaultNodes:r,defaultEdges:n,zIndexMode:h}),setNodes:v=>{const{nodeLookup:g,parentLookup:x,nodeOrigin:w,elevateNodesOnSelect:j,fitViewQueued:k,zIndexMode:_}=p(),N=Qy(v,g,x,{nodeOrigin:w,nodeExtent:f,elevateNodesOnSelect:j,checkEquality:!0,zIndexMode:_});k&&N?(y(),m({nodes:v,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):m({nodes:v,nodesInitialized:N})},setEdges:v=>{const{connectionLookup:g,edgeLookup:x}=p();uC(g,x,v),m({edges:v})},setDefaultNodesAndEdges:(v,g)=>{if(v){const{setNodes:x}=p();x(v),m({hasDefaultNodes:!0})}if(g){const{setEdges:x}=p();x(g),m({hasDefaultEdges:!0})}},updateNodeInternals:v=>{const{triggerNodeChanges:g,nodeLookup:x,parentLookup:w,domNode:j,nodeOrigin:k,nodeExtent:_,debug:N,fitViewQueued:S,zIndexMode:E}=p(),{changes:T,updatedInternals:O}=Q8(v,x,w,j,k,_,E);O&&(q8(x,w,{nodeOrigin:k,nodeExtent:_,zIndexMode:E}),S?(y(),m({fitViewQueued:!1,fitViewOptions:void 0})):m({}),(T==null?void 0:T.length)>0&&(N&&console.log("React Flow: trigger node changes",T),g==null||g(T)))},updateNodePositions:(v,g=!1)=>{const x=[];let w=[];const{nodeLookup:j,triggerNodeChanges:k,connection:_,updateConnection:N,onNodesChangeMiddlewareMap:S}=p();for(const[E,T]of v){const O=j.get(E),C=!!(O!=null&&O.expandParent&&(O!=null&&O.parentId)&&(T!=null&&T.position)),L={id:E,type:"position",position:C?{x:Math.max(0,T.position.x),y:Math.max(0,T.position.y)}:T.position,dragging:g};if(O&&_.inProgress&&_.fromNode.id===O.id){const P=ds(O,_.fromHandle,fe.Left,!0);N({..._,from:P})}C&&O.parentId&&x.push({id:E,parentId:O.parentId,rect:{...T.internals.positionAbsolute,width:T.measured.width??0,height:T.measured.height??0}}),w.push(L)}if(x.length>0){const{parentLookup:E,nodeOrigin:T}=p(),O=bx(x,j,E,T);w.push(...O)}for(const E of S.values())w=E(w);k(w)},triggerNodeChanges:v=>{const{onNodesChange:g,setNodes:x,nodes:w,hasDefaultNodes:j,debug:k}=p();if(v!=null&&v.length){if(j){const _=_C(v,w);x(_)}k&&console.log("React Flow: trigger node changes",v),g==null||g(v)}},triggerEdgeChanges:v=>{const{onEdgesChange:g,setEdges:x,edges:w,hasDefaultEdges:j,debug:k}=p();if(v!=null&&v.length){if(j){const _=SC(v,w);x(_)}k&&console.log("React Flow: trigger edge changes",v),g==null||g(v)}},addSelectedNodes:v=>{const{multiSelectionActive:g,edgeLookup:x,nodeLookup:w,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(g){const _=v.map(N=>Si(N,!0));j(_);return}j(Ks(w,new Set([...v]),!0)),k(Ks(x))},addSelectedEdges:v=>{const{multiSelectionActive:g,edgeLookup:x,nodeLookup:w,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(g){const _=v.map(N=>Si(N,!0));k(_);return}k(Ks(x,new Set([...v]))),j(Ks(w,new Set,!0))},unselectNodesAndEdges:({nodes:v,edges:g}={})=>{const{edges:x,nodes:w,nodeLookup:j,triggerNodeChanges:k,triggerEdgeChanges:_}=p(),N=v||w,S=g||x,E=N.map(O=>{const C=j.get(O.id);return C&&(C.selected=!1),Si(O.id,!1)}),T=S.map(O=>Si(O.id,!1));k(E),_(T)},setMinZoom:v=>{const{panZoom:g,maxZoom:x}=p();g==null||g.setScaleExtent([v,x]),m({minZoom:v})},setMaxZoom:v=>{const{panZoom:g,minZoom:x}=p();g==null||g.setScaleExtent([x,v]),m({maxZoom:v})},setTranslateExtent:v=>{var g;(g=p().panZoom)==null||g.setTranslateExtent(v),m({translateExtent:v})},resetSelectedElements:()=>{const{edges:v,nodes:g,triggerNodeChanges:x,triggerEdgeChanges:w,elementsSelectable:j}=p();if(!j)return;const k=g.reduce((N,S)=>S.selected?[...N,Si(S.id,!1)]:N,[]),_=v.reduce((N,S)=>S.selected?[...N,Si(S.id,!1)]:N,[]);x(k),w(_)},setNodeExtent:v=>{const{nodes:g,nodeLookup:x,parentLookup:w,nodeOrigin:j,elevateNodesOnSelect:k,nodeExtent:_,zIndexMode:N}=p();v[0][0]===_[0][0]&&v[0][1]===_[0][1]&&v[1][0]===_[1][0]&&v[1][1]===_[1][1]||(Qy(g,x,w,{nodeOrigin:j,nodeExtent:v,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:N}),m({nodeExtent:v}))},panBy:v=>{const{transform:g,width:x,height:w,panZoom:j,translateExtent:k}=p();return Z8({delta:v,panZoom:j,transform:g,translateExtent:k,width:x,height:w})},setCenter:async(v,g,x)=>{const{width:w,height:j,maxZoom:k,panZoom:_}=p();if(!_)return Promise.resolve(!1);const N=typeof(x==null?void 0:x.zoom)<"u"?x.zoom:k;return await _.setViewport({x:w/2-v*N,y:j/2-g*N,zoom:N},{duration:x==null?void 0:x.duration,ease:x==null?void 0:x.ease,interpolate:x==null?void 0:x.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{m({connection:{...WP}})},updateConnection:v=>{m({connection:v})},reset:()=>m({...lk()})}},Object.is);function QC({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:n,initialWidth:a,initialHeight:i,initialMinZoom:s,initialMaxZoom:o,initialFitViewOptions:c,fitView:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h,children:m}){const[p]=b.useState(()=>o7({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:u,minZoom:s,maxZoom:o,fitViewOptions:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h}));return l.jsx(S6,{value:p,children:l.jsx(X6,{children:m})})}function l7({children:e,nodes:t,edges:r,defaultNodes:n,defaultEdges:a,width:i,height:s,fitView:o,fitViewOptions:c,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:m}){return b.useContext(um)?l.jsx(l.Fragment,{children:e}):l.jsx(QC,{initialNodes:t,initialEdges:r,defaultNodes:n,defaultEdges:a,initialWidth:i,initialHeight:s,fitView:o,initialFitViewOptions:c,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:m,children:e})}const c7={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function u7({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:i,edgeTypes:s,onNodeClick:o,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:m,onConnectStart:p,onConnectEnd:y,onClickConnectStart:v,onClickConnectEnd:g,onNodeMouseEnter:x,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:_,onNodeDragStart:N,onNodeDrag:S,onNodeDragStop:E,onNodesDelete:T,onEdgesDelete:O,onDelete:C,onSelectionChange:L,onSelectionDragStart:P,onSelectionDrag:D,onSelectionDragStop:I,onSelectionContextMenu:R,onSelectionStart:A,onSelectionEnd:M,onBeforeDelete:z,connectionMode:V,connectionLineType:B=Ba.Bezier,connectionLineStyle:X,connectionLineComponent:q,connectionLineContainerStyle:J,deleteKeyCode:ce="Backspace",selectionKeyCode:te="Shift",selectionOnDrag:Q=!1,selectionMode:U=kc.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:ee=_c()?"Meta":"Control",zoomActivationKeyCode:H=_c()?"Meta":"Control",snapToGrid:ne,snapGrid:ue,onlyRenderVisibleElements:F=!1,selectNodesOnDrag:Y,nodesDraggable:ie,autoPanOnNodeFocus:he,nodesConnectable:je,nodesFocusable:_e,nodeOrigin:Vt=kC,edgesFocusable:rr,edgesReconnectable:yr,elementsSelectable:Ir=!0,defaultViewport:Nn=z6,minZoom:xt=.5,maxZoom:Yn=2,translateExtent:Ow=jc,preventScrolling:i3=!0,nodeExtent:bp,defaultMarkerColor:s3="#b1b1b7",zoomOnScroll:o3=!0,zoomOnPinch:l3=!0,panOnScroll:c3=!1,panOnScrollSpeed:u3=.5,panOnScrollMode:d3=Qi.Free,zoomOnDoubleClick:f3=!0,panOnDrag:h3=!0,onPaneClick:m3,onPaneMouseEnter:p3,onPaneMouseMove:g3,onPaneMouseLeave:y3,onPaneScroll:v3,onPaneContextMenu:x3,paneClickDistance:b3=1,nodeClickDistance:w3=0,children:j3,onReconnect:k3,onReconnectStart:N3,onReconnectEnd:_3,onEdgeContextMenu:S3,onEdgeDoubleClick:E3,onEdgeMouseEnter:P3,onEdgeMouseMove:C3,onEdgeMouseLeave:O3,reconnectRadius:A3=10,onNodesChange:T3,onEdgesChange:M3,noDragClassName:I3="nodrag",noWheelClassName:D3="nowheel",noPanClassName:Aw="nopan",fitView:Tw,fitViewOptions:Mw,connectOnClick:R3,attributionPosition:L3,proOptions:$3,defaultEdgeOptions:z3,elevateNodesOnSelect:F3=!0,elevateEdgesOnSelect:B3=!1,disableKeyboardA11y:Iw=!1,autoPanOnConnect:U3,autoPanOnNodeDrag:V3,autoPanSpeed:H3,connectionRadius:W3,isValidConnection:K3,onError:q3,style:Y3,id:Dw,nodeDragThreshold:X3,connectionDragThreshold:G3,viewport:Q3,onViewportChange:Z3,width:J3,height:e4,colorMode:t4="light",debug:r4,onScroll:Fu,ariaLabelConfig:n4,zIndexMode:Rw="basic",...a4},i4){const wp=Dw||"1",s4=V6(t4),o4=b.useCallback(Lw=>{Lw.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Fu==null||Fu(Lw)},[Fu]);return l.jsx("div",{"data-testid":"rf__wrapper",...a4,onScroll:o4,style:{...Y3,...c7},ref:i4,className:lt(["react-flow",a,s4]),id:Dw,role:"application",children:l.jsxs(l7,{nodes:e,edges:t,width:J3,height:e4,fitView:Tw,fitViewOptions:Mw,minZoom:xt,maxZoom:Yn,nodeOrigin:Vt,nodeExtent:bp,zIndexMode:Rw,children:[l.jsx(s7,{onInit:u,onNodeClick:o,onEdgeClick:c,onNodeMouseEnter:x,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:_,nodeTypes:i,edgeTypes:s,connectionLineType:B,connectionLineStyle:X,connectionLineComponent:q,connectionLineContainerStyle:J,selectionKeyCode:te,selectionOnDrag:Q,selectionMode:U,deleteKeyCode:ce,multiSelectionKeyCode:ee,panActivationKeyCode:Z,zoomActivationKeyCode:H,onlyRenderVisibleElements:F,defaultViewport:Nn,translateExtent:Ow,minZoom:xt,maxZoom:Yn,preventScrolling:i3,zoomOnScroll:o3,zoomOnPinch:l3,zoomOnDoubleClick:f3,panOnScroll:c3,panOnScrollSpeed:u3,panOnScrollMode:d3,panOnDrag:h3,onPaneClick:m3,onPaneMouseEnter:p3,onPaneMouseMove:g3,onPaneMouseLeave:y3,onPaneScroll:v3,onPaneContextMenu:x3,paneClickDistance:b3,nodeClickDistance:w3,onSelectionContextMenu:R,onSelectionStart:A,onSelectionEnd:M,onReconnect:k3,onReconnectStart:N3,onReconnectEnd:_3,onEdgeContextMenu:S3,onEdgeDoubleClick:E3,onEdgeMouseEnter:P3,onEdgeMouseMove:C3,onEdgeMouseLeave:O3,reconnectRadius:A3,defaultMarkerColor:s3,noDragClassName:I3,noWheelClassName:D3,noPanClassName:Aw,rfId:wp,disableKeyboardA11y:Iw,nodeExtent:bp,viewport:Q3,onViewportChange:Z3}),l.jsx(U6,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:m,onConnectStart:p,onConnectEnd:y,onClickConnectStart:v,onClickConnectEnd:g,nodesDraggable:ie,autoPanOnNodeFocus:he,nodesConnectable:je,nodesFocusable:_e,edgesFocusable:rr,edgesReconnectable:yr,elementsSelectable:Ir,elevateNodesOnSelect:F3,elevateEdgesOnSelect:B3,minZoom:xt,maxZoom:Yn,nodeExtent:bp,onNodesChange:T3,onEdgesChange:M3,snapToGrid:ne,snapGrid:ue,connectionMode:V,translateExtent:Ow,connectOnClick:R3,defaultEdgeOptions:z3,fitView:Tw,fitViewOptions:Mw,onNodesDelete:T,onEdgesDelete:O,onDelete:C,onNodeDragStart:N,onNodeDrag:S,onNodeDragStop:E,onSelectionDrag:D,onSelectionDragStart:P,onSelectionDragStop:I,onMove:d,onMoveStart:f,onMoveEnd:h,noPanClassName:Aw,nodeOrigin:Vt,rfId:wp,autoPanOnConnect:U3,autoPanOnNodeDrag:V3,autoPanSpeed:H3,onError:q3,connectionRadius:W3,isValidConnection:K3,selectNodesOnDrag:Y,nodeDragThreshold:X3,connectionDragThreshold:G3,onBeforeDelete:z,debug:r4,ariaLabelConfig:n4,zIndexMode:Rw}),l.jsx($6,{onSelectionChange:L}),j3,l.jsx(M6,{proOptions:$3,position:L3}),l.jsx(T6,{rfId:wp,disableKeyboardA11y:Iw})]})})}var d7=EC(u7);const f7=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function h7({children:e}){const t=be(f7);return t?Gc.createPortal(e,t):null}function m7({dimensions:e,lineWidth:t,variant:r,className:n}){return l.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:lt(["react-flow__background-pattern",r,n])})}function p7({radius:e,className:t}){return l.jsx("circle",{cx:e,cy:e,r:e,className:lt(["react-flow__background-pattern","dots",t])})}var li;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(li||(li={}));const g7={[li.Dots]:1,[li.Lines]:1,[li.Cross]:6},y7=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function ZC({id:e,variant:t=li.Dots,gap:r=20,size:n,lineWidth:a=1,offset:i=0,color:s,bgColor:o,style:c,className:u,patternClassName:d}){const f=b.useRef(null),{transform:h,patternId:m}=be(y7,He),p=n||g7[t],y=t===li.Dots,v=t===li.Cross,g=Array.isArray(r)?r:[r,r],x=[g[0]*h[2]||1,g[1]*h[2]||1],w=p*h[2],j=Array.isArray(i)?i:[i,i],k=v?[w,w]:x,_=[j[0]*h[2]||1+k[0]/2,j[1]*h[2]||1+k[1]/2],N=`${m}${e||""}`;return l.jsxs("svg",{className:lt(["react-flow__background",u]),style:{...c,...fm,"--xy-background-color-props":o,"--xy-background-pattern-color-props":s},ref:f,"data-testid":"rf__background",children:[l.jsx("pattern",{id:N,x:h[0]%x[0],y:h[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:y?l.jsx(p7,{radius:w/2,className:d}):l.jsx(m7,{dimensions:k,lineWidth:a,variant:t,className:d})}),l.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}ZC.displayName="Background";const v7=b.memo(ZC);function x7(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:l.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function b7(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:l.jsx("path",{d:"M0 0h32v4.2H0z"})})}function w7(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:l.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function j7(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function k7(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function md({children:e,className:t,...r}){return l.jsx("button",{type:"button",className:lt(["react-flow__controls-button",t]),...r,children:e})}const N7=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function JC({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:i,onZoomOut:s,onFitView:o,onInteractiveChange:c,className:u,children:d,position:f="bottom-left",orientation:h="vertical","aria-label":m}){const p=We(),{isInteractive:y,minZoomReached:v,maxZoomReached:g,ariaLabelConfig:x}=be(N7,He),{zoomIn:w,zoomOut:j,fitView:k}=Yo(),_=()=>{w(),i==null||i()},N=()=>{j(),s==null||s()},S=()=>{k(a),o==null||o()},E=()=>{p.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),c==null||c(!y)},T=h==="horizontal"?"horizontal":"vertical";return l.jsxs(dm,{className:lt(["react-flow__controls",T,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":m??x["controls.ariaLabel"],children:[t&&l.jsxs(l.Fragment,{children:[l.jsx(md,{onClick:_,className:"react-flow__controls-zoomin",title:x["controls.zoomIn.ariaLabel"],"aria-label":x["controls.zoomIn.ariaLabel"],disabled:g,children:l.jsx(x7,{})}),l.jsx(md,{onClick:N,className:"react-flow__controls-zoomout",title:x["controls.zoomOut.ariaLabel"],"aria-label":x["controls.zoomOut.ariaLabel"],disabled:v,children:l.jsx(b7,{})})]}),r&&l.jsx(md,{className:"react-flow__controls-fitview",onClick:S,title:x["controls.fitView.ariaLabel"],"aria-label":x["controls.fitView.ariaLabel"],children:l.jsx(w7,{})}),n&&l.jsx(md,{className:"react-flow__controls-interactive",onClick:E,title:x["controls.interactive.ariaLabel"],"aria-label":x["controls.interactive.ariaLabel"],children:y?l.jsx(k7,{}):l.jsx(j7,{})}),d]})}JC.displayName="Controls";const _7=b.memo(JC);function S7({id:e,x:t,y:r,width:n,height:a,style:i,color:s,strokeColor:o,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,selected:h,onClick:m}){const{background:p,backgroundColor:y}=i||{},v=s||p||y;return l.jsx("rect",{className:lt(["react-flow__minimap-node",{selected:h},u]),x:t,y:r,rx:d,ry:d,width:n,height:a,style:{fill:v,stroke:o,strokeWidth:c},shapeRendering:f,onClick:m?g=>m(g,e):void 0})}const E7=b.memo(S7),P7=e=>e.nodes.map(t=>t.id),ag=e=>e instanceof Function?e:()=>e;function C7({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:a,nodeComponent:i=E7,onClick:s}){const o=be(P7,He),c=ag(t),u=ag(e),d=ag(r),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return l.jsx(l.Fragment,{children:o.map(h=>l.jsx(A7,{id:h,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:n,nodeStrokeWidth:a,NodeComponent:i,onClick:s,shapeRendering:f},h))})}function O7({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:a,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:o,onClick:c}){const{node:u,x:d,y:f,width:h,height:m}=be(p=>{const{internals:y}=p.nodeLookup.get(e),v=y.userNode,{x:g,y:x}=y.positionAbsolute,{width:w,height:j}=Sa(v);return{node:v,x:g,y:x,width:w,height:j}},He);return!u||u.hidden||!ZP(u)?null:l.jsx(o,{x:d,y:f,width:h,height:m,style:u.style,selected:!!u.selected,className:n(u),color:t(u),borderRadius:a,strokeColor:r(u),strokeWidth:i,shapeRendering:s,onClick:c,id:u.id})}const A7=b.memo(O7);var T7=b.memo(C7);const M7=200,I7=150,D7=e=>!e.hidden,R7=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?QP(tu(e.nodeLookup,{filter:D7}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},L7="react-flow__minimap-desc";function eO({style:e,className:t,nodeStrokeColor:r,nodeColor:n,nodeClassName:a="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:o,bgColor:c,maskColor:u,maskStrokeColor:d,maskStrokeWidth:f,position:h="bottom-right",onClick:m,onNodeClick:p,pannable:y=!1,zoomable:v=!1,ariaLabel:g,inversePan:x,zoomStep:w=1,offsetScale:j=5}){const k=We(),_=b.useRef(null),{boundingRect:N,viewBB:S,rfId:E,panZoom:T,translateExtent:O,flowWidth:C,flowHeight:L,ariaLabelConfig:P}=be(R7,He),D=(e==null?void 0:e.width)??M7,I=(e==null?void 0:e.height)??I7,R=N.width/D,A=N.height/I,M=Math.max(R,A),z=M*D,V=M*I,B=j*M,X=N.x-(z-N.width)/2-B,q=N.y-(V-N.height)/2-B,J=z+B*2,ce=V+B*2,te=`${L7}-${E}`,Q=b.useRef(0),U=b.useRef();Q.current=M,b.useEffect(()=>{if(_.current&&T)return U.current=o6({domNode:_.current,panZoom:T,getTransform:()=>k.getState().transform,getViewScale:()=>Q.current}),()=>{var ne;(ne=U.current)==null||ne.destroy()}},[T]),b.useEffect(()=>{var ne;(ne=U.current)==null||ne.update({translateExtent:O,width:C,height:L,inversePan:x,pannable:y,zoomStep:w,zoomable:v})},[y,v,x,w,O,C,L]);const Z=m?ne=>{var Y;const[ue,F]=((Y=U.current)==null?void 0:Y.pointer(ne))||[0,0];m(ne,{x:ue,y:F})}:void 0,ee=p?b.useCallback((ne,ue)=>{const F=k.getState().nodeLookup.get(ue).internals.userNode;p(ne,F)},[]):void 0,H=g??P["minimap.ariaLabel"];return l.jsx(dm,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*M:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:lt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:l.jsxs("svg",{width:D,height:I,viewBox:`${X} ${q} ${J} ${ce}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":te,ref:_,onClick:Z,children:[H&&l.jsx("title",{id:te,children:H}),l.jsx(T7,{onClick:ee,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:i,nodeClassName:a,nodeStrokeWidth:s,nodeComponent:o}),l.jsx("path",{className:"react-flow__minimap-mask",d:`M${X-B},${q-B}h${J+B*2}v${ce+B*2}h${-J-B*2}z
        M${S.x},${S.y}h${S.width}v${S.height}h${-S.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}eO.displayName="MiniMap";b.memo(eO);const $7=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,z7={[Ao.Line]:"right",[Ao.Handle]:"bottom-right"};function F7({nodeId:e,position:t,variant:r=Ao.Handle,className:n,style:a=void 0,children:i,color:s,minWidth:o=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:h,autoScale:m=!0,shouldResize:p,onResizeStart:y,onResize:v,onResizeEnd:g}){const x=AC(),w=typeof e=="string"?e:x,j=We(),k=b.useRef(null),_=r===Ao.Handle,N=be(b.useCallback($7(_&&m),[_,m]),He),S=b.useRef(null),E=t??z7[r];b.useEffect(()=>{if(!(!k.current||!w))return S.current||(S.current=w6({domNode:k.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:O,transform:C,snapGrid:L,snapToGrid:P,nodeOrigin:D,domNode:I}=j.getState();return{nodeLookup:O,transform:C,snapGrid:L,snapToGrid:P,nodeOrigin:D,paneDomNode:I}},onChange:(O,C)=>{const{triggerNodeChanges:L,nodeLookup:P,parentLookup:D,nodeOrigin:I}=j.getState(),R=[],A={x:O.x,y:O.y},M=P.get(w);if(M&&M.expandParent&&M.parentId){const z=M.origin??I,V=O.width??M.measured.width??0,B=O.height??M.measured.height??0,X={id:M.id,parentId:M.parentId,rect:{width:V,height:B,...JP({x:O.x??M.position.x,y:O.y??M.position.y},{width:V,height:B},M.parentId,P,z)}},q=bx([X],P,D,I);R.push(...q),A.x=O.x?Math.max(z[0]*V,O.x):void 0,A.y=O.y?Math.max(z[1]*B,O.y):void 0}if(A.x!==void 0&&A.y!==void 0){const z={id:w,type:"position",position:{...A}};R.push(z)}if(O.width!==void 0&&O.height!==void 0){const V={id:w,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:O.width,height:O.height}};R.push(V)}for(const z of C){const V={...z,type:"position"};R.push(V)}L(R)},onEnd:({width:O,height:C})=>{const L={id:w,type:"dimensions",resizing:!1,dimensions:{width:O,height:C}};j.getState().triggerNodeChanges([L])}})),S.current.update({controlPosition:E,boundaries:{minWidth:o,minHeight:c,maxWidth:u,maxHeight:d},keepAspectRatio:f,resizeDirection:h,onResizeStart:y,onResize:v,onResizeEnd:g,shouldResize:p}),()=>{var O;(O=S.current)==null||O.destroy()}},[E,o,c,u,d,f,y,v,g,p]);const T=E.split("-");return l.jsx("div",{className:lt(["react-flow__resize-control","nodrag",...T,r,n]),ref:k,style:{...a,scale:N,...s&&{[_?"backgroundColor":"borderColor"]:s}},children:i})}b.memo(F7);const ge=nx((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:r=>e({executionResult:r}),setGraph:(r,n)=>e({nodes:r,edges:n}),onNodesChange:r=>{e({nodes:_C(r,t().nodes)})},onEdgesChange:r=>{e({edges:SC(r,t().edges)})},onConnect:r=>{e({edges:sC(r,t().edges)})},addNode:(r,n,a={})=>{const i=ke.get(r);if(!i)return console.error(`Node type ${r} not found in registry`),"";const s=`${r}-${Date.now()}`,o={id:s,type:"custom",position:n,data:{definitionType:r,catalogType:r,...i.getDefaultConfig(),...a}};return e({nodes:[...t().nodes,o]}),s},updateNodeData:(r,n)=>{e({nodes:t().nodes.map(a=>a.id===r?{...a,data:{...a.data,...n}}:a)})},validateGraph:async()=>{const{nodes:r,edges:n}=t();if(r.length===0)return!1;for(const a of r){const i=ke.get(a.data.definitionType);if(i){const s=i.validate(a.data);if(!s.isValid)return console.warn(`Node ${a.id} validation failed: ${s.message}`),!1}}for(const a of r){const i=ke.get(a.data.definitionType);if(i&&i.inputs.length>0&&!n.some(o=>o.target===a.id))return console.warn(`Node ${a.id} (${i.label}) is disconnected.`),!1}return!0}}));/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var B7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,...u},d)=>b.createElement("svg",{ref:d,...B7,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${U7(e)}`,o].join(" "),...u},[...t.map(([f,h])=>b.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=re("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=re("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=re("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=re("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=re("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=re("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=re("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=re("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=re("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=re("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=re("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=re("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=re("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=re("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=re("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=re("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=re("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=re("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=re("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=re("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=re("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=re("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=re("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=re("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=re("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=re("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=re("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=re("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=re("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=re("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=re("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=re("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=re("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=re("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=re("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=re("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=re("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=re("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=re("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=re("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=re("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),A9=()=>{const e=ke.getAll(),t=ge(o=>o.addNode),[r,n]=b.useState(""),a=(o,c)=>{o.dataTransfer.setData("application/reactflow",c),o.dataTransfer.effectAllowed="move"},i=e.filter(o=>o.label.toLowerCase().includes(r.toLowerCase())||o.category.toLowerCase().includes(r.toLowerCase())),s=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return l.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10",children:[l.jsxs("div",{className:"p-4 border-b space-y-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(js,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:r,onChange:o=>n(o.target.value)})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:s.map(o=>{const c=i.filter(u=>u.category===o);return c.length===0?null:l.jsxs("div",{children:[l.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:o}),l.jsx("div",{className:"space-y-2",children:c.map(u=>l.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:d=>a(d,u.type),onClick:()=>t(u.type,{x:100,y:100}),children:[l.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:u.icon&&l.jsx(u.icon,{className:"w-4 h-4 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium truncate",children:u.label}),l.jsx("div",{className:"text-xs text-muted-foreground truncate",children:u.description})]})]},u.type))})]},o)})})]})};function T9(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const{useRef:M9}=fn;function I9(e){const t=M9();return r=>{const n=e(r);return T9(t.current,n)?t.current:t.current=n}}const D9=b.memo(({id:e,data:t,selected:r})=>{const n=t.definitionType,a=ke.get(n),{deleteElements:i}=Yo(),s=ge(u=>u.executionResult),o=s==null?void 0:s.node_results[e],c=u=>{u.stopPropagation(),i({nodes:[{id:e}]})};return a?l.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${r?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[l.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[l.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:a.icon&&l.jsx(a.icon,{className:"w-4 h-4 text-primary"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-sm font-bold",children:a.label}),o&&l.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${o.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:o.status==="success"?l.jsx(G7,{size:10}):l.jsx(Q7,{size:10})})]}),l.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:a.category})]}),l.jsx("button",{onClick:c,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:l.jsx(zn,{size:14})})]}),l.jsx("div",{className:"p-3",children:a.component?l.jsx(a.component,{data:t}):l.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),a.inputs.map((u,d)=>l.jsx(To,{type:"target",position:fe.Left,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(a.inputs.length+1)}%`},children:l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`input-${u.id}`)),a.outputs.map((u,d)=>l.jsx(To,{type:"source",position:fe.Right,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(a.outputs.length+1)}%`},children:l.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`output-${u.id}`))]}):l.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[l.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[l.jsx(fi,{size:16}),l.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),l.jsxs("div",{className:"text-xs mt-1",children:["Type: ",n]})]})}),R9=({id:e,sourceX:t,sourceY:r,targetX:n,targetY:a,sourcePosition:i,targetPosition:s,style:o={},markerEnd:c})=>{const{deleteElements:u}=Yo(),[d,f,h]=Vf({sourceX:t,sourceY:r,sourcePosition:i,targetX:n,targetY:a,targetPosition:s,borderRadius:24}),m=p=>{p.stopPropagation(),u({edges:[{id:e}]})};return l.jsxs(l.Fragment,{children:[l.jsx(Mo,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),l.jsx(Mo,{path:d,markerEnd:c,style:{...o,strokeWidth:2},className:"react-flow__edge-path"}),l.jsx(h7,{children:l.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${h}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:l.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:m,title:"Remove Connection",children:l.jsx(zn,{size:10})})})})]})},L9={custom:D9},$9={custom:R9},z9=()=>{const e=b.useRef(null),{screenToFlowPosition:t}=Yo(),{nodes:r,edges:n,onNodesChange:a,onEdgesChange:i,onConnect:s,addNode:o}=ge(I9(d=>({nodes:d.nodes,edges:d.edges,onNodesChange:d.onNodesChange,onEdgesChange:d.onEdgesChange,onConnect:d.onConnect,addNode:d.addNode}))),c=b.useCallback(d=>{d.preventDefault(),d.dataTransfer.dropEffect="move"},[]),u=b.useCallback(d=>{d.preventDefault();const f=d.dataTransfer.getData("application/reactflow");if(typeof f>"u"||!f)return;const h=t({x:d.clientX,y:d.clientY});o(f,h)},[t,o]);return l.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:l.jsxs(d7,{nodes:r,edges:n,onNodesChange:a,onEdgesChange:i,onConnect:s,nodeTypes:L9,onDragOver:c,onDrop:u,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:$9,deleteKeyCode:["Backspace","Delete"],children:[l.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"edge-gradient",children:[l.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),l.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),l.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),l.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[l.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),l.jsxs("feMerge",{children:[l.jsx("feMergeNode",{in:"coloredBlur"}),l.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),l.jsx(v7,{}),l.jsx(_7,{position:"top-left"})]})})},F9=()=>l.jsx(QC,{children:l.jsx(z9,{})}),B9=()=>{const e=ge(f=>f.nodes),t=ge(f=>f.updateNodeData),r=ge(f=>f.onNodesChange),[n,a]=b.useState(!1),i=e.find(f=>f.selected);if(!i)return l.jsxs("aside",{className:"w-80 border-l bg-background p-8 flex flex-col items-center justify-center text-muted-foreground text-center shrink-0",children:[l.jsx("div",{className:"p-4 bg-muted/50 rounded-full mb-4",children:l.jsx(kx,{className:"w-8 h-8 opacity-50"})}),l.jsx("h3",{className:"font-medium mb-1",children:"No Node Selected"}),l.jsx("p",{className:"text-sm",children:"Select a node on the canvas to configure its properties."})]});const s=()=>{r([{id:i.id,type:"select",selected:!1}])},o=()=>{a(!n)},c=i.data.definitionType,u=ke.get(c);if(!u)return l.jsx("aside",{className:"w-80 border-l bg-background p-4 shrink-0",children:l.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[l.jsx(zn,{className:"w-4 h-4"}),"Error: Node definition '",c,"' not found."]})});const d=u.settings;return l.jsxs("aside",{className:`
        border-l bg-background flex flex-col h-full shadow-xl z-20 transition-all duration-300 ease-in-out
        ${n?"absolute right-0 top-0 bottom-0 w-[calc(100%-16rem)]":"w-80 shrink-0"}
      `,children:[l.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-md",children:u.icon&&l.jsx(u.icon,{className:"w-4 h-4 text-primary"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"font-semibold text-sm",children:u.label}),l.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:u.category})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:o,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:n?"Collapse":"Expand",children:n?l.jsx(h9,{className:"w-4 h-4"}):l.jsx(f9,{className:"w-4 h-4"})}),l.jsx("button",{onClick:s,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Close",children:l.jsx(zn,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:d?l.jsx(d,{config:i.data,onChange:f=>t(i.id,f),nodeId:i.id}):l.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground italic",children:"No configuration options available for this node."})}),l.jsxs("div",{className:"p-3 border-t bg-muted/5 text-[10px] text-muted-foreground font-mono flex justify-between",children:[l.jsxs("span",{children:["ID: ",i.id]}),l.jsx("span",{children:"v1.0"})]})]})};function lO(e,t){return function(){return e.apply(t,arguments)}}const{toString:U9}=Object.prototype,{getPrototypeOf:_x}=Object,{iterator:gm,toStringTag:cO}=Symbol,ym=(e=>t=>{const r=U9.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),jn=e=>(e=e.toLowerCase(),t=>ym(t)===e),vm=e=>t=>typeof t===e,{isArray:Go}=Array,Io=vm("undefined");function ou(e){return e!==null&&!Io(e)&&e.constructor!==null&&!Io(e.constructor)&&mr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const uO=jn("ArrayBuffer");function V9(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&uO(e.buffer),t}const H9=vm("string"),mr=vm("function"),dO=vm("number"),lu=e=>e!==null&&typeof e=="object",W9=e=>e===!0||e===!1,Qd=e=>{if(ym(e)!=="object")return!1;const t=_x(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(cO in e)&&!(gm in e)},K9=e=>{if(!lu(e)||ou(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},q9=jn("Date"),Y9=jn("File"),X9=jn("Blob"),G9=jn("FileList"),Q9=e=>lu(e)&&mr(e.pipe),Z9=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||mr(e.append)&&((t=ym(e))==="formdata"||t==="object"&&mr(e.toString)&&e.toString()==="[object FormData]"))},J9=jn("URLSearchParams"),[eU,tU,rU,nU]=["ReadableStream","Request","Response","Headers"].map(jn),aU=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Go(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(ou(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let o;for(n=0;n<s;n++)o=i[n],t.call(null,e[o],o,e)}}function fO(e,t){if(ou(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Ri=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hO=e=>!Io(e)&&e!==Ri;function e0(){const{caseless:e,skipUndefined:t}=hO(this)&&this||{},r={},n=(a,i)=>{const s=e&&fO(r,i)||i;Qd(r[s])&&Qd(a)?r[s]=e0(r[s],a):Qd(a)?r[s]=e0({},a):Go(a)?r[s]=a.slice():(!t||!Io(a))&&(r[s]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&cu(arguments[a],n);return r}const iU=(e,t,r,{allOwnKeys:n}={})=>(cu(t,(a,i)=>{r&&mr(a)?e[i]=lO(a,r):e[i]=a},{allOwnKeys:n}),e),sU=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),oU=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},lU=(e,t,r,n)=>{let a,i,s;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],(!n||n(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=r!==!1&&_x(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},cU=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},uU=e=>{if(!e)return null;if(Go(e))return e;let t=e.length;if(!dO(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},dU=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&_x(Uint8Array)),fU=(e,t)=>{const n=(e&&e[gm]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},hU=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},mU=jn("HTMLFormElement"),pU=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),uk=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),gU=jn("RegExp"),mO=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};cu(r,(a,i)=>{let s;(s=t(a,i,e))!==!1&&(n[i]=s||a)}),Object.defineProperties(e,n)},yU=e=>{mO(e,(t,r)=>{if(mr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(mr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},vU=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Go(e)?n(e):n(String(e).split(t)),r},xU=()=>{},bU=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function wU(e){return!!(e&&mr(e.append)&&e[cO]==="FormData"&&e[gm])}const jU=e=>{const t=new Array(10),r=(n,a)=>{if(lu(n)){if(t.indexOf(n)>=0)return;if(ou(n))return n;if(!("toJSON"in n)){t[a]=n;const i=Go(n)?[]:{};return cu(n,(s,o)=>{const c=r(s,a+1);!Io(c)&&(i[o]=c)}),t[a]=void 0,i}}return n};return r(e,0)},kU=jn("AsyncFunction"),NU=e=>e&&(lu(e)||mr(e))&&mr(e.then)&&mr(e.catch),pO=((e,t)=>e?setImmediate:t?((r,n)=>(Ri.addEventListener("message",({source:a,data:i})=>{a===Ri&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ri.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",mr(Ri.postMessage)),_U=typeof queueMicrotask<"u"?queueMicrotask.bind(Ri):typeof process<"u"&&process.nextTick||pO,SU=e=>e!=null&&mr(e[gm]),K={isArray:Go,isArrayBuffer:uO,isBuffer:ou,isFormData:Z9,isArrayBufferView:V9,isString:H9,isNumber:dO,isBoolean:W9,isObject:lu,isPlainObject:Qd,isEmptyObject:K9,isReadableStream:eU,isRequest:tU,isResponse:rU,isHeaders:nU,isUndefined:Io,isDate:q9,isFile:Y9,isBlob:X9,isRegExp:gU,isFunction:mr,isStream:Q9,isURLSearchParams:J9,isTypedArray:dU,isFileList:G9,forEach:cu,merge:e0,extend:iU,trim:aU,stripBOM:sU,inherits:oU,toFlatObject:lU,kindOf:ym,kindOfTest:jn,endsWith:cU,toArray:uU,forEachEntry:fU,matchAll:hU,isHTMLForm:mU,hasOwnProperty:uk,hasOwnProp:uk,reduceDescriptors:mO,freezeMethods:yU,toObjectSet:vU,toCamelCase:pU,noop:xU,toFiniteNumber:bU,findKey:fO,global:Ri,isContextDefined:hO,isSpecCompliantForm:wU,toJSONObject:jU,isAsyncFn:kU,isThenable:NU,setImmediate:pO,asap:_U,isIterable:SU};function pe(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}K.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const gO=pe.prototype,yO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yO[e]={value:e}});Object.defineProperties(pe,yO);Object.defineProperty(gO,"isAxiosError",{value:!0});pe.from=(e,t,r,n,a,i)=>{const s=Object.create(gO);K.toFlatObject(e,s,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return pe.call(s,o,c,r,n,a),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const EU=null;function t0(e){return K.isPlainObject(e)||K.isArray(e)}function vO(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function dk(e,t,r){return e?e.concat(t).map(function(a,i){return a=vO(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function PU(e){return K.isArray(e)&&!e.some(t0)}const CU=K.toFlatObject(K,{},null,function(t){return/^is[A-Z]/.test(t)});function xm(e,t,r){if(!K.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=K.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!K.isUndefined(v[y])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(K.isDate(p))return p.toISOString();if(K.isBoolean(p))return p.toString();if(!c&&K.isBlob(p))throw new pe("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(p)||K.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,v){let g=p;if(p&&!v&&typeof p=="object"){if(K.endsWith(y,"{}"))y=n?y:y.slice(0,-2),p=JSON.stringify(p);else if(K.isArray(p)&&PU(p)||(K.isFileList(p)||K.endsWith(y,"[]"))&&(g=K.toArray(p)))return y=vO(y),g.forEach(function(w,j){!(K.isUndefined(w)||w===null)&&t.append(s===!0?dk([y],j,i):s===null?y:y+"[]",u(w))}),!1}return t0(p)?!0:(t.append(dk(v,y,i),u(p)),!1)}const f=[],h=Object.assign(CU,{defaultVisitor:d,convertValue:u,isVisitable:t0});function m(p,y){if(!K.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(p),K.forEach(p,function(g,x){(!(K.isUndefined(g)||g===null)&&a.call(t,g,K.isString(x)?x.trim():x,y,h))===!0&&m(g,y?y.concat(x):[x])}),f.pop()}}if(!K.isObject(e))throw new TypeError("data must be an object");return m(e),t}function fk(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Sx(e,t){this._pairs=[],e&&xm(e,this,t)}const xO=Sx.prototype;xO.append=function(t,r){this._pairs.push([t,r])};xO.toString=function(t){const r=t?function(n){return t.call(this,n,fk)}:fk;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function OU(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bO(e,t,r){if(!t)return e;const n=r&&r.encode||OU;K.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=K.isURLSearchParams(t)?t.toString():new Sx(t,r).toString(n),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class hk{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){K.forEach(this.handlers,function(n){n!==null&&t(n)})}}const wO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},AU=typeof URLSearchParams<"u"?URLSearchParams:Sx,TU=typeof FormData<"u"?FormData:null,MU=typeof Blob<"u"?Blob:null,IU={isBrowser:!0,classes:{URLSearchParams:AU,FormData:TU,Blob:MU},protocols:["http","https","file","blob","url","data"]},Ex=typeof window<"u"&&typeof document<"u",r0=typeof navigator=="object"&&navigator||void 0,DU=Ex&&(!r0||["ReactNative","NativeScript","NS"].indexOf(r0.product)<0),RU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",LU=Ex&&window.location.href||"http://localhost",$U=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ex,hasStandardBrowserEnv:DU,hasStandardBrowserWebWorkerEnv:RU,navigator:r0,origin:LU},Symbol.toStringTag,{value:"Module"})),Ft={...$U,...IU};function zU(e,t){return xm(e,new Ft.classes.URLSearchParams,{visitor:function(r,n,a,i){return Ft.isNode&&K.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function FU(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function BU(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function jO(e){function t(r,n,a,i){let s=r[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),c=i>=r.length;return s=!s&&K.isArray(a)?a.length:s,c?(K.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!o):((!a[s]||!K.isObject(a[s]))&&(a[s]=[]),t(r,n,a[s],i)&&K.isArray(a[s])&&(a[s]=BU(a[s])),!o)}if(K.isFormData(e)&&K.isFunction(e.entries)){const r={};return K.forEachEntry(e,(n,a)=>{t(FU(n),a,r,0)}),r}return null}function UU(e,t,r){if(K.isString(e))try{return(t||JSON.parse)(e),K.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const uu={transitional:wO,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=K.isObject(t);if(i&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return a?JSON.stringify(jO(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)||K.isReadableStream(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return zU(t,this.formSerializer).toString();if((o=K.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return xm(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),UU(t)):t}],transformResponse:[function(t){const r=this.transitional||uu.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(K.isResponse(t)||K.isReadableStream(t))return t;if(t&&K.isString(t)&&(n&&!this.responseType||a)){const s=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?pe.from(o,pe.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ft.classes.FormData,Blob:Ft.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],e=>{uu.headers[e]={}});const VU=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HU=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),r=s.substring(0,a).trim().toLowerCase(),n=s.substring(a+1).trim(),!(!r||t[r]&&VU[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},mk=Symbol("internals");function bl(e){return e&&String(e).trim().toLowerCase()}function Zd(e){return e===!1||e==null?e:K.isArray(e)?e.map(Zd):String(e)}function WU(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const KU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ig(e,t,r,n,a){if(K.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!K.isString(t)){if(K.isString(n))return t.indexOf(n)!==-1;if(K.isRegExp(n))return n.test(t)}}function qU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function YU(e,t){const r=K.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,s){return this[n].call(this,t,a,i,s)},configurable:!0})})}let pr=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(o,c,u){const d=bl(c);if(!d)throw new Error("header name must be a non-empty string");const f=K.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Zd(o))}const s=(o,c)=>K.forEach(o,(u,d)=>i(u,d,c));if(K.isPlainObject(t)||t instanceof this.constructor)s(t,r);else if(K.isString(t)&&(t=t.trim())&&!KU(t))s(HU(t),r);else if(K.isObject(t)&&K.isIterable(t)){let o={},c,u;for(const d of t){if(!K.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?K.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}s(o,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=bl(t),t){const n=K.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return WU(a);if(K.isFunction(r))return r.call(this,a,n);if(K.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=bl(t),t){const n=K.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||ig(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(s){if(s=bl(s),s){const o=K.findKey(n,s);o&&(!r||ig(n,n[o],o,r))&&(delete n[o],a=!0)}}return K.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||ig(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return K.forEach(this,(a,i)=>{const s=K.findKey(n,i);if(s){r[s]=Zd(a),delete r[i];return}const o=t?qU(i):String(i).trim();o!==i&&delete r[i],r[o]=Zd(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return K.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&K.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[mk]=this[mk]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=bl(s);n[o]||(YU(a,s),n[o]=!0)}return K.isArray(t)?t.forEach(i):i(t),this}};pr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(pr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});K.freezeMethods(pr);function sg(e,t){const r=this||uu,n=t||r,a=pr.from(n.headers);let i=n.data;return K.forEach(e,function(o){i=o.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function kO(e){return!!(e&&e.__CANCEL__)}function Qo(e,t,r){pe.call(this,e??"canceled",pe.ERR_CANCELED,t,r),this.name="CanceledError"}K.inherits(Qo,pe,{__CANCEL__:!0});function NO(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new pe("Request failed with status code "+r.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function XU(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function GU(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,s;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];s||(s=u),r[a]=c,n[a]=u;let f=i,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-s<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function QU(e,t){let r=0,n=1e3/t,a,i;const s=(u,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?s(u,d):(a=u,i||(i=setTimeout(()=>{i=null,s(a)},n-f)))},()=>a&&s(a)]}const Kf=(e,t,r=3)=>{let n=0;const a=GU(50,250);return QU(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,c=s-n,u=a(c),d=s<=o;n=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-s)/u:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},r)},pk=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},gk=e=>(...t)=>K.asap(()=>e(...t)),ZU=Ft.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ft.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ft.origin),Ft.navigator&&/(msie|trident)/i.test(Ft.navigator.userAgent)):()=>!0,JU=Ft.hasStandardBrowserEnv?{write(e,t,r,n,a,i,s){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];K.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),K.isString(n)&&o.push(`path=${n}`),K.isString(a)&&o.push(`domain=${a}`),i===!0&&o.push("secure"),K.isString(s)&&o.push(`SameSite=${s}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function eV(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function tV(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function _O(e,t,r){let n=!eV(t);return e&&(n||r==!1)?tV(e,t):t}const yk=e=>e instanceof pr?{...e}:e;function hs(e,t){t=t||{};const r={};function n(u,d,f,h){return K.isPlainObject(u)&&K.isPlainObject(d)?K.merge.call({caseless:h},u,d):K.isPlainObject(d)?K.merge({},d):K.isArray(d)?d.slice():d}function a(u,d,f,h){if(K.isUndefined(d)){if(!K.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function i(u,d){if(!K.isUndefined(d))return n(void 0,d)}function s(u,d){if(K.isUndefined(d)){if(!K.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,d,f)=>a(yk(u),yk(d),f,!0)};return K.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);K.isUndefined(h)&&f!==o||(r[d]=h)}),r}const SO=e=>{const t=hs({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=t;if(t.headers=s=pr.from(s),t.url=bO(_O(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),K.isFormData(r)){if(Ft.hasStandardBrowserEnv||Ft.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(K.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&s.set(d,f)})}}if(Ft.hasStandardBrowserEnv&&(n&&K.isFunction(n)&&(n=n(t)),n||n!==!1&&ZU(t.url))){const c=a&&i&&JU.read(i);c&&s.set(a,c)}return t},rV=typeof XMLHttpRequest<"u",nV=rV&&function(e){return new Promise(function(r,n){const a=SO(e);let i=a.data;const s=pr.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,p;function y(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function g(){if(!v)return;const w=pr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};NO(function(N){r(N),y()},function(N){n(N),y()},k),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(n(new pe("Request aborted",pe.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const k=j&&j.message?j.message:"Network Error",_=new pe(k,pe.ERR_NETWORK,e,v);_.event=j||null,n(_),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||wO;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new pe(j,k.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,e,v)),v=null},i===void 0&&s.setContentType(null),"setRequestHeader"in v&&K.forEach(s.toJSON(),function(j,k){v.setRequestHeader(k,j)}),K.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),u&&([h,p]=Kf(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,m]=Kf(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=w=>{v&&(n(!w||w.type?new Qo(null,e,v):w),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const x=XU(a.url);if(x&&Ft.protocols.indexOf(x)===-1){n(new pe("Unsupported protocol "+x+":",pe.ERR_BAD_REQUEST,e));return}v.send(i||null)})},aV=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof pe?d:new Qo(d instanceof Error?d.message:d))}};let s=t&&setTimeout(()=>{s=null,i(new pe(`timeout ${t} of ms exceeded`,pe.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>K.asap(o),c}},iV=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},sV=async function*(e,t){for await(const r of oV(e))yield*iV(r,t)},oV=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},vk=(e,t,r,n)=>{const a=sV(e,t);let i=0,s,o=c=>{s||(s=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){o(),c.close();return}let f=d.byteLength;if(r){let h=i+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},xk=64*1024,{isFunction:pd}=K,lV=(({Request:e,Response:t})=>({Request:e,Response:t}))(K.global),{ReadableStream:bk,TextEncoder:wk}=K.global,jk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},cV=e=>{e=K.merge.call({skipUndefined:!0},lV,e);const{fetch:t,Request:r,Response:n}=e,a=t?pd(t):typeof fetch=="function",i=pd(r),s=pd(n);if(!a)return!1;const o=a&&pd(bk),c=a&&(typeof wk=="function"?(p=>y=>p.encode(y))(new wk):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=i&&o&&jk(()=>{let p=!1;const y=new r(Ft.origin,{body:new bk,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),d=s&&o&&jk(()=>K.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(y,v)=>{let g=y&&y[p];if(g)return g.call(y);throw new pe(`Response type '${p}' is not supported`,pe.ERR_NOT_SUPPORT,v)})});const h=async p=>{if(p==null)return 0;if(K.isBlob(p))return p.size;if(K.isSpecCompliantForm(p))return(await new r(Ft.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(K.isArrayBufferView(p)||K.isArrayBuffer(p))return p.byteLength;if(K.isURLSearchParams(p)&&(p=p+""),K.isString(p))return(await c(p)).byteLength},m=async(p,y)=>{const v=K.toFiniteNumber(p.getContentLength());return v??h(y)};return async p=>{let{url:y,method:v,data:g,signal:x,cancelToken:w,timeout:j,onDownloadProgress:k,onUploadProgress:_,responseType:N,headers:S,withCredentials:E="same-origin",fetchOptions:T}=SO(p),O=t||fetch;N=N?(N+"").toLowerCase():"text";let C=aV([x,w&&w.toAbortSignal()],j),L=null;const P=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let D;try{if(_&&u&&v!=="get"&&v!=="head"&&(D=await m(S,g))!==0){let V=new r(y,{method:"POST",body:g,duplex:"half"}),B;if(K.isFormData(g)&&(B=V.headers.get("content-type"))&&S.setContentType(B),V.body){const[X,q]=pk(D,Kf(gk(_)));g=vk(V.body,xk,X,q)}}K.isString(E)||(E=E?"include":"omit");const I=i&&"credentials"in r.prototype,R={...T,signal:C,method:v.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:I?E:void 0};L=i&&new r(y,R);let A=await(i?O(L,T):O(y,R));const M=d&&(N==="stream"||N==="response");if(d&&(k||M&&P)){const V={};["status","statusText","headers"].forEach(J=>{V[J]=A[J]});const B=K.toFiniteNumber(A.headers.get("content-length")),[X,q]=k&&pk(B,Kf(gk(k),!0))||[];A=new n(vk(A.body,xk,X,()=>{q&&q(),P&&P()}),V)}N=N||"text";let z=await f[K.findKey(f,N)||"text"](A,p);return!M&&P&&P(),await new Promise((V,B)=>{NO(V,B,{data:z,headers:pr.from(A.headers),status:A.status,statusText:A.statusText,config:p,request:L})})}catch(I){throw P&&P(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,p,L),{cause:I.cause||I}):pe.from(I,I&&I.code,p,L)}}},uV=new Map,EO=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let s=i.length,o=s,c,u,d=uV;for(;o--;)c=i[o],u=d.get(c),u===void 0&&d.set(c,u=o?new Map:cV(t)),d=u;return u};EO();const Px={http:EU,xhr:nV,fetch:{get:EO}};K.forEach(Px,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kk=e=>`- ${e}`,dV=e=>K.isFunction(e)||e===null||e===!1;function fV(e,t){e=K.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let s=0;s<r;s++){n=e[s];let o;if(a=n,!dV(n)&&(a=Px[(o=String(n)).toLowerCase()],a===void 0))throw new pe(`Unknown adapter '${o}'`);if(a&&(K.isFunction(a)||(a=a.get(t))))break;i[o||"#"+s]=a}if(!a){const s=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?s.length>1?`since :
`+s.map(kk).join(`
`):" "+kk(s[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const PO={getAdapter:fV,adapters:Px};function og(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qo(null,e)}function Nk(e){return og(e),e.headers=pr.from(e.headers),e.data=sg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),PO.getAdapter(e.adapter||uu.adapter,e)(e).then(function(n){return og(e),n.data=sg.call(e,e.transformResponse,n),n.headers=pr.from(n.headers),n},function(n){return kO(n)||(og(e),n&&n.response&&(n.response.data=sg.call(e,e.transformResponse,n.response),n.response.headers=pr.from(n.response.headers))),Promise.reject(n)})}const CO="1.13.2",bm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{bm[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const _k={};bm.transitional=function(t,r,n){function a(i,s){return"[Axios v"+CO+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return(i,s,o)=>{if(t===!1)throw new pe(a(s," has been removed"+(r?" in "+r:"")),pe.ERR_DEPRECATED);return r&&!_k[s]&&(_k[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,s,o):!0}};bm.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function hV(e,t,r){if(typeof e!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],s=t[i];if(s){const o=e[i],c=o===void 0||s(o,i,e);if(c!==!0)throw new pe("option "+i+" must be "+c,pe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new pe("Unknown option "+i,pe.ERR_BAD_OPTION)}}const Jd={assertOptions:hV,validators:bm},Sn=Jd.validators;let Ji=class{constructor(t){this.defaults=t||{},this.interceptors={request:new hk,response:new hk}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=hs(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&Jd.assertOptions(n,{silentJSONParsing:Sn.transitional(Sn.boolean),forcedJSONParsing:Sn.transitional(Sn.boolean),clarifyTimeoutError:Sn.transitional(Sn.boolean)},!1),a!=null&&(K.isFunction(a)?r.paramsSerializer={serialize:a}:Jd.assertOptions(a,{encode:Sn.function,serialize:Sn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Jd.assertOptions(r,{baseUrl:Sn.spelling("baseURL"),withXsrfToken:Sn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=i&&K.merge(i.common,i[r.method]);i&&K.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=pr.concat(s,i);const o=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,h;if(!c){const p=[Nk.bind(this),void 0];for(p.unshift(...o),p.push(...u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=o.length;let m=r;for(;f<h;){const p=o[f++],y=o[f++];try{m=p(m)}catch(v){y.call(this,v);break}}try{d=Nk.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=hs(this.defaults,t);const r=_O(t.baseURL,t.url,t.allowAbsoluteUrls);return bO(r,t.params,t.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(t){Ji.prototype[t]=function(r,n){return this.request(hs(n||{},{method:t,url:r,data:(n||{}).data}))}});K.forEach(["post","put","patch"],function(t){function r(n){return function(i,s,o){return this.request(hs(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Ji.prototype[t]=r(),Ji.prototype[t+"Form"]=r(!0)});let mV=class OO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{n.subscribe(o),i=o}).then(a);return s.cancel=function(){n.unsubscribe(i)},s},t(function(i,s,o){n.reason||(n.reason=new Qo(i,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new OO(function(a){t=a}),cancel:t}}};function pV(e){return function(r){return e.apply(null,r)}}function gV(e){return K.isObject(e)&&e.isAxiosError===!0}const n0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(n0).forEach(([e,t])=>{n0[t]=e});function AO(e){const t=new Ji(e),r=lO(Ji.prototype.request,t);return K.extend(r,Ji.prototype,t,{allOwnKeys:!0}),K.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return AO(hs(e,a))},r}const nt=AO(uu);nt.Axios=Ji;nt.CanceledError=Qo;nt.CancelToken=mV;nt.isCancel=kO;nt.VERSION=CO;nt.toFormData=xm;nt.AxiosError=pe;nt.Cancel=nt.CanceledError;nt.all=function(t){return Promise.all(t)};nt.spread=pV;nt.isAxiosError=gV;nt.mergeConfig=hs;nt.AxiosHeaders=pr;nt.formToJSON=e=>jO(K.isHTMLForm(e)?new FormData(e):e);nt.getAdapter=PO.getAdapter;nt.HttpStatusCode=n0;nt.default=nt;const{Axios:ice,AxiosError:sce,CanceledError:oce,isCancel:lce,CancelToken:cce,VERSION:uce,all:dce,Cancel:fce,isAxiosError:hce,spread:mce,toFormData:pce,AxiosHeaders:gce,HttpStatusCode:yce,formToJSON:vce,getAdapter:xce,mergeConfig:bce}=nt,yV="/api",ut=nt.create({baseURL:yV,headers:{"Content-Type":"application/json"}}),vV=async e=>(await ut.post("/pipeline/preview",e)).data,xV=async e=>(await ut.get(`/pipeline/datasets/${e}/schema`)).data,bV=async(e,t)=>(await ut.post(`/pipeline/save/${e}`,t)).data,wV=async e=>{const t=await ut.get(`/pipeline/load/${e}`);return t.data?t.data:null},kr={runPipeline:async e=>(await ut.post("/pipeline/run",e)).data,getJob:async e=>(await ut.get(`/pipeline/jobs/${e}`)).data,cancelJob:async e=>{await ut.post(`/pipeline/jobs/${e}/cancel`)},listJobs:async(e=50)=>(await ut.get("/pipeline/jobs",{params:{limit:e}})).data,getHyperparameters:async e=>(await ut.get(`/pipeline/hyperparameters/${e}`)).data,getDefaultSearchSpace:async e=>(await ut.get(`/pipeline/hyperparameters/${e}/defaults`)).data,getLatestTuningJob:async e=>(await ut.get(`/pipeline/jobs/tuning/latest/${e}`)).data,getBestTuningJobForModel:async e=>(await ut.get(`/pipeline/jobs/tuning/best/${e}`)).data,getTuningJobsForModel:async e=>(await ut.get(`/pipeline/jobs/tuning/history/${e}`)).data},jV=3e3,Zo=nx((e,t)=>{let r=null;return{jobs:[],isLoading:!1,isDrawerOpen:!1,activeTab:"training",fetchJobs:async()=>{e({isLoading:!0});try{const n=await kr.listJobs();e({jobs:n,isLoading:!1})}catch(n){console.error("Failed to fetch jobs:",n),e({isLoading:!1})}},submitJob:async n=>{try{const a=await kr.runPipeline(n);return await t().fetchJobs(),t().startPolling(),a.job_id}catch(a){throw console.error("Failed to submit job:",a),a}},cancelJob:async n=>{try{await kr.cancelJob(n),await t().fetchJobs()}catch(a){throw console.error("Failed to cancel job:",a),a}},toggleDrawer:n=>{const a=t().isDrawerOpen,i=n!==void 0?n:!a;e({isDrawerOpen:i}),i?(t().fetchJobs(),t().startPolling()):t().jobs.some(o=>o.status==="running"||o.status==="queued")||t().stopPolling()},setTab:n=>e({activeTab:n}),startPolling:()=>{r||(r=setInterval(async()=>{try{const n=await kr.listJobs();e({jobs:n}),!n.some(i=>i.status==="running"||i.status==="queued")&&!t().isDrawerOpen&&t().stopPolling()}catch(n){console.error("Polling error:",n)}},jV))},stopPolling:()=>{r&&(clearInterval(r),r=null)}}}),Cx=(e,t)=>{const r=[],n=new Set,a=[],i=e.find(o=>o.data.definitionType==="dataset_node"),s=i==null?void 0:i.data.datasetId;for(i&&a.push(i.id);a.length>0;){const o=a.shift();if(n.has(o))continue;n.add(o);const c=e.find(p=>p.id===o);if(!c)continue;let u="unknown",d={};const h=t.filter(p=>p.target===o).map(p=>p.source);if(c.data.definitionType==="dataset_node")u="data_loader",d={dataset_id:c.data.datasetId};else if(c.data.definitionType==="imputation_node"){const p=c.data.method||"simple";p==="knn"?(u="KNNImputer",d={columns:c.data.columns,n_neighbors:c.data.n_neighbors,weights:c.data.weights}):p==="iterative"?(u="IterativeImputer",d={columns:c.data.columns,max_iter:c.data.max_iter,estimator:c.data.estimator,random_state:0}):(u="SimpleImputer",d={columns:c.data.columns,strategy:c.data.strategy,fill_value:c.data.fill_value})}else if(c.data.definitionType==="simple_imputer")u="SimpleImputer",d=c.data||{};else if(c.data.definitionType==="drop_missing_columns"||c.data.definitionType==="DropMissingColumns")u="DropMissingColumns",d={columns:c.data.columns||[],missing_threshold:c.data.missing_threshold};else if(c.data.definitionType==="drop_missing_rows"||c.data.definitionType==="DropMissingRows")u="DropMissingRows",d={missing_threshold:c.data.missing_threshold,drop_if_any_missing:c.data.drop_if_any_missing};else if(c.data.definitionType==="deduplicate"||c.data.definitionType==="Deduplicate")u="Deduplicate",d={subset:c.data.subset,keep:c.data.keep};else if(c.data.definitionType==="casting"||c.data.definitionType==="Casting")u="Casting",d={column_types:c.data.column_types};else if(c.data.definitionType==="MissingIndicator"||c.data.definitionType==="missing_indicator")u="MissingIndicator",d={columns:c.data.columns,flag_suffix:c.data.flag_suffix};else if(c.data.definitionType==="scale_numeric_features"){const p=c.data||{},y=p.method||"standard";y==="minmax"?u="MinMaxScaler":y==="maxabs"?u="MaxAbsScaler":y==="robust"?u="RobustScaler":u="StandardScaler",d=p}else if(c.data.definitionType==="encoding"){const p=c.data.method;p==="onehot"?u="OneHotEncoder":p==="dummy"?(u="DummyEncoder",d={...c.data,drop_first:!0}):p==="label"?u="LabelEncoder":p==="ordinal"?u="OrdinalEncoder":p==="target"?u="TargetEncoder":p==="hash"?u="HashEncoder":u="OneHotEncoder",u!=="DummyEncoder"&&(d=c.data)}else if(c.data.definitionType==="TrainTestSplitter")u="TrainTestSplitter",d=c.data||{};else if(c.data.definitionType==="label_encoding")u="LabelEncoder",d=c.data||{};else if(c.data.definitionType==="feature_target_split")u="feature_target_split",d=c.data||{};else if(c.data.definitionType==="feature_selection")u="feature_selection",d=c.data||{};else if(c.data.definitionType==="outlier"){const p=c.data.method||"iqr";p==="iqr"?u="IQR":p==="zscore"?u="ZScore":p==="winsorize"?u="Winsorize":p==="elliptic_envelope"?u="EllipticEnvelope":u="IQR",d=c.data}else if(c.data.definitionType==="TransformationNode"){u="GeneralTransformation";const p=c.data.transformations||[],y=[];for(const v of p)if(v.columns&&Array.isArray(v.columns))for(const g of v.columns)y.push({column:g,method:v.method,...v.params});d={transformations:y}}else c.data.definitionType==="BinningNode"?(u="GeneralBinning",d={columns:c.data.columns,strategy:c.data.strategy,n_bins:c.data.n_bins,label_format:c.data.label_format,output_suffix:c.data.output_suffix,drop_original:c.data.drop_original,custom_bins:c.data.custom_bins,custom_labels:c.data.custom_labels}):c.data.definitionType==="ResamplingNode"?((c.data.type||"oversampling")==="oversampling"?u="Oversampling":u="Undersampling",d=c.data):c.data.definitionType==="FeatureGenerationNode"?(u="FeatureMath",d={operations:c.data.operations}):c.data.definitionType==="TextCleaning"?(u="TextCleaning",d=c.data):c.data.definitionType==="ValueReplacement"?(u="ValueReplacement",d=c.data):c.data.definitionType==="AliasReplacement"?(u="AliasReplacement",d=c.data):c.data.definitionType==="InvalidValueReplacement"?(u="InvalidValueReplacement",d=c.data):c.data.definitionType==="model_training"?(u="model_training",d={target_column:c.data.target_column,model_type:c.data.model_type,hyperparameters:c.data.hyperparameters,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state}):c.data.definitionType==="hyperparameter_tuning"?(u="model_tuning",d={target_column:c.data.target_column,algorithm:c.data.model_type,tuning_config:{strategy:c.data.search_strategy,metric:c.data.metric,n_trials:c.data.n_trials,search_space:c.data.search_space,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state,random_state:c.data.random_state}}):(console.warn(`Unknown node type: ${c.data.definitionType}`),u="Unknown",d=c.data);r.push({node_id:c.id,step_type:u,params:d,inputs:h}),t.filter(p=>p.source===o).forEach(p=>a.push(p.target))}return{pipeline_id:`preview_${Date.now()}`,nodes:r,metadata:{dataset_source_id:s}}},kV=()=>{const e=ge(y=>y.nodes),t=ge(y=>y.edges),r=ge(y=>y.setExecutionResult),n=ge(y=>y.setGraph),{toggleDrawer:a}=Zo(),[i,s]=b.useState(!1),[o,c]=b.useState(!1),[u,d]=b.useState(!1),f=()=>({nodes:e.map(y=>({id:y.id,type:y.type,position:y.position,data:{...y.data,catalogType:y.data.catalogType||y.data.definitionType}})),edges:t.map(y=>({id:y.id,source:y.source,target:y.target,sourceHandle:y.sourceHandle,targetHandle:y.targetHandle,type:y.type,data:y.data}))}),h=async()=>{const y=e.find(g=>g.data.definitionType==="dataset_node"),v=y==null?void 0:y.data.datasetId;if(!v){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}c(!0);try{await bV(v,{name:"My Pipeline",description:"Saved from V2 Canvas",graph:f()}),alert("Pipeline saved successfully!")}catch(g){console.error("Save failed:",g),alert("Failed to save pipeline.")}finally{c(!1)}},m=async()=>{const y=e.find(g=>g.data.definitionType==="dataset_node"),v=y==null?void 0:y.data.datasetId;if(!v){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){d(!0);try{const g=await wV(v);g&&g.graph?(n(g.graph.nodes,g.graph.edges),alert("Pipeline loaded successfully!")):alert("No saved pipeline found for this dataset.")}catch(g){console.error("Load failed:",g),alert("Failed to load pipeline.")}finally{d(!1)}}},p=async()=>{const y=e.find(g=>g.data.definitionType==="dataset_node");if(!(y==null?void 0:y.data.datasetId)){alert("No dataset node found!");return}s(!0),r(null);try{const g=Cx(e,t),x=await vV(g);r(x)}catch(g){console.error("Pipeline failed:",g),alert("Pipeline execution failed. Check console for details.")}finally{s(!1)}};return l.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[l.jsxs("button",{onClick:()=>a(),className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors",children:[l.jsx(c9,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Jobs"})]}),l.jsxs("button",{onClick:m,disabled:u||i,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[u?l.jsx(Zi,{className:"w-4 h-4 animate-spin"}):l.jsx(i9,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:u?"Loading...":"Load"})]}),l.jsxs("button",{onClick:h,disabled:o||i,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[o?l.jsx(Zi,{className:"w-4 h-4 animate-spin"}):l.jsx(b9,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:o?"Saving...":"Save"})]}),l.jsxs("button",{onClick:p,disabled:i,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[i?l.jsx(Zi,{className:"w-4 h-4 animate-spin"}):l.jsx(mm,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:i?"Running...":"Run Preview"})]})]})},NV=()=>{const e=ge(h=>h.executionResult),[t,r]=b.useState(!0),[n,a]=b.useState(null),i=b.useMemo(()=>e!=null&&e.preview_data?Array.isArray(e.preview_data)?{Result:e.preview_data}:typeof e.preview_data=="object"?e.preview_data:{}:{},[e]),s=Object.keys(i);if(fn.useEffect(()=>{s.length>0&&(!n||!s.includes(n))&&(s.includes("train")?a("train"):s.includes("X")?a("X"):a(s[0]))},[s,n]),!e)return null;const o=n&&i[n]?i[n]:[],c=o.length>0?Object.keys(o[0]):[],u=e.node_results?Object.keys(e.node_results):[],d=Object.keys(e.node_results||{}).find(h=>e.node_results[h].status==="failed"),f=d?e.node_results[d].error:null;return l.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>r(!t),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(E9,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),l.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[o.length," rows shown"]}),e.status==="failed"&&l.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),l.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?l.jsx(Gt,{className:"w-4 h-4"}):l.jsx(Xo,{className:"w-4 h-4"})})]}),t&&l.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&l.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[l.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),l.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:f||"Unknown error occurred during execution."})]}),s.length>1&&l.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[l.jsx(u9,{className:"w-3 h-3 text-muted-foreground mr-1"}),s.map(h=>l.jsx("button",{onClick:()=>a(h),className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${n===h?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:h},h))]}),u.length>0&&e.status!=="failed"&&l.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:u.map((h,m)=>l.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:h},m))}),l.jsxs("div",{className:"flex-1 overflow-auto",children:[l.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[l.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:l.jsx("tr",{children:c.map(h=>l.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:h},h))})}),l.jsx("tbody",{children:o.map((h,m)=>l.jsx("tr",{className:"border-b hover:bg-muted/10",children:c.map(p=>l.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:h[p]!==null?String(h[p]):l.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${m}-${p}`))},m))})]}),o.length===0&&l.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",n?`for ${n}`:""]})]})]})]})},TO=nx(e=>({activeView:"canvas",setView:t=>e({activeView:t})})),_V=()=>{const[e,t]=b.useState(!1),{activeView:r,setView:n}=TO();b.useEffect(()=>{document.documentElement.classList.contains("dark")?t(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),t(!0))},[]);const a=()=>{const i=!e;t(i),i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return l.jsxs("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-between shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-8",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:l.jsx(g9,{className:"w-5 h-5 text-primary"})}),l.jsx("h1",{className:"font-bold text-lg tracking-tight bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"Skyulf ML Canvas"})]}),l.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg",children:[l.jsxs("button",{onClick:()=>n("canvas"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${r==="canvas"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[l.jsx(s9,{className:"w-4 h-4"}),"Canvas"]}),l.jsxs("button",{onClick:()=>n("experiments"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${r==="experiments"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[l.jsx(W7,{className:"w-4 h-4"}),"Experiments"]}),l.jsxs("button",{onClick:()=>n("inference"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${r==="inference"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[l.jsx(iO,{className:"w-4 h-4"}),"Inference"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("a",{href:"/ml-workflow-v1",className:"text-sm text-muted-foreground hover:text-primary transition-colors mr-2",target:"_blank",rel:"noopener noreferrer",children:"Switch to Legacy V1"}),l.jsx("button",{onClick:a,className:"p-2 hover:bg-accent rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Toggle Theme",children:e?l.jsx(m9,{className:"w-5 h-5"}):l.jsx(_9,{className:"w-5 h-5"})})]})]})},SV=()=>{const{isDrawerOpen:e,toggleDrawer:t,jobs:r,isLoading:n,activeTab:a,setTab:i,fetchJobs:s}=Zo(),[o,c]=b.useState(null);if(!e)return null;const u=r.filter(d=>d.job_type===a);return l.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),l.jsx("div",{className:"relative w-[900px] h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-lg flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden transition-all",children:o?l.jsx(EV,{job:o,onBack:()=>c(null),onClose:()=>t(!1)}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[l.jsx("h2",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Job History"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>s(),className:`p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 ${n?"animate-spin":""}`,title:"Refresh",children:l.jsx(pm,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>t(!1),className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:l.jsx(zn,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[l.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="tuning"?"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-50/50 dark:bg-purple-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>i("tuning"),children:"Model Optimization"}),l.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="training"?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>i("training"),children:"Standard Training"})]}),l.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-2 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[l.jsx("div",{className:"col-span-2",children:"Status"}),l.jsx("div",{className:"col-span-2",children:"Dataset / Model"}),l.jsx("div",{className:"col-span-1",children:"Job ID"}),l.jsx("div",{className:"col-span-2",children:"Started"}),l.jsx("div",{className:"col-span-1",children:"Duration"}),l.jsx("div",{className:"col-span-2",children:"Model Ready"}),l.jsx("div",{className:"col-span-2",children:"Result"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-gray-50/30 dark:bg-gray-900/30",children:u.length===0?l.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500 text-sm",children:["No ",a==="tuning"?"optimization":"training"," jobs found."]}):u.map(d=>l.jsx(PV,{job:d,onClick:()=>c(d)},d.job_id))})]})})]})},EV=({job:e,onBack:t,onClose:r})=>{const{cancelJob:n}=Zo(),[a,i]=b.useState(e),[s,o]=b.useState("overview"),[c,u]=b.useState(!1),d=b.useRef(null);b.useEffect(()=>{let h;const m=async()=>{try{const p=await kr.getJob(e.job_id);i(p)}catch(p){console.error("Failed to fetch job details",p)}};return m(),(a.status==="running"||a.status==="queued")&&(h=setInterval(m,2e3)),()=>{h&&clearInterval(h)}},[e.job_id,a.status]),b.useEffect(()=>{s==="logs"&&d.current&&d.current.scrollIntoView({behavior:"smooth"})},[a.logs,s]);const f=async()=>{if(confirm("Are you sure you want to stop this job?")){u(!0);try{await n(a.job_id)}catch{alert("Failed to cancel job")}finally{u(!1)}}};return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-500",children:l.jsx(V7,{className:"w-4 h-4"})}),l.jsx("div",{children:l.jsxs("h2",{className:"font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:["Job Details",l.jsx("span",{className:"text-xs font-normal text-gray-500 font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:a.job_id.slice(0,8)})]})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[(a.status==="running"||a.status==="queued")&&l.jsxs("button",{onClick:f,disabled:c,className:"flex items-center gap-1 px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 rounded text-xs font-medium transition-colors border border-red-200 dark:border-red-800",children:[l.jsx(N9,{className:"w-3 h-3 fill-current"}),c?"Stopping...":"Stop Job"]}),l.jsx("button",{onClick:r,className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:l.jsx(zn,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 px-4",children:[l.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="overview"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>o("overview"),children:[l.jsx(d9,{className:"w-4 h-4"}),"Overview"]}),l.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="logs"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>o("logs"),children:[l.jsx(t9,{className:"w-4 h-4"}),"Live Logs",a.status==="running"&&l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s==="overview"?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),l.jsx("div",{className:"font-medium capitalize flex items-center gap-2 text-gray-800 dark:text-gray-200",children:a.status})]}),l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Dataset"}),l.jsxs("div",{className:"font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[l.jsx(au,{className:"w-3 h-3 text-gray-400"}),a.dataset_name||a.dataset_id||"Unknown"]})]}),l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Duration"}),l.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200 font-mono",children:a.start_time&&a.end_time?`${Math.round((new Date(a.end_time).getTime()-new Date(a.start_time).getTime())/1e3)}s`:"-"})]})]}),a.error&&l.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg",children:[l.jsxs("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300 mb-2 flex items-center gap-2",children:[l.jsx(fi,{className:"w-4 h-4"}),"Error Log"]}),l.jsx("pre",{className:"text-xs text-red-700 dark:text-red-400 whitespace-pre-wrap font-mono",children:a.error})]}),a.result&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[l.jsx(P9,{className:"w-4 h-4"}),"Execution Results"]}),a.status==="completed"&&l.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 font-medium",children:[l.jsx(Ec,{className:"w-3 h-3"})," Model Ready"]})]}),a.job_type==="training"&&a.result.metrics&&l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).map(([h,m])=>l.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:h.replace(/_/g," ")}),l.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof m=="number"?m.toFixed(4):String(m)})]},h))}),a.job_type==="tuning"&&a.result.best_params&&l.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-xs overflow-x-auto",children:[l.jsx("div",{className:"text-gray-500 mb-2",children:"# Best Hyperparameters"}),l.jsx("pre",{children:JSON.stringify(a.result.best_params,null,2)})]})]})]}):l.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 min-h-[400px] font-mono text-xs text-gray-300 overflow-x-auto",children:[a.logs&&a.logs.length>0?a.logs.map((h,m)=>l.jsx("div",{className:"mb-1 border-b border-gray-800 pb-1 last:border-0",children:h},m)):l.jsx("div",{className:"text-gray-500 italic",children:"No logs available yet..."}),l.jsx("div",{ref:d})]})})]})},PV=({job:e,onClick:t})=>{var s,o;const r=c=>{switch(c){case"completed":case"succeeded":return l.jsx(Ec,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return l.jsx(fi,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"running":return l.jsx(pm,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 animate-spin"});default:return l.jsx(Z7,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}},n=c=>{switch(c){case"completed":return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50";case"failed":return"bg-red-50/30 dark:bg-red-900/10 border-red-100 dark:border-red-900/30 hover:bg-red-50/50 dark:hover:bg-red-900/20";case"running":return"bg-blue-50/30 dark:bg-blue-900/10 border-blue-100 dark:border-blue-900/30 hover:bg-blue-50/50 dark:hover:bg-blue-900/20";default:return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}},a=c=>c?new Date(c).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",i=(c,u)=>{if(!c||!u)return"-";const d=new Date(u).getTime()-new Date(c).getTime(),f=Math.floor(d/1e3);return f<60?`${f}s`:`${Math.floor(f/60)}m ${f%60}s`};return l.jsxs("div",{onClick:t,className:`grid grid-cols-12 gap-4 p-3 rounded-lg border text-sm items-center transition-colors cursor-pointer ${n(e.status)}`,children:[l.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[r(e.status),l.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300 capitalize truncate",children:e.status})]}),l.jsxs("div",{className:"col-span-2 flex flex-col justify-center text-xs text-gray-600 dark:text-gray-400 truncate",children:[l.jsxs("div",{className:"flex items-center gap-1",title:e.dataset_name||e.dataset_id,children:[l.jsx(au,{className:"w-3 h-3"}),l.jsx("span",{className:"truncate",children:e.dataset_name||e.dataset_id||"-"})]}),l.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] text-gray-500",children:[l.jsx("span",{className:"font-medium truncate",children:e.model_type||"Unknown Model"}),e.job_type==="tuning"&&((o=(s=e.config)==null?void 0:s.tuning)==null?void 0:o.strategy)&&l.jsxs("span",{className:"text-gray-400 truncate",children:["(",e.config.tuning.strategy,")"]})]})]}),l.jsx("div",{className:"col-span-1 font-mono text-xs text-gray-500 dark:text-gray-400 truncate",title:e.job_id,children:e.job_id.slice(0,8)}),l.jsx("div",{className:"col-span-2 text-gray-600 dark:text-gray-400 text-xs",children:a(e.start_time)}),l.jsx("div",{className:"col-span-1 text-gray-600 dark:text-gray-400 text-xs font-mono",children:i(e.start_time,e.end_time)}),l.jsx("div",{className:"col-span-2",children:e.status==="completed"&&l.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 w-fit",children:[l.jsx(Ec,{className:"w-3 h-3"})," Ready"]})}),l.jsx("div",{className:"col-span-2",children:e.error?l.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs truncate block",title:e.error,children:"Error"}):e.status==="completed"&&e.result?e.job_type==="training"&&e.result.metrics?l.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.result.metrics).slice(0,1).map(([c,u])=>l.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 truncate max-w-full",children:[c,": ",Number(u).toFixed(3)]},c))}):e.job_type==="tuning"&&e.result.best_params?l.jsx("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",title:JSON.stringify(e.result.best_params),children:"Params found"}):l.jsx("span",{className:"text-gray-400 text-xs",children:"-"}):l.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]})};function MO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=MO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Se(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=MO(e))&&(n&&(n+=" "),n+=t);return n}var CV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ox(e){if(typeof e!="string")return!1;var t=CV;return t.includes(e)}var OV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],AV=new Set(OV);function IO(e){return typeof e!="string"?!1:AV.has(e)}function DO(e){return typeof e=="string"&&e.startsWith("data-")}function Cr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(IO(r)||DO(r))&&(t[r]=e[r]);return t}function Jo(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Cr(t)}return typeof e=="object"&&!Array.isArray(e)?Cr(e):null}function Ut(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(IO(r)||DO(r)||Ox(r))&&(t[r]=e[r]);return t}function TV(e){return e==null?null:b.isValidElement(e)?Ut(e.props):typeof e=="object"&&!Array.isArray(e)?Ut(e):null}var MV=["children","width","height","viewBox","className","style","title","desc"];function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(null,arguments)}function IV(e,t){if(e==null)return{};var r,n,a=DV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ax=b.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:c,desc:u}=e,d=IV(e,MV),f=i||{width:n,height:a,x:0,y:0},h=Se("recharts-surface",s);return b.createElement("svg",a0({},Ut(d),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),b.createElement("title",null,c),b.createElement("desc",null,u),r)}),RV=["children","className"];function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i0.apply(null,arguments)}function LV(e,t){if(e==null)return{};var r,n,a=$V(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $V(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var St=b.forwardRef((e,t)=>{var{children:r,className:n}=e,a=LV(e,RV),i=Se("recharts-layer",n);return b.createElement("g",i0({className:i},Ut(a),{ref:t}),r)}),RO=b.createContext(null),zV=()=>b.useContext(RO);function Ie(e){return function(){return e}}const LO=Math.cos,qf=Math.sin,kn=Math.sqrt,Yf=Math.PI,wm=2*Yf,s0=Math.PI,o0=2*s0,Ei=1e-6,FV=o0-Ei;function $O(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function BV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $O;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class UV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$O:BV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=n-t,u=a-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ei)if(!(Math.abs(f*c-u*d)>Ei)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,p=a-o,y=c*c+u*u,v=m*m+p*p,g=Math.sqrt(y),x=Math.sqrt(h),w=i*Math.tan((s0-Math.acos((y+h-v)/(2*g*x)))/2),j=w/x,k=w/g;Math.abs(j-1)>Ei&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*m>d*p)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ei||Math.abs(this._y1-d)>Ei)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%o0+o0),h>FV?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ei&&this._append`A${n},${n},0,${+(h>=s0)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Tx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new UV(t)}function Mx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zO(e){this._context=e}zO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function jm(e){return new zO(e)}function FO(e){return e[0]}function BO(e){return e[1]}function UO(e,t){var r=Ie(!0),n=null,a=jm,i=null,s=Tx(o);e=typeof e=="function"?e:e===void 0?FO:Ie(e),t=typeof t=="function"?t:t===void 0?BO:Ie(t);function o(c){var u,d=(c=Mx(c)).length,f,h=!1,m;for(n==null&&(i=a(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ie(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ie(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ie(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function gd(e,t,r){var n=null,a=Ie(!0),i=null,s=jm,o=null,c=Tx(u);e=typeof e=="function"?e:e===void 0?FO:Ie(+e),t=typeof t=="function"?t:Ie(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?BO:Ie(+r);function u(f){var h,m,p,y=(f=Mx(f)).length,v,g=!1,x,w=new Array(y),j=new Array(y);for(i==null&&(o=s(x=c())),h=0;h<=y;++h){if(!(h<y&&a(v=f[h],h,f))===g)if(g=!g)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(w[p],j[p]);o.lineEnd(),o.areaEnd()}g&&(w[h]=+e(v,h,f),j[h]=+t(v,h,f),o.point(n?+n(v,h,f):w[h],r?+r(v,h,f):j[h]))}if(x)return o=null,x+""||null}function d(){return UO().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ie(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ie(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ie(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ie(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ie(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ie(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ie(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}class VO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function VV(e){return new VO(e,!0)}function HV(e){return new VO(e,!1)}const Ix={draw(e,t){const r=kn(t/Yf);e.moveTo(r,0),e.arc(0,0,r,0,wm)}},WV={draw(e,t){const r=kn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},HO=kn(1/3),KV=HO*2,qV={draw(e,t){const r=kn(t/KV),n=r*HO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},YV={draw(e,t){const r=kn(t),n=-r/2;e.rect(n,n,r,r)}},XV=.8908130915292852,WO=qf(Yf/10)/qf(7*Yf/10),GV=qf(wm/10)*WO,QV=-LO(wm/10)*WO,ZV={draw(e,t){const r=kn(t*XV),n=GV*r,a=QV*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=wm*i/5,o=LO(s),c=qf(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},lg=kn(3),JV={draw(e,t){const r=-kn(t/(lg*3));e.moveTo(0,r*2),e.lineTo(-lg*r,-r),e.lineTo(lg*r,-r),e.closePath()}},Dr=-.5,Rr=kn(3)/2,l0=1/kn(12),eH=(l0/2+1)*3,tH={draw(e,t){const r=kn(t/eH),n=r/2,a=r*l0,i=n,s=r*l0+r,o=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,c),e.lineTo(Dr*n-Rr*a,Rr*n+Dr*a),e.lineTo(Dr*i-Rr*s,Rr*i+Dr*s),e.lineTo(Dr*o-Rr*c,Rr*o+Dr*c),e.lineTo(Dr*n+Rr*a,Dr*a-Rr*n),e.lineTo(Dr*i+Rr*s,Dr*s-Rr*i),e.lineTo(Dr*o+Rr*c,Dr*c-Rr*o),e.closePath()}};function rH(e,t){let r=null,n=Tx(a);e=typeof e=="function"?e:Ie(e||Ix),t=typeof t=="function"?t:Ie(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ie(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ie(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Xf(){}function Gf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function KO(e){this._context=e}KO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nH(e){return new KO(e)}function qO(e){this._context=e}qO.prototype={areaStart:Xf,areaEnd:Xf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Gf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aH(e){return new qO(e)}function YO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Gf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iH(e){return new YO(e)}function XO(e){this._context=e}XO.prototype={areaStart:Xf,areaEnd:Xf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sH(e){return new XO(e)}function Sk(e){return e<0?-1:1}function Ek(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(Sk(i)+Sk(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function Pk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function cg(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Qf(e){this._context=e}Qf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cg(this,this._t0,Pk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cg(this,Pk(this,r=Ek(this,e,t)),r);break;default:cg(this,this._t0,r=Ek(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function GO(e){this._context=new QO(e)}(GO.prototype=Object.create(Qf.prototype)).point=function(e,t){Qf.prototype.point.call(this,t,e)};function QO(e){this._context=e}QO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function oH(e){return new Qf(e)}function lH(e){return new GO(e)}function ZO(e){this._context=e}ZO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Ck(e),a=Ck(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ck(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function cH(e){return new ZO(e)}function km(e,t){this._context=e,this._t=t}km.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function uH(e){return new km(e,.5)}function dH(e){return new km(e,0)}function fH(e){return new km(e,1)}function Do(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function c0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function hH(e,t){return e[t]}function mH(e){const t=[];return t.key=e,t}function pH(){var e=Ie([]),t=c0,r=Do,n=hH;function a(i){var s=Array.from(e.apply(this,arguments),mH),o,c=s.length,u=-1,d;for(const f of i)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,d=Mx(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ie(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ie(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?c0:typeof i=="function"?i:Ie(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Do,a):r},a}function gH(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Do(e,t)}}function yH(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Do(e,t)}}function vH(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var y=e[t[p]],v=y[n][1]||0,g=y[n-1][1]||0;m+=v-g}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Do(e,t)}}var Nm={},JO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(JO);var Dx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Dx);var _m={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(_m);var Sm={},eA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(eA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eA,r=_m;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],s=a.length;if(s===0)return i;let o=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),o++);o<s;){const f=a[o];u?f==="\\"&&o+1<s?(o++,c+=a[o]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,o++}return c&&i.push(c),i}e.toPath=n})(Sm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JO,r=Dx,n=_m,a=Sm;function i(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?i(o,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Nm);var xH=Nm.get;const Ro=Hn(xH);var cr=e=>e===0?0:e>0?1:-1,Or=e=>typeof e=="number"&&e!=+e,va=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,de=e=>(typeof e=="number"||e instanceof Number)&&!Or(e),Yr=e=>de(e)||typeof e=="string",bH=0,Pc=e=>{var t=++bH;return"".concat(e||"").concat(t)},xn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&typeof t!="string")return n;var i;if(va(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Or(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},tA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function De(e,t,r){return de(e)&&de(t)?e+r*(t-e):t}function rA(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ro(n,t))===r)}var wH=e=>{for(var t=e.length,r=0,n=0,a=0,i=0,s=1/0,o=-1/0,c=0,u=0,d=0;d<t;d++)c=e[d].cx||0,u=e[d].cy||0,r+=c,n+=u,a+=c*u,i+=c*c,s=Math.min(s,c),o=Math.max(o,c);var f=t*i!==r*r?(t*a-r*n)/(t*i-r*r):0;return{xmin:s,xmax:o,a:f,b:(n-f*r)/t}},Oe=e=>e===null||typeof e>"u",du=e=>Oe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function jH(e){return e!=null}function fu(){}var kH=["type","size","sizeType"];function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u0.apply(null,arguments)}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ak(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(n){NH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NH(e,t,r){return(t=_H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EH(e,t){if(e==null)return{};var r,n,a=PH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nA={symbolCircle:Ix,symbolCross:WV,symbolDiamond:qV,symbolSquare:YV,symbolStar:ZV,symbolTriangle:JV,symbolWye:tH},CH=Math.PI/180,OH=e=>{var t="symbol".concat(du(e));return nA[t]||Ix},AH=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*CH;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},TH=(e,t)=>{nA["symbol".concat(du(e))]=t},Em=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=EH(e,kH),i=Ak(Ak({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=OH(s),m=rH().type(h).size(AH(r,n,s)),p=m();if(p!==null)return p},{className:c,cx:u,cy:d}=i,f=Ut(i);return de(u)&&de(d)&&de(r)?b.createElement("path",u0({},f,{className:Se("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};Em.registerSymbol=TH;var aA=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Rx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Ox(a)&&(n[a]=i=>r[a](r,i))}),n},MH=(e,t,r)=>n=>(e(t,r,n),null),hu=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Ox(a)&&typeof i=="function"&&(n||(n={}),n[a]=MH(i,t,r))}),n},IH=e=>Array.isArray(e)&&e.length>0;function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(n){RH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RH(e,t,r){return(t=LH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=$H(e,"string");return typeof t=="symbol"?t:t+""}function $H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ct(e,t){var r=DH({},e),n=t,a=Object.keys(t),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zf.apply(null,arguments)}function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(n){FH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FH(e,t,r){return(t=BH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BH(e){var t=UH(e,"string");return typeof t=="symbol"?t:t+""}function UH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $r=32,VH={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function HH(e){var{data:t,iconType:r,inactiveColor:n}=e,a=$r/2,i=$r/6,s=$r/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return b.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:$r,y2:a,className:"recharts-legend-icon"})}if(c==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat($r,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return b.createElement("path",{stroke:"none",fill:o,d:"M0,".concat($r/8,"h").concat($r,"v").concat($r*3/4,"h").concat(-$r,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var d=zH({},t);return delete d.legendIcon,b.cloneElement(t.legendIcon,d)}return b.createElement(Em,{fill:o,cx:a,cy:a,size:$r,sizeType:"diameter",type:c})}function WH(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=e,o={x:0,y:0,width:$r,height:$r},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=Se({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?i:d.color,y=h?h(d.value,d,f):d.value;return b.createElement("li",Zf({className:m,style:c,key:"legend-item-".concat(f)},hu(e,d,f)),b.createElement(Ax,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(y," legend icon")},b.createElement(HH,{data:d,iconType:s,inactiveColor:i})),b.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},y))})}var KH=e=>{var t=ct(e,VH),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:i},b.createElement(WH,Zf({},t,{payload:r})))},iA={},sA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}e.uniqBy=t})(sA);var Lx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Lx);var oA={},Pm={},lA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(lA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lA;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Pm);var cA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(cA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pm,r=cA;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(oA);var uA={},dA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nm;function r(n){return function(a){return t.get(a,n)}}e.property=r})(dA);var fA={},$x={},hA={},zx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(zx);var Fx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Fx);var Bx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Bx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zx,r=Fx,n=Bx;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(p,y,v,g,x,w){const j=h(p,y,v,g,x,w);return j!==void 0?!!j:i(p,y,m,w)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let y=0;y<p.length;y++){const v=p[y];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!h(d[v],f[v],v,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,y]of f.entries()){const v=d.get(p);if(h(v,y,p,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let y=0;y<f.length;y++){const v=f[y];let g=!1;for(let x=0;x<d.length;x++){if(p.has(x))continue;const w=d[x];let j=!1;if(h(w,v,y,d,f,m)&&(j=!0),j){p.add(x),g=!0;break}}if(!g)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(hA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hA;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})($x);var mA={},Ux={},pA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(pA);var Vx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Vx);var Hx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",y="[object DataView]",v="[object Uint8Array]",g="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",j="[object BigUint64Array]",k="[object Int8Array]",_="[object Int16Array]",N="[object Int32Array]",S="[object BigInt64Array]",E="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=y,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=E,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=N,e.int8ArrayTag=k,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=g})(Hx);var gA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(gA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pA,r=Vx,n=Hx,a=Fx,i=gA;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const y=p==null?void 0:p(d,f,h,m);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const v=new Array(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=o(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;m.set(d,v);for(const[g,x]of d)v.set(g,o(x,g,h,m,p));return v}if(d instanceof Set){const v=new Set;m.set(d,v);for(const g of d)v.add(o(g,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=o(d[g],g,h,m,p);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,v),c(v,d,h,m,p),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return m.set(d,v),c(v,d,h,m,p),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof Error){const v=new d.constructor;return m.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,h,m,p),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof Number){const v=new Number(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof String){const v=new String(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return m.set(d,v),c(v,d,h,m,p),v}return d}function c(d,f,h=d,m,p){const y=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<y.length;v++){const g=y[v],x=Object.getOwnPropertyDescriptor(d,g);(x==null||x.writable)&&(d[g]=o(f[g],g,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(Ux);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ux;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(mA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$x,r=mA;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(fA);var yA={},vA={},xA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ux,r=Hx;function n(a,i){return t.cloneDeepWith(a,(s,o,c,u)=>{const d=i==null?void 0:i(s,o,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(xA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xA;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(vA);var bA={},Wx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Wx);var wA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vx;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(wA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dx,r=Wx,n=wA,a=Sm;function i(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(bA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$x,r=_m,n=vA,a=Nm,i=bA;function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,o);return d===void 0?i.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(yA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lx,r=dA,n=fA,a=yA;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(uA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sA,r=Lx,n=oA,a=uA;function i(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(o)):[]}e.uniqBy=i})(iA);var qH=iA.uniqBy;const Ik=Hn(qH);function jA(e,t,r){return t===!0?Ik(e,r):typeof t=="function"?Ik(e,t):e}var Kx=b.createContext(null),YH=e=>e,Ke=()=>{var e=b.useContext(Kx);return e?e.store.dispatch:YH},ef=()=>{},XH=()=>ef,GH=(e,t)=>e===t;function oe(e){var t=b.useContext(Kx);return uP.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:XH,t?t.store.getState:ef,t?t.store.getState:ef,t?e:ef,GH)}function QH(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ZH(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function JH(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Dk=e=>Array.isArray(e)?e:[e];function eW(e){const t=Array.isArray(e[0])?e[0]:e;return JH(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function tW(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var rW=class{constructor(e){this.value=e}deref(){return this.value}},nW=typeof WeakRef<"u"?WeakRef:rW,aW=0,Rk=1;function yd(){return{s:aW,v:void 0,o:null,p:null}}function kA(e,t={}){let r=yd();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var f;let o=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const v=y.get(p);v===void 0?(o=yd(),y.set(p,o)):o=v}else{let y=o.p;y===null&&(o.p=y=new Map);const v=y.get(p);v===void 0?(o=yd(),y.set(p,o)):o=v}}const u=o;let d;if(o.s===Rk)d=o.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new nW(d):d}return u.s=Rk,u.v=d,d}return s.clearCache=()=>{r=yd(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function iW(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,o,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),QH(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=kA,argsMemoizeOptions:p=[]}=d,y=Dk(h),v=Dk(p),g=eW(a),x=f(function(){return i++,u.apply(null,arguments)},...y),w=m(function(){s++;const k=tW(g,arguments);return o=x.apply(null,k),o},...v);return Object.assign(w,{resultFunc:u,memoizedResultFunc:x,dependencies:g,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var W=iW(kA),sW=Object.assign((e,t=W)=>{ZH(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>sW}),NA={},_A={},SA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),o=t(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(SA);var EA={},qx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(qx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(EA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SA,r=EA,n=Sm;function a(i,s,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,p)=>{let y=m;for(let v=0;v<p.length&&y!=null;++v)y=y[p[v]];return y},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let y=0;y<f.length;y++){const v=t.compareValues(m.criteria[y],p.criteria[y],o[y]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=a})(_A);var PA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<i?s(d,c+1):a.push(d)}};return s(r,0),a}e.flatten=t})(PA);var Yx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wx,r=Pm,n=zx,a=Bx;function i(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],s):!1}e.isIterateeCall=i})(Yx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_A,r=PA,n=Yx;function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(NA);var oW=NA.sortBy;const Cm=Hn(oW);var CA=e=>e.legend.settings,lW=e=>e.legend.size,cW=e=>e.legend.payload,uW=W([cW,CA],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Cm(n,r):n});function dW(){return oe(uW)}var vd=1;function OA(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>vd||Math.abs(s.left-t.left)>vd||Math.abs(s.top-t.top)>vd||Math.abs(s.width-t.width)>vd)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ct(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fW=typeof Symbol=="function"&&Symbol.observable||"@@observable",Lk=fW,ug=()=>Math.random().toString(36).substring(7).split("").join("."),hW={INIT:`@@redux/INIT${ug()}`,REPLACE:`@@redux/REPLACE${ug()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ug()}`},Jf=hW;function Xx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function AA(e,t,r){if(typeof e!="function")throw new Error(Ct(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ct(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ct(1));return r(AA)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,c=!1;function u(){s===i&&(s=new Map,i.forEach((v,g)=>{s.set(g,v)}))}function d(){if(c)throw new Error(Ct(3));return a}function f(v){if(typeof v!="function")throw new Error(Ct(4));if(c)throw new Error(Ct(5));let g=!0;u();const x=o++;return s.set(x,v),function(){if(g){if(c)throw new Error(Ct(6));g=!1,u(),s.delete(x),i=null}}}function h(v){if(!Xx(v))throw new Error(Ct(7));if(typeof v.type>"u")throw new Error(Ct(8));if(typeof v.type!="string")throw new Error(Ct(17));if(c)throw new Error(Ct(9));try{c=!0,a=n(a,v)}finally{c=!1}return(i=s).forEach(x=>{x()}),v}function m(v){if(typeof v!="function")throw new Error(Ct(10));n=v,h({type:Jf.REPLACE})}function p(){const v=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Ct(11));function x(){const j=g;j.next&&j.next(d())}return x(),{unsubscribe:v(x)}},[Lk](){return this}}}return h({type:Jf.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Lk]:p}}function mW(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Jf.INIT})>"u")throw new Error(Ct(12));if(typeof r(void 0,{type:Jf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ct(13))})}function TA(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{mW(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(Ct(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(s).length,c?u:s}}function eh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function pW(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Ct(15))};const s={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(s));return i=eh(...o)(a.dispatch),{...a,dispatch:i}}}function MA(e){return Xx(e)&&"type"in e&&typeof e.type=="string"}var IA=Symbol.for("immer-nothing"),$k=Symbol.for("immer-draftable"),Qt=Symbol.for("immer-state");function un(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Nr=Object,Lo=Nr.getPrototypeOf,th="constructor",Om="prototype",d0="configurable",rh="enumerable",tf="writable",Cc="value",xa=e=>!!e&&!!e[Qt];function bn(e){var t;return e?DA(e)||Am(e)||!!e[$k]||!!((t=e[th])!=null&&t[$k])||Tm(e)||Mm(e):!1}var gW=Nr[Om][th].toString(),zk=new WeakMap;function DA(e){if(!e||!Gx(e))return!1;const t=Lo(e);if(t===null||t===Nr[Om])return!0;const r=Nr.hasOwnProperty.call(t,th)&&t[th];if(r===Object)return!0;if(!Ts(r))return!1;let n=zk.get(r);return n===void 0&&(n=Function.toString.call(r),zk.set(r,n)),n===gW}function mu(e,t,r=!0){pu(e)===0?(r?Reflect.ownKeys(e):Nr.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function pu(e){const t=e[Qt];return t?t.type_:Am(e)?1:Tm(e)?2:Mm(e)?3:0}var Fk=(e,t,r=pu(e))=>r===2?e.has(t):Nr[Om].hasOwnProperty.call(e,t),f0=(e,t,r=pu(e))=>r===2?e.get(t):e[t],nh=(e,t,r,n=pu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function yW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Am=Array.isArray,Tm=e=>e instanceof Map,Mm=e=>e instanceof Set,Gx=e=>typeof e=="object",Ts=e=>typeof e=="function",dg=e=>typeof e=="boolean",Jn=e=>e.copy_||e.base_,Qx=e=>e.modified_?e.copy_:e.base_;function h0(e,t){if(Tm(e))return new Map(e);if(Mm(e))return new Set(e);if(Am(e))return Array[Om].slice.call(e);const r=DA(e);if(t===!0||t==="class_only"&&!r){const n=Nr.getOwnPropertyDescriptors(e);delete n[Qt];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o[tf]===!1&&(o[tf]=!0,o[d0]=!0),(o.get||o.set)&&(n[s]={[d0]:!0,[tf]:!0,[rh]:o[rh],[Cc]:e[s]})}return Nr.create(Lo(e),n)}else{const n=Lo(e);if(n!==null&&r)return{...e};const a=Nr.create(n);return Nr.assign(a,e)}}function Zx(e,t=!1){return Im(e)||xa(e)||!bn(e)||(pu(e)>1&&Nr.defineProperties(e,{set:xd,add:xd,clear:xd,delete:xd}),Nr.freeze(e),t&&mu(e,(r,n)=>{Zx(n,!0)},!1)),e}function vW(){un(2)}var xd={[Cc]:vW};function Im(e){return e===null||!Gx(e)?!0:Nr.isFrozen(e)}var ah="MapSet",m0="Patches",RA={};function $o(e){const t=RA[e];return t||un(0,e),t}var xW=e=>!!RA[e],Oc,LA=()=>Oc,bW=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:xW(ah)?$o(ah):void 0});function Bk(e,t){t&&(e.patchPlugin_=$o(m0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function p0(e){g0(e),e.drafts_.forEach(wW),e.drafts_=null}function g0(e){e===Oc&&(Oc=e.parent_)}var Uk=e=>Oc=bW(Oc,e);function wW(e){const t=e[Qt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Vk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Qt].modified_&&(p0(t),un(4)),bn(e)&&(e=Hk(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Qt].base_,e,t)}else e=Hk(t,r);return jW(t,e,!0),p0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==IA?e:void 0}function Hk(e,t){if(Im(t))return t;const r=t[Qt];if(!r)return Jx(t,e.handledSet_,e);if(!Dm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);FA(r,e)}return r.copy_}function jW(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Zx(t,r)}function $A(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Dm=(e,t)=>e.scope_===t,kW=[];function zA(e,t,r,n){const a=Jn(e),i=e.type_;if(n!==void 0&&f0(a,n,i)===t){nh(a,n,r,i);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;mu(a,(c,u)=>{if(xa(u)){const d=o.get(u)||[];d.push(c),o.set(u,d)}})}const s=e.draftLocations_.get(t)??kW;for(const o of s)nh(a,o,r,i)}function NW(e,t,r){e.callbacks_.push(function(a){var o;const i=t;if(!i||!Dm(i,a))return;(o=a.mapSetPlugin_)==null||o.fixSetContents(i);const s=Qx(i);zA(e,i.draft_??i,s,r),FA(i,a)})}function FA(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}$A(e)}}function _W(e,t,r){const{scope_:n}=e;if(xa(r)){const a=r[Qt];Dm(a,n)&&a.callbacks_.push(function(){rf(e);const s=Qx(a);zA(e,r,s,t)})}else bn(r)&&e.callbacks_.push(function(){const i=Jn(e);f0(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Jx(f0(e.copy_,t,e.type_),n.handledSet_,n)})}function Jx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||xa(e)||t.has(e)||!bn(e)||Im(e)||(t.add(e),mu(e,(n,a)=>{if(xa(a)){const i=a[Qt];if(Dm(i,r)){const s=Qx(i);nh(e,n,s,e.type_),$A(i)}}else bn(a)&&Jx(a,t,r)})),e}function SW(e,t){const r=Am(e),n={type_:r?1:0,scope_:t?t.scope_:LA(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=eb;r&&(a=[n],i=Ac);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,[o,n]}var eb={get(e,t){if(t===Qt)return e;const r=Jn(e);if(!Fk(r,t,e.type_))return EW(e,r,t);const n=r[t];if(e.finalized_||!bn(n))return n;if(n===fg(e.base_,t)){rf(e);const a=e.type_===1?+t:t,i=v0(e.scope_,n,e,a);return e.copy_[a]=i}return n},has(e,t){return t in Jn(e)},ownKeys(e){return Reflect.ownKeys(Jn(e))},set(e,t,r){const n=BA(Jn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=fg(Jn(e),t),i=a==null?void 0:a[Qt];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(yW(r,a)&&(r!==void 0||Fk(e.base_,t,e.type_)))return!0;rf(e),y0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),_W(e,t,r)),!0},deleteProperty(e,t){return rf(e),fg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),y0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Jn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[tf]:!0,[d0]:e.type_!==1||t!=="length",[rh]:n[rh],[Cc]:r[t]}},defineProperty(){un(11)},getPrototypeOf(e){return Lo(e.base_)},setPrototypeOf(){un(12)}},Ac={};mu(eb,(e,t)=>{Ac[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Ac.deleteProperty=function(e,t){return Ac.set.call(this,e,t,void 0)};Ac.set=function(e,t,r){return eb.set.call(this,e[0],t,r,e[0])};function fg(e,t){const r=e[Qt];return(r?Jn(r):e)[t]}function EW(e,t,r){var a;const n=BA(t,r);return n?Cc in n?n[Cc]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function BA(e,t){if(!(t in e))return;let r=Lo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Lo(r)}}function y0(e){e.modified_||(e.modified_=!0,e.parent_&&y0(e.parent_))}function rf(e){e.copy_||(e.assigned_=new Map,e.copy_=h0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var PW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Ts(r)&&!Ts(n)){const s=n;n=r;const o=this;return function(u=s,...d){return o.produce(u,f=>n.call(this,f,...d))}}Ts(n)||un(6),a!==void 0&&!Ts(a)&&un(7);let i;if(bn(r)){const s=Uk(this),o=v0(s,r,void 0);let c=!0;try{i=n(o),c=!1}finally{c?p0(s):g0(s)}return Bk(s,a),Vk(i,s)}else if(!r||!Gx(r)){if(i=n(r),i===void 0&&(i=r),i===IA&&(i=void 0),this.autoFreeze_&&Zx(i,!0),a){const s=[],o=[];$o(m0).generateReplacementPatches_(r,i,{patches_:s,inversePatches_:o}),a(s,o)}return i}else un(1,r)},this.produceWithPatches=(r,n)=>{if(Ts(r))return(o,...c)=>this.produceWithPatches(o,u=>r(u,...c));let a,i;return[this.produce(r,n,(o,c)=>{a=o,i=c}),a,i]},dg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),dg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),dg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){bn(t)||un(8),xa(t)&&(t=yn(t));const r=Uk(this),n=v0(r,t,void 0);return n[Qt].isManual_=!0,g0(r),n}finishDraft(t,r){const n=t&&t[Qt];(!n||!n.isManual_)&&un(9);const{scope_:a}=n;return Bk(a,r),Vk(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=$o(m0).applyPatches_;return xa(t)?a(t,r):this.produce(t,i=>a(i,r))}};function v0(e,t,r,n){const[a,i]=Tm(t)?$o(ah).proxyMap_(t,r):Mm(t)?$o(ah).proxySet_(t,r):SW(t,r);return((r==null?void 0:r.scope_)??LA()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?NW(r,i,n):i.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),a}function yn(e){return xa(e)||un(10,e),UA(e)}function UA(e){if(!bn(e)||Im(e))return e;const t=e[Qt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=h0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=h0(e,!0);return mu(r,(a,i)=>{nh(r,a,UA(i))},n),t&&(t.finalized_=!1),r}var CW=new PW,VA=CW.produce;function HA(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var OW=HA(),AW=HA,TW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?eh:eh.apply(null,arguments)};function Xr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Sr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>MA(n)&&n.type===e,r}var WA=class Rl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Rl.prototype)}static get[Symbol.species](){return Rl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Rl(...t[0].concat(this)):new Rl(...t.concat(this))}};function Wk(e){return bn(e)?VA(e,()=>{}):e}function bd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function MW(e){return typeof e=="boolean"}var IW=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new WA;return r&&(MW(r)?s.push(OW):s.push(AW(r.extraArgument))),s},KA="RTK_autoBatch",Be=()=>e=>({payload:e,meta:{[KA]:!0}}),Kk=e=>t=>{setTimeout(t,e)},qA=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Kk(10):e.type==="callback"?e.queueNotification:Kk(e.timeout),u=()=>{s=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[KA]),i=!a,i&&(s||(s=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},DW=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new WA(e);return n&&a.push(qA(typeof n=="object"?n:void 0)),a};function RW(e){const t=IW(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(Xx(r))o=TA(r);else throw new Error(Sr(1));let c;typeof n=="function"?c=n(t):c=t();let u=eh;a&&(u=TW({trace:!1,...typeof a=="object"&&a}));const d=pW(...c),f=DW(d);let h=typeof s=="function"?s(f):f();const m=u(...h);return AA(o,i,m)}function YA(e){const t={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Sr(28));if(o in t)throw new Error(Sr(29));return t[o]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function LW(e){return typeof e=="function"}function $W(e,t){let[r,n,a]=YA(t),i;if(LW(e))i=()=>Wk(e());else{const o=Wk(e);i=()=>o}function s(o=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(xa(d)){const m=f(d,c);return m===void 0?d:m}else{if(bn(d))return VA(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=i,s}var zW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",FW=(e=21)=>{let t="",r=e;for(;r--;)t+=zW[Math.random()*64|0];return t},BW=Symbol.for("rtk-slice-createasyncthunk");function UW(e,t){return`${e}/${t}`}function VW({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[BW];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(Sr(11));const o=(typeof a.reducers=="function"?a.reducers(WW()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,k){const _=typeof j=="string"?j:j.type;if(!_)throw new Error(Sr(12));if(_ in u.sliceCaseReducersByType)throw new Error(Sr(13));return u.sliceCaseReducersByType[_]=k,d},addMatcher(j,k){return u.sliceMatchers.push({matcher:j,reducer:k}),d},exposeAction(j,k){return u.actionCreators[j]=k,d},exposeCaseReducer(j,k){return u.sliceCaseReducersByName[j]=k,d}};c.forEach(j=>{const k=o[j],_={reducerName:j,type:UW(i,j),createNotation:typeof a.reducers=="function"};qW(k)?XW(_,k,d,t):KW(_,k,d)});function f(){const[j={},k=[],_=void 0]=typeof a.extraReducers=="function"?YA(a.extraReducers):[a.extraReducers],N={...j,...u.sliceCaseReducersByType};return $W(a.initialState,S=>{for(let E in N)S.addCase(E,N[E]);for(let E of u.sliceMatchers)S.addMatcher(E.matcher,E.reducer);for(let E of k)S.addMatcher(E.matcher,E.reducer);_&&S.addDefaultCase(_)})}const h=j=>j,m=new Map,p=new WeakMap;let y;function v(j,k){return y||(y=f()),y(j,k)}function g(){return y||(y=f()),y.getInitialState()}function x(j,k=!1){function _(S){let E=S[j];return typeof E>"u"&&k&&(E=bd(p,_,g)),E}function N(S=h){const E=bd(m,k,()=>new WeakMap);return bd(E,S,()=>{const T={};for(const[O,C]of Object.entries(a.selectors??{}))T[O]=HW(C,S,()=>bd(p,S,g),k);return T})}return{reducerPath:j,getSelectors:N,get selectors(){return N(_)},selectSlice:_}}const w={name:i,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...x(s),injectInto(j,{reducerPath:k,..._}={}){const N=k??s;return j.inject({reducerPath:N,reducer:v},_),{...w,...x(N,!0)}}};return w}}function HW(e,t,r,n){function a(i,...s){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return a.unwrapped=e,a}var gr=VW();function WW(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function KW({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!YW(n))throw new Error(Sr(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Xr(e,s):Xr(e))}function qW(e){return e._reducerDefinitionType==="asyncThunk"}function YW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function XW({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Sr(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||wd,pending:o||wd,rejected:c||wd,settled:u||wd})}function wd(){}var GW="task",XA="listener",GA="completed",tb="cancelled",QW=`task-${tb}`,ZW=`task-${GA}`,x0=`${XA}-${tb}`,JW=`${XA}-${GA}`,Rm=class{constructor(e){cl(this,"name","TaskAbortError");cl(this,"message");this.code=e,this.message=`${GW} ${tb} (reason: ${e})`}},rb=(e,t)=>{if(typeof e!="function")throw new TypeError(Sr(32))},ih=()=>{},QA=(e,t=ih)=>(e.catch(t),e),ZA=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),es=e=>{if(e.aborted)throw new Rm(e.reason)};function JA(e,t){let r=ih;return new Promise((n,a)=>{const i=()=>a(new Rm(e.reason));if(e.aborted){i();return}r=ZA(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=ih})}var eK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Rm?"cancelled":"rejected",error:r}}finally{t==null||t()}},sh=e=>t=>QA(JA(e,t).then(r=>(es(e),r))),eT=e=>{const t=sh(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:no}=Object,qk={},Lm="listenerMiddleware",tK=(e,t)=>{const r=n=>ZA(e,()=>n.abort(e.reason));return(n,a)=>{rb(n);const i=new AbortController;r(i);const s=eK(async()=>{es(e),es(i.signal);const o=await n({pause:sh(i.signal),delay:eT(i.signal),signal:i.signal});return es(i.signal),o},()=>i.abort(ZW));return a!=null&&a.autoJoin&&t.push(s.catch(ih)),{result:sh(e)(s),cancel(){i.abort(QW)}}}},rK=(e,t)=>{const r=async(n,a)=>{es(t);let i=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await JA(t,Promise.race(o));return es(t),c}finally{i()}};return(n,a)=>QA(r(n,a))},tT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Xr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Sr(21));return rb(i),{predicate:a,type:t,effect:i}},rT=no(e=>{const{type:t,predicate:r,effect:n}=tT(e);return{id:FW(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Sr(22))}}},{withTypes:()=>rT}),Yk=(e,t)=>{const{type:r,effect:n,predicate:a}=tT(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},b0=e=>{e.pending.forEach(t=>{t.abort(x0)})},nK=(e,t)=>()=>{for(const r of t.keys())b0(r);e.clear()},Xk=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},nT=no(Xr(`${Lm}/add`),{withTypes:()=>nT}),aK=Xr(`${Lm}/removeAll`),aT=no(Xr(`${Lm}/remove`),{withTypes:()=>aT}),iK=(...e)=>{console.error(`${Lm}/error`,...e)},gu=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:i,onError:s=iK}=e;rb(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&b0(m)}),c=m=>{const p=Yk(t,m)??rT(m);return o(p)};no(c,{withTypes:()=>c});const u=m=>{const p=Yk(t,m);return p&&(p.unsubscribe(),m.cancelActive&&b0(p)),!!p};no(u,{withTypes:()=>u});const d=async(m,p,y,v)=>{const g=new AbortController,x=rK(c,g.signal),w=[];try{m.pending.add(g),n(m),await Promise.resolve(m.effect(p,no({},y,{getOriginalState:v,condition:(j,k)=>x(j,k).then(Boolean),take:x,delay:eT(g.signal),pause:sh(g.signal),extra:i,signal:g.signal,fork:tK(g.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((j,k,_)=>{j!==g&&(j.abort(x0),_.delete(j))})},cancel:()=>{g.abort(x0),m.pending.delete(g)},throwIfCancelled:()=>{es(g.signal)}})))}catch(j){j instanceof Rm||Xk(s,j,{raisedBy:"effect"})}finally{await Promise.all(w),g.abort(JW),a(m),m.pending.delete(g)}},f=nK(t,r);return{middleware:m=>p=>y=>{if(!MA(y))return p(y);if(nT.match(y))return c(y.payload);if(aK.match(y)){f();return}if(aT.match(y))return u(y.payload);let v=m.getState();const g=()=>{if(v===qk)throw new Error(Sr(23));return v};let x;try{if(x=p(y),t.size>0){const w=m.getState(),j=Array.from(t.values());for(const k of j){let _=!1;try{_=k.predicate(y,w,v)}catch(N){_=!1,Xk(s,N,{raisedBy:"predicate"})}_&&d(k,y,m,g)}}}finally{v=qk}return x},startListening:c,stopListening:u,clearListeners:f}};function Sr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},iT=gr({name:"chartLayout",initialState:sK,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:oK,setLayout:lK,setChartSize:cK,setScale:uK}=iT.actions,dK=iT.reducer;function sT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){fK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fK(e,t,r){return(t=hK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hK(e){var t=mK(e,"string");return typeof t=="symbol"?t:t+""}function mK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xe(e,t,r){return Oe(e)||Oe(t)?r:Yr(t)?Ro(e,t,r):typeof t=="function"?t(e):r}var pK=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&de(e[i]))return qs(qs({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&de(e[s]))return qs(qs({},e),{},{[s]:e[s]+(a||0)})}return e},bi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",oT=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,s=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||s.push(t),i||s.push(r),s},lT=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=a==="category"&&s.bandwidth?s.bandwidth()/p:0;if(y=m==="angleAxis"&&i&&i.length>=2?cr(i[0]-i[1])*2*y:y,f||h){var v=(f||h||[]).map((g,x)=>{var w=n?n.indexOf(g):g;return{coordinate:s(w)+y,value:g,offset:y,index:x}});return v.filter(g=>!Or(g.coordinate))}return c&&u?u.map((g,x)=>({coordinate:s(g)+y,value:g,index:x,offset:y})):s.ticks&&d!=null?s.ticks(d).map((g,x)=>({coordinate:s(g)+y,value:g,offset:y,index:x})):s.domain().map((g,x)=>({coordinate:s(g)+y,value:n?n[g]:g,index:x,offset:y}))},Qk=1e-4,gK=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Qk,i=Math.max(n[0],n[1])+Qk,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},yK=(e,t)=>{if(!t||t.length!==2||!de(t[0])||!de(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(a[0]=r),(!de(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},vK=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=Or(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},xK=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=Or(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},bK={sign:vK,expand:gH,none:Do,silhouette:yH,wiggle:vH,positive:xK},wK=(e,t,r)=>{var n=bK[r],a=pH().keys(t).value((i,s)=>Number(Xe(i,s,0))).order(c0).offset(n);return a(e)};function jK(e){return e==null?void 0:String(e)}function oh(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Oe(a[t.dataKey])){var o=rA(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Xe(a,Oe(s)?t.dataKey:s);return Oe(c)?null:t.scale(c)}var Zk=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Xe(i,t.dataKey,t.scale.domain()[s]);return Oe(o)?null:t.scale(o)-a/2+n},kK=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},NK=e=>{var t=e.flat(2).filter(de);return[Math.min(...t),Math.max(...t)]},_K=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],SK=(e,t,r)=>{if(e!=null)return _K(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((c,u)=>{var d=sT(u,t,r),f=NK(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},Jk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zo=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Cm(t,d=>d.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var c=a[s],u=a[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function tN(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return qs(qs({},t),{},{dataKey:r,payload:n,value:a,name:i})}function el(e,t){if(e)return String(e);if(typeof t=="string")return t}var EK=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},PK=(e,t)=>t==="centric"?e.angle:e.radius,Ea=e=>e.layout.width,Pa=e=>e.layout.height,CK=e=>e.layout.scale,cT=e=>e.layout.margin,$m=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),zm=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),uT="data-recharts-item-index",dT="data-recharts-item-data-key",yu=60;function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){OK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OK(e,t,r){return(t=AK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AK(e){var t=TK(e,"string");return typeof t=="symbol"?t:t+""}function TK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MK=e=>e.brush.height;function IK(e){var t=zm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:yu;return r+a}return r},0)}function DK(e){var t=zm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:yu;return r+a}return r},0)}function RK(e){var t=$m(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function LK(e){var t=$m(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Et=W([Ea,Pa,cT,MK,IK,DK,RK,LK,CA,lW],(e,t,r,n,a,i,s,o,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=jd(jd({},f),d),m=h.bottom;h.bottom+=n,h=pK(h,c,u);var p=e-h.left-h.right,y=t-h.top-h.bottom;return jd(jd({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(y,0)})}),$K=W(Et,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),nb=W(Ea,Pa,(e,t)=>({x:0,y:0,width:e,height:t})),zK=b.createContext(null),mt=()=>b.useContext(zK)!=null,Fm=e=>e.brush,Bm=W([Fm,Et,cT],(e,t,r)=>({height:e.height,x:de(e.x)?e.x:t.left,y:de(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:de(e.width)?e.width:t.width})),fT={},hT={},mT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,o=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),y()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{p(),s=void 0,o=null},v=()=>{d()},g=function(...x){if(a!=null&&a.aborted)return;s=this,o=x;const w=h==null;m(),c&&w&&d()};return g.schedule=m,g.cancel=y,g.flush=v,a==null||a.addEventListener("abort",y,{once:!0}),g}e.debounce=t})(mT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mT;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:c}=i,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...y){d=n.apply(this,y),f=null},a,{edges:u}),m=function(...y){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(hT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hT;function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:o})}e.throttle=r})(fT);var FK=fT.throttle;const BK=Hn(FK);var lh=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>a[s++]))}},pT=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:s}=r,o=va(n)?e:Number(n),c=va(a)?t:Number(a);return i&&i>0&&(o?c=o/i:c&&(o=c*i),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},UK={width:0,height:0,overflow:"visible"},VK={width:0,overflowX:"visible"},HK={height:0,overflowY:"visible"},WK={},KK=e=>{var{width:t,height:r}=e,n=va(t),a=va(r);return n&&a?UK:n?VK:a?HK:WK};function qK(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Fe(e){return Number.isFinite(e)}function Fn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w0.apply(null,arguments)}function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(n){YK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YK(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=GK(e,"string");return typeof t=="symbol"?t:t+""}function GK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gT=b.createContext({width:-1,height:-1});function QK(e){return Fn(e.width)&&Fn(e.height)}function yT(e){var{children:t,width:r,height:n}=e,a=b.useMemo(()=>({width:r,height:n}),[r,n]);return QK(a)?b.createElement(gT.Provider,{value:a},t):null}var ab=()=>b.useContext(gT),ZK=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:s=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,y=b.useRef(null),v=b.useRef();v.current=m,b.useImperativeHandle(t,()=>y.current);var[g,x]=b.useState({containerWidth:n.width,containerHeight:n.height}),w=b.useCallback((S,E)=>{x(T=>{var O=Math.round(S),C=Math.round(E);return T.containerWidth===O&&T.containerHeight===C?T:{containerWidth:O,containerHeight:C}})},[]);b.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return fu;var S=C=>{var L,{width:P,height:D}=C[0].contentRect;w(P,D),(L=v.current)===null||L===void 0||L.call(v,P,D)};d>0&&(S=BK(S,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(S),{width:T,height:O}=y.current.getBoundingClientRect();return w(T,O),E.observe(y.current),()=>{E.disconnect()}},[w,d]);var{containerWidth:j,containerHeight:k}=g;lh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:N}=pT(j,k,{width:a,height:i,aspect:r,maxHeight:c});return lh(_!=null&&_>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,N,a,i,s,o,r),b.createElement("div",{id:f?"".concat(f):void 0,className:Se("recharts-responsive-container",h),style:aN(aN({},p),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:c}),ref:y},b.createElement("div",{style:KK({width:a,height:i})},b.createElement(yT,{width:_,height:N},u)))}),kd=b.forwardRef((e,t)=>{var r=ab();if(Fn(r.width)&&Fn(r.height))return e.children;var{width:n,height:a}=qK({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=pT(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return de(i)&&de(s)?b.createElement(yT,{width:i,height:s},e.children):b.createElement(ZK,w0({},e,{width:n,height:a,ref:t}))});function vT(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var tl=()=>{var e,t=mt(),r=oe($K),n=oe(Bm),a=(e=oe(Fm))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},JK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},xT=()=>{var e;return(e=oe(Et))!==null&&e!==void 0?e:JK},ib=()=>oe(Ea),sb=()=>oe(Pa),eq=()=>oe(e=>e.layout.margin),Ee=e=>e.layout.layoutType,vu=()=>oe(Ee),tq=()=>{var e=vu();return e!==void 0},Um=e=>{var t=Ke(),r=mt(),{width:n,height:a}=e,i=ab(),s=n,o=a;return i&&(s=i.width>0?i.width:n,o=i.height>0?i.height:a),b.useEffect(()=>{!r&&Fn(s)&&Fn(o)&&t(cK({width:s,height:o}))},[t,r,s,o]),null},bT=Symbol.for("immer-nothing"),iN=Symbol.for("immer-draftable"),Ar=Symbol.for("immer-state");function dn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Tc=Object.getPrototypeOf;function Fo(e){return!!e&&!!e[Ar]}function ms(e){var t;return e?wT(e)||Array.isArray(e)||!!e[iN]||!!((t=e.constructor)!=null&&t[iN])||xu(e)||Hm(e):!1}var rq=Object.prototype.constructor.toString(),sN=new WeakMap;function wT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=sN.get(r);return n===void 0&&(n=Function.toString.call(r),sN.set(r,n)),n===rq}function ch(e,t,r=!0){Vm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Vm(e){const t=e[Ar];return t?t.type_:Array.isArray(e)?1:xu(e)?2:Hm(e)?3:0}function j0(e,t){return Vm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jT(e,t,r){const n=Vm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function nq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xu(e){return e instanceof Map}function Hm(e){return e instanceof Set}function Pi(e){return e.copy_||e.base_}function k0(e,t){if(xu(e))return new Map(e);if(Hm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=wT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ar];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Tc(e),n)}else{const n=Tc(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function ob(e,t=!1){return Wm(e)||Fo(e)||!ms(e)||(Vm(e)>1&&Object.defineProperties(e,{set:Nd,add:Nd,clear:Nd,delete:Nd}),Object.freeze(e),t&&Object.values(e).forEach(r=>ob(r,!0))),e}function aq(){dn(2)}var Nd={value:aq};function Wm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var iq={};function ps(e){const t=iq[e];return t||dn(0,e),t}var Mc;function kT(){return Mc}function sq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oN(e,t){t&&(ps("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function N0(e){_0(e),e.drafts_.forEach(oq),e.drafts_=null}function _0(e){e===Mc&&(Mc=e.parent_)}function lN(e){return Mc=sq(Mc,e)}function oq(e){const t=e[Ar];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function cN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ar].modified_&&(N0(t),dn(4)),ms(e)&&(e=uh(t,e),t.parent_||dh(t,e)),t.patches_&&ps("Patches").generateReplacementPatches_(r[Ar].base_,e,t.patches_,t.inversePatches_)):e=uh(t,r,[]),N0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==bT?e:void 0}function uh(e,t,r){if(Wm(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ar];if(!a)return ch(t,(i,s)=>uN(e,a,t,i,s,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return dh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let s=i,o=!1;a.type_===3&&(s=new Set(i),i.clear(),o=!0),ch(s,(c,u)=>uN(e,a,i,c,u,r,o),n),dh(e,i,!1),r&&e.patches_&&ps("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function uN(e,t,r,n,a,i,s){if(a==null||typeof a!="object"&&!s)return;const o=Wm(a);if(!(o&&!s)){if(Fo(a)){const c=i&&t&&t.type_!==3&&!j0(t.assigned_,n)?i.concat(n):void 0,u=uh(e,a,c);if(jT(r,n,u),Fo(u))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(ms(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;uh(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(xu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&dh(e,a)}}}function dh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ob(t,r)}function lq(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:kT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=lb;r&&(a=[n],i=Ic);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var lb={get(e,t){if(t===Ar)return e;const r=Pi(e);if(!j0(r,t))return cq(e,r,t);const n=r[t];return e.finalized_||!ms(n)?n:n===hg(e.base_,t)?(mg(e),e.copy_[t]=E0(n,e)):n},has(e,t){return t in Pi(e)},ownKeys(e){return Reflect.ownKeys(Pi(e))},set(e,t,r){const n=NT(Pi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=hg(Pi(e),t),i=a==null?void 0:a[Ar];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(nq(r,a)&&(r!==void 0||j0(e.base_,t)))return!0;mg(e),S0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return hg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,mg(e),S0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Pi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){dn(11)},getPrototypeOf(e){return Tc(e.base_)},setPrototypeOf(){dn(12)}},Ic={};ch(lb,(e,t)=>{Ic[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ic.deleteProperty=function(e,t){return Ic.set.call(this,e,t,void 0)};Ic.set=function(e,t,r){return lb.set.call(this,e[0],t,r,e[0])};function hg(e,t){const r=e[Ar];return(r?Pi(r):e)[t]}function cq(e,t,r){var a;const n=NT(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function NT(e,t){if(!(t in e))return;let r=Tc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Tc(r)}}function S0(e){e.modified_||(e.modified_=!0,e.parent_&&S0(e.parent_))}function mg(e){e.copy_||(e.copy_=k0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var uq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(c=i,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&dn(6),n!==void 0&&typeof n!="function"&&dn(7);let a;if(ms(t)){const i=lN(this),s=E0(t,void 0);let o=!0;try{a=r(s),o=!1}finally{o?N0(i):_0(i)}return oN(i,n),cN(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===bT&&(a=void 0),this.autoFreeze_&&ob(a,!0),n){const i=[],s=[];ps("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else dn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let n,a;return[this.produce(t,r,(s,o)=>{n=s,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ms(e)||dn(8),Fo(e)&&(e=dq(e));const t=lN(this),r=E0(e,void 0);return r[Ar].isManual_=!0,_0(t),r}finishDraft(e,t){const r=e&&e[Ar];(!r||!r.isManual_)&&dn(9);const{scope_:n}=r;return oN(n,t),cN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ps("Patches").applyPatches_;return Fo(e)?n(e,t):this.produce(e,a=>n(a,t))}};function E0(e,t){const r=xu(e)?ps("MapSet").proxyMap_(e,t):Hm(e)?ps("MapSet").proxySet_(e,t):lq(e,t);return(t?t.scope_:kT()).drafts_.push(r),r}function dq(e){return Fo(e)||dn(10,e),_T(e)}function _T(e){if(!ms(e)||Wm(e))return e;const t=e[Ar];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=k0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=k0(e,!0);return ch(r,(a,i)=>{jT(r,a,_T(i))},n),t&&(t.finalized_=!1),r}var fq=new uq;fq.produce;var hq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ST=gr({name:"legend",initialState:hq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Be()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=yn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Be()},removeLegendPayload:{reducer(e,t){var r=yn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Be()}}}),{setLegendSize:dN,setLegendSettings:mq,addLegendPayload:pq,replaceLegendPayload:gq,removeLegendPayload:yq}=ST.actions,vq=ST.reducer,xq=["contextPayload"];function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(null,arguments)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bq(e,t,r){return(t=wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=jq(e,"string");return typeof t=="symbol"?t:t+""}function jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kq(e,t){if(e==null)return{};var r,n,a=Nq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _q(e){return e.value}function Sq(e){var{contextPayload:t}=e,r=kq(e,xq),n=jA(t,e.payloadUniqBy,_q),a=Bo(Bo({},r),{},{payload:n});return b.isValidElement(e.content)?b.cloneElement(e.content,a):typeof e.content=="function"?b.createElement(e.content,a):b.createElement(KH,a)}function Eq(e,t,r,n,a,i){var{layout:s,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-i.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Bo(Bo({},u),d)}function Pq(e){var t=Ke();return b.useEffect(()=>{t(mq(e))},[t,e]),null}function Cq(e){var t=Ke();return b.useEffect(()=>(t(dN(e)),()=>{t(dN({width:0,height:0}))}),[t,e]),null}function Oq(e,t,r,n){return e==="vertical"&&de(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var Aq={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function ET(e){var t=ct(e,Aq),r=dW(),n=zV(),a=eq(),{width:i,height:s,wrapperStyle:o,portal:c}=t,[u,d]=OA([r]),f=ib(),h=sb();if(f==null||h==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),p=Oq(t.layout,s,i,m),y=c?o:Bo(Bo({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||s||"auto"},Eq(o,t,a,f,h,u)),o),v=c??n;if(v==null||r==null)return null;var g=b.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},b.createElement(Pq,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&b.createElement(Cq,{width:u.width,height:u.height}),b.createElement(Sq,P0({},t,p,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return Gc.createPortal(g,v)}ET.displayName="Legend";function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C0.apply(null,arguments)}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){Tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t,r){return(t=Mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mq(e){var t=Iq(e,"string");return typeof t=="symbol"?t:t+""}function Iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dq(e){return Array.isArray(e)&&Yr(e[0])&&Yr(e[1])?e.join(" ~ "):e}var Rq=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var k={padding:0,margin:0},_=(o?Cm(i,o):i).map((N,S)=>{if(N.type==="none")return null;var E=N.formatter||s||Dq,{value:T,name:O}=N,C=T,L=O;if(E){var P=E(T,O,N,S,i);if(Array.isArray(P))[C,L]=P;else if(P!=null)C=P;else return null}var D=pg({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:D},Yr(L)?b.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Yr(L)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},C),b.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:k},_)}return null},p=pg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=pg({margin:0},a),v=!Oe(d),g=v?d:"",x=Se("recharts-default-tooltip",c),w=Se("recharts-tooltip-label",u);v&&f&&i!==void 0&&i!==null&&(g=f(d,i));var j=h?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",C0({className:x,style:p},j),b.createElement("p",{className:w,style:y},b.isValidElement(g)?g:"".concat(g)),m())},wl="recharts-tooltip-wrapper",Lq={visibility:"hidden"};function $q(e){var{coordinate:t,translateX:r,translateY:n}=e;return Se(wl,{["".concat(wl,"-right")]:de(r)&&t&&de(t.x)&&r>=t.x,["".concat(wl,"-left")]:de(r)&&t&&de(t.x)&&r<t.x,["".concat(wl,"-bottom")]:de(n)&&t&&de(t.y)&&n>=t.y,["".concat(wl,"-top")]:de(n)&&t&&de(t.y)&&n<t.y})}function mN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(i&&de(i[n]))return i[n];var d=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return s[n]?d:f;var h=c[n];if(h==null)return 0;if(s[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var y=f+o,v=h+u;return y>v?Math.max(d,h):Math.max(f,h)}function zq(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Fq(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=mN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=mN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=zq({translateX:d,translateY:f,useTranslate3d:o})):u=Lq,{cssProperties:u,cssClasses:$q({translateX:d,translateY:f,coordinate:r})}}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){O0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O0(e,t,r){return(t=Bq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bq(e){var t=Uq(e,"string");return typeof t=="symbol"?t:t+""}function Uq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Vq extends b.PureComponent{constructor(){super(...arguments),O0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),O0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:y,innerRef:v,hasPortalFromProps:g}=this.props,{cssClasses:x,cssProperties:w}=Fq({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:m}),j=g?{}:_d(_d({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=_d(_d({},j),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:k,ref:v},i)}}var PT=()=>{var e;return(e=oe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A0.apply(null,arguments)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){Hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hq(e,t,r){return(t=Wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=Kq(e,"string");return typeof t=="symbol"?t:t+""}function Kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vN={curveBasisClosed:aH,curveBasisOpen:iH,curveBasis:nH,curveBumpX:VV,curveBumpY:HV,curveLinearClosed:sH,curveLinear:jm,curveMonotoneX:oH,curveMonotoneY:lH,curveNatural:cH,curveStep:uH,curveStepAfter:fH,curveStepBefore:dH},fh=e=>Fe(e.x)&&Fe(e.y),xN=e=>e.base!=null&&fh(e.base)&&fh(e),jl=e=>e.x,kl=e=>e.y,qq=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(du(e));return(r==="curveMonotone"||r==="curveBump")&&t?vN["".concat(r).concat(t==="vertical"?"Y":"X")]:vN[r]||jm},Yq=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=qq(t,a),o=i?r.filter(fh):r,c;if(Array.isArray(n)){var u=r.map((m,p)=>yN(yN({},m),{},{base:n[p]}));a==="vertical"?c=gd().y(kl).x1(jl).x0(m=>m.base.x):c=gd().x(jl).y1(kl).y0(m=>m.base.y);var d=c.defined(xN).curve(s),f=i?u.filter(xN):u;return d(f)}a==="vertical"&&de(n)?c=gd().y(kl).x1(jl).x0(n):de(n)?c=gd().x(jl).y1(kl).y0(n):c=UO().x(jl).y(kl);var h=c.defined(fh).curve(s);return h(o)},cb=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Yq(e):n;return b.createElement("path",A0({},Cr(e),Rx(e),{className:Se("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Xq=["x","y","top","left","width","height","className"];function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(null,arguments)}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){Qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qq(e,t,r){return(t=Zq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eY(e,t){if(e==null)return{};var r,n,a=tY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rY=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),nY=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=e,c=eY(e,Xq),u=Gq({x:t,y:r,top:n,left:a,width:i,height:s},c);return!de(t)||!de(r)||!de(i)||!de(s)||!de(n)||!de(a)?null:b.createElement("path",T0({},Ut(u),{className:Se("recharts-cross",o),d:rY(t,r,i,s,n,a)}))};function aY(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){iY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iY(e,t,r){return(t=sY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sY(e){var t=oY(e,"string");return typeof t=="symbol"?t:t+""}function oY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lY=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),CT=(e,t,r)=>e.map(n=>"".concat(lY(n)," ").concat(t,"ms ").concat(r)).join(","),cY=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Dc=(e,t)=>Object.keys(t).reduce((r,n)=>jN(jN({},r),{},{[n]:e(n,t[n])}),{});function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){uY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uY(e,t,r){return(t=dY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dY(e){var t=fY(e,"string");return typeof t=="symbol"?t:t+""}function fY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hh=(e,t,r)=>e+(t-e)*r,M0=e=>{var{from:t,to:r}=e;return t!==r},OT=(e,t,r)=>{var n=Dc((a,i)=>{if(M0(i)){var[s,o]=e(i.from,i.to,i.velocity);return ft(ft({},i),{},{from:s,velocity:o})}return i},t);return r<1?Dc((a,i)=>M0(i)?ft(ft({},i),{},{velocity:hh(i.velocity,n[a].velocity,r),from:hh(i.from,n[a].from,r)}):i,t):OT(e,n,r-1)};function hY(e,t,r,n,a,i){var s,o=n.reduce((h,m)=>ft(ft({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Dc((h,m)=>m.from,o),u=()=>!Object.values(o).filter(M0).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/r.dt;o=OT(r,o,p),a(ft(ft(ft({},e),t),c())),s=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function mY(e,t,r,n,a,i,s){var o=null,c=a.reduce((f,h)=>ft(ft({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Dc((y,v)=>hh(...v,r(h)),c);if(i(ft(ft(ft({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=Dc((y,v)=>hh(...v,r(1)),c);i(ft(ft(ft({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const pY=(e,t,r,n,a,i)=>{var s=cY(e,t);return r==null?()=>(a(ft(ft({},e),t)),()=>{}):r.isStepper===!0?hY(e,t,r,s,a,i):mY(e,t,r,n,s,a,i)};var mh=1e-4,AT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],TT=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),NN=(e,t)=>r=>{var n=AT(e,t);return TT(n,r)},gY=(e,t)=>r=>{var n=AT(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return TT(a,r)},yY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((a=i[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var s=i[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},vY=(e,t,r,n)=>{var a=NN(e,r),i=NN(t,n),s=gY(e,r),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,p=s(f);if(Math.abs(m-d)<mh||p<mh)return i(f);f=o(f-m/p)}return i(f)};return c.isStepper=!1,c},_N=function(){return vY(...yY(...arguments))},xY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,o,c)=>{var u=-(s-o)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+s;return Math.abs(h-o)<mh&&Math.abs(f)<mh?[o,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},bY=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _N(e);case"spring":return xY();default:if(e.split("(")[0]==="cubic-bezier")return _N(e)}return typeof e=="function"?e:null};function wY(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class jY{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function kY(){return wY(new jY)}var NY=b.createContext(kY);function _Y(e,t){var r=b.useContext(NY);return b.useMemo(()=>t??r(e),[e,t,r])}var SY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),bu={devToolsEnabled:!1,isSsr:SY()},EY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SN={t:0},gg={t:1};function wu(e){var t=ct(e,EY),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=r==="auto"?!bu.isSsr:r,f=_Y(t.animationId,t.animationManager),[h,m]=b.useState(d?SN:gg),p=b.useRef(null);return b.useEffect(()=>{d||m(gg)},[d]),b.useEffect(()=>{if(!d||!n)return fu;var y=pY(SN,gg,bY(i),a,m,f.getTimeoutController()),v=()=>{p.current=y()};return f.start([c,s,v,a,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,n,a,i,s,c,o,f]),u(h.t)}function ju(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(Pc(t)),n=b.useRef(e);return n.current!==e&&(r.current=Pc(t),n.current=e),r.current}var PY=["radius"],CY=["radius"];function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){OY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OY(e,t,r){return(t=AY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AY(e){var t=TY(e,"string");return typeof t=="symbol"?t:t+""}function TY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(null,arguments)}function CN(e,t){if(e==null)return{};var r,n,a=MY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ON=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},AN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MT=e=>{var t=ct(e,AN),r=b.useRef(null),[n,a]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&a(R)}catch{}},[]);var{x:i,y:s,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:y}=t,v=b.useRef(o),g=b.useRef(c),x=b.useRef(i),w=b.useRef(s),j=b.useMemo(()=>({x:i,y:s,width:o,height:c,radius:u}),[i,s,o,c,u]),k=ju(j,"rectangle-");if(i!==+i||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var _=Se("recharts-rectangle",d);if(!y){var N=Ut(t),{radius:S}=N,E=CN(N,PY);return b.createElement("path",ph({},E,{radius:typeof u=="number"?u:void 0,className:_,d:ON(i,s,o,c,u)}))}var T=v.current,O=g.current,C=x.current,L=w.current,P="0px ".concat(n===-1?1:n,"px"),D="".concat(n,"px 0px"),I=CT(["strokeDasharray"],h,typeof f=="string"?f:AN.animationEasing);return b.createElement(wu,{animationId:k,key:k,canBegin:n>0,duration:h,easing:f,isActive:y,begin:m},R=>{var A=De(T,o,R),M=De(O,c,R),z=De(C,i,R),V=De(L,s,R);r.current&&(v.current=A,g.current=M,x.current=z,w.current=V);var B;p?R>0?B={transition:I,strokeDasharray:D}:B={strokeDasharray:P}:B={strokeDasharray:D};var X=Ut(t),{radius:q}=X,J=CN(X,CY);return b.createElement("path",ph({},J,{radius:typeof u=="number"?u:void 0,className:_,d:ON(z,V,A,M,u),ref:r,style:PN(PN({},B),t.style)}))})};function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){IY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IY(e,t,r){return(t=DY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=RY(e,"string");return typeof t=="symbol"?t:t+""}function RY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gh=Math.PI/180,LY=e=>e*180/Math.PI,Tt=(e,t,r,n)=>({x:e+Math.cos(-gh*n)*r,y:t+Math.sin(-gh*n)*r}),$Y=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},zY=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},FY=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=zY({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,c=Math.acos(o);return n>i&&(c=2*Math.PI-c),{radius:s,angle:LY(c),angleInRadian:c}},BY=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},UY=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},VY=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=FY({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o||a===0)return null;var{startAngle:c,endAngle:u}=BY(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?MN(MN({},t),{},{radius:a,angle:UY(d,t)}):null};function IT(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=Tt(t,r,n,a),o=Tt(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(null,arguments)}var HY=(e,t)=>{var r=cr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Sd=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/gh,f=c?a:a+i*d,h=Tt(t,r,u,f),m=Tt(t,r,n,f),p=c?a-i*d:a,y=Tt(t,r,u*Math.cos(d*gh),p);return{center:h,circleTangency:m,lineTangency:y,theta:d}},DT=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=HY(i,s),c=i+o,u=Tt(t,r,a,i),d=Tt(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Tt(t,r,n,i),m=Tt(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},WY=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=cr(u-c),{circleTangency:f,lineTangency:h,theta:m}=Sd({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:y,theta:v}=Sd({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:o}),g=o?Math.abs(c-u):Math.abs(c-u)-m-v;if(g<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):DT({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:j,theta:k}=Sd({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:_,lineTangency:N,theta:S}=Sd({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),E=o?Math.abs(c-u):Math.abs(c-u)-k-S;if(E<0&&i===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},KY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RT=e=>{var t=ct(e,KY),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=Se("recharts-sector",f),m=i-a,p=xn(s,m,0,!0),y;return p>0&&Math.abs(u-d)<360?y=WY({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):y=DT({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),b.createElement("path",I0({},Ut(t),{className:h,d:y}))};function qY(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(aA(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:s,angle:o}=t,c=Tt(n,a,i,o),u=Tt(n,a,s,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return IT(t)}}var LT={},$T={},zT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qx;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(zT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})($T);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yx,r=$T;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=a,a+=s;return c}e.range=n})(LT);var YY=LT.range;const FT=Hn(YY);function ci(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ub(e){let t,r,n;e.length!==2?(t=ci,r=(o,c)=>ci(e(o),c),n=(o,c)=>e(o)-c):(t=e===ci||e===XY?e:GY,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:s,right:i}}function GY(){return 0}function BT(e){return e===null?NaN:+e}function*QY(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ZY=ub(ci),ku=ZY.right;ub(BT).center;class IN extends Map{constructor(t,r=tX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(DN(this,t))}has(t){return super.has(DN(this,t))}set(t,r){return super.set(JY(this,t),r)}delete(t){return super.delete(eX(this,t))}}function DN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function JY({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function eX({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function tX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function rX(e=ci){if(e===ci)return UT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function UT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const nX=Math.sqrt(50),aX=Math.sqrt(10),iX=Math.sqrt(2);function yh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=nX?10:i>=aX?5:i>=iX?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?yh(e,t,r*2):[o,c,u]}function D0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?yh(t,e,r):yh(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(i-u)/-s;else for(let u=0;u<o;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(a+u)/-s;else for(let u=0;u<o;++u)c[u]=(a+u)*s;return c}function R0(e,t,r){return t=+t,e=+e,r=+r,yh(e,t,r)[2]}function L0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?R0(t,e,r):R0(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function RN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function LN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function VT(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?UT:rX(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));VT(e,t,m,p,a)}const i=e[t];let s=r,o=n;for(Nl(e,r,t),a(e[n],i)>0&&Nl(e,r,n);s<o;){for(Nl(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Nl(e,r,o):(++o,Nl(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Nl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function sX(e,t,r){if(e=Float64Array.from(QY(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return LN(e);if(t>=1)return RN(e);var n,a=(n-1)*t,i=Math.floor(a),s=RN(VT(e,i).subarray(0,i+1)),o=LN(e.subarray(i+1));return s+(o-s)*(a-i)}}function oX(e,t,r=BT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function lX(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Zr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ca(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $0=Symbol("implicit");function db(){var e=new IN,t=[],r=[],n=$0;function a(i){let s=e.get(i);if(s===void 0){if(n!==$0)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new IN;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return db(t,r).unknown(n)},Zr.apply(a,arguments),a}function fb(){var e=db().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,y=m?n:a;i=(y-p)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),p+=(y-p-i*(h-c))*d,s=i*(1-c),o&&(p=Math.round(p),s=Math.round(s));var v=lX(h).map(function(g){return p+i*g});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return fb(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},Zr.apply(f(),arguments)}function HT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return HT(t())},e}function cX(){return HT(fb.apply(null,arguments).paddingInner(1))}function uX(e){return function(){return e}}function vh(e){return+e}var $N=[0,1];function Yt(e){return e}function z0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:uX(isNaN(t)?NaN:.5)}function dX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function fX(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=z0(a,n),i=r(s,i)):(n=z0(n,a),i=r(i,s)),function(o){return i(n(o))}}function hX(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=z0(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var c=ku(e,o,1,n)-1;return i[c](a[c](o))}}function Nu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Km(){var e=$N,t=$N,r=ua,n,a,i,s=Yt,o,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Yt&&(s=dX(e[0],e[h-1])),o=h>2?hX:fX,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=o(t,e.map(n),ln)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,vh),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=lx,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Yt,d()):s!==Yt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function hb(){return Km()(Yt,Yt)}function mX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Uo(e){return e=xh(Math.abs(e)),e?e[1]:NaN}function pX(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function gX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var yX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rc(e){if(!(t=yX.exec(e)))throw new Error("invalid format: "+e);var t;return new mb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rc.prototype=mb.prototype;function mb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vX(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var WT;function xX(e,t){var r=xh(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(WT=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+xh(e,Math.max(0,t+i-1))[0]}function zN(e,t){var r=xh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const FN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zN(e*100,t),r:zN,s:xX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BN(e){return e}var UN=Array.prototype.map,VN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bX(e){var t=e.grouping===void 0||e.thousands===void 0?BN:pX(UN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?BN:gX(UN.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Rc(f);var h=f.fill,m=f.align,p=f.sign,y=f.symbol,v=f.zero,g=f.width,x=f.comma,w=f.precision,j=f.trim,k=f.type;k==="n"?(x=!0,k="g"):FN[k]||(w===void 0&&(w=12),j=!0,k="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var _=y==="$"?r:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",N=y==="$"?n:/[%p]/.test(k)?s:"",S=FN[k],E=/[defgprs%]/.test(k);w=w===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(O){var C=_,L=N,P,D,I;if(k==="c")L=S(O)+L,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?c:S(Math.abs(O),w),j&&(O=vX(O)),R&&+O==0&&p!=="+"&&(R=!1),C=(R?p==="("?p:o:p==="-"||p==="("?"":p)+C,L=(k==="s"?VN[8+WT/3]:"")+L+(R&&p==="("?")":""),E){for(P=-1,D=O.length;++P<D;)if(I=O.charCodeAt(P),48>I||I>57){L=(I===46?a+O.slice(P+1):O.slice(P))+L,O=O.slice(0,P);break}}}x&&!v&&(O=t(O,1/0));var A=C.length+O.length+L.length,M=A<g?new Array(g-A+1).join(h):"";switch(x&&v&&(O=t(M+O,M.length?g-L.length:1/0),M=""),m){case"<":O=C+O+L+M;break;case"=":O=C+M+O+L;break;case"^":O=M.slice(0,A=M.length>>1)+C+O+L+M.slice(A);break;default:O=M+C+O+L;break}return i(O)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=Rc(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Uo(h)/3)))*3,y=Math.pow(10,-p),v=VN[8+p/3];return function(g){return m(y*g)+v}}return{format:u,formatPrefix:d}}var Ed,pb,KT;wX({thousands:",",grouping:[3],currency:["$",""]});function wX(e){return Ed=bX(e),pb=Ed.format,KT=Ed.formatPrefix,Ed}function jX(e){return Math.max(0,-Uo(Math.abs(e)))}function kX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uo(t)/3)))*3-Uo(Math.abs(e)))}function NX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Uo(t)-Uo(e))+1}function qT(e,t,r,n){var a=L0(e,t,r),i;switch(n=Rc(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=kX(a,s))&&(n.precision=i),KT(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=NX(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=jX(a))&&(n.precision=i-(n.type==="%")*2);break}}return pb(n)}function wi(e){var t=e.domain;return e.ticks=function(r){var n=t();return D0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return qT(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=R0(s,o,r),u===c)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function YT(){var e=hb();return e.copy=function(){return Nu(e,YT())},Zr.apply(e,arguments),wi(e)}function XT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,vh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return XT(e).unknown(t)},e=arguments.length?Array.from(e,vh):[0,1],wi(r)}function GT(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function HN(e){return Math.log(e)}function WN(e){return Math.exp(e)}function _X(e){return-Math.log(-e)}function SX(e){return-Math.exp(-e)}function EX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function PX(e){return e===10?EX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KN(e){return(t,r)=>-e(-t,r)}function gb(e){const t=e(HN,WN),r=t.domain;let n=10,a,i;function s(){return a=CX(n),i=PX(n),r()[0]<0?(a=KN(a),i=KN(i),e(_X,SX)):e(HN,WN),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,y;const v=o==null?10:+o;let g=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(y=h<0?p/i(-h):p*i(h),!(y<u)){if(y>d)break;g.push(y)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(y=h>0?p/i(-h):p*i(h),!(y<u)){if(y>d)break;g.push(y)}g.length*2<v&&(g=D0(u,d,v))}else g=D0(h,m,Math.min(m-h,v)).map(i);return f?g.reverse():g},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Rc(c)).precision==null&&(c.trim=!0),c=pb(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(GT(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function QT(){const e=gb(Km()).domain([1,10]);return e.copy=()=>Nu(e,QT()).base(e.base()),Zr.apply(e,arguments),e}function qN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yb(e){var t=1,r=e(qN(t),YN(t));return r.constant=function(n){return arguments.length?e(qN(t=+n),YN(t)):t},wi(r)}function ZT(){var e=yb(Km());return e.copy=function(){return Nu(e,ZT()).constant(e.constant())},Zr.apply(e,arguments)}function XN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function OX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function AX(e){return e<0?-e*e:e*e}function vb(e){var t=e(Yt,Yt),r=1;function n(){return r===1?e(Yt,Yt):r===.5?e(OX,AX):e(XN(r),XN(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},wi(t)}function xb(){var e=vb(Km());return e.copy=function(){return Nu(e,xb()).exponent(e.exponent())},Zr.apply(e,arguments),e}function TX(){return xb.apply(null,arguments).exponent(.5)}function GN(e){return Math.sign(e)*e*e}function MX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function JT(){var e=hb(),t=[0,1],r=!1,n;function a(i){var s=MX(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(GN(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,vh)).map(GN)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return JT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Zr.apply(a,arguments),wi(a)}function eM(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=oX(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[ku(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ci),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return eM().domain(e).range(t).unknown(n)},Zr.apply(i,arguments)}function tM(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[ku(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return tM().domain([e,t]).range(a).unknown(i)},Zr.apply(wi(s),arguments)}function rM(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ku(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return rM().domain(e).range(t).unknown(r)},Zr.apply(a,arguments)}const yg=new Date,vg=new Date;function pt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return c},a.filter=i=>pt(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(yg.setTime(+i),vg.setTime(+s),e(yg),e(vg),Math.floor(r(yg,vg))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const bh=pt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):bh);bh.range;const oa=1e3,Hr=oa*60,la=Hr*60,ba=la*24,bb=ba*7,QN=ba*30,xg=ba*365,Li=pt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getUTCSeconds());Li.range;const wb=pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oa)},(e,t)=>{e.setTime(+e+t*Hr)},(e,t)=>(t-e)/Hr,e=>e.getMinutes());wb.range;const jb=pt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hr)},(e,t)=>(t-e)/Hr,e=>e.getUTCMinutes());jb.range;const kb=pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oa-e.getMinutes()*Hr)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getHours());kb.range;const Nb=pt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getUTCHours());Nb.range;const _u=pt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hr)/ba,e=>e.getDate()-1);_u.range;const qm=pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ba,e=>e.getUTCDate()-1);qm.range;const nM=pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ba,e=>Math.floor(e/ba));nM.range;function Ns(e){return pt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Hr)/bb)}const Ym=Ns(0),wh=Ns(1),IX=Ns(2),DX=Ns(3),Vo=Ns(4),RX=Ns(5),LX=Ns(6);Ym.range;wh.range;IX.range;DX.range;Vo.range;RX.range;LX.range;function _s(e){return pt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/bb)}const Xm=_s(0),jh=_s(1),$X=_s(2),zX=_s(3),Ho=_s(4),FX=_s(5),BX=_s(6);Xm.range;jh.range;$X.range;zX.range;Ho.range;FX.range;BX.range;const _b=pt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_b.range;const Sb=pt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Sb.range;const wa=pt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wa.range;const ja=pt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ja.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ja.range;function aM(e,t,r,n,a,i){const s=[[Li,1,oa],[Li,5,5*oa],[Li,15,15*oa],[Li,30,30*oa],[i,1,Hr],[i,5,5*Hr],[i,15,15*Hr],[i,30,30*Hr],[a,1,la],[a,3,3*la],[a,6,6*la],[a,12,12*la],[n,1,ba],[n,2,2*ba],[r,1,bb],[t,1,QN],[t,3,3*QN],[e,1,xg]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=ub(([,,v])=>v).right(s,h);if(m===s.length)return e.every(L0(u/xg,d/xg,f));if(m===0)return bh.every(Math.max(L0(u,d,f),1));const[p,y]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(y)}return[o,c]}const[UX,VX]=aM(ja,Sb,Xm,nM,Nb,jb),[HX,WX]=aM(wa,_b,Ym,_u,kb,wb);function bg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _l(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function KX(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=Sl(a),d=El(a),f=Sl(i),h=El(i),m=Sl(s),p=El(s),y=Sl(o),v=El(o),g=Sl(c),x=El(c),w={a:R,A,b:M,B:z,c:null,d:n_,e:n_,f:pG,g:_G,G:EG,H:fG,I:hG,j:mG,L:iM,m:gG,M:yG,p:V,q:B,Q:s_,s:o_,S:vG,u:xG,U:bG,V:wG,w:jG,W:kG,x:null,X:null,y:NG,Y:SG,Z:PG,"%":i_},j={a:X,A:q,b:J,B:ce,c:null,d:a_,e:a_,f:TG,g:UG,G:HG,H:CG,I:OG,j:AG,L:oM,m:MG,M:IG,p:te,q:Q,Q:s_,s:o_,S:DG,u:RG,U:LG,V:$G,w:zG,W:FG,x:null,X:null,y:BG,Y:VG,Z:WG,"%":i_},k={a:T,A:O,b:C,B:L,c:P,d:t_,e:t_,f:lG,g:e_,G:JN,H:r_,I:r_,j:aG,L:oG,m:nG,M:iG,p:E,q:rG,Q:uG,s:dG,S:sG,u:QX,U:ZX,V:JX,w:GX,W:eG,x:D,X:I,y:e_,Y:JN,Z:tG,"%":cG};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(U,Z){return function(ee){var H=[],ne=-1,ue=0,F=U.length,Y,ie,he;for(ee instanceof Date||(ee=new Date(+ee));++ne<F;)U.charCodeAt(ne)===37&&(H.push(U.slice(ue,ne)),(ie=ZN[Y=U.charAt(++ne)])!=null?Y=U.charAt(++ne):ie=Y==="e"?" ":"0",(he=Z[Y])&&(Y=he(ee,ie)),H.push(Y),ue=ne+1);return H.push(U.slice(ue,ne)),H.join("")}}function N(U,Z){return function(ee){var H=_l(1900,void 0,1),ne=S(H,U,ee+="",0),ue,F;if(ne!=ee.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(Z&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(ue=wg(_l(H.y,0,1)),F=ue.getUTCDay(),ue=F>4||F===0?jh.ceil(ue):jh(ue),ue=qm.offset(ue,(H.V-1)*7),H.y=ue.getUTCFullYear(),H.m=ue.getUTCMonth(),H.d=ue.getUTCDate()+(H.w+6)%7):(ue=bg(_l(H.y,0,1)),F=ue.getDay(),ue=F>4||F===0?wh.ceil(ue):wh(ue),ue=_u.offset(ue,(H.V-1)*7),H.y=ue.getFullYear(),H.m=ue.getMonth(),H.d=ue.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),F="Z"in H?wg(_l(H.y,0,1)).getUTCDay():bg(_l(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(F+5)%7:H.w+H.U*7-(F+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,wg(H)):bg(H)}}function S(U,Z,ee,H){for(var ne=0,ue=Z.length,F=ee.length,Y,ie;ne<ue;){if(H>=F)return-1;if(Y=Z.charCodeAt(ne++),Y===37){if(Y=Z.charAt(ne++),ie=k[Y in ZN?Z.charAt(ne++):Y],!ie||(H=ie(U,ee,H))<0)return-1}else if(Y!=ee.charCodeAt(H++))return-1}return H}function E(U,Z,ee){var H=u.exec(Z.slice(ee));return H?(U.p=d.get(H[0].toLowerCase()),ee+H[0].length):-1}function T(U,Z,ee){var H=m.exec(Z.slice(ee));return H?(U.w=p.get(H[0].toLowerCase()),ee+H[0].length):-1}function O(U,Z,ee){var H=f.exec(Z.slice(ee));return H?(U.w=h.get(H[0].toLowerCase()),ee+H[0].length):-1}function C(U,Z,ee){var H=g.exec(Z.slice(ee));return H?(U.m=x.get(H[0].toLowerCase()),ee+H[0].length):-1}function L(U,Z,ee){var H=y.exec(Z.slice(ee));return H?(U.m=v.get(H[0].toLowerCase()),ee+H[0].length):-1}function P(U,Z,ee){return S(U,t,Z,ee)}function D(U,Z,ee){return S(U,r,Z,ee)}function I(U,Z,ee){return S(U,n,Z,ee)}function R(U){return s[U.getDay()]}function A(U){return i[U.getDay()]}function M(U){return c[U.getMonth()]}function z(U){return o[U.getMonth()]}function V(U){return a[+(U.getHours()>=12)]}function B(U){return 1+~~(U.getMonth()/3)}function X(U){return s[U.getUTCDay()]}function q(U){return i[U.getUTCDay()]}function J(U){return c[U.getUTCMonth()]}function ce(U){return o[U.getUTCMonth()]}function te(U){return a[+(U.getUTCHours()>=12)]}function Q(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var Z=_(U+="",w);return Z.toString=function(){return U},Z},parse:function(U){var Z=N(U+="",!1);return Z.toString=function(){return U},Z},utcFormat:function(U){var Z=_(U+="",j);return Z.toString=function(){return U},Z},utcParse:function(U){var Z=N(U+="",!0);return Z.toString=function(){return U},Z}}}var ZN={"-":"",_:" ",0:"0"},Pt=/^\s*\d+/,qX=/^%/,YX=/[\\^$*+?|[\]().{}]/g;function Ne(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function XX(e){return e.replace(YX,"\\$&")}function Sl(e){return new RegExp("^(?:"+e.map(XX).join("|")+")","i")}function El(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function GX(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function QX(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ZX(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function JX(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function eG(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function JN(e,t,r){var n=Pt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function e_(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tG(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rG(e,t,r){var n=Pt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nG(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function t_(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function aG(e,t,r){var n=Pt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function r_(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function iG(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function sG(e,t,r){var n=Pt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function oG(e,t,r){var n=Pt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lG(e,t,r){var n=Pt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function cG(e,t,r){var n=qX.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uG(e,t,r){var n=Pt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dG(e,t,r){var n=Pt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function n_(e,t){return Ne(e.getDate(),t,2)}function fG(e,t){return Ne(e.getHours(),t,2)}function hG(e,t){return Ne(e.getHours()%12||12,t,2)}function mG(e,t){return Ne(1+_u.count(wa(e),e),t,3)}function iM(e,t){return Ne(e.getMilliseconds(),t,3)}function pG(e,t){return iM(e,t)+"000"}function gG(e,t){return Ne(e.getMonth()+1,t,2)}function yG(e,t){return Ne(e.getMinutes(),t,2)}function vG(e,t){return Ne(e.getSeconds(),t,2)}function xG(e){var t=e.getDay();return t===0?7:t}function bG(e,t){return Ne(Ym.count(wa(e)-1,e),t,2)}function sM(e){var t=e.getDay();return t>=4||t===0?Vo(e):Vo.ceil(e)}function wG(e,t){return e=sM(e),Ne(Vo.count(wa(e),e)+(wa(e).getDay()===4),t,2)}function jG(e){return e.getDay()}function kG(e,t){return Ne(wh.count(wa(e)-1,e),t,2)}function NG(e,t){return Ne(e.getFullYear()%100,t,2)}function _G(e,t){return e=sM(e),Ne(e.getFullYear()%100,t,2)}function SG(e,t){return Ne(e.getFullYear()%1e4,t,4)}function EG(e,t){var r=e.getDay();return e=r>=4||r===0?Vo(e):Vo.ceil(e),Ne(e.getFullYear()%1e4,t,4)}function PG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ne(t/60|0,"0",2)+Ne(t%60,"0",2)}function a_(e,t){return Ne(e.getUTCDate(),t,2)}function CG(e,t){return Ne(e.getUTCHours(),t,2)}function OG(e,t){return Ne(e.getUTCHours()%12||12,t,2)}function AG(e,t){return Ne(1+qm.count(ja(e),e),t,3)}function oM(e,t){return Ne(e.getUTCMilliseconds(),t,3)}function TG(e,t){return oM(e,t)+"000"}function MG(e,t){return Ne(e.getUTCMonth()+1,t,2)}function IG(e,t){return Ne(e.getUTCMinutes(),t,2)}function DG(e,t){return Ne(e.getUTCSeconds(),t,2)}function RG(e){var t=e.getUTCDay();return t===0?7:t}function LG(e,t){return Ne(Xm.count(ja(e)-1,e),t,2)}function lM(e){var t=e.getUTCDay();return t>=4||t===0?Ho(e):Ho.ceil(e)}function $G(e,t){return e=lM(e),Ne(Ho.count(ja(e),e)+(ja(e).getUTCDay()===4),t,2)}function zG(e){return e.getUTCDay()}function FG(e,t){return Ne(jh.count(ja(e)-1,e),t,2)}function BG(e,t){return Ne(e.getUTCFullYear()%100,t,2)}function UG(e,t){return e=lM(e),Ne(e.getUTCFullYear()%100,t,2)}function VG(e,t){return Ne(e.getUTCFullYear()%1e4,t,4)}function HG(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ho(e):Ho.ceil(e),Ne(e.getUTCFullYear()%1e4,t,4)}function WG(){return"+0000"}function i_(){return"%"}function s_(e){return+e}function o_(e){return Math.floor(+e/1e3)}var Cs,cM,uM;KG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KG(e){return Cs=KX(e),cM=Cs.format,Cs.parse,uM=Cs.utcFormat,Cs.utcParse,Cs}function qG(e){return new Date(e)}function YG(e){return e instanceof Date?+e:+new Date(+e)}function Eb(e,t,r,n,a,i,s,o,c,u){var d=hb(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),y=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),x=u("%b %d"),w=u("%B"),j=u("%Y");function k(_){return(c(_)<_?m:o(_)<_?p:s(_)<_?y:i(_)<_?v:n(_)<_?a(_)<_?g:x:r(_)<_?w:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,YG)):h().map(qG)},d.ticks=function(_){var N=h();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?k:u(N)},d.nice=function(_){var N=h();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?h(GT(N,_)):d},d.copy=function(){return Nu(d,Eb(e,t,r,n,a,i,s,o,c,u))},d}function XG(){return Zr.apply(Eb(HX,WX,wa,_b,Ym,_u,kb,wb,Li,cM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GG(){return Zr.apply(Eb(UX,VX,ja,Sb,Xm,qm,Nb,jb,Li,uM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gm(){var e=0,t=1,r,n,a,i,s=Yt,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),u):[s(0),s(1)]}}return u.range=d(ua),u.rangeRound=d(lx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function ji(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dM(){var e=wi(Gm()(Yt));return e.copy=function(){return ji(e,dM())},Ca.apply(e,arguments)}function fM(){var e=gb(Gm()).domain([1,10]);return e.copy=function(){return ji(e,fM()).base(e.base())},Ca.apply(e,arguments)}function hM(){var e=yb(Gm());return e.copy=function(){return ji(e,hM()).constant(e.constant())},Ca.apply(e,arguments)}function Pb(){var e=vb(Gm());return e.copy=function(){return ji(e,Pb()).exponent(e.exponent())},Ca.apply(e,arguments)}function QG(){return Pb.apply(null,arguments).exponent(.5)}function mM(){var e=[],t=Yt;function r(n){if(n!=null&&!isNaN(n=+n))return t((ku(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ci),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>sX(e,i/n))},r.copy=function(){return mM(t).domain(e)},Ca.apply(r,arguments)}function Qm(){var e=0,t=.5,r=1,n=1,a,i,s,o,c,u=Yt,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-i)*(n*y<n*i?o:c),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,a=d(e=+e),i=d(t=+t),s=d(r=+r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function p(y){return function(v){var g,x,w;return arguments.length?([g,x,w]=v,u=sF(y,[g,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=p(ua),m.rangeRound=p(lx),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,a=y(e),i=y(t),s=y(r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m}}function pM(){var e=wi(Qm()(Yt));return e.copy=function(){return ji(e,pM())},Ca.apply(e,arguments)}function gM(){var e=gb(Qm()).domain([.1,1,10]);return e.copy=function(){return ji(e,gM()).base(e.base())},Ca.apply(e,arguments)}function yM(){var e=yb(Qm());return e.copy=function(){return ji(e,yM()).constant(e.constant())},Ca.apply(e,arguments)}function Cb(){var e=vb(Qm());return e.copy=function(){return ji(e,Cb()).exponent(e.exponent())},Ca.apply(e,arguments)}function ZG(){return Cb.apply(null,arguments).exponent(.5)}const Ll=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fb,scaleDiverging:pM,scaleDivergingLog:gM,scaleDivergingPow:Cb,scaleDivergingSqrt:ZG,scaleDivergingSymlog:yM,scaleIdentity:XT,scaleImplicit:$0,scaleLinear:YT,scaleLog:QT,scaleOrdinal:db,scalePoint:cX,scalePow:xb,scaleQuantile:eM,scaleQuantize:tM,scaleRadial:JT,scaleSequential:dM,scaleSequentialLog:fM,scaleSequentialPow:Pb,scaleSequentialQuantile:mM,scaleSequentialSqrt:QG,scaleSequentialSymlog:hM,scaleSqrt:TX,scaleSymlog:ZT,scaleThreshold:rM,scaleTime:XG,scaleUtc:GG,tickFormat:qT},Symbol.toStringTag,{value:"Module"}));var ki=e=>e.chartData,JG=W([ki],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Su=(e,t,r,n)=>n?JG(e):ki(e);function hi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Fe(t)&&Fe(r))return!0}return!1}function l_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function vM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Fe(r))a=r;else if(typeof r=="function")return;if(Fe(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(hi(s))return s}}function eQ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(hi(n))return l_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,o;if(a==="auto")t!=null&&(s=Math.min(...t));else if(de(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&Jk.test(a)){var c=Jk.exec(a);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(de(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&eN.test(i)){var d=eN.exec(i);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(hi(h))return t==null?h:l_(h,t,r)}}}var rl=1e9,tQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ab,Ve=!0,Gr="[DecimalError] ",ts=Gr+"Invalid argument: ",Ob=Gr+"Exponent out of range: ",nl=Math.floor,Ci=Math.pow,rQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,kt=1e7,$e=7,xM=9007199254740991,kh=nl(xM/$e),le={};le.absoluteValue=le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};le.comparedTo=le.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};le.decimalPlaces=le.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$e;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};le.dividedBy=le.div=function(e){return da(this,new this.constructor(e))};le.dividedToIntegerBy=le.idiv=function(e){var t=this,r=t.constructor;return Te(da(t,new r(e),0,1),r.precision)};le.equals=le.eq=function(e){return!this.cmp(e)};le.exponent=function(){return ot(this)};le.greaterThan=le.gt=function(e){return this.cmp(e)>0};le.greaterThanOrEqualTo=le.gte=function(e){return this.cmp(e)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(e){return this.cmp(e)<0};le.lessThanOrEqualTo=le.lte=function(e){return this.cmp(e)<1};le.logarithm=le.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(wr))throw Error(Gr+"NaN");if(r.s<1)throw Error(Gr+(r.s?"NaN":"-Infinity"));return r.eq(wr)?new n(0):(Ve=!1,t=da(Lc(r,i),Lc(e,i),i),Ve=!0,Te(t,a))};le.minus=le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jM(t,e):bM(t,(e.s=-e.s,e))};le.modulo=le.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Gr+"NaN");return r.s?(Ve=!1,t=da(r,e,0,1).times(e),Ve=!0,r.minus(t)):Te(new n(r),a)};le.naturalExponential=le.exp=function(){return wM(this)};le.naturalLogarithm=le.ln=function(){return Lc(this)};le.negated=le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};le.plus=le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bM(t,e):jM(t,(e.s=-e.s,e))};le.precision=le.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ts+e);if(t=ot(a)+1,n=a.d.length-1,r=n*$e+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};le.squareRoot=le.sqrt=function(){var e,t,r,n,a,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Gr+"NaN")}for(e=ot(o),Ve=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=In(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=nl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(da(o,i,s+2)).times(.5),In(i.d).slice(0,s)===(t=In(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Te(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Ve=!0,Te(n,r)};le.times=le.mul=function(e){var t,r,n,a,i,s,o,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+m[n]*h[a-n-1]+t,i[a--]=o%kt|0,t=o/kt|0;i[a]=(i[a]+t)%kt|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ve?Te(e,f.precision):e};le.toDecimalPlaces=le.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Bn(e,0,rl),t===void 0?t=n.rounding:Bn(t,0,8),Te(r,e+ot(r)+1,t))};le.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=gs(n,!0):(Bn(e,0,rl),t===void 0?t=a.rounding:Bn(t,0,8),n=Te(new a(n),e+1,t),r=gs(n,!0,e+1)),r};le.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?gs(a):(Bn(e,0,rl),t===void 0?t=i.rounding:Bn(t,0,8),n=Te(new i(a),e+ot(a)+1,t),r=gs(n.abs(),!1,e+ot(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};le.toInteger=le.toint=function(){var e=this,t=e.constructor;return Te(new t(e),ot(e)+1,t.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(e){var t,r,n,a,i,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(wr);if(o=new c(o),!o.s){if(e.s<1)throw Error(Gr+"Infinity");return o}if(o.eq(wr))return o;if(n=c.precision,e.eq(wr))return Te(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=d<0?-d:d)<=xM){for(a=new c(wr),t=Math.ceil(n/$e+4),Ve=!1;r%2&&(a=a.times(o),u_(a.d,t)),r=nl(r/2),r!==0;)o=o.times(o),u_(o.d,t);return Ve=!0,e.s<0?new c(wr).div(a):Te(a,n)}}else if(i<0)throw Error(Gr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Ve=!1,a=e.times(Lc(o,n+u)),Ve=!0,a=wM(a),a.s=i,a};le.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ot(a),n=gs(a,r<=i.toExpNeg||r>=i.toExpPos)):(Bn(e,1,rl),t===void 0?t=i.rounding:Bn(t,0,8),a=Te(new i(a),e,t),r=ot(a),n=gs(a,e<=r||r<=i.toExpNeg,e)),n};le.toSignificantDigits=le.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Bn(e,1,rl),t===void 0?t=n.rounding:Bn(t,0,8)),Te(new n(r),e,t)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ot(e),r=e.constructor;return gs(e,t<=r.toExpNeg||t>=r.toExpPos)};function bM(e,t){var r,n,a,i,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ve?Te(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=s,o=c.length),s=Math.ceil(f/$e),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/kt|0,c[i]%=kt;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,Ve?Te(t,f):t}function Bn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ts+e)}function In(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=$e-n.length,r&&(i+=La(r)),i+=n;s=e[t],n=s+"",r=$e-n.length,r&&(i+=La(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var da=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%kt|0,s=i/kt|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*kt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,c,u,d,f,h,m,p,y,v,g,x,w,j,k,_,N,S,E=n.constructor,T=n.s==a.s?1:-1,O=n.d,C=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Gr+"Division by zero");for(c=n.e-a.e,N=C.length,k=O.length,m=new E(T),p=m.d=[],u=0;C[u]==(O[u]||0);)++u;if(C[u]>(O[u]||0)&&--c,i==null?x=i=E.precision:s?x=i+(ot(n)-ot(a))+1:x=i,x<0)return new E(0);if(x=x/$e+2|0,u=0,N==1)for(d=0,C=C[0],x++;(u<k||d)&&x--;u++)w=d*kt+(O[u]||0),p[u]=w/C|0,d=w%C|0;else{for(d=kt/(C[0]+1)|0,d>1&&(C=e(C,d),O=e(O,d),N=C.length,k=O.length),j=N,y=O.slice(0,N),v=y.length;v<N;)y[v++]=0;S=C.slice(),S.unshift(0),_=C[0],C[1]>=kt/2&&++_;do d=0,o=t(C,y,N,v),o<0?(g=y[0],N!=v&&(g=g*kt+(y[1]||0)),d=g/_|0,d>1?(d>=kt&&(d=kt-1),f=e(C,d),h=f.length,v=y.length,o=t(f,y,h,v),o==1&&(d--,r(f,N<h?S:C,h))):(d==0&&(o=d=1),f=C.slice()),h=f.length,h<v&&f.unshift(0),r(y,f,v),o==-1&&(v=y.length,o=t(C,y,N,v),o<1&&(d++,r(y,N<v?S:C,v))),v=y.length):o===0&&(d++,y=[0]),p[u++]=d,o&&y[0]?y[v++]=O[j]||0:(y=[O[j]],v=1);while((j++<k||y[0]!==void 0)&&x--)}return p[0]||p.shift(),m.e=c,Te(m,s?i+ot(m)+1:i)}}();function wM(e,t){var r,n,a,i,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(ot(e)>16)throw Error(Ob+ot(e));if(!e.s)return new d(wr);for(Ve=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ci(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(wr),d.precision=o;;){if(a=Te(a.times(e),o),r=r.times(++c),s=i.plus(da(a,r,o)),In(s.d).slice(0,o)===In(i.d).slice(0,o)){for(;u--;)i=Te(i.times(i),o);return d.precision=f,t==null?(Ve=!0,Te(i,f)):i}i=s}}function ot(e){for(var t=e.e*$e,r=e.d[0];r>=10;r/=10)t++;return t}function jg(e,t,r){if(t>e.LN10.sd())throw Ve=!0,r&&(e.precision=r),Error(Gr+"LN10 precision limit exceeded");return Te(new e(e.LN10),t)}function La(e){for(var t="";e--;)t+="0";return t}function Lc(e,t){var r,n,a,i,s,o,c,u,d,f=1,h=10,m=e,p=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(Gr+(m.s?"NaN":"-Infinity"));if(m.eq(wr))return new y(0);if(t==null?(Ve=!1,u=v):u=t,m.eq(10))return t==null&&(Ve=!0),jg(y,u);if(u+=h,y.precision=u,r=In(p),n=r.charAt(0),i=ot(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=In(m.d),n=r.charAt(0),f++;i=ot(m),n>1?(m=new y("0."+r),i++):m=new y(n+"."+r.slice(1))}else return c=jg(y,u+2,v).times(i+""),m=Lc(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=v,t==null?(Ve=!0,Te(m,v)):m;for(o=s=m=da(m.minus(wr),m.plus(wr),u),d=Te(m.times(m),u),a=3;;){if(s=Te(s.times(d),u),c=o.plus(da(s,new y(a),u)),In(c.d).slice(0,u)===In(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(jg(y,u+2,v).times(i+""))),o=da(o,new y(f),u),y.precision=v,t==null?(Ve=!0,Te(o,v)):o;o=c,a+=2}}function c_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=nl(r/$e),e.d=[],n=(r+1)%$e,r<0&&(n+=$e),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=$e;n<a;)e.d.push(+t.slice(n,n+=$e));t=t.slice(n),n=$e-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ve&&(e.e>kh||e.e<-kh))throw Error(Ob+r)}else e.s=0,e.e=0,e.d=[0];return e}function Te(e,t,r){var n,a,i,s,o,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=$e,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/$e),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=$e,a=n-$e+s}if(r!==void 0&&(i=Ci(10,s-a-1),o=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/Ci(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ot(e),f.length=1,t=t-i-1,f[0]=Ci(10,($e-t%$e)%$e),e.e=nl(-t/$e)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ci(10,$e-n),f[d]=a>0?(u/Ci(10,s-a)%Ci(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==kt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=kt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ve&&(e.e>kh||e.e<-kh))throw Error(Ob+ot(e));return e}function jM(e,t){var r,n,a,i,s,o,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ve?Te(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(m/$e),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=kt-1;--c[i],c[a]+=kt}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ve?Te(t,m):t):new h(0)}function gs(e,t,r){var n,a=ot(e),i=In(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+La(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+La(-a-1)+i,r&&(n=r-s)>0&&(i+=La(n))):a>=s?(i+=La(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+La(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=La(n))),e.s<0?"-"+i:i}function u_(e,t){if(e.length>t)return e.length=t,!0}function kM(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ts+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return c_(s,i.toString())}else if(typeof i!="string")throw Error(ts+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,rQ.test(i))c_(s,i);else throw Error(ts+i)}if(a.prototype=le,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=kM,a.config=a.set=nQ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function nQ(e){if(!e||typeof e!="object")throw Error(Gr+"Object expected");var t,r,n,a=["precision",1,rl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(nl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ts+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ts+r+": "+n);return this}var Ab=kM(tQ);wr=new Ab(1);const Ce=Ab;var aQ=e=>e,NM={},_M=e=>e===NM,d_=e=>function t(){return arguments.length===0||arguments.length===1&&_M(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},SM=(e,t)=>e===1?t:d_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==NM).length;return i>=e?t(...n):SM(e-i,d_(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=n.map(d=>_M(d)?o.shift():d);return t(...u,...o)}))}),iQ=e=>SM(e.length,e),F0=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},sQ=iQ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),oQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return aQ;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,c)=>c(o),i(...arguments))}},B0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function EM(e){var t;return e===0?t=1:t=Math.floor(new Ce(e).abs().log(10).toNumber())+1,t}function PM(e,t,r){for(var n=new Ce(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var CM=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},OM=(e,t,r)=>{if(e.lte(0))return new Ce(0);var n=EM(e.toNumber()),a=new Ce(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Ce(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(a);return t?new Ce(c.toNumber()):new Ce(Math.ceil(c.toNumber()))},lQ=(e,t,r)=>{var n=new Ce(1),a=new Ce(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ce(10).pow(EM(e)-1),a=new Ce(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ce(Math.floor(e)))}else e===0?a=new Ce(Math.floor((t-1)/2)):r||(a=new Ce(Math.floor(e)));var s=Math.floor((t-1)/2),o=oQ(sQ(c=>a.add(new Ce(c-s).mul(n)).toNumber()),F0);return o(0,t)},AM=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ce(0),tickMin:new Ce(0),tickMax:new Ce(0)};var s=OM(new Ce(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new Ce(0):(o=new Ce(t).add(r).div(2),o=o.sub(new Ce(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Ce(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?AM(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new Ce(c).mul(s)),tickMax:o.add(new Ce(u).mul(s))})},cQ=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),[o,c]=CM([r,n]);if(o===-1/0||c===1/0){var u=c===1/0?[o,...F0(0,a-1).map(()=>1/0)]:[...F0(0,a-1).map(()=>-1/0),c];return r>n?B0(u):u}if(o===c)return lQ(o,a,i);var{step:d,tickMin:f,tickMax:h}=AM(o,c,s,i,0),m=PM(f,h.add(new Ce(.1).mul(d)),d);return r>n?B0(m):m},uQ=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=CM([n,a]);if(s===-1/0||o===1/0)return[n,a];if(s===o)return[s];var c=Math.max(r,2),u=OM(new Ce(o).sub(s).div(c-1),i,0),d=[...PM(new Ce(s),new Ce(o),u),o];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?B0(d):d},TM=e=>e.rootProps.maxBarSize,dQ=e=>e.rootProps.barGap,MM=e=>e.rootProps.barCategoryGap,fQ=e=>e.rootProps.barSize,Zm=e=>e.rootProps.stackOffset,IM=e=>e.rootProps.reverseStackOrder,Tb=e=>e.options.chartName,Mb=e=>e.rootProps.syncId,DM=e=>e.rootProps.syncMethod,Ib=e=>e.options.eventEmitter,rt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ra={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Jm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},hQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ra.angleAxisId,includeHidden:!1,name:void 0,reversed:ra.reversed,scale:ra.scale,tick:ra.tick,tickCount:void 0,ticks:void 0,type:ra.type,unit:void 0},mQ={allowDataOverflow:xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xr.scale,tick:xr.tick,tickCount:xr.tickCount,ticks:void 0,type:xr.type,unit:void 0},pQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ra.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ra.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ra.scale,tick:ra.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gQ={allowDataOverflow:xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xr.scale,tick:xr.tick,tickCount:xr.tickCount,ticks:void 0,type:"category",unit:void 0},Db=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?pQ:hQ,Rb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?gQ:mQ,ep=e=>e.polarOptions,Lb=W([Ea,Pa,Et],$Y),RM=W([ep,Lb],(e,t)=>{if(e!=null)return xn(e.innerRadius,t,0)}),LM=W([ep,Lb],(e,t)=>{if(e!=null)return xn(e.outerRadius,t,t*.8)}),yQ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},$M=W([ep],yQ);W([Db,$M],Jm);var zM=W([Lb,RM,LM],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});W([Rb,zM],Jm);var FM=W([Ee,ep,RM,LM,Ea,Pa],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:xn(s,a,a/2),cy:xn(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),gt=(e,t)=>t,tp=(e,t,r)=>r;function $b(e){return e==null?void 0:e.id}function BM(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=$b(o);u.forEach((f,h)=>{var m=i==null||a?h:String(Xe(f,i,null)),p=Xe(f,o.dataKey,0),y;s.has(m)?y=s.get(m):y={},Object.assign(y,{[d]:p}),s.set(m,y)})}}),Array.from(s.values())}function rp(e){return e.stackId!=null&&e.dataKey!=null}var np=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ap(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function vQ(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var yt=e=>{var t=Ee(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},al=e=>e.tooltip.settings.axisId;function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){xQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xQ(e,t,r){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bQ(e){var t=wQ(e,"string");return typeof t=="symbol"?t:t+""}function wQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U0=[0,"auto"],bt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},UM=(e,t)=>e.cartesianAxis.xAxis[t],Kn=(e,t)=>{var r=UM(e,t);return r??bt},wt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:U0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yu},VM=(e,t)=>e.cartesianAxis.yAxis[t],qn=(e,t)=>{var r=VM(e,t);return r??wt},HM={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??HM},er=(e,t,r)=>{switch(t){case"xAxis":return Kn(e,r);case"yAxis":return qn(e,r);case"zAxis":return zb(e,r);case"angleAxis":return Db(e,r);case"radiusAxis":return Rb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},jQ=(e,t,r)=>{switch(t){case"xAxis":return Kn(e,r);case"yAxis":return qn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Eu=(e,t,r)=>{switch(t){case"xAxis":return Kn(e,r);case"yAxis":return qn(e,r);case"angleAxis":return Db(e,r);case"radiusAxis":return Rb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},WM=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function KM(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Pu=e=>e.graphicalItems.cartesianItems,kQ=W([gt,tp],KM),qM=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Cu=W([Pu,er,kQ],qM,{memoizeOptions:{resultEqualityCheck:ap}}),YM=W([Cu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(rp)),XM=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),NQ=W([Cu],XM),GM=e=>e.map(t=>t.data).filter(Boolean).flat(1),_Q=W([Cu],GM,{memoizeOptions:{resultEqualityCheck:ap}}),QM=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Fb=W([_Q,Su],QM),ZM=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Xe(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Xe(a,n)}))):e.map(n=>({value:n})),ip=W([Fb,er,Cu],ZM);function JM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function nf(e){if(Yr(e)||e instanceof Date){var t=Number(e);if(Fe(t))return t}}function h_(e){if(Array.isArray(e)){var t=[nf(e[0]),nf(e[1])];return hi(t)?t:void 0}var r=nf(e);if(r!=null)return[r,r]}function ka(e){return e.map(nf).filter(jH)}function SQ(e,t,r){return!r||typeof t!="number"||Or(t)?[]:r.length?ka(r.flatMap(n=>{var a=Xe(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!Fe(i)||!Fe(s)))return[t-i,t+s]})):[]}var vt=e=>{var t=yt(e),r=al(e);return Eu(e,t,r)},Ou=W([vt],e=>e==null?void 0:e.dataKey),EQ=W([YM,Su,vt],BM),eI=(e,t,r,n)=>{var a={},i=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),a);return Object.fromEntries(Object.entries(i).map(s=>{var[o,c]=s,u=n?[...c].reverse():c,d=u.map($b);return[o,{stackedData:wK(e,d,r),graphicalItems:u}]}))},V0=W([EQ,YM,Zm,IM],eI),tI=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var s=SK(e,a,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},PQ=W([er],e=>e.allowDataOverflow),Bb=e=>{var t;if(e==null||!("domain"in e))return U0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ka(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:U0},rI=W([er],Bb),nI=W([rI,PQ],vM),CQ=W([V0,ki,gt,nI],tI,{memoizeOptions:{resultEqualityCheck:np}}),Ub=e=>e.errorBars,OQ=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>JM(r,n)),_h=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},aI=(e,t,r,n,a)=>{var i,s;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(g=>JM(a,g)),h=Xe(o,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=SQ(o,h,f);if(m.length>=2){var p=Math.min(...m),y=Math.max(...m);(i==null||p<i)&&(i=p),(s==null||y>s)&&(s=y)}var v=h_(h);v!=null&&(i=i==null?v[0]:Math.min(i,v[0]),s=s==null?v[1]:Math.max(s,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var c=h_(Xe(o,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Fe(i)&&Fe(s))return[i,s]},AQ=W([Fb,er,NQ,Ub,gt],aI,{memoizeOptions:{resultEqualityCheck:np}});function TQ(e){var{value:t}=e;if(Yr(t)||t instanceof Date)return t}var MQ=(e,t,r)=>{var n=e.map(TQ).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&tA(n))?FT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},iI=e=>e.referenceElements.dots,il=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),IQ=W([iI,gt,tp],il),sI=e=>e.referenceElements.areas,DQ=W([sI,gt,tp],il),oI=e=>e.referenceElements.lines,RQ=W([oI,gt,tp],il),lI=(e,t)=>{var r=ka(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},LQ=W(IQ,gt,lI),cI=(e,t)=>{var r=ka(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},$Q=W([DQ,gt],cI);function zQ(e){var t;if(e.x!=null)return ka([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ka(r)}function FQ(e){var t;if(e.y!=null)return ka([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ka(r)}var uI=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?zQ(n):FQ(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},BQ=W([RQ,gt],uI),UQ=W(LQ,BQ,$Q,(e,t,r)=>_h(e,r,t)),dI=(e,t,r,n,a,i,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=c?_h(n,i,a):_h(i,a);return eQ(t,u,e.allowDataOverflow)},VQ=W([er,rI,nI,CQ,AQ,UQ,Ee,gt],dI,{memoizeOptions:{resultEqualityCheck:np}}),HQ=[0,1],fI=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,u=bi(t,i);if(u&&o==null){var d;return FT(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?MQ(n,e,u):a==="expand"?HQ:s}},Vb=W([er,Ee,Fb,ip,Zm,gt,VQ],fI),hI=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(du(i));return o in Ll?o:"point"}}},Au=W([er,Ee,WM,Tb,gt],hI);function WQ(e){if(e!=null){if(e in Ll)return Ll[e]();var t="scale".concat(du(e));if(t in Ll)return Ll[t]()}}function Hb(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=WQ(t);if(a!=null){var i=a.domain(r).range(n);return gK(i),i}}}var mI=(e,t,r)=>{var n=Bb(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&hi(e))return cQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&hi(e))return uQ(e,t.tickCount,t.allowDecimals)}},Wb=W([Vb,Eu,Au],mI),pI=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&hi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},KQ=W([er,Vb,Wb,gt],pI),qQ=W(ip,er,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ka(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),gI=W(qQ,Ee,MM,Et,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Fe(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=xn(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),YQ=(e,t)=>{var r=Kn(e,t);return r==null||typeof r.padding!="string"?0:gI(e,"xAxis",t,r.padding)},XQ=(e,t)=>{var r=qn(e,t);return r==null||typeof r.padding!="string"?0:gI(e,"yAxis",t,r.padding)},GQ=W(Kn,YQ,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),QQ=W(qn,XQ,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),ZQ=W([Et,GQ,Bm,Fm,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),JQ=W([Et,Ee,QQ,Bm,Fm,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Tu=(e,t,r,n)=>{var a;switch(t){case"xAxis":return ZQ(e,r,n);case"yAxis":return JQ(e,r,n);case"zAxis":return(a=zb(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return $M(e);case"radiusAxis":return zM(e,r);default:return}},yI=W([er,Tu],Jm),mi=W([er,Au,KQ,yI],Hb);W([Cu,Ub,gt],OQ);function vI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var sp=(e,t)=>t,op=(e,t,r)=>r,eZ=W($m,sp,op,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(vI)),tZ=W(zm,sp,op,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(vI)),xI=(e,t)=>({width:e.width,height:t.height}),rZ=(e,t)=>{var r=typeof t.width=="number"?t.width:yu;return{width:r,height:e.height}},bI=W(Et,Kn,xI),nZ=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},aZ=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},iZ=W(Pa,Et,eZ,sp,op,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var c=xI(t,o);s==null&&(s=nZ(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),i}),sZ=W(Ea,Et,tZ,sp,op,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var c=rZ(t,o);s==null&&(s=aZ(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),i}),oZ=(e,t)=>{var r=Kn(e,t);if(r!=null)return iZ(e,r.orientation,r.mirror)},lZ=W([Et,Kn,oZ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),cZ=(e,t)=>{var r=qn(e,t);if(r!=null)return sZ(e,r.orientation,r.mirror)},uZ=W([Et,qn,cZ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),wI=W(Et,qn,(e,t)=>{var r=typeof t.width=="number"?t.width:yu;return{width:r,height:e.height}}),m_=(e,t,r)=>{switch(t){case"xAxis":return bI(e,r).width;case"yAxis":return wI(e,r).height;default:return}},jI=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=bi(e,n),c=t.map(u=>u.value);if(s&&o&&i==="category"&&a&&tA(c))return c}},Kb=W([Ee,ip,er,gt],jI),kI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=bi(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},qb=W([Ee,ip,Eu,gt],kI),p_=W([Ee,jQ,Au,mi,Kb,qb,Tu,Wb,gt],(e,t,r,n,a,i,s,o,c)=>{if(t!=null){var u=bi(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),dZ=(e,t,r,n,a,i,s,o,c)=>{if(!(t==null||n==null)){var u=bi(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&i!=null&&i.length>=2?cr(i[0]-i[1])*2*p:p;var y=f||a;if(y){var v=y.map((g,x)=>{var w=s?s.indexOf(g):g;return{index:x,coordinate:n(w)+p,value:g,offset:p}});return v.filter(g=>Fe(g.coordinate))}return u&&o?o.map((g,x)=>({coordinate:n(g)+p,value:g,index:x,offset:p})).filter(g=>Fe(g.coordinate)):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+p,value:g,offset:p})):n.domain().map((g,x)=>({coordinate:n(g)+p,value:s?s[g]:g,index:x,offset:p}))}},NI=W([Ee,Eu,Au,mi,Wb,Tu,Kb,qb,gt],dZ),fZ=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=bi(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?cr(n[0]-n[1])*2*u:u,o&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Un=W([Ee,Eu,mi,Tu,Kb,qb,gt],fZ),Vn=W(er,mi,(e,t)=>{if(!(e==null||t==null))return Nh(Nh({},e),{},{scale:t})}),hZ=W([er,Au,Vb,yI],Hb),mZ=W((e,t,r)=>zb(e,r),hZ,(e,t)=>{if(!(e==null||t==null))return Nh(Nh({},e),{},{scale:t})}),pZ=W([Ee,$m,zm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_I=e=>e.options.defaultTooltipEventType,SI=e=>e.options.validateTooltipEventTypes;function EI(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Yb(e,t){var r=_I(e),n=SI(e);return EI(t,r,n)}function gZ(e){return oe(t=>Yb(t,e))}var PI=(e,t)=>{var r,n=Number(t);if(!(Or(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},yZ=e=>e.tooltip.settings,Ua={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},vZ={itemInteraction:{click:Ua,hover:Ua},axisInteraction:{click:Ua,hover:Ua},keyboardInteraction:Ua,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},CI=gr({name:"tooltip",initialState:vZ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Be()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=yn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Be()},removeTooltipEntrySettings:{reducer(e,t){var r=yn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Be()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:xZ,replaceTooltipEntrySettings:bZ,removeTooltipEntrySettings:wZ,setTooltipSettingsState:jZ,setActiveMouseOverItemIndex:OI,mouseLeaveItem:kZ,mouseLeaveChart:AI,setActiveClickItemIndex:NZ,setMouseOverAxisIndex:TI,setMouseClickAxisIndex:_Z,setSyncInteraction:H0,setKeyboardInteraction:W0}=CI.actions,SZ=CI.reducer;function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(n){EZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EZ(e,t,r){return(t=PZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZ(e){var t=CZ(e,"string");return typeof t=="symbol"?t:t+""}function CZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OZ(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function AZ(e){return e.index!=null}var MI=(e,t,r,n)=>{if(t==null)return Ua;var a=OZ(e,t,r);if(a==null)return Ua;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(AZ(a)){if(i)return Pd(Pd({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Pd(Pd({},Ua),{},{coordinate:a.coordinate})};function TZ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function MZ(e,t){var r=TZ(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),s=Math.max(n,a);return r>=i&&r<=s}function IZ(e,t,r){if(r==null||t==null)return!0;var n=Xe(e,t);return n==null||!hi(r)?!0:MZ(n,r)}var Xb=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Fe(i))return a;var s=0,o=1/0;t.length>0&&(o=t.length-1);var c=Math.max(s,Math.min(i,o)),u=t[c];return u==null||IZ(u,r,n)?String(c):null},II=(e,t,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var c=s[0],u=c==null?void 0:o(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},DI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},Mu=e=>e.options.tooltipPayloadSearcher,sl=e=>e.tooltip;function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){DZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DZ(e,t,r){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RZ(e){var t=LZ(e,"string");return typeof t=="symbol"?t:t+""}function LZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Z(e,t){return e??t}var RI=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:y,settings:v}=m,g=$Z(y,o),x=Array.isArray(g)?sT(g,u,d):g,w=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,j=v==null?void 0:v.nameKey,k;if(n&&Array.isArray(x)&&!Array.isArray(x[0])&&s==="axis"?k=rA(x,n,a):k=i(x,t,c,j),Array.isArray(k))k.forEach(N=>{var S=v_(v_({},v),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(tN({tooltipEntrySettings:S,dataKey:N.dataKey,payload:N.payload,value:Xe(N.payload,N.dataKey),name:N.name}))});else{var _;h.push(tN({tooltipEntrySettings:v,dataKey:w,payload:k,value:Xe(k,w),name:(_=Xe(k,j))!==null&&_!==void 0?_:v==null?void 0:v.name}))}return h},f)}},Gb=W([vt,Ee,WM,Tb,yt],hI),zZ=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),FZ=W([yt,al],KM),Iu=W([zZ,vt,FZ],qM,{memoizeOptions:{resultEqualityCheck:ap}}),BZ=W([Iu],e=>e.filter(rp)),UZ=W([Iu],GM,{memoizeOptions:{resultEqualityCheck:ap}}),ol=W([UZ,ki],QM),VZ=W([BZ,ki,vt],BM),Qb=W([ol,vt,Iu],ZM),LI=W([vt],Bb),HZ=W([vt],e=>e.allowDataOverflow),$I=W([LI,HZ],vM),WZ=W([Iu],e=>e.filter(rp)),KZ=W([VZ,WZ,Zm,IM],eI),qZ=W([KZ,ki,yt,$I],tI),YZ=W([Iu],XM),XZ=W([ol,vt,YZ,Ub,yt],aI,{memoizeOptions:{resultEqualityCheck:np}}),GZ=W([iI,yt,al],il),QZ=W([GZ,yt],lI),ZZ=W([sI,yt,al],il),JZ=W([ZZ,yt],cI),eJ=W([oI,yt,al],il),tJ=W([eJ,yt],uI),rJ=W([QZ,tJ,JZ],_h),nJ=W([vt,LI,$I,qZ,XZ,rJ,Ee,yt],dI),Du=W([vt,Ee,ol,Qb,Zm,yt,nJ],fI),aJ=W([Du,vt,Gb],mI),iJ=W([vt,Du,aJ,yt],pI),zI=e=>{var t=yt(e),r=al(e),n=!1;return Tu(e,t,r,n)},FI=W([vt,zI],Jm),BI=W([vt,Gb,iJ,FI],Hb),sJ=W([Ee,Qb,vt,yt],jI),oJ=W([Ee,Qb,vt,yt],kI),lJ=(e,t,r,n,a,i,s,o)=>{if(t){var{type:c}=t,u=bi(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?cr(a[0]-a[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},Oa=W([Ee,vt,Gb,BI,zI,sJ,oJ,yt],lJ),Zb=W([_I,SI,yZ],(e,t,r)=>EI(r.shared,e,t)),UI=e=>e.tooltip.settings.trigger,Jb=e=>e.tooltip.settings.defaultIndex,Ru=W([sl,Zb,UI,Jb],MI),pi=W([Ru,ol,Ou,Du],Xb),VI=W([Oa,pi],PI),HI=W([Ru],e=>{if(e)return e.dataKey});W([Ru],e=>{if(e)return e.graphicalItemId});var WI=W([sl,Zb,UI,Jb],DI),cJ=W([Ea,Pa,Ee,Et,Oa,Jb,WI,Mu],II),uJ=W([Ru,cJ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),dJ=W([Ru],e=>e.active),fJ=W([WI,pi,ki,Ou,VI,Mu,Zb],RI),hJ=W([fJ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){mJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mJ(e,t,r){return(t=pJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pJ(e){var t=gJ(e,"string");return typeof t=="symbol"?t:t+""}function gJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yJ=()=>oe(vt),vJ=()=>{var e=yJ(),t=oe(Oa),r=oe(BI);return zo(!e||!r?void 0:b_(b_({},e),{},{scale:r}),t)};function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){xJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xJ(e,t,r){return(t=bJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bJ(e){var t=wJ(e,"string");return typeof t=="symbol"?t:t+""}function wJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jJ=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},kJ=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:s}=n;return Os(Os(Os({},n),Tt(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:c}=n;return Os(Os(Os({},n),Tt(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function NJ(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var KI=(e,t,r,n,a)=>{var i,s=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(cr(d-u)!==cr(f-d)){var m=[];if(cr(f-d)===cr(a[1]-a[0])){h=f;var p=d+a[1]-a[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var y=f+a[1]-a[0];m[0]=Math.min(d,(y+d)/2),m[1]=Math.max(d,(y+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){({index:s}=r[c]);break}}else{var g=Math.min(u,f),x=Math.max(u,f);if(e>(g+d)/2&&e<=(x+d)/2){({index:s}=r[c]);break}}}else if(t){for(var w=0;w<o;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:s}=t[w]);break}}return s},_J=()=>oe(Tb),ew=(e,t)=>t,qI=(e,t,r)=>r,tw=(e,t,r,n)=>n,SJ=W(Oa,e=>Cm(e,t=>t.coordinate)),rw=W([sl,ew,qI,tw],MI),nw=W([rw,ol,Ou,Du],Xb),EJ=(e,t,r)=>{if(t!=null){var n=sl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},YI=W([sl,ew,qI,tw],DI),Sh=W([Ea,Pa,Ee,Et,Oa,tw,YI,Mu],II),PJ=W([rw,Sh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),XI=W([Oa,nw],PI),CJ=W([YI,nw,ki,Ou,XI,Mu,ew],RI),OJ=W([rw,nw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),AJ=(e,t,r,n,a,i,s)=>{if(!(!e||!r||!n||!a)&&NJ(e,s)){var o=EK(e,t),c=KI(o,i,a,r,n),u=jJ(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},TJ=(e,t,r,n,a,i,s)=>{if(!(!e||!n||!a||!i||!r)){var o=VY(e,r);if(o){var c=PK(o,t),u=KI(c,s,i,n,a),d=kJ(t,i,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},MJ=(e,t,r,n,a,i,s,o)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?AJ(e,t,n,a,i,s,o):TJ(e,t,r,n,a,i,s)},IJ=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),DJ=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(rt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:vQ}});function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){RJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RJ(e,t,r){return(t=LJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LJ(e){var t=$J(e,"string");return typeof t=="symbol"?t:t+""}function $J(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zJ={},FJ={zIndexMap:Object.values(rt).reduce((e,t)=>k_(k_({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),zJ)},BJ=new Set(Object.values(rt));function UJ(e){return BJ.has(e)}var GI=gr({name:"zIndex",initialState:FJ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Be()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!UJ(r)&&delete e.zIndexMap[r])},prepare:Be()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:Be()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Be()}}}),{registerZIndexPortal:VJ,unregisterZIndexPortal:HJ,registerZIndexPortalId:WJ,unregisterZIndexPortalId:KJ}=GI.actions,qJ=GI.reducer;function tr(e){var{zIndex:t,children:r}=e,n=tq(),a=n&&t!==void 0&&t!==0,i=mt(),s=Ke();b.useLayoutEffect(()=>a?(s(VJ({zIndex:t})),()=>{s(HJ({zIndex:t}))}):fu,[s,t,a]);var o=oe(u=>IJ(u,t,i));if(!a)return r;if(!o)return null;var c=document.getElementById(o);return c?Gc.createPortal(r,c):null}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(null,arguments)}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){YJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YJ(e,t,r){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XJ(e){var t=GJ(e,"string");return typeof t=="symbol"?t:t+""}function GJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QJ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return b.isValidElement(t)?b.cloneElement(t,n):b.createElement(r,n)}function ZJ(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,y,v;if(d==="ScatterChart")p=f,y=nY,v=rt.cursorLine;else if(d==="BarChart")p=aY(o,f,i,s),y=MT,v=rt.cursorRectangle;else if(o==="radial"&&aA(f)){var{cx:g,cy:x,radius:w,startAngle:j,endAngle:k}=IT(f);p={cx:g,cy:x,startAngle:j,endAngle:k,innerRadius:w,outerRadius:w},y=RT,v=rt.cursorLine}else p={points:qY(o,f,i)},y=cb,v=rt.cursorLine;var _=typeof c=="object"&&"className"in c?c.className:void 0,N=Cd(Cd(Cd(Cd({stroke:"#ccc",pointerEvents:"none"},i),p),Jo(c)),{},{payload:h,payloadIndex:m,className:Se("recharts-tooltip-cursor",_)});return b.createElement(tr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},b.createElement(QJ,{cursor:c,cursorComp:y,cursorProps:N}))}function JJ(e){var t=vJ(),r=xT(),n=vu(),a=_J();return t==null||r==null||n==null||a==null?null:b.createElement(ZJ,K0({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var QI=b.createContext(null),eee=()=>b.useContext(QI),ZI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],g=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(w=1,x=new Array(g-1);w<g;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var j=v.length,k;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),g){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(k=1,x=new Array(g-1);k<g;k++)x[k-1]=arguments[k];v[w].fn.apply(v[w].context,x)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var y=0,v=[],g=p.length;y<g;y++)(p[y].fn!==d||h&&!p[y].once||f&&p[y].context!==f)&&v.push(p[y]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(ZI);var tee=ZI.exports;const ree=Hn(tee);var $c=new ree,q0="recharts.syncEvent.tooltip",__="recharts.syncEvent.brush";function aw(e,t){if(t){var r=Number.parseInt(t,10);if(!Or(r))return e==null?void 0:e[r]}}var nee={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},JI=gr({name:"options",initialState:nee,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),aee=JI.reducer,{createEventEmitter:iee}=JI.actions;function see(e){return e.tooltip.syncInteraction}var oee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},eD=gr({name:"chartData",initialState:oee,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:S_,setDataStartEndIndexes:lee,setComputedData:jce}=eD.actions,cee=eD.reducer,uee=["x","y"];function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function As(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dee(e,t,r){return(t=fee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fee(e){var t=hee(e,"string");return typeof t=="symbol"?t:t+""}function hee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mee(e,t){if(e==null)return{};var r,n,a=pee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gee(){var e=oe(Mb),t=oe(Ib),r=Ke(),n=oe(DM),a=oe(Oa),i=vu(),s=tl(),o=oe(c=>c.rootProps.className);b.useEffect(()=>{if(e==null)return fu;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y}=m,v=mee(m,uee),{x:g,y:x,width:w,height:j}=d.payload.sourceViewBox,k=As(As({},v),{},{x:s.x+(w?(p-g)/w:0)*s.width,y:s.y+(j?(y-x)/j:0)*s.height});r(As(As({},d),{},{payload:As(As({},d.payload),{},{coordinate:k})}))}else r(d);return}if(a!=null){var _;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(a,N);_=a[S]}else n==="value"&&(_=a.find(I=>String(I.value)===d.payload.label));var{coordinate:E}=d.payload;if(_==null||d.payload.active===!1||E==null||s==null){r(H0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:O}=E,C=Math.min(T,s.x+s.width),L=Math.min(O,s.y+s.height),P={x:i==="horizontal"?_.coordinate:C,y:i==="horizontal"?L:_.coordinate},D=H0({active:d.payload.active,coordinate:P,dataKey:d.payload.dataKey,index:String(_.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(D)}}};return $c.on(q0,c),()=>{$c.off(q0,c)}},[o,r,t,e,n,a,i,s])}function yee(){var e=oe(Mb),t=oe(Ib),r=Ke();b.useEffect(()=>{if(e==null)return fu;var n=(a,i,s)=>{t!==s&&e===a&&r(lee(i))};return $c.on(__,n),()=>{$c.off(__,n)}},[r,t,e])}function vee(){var e=Ke();b.useEffect(()=>{e(iee())},[e]),gee(),yee()}function xee(e,t,r,n,a,i){var s=oe(m=>EJ(m,e,t)),o=oe(Ib),c=oe(Mb),u=oe(DM),d=oe(see),f=d==null?void 0:d.active,h=tl();b.useEffect(()=>{if(!f&&c!=null&&o!=null){var m=H0({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});$c.emit(q0,c,m,o)}},[f,r,s,a,n,o,c,u,i,h])}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bee(e,t,r){return(t=wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wee(e){var t=jee(e,"string");return typeof t=="symbol"?t:t+""}function jee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kee(e){return e.dataKey}function Nee(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(Rq,t)}var O_=[],_ee={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Od(e){var t,r,n=ct(e,_ee),{active:a,allowEscapeViewBox:i,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:y,wrapperStyle:v,cursor:g,shared:x,trigger:w,defaultIndex:j,portal:k,axisId:_}=n,N=Ke(),S=typeof j=="number"?String(j):j;b.useEffect(()=>{N(jZ({shared:x,trigger:w,axisId:_,active:a,defaultIndex:S}))},[N,x,w,_,a,S]);var E=tl(),T=PT(),O=gZ(x),{activeIndex:C,isActive:L}=(t=oe(te=>OJ(te,O,w,S)))!==null&&t!==void 0?t:{},P=oe(te=>CJ(te,O,w,S)),D=oe(te=>XI(te,O,w,S)),I=oe(te=>PJ(te,O,w,S)),R=P,A=eee(),M=(r=a??L)!==null&&r!==void 0?r:!1,[z,V]=OA([R,M]),B=O==="axis"?D:void 0;xee(O,w,I,B,C,M);var X=k??A;if(X==null||E==null||O==null)return null;var q=R??O_;M||(q=O_),u&&q.length&&(q=jA(q.filter(te=>te.value!=null&&(te.hide!==!0||n.includeHidden)),h,kee));var J=q.length>0,ce=b.createElement(Vq,{allowEscapeViewBox:i,animationDuration:s,animationEasing:o,isAnimationActive:d,active:M,coordinate:I,hasPayload:J,offset:f,position:m,reverseDirection:p,useTranslate3d:y,viewBox:E,wrapperStyle:v,lastBoundingBox:z,innerRef:V,hasPortalFromProps:!!k},Nee(c,C_(C_({},n),{},{payload:q,label:B,active:M,activeIndex:C,coordinate:I,accessibilityLayer:T})));return b.createElement(b.Fragment,null,Gc.createPortal(ce,X),M&&b.createElement(JJ,{cursor:g,tooltipEventType:O,coordinate:I,payload:q,index:C}))}var iw=e=>null;iw.displayName="Cell";function See(e,t,r){return(t=Eee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eee(e){var t=Pee(e,"string");return typeof t=="symbol"?t:t+""}function Pee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Cee{constructor(t){See(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){Aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aee(e,t,r){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tee(e){var t=Mee(e,"string");return typeof t=="symbol"?t:t+""}function Mee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iee={cacheSize:2e3,enableCache:!0},tD=Oee({},Iee),T_=new Cee(tD.cacheSize),Dee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},M_="recharts_measurement_span";function Ree(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}var I_=(e,t)=>{try{var r=document.getElementById(M_);r||(r=document.createElement("span"),r.setAttribute("id",M_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Dee,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ql=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||bu.isSsr)return{width:0,height:0};if(!tD.enableCache)return I_(t,r);var n=Ree(t,r),a=T_.get(n);if(a)return a;var i=I_(t,r);return T_.set(n,i),i},D_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,R_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$ee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zee=Object.keys(rD),Ys="NaN";function Fee(e,t){return e*rD[t]}class ar{static parse(t){var r,[,n,a]=(r=$ee.exec(t))!==null&&r!==void 0?r:[];return new ar(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Or(t)&&(this.unit=""),r!==""&&!Lee.test(r)&&(this.num=NaN,this.unit=""),zee.includes(r)&&(this.num=Fee(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ar(NaN,""):new ar(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ar(NaN,""):new ar(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ar(NaN,""):new ar(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ar(NaN,""):new ar(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Or(this.num)}}function nD(e){if(e.includes(Ys))return Ys;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=D_.exec(t))!==null&&r!==void 0?r:[],s=ar.parse(n??""),o=ar.parse(i??""),c=a==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Ys;t=t.replace(D_,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=R_.exec(t))!==null&&u!==void 0?u:[],m=ar.parse(d??""),p=ar.parse(h??""),y=f==="+"?m.add(p):m.subtract(p);if(y.isNaN())return Ys;t=t.replace(R_,y.toString())}return t}var L_=/\(([^()]*)\)/;function Bee(e){for(var t=e,r;(r=L_.exec(t))!=null;){var[,n]=r;t=t.replace(L_,nD(n))}return t}function Uee(e){var t=e.replace(/\s+/g,"");return t=Bee(t),t=nD(t),t}function Vee(e){try{return Uee(e)}catch{return Ys}}function kg(e){var t=Vee(e.slice(5,-1));return t===Ys?"":t}var Hee=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Wee=["dx","dy","angle","className","breakAll"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(null,arguments)}function $_(e,t){if(e==null)return{};var r,n,a=Kee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aD=/[ \f\n\r\t\v\u2028\u2029]+/,iD=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Oe(t)||(r?a=t.toString().split(""):a=t.toString().split(aD));var i=a.map(o=>({word:o,width:Ql(o,n).width})),s=r?0:Ql("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}};function qee(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var sD=(e,t,r,n)=>e.reduce((a,i)=>{var{word:s,width:o}=i,c=a[a.length-1];if(c&&o!=null&&(t==null||n||c.width+o+r<Number(t)))c.words.push(s),c.width+=o+r;else{var u={words:[s],width:o};a.push(u)}return a},[]),oD=e=>e.reduce((t,r)=>t.width>r.width?t:r),Yee="",z_=(e,t,r,n,a,i,s,o)=>{var c=e.slice(0,t),u=iD({breakAll:r,style:n,children:c+Yee});if(!u)return[!1,[]];var d=sD(u.wordsWithComputedWidth,i,s,o),f=d.length>a||oD(d).width>Number(i);return[f,d]},Xee=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:c}=e,u=de(i),d=String(s),f=sD(t,n,r,a);if(!u||a)return f;var h=f.length>i||oD(f).width>Number(n);if(!h)return f;for(var m=0,p=d.length-1,y=0,v;m<=p&&y<=d.length-1;){var g=Math.floor((m+p)/2),x=g-1,[w,j]=z_(d,x,c,o,i,n,r,a),[k]=z_(d,g,c,o,i,n,r,a);if(!w&&!k&&(m=g+1),w&&k&&(p=g-1),!w&&k){v=j;break}y++}return v||f},F_=e=>{var t=Oe(e)?[]:e.toString().split(aD);return[{words:t,width:void 0}]},Gee=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!bu.isSsr){var o,c,u=iD({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return F_(n);return Xee({breakAll:i,children:n,maxLines:s,style:a},o,c,t,!!r)}return F_(n)},lD="#808080",Qee={angle:0,breakAll:!1,capHeight:"0.71em",fill:lD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},sw=b.forwardRef((e,t)=>{var r=ct(e,Qee),{x:n,y:a,lineHeight:i,capHeight:s,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=$_(r,Hee),h=b.useMemo(()=>Gee({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:p,angle:y,className:v,breakAll:g}=f,x=$_(f,Wee);if(!Yr(n)||!Yr(a)||h.length===0)return null;var w=Number(n)+(de(m)?m:0),j=Number(a)+(de(p)?p:0);if(!Fe(w)||!Fe(j))return null;var k;switch(d){case"start":k=kg("calc(".concat(s,")"));break;case"middle":k=kg("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:k=kg("calc(".concat(h.length-1," * -").concat(i,")"));break}var _=[];if(c){var N=h[0].width,{width:S}=f;_.push("scale(".concat(de(S)&&de(N)?S/N:1,")"))}return y&&_.push("rotate(".concat(y,", ").concat(w,", ").concat(j,")")),_.length&&(x.transform=_.join(" ")),b.createElement("text",Y0({},Ut(x),{ref:t,x:w,y:j,className:Se("recharts-text",v),textAnchor:u,fill:o.includes("url")?lD:o}),h.map((E,T)=>{var O=E.words.join(g?"":" ");return b.createElement("tspan",{x:w,dy:T===0?k:i,key:"".concat(O,"-").concat(T)},O)}))});sw.displayName="Text";var Zee=["labelRef"];function Jee(e,t){if(e==null)return{};var r,n,a=ete(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ete(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){tte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tte(e,t,r){return(t=rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=nte(e,"string");return typeof t=="symbol"?t:t+""}function nte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},na.apply(null,arguments)}var cD=b.createContext(null),uD=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s,children:o}=e,c=b.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s}),[t,r,n,a,i,s]);return b.createElement(cD.Provider,{value:c},o)},dD=()=>{var e=b.useContext(cD),t=tl();return e||vT(t)},ate=b.createContext(null),ite=()=>{var e=b.useContext(ate),t=oe(FM);return e||t},ste=e=>{var{value:t,formatter:r}=e,n=Oe(e.children)?t:e.children;return typeof r=="function"?r(n):n},ow=e=>e!=null&&typeof e=="function",ote=(e,t)=>{var r=cr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},lte=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,p=(u+d)/2,y=ote(f,h),v=y>=0?1:-1,g,x;switch(t){case"insideStart":g=f+v*i,x=m;break;case"insideEnd":g=h-v*i,x=!m;break;case"end":g=h+v*i,x=m;break;default:throw new Error("Unsupported position ".concat(t))}x=y<=0?x:!x;var w=Tt(o,c,p,g),j=Tt(o,c,p,g+(x?1:-1)*359),k="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(x?0:1,`,
    `).concat(j.x,",").concat(j.y),_=Oe(e.id)?Pc("recharts-radial-line-"):e.id;return b.createElement("text",na({},n,{dominantBaseline:"central",className:Se("recharts-radial-bar-label",s)}),b.createElement("defs",null,b.createElement("path",{id:_,d:k})),b.createElement("textPath",{xlinkHref:"#".concat(_)},r))},cte=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:f}=Tt(n,a,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:m,y:p}=Tt(n,a,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},X0=e=>"cx"in e&&de(e.cx),ute=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!X0(r)&&(i=r);var{x:s,y:o,upperWidth:c,lowerWidth:u,height:d}=t,f=s,h=s+(c-u)/2,m=(f+h)/2,p=(c+u)/2,y=f+c/2,v=d>=0?1:-1,g=v*n,x=v>0?"end":"start",w=v>0?"start":"end",j=c>=0?1:-1,k=j*n,_=j>0?"end":"start",N=j>0?"start":"end";if(a==="top"){var S={x:f+c/2,y:o-g,textAnchor:"middle",verticalAnchor:x};return et(et({},S),i?{height:Math.max(o-i.y,0),width:c}:{})}if(a==="bottom"){var E={x:h+u/2,y:o+d+g,textAnchor:"middle",verticalAnchor:w};return et(et({},E),i?{height:Math.max(i.y+i.height-(o+d),0),width:u}:{})}if(a==="left"){var T={x:m-k,y:o+d/2,textAnchor:_,verticalAnchor:"middle"};return et(et({},T),i?{width:Math.max(T.x-i.x,0),height:d}:{})}if(a==="right"){var O={x:m+p+k,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return et(et({},O),i?{width:Math.max(i.x+i.width-O.x,0),height:d}:{})}var C=i?{width:p,height:d}:{};return a==="insideLeft"?et({x:m+k,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},C):a==="insideRight"?et({x:m+p-k,y:o+d/2,textAnchor:_,verticalAnchor:"middle"},C):a==="insideTop"?et({x:f+c/2,y:o+g,textAnchor:"middle",verticalAnchor:w},C):a==="insideBottom"?et({x:h+u/2,y:o+d-g,textAnchor:"middle",verticalAnchor:x},C):a==="insideTopLeft"?et({x:f+k,y:o+g,textAnchor:N,verticalAnchor:w},C):a==="insideTopRight"?et({x:f+c-k,y:o+g,textAnchor:_,verticalAnchor:w},C):a==="insideBottomLeft"?et({x:h+k,y:o+d-g,textAnchor:N,verticalAnchor:x},C):a==="insideBottomRight"?et({x:h+u-k,y:o+d-g,textAnchor:_,verticalAnchor:x},C):a&&typeof a=="object"&&(de(a.x)||va(a.x))&&(de(a.y)||va(a.y))?et({x:s+xn(a.x,p),y:o+xn(a.y,d),textAnchor:"end",verticalAnchor:"end"},C):et({x:y,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},dte={angle:0,offset:5,zIndex:rt.label,position:"middle",textBreakAll:!1};function $a(e){var t=ct(e,dte),{viewBox:r,position:n,value:a,children:i,content:s,className:o="",textBreakAll:c,labelRef:u}=t,d=ite(),f=dD(),h=n==="center"?f:d??f,m,p,y;if(r==null?m=h:X0(r)?m=r:m=vT(r),!m||Oe(a)&&Oe(i)&&!b.isValidElement(s)&&typeof s!="function")return null;var v=et(et({},t),{},{viewBox:m});if(b.isValidElement(s)){var{labelRef:g}=v,x=Jee(v,Zee);return b.cloneElement(s,x)}if(typeof s=="function"){if(p=b.createElement(s,v),b.isValidElement(p))return p}else p=ste(t);var w=Ut(t);if(X0(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return lte(t,n,p,w,m);y=cte(m,t.offset,t.position)}else y=ute(t,m);return b.createElement(tr,{zIndex:t.zIndex},b.createElement(sw,na({ref:u,className:Se("recharts-label",o)},w,y,{textAnchor:qee(w.textAnchor)?w.textAnchor:y.textAnchor,breakAll:c}),p))}$a.displayName="Label";var fte=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?b.createElement($a,na({key:"label-implicit"},n)):Yr(e)?b.createElement($a,na({key:"label-implicit",value:e},n)):b.isValidElement(e)?e.type===$a?b.cloneElement(e,et({key:"label-implicit"},n)):b.createElement($a,na({key:"label-implicit",content:e},n)):ow(e)?b.createElement($a,na({key:"label-implicit",content:e},n)):e&&typeof e=="object"?b.createElement($a,na({},e,{key:"label-implicit"},n)):null};function fD(e){var{label:t,labelRef:r}=e,n=dD();return fte(t,n,r)||null}var hD={},mD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(mD);var pD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(pD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mD,r=pD,n=Pm;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(hD);var hte=hD.last;const mte=Hn(hte);var pte=["valueAccessor"],gte=["dataKey","clockWise","id","textBreakAll","zIndex"];function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eh.apply(null,arguments)}function U_(e,t){if(e==null)return{};var r,n,a=yte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vte=e=>Array.isArray(e.value)?mte(e.value):e.value,gD=b.createContext(void 0),lw=gD.Provider,yD=b.createContext(void 0);yD.Provider;function xte(){return b.useContext(gD)}function bte(){return b.useContext(yD)}function af(e){var{valueAccessor:t=vte}=e,r=U_(e,pte),{dataKey:n,clockWise:a,id:i,textBreakAll:s,zIndex:o}=r,c=U_(r,gte),u=xte(),d=bte(),f=u||d;return!f||!f.length?null:b.createElement(tr,{zIndex:o??rt.label},b.createElement(St,{className:"recharts-label-list"},f.map((h,m)=>{var p,y=Oe(n)?t(h,m):Xe(h&&h.payload,n),v=Oe(i)?{}:{id:"".concat(i,"-").concat(m)};return b.createElement($a,Eh({key:"label-".concat(m)},Ut(h),c,v,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}af.displayName="LabelList";function cw(e){var{label:t}=e;return t?t===!0?b.createElement(af,{key:"labelList-implicit"}):b.isValidElement(t)||ow(t)?b.createElement(af,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(af,Eh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(null,arguments)}var vD=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Se("recharts-dot",a);return de(t)&&de(r)&&de(n)?b.createElement("circle",G0({},Cr(e),Rx(e),{className:i,cx:t,cy:r,r:n})):null},wte={radiusAxis:{},angleAxis:{}},xD=gr({name:"polarAxis",initialState:wte,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kce,removeRadiusAxis:Nce,addAngleAxis:_ce,removeAngleAxis:Sce}=xD.actions,jte=xD.reducer,bD={exports:{}},Me={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw=Symbol.for("react.transitional.element"),dw=Symbol.for("react.portal"),lp=Symbol.for("react.fragment"),cp=Symbol.for("react.strict_mode"),up=Symbol.for("react.profiler"),dp=Symbol.for("react.consumer"),fp=Symbol.for("react.context"),hp=Symbol.for("react.forward_ref"),mp=Symbol.for("react.suspense"),pp=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),kte=Symbol.for("react.view_transition"),Nte=Symbol.for("react.client.reference");function Jr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case uw:switch(e=e.type,e){case lp:case up:case cp:case mp:case pp:case kte:return e;default:switch(e=e&&e.$$typeof,e){case fp:case hp:case yp:case gp:return e;case dp:return e;default:return t}}case dw:return t}}}Me.ContextConsumer=dp;Me.ContextProvider=fp;Me.Element=uw;Me.ForwardRef=hp;Me.Fragment=lp;Me.Lazy=yp;Me.Memo=gp;Me.Portal=dw;Me.Profiler=up;Me.StrictMode=cp;Me.Suspense=mp;Me.SuspenseList=pp;Me.isContextConsumer=function(e){return Jr(e)===dp};Me.isContextProvider=function(e){return Jr(e)===fp};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===uw};Me.isForwardRef=function(e){return Jr(e)===hp};Me.isFragment=function(e){return Jr(e)===lp};Me.isLazy=function(e){return Jr(e)===yp};Me.isMemo=function(e){return Jr(e)===gp};Me.isPortal=function(e){return Jr(e)===dw};Me.isProfiler=function(e){return Jr(e)===up};Me.isStrictMode=function(e){return Jr(e)===cp};Me.isSuspense=function(e){return Jr(e)===mp};Me.isSuspenseList=function(e){return Jr(e)===pp};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lp||e===up||e===cp||e===mp||e===pp||typeof e=="object"&&e!==null&&(e.$$typeof===yp||e.$$typeof===gp||e.$$typeof===fp||e.$$typeof===dp||e.$$typeof===hp||e.$$typeof===Nte||e.getModuleId!==void 0)};Me.typeOf=Jr;bD.exports=Me;var _te=bD.exports,V_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",H_=null,Ng=null,wD=e=>{if(e===H_&&Array.isArray(Ng))return Ng;var t=[];return b.Children.forEach(e,r=>{Oe(r)||(_te.isFragment(r)?t=t.concat(wD(r.props.children)):t.push(r))}),Ng=t,H_=e,t};function jD(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>V_(a)):n=[V_(t)],wD(e).forEach(a=>{var i=Ro(a,"type.displayName")||Ro(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var kD=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,ND={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(ND);var Ste=ND.isPlainObject;const Ete=Hn(Ste);function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){Pte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pte(e,t,r){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cte(e){var t=Ote(e,"string");return typeof t=="symbol"?t:t+""}function Ote(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(null,arguments)}var q_=(e,t,r,n,a)=>{var i=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},Ate={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tte=e=>{var t=ct(e,Ate),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=b.useRef(null),[m,p]=b.useState(-1),y=b.useRef(a),v=b.useRef(i),g=b.useRef(s),x=b.useRef(r),w=b.useRef(n),j=ju(e,"trapezoid-");if(b.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var P=h.current.getTotalLength();P&&p(P)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var k=Se("recharts-trapezoid",o);if(!f)return b.createElement("g",null,b.createElement("path",Ph({},Ut(t),{className:k,d:q_(r,n,a,i,s)})));var _=y.current,N=v.current,S=g.current,E=x.current,T=w.current,O="0px ".concat(m===-1?1:m,"px"),C="".concat(m,"px 0px"),L=CT(["strokeDasharray"],u,c);return b.createElement(wu,{animationId:j,key:j,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},P=>{var D=De(_,a,P),I=De(N,i,P),R=De(S,s,P),A=De(E,r,P),M=De(T,n,P);h.current&&(y.current=D,v.current=I,g.current=R,x.current=A,w.current=M);var z=P>0?{transition:L,strokeDasharray:C}:{strokeDasharray:O};return b.createElement("path",Ph({},Ut(t),{className:k,d:q_(A,M,D,I,R),ref:h,style:K_(K_({},z),t.style)}))})},Mte=["option","shapeType","propTransformer","activeClassName"];function Ite(e,t){if(e==null)return{};var r,n,a=Dte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){Rte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rte(e,t,r){return(t=Lte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lte(e){var t=$te(e,"string");return typeof t=="symbol"?t:t+""}function $te(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zte(e,t){return Ch(Ch({},t),e)}function Fte(e,t){return e==="symbols"}function X_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(MT,r);case"trapezoid":return b.createElement(Tte,r);case"sector":return b.createElement(RT,r);case"symbols":if(Fte(t))return b.createElement(Em,r);break;case"curve":return b.createElement(cb,r);default:return null}}function Bte(e){return b.isValidElement(e)?e.props:e}function Oh(e){var{option:t,shapeType:r,propTransformer:n=zte,activeClassName:a="recharts-active-shape"}=e,i=Ite(e,Mte),s;if(b.isValidElement(t))s=b.cloneElement(t,Ch(Ch({},i),Bte(t)));else if(typeof t=="function")s=t(i,i.index);else if(Ete(t)&&typeof t!="boolean"){var o=n(t,i);s=b.createElement(X_,{shapeType:r,elementProps:o})}else{var c=i;s=b.createElement(X_,{shapeType:r,elementProps:c})}return i.isActive?b.createElement(St,{className:a},s):s}var fw=(e,t,r)=>{var n=Ke();return(a,i)=>s=>{e==null||e(a,i,s),n(OI({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},hw=e=>{var t=Ke();return(r,n)=>a=>{e==null||e(r,n,a),t(kZ())}},mw=(e,t,r)=>{var n=Ke();return(a,i)=>s=>{e==null||e(a,i,s),n(NZ({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function pw(e){var{tooltipEntrySettings:t}=e,r=Ke(),n=mt(),a=b.useRef(null);return b.useLayoutEffect(()=>{n||(a.current===null?r(xZ(t)):a.current!==t&&r(bZ({prev:a.current,next:t})),a.current=t)},[t,r,n]),b.useLayoutEffect(()=>()=>{a.current&&(r(wZ(a.current)),a.current=null)},[r]),null}function gw(e){var{legendPayload:t}=e,r=Ke(),n=mt(),a=b.useRef(null);return b.useLayoutEffect(()=>{n||(a.current===null?r(pq(t)):a.current!==t&&r(gq({prev:a.current,next:t})),a.current=t)},[r,n,t]),b.useLayoutEffect(()=>()=>{a.current&&(r(yq(a.current)),a.current=null)},[r]),null}var _g,Ute=()=>{var[e]=b.useState(()=>Pc("uid-"));return e},Vte=(_g=S4.useId)!==null&&_g!==void 0?_g:Ute;function _D(e,t){var r=Vte();return t||(e?"".concat(e,"-").concat(r):r)}var Hte=b.createContext(void 0),yw=e=>{var{id:t,type:r,children:n}=e,a=_D("recharts-".concat(r),t);return b.createElement(Hte.Provider,{value:a},n(a))},Wte={cartesianItems:[],polarItems:[]},SD=gr({name:"graphicalItems",initialState:Wte,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Be()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=yn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Be()},removeCartesianGraphicalItem:{reducer(e,t){var r=yn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Be()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Be()},removePolarGraphicalItem:{reducer(e,t){var r=yn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Be()}}}),{addCartesianGraphicalItem:Kte,replaceCartesianGraphicalItem:qte,removeCartesianGraphicalItem:Yte,addPolarGraphicalItem:Ece,removePolarGraphicalItem:Pce}=SD.actions,Xte=SD.reducer,Gte=e=>{var t=Ke(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(Kte(e)):r.current!==e&&t(qte({prev:r.current,next:e})),r.current=e},[t,e]),b.useLayoutEffect(()=>()=>{r.current&&(t(Yte(r.current)),r.current=null)},[t]),null},vw=b.memo(Gte),Qte=["points"];function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){Zte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zte(e,t,r){return(t=Jte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jte(e){var t=ere(e,"string");return typeof t=="symbol"?t:t+""}function ere(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(null,arguments)}function tre(e,t){if(e==null)return{};var r,n,a=rre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nre(e){var{option:t,dotProps:r,className:n}=e;if(b.isValidElement(t))return b.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Se(n,typeof t!="boolean"?t.className:""),i=r??{},{points:s}=i,o=tre(i,Qte);return b.createElement(vD,Ah({},o,{className:a}))}function are(e,t){return e==null?!1:t?!0:e.length===1}function ire(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:s,needClip:o,clipPathId:c,zIndex:u=rt.scatter}=e;if(!are(t,r))return null;var d=kD(r),f=TV(r),h=t.map((p,y)=>{var v,g,x=Sg(Sg(Sg({r:3},s),f),{},{index:y,cx:(v=p.x)!==null&&v!==void 0?v:void 0,cy:(g=p.y)!==null&&g!==void 0?g:void 0,dataKey:i,value:p.value,payload:p.payload,points:t});return b.createElement(nre,{key:"dot-".concat(y),option:r,dotProps:x,className:a})}),m={};return o&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),b.createElement(tr,{zIndex:u},b.createElement(St,Ah({className:n},m),h))}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){sre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sre(e,t,r){return(t=ore(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ore(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cre={xAxis:{},yAxis:{},zAxis:{}},ED=gr({name:"cartesianAxis",initialState:cre,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Be()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Be()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Be()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Be()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Be()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Be()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Be()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Be()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Be()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var s=[...i,n].slice(-3);e.yAxis[r]=Z_(Z_({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:ure,replaceXAxis:dre,removeXAxis:fre,addYAxis:hre,replaceYAxis:mre,removeYAxis:pre,addZAxis:Cce,replaceZAxis:Oce,removeZAxis:Ace,updateYAxisWidth:gre}=ED.actions,yre=ED.reducer,vre=W([Et],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),xre=W([vre,Ea,Pa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),xw=()=>oe(xre),bre=()=>oe(hJ);function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wre(e,t,r){return(t=jre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jre(e){var t=kre(e,"string");return typeof t=="symbol"?t:t+""}function kre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nre=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:s}=e;if(a===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=Eg(Eg(Eg({},o),Jo(a)),Rx(a)),u;return b.isValidElement(a)?u=b.cloneElement(a,c):typeof a=="function"?u=a(c):u=b.createElement(vD,c),b.createElement(St,{className:"recharts-active-dot",clipPath:s},u)};function _re(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:s=rt.activeDot}=e,o=oe(pi),c=bre();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return Oe(u)?null:b.createElement(tr,{zIndex:s},b.createElement(Nre,{point:u,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var Sre="Invariant failed";function Ere(e,t){throw new Error(Sre)}var Pre=["x","y"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(null,arguments)}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){Cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cre(e,t,r){return(t=Ore(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ore(e){var t=Are(e,"string");return typeof t=="symbol"?t:t+""}function Are(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tre(e,t){if(e==null)return{};var r,n,a=Mre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ire(e,t){var{x:r,y:n}=e,a=Tre(e,Pre),i="".concat(r),s=parseInt(i,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Pl(Pl(Pl(Pl(Pl({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Th(e){return b.createElement(Oh,Q0({shapeType:"rectangle",propTransformer:Ire,activeClassName:"recharts-active-bar"},e))}var Dre=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(de(t))return t;var i=de(n)||Oe(n);return i?t(n,a):(i||Ere(),r)}},Rre={},PD=gr({name:"errorBars",initialState:Rre,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Tce,replaceErrorBar:Mce,removeErrorBar:Ice}=PD.actions,Lre=PD.reducer,$re=["children"];function zre(e,t){if(e==null)return{};var r,n,a=Fre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ure=b.createContext(Bre);function bw(e){var{children:t}=e,r=zre(e,$re);return b.createElement(Ure.Provider,{value:r},t)}function vp(e,t){var r,n,a=oe(u=>Kn(u,e)),i=oe(u=>qn(u,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:bt.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:wt.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function ww(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=xw(),{needClipX:i,needClipY:s,needClip:o}=vp(t,r);if(!o||!a)return null;var{x:c,y:u,width:d,height:f}=a;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:i?c:c-d/2,y:s?u:u-f/2,width:i?d:d*2,height:s?f:f*2}))}function Vre(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Fe(e.zIndex)?e.zIndex:t}var Hre={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu=b;function Wre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kre=typeof Object.is=="function"?Object.is:Wre,qre=Lu.useSyncExternalStore,Yre=Lu.useRef,Xre=Lu.useEffect,Gre=Lu.useMemo,Qre=Lu.useDebugValue;Hre.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Yre(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Gre(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&s.hasValue){var p=s.value;if(a(p,m))return f=p}return f=m}if(p=f,Kre(d,m))return p;var y=n(m);return a!==void 0&&a(p,y)?(d=m,p):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=qre(e,i[0],i[1]);return Xre(function(){s.hasValue=!0,s.value=o},[o]),Qre(o),o};function Zre(e){e()}function Jre(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Zre(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var tS={notify(){},get:()=>[]};function ene(e,t){let r,n=tS,a=0,i=!1;function s(y){d();const v=n.subscribe(y);let g=!1;return()=>{g||(g=!0,v(),f())}}function o(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=Jre())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=tS)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var tne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rne=tne(),nne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ane=nne(),ine=()=>rne||ane?b.useLayoutEffect:b.useEffect,sne=ine();function rS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function one(e,t){if(rS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!rS(e[r[a]],t[r[a]]))return!1;return!0}var Pg=Symbol.for("react-redux-context"),Cg=typeof globalThis<"u"?globalThis:{};function lne(){if(!b.createContext)return{};const e=Cg[Pg]??(Cg[Pg]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var cne=lne();function une(e){const{children:t,context:r,serverState:n,store:a}=e,i=b.useMemo(()=>{const c=ene(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),s=b.useMemo(()=>a.getState(),[a]);sne(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,s]);const o=r||cne;return b.createElement(o.Provider,{value:i},t)}var dne=une,fne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function hne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function $u(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(fne.has(n)){if(e[n]==null&&t[n]==null)continue;if(!one(e[n],t[n]))return!1}else if(!hne(e[n],t[n]))return!1;return!0}var mne=["onMouseEnter","onMouseLeave","onClick"],pne=["value","background","tooltipPosition"],gne=["id"],yne=["onMouseEnter","onClick","onMouseLeave"];function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Na.apply(null,arguments)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vne(e,t,r){return(t=xne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xne(e){var t=bne(e,"string");return typeof t=="symbol"?t:t+""}function bne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mh(e,t){if(e==null)return{};var r,n,a=wne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jne=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:el(r,t),payload:e}]},kne=b.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:o,tooltipType:c}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:el(i,t),hide:s,type:c,color:a,unit:o}};return b.createElement(pw,{tooltipEntrySettings:u})});function Nne(e){var t=oe(pi),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:c}=i,u=Mh(i,mne),d=fw(s,n),f=hw(o),h=mw(c,n);if(!a||r==null)return null;var m=Jo(a);return b.createElement(tr,{zIndex:Vre(a,rt.barBackground)},r.map((p,y)=>{var{value:v,background:g,tooltipPosition:x}=p,w=Mh(p,pne);if(!g)return null;var j=d(p,y),k=f(p,y),_=h(p,y),N=qt(qt(qt(qt(qt({option:a,isActive:String(y)===t},w),{},{fill:"#eee"},g),m),hu(u,p,y)),{},{onMouseEnter:j,onMouseLeave:k,onClick:_,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return b.createElement(Th,Na({key:"background-bar-".concat(y)},N))}))}function _ne(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return qt(qt({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return b.createElement(lw,{value:t?a:void 0},r)}function Sne(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,o=oe(pi),c=oe(HI),u=r&&String(i)===o&&(c==null||s===c),d=u?r:t;return u?b.createElement(tr,{zIndex:rt.activeBar},b.createElement(Th,Na({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:s}))):b.createElement(Th,Na({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:s}))}function Ene(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return b.createElement(Th,Na({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function Pne(e){var t,{data:r,props:n}=e,a=(t=Cr(n))!==null&&t!==void 0?t:{},{id:i}=a,s=Mh(a,gne),{shape:o,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=Mh(n,yne),p=fw(d,c),y=hw(h),v=mw(f,c);return r?b.createElement(b.Fragment,null,r.map((g,x)=>b.createElement(St,Na({key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(x),className:"recharts-bar-rectangle"},hu(m,g,x),{onMouseEnter:p(g,x),onMouseLeave:y(g,x),onClick:v(g,x)}),u?b.createElement(Sne,{shape:o,activeBar:u,baseProps:s,entry:g,index:x,dataKey:c}):b.createElement(Ene,{shape:o,baseProps:s,entry:g,index:x,dataKey:c})))):null}function Cne(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=ju(t,"recharts-bar-"),[m,p]=b.useState(!1),y=!m,v=b.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),g=b.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return b.createElement(_ne,{showLabels:y,rects:n},b.createElement(wu,{animationId:h,begin:s,duration:o,isActive:i,easing:c,onAnimationEnd:v,onAnimationStart:g,key:h},x=>{var w=x===1?n:n==null?void 0:n.map((j,k)=>{var _=f&&f[k];if(_)return qt(qt({},j),{},{x:De(_.x,j.x,x),y:De(_.y,j.y,x),width:De(_.width,j.width,x),height:De(_.height,j.height,x)});if(a==="horizontal"){var N=De(0,j.height,x),S=De(j.stackedBarStart,j.y,x);return qt(qt({},j),{},{y:S,height:N})}var E=De(0,j.width,x),T=De(j.stackedBarStart,j.x,x);return qt(qt({},j),{},{width:E,x:T})});return x>0&&(r.current=w??null),w==null?null:b.createElement(St,null,b.createElement(Pne,{props:t,data:w}))}),b.createElement(cw,{label:t.label}),t.children)}function One(e){var t=b.useRef(null);return b.createElement(Cne,{previousRectanglesRef:t,props:e})}var CD=0,Ane=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Xe(e,t)}};class Tne extends b.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var d=Se("recharts-bar",a),f=u;return b.createElement(St,{className:d,id:u},o&&b.createElement("defs",null,b.createElement(ww,{clipPathId:f,xAxisId:i,yAxisId:s})),b.createElement(St,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},b.createElement(Nne,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),b.createElement(One,this.props)))}}var Mne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:CD,xAxisId:0,yAxisId:0,zIndex:rt.bar};function Ine(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=vp(t,r),h=vu(),m=mt(),p=jD(e.children,iw),y=oe(x=>lae(x,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var v,g=y==null?void 0:y[0];return g==null||g.height==null||g.width==null?v=0:v=h==="vertical"?g.height/2:g.width/2,b.createElement(bw,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:Ane,errorBarOffset:v},b.createElement(Tne,Na({},e,{layout:h,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Dne(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p,dataStartIndex:y}=e,v=t==="horizontal"?o:s,g=d?v.scale.domain():null,x=kK({numericAxis:v}),w=v.scale(x);return f.map((j,k)=>{var _,N,S,E,T,O;d?_=yK(d[k+y],g):(_=Xe(j,r),Array.isArray(_)||(_=[x,_]));var C=Dre(n,CD)(_[1],k);if(t==="horizontal"){var L,[P,D]=[o.scale(_[0]),o.scale(_[1])];N=Zk({axis:s,ticks:c,bandSize:i,offset:a.offset,entry:j,index:k}),S=(L=D??P)!==null&&L!==void 0?L:void 0,E=a.size;var I=P-D;if(T=Or(I)?0:I,O={x:N,y:h.top,width:E,height:h.height},Math.abs(C)>0&&Math.abs(T)<Math.abs(C)){var R=cr(T||C)*(Math.abs(C)-Math.abs(T));S-=R,T+=R}}else{var[A,M]=[s.scale(_[0]),s.scale(_[1])];if(N=A,S=Zk({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:j,index:k}),E=M-A,T=a.size,O={x:h.left,y:S,width:h.width,height:T},Math.abs(C)>0&&Math.abs(E)<Math.abs(C)){var z=cr(E||C)*(Math.abs(C)-Math.abs(E));E+=z}}if(N==null||S==null||E==null||T==null)return null;var V=qt(qt({},j),{},{stackedBarStart:w,x:N,y:S,width:E,height:T,value:d?_:_[1],payload:j,background:O,tooltipPosition:{x:N+E/2,y:S+T/2},parentViewBox:p},m&&m[k]&&m[k].props);return V}).filter(Boolean)}function Rne(e){var t=ct(e,Mne),r=mt();return b.createElement(yw,{id:t.id,type:"bar"},n=>b.createElement(b.Fragment,null,b.createElement(gw,{legendPayload:jne(t)}),b.createElement(kne,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),b.createElement(vw,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:jK(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),b.createElement(tr,{zIndex:t.zIndex},b.createElement(Ine,Na({},t,{id:n})))))}var OD=b.memo(Rne,$u);OD.displayName="Bar";function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){Lne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lne(e,t,r){return(t=$ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ne(e){var t=zne(e,"string");return typeof t=="symbol"?t:t+""}function zne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fne=(e,t)=>t,Bne=(e,t,r)=>r,Une=(e,t,r,n)=>n,Vne=(e,t,r,n,a)=>a,zu=W([Pu,Vne],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Hne=W([zu],e=>e==null?void 0:e.maxBarSize),Wne=(e,t,r,n,a,i)=>i,iS=(e,t,r)=>{var n=r??e;if(!Oe(n))return xn(n,t,0)},Kne=W([Ee,Pu,Fne,Bne,Une],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),qne=(e,t,r,n)=>{var a=Ee(e);return a==="horizontal"?V0(e,"yAxis",r,n):V0(e,"xAxis",t,n)},Yne=(e,t,r)=>{var n=Ee(e);return n==="horizontal"?m_(e,"xAxis",t):m_(e,"yAxis",r)},Xne=(e,t,r)=>{var n={},a=e.filter(rp),i=e.filter(u=>u.stackId==null),s=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(s).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=iS(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=iS(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...c]},Gne=W([Kne,fQ,Yne],Xne),Qne=(e,t,r,n,a)=>{var i,s,o=zu(e,t,r,n,a);if(o!=null){var c=Ee(e),u=TM(e),{maxBarSize:d}=o,f=Oe(d)?u:d,h,m;return c==="horizontal"?(h=Vn(e,"xAxis",t,n),m=Un(e,"xAxis",t,n)):(h=Vn(e,"yAxis",r,n),m=Un(e,"yAxis",r,n)),(i=(s=zo(h,m,!0))!==null&&s!==void 0?s:f)!==null&&i!==void 0?i:0}},AD=(e,t,r,n)=>{var a=Ee(e),i,s;return a==="horizontal"?(i=Vn(e,"xAxis",t,n),s=Un(e,"xAxis",t,n)):(i=Vn(e,"yAxis",r,n),s=Un(e,"yAxis",r,n)),zo(i,s)};function Zne(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=xn(e,r,0,!0),o,c=[];if(Fe(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((g,x)=>g+(x.barSize||0),0);f+=(i-1)*s,f>=r&&(f-=(i-1)*s,s=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-s,size:0};o=n.reduce((g,x)=>{var w,j={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m.offset+m.size+s,size:u?d:(w=x.barSize)!==null&&w!==void 0?w:0}},k=[...g,j];return m=k[k.length-1].position,k},c)}else{var p=xn(t,r,0,!0);r-2*p-(i-1)*s<=0&&(s=0);var y=(r-2*p-(i-1)*s)/i;y>1&&(y>>=0);var v=Fe(a)?Math.min(y,a):y;o=n.reduce((g,x,w)=>[...g,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p+(y+s)*w+(y-v)/2,size:v}}],c)}return o}}var Jne=(e,t,r,n,a,i,s)=>{var o=Oe(s)?t:s,c=Zne(r,n,a!==i?a:i,e,o);return a!==i&&c!=null&&(c=c.map(u=>Ad(Ad({},u),{},{position:Ad(Ad({},u.position),{},{offset:u.position.offset-a/2})}))),c},eae=W([Gne,TM,dQ,MM,Qne,AD,Hne],Jne),tae=(e,t,r,n)=>Vn(e,"xAxis",t,n),rae=(e,t,r,n)=>Vn(e,"yAxis",r,n),nae=(e,t,r,n)=>Un(e,"xAxis",t,n),aae=(e,t,r,n)=>Un(e,"yAxis",r,n),iae=W([eae,zu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),sae=(e,t)=>{var r=$b(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}},oae=W([qne,zu],sae),lae=W([Et,nb,tae,rae,nae,aae,iae,Ee,Su,AD,oae,zu,Wne],(e,t,r,n,a,i,s,o,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:y}=c;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:v}=f,g;if(v!=null&&v.length>0?g=v:g=m==null?void 0:m.slice(p,y+1),g!=null)return Dne({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:p})}}),cae=e=>{var{chartData:t}=e,r=Ke(),n=mt();return b.useEffect(()=>n?()=>{}:(r(S_(t)),()=>{r(S_(void 0))}),[t,r,n]),null},sS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},TD=gr({name:"brush",initialState:sS,reducers:{setBrushSettings(e,t){return t.payload==null?sS:t.payload}}}),{setBrushSettings:Dce}=TD.actions,uae=TD.reducer;function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){MD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MD(e,t,r){return(t=dae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hae=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},mae=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return hae({x:t,y:r},{x:n,y:a})};class xp{static create(t){return new xp(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}MD(xp,"EPS",1e-4);var pae=e=>{var t=Object.keys(e).reduce((r,n)=>Td(Td({},r),{},{[n]:xp.create(e[n])}),{});return Td(Td({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(i=>{var[s,o]=i;return[s,t[s].apply(o,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function gae(e){return(e%180+180)%180}var yae=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=gae(a),s=i*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},vae={dots:[],areas:[],lines:[]},ID=gr({name:"referenceElements",initialState:vae,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=yn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=yn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=yn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Rce,removeDot:Lce,addArea:$ce,removeArea:zce,addLine:xae,removeLine:bae}=ID.actions,wae=ID.reducer,DD=b.createContext(void 0),jae=e=>{var{children:t}=e,[r]=b.useState("".concat(Pc("recharts"),"-clip")),n=xw();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return b.createElement(DD.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:a,y:i,height:o,width:s}))),t)},kae=()=>b.useContext(DD);function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){Nae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nae(e,t,r){return(t=_ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ae(e){var t=Sae(e,"string");return typeof t=="symbol"?t:t+""}function Sae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(null,arguments)}var Eae=(e,t)=>{var r;if(b.isValidElement(e))r=b.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!Fe(t.x1)||!Fe(t.y1)||!Fe(t.x2)||!Fe(t.y2))return null;r=b.createElement("line",Ih({},t,{className:"recharts-reference-line-line"}))}return r},Pae=(e,t,r,n,a,i)=>{var{x:s,width:o}=i,c=a.y.apply(e,{position:r});if(Or(c)||t==="discard"&&!a.y.isInRange(c))return null;var u=[{x:s+o,y:c},{x:s,y:c}];return n==="left"?u.reverse():u},Cae=(e,t,r,n,a,i)=>{var{y:s,height:o}=i,c=a.x.apply(e,{position:r});if(Or(c)||t==="discard"&&!a.x.isInRange(c))return null;var u=[{x:c,y:s+o},{x:c,y:s}];return n==="top"?u.reverse():u},Oae=(e,t,r,n)=>{var a=e.map(i=>n.apply(i,{position:r}));return t==="discard"&&a.some(i=>!n.isInRange(i))?null:a},Aae=(e,t,r,n,a,i)=>{var{x:s,y:o,segment:c,ifOverflow:u}=i,d=Yr(s),f=Yr(o);return f?Pae(o,u,r,a,e,t):d?Cae(s,u,r,n,e,t):c!=null&&c.length===2?Oae(c,u,r,e):null};function Tae(e){var t=Ke();return b.useEffect(()=>(t(xae(e)),()=>{t(bae(e))})),null}function Mae(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:i}=e,s=mt(),o=kae(),c=oe(_=>Kn(_,t)),u=oe(_=>qn(_,r)),d=oe(_=>mi(_,"xAxis",t,s)),f=oe(_=>mi(_,"yAxis",r,s)),h=tl();if(!o||!h||c==null||u==null||d==null||f==null)return null;var m=pae({x:d,y:f}),p=Aae(m,h,e.position,c.orientation,u.orientation,e);if(!p)return null;var[{x:y,y:v},{x:g,y:x}]=p,w=i==="hidden"?"url(#".concat(o,")"):void 0,j=cS(cS({clipPath:w},Ut(e)),{},{x1:y,y1:v,x2:g,y2:x}),k=mae({x1:y,y1:v,x2:g,y2:x});return b.createElement(tr,{zIndex:e.zIndex},b.createElement(St,{className:Se("recharts-reference-line",a)},Eae(n,j),b.createElement(uD,Ih({},k,{lowerWidth:k.width,upperWidth:k.width}),b.createElement(fD,{label:e.label}),e.children)))}var Iae={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:rt.line};function RD(e){var t=ct(e,Iae);return b.createElement(b.Fragment,null,b.createElement(Tae,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),b.createElement(Mae,t))}RD.displayName="ReferenceLine";function LD(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function Dae(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return yae(n,r)}function Rae(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:o}=e;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Dh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Lae(e,t){return LD(e,t+1)}function $ae(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:o}=t,c=0,u=1,d=s,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:LD(n,u)};var y=c,v,g=()=>(v===void 0&&(v=r(p,y)),v),x=p.coordinate,w=c===0||Dh(e,x,g,d,o);w||(c=0,d=s,u+=1),w&&(d=x+e*(g()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(n){zae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zae(e,t,r){return(t=Fae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fae(e){var t=Bae(e,"string");return typeof t=="symbol"?t:t+""}function Bae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uae(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:c}=t,u=function(h){var m=i[h],p,y=()=>(p===void 0&&(p=r(m,h)),p);if(h===s-1){var v=e*(m.coordinate+e*y()/2-c);i[h]=m=Lt(Lt({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=Lt(Lt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var g=Dh(e,m.tickCoord,y,o,c);g&&(c=m.tickCoord-e*(y()/2+a),i[h]=Lt(Lt({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return i}function Vae(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=t;if(i){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);if(s[o-1]=d=Lt(Lt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Dh(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),s[o-1]=Lt(Lt({},d),{},{isShow:!0}))}}for(var p=i?o-1:o,y=function(x){var w=s[x],j,k=()=>(j===void 0&&(j=r(w,x)),j);if(x===0){var _=e*(w.coordinate-e*k()/2-c);s[x]=w=Lt(Lt({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else s[x]=w=Lt(Lt({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var N=Dh(e,w.tickCoord,k,c,u);N&&(c=w.tickCoord+e*(k()/2+a),s[x]=Lt(Lt({},w),{},{isShow:!0}))}},v=0;v<p;v++)y(v);return s}function jw(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(de(c)||bu.isSsr){var h;return(h=Lae(a,de(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",y=d&&p==="width"?Ql(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,j)=>{var k=typeof u=="function"?u(w.value,j):w.value;return p==="width"?Dae(Ql(k,{fontSize:t,letterSpacing:r}),y,f):Ql(k,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?cr(a[1].coordinate-a[0].coordinate):1,x=Rae(i,g,p);return c==="equidistantPreserveStart"?$ae(g,x,v,a,s):(c==="preserveStart"||c==="preserveStartEnd"?m=Vae(g,x,v,a,s,c==="preserveStartEnd"):m=Uae(g,x,v,a,s),m.filter(w=>w.isShow))}var Hae=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=a+i,u=s+c+o+(r?n:0);return Math.round(u)}return 0},Wae=["axisLine","width","height","className","hide","ticks","axisType"];function Kae(e,t){if(e==null)return{};var r,n,a=qae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(null,arguments)}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){Yae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yae(e,t,r){return(t=Xae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xae(e){var t=Gae(e,"string");return typeof t=="symbol"?t:t+""}function Gae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:rt.axis};function Qae(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=it(it(it({},c),Cr(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!s||i==="bottom"&&s);u=it(it({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);u=it(it({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return b.createElement("line",ys({},u,{className:Se("recharts-cartesian-axis-line",Ro(o,"className"))}))}function Zae(e,t,r,n,a,i,s,o,c){var u,d,f,h,m,p,y=o?-1:1,v=e.tickSize||s,g=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!o*a,f=h-y*v,p=f-y*c,m=g;break;case"left":f=h=e.coordinate,d=t+ +!o*n,u=d-y*v,m=u-y*c,p=g;break;case"right":f=h=e.coordinate,d=t+ +o*n,u=d+y*v,m=u+y*c,p=g;break;default:u=d=e.coordinate,h=r+ +o*a,f=h+y*v,p=f+y*c,m=g;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function Jae(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function eie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function tie(e){var{option:t,tickProps:r,value:n}=e,a,i=Se(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))a=b.cloneElement(t,it(it({},r),{},{className:i}));else if(typeof t=="function")a=t(it(it({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Se(s,t==null?void 0:t.className)),a=b.createElement(sw,ys({},r,{className:s}),n)}return a}var rie=b.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:s,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:y,tickSize:v,tickMargin:g,fontSize:x,letterSpacing:w,getTicksConfig:j,events:k,axisType:_}=e,N=jw(it(it({},j),{},{ticks:r}),x,w),S=Jae(d,f),E=eie(d,f),T=Cr(j),O=Jo(n),C={};typeof a=="object"&&(C=a);var L=it(it({},T),{},{fill:"none"},C),P=N.map(R=>it({entry:R},Zae(R,h,m,p,y,d,v,f,g))),D=P.map(R=>{var{entry:A,line:M}=R;return b.createElement(St,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},a&&b.createElement("line",ys({},L,M,{className:Se("recharts-cartesian-axis-tick-line",Ro(a,"className"))})))}),I=P.map((R,A)=>{var{entry:M,tick:z}=R,V=it(it(it(it({textAnchor:S,verticalAnchor:E},T),{},{stroke:"none",fill:i},O),z),{},{index:A,payload:M,visibleTicksCount:N.length,tickFormatter:s,padding:c},u);return b.createElement(St,ys({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},hu(k,M,A)),n&&b.createElement(tie,{option:n,tickProps:V,value:"".concat(typeof s=="function"?s(M.value,A):M.value).concat(o||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},I.length>0&&b.createElement(tr,{zIndex:rt.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},I)),D.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},D))}),nie=b.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:o,axisType:c}=e,u=Kae(e,Wae),[d,f]=b.useState(""),[h,m]=b.useState(""),p=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return Hae({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=b.useCallback(v=>{if(v){var g=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=g;var x=g[0];if(x){var w=window.getComputedStyle(x),j=w.fontSize,k=w.letterSpacing;(j!==d||k!==h)&&(f(j),m(k))}}},[d,h]);return s||n!=null&&n<=0||a!=null&&a<=0?null:b.createElement(tr,{zIndex:e.zIndex},b.createElement(St,{className:Se("recharts-cartesian-axis",i)},b.createElement(Qae,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Cr(e)}),b.createElement(rie,{ref:y,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(uD,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(fD,{label:e.label,labelRef:e.labelRef}),e.children)))}),kw=b.forwardRef((e,t)=>{var r=ct(e,fa);return b.createElement(nie,ys({},r,{ref:t}))});kw.displayName="CartesianAxis";var aie=["x1","y1","x2","y2","key"],iie=["offset"],sie=["xAxisId","yAxisId"],oie=["xAxisId","yAxisId"];function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){lie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lie(e,t,r){return(t=cie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cie(e){var t=uie(e,"string");return typeof t=="symbol"?t:t+""}function uie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$i.apply(null,arguments)}function Rh(e,t){if(e==null)return{};var r,n,a=die(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function die(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:o}=e;return b.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $D(e){var{option:t,lineItemProps:r}=e,n;if(b.isValidElement(t))n=b.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:s,x2:o,y2:c,key:u}=r,d=Rh(r,aie),f=(a=Cr(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=Rh(f,iie);n=b.createElement("line",$i({},m,{x1:i,y1:s,x2:o,y2:c,fill:"none",key:u}))}return n}function hie(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Rh(e,sie),c=a.map((u,d)=>{var f=zt(zt({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return b.createElement($D,{key:"line-".concat(d),option:n,lineItemProps:f})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function mie(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Rh(e,oie),c=a.map((u,d)=>{var f=zt(zt({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return b.createElement($D,{option:n,lineItemProps:f,key:"line-".concat(d)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function pie(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+s-f:u[h+1]-f;if(p<=0)return null;var y=h%t.length;return b.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function gie(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+s-f:u[h+1]-f;if(p<=0)return null;var y=h%r.length;return b.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var yie=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return oT(jw(zt(zt(zt({},fa),r),{},{ticks:lT(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},vie=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return oT(jw(zt(zt(zt({},fa),r),{},{ticks:lT(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},xie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:rt.grid};function $l(e){var t=ib(),r=sb(),n=xT(),a=zt(zt({},ct(e,xie)),{},{x:de(e.x)?e.x:n.left,y:de(e.y)?e.y:n.top,width:de(e.width)?e.width:n.width,height:de(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=mt(),y=oe(E=>p_(E,"xAxis",i,p)),v=oe(E=>p_(E,"yAxis",s,p));if(!Fn(u)||!Fn(d)||!de(o)||!de(c))return null;var g=a.verticalCoordinatesGenerator||yie,x=a.horizontalCoordinatesGenerator||vie,{horizontalPoints:w,verticalPoints:j}=a;if((!w||!w.length)&&typeof x=="function"){var k=h&&h.length,_=x({yAxis:v?zt(zt({},v),{},{ticks:k?h:v.ticks}):void 0,width:t??u,height:r??d,offset:n},k?!0:f);lh(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(w=_)}if((!j||!j.length)&&typeof g=="function"){var N=m&&m.length,S=g({xAxis:y?zt(zt({},y),{},{ticks:N?m:y.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);lh(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return b.createElement(tr,{zIndex:a.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(fie,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),b.createElement(pie,$i({},a,{horizontalPoints:w})),b.createElement(gie,$i({},a,{verticalPoints:j})),b.createElement(hie,$i({},a,{offset:n,horizontalPoints:w,xAxis:y,yAxis:v})),b.createElement(mie,$i({},a,{offset:n,verticalPoints:j,xAxis:y,yAxis:v}))))}$l.displayName="CartesianGrid";var zD=(e,t,r,n)=>Vn(e,"xAxis",t,n),FD=(e,t,r,n)=>Un(e,"xAxis",t,n),BD=(e,t,r,n)=>Vn(e,"yAxis",r,n),UD=(e,t,r,n)=>Un(e,"yAxis",r,n),bie=W([Ee,zD,BD,FD,UD],(e,t,r,n,a)=>bi(e,"xAxis")?zo(t,n,!1):zo(r,a,!1)),wie=(e,t,r,n,a)=>a;function jie(e){return e.type==="line"}var kie=W([Pu,wie],(e,t)=>e.filter(jie).find(r=>r.id===t)),Nie=W([Ee,zD,BD,FD,UD,kie,bie,Su],(e,t,r,n,a,i,s,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return Wie({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:m})}});function _ie(e){var t=Jo(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,s=Number(a),o=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var Sie=["id"],Eie=["type","layout","connectNulls","needClip","shape"],Pie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zc.apply(null,arguments)}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){Cie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cie(e,t,r){return(t=Oie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nw(e,t){if(e==null)return{};var r,n,a=Tie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mie=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:el(r,t),payload:e}]},Iie=b.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:el(s,t),hide:o,type:u,color:n,unit:c}};return b.createElement(pw,{tooltipEntrySettings:d})}),VD=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Die(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Rie=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return VD(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){o=[...r.slice(0,c),i-u];break}var d=o.length%2===0?[0,s]:[s];return[...Die(r,a),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function Lie(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n,{id:o}=n,c=Nw(n,Sie),u=Cr(c);return b.createElement(ire,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:s,clipPathId:t})}function $ie(e){var{showLabels:t,children:r,points:n}=e,a=b.useMemo(()=>n==null?void 0:n.map(i=>{var s,o,c={x:(s=i.x)!==null&&s!==void 0?s:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Tn(Tn({},c),{},{value:i.value,payload:i.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return b.createElement(lw,{value:t?a:void 0},r)}function mS(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:o,connectNulls:c,needClip:u,shape:d}=i,f=Nw(i,Eie),h=Tn(Tn({},Ut(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return b.createElement(b.Fragment,null,(n==null?void 0:n.length)>1&&b.createElement(Oh,zc({shapeType:"curve",option:d},h,{pathRef:r})),b.createElement(Lie,{points:n,clipPathId:t,props:i}))}function zie(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Fie(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:y,onAnimationStart:v}=r,g=a.current,x=ju(s,"recharts-line-"),w=b.useRef(x),[j,k]=b.useState(!1),_=!j,N=b.useCallback(()=>{typeof y=="function"&&y(),k(!1)},[y]),S=b.useCallback(()=>{typeof v=="function"&&v(),k(!0)},[v]),E=zie(n.current),T=b.useRef(0);w.current!==x&&(T.current=i.current,w.current=x);var O=T.current;return b.createElement($ie,{points:s,showLabels:_},r.children,b.createElement(wu,{animationId:x,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:S,key:x},C=>{var L=De(O,E+O,C),P=Math.min(L,E),D;if(c)if(o){var I="".concat(o).split(/[,\s]+/gim).map(M=>parseFloat(M));D=Rie(P,E,I)}else D=VD(E,P);else D=o==null?void 0:String(o);if(C>0&&E>0&&(a.current=s,i.current=Math.max(i.current,P)),g){var R=g.length/s.length,A=C===1?s:s.map((M,z)=>{var V=Math.floor(z*R);if(g[V]){var B=g[V];return Tn(Tn({},M),{},{x:De(B.x,M.x,C),y:De(B.y,M.y,C)})}return h?Tn(Tn({},M),{},{x:De(m*2,M.x,C),y:De(p/2,M.y,C)}):Tn(Tn({},M),{},{x:M.x,y:M.y})});return a.current=A,b.createElement(mS,{props:r,points:A,clipPathId:t,pathRef:n,strokeDasharray:D})}return b.createElement(mS,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:D})}),b.createElement(cw,{label:r.label}))}function Bie(e){var{clipPathId:t,props:r}=e,n=b.useRef(null),a=b.useRef(0),i=b.useRef(null);return b.createElement(Fie,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Uie=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Xe(e.payload,t)}};class Vie extends b.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:s,top:o,left:c,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=Se("recharts-line",a),y=f,{r:v,strokeWidth:g}=_ie(r),x=kD(r),w=v*2+g,j=h?"url(#clipPath-".concat(x?"":"dots-").concat(y,")"):void 0;return b.createElement(tr,{zIndex:m},b.createElement(St,{className:p},h&&b.createElement("defs",null,b.createElement(ww,{clipPathId:y,xAxisId:i,yAxisId:s}),!x&&b.createElement("clipPath",{id:"clipPath-dots-".concat(y)},b.createElement("rect",{x:c-w/2,y:o-w/2,width:u+w,height:d+w}))),b.createElement(bw,{xAxisId:i,yAxisId:s,data:n,dataPointFormatter:Uie,errorBarOffset:0},b.createElement(Bie,{props:this.props,clipPathId:y}))),b.createElement(_re,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:j}))}}var HD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:rt.line,type:"linear"};function Hie(e){var t=ct(e,HD),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:y}=t,v=Nw(t,Pie),{needClip:g}=vp(m,p),x=xw(),w=vu(),j=mt(),k=oe(T=>Nie(T,m,p,j,y));if(w!=="horizontal"&&w!=="vertical"||k==null||x==null)return null;var{height:_,width:N,x:S,y:E}=x;return b.createElement(Vie,zc({},v,{id:y,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:k,layout:w,height:_,width:N,left:S,top:E,needClip:g}))}function Wie(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var f=Xe(u,s);if(t==="horizontal"){var h=oh({axis:r,ticks:a,bandSize:o,entry:u,index:d}),m=Oe(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var p=Oe(f)?null:r.scale(f),y=oh({axis:n,ticks:i,bandSize:o,entry:u,index:d});return p==null||y==null?null:{x:p,y,value:f,payload:u}}).filter(Boolean)}function Kie(e){var t=ct(e,HD),r=mt();return b.createElement(yw,{id:t.id,type:"line"},n=>b.createElement(b.Fragment,null,b.createElement(gw,{legendPayload:Mie(t)}),b.createElement(Iie,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),b.createElement(vw,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),b.createElement(Hie,zc({},t,{id:n}))))}var sf=b.memo(Kie,$u);sf.displayName="Line";var qie=["option","isActive"];function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl.apply(null,arguments)}function Yie(e,t){if(e==null)return{};var r,n,a=Xie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gie(e){var{option:t,isActive:r}=e,n=Yie(e,qie);return typeof t=="string"?b.createElement(Oh,Zl({option:b.createElement(Em,Zl({type:t},n)),isActive:r,shapeType:"symbols"},n)):b.createElement(Oh,Zl({option:t,isActive:r,shapeType:"symbols"},n))}var Qie=(e,t,r,n,a,i,s)=>Vn(e,"xAxis",t,s),Zie=(e,t,r,n,a,i,s)=>Un(e,"xAxis",t,s),Jie=(e,t,r,n,a,i,s)=>Vn(e,"yAxis",r,s),ese=(e,t,r,n,a,i,s)=>Un(e,"yAxis",r,s),tse=(e,t,r,n)=>mZ(e,"zAxis",n,!1),rse=(e,t,r,n,a)=>a,nse=(e,t,r,n,a,i)=>i,ase=(e,t,r,n,a,i,s)=>Su(e,t,r,s),ise=W([Pu,rse],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),sse=W([ase,Qie,Zie,Jie,ese,tse,ise,nse],(e,t,r,n,a,i,s,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(s!=null){var f;if((s==null?void 0:s.data)!=null&&s.data.length>0?f=s.data:f=c==null?void 0:c.slice(u,d+1),!(f==null||t==null||n==null||r==null||a==null||(r==null?void 0:r.length)===0||(a==null?void 0:a.length)===0))return bse({displayedData:f,xAxis:t,yAxis:n,zAxis:i,scatterSettings:s,xAxisTicks:r,yAxisTicks:a,cells:o})}}),ose=["onMouseEnter","onClick","onMouseLeave"],lse=["id"],cse=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Z0(e,t){if(e==null)return{};var r,n,a=use(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function use(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vs.apply(null,arguments)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){dse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dse(e,t,r){return(t=fse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fse(e){var t=hse(e,"string");return typeof t=="symbol"?t:t+""}function hse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mse=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:el(r,t),payload:e}]},pse=b.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,tooltipType:c}=e,u={dataDefinedOnItem:r==null?void 0:r.map(d=>d.tooltipPayload),positions:r==null?void 0:r.map(d=>d.tooltipPosition),settings:{stroke:n,strokeWidth:a,fill:i,nameKey:void 0,dataKey:t,name:el(s,t),hide:o,type:c,color:i,unit:""}};return b.createElement(pw,{tooltipEntrySettings:u})});function gse(e){var{points:t,props:r}=e,{line:n,lineType:a,lineJointType:i}=r;if(!n)return null;var s=Cr(r),o=Jo(n),c,u;if(a==="joint")c=t.map(v=>{var g,x;return{x:(g=v.cx)!==null&&g!==void 0?g:null,y:(x=v.cy)!==null&&x!==void 0?x:null}});else if(a==="fitting"){var{xmin:d,xmax:f,a:h,b:m}=wH(t),p=v=>h*v+m;c=[{x:d,y:p(d)},{x:f,y:p(f)}]}var y=ur(ur(ur({},s),{},{fill:"none",stroke:s&&s.fill},o),{},{points:c});return b.isValidElement(n)?u=b.cloneElement(n,y):typeof n=="function"?u=n(y):u=b.createElement(cb,vs({},y,{type:i})),b.createElement(St,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function yse(e){var{showLabels:t,points:r,children:n}=e,a=tl(),i=b.useMemo(()=>r==null?void 0:r.map(s=>{var o,c,u={x:(o=s.x)!==null&&o!==void 0?o:0,y:(c=s.y)!==null&&c!==void 0?c:0,width:s.width,height:s.height,lowerWidth:s.width,upperWidth:s.width};return ur(ur({},u),{},{value:void 0,payload:s.payload,viewBox:u,parentViewBox:a,fill:void 0})}),[a,r]);return b.createElement(lw,{value:t?i:void 0},n)}function vse(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:a,dataKey:i}=r,s=oe(pi),{onMouseEnter:o,onClick:c,onMouseLeave:u}=r,d=Z0(r,ose),f=fw(o,r.dataKey),h=hw(u),m=mw(c,r.dataKey);if(!IH(t))return null;var{id:p}=r,y=Z0(r,lse),v=Cr(y);return b.createElement(b.Fragment,null,b.createElement(gse,{points:t,props:y}),t.map((g,x)=>{var w=a!=null&&a!==!1,j=w&&s===String(x),k=w&&j?a:n,_=ur(ur(ur({},v),g),{},{[uT]:x,[dT]:String(i)});return b.createElement(tr,{key:"symbol-".concat(g==null?void 0:g.cx,"-").concat(g==null?void 0:g.cy,"-").concat(g==null?void 0:g.size,"-").concat(x),zIndex:j?rt.activeDot:void 0},b.createElement(St,vs({className:"recharts-scatter-symbol"},hu(d,g,x),{onMouseEnter:f(g,x),onMouseLeave:h(g,x),onClick:m(g,x)}),b.createElement(Gie,vs({option:k,isActive:j},_))))}))}function xse(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:o}=r,c=t.current,u=ju(r,"recharts-scatter-"),[d,f]=b.useState(!1),h=b.useCallback(()=>{f(!1)},[]),m=b.useCallback(()=>{f(!0)},[]),p=!d;return b.createElement(yse,{showLabels:p,points:n},r.children,b.createElement(wu,{animationId:u,begin:i,duration:s,isActive:a,easing:o,onAnimationEnd:h,onAnimationStart:m,key:u},y=>{var v=y===1?n:n==null?void 0:n.map((g,x)=>{var w=c&&c[x];return w?ur(ur({},g),{},{cx:g.cx==null?void 0:De(w.cx,g.cx,y),cy:g.cy==null?void 0:De(w.cy,g.cy,y),size:De(w.size,g.size,y)}):ur(ur({},g),{},{size:De(0,g.size,y)})});return y>0&&(t.current=v),b.createElement(St,null,b.createElement(vse,{points:v,allOtherScatterProps:r,showLabels:p}))}),b.createElement(cw,{label:r.label}))}function bse(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:a,scatterSettings:i,xAxisTicks:s,yAxisTicks:o,cells:c}=e,u=Oe(r.dataKey)?i.dataKey:r.dataKey,d=Oe(n.dataKey)?i.dataKey:n.dataKey,f=a&&a.dataKey,h=a?a.range:HM.range,m=h&&h[0],p=r.scale.bandwidth?r.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((v,g)=>{var x=Xe(v,u),w=Xe(v,d),j=!Oe(f)&&Xe(v,f)||"-",k=[{name:Oe(r.dataKey)?i.name:r.name||String(r.dataKey),unit:r.unit||"",value:x,payload:v,dataKey:u,type:i.tooltipType},{name:Oe(n.dataKey)?i.name:n.name||String(n.dataKey),unit:n.unit||"",value:w,payload:v,dataKey:d,type:i.tooltipType}];j!=="-"&&k.push({name:a.name||a.dataKey,unit:a.unit||"",value:j,payload:v,dataKey:f,type:i.tooltipType});var _=oh({axis:r,ticks:s,bandSize:p,entry:v,index:g,dataKey:u}),N=oh({axis:n,ticks:o,bandSize:y,entry:v,index:g,dataKey:d}),S=j!=="-"?a.scale(j):m,E=Math.sqrt(Math.max(S,0)/Math.PI);return ur(ur({},v),{},{cx:_,cy:N,x:_==null?void 0:_-E,y:N==null?void 0:N-E,width:2*E,height:2*E,size:S,node:{x,y:w,z:j},tooltipPayload:k,tooltipPosition:{x:_,y:N},payload:v},c&&c[g]&&c[g].props)})}var wse=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Xe(e,t)});function jse(e){var{hide:t,points:r,className:n,needClip:a,xAxisId:i,yAxisId:s,id:o}=e,c=b.useRef(null);if(t)return null;var u=Se("recharts-scatter",n),d=o;return b.createElement(tr,{zIndex:e.zIndex},b.createElement(St,{className:u,clipPath:a?"url(#clipPath-".concat(d,")"):void 0,id:o},a&&b.createElement("defs",null,b.createElement(ww,{clipPathId:d,xAxisId:i,yAxisId:s})),b.createElement(bw,{xAxisId:i,yAxisId:s,data:r,dataPointFormatter:wse,errorBarOffset:0},b.createElement(St,{key:"recharts-scatter-symbols"},b.createElement(xse,{props:e,previousPointsRef:c})))))}var WD={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:rt.scatter};function kse(e){var t=ct(e,WD),{animationBegin:r,animationDuration:n,animationEasing:a,hide:i,isAnimationActive:s,legendType:o,lineJointType:c,lineType:u,shape:d,xAxisId:f,yAxisId:h,zAxisId:m}=t,p=Z0(t,cse),{needClip:y}=vp(f,h),v=b.useMemo(()=>jD(e.children,iw),[e.children]),g=mt(),x=oe(w=>sse(w,f,h,m,e.id,v,g));return y==null||x==null?null:b.createElement(b.Fragment,null,b.createElement(pse,{dataKey:e.dataKey,points:x,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),b.createElement(jse,vs({},p,{xAxisId:f,yAxisId:h,zAxisId:m,lineType:u,lineJointType:c,legendType:o,shape:d,hide:i,isAnimationActive:s,animationBegin:r,animationDuration:n,animationEasing:a,points:x,needClip:y})))}function Nse(e){var t=ct(e,WD),r=mt();return b.createElement(yw,{id:t.id,type:"scatter"},n=>b.createElement(b.Fragment,null,b.createElement(gw,{legendPayload:mse(t)}),b.createElement(vw,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),b.createElement(kse,vs({},t,{id:n}))))}var J0=b.memo(Nse,$u);J0.displayName="Scatter";var _se=["domain","range"],Sse=["domain","range"];function gS(e,t){if(e==null)return{};var r,n,a=Ese(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ese(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yS(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function KD(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=gS(e,_se),{domain:i,range:s}=t,o=gS(t,Sse);return!yS(r,i)||!yS(n,s)?!1:$u(a,o)}var Pse=["dangerouslySetInnerHTML","ticks"],Cse=["id"];function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(null,arguments)}function vS(e,t){if(e==null)return{};var r,n,a=Ose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ose(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ase(e){var t=Ke(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(ure(e)):r.current!==e&&t(dre({prev:r.current,next:e})),r.current=e},[e,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(fre(r.current)),r.current=null)},[t]),null}var Tse=e=>{var{xAxisId:t,className:r}=e,n=oe(nb),a=mt(),i="xAxis",s=oe(v=>mi(v,i,t,a)),o=oe(v=>NI(v,i,t,a)),c=oe(v=>bI(v,t)),u=oe(v=>lZ(v,t)),d=oe(v=>UM(v,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=vS(e,Pse),{id:p}=d,y=vS(d,Cse);return b.createElement(kw,ev({},m,y,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Se("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},Mse={allowDataOverflow:bt.allowDataOverflow,allowDecimals:bt.allowDecimals,allowDuplicatedCategory:bt.allowDuplicatedCategory,angle:bt.angle,axisLine:fa.axisLine,height:bt.height,hide:!1,includeHidden:bt.includeHidden,interval:bt.interval,minTickGap:bt.minTickGap,mirror:bt.mirror,orientation:bt.orientation,padding:bt.padding,reversed:bt.reversed,scale:bt.scale,tick:bt.tick,tickCount:bt.tickCount,tickLine:fa.tickLine,tickSize:fa.tickSize,type:bt.type,xAxisId:0},Ise=e=>{var t=ct(e,Mse);return b.createElement(b.Fragment,null,b.createElement(Ase,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(Tse,t))},zl=b.memo(Ise,KD);zl.displayName="XAxis";var Dse=["dangerouslySetInnerHTML","ticks"],Rse=["id"];function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(null,arguments)}function xS(e,t){if(e==null)return{};var r,n,a=Lse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $se(e){var t=Ke(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(hre(e)):r.current!==e&&t(mre({prev:r.current,next:e})),r.current=e},[e,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(pre(r.current)),r.current=null)},[t]),null}var zse=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=b.useRef(null),s=b.useRef(null),o=oe(nb),c=mt(),u=Ke(),d="yAxis",f=oe(k=>mi(k,d,t,c)),h=oe(k=>wI(k,t)),m=oe(k=>uZ(k,t)),p=oe(k=>NI(k,d,t,c)),y=oe(k=>VM(k,t));if(b.useLayoutEffect(()=>{if(!(n!=="auto"||!h||ow(a)||b.isValidElement(a)||y==null)){var k=i.current;if(k){var _=k.getCalculatedWidth();Math.round(h.width)!==Math.round(_)&&u(gre({id:t,width:_}))}}},[p,h,u,a,t,n,y]),h==null||m==null||y==null)return null;var{dangerouslySetInnerHTML:v,ticks:g}=e,x=xS(e,Dse),{id:w}=y,j=xS(y,Rse);return b.createElement(kw,tv({},x,j,{ref:i,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Se("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:p,axisType:d}))},Fse={allowDataOverflow:wt.allowDataOverflow,allowDecimals:wt.allowDecimals,allowDuplicatedCategory:wt.allowDuplicatedCategory,angle:wt.angle,axisLine:fa.axisLine,hide:!1,includeHidden:wt.includeHidden,interval:wt.interval,minTickGap:wt.minTickGap,mirror:wt.mirror,orientation:wt.orientation,padding:wt.padding,reversed:wt.reversed,scale:wt.scale,tick:wt.tick,tickCount:wt.tickCount,tickLine:fa.tickLine,tickSize:fa.tickSize,type:wt.type,width:wt.width,yAxisId:0},Bse=e=>{var t=ct(e,Fse);return b.createElement(b.Fragment,null,b.createElement($se,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement(zse,t))},Fl=b.memo(Bse,KD);Fl.displayName="YAxis";var Use=(e,t)=>t,_w=W([Use,Ee,FM,yt,FI,Oa,SJ,Et],MJ),Sw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},qD=Xr("mouseClick"),YD=gu();YD.startListening({actionCreator:qD,effect:(e,t)=>{var r=e.payload,n=_w(t.getState(),Sw(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(_Z({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var rv=Xr("mouseMove"),XD=gu(),Md=null;XD.startListening({actionCreator:rv,effect:(e,t)=>{var r=e.payload;Md!==null&&cancelAnimationFrame(Md);var n=Sw(r);Md=requestAnimationFrame(()=>{var a=t.getState(),i=Yb(a,a.tooltip.settings.shared);if(i==="axis"){var s=_w(a,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(TI({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(AI())}Md=null})}});var bS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},GD=gr({name:"rootProps",initialState:bS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:bS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Vse=GD.reducer,{updateOptions:Hse}=GD.actions,QD=gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Fce}=QD.actions,Wse=QD.reducer,ZD=Xr("keyDown"),JD=Xr("focus"),Ew=gu();Ew.startListening({actionCreator:ZD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Xb(a,ol(r),Ou(r),Du(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var c=Oa(r);if(i==="Enter"){var u=Sh(r,"axis","hover",String(a.index));t.dispatch(W0({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var d=pZ(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=o+h*f;if(!(c==null||m>=c.length||m<0)){var p=Sh(r,"axis","hover",String(m));t.dispatch(W0({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}}});Ew.startListening({actionCreator:JD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=Sh(r,"axis","hover",String(i));t.dispatch(W0({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var Lr=Xr("externalEvent"),e3=gu(),Og=new Map;e3.startListening({actionCreator:Lr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=Og.get(a);i!==void 0&&cancelAnimationFrame(i);var s=requestAnimationFrame(()=>{try{var o=t.getState(),c={activeCoordinate:uJ(o),activeDataKey:HI(o),activeIndex:pi(o),activeLabel:VI(o),activeTooltipIndex:pi(o),isTooltipActive:dJ(o)};r(c,n)}finally{Og.delete(a)}});Og.set(a,s)}}});var Kse=W([sl],e=>e.tooltipItemPayloads),qse=W([Kse,Mu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),t3=Xr("touchMove"),r3=gu();r3.startListening({actionCreator:t3,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Yb(n,n.tooltip.settings.shared);if(a==="axis"){var i=_w(n,Sw({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(TI({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(uT),d=(s=c.getAttribute(dT))!==null&&s!==void 0?s:void 0,f=qse(t.getState(),u,d);t.dispatch(OI({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var Yse=TA({brush:uae,cartesianAxis:yre,chartData:cee,errorBars:Lre,graphicalItems:Xte,layout:dK,legend:vq,options:aee,polarAxis:jte,polarOptions:Wse,referenceElements:wae,rootProps:Vse,tooltip:SZ,zIndex:qJ}),Xse=function(t){return RW({reducer:Yse,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([YD.middleware,XD.middleware,Ew.middleware,e3.middleware,r3.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(qA({type:"raf"}))},devTools:bu.devToolsEnabled})};function Gse(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=mt(),i=b.useRef(null);if(a)return r;i.current==null&&(i.current=Xse(t));var s=Kx;return b.createElement(dne,{context:s,store:i.current},r)}function Qse(e){var{layout:t,margin:r}=e,n=Ke(),a=mt();return b.useEffect(()=>{a||(n(lK(t)),n(oK(r)))},[n,a,t,r]),null}var Zse=b.memo(Qse,$u);function Jse(e){var t=Ke();return b.useEffect(()=>{t(Hse(e))},[t,e]),null}function wS(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=_D("".concat(n).concat(t)),i=Ke();return b.useLayoutEffect(()=>(i(WJ({zIndex:t,elementId:a,isPanorama:r})),()=>{i(KJ({zIndex:t,isPanorama:r}))}),[i,t,a,r]),b.createElement("g",{tabIndex:-1,id:a})}function jS(e){var{children:t,isPanorama:r}=e,n=oe(DJ);if(!n||n.length===0)return t;var a=n.filter(s=>s<0),i=n.filter(s=>s>0);return b.createElement(b.Fragment,null,a.map(s=>b.createElement(wS,{key:s,zIndex:s,isPanorama:r})),t,i.map(s=>b.createElement(wS,{key:s,zIndex:s,isPanorama:r})))}var eoe=["children"];function toe(e,t){if(e==null)return{};var r,n,a=roe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function roe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lh.apply(null,arguments)}var noe={width:"100%",height:"100%",display:"block"},aoe=b.forwardRef((e,t)=>{var r=ib(),n=sb(),a=PT();if(!Fn(r)||!Fn(n))return null;var{children:i,otherAttributes:s,title:o,desc:c}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=a?0:void 0,typeof s.role=="string"?d=s.role:d=a?"application":void 0),b.createElement(Ax,Lh({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:noe,ref:t}),i)}),ioe=e=>{var{children:t}=e,r=oe(Bm);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return b.createElement(Ax,{width:n,height:a,x:s,y:i},t)},kS=b.forwardRef((e,t)=>{var{children:r}=e,n=toe(e,eoe),a=mt();return a?b.createElement(ioe,null,b.createElement(jS,{isPanorama:!0},r)):b.createElement(aoe,Lh({ref:t},n),b.createElement(jS,{isPanorama:!1},r))});function soe(){var e=Ke(),[t,r]=b.useState(null),n=oe(CK);return b.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Fe(i)&&i!==n&&e(uK(i))}},[t,e,n]),r}function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ooe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(n){loe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function loe(e,t,r){return(t=coe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function coe(e){var t=uoe(e,"string");return typeof t=="symbol"?t:t+""}function uoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(null,arguments)}var doe=()=>(vee(),null);function $h(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var foe=b.forwardRef((e,t)=>{var r,n,a=b.useRef(null),[i,s]=b.useState({containerWidth:$h((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:$h((n=e.style)===null||n===void 0?void 0:n.height)}),o=b.useCallback((u,d)=>{s(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=b.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var h=p=>{var{width:y,height:v}=p[0].contentRect;o(y,v)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,o]);return b.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[o]),b.createElement(b.Fragment,null,b.createElement(Um,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",xs({ref:c},e)))}),hoe=b.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=b.useState({containerWidth:$h(r),containerHeight:$h(n)}),s=b.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=b.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[t,s]);return b.createElement(b.Fragment,null,b.createElement(Um,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",xs({ref:o},e)))}),moe=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return b.createElement(b.Fragment,null,b.createElement(Um,{width:r,height:n}),b.createElement("div",xs({ref:t},e)))}),poe=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return va(r)||va(n)?b.createElement(hoe,xs({},e,{ref:t})):b.createElement(moe,xs({},e,{ref:t}))});function goe(e){return e===!0?foe:poe}var yoe=b.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:y,style:v,width:g,responsive:x,dispatchTouchEvents:w=!0}=e,j=b.useRef(null),k=Ke(),[_,N]=b.useState(null),[S,E]=b.useState(null),T=soe(),O=ab(),C=(O==null?void 0:O.width)>0?O.width:g,L=(O==null?void 0:O.height)>0?O.height:a,P=b.useCallback(U=>{T(U),typeof t=="function"&&t(U),N(U),E(U),U!=null&&(j.current=U)},[T,t,N,E]),D=b.useCallback(U=>{k(qD(U)),k(Lr({handler:i,reactEvent:U}))},[k,i]),I=b.useCallback(U=>{k(rv(U)),k(Lr({handler:u,reactEvent:U}))},[k,u]),R=b.useCallback(U=>{k(AI()),k(Lr({handler:d,reactEvent:U}))},[k,d]),A=b.useCallback(U=>{k(rv(U)),k(Lr({handler:f,reactEvent:U}))},[k,f]),M=b.useCallback(()=>{k(JD())},[k]),z=b.useCallback(U=>{k(ZD(U.key))},[k]),V=b.useCallback(U=>{k(Lr({handler:s,reactEvent:U}))},[k,s]),B=b.useCallback(U=>{k(Lr({handler:o,reactEvent:U}))},[k,o]),X=b.useCallback(U=>{k(Lr({handler:c,reactEvent:U}))},[k,c]),q=b.useCallback(U=>{k(Lr({handler:h,reactEvent:U}))},[k,h]),J=b.useCallback(U=>{k(Lr({handler:y,reactEvent:U}))},[k,y]),ce=b.useCallback(U=>{w&&k(t3(U)),k(Lr({handler:p,reactEvent:U}))},[k,w,p]),te=b.useCallback(U=>{k(Lr({handler:m,reactEvent:U}))},[k,m]),Q=goe(x);return b.createElement(QI.Provider,{value:_},b.createElement(RO.Provider,{value:S},b.createElement(Q,{width:C??(v==null?void 0:v.width),height:L??(v==null?void 0:v.height),className:Se("recharts-wrapper",n),style:ooe({position:"relative",cursor:"default",width:C,height:L},v),onClick:D,onContextMenu:V,onDoubleClick:B,onFocus:M,onKeyDown:z,onMouseDown:X,onMouseEnter:I,onMouseLeave:R,onMouseMove:A,onMouseUp:q,onTouchEnd:te,onTouchMove:ce,onTouchStart:J,ref:P},b.createElement(doe,null),r)))}),voe=["width","height","responsive","children","className","style","compact","title","desc"];function xoe(e,t){if(e==null)return{};var r,n,a=boe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function boe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var woe=b.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:s,style:o,compact:c,title:u,desc:d}=e,f=xoe(e,voe),h=Cr(f);return c?b.createElement(b.Fragment,null,b.createElement(Um,{width:r,height:n}),b.createElement(kS,{otherAttributes:h,title:u,desc:d},i)):b.createElement(yoe,{className:s,style:o,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(kS,{otherAttributes:h,title:u,desc:d,ref:t},b.createElement(jae,null,i)))});function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nv.apply(null,arguments)}var joe={top:5,right:5,bottom:5,left:5},koe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:joe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Pw=b.forwardRef(function(t,r){var n,a=ct(t.categoricalChartProps,koe),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return b.createElement(Gse,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},b.createElement(cae,{chartData:u.data}),b.createElement(Zse,{layout:a.layout,margin:a.margin}),b.createElement(Jse,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(woe,nv({},a,{ref:r})))}),Noe=["axis"],_oe=b.forwardRef((e,t)=>b.createElement(Pw,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Noe,tooltipPayloadSearcher:aw,categoricalChartProps:e,ref:t})),Soe=["axis","item"],Eoe=b.forwardRef((e,t)=>b.createElement(Pw,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Soe,tooltipPayloadSearcher:aw,categoricalChartProps:e,ref:t})),Poe=["item"],_S=b.forwardRef((e,t)=>b.createElement(Pw,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Poe,tooltipPayloadSearcher:aw,categoricalChartProps:e,ref:t}));const of={deploy:async e=>(await ut.post(`/deployment/deploy/${e}`)).data,getActive:async()=>(await ut.get("/deployment/active")).data,deactivate:async()=>{await ut.post("/deployment/deactivate")},predict:async e=>(await ut.post("/deployment/predict",{data:e})).data},Coe=()=>{var ne,ue;const{jobs:e,fetchJobs:t}=Zo(),[r,n]=b.useState([]),[a,i]=b.useState("all"),[s,o]=b.useState([]),[c,u]=b.useState("all"),[d,f]=b.useState(null),[h,m]=b.useState(!0),[p,y]=b.useState(!0),[v,g]=b.useState(!0),[x,w]=b.useState(!0),[j,k]=b.useState(!0),[_,N]=b.useState("charts"),[S,E]=b.useState(null),[T,O]=b.useState(!1),[C,L]=b.useState(null),[P,D]=b.useState(null),[I,R]=b.useState(null);b.useEffect(()=>{t(),A()},[t]),b.useEffect(()=>{var F,Y,ie,he;((he=(ie=(Y=(F=S==null?void 0:S.splits)==null?void 0:F.train)==null?void 0:Y.y_proba)==null?void 0:ie.classes)==null?void 0:he.length)>0&&R(S.splits.train.y_proba.classes[0])},[S]);const A=async()=>{try{const F=await ut.get("/pipeline/datasets/list");o(F.data)}catch(F){console.error("Failed to fetch datasets",F)}},M=async(F,Y)=>{if(F.stopPropagation(),!!confirm("Are you sure you want to deploy this model to production?"))try{await of.deploy(Y),alert("Model deployed successfully!")}catch(ie){alert("Failed to deploy model"),console.error(ie)}},z=async F=>{var Y,ie;O(!0),E(null),L(null),D(F);try{const he=await ut.get(`/pipeline/jobs/${F}/evaluation`);E(he.data)}catch(he){console.error("Failed to fetch evaluation data",he),L(((ie=(Y=he.response)==null?void 0:Y.data)==null?void 0:ie.detail)||"Failed to fetch evaluation data")}finally{O(!1)}},V=(F,Y)=>{const ie=Array.from(new Set([...F,...Y])).sort(),he=ie.map(je=>ie.map(_e=>F.reduce((Vt,rr,yr)=>{const Ir=Y[yr];return rr===je&&Ir===_e?Vt+1:Vt},0)));return{classes:ie,matrix:he}},B=(F,Y,ie)=>{if(!Y||!Y.values)return null;const he=Y.classes.indexOf(ie);if(he===-1)return null;const _e=Y.values.map(xt=>xt[he]).map((xt,Yn)=>({score:xt,actual:F[Yn]===ie?1:0}));_e.sort((xt,Yn)=>Yn.score-xt.score);const Vt=[];let rr=0,yr=0;const Ir=_e.filter(xt=>xt.actual===1).length,Nn=_e.length-Ir;if(Ir===0||Nn===0)return null;Vt.push({fpr:0,tpr:0});for(let xt=0;xt<_e.length;xt++)_e[xt].actual===1?rr++:yr++,Vt.push({fpr:yr/Nn,tpr:rr/Ir});return Vt};b.useEffect(()=>{_==="evaluation"&&(!P&&r.length>0||P&&!r.includes(P)&&r.length>0?z(r[0]):r.length===0&&(E(null),D(null)))},[_,r,P]);const X=e.filter(F=>{const Y=a==="all"||F.job_type===a,ie=c==="all"||F.dataset_id===c;return Y&&ie}),q=e.filter(F=>r.includes(F.job_id)),J=F=>{n(Y=>Y.includes(F)?Y.filter(ie=>ie!==F):[...Y,F])},ce=q.map(F=>{var ie;const Y=F.metrics||((ie=F.result)==null?void 0:ie.metrics)||{};return{name:F.job_id.slice(0,8),...Y}}),te=Array.from(new Set(q.flatMap(F=>{var ie;const Y=F.metrics||((ie=F.result)==null?void 0:ie.metrics)||{};return Object.keys(Y).filter(he=>{const je=Y[he];return typeof je=="number"&&!isNaN(je)})}))).filter(F=>!(F.startsWith("train_")&&!h||F.startsWith("test_")&&!p||F.startsWith("val_")&&!v)),Q=(F,Y)=>{if(!F||!Y)return"-";const ie=new Date(Y).getTime()-new Date(F).getTime(),he=Math.floor(ie/1e3);return he<60?`${he}s`:`${Math.floor(he/60)}m ${he%60}s`},U=F=>F==="best_score"?{type:"val",base:"best_score"}:F.startsWith("train_")?{type:"train",base:F.replace("train_","")}:F.startsWith("test_")?{type:"test",base:F.replace("test_","")}:F.startsWith("val_")?{type:"val",base:F.replace("val_","")}:{type:"other",base:F},Z=new Map;te.forEach(F=>{const{base:Y}=U(F);Z.has(Y)||Z.set(Y,[]),Z.get(Y).push(F)}),Z.forEach((F,Y)=>{Z.set(Y,F.sort())});const ee=Array.from(Z.keys()).sort(),H=d&&ee.includes(d)?d:ee[0]||null;return l.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Experiments & Comparison"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Compare metrics and parameters across multiple runs"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:c,onChange:F=>u(F.target.value),children:[l.jsx("option",{value:"all",children:"All Datasets"}),s.map(F=>l.jsx("option",{value:F.id,children:F.name},F.id))]}),l.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:a,onChange:F=>i(F.target.value),children:[l.jsx("option",{value:"all",children:"All Experiments"}),l.jsx("option",{value:"tuning",children:"Model Optimization"}),l.jsx("option",{value:"training",children:"Standard Training"})]})]})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsxs("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col",children:[l.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 text-xs font-medium text-gray-500 uppercase",children:["Select Runs to Compare (",r.length,")"]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:X.map(F=>{var Y,ie;return l.jsxs("div",{onClick:()=>J(F.job_id),className:`p-3 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${r.includes(F.job_id)?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"border-l-4 border-l-transparent"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("span",{className:"font-mono text-xs font-semibold text-gray-700 dark:text-gray-300",children:F.job_id.slice(0,8)}),l.jsxs("div",{className:"flex items-center gap-2",children:[F.status==="completed"&&(F.job_type==="training"||F.job_type==="tuning")&&l.jsx("button",{onClick:he=>M(he,F.job_id),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600 dark:text-blue-400",title:"Deploy to Test",children:l.jsx(iO,{className:"w-3 h-3"})}),l.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded capitalize ${F.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":F.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:F.status})]})]}),l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[F.model_type,"  ",F.dataset_name||"Unknown Dataset",F.job_type==="tuning"&&((ie=(Y=F.config)==null?void 0:Y.tuning)==null?void 0:ie.strategy)&&l.jsxs("span",{className:"ml-1 text-gray-400",children:["(",F.config.tuning.strategy,")"]})]}),l.jsxs("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:[l.jsx("span",{children:new Date(F.start_time||F.created_at).toLocaleString()}),l.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300",children:Q(F.start_time,F.end_time)})]})]},F.job_id)})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:q.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[l.jsx(nO,{className:"w-12 h-12 mb-4 opacity-20"}),l.jsx("p",{children:"Select runs from the sidebar to compare them."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[l.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${_==="charts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>N("charts"),children:"Visual Comparison"}),l.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${_==="table"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>N("table"),children:"Detailed Metrics & Params"}),l.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${_==="evaluation"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>N("evaluation"),children:"Model Evaluation"})]}),_==="charts"&&l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Metrics Comparison"}),l.jsxs("div",{className:"flex gap-4 text-sm",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:h,onChange:F=>m(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:p,onChange:F=>y(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:v,onChange:F=>g(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]})]}),ee.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:ee.map(F=>l.jsx("button",{onClick:()=>f(F),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${H===F?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:F.toUpperCase()},F))}),H&&Z.has(H)&&l.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:l.jsx("div",{className:"h-[300px] w-full",children:l.jsx(kd,{width:"100%",height:"100%",children:l.jsxs(Eoe,{data:ce,margin:{top:5,right:30,left:20,bottom:5},children:[l.jsx($l,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),l.jsx(zl,{dataKey:"name",stroke:"#6B7280",fontSize:12}),l.jsx(Fl,{stroke:"#6B7280",fontSize:12}),l.jsx(Od,{shared:!1,cursor:{fill:"rgba(107, 114, 128, 0.1)"},contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"}}),l.jsx(ET,{}),Z.get(H).map(F=>{const{type:Y}=U(F);let ie="#8884d8";return Y==="train"&&(ie="#3b82f6"),Y==="test"&&(ie="#22c55e"),Y==="val"&&(ie="#f97316"),Y==="other"&&(ie="#a855f7"),l.jsx(OD,{dataKey:F,fill:ie,name:`${Y} (${H})`},F)})]})})})})]}),_==="table"&&l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in duration-300",children:[l.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Detailed Comparison"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-xs text-left",children:[l.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-900/50 dark:text-gray-400",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2",children:"Parameter / Metric"}),q.map(F=>l.jsx("th",{className:"px-4 py-2 font-mono",children:F.job_id.slice(0,8)},F.job_id))]})}),l.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[l.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100",children:"Model Type"}),q.map(F=>l.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:F.model_type},F.job_id))]}),l.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>w(!x),children:l.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:q.length+1,children:[x?l.jsx(Gt,{className:"w-3 h-3"}):l.jsx(fs,{className:"w-3 h-3"}),"Key Metrics"]})}),x&&te.map(F=>l.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[l.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:F}),q.map(Y=>{var je;const he=(Y.metrics||((je=Y.result)==null?void 0:je.metrics)||{})[F];return l.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:typeof he=="number"?he.toFixed(4):"-"},Y.job_id)})]},F)),l.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>k(!j),children:l.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:q.length+1,children:[j?l.jsx(Gt,{className:"w-3 h-3"}):l.jsx(fs,{className:"w-3 h-3"}),"Hyperparameters"]})}),j&&Array.from(new Set(q.flatMap(F=>Object.keys(F.hyperparameters||{})))).map(F=>l.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[l.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:F}),q.map(Y=>{var ie;return l.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:String(((ie=Y.hyperparameters)==null?void 0:ie[F])??"-")},Y.job_id)})]},F))]})]})})]}),_==="evaluation"&&l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[r.length>1&&l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:r.map(F=>l.jsx("button",{onClick:()=>z(F),className:`px-3 py-1 text-xs font-mono rounded border ${P===F?"bg-blue-100 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700 dark:text-blue-300":"bg-white border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"}`,children:F.slice(0,8)},F))}),T?l.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400",children:[l.jsx(Qr,{className:"w-6 h-6 animate-spin mr-2"}),"Loading evaluation data..."]}):C?l.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[l.jsx("p",{className:"font-medium",children:"Error loading evaluation data"}),l.jsx("p",{className:"text-sm mt-2 opacity-80",children:C})]}):S?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex gap-4 text-sm",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:h,onChange:F=>m(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:p,onChange:F=>y(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:v,onChange:F=>g(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]}),S.problem_type==="classification"&&((ue=(ne=S.splits)==null?void 0:ne.train)==null?void 0:ue.y_proba)&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Target Class (ROC):"}),l.jsx("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-1.5",value:I||"",onChange:F=>R(F.target.value),children:S.splits.train.y_proba.classes.map(F=>l.jsx("option",{value:F,children:F},F))})]})]}),l.jsx("div",{className:"flex flex-col gap-6",children:Object.entries(S.splits||{}).filter(([F])=>!(F==="train"&&!h||F==="test"&&!p||F==="validation"&&!v)).map(([F,Y])=>{const ie=Y.y_true.map((he,je)=>({x:he,y:Y.y_pred[je]}));return l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4 capitalize",children:[F," Set"]}),S.problem_type==="regression"?l.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[l.jsxs("div",{className:"h-[300px]",children:[l.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Actual vs Predicted"}),l.jsx(kd,{width:"100%",height:"100%",children:l.jsxs(_S,{margin:{top:20,right:20,bottom:20,left:20},children:[l.jsx($l,{strokeDasharray:"3 3",opacity:.2}),l.jsx(zl,{type:"number",dataKey:"x",name:"Actual",unit:"",label:{value:"Actual Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),l.jsx(Fl,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),l.jsx(Od,{cursor:{strokeDasharray:"3 3"},content:({active:he,payload:je})=>{if(he&&je&&je.length){const _e=je[0].payload;return l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[l.jsxs("p",{className:"font-medium",children:["Actual: ",_e.x.toFixed(4)]}),l.jsxs("p",{className:"font-medium",children:["Predicted: ",_e.y.toFixed(4)]}),l.jsxs("p",{className:"text-gray-500",children:["Error: ",(_e.y-_e.x).toFixed(4)]})]})}return null}}),l.jsx(sf,{dataKey:"x",stroke:"#ccc",strokeDasharray:"3 3",dot:!1,activeDot:!1,legendType:"none",isAnimationActive:!1}),l.jsx(J0,{name:"Predictions",data:ie,fill:"#8884d8",fillOpacity:.6})]})})]}),l.jsxs("div",{className:"h-[300px]",children:[l.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Residuals vs Predicted"}),l.jsx(kd,{width:"100%",height:"100%",children:l.jsxs(_S,{margin:{top:20,right:20,bottom:20,left:20},children:[l.jsx($l,{strokeDasharray:"3 3",opacity:.2}),l.jsx(zl,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),l.jsx(Fl,{type:"number",dataKey:"residual",name:"Residual",unit:"",label:{value:"Residuals (Actual - Predicted)",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),l.jsx(Od,{cursor:{strokeDasharray:"3 3"},content:({active:he,payload:je})=>{if(he&&je&&je.length){const _e=je[0].payload;return l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[l.jsxs("p",{className:"font-medium",children:["Predicted: ",_e.y.toFixed(4)]}),l.jsxs("p",{className:"font-medium",children:["Residual: ",_e.residual.toFixed(4)]})]})}return null}}),l.jsx(RD,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),l.jsx(J0,{name:"Residuals",data:ie.map(he=>({...he,residual:he.x-he.y})),fill:"#82ca9d",fillOpacity:.6})]})})]})]}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{className:"h-[300px] flex flex-col items-center justify-center",children:(()=>{const{classes:he,matrix:je}=V(Y.y_true,Y.y_pred);return l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-8"})," ",l.jsxs("div",{className:"flex ml-2",children:[" ",he.map(_e=>l.jsxs("div",{className:"w-16 text-center text-xs font-medium text-gray-500 dark:text-gray-400 pb-2",children:["Pred ",_e]},_e))]})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex flex-col justify-center mr-2",children:he.map(_e=>l.jsxs("div",{className:"h-16 flex items-center justify-end text-xs font-medium text-gray-500 dark:text-gray-400 pr-2",children:["True ",_e]},_e))}),l.jsx("div",{className:"border border-gray-200 dark:border-gray-700",children:je.map((_e,Vt)=>l.jsx("div",{className:"flex",children:_e.map((rr,yr)=>{const Ir=Math.max(...je.flat()),Nn=Ir>0?rr/Ir:0;return l.jsx("div",{className:"w-16 h-16 flex items-center justify-center text-sm font-mono border border-gray-100 dark:border-gray-800",style:{backgroundColor:`rgba(59, 130, 246, ${Nn*.8+.1})`,color:Nn>.5?"white":"inherit"},title:`True: ${he[Vt]}, Pred: ${he[yr]}, Count: ${rr}`,children:rr},yr)})},Vt))})]}),l.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"Confusion Matrix"})]})})()}),Y.y_proba&&l.jsxs("div",{className:"h-[300px] w-full",children:[l.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"ROC Curve"}),(()=>{const he=B(Y.y_true,Y.y_proba,I);return he?l.jsx(kd,{width:"100%",height:"100%",children:l.jsxs(_oe,{data:he,margin:{top:5,right:20,bottom:20,left:20},children:[l.jsx($l,{strokeDasharray:"3 3",opacity:.1}),l.jsx(zl,{type:"number",dataKey:"fpr",domain:[0,1],label:{value:"False Positive Rate",position:"bottom",offset:0,fontSize:12}}),l.jsx(Fl,{type:"number",dataKey:"tpr",domain:[0,1],label:{value:"True Positive Rate",angle:-90,position:"left",fontSize:12}}),l.jsx(Od,{}),l.jsx(sf,{type:"monotone",dataKey:"tpr",stroke:"#8884d8",dot:!1,strokeWidth:2}),l.jsx(sf,{dataKey:"fpr",stroke:"#ccc",strokeDasharray:"3 3",dot:!1})]})}):l.jsx("div",{className:"text-center text-xs text-gray-400",children:"ROC not available (multiclass or missing proba)"})})()]})]})]},F)})})]}):l.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400 italic text-center",children:[l.jsx("p",{children:"Select a completed job to view evaluation details."}),l.jsx("p",{className:"text-xs mt-2 opacity-70",children:"(Note: Only jobs run after this update have evaluation artifacts)"})]})]})]})})]})]})},Ag="/data/api",Cw={getAll:async()=>{const e=await fetch(`${Ag}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getById:async e=>{const t=await fetch(`${Ag}/sources/${e}`);if(!t.ok)throw new Error("Failed to fetch dataset");return(await t.json()).source},getSample:async(e,t=1)=>{const r=await fetch(`${Ag}/sources/${e}/sample?limit=${t}`);if(!r.ok)throw new Error("Failed to fetch dataset sample");return(await r.json()).data}},Ooe=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(`[
  {
    "feature1": 0.5,
    "feature2": 1.2
  }
]`),[a,i]=b.useState(null),[s,o]=b.useState(!1),[c,u]=b.useState(null),[d,f]=b.useState(null);b.useEffect(()=>{h()},[]);const h=async()=>{var y;try{const v=await of.getActive();if(t(v),v&&v.job_id)try{const g=await kr.getJob(v.job_id);if(g.dataset_id){let x=null,w=[];try{const k=await fetch(`/ml-workflow/api/pipelines/${g.dataset_id}`);k.ok&&(((y=(await k.json()).graph)==null?void 0:y.nodes)||[]).forEach(S=>{var O,C;const E=((O=S.data)==null?void 0:O.catalogType)||S.type,T=((C=S.data)==null?void 0:C.config)||S.parameters||{};E==="train_test_split"&&T.target_column&&(x=T.target_column),E==="drop_missing_columns"&&Array.isArray(T.columns)&&w.push(...T.columns),E==="drop_column_recommendations"&&Array.isArray(T.columns)&&w.push(...T.columns),E==="drop_columns"&&Array.isArray(T.columns)&&w.push(...T.columns),E==="feature_selection"&&Array.isArray(T.dropped_columns)&&w.push(...T.dropped_columns)})}catch(k){console.warn("Failed to fetch pipeline for inference filtering",k)}const j=await Cw.getSample(g.dataset_id,1);if(j&&j.length>0){const k=j.map(N=>{const S={...N};return x&&x in S&&delete S[x],w.forEach(E=>{E in S&&delete S[E]}),S});n(JSON.stringify(k,null,2));const _=[];x&&_.push(`Target: ${x}`),w.length>0&&_.push(`Dropped: ${w.length} cols`),_.length>0&&f(`Auto-filtered: ${_.join(", ")}`)}}}catch(g){console.warn("Failed to fetch dataset sample for inference auto-fill",g)}}catch{t(null)}},m=async()=>{if(confirm("Are you sure you want to undeploy the current model?"))try{await of.deactivate(),t(null),i(null)}catch(y){console.error("Failed to deactivate",y)}},p=async()=>{o(!0),u(null),i(null);try{const y=JSON.parse(r);if(!Array.isArray(y))throw new Error("Input must be a JSON array of objects");const v=await of.predict(y);i(v.predictions)}catch(y){u(y.message||"Prediction failed")}finally{o(!1)}};return l.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 p-6 overflow-hidden",children:[l.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6 shrink-0",children:"Model Inference"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Input Data (JSON)"}),d&&l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded border border-amber-200 dark:border-amber-800",children:d}),l.jsx("span",{className:"text-[10px] text-gray-400 mt-1",children:"Please verify fields before running"})]})]}),l.jsx("textarea",{className:"flex-1 w-full p-4 font-mono text-sm bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none",value:r,onChange:y=>n(y.target.value),placeholder:'[{"col1": 1, "col2": "A"}]'}),l.jsx("div",{className:"mt-4 flex justify-end",children:l.jsx("button",{onClick:p,disabled:!e||s,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${!e||s?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-800 dark:text-gray-600":"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"}`,children:s?"Running...":l.jsxs(l.Fragment,{children:[l.jsx(mm,{className:"w-4 h-4"})," Run Prediction"]})})})]}),l.jsxs("div",{className:"flex flex-col gap-6 h-full min-h-0",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 shrink-0",children:[l.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(K7,{className:"w-5 h-5 text-blue-500"}),"Active Deployment"]}),e&&l.jsxs("button",{onClick:m,className:"flex items-center gap-1 text-xs px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50 transition-colors",title:"Undeploy Model",children:[l.jsx(v9,{className:"w-3 h-3"}),"Undeploy"]})]}),e?l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Model Type"}),l.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:e.model_type})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Job ID"}),l.jsx("div",{className:"font-mono text-sm text-gray-800 dark:text-gray-200",children:e.job_id.slice(0,8)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Deployed At"}),l.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:new Date(e.created_at).toLocaleDateString()})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),l.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-medium text-sm",children:[l.jsx(Ec,{className:"w-4 h-4"})," Active"]})]})]}):l.jsxs("div",{className:"text-gray-500 dark:text-gray-400 italic flex items-center gap-2",children:[l.jsx(fi,{className:"w-4 h-4"}),"No model is currently deployed. Go to Experiments page to deploy one."]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col flex-1 min-h-0",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Prediction Results"}),l.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4 overflow-auto",children:c?l.jsxs("div",{className:"text-red-600 dark:text-red-400 flex items-start gap-2",children:[l.jsx(fi,{className:"w-5 h-5 shrink-0 mt-0.5"}),l.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm",children:c})]}):a?l.jsx("div",{className:"space-y-2",children:a.map((y,v)=>l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-800 rounded border border-gray-100 dark:border-gray-700",children:[l.jsxs("span",{className:"text-xs text-gray-500 w-8",children:["#",v+1]}),l.jsx("span",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof y=="object"?JSON.stringify(y):String(y)})]},v))}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm italic",children:"Run a prediction to see results here..."})})]})]})]})]})},Aoe=()=>{const{activeView:e}=TO();return l.jsxs("div",{className:"flex h-screen w-full bg-background overflow-hidden flex-col",children:[l.jsx(SV,{}),l.jsx(_V,{}),e==="canvas"?l.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[l.jsx(A9,{}),l.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[l.jsx(kV,{}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(F9,{}),l.jsx(NV,{})]})]}),l.jsx(B9,{})]}):e==="experiments"?l.jsx(Coe,{}):l.jsx(Ooe,{})]})};function Toe(){const e=ge(t=>t.addNode);return b.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("source_id");r&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:r})},100)},[]),b.useEffect(()=>{},[]),l.jsx(Aoe,{})}const Moe=({config:e,onChange:t})=>l.jsxs("div",{className:"p-4 space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Debug Message"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:e.message,onChange:r=>t({...e,message:r.target.value})})]}),Ioe={type:"debug_node",label:"Debug Node",category:"Utility",description:"A simple node for testing the registry.",icon:Y7,inputs:[{id:"in",label:"Input",type:"any"}],outputs:[{id:"out",label:"Output",type:"any"}],component:({data:e})=>l.jsxs("div",{className:"text-xs",children:["Msg: ",l.jsx("span",{className:"font-mono",children:e.message||"..."})]}),settings:Moe,validate:e=>({isValid:e.message.length>0,message:e.message.length===0?"Message is required":void 0}),getDefaultConfig:()=>({message:"Hello World"})},Qe=e=>bL({queryKey:["dataset-schema",e],queryFn:()=>xV(e),enabled:!!e,staleTime:1e3*60*5}),Doe=({config:e,onChange:t})=>{const[r,n]=b.useState([]),[a,i]=b.useState(!1),{data:s,isLoading:o}=Qe(e.datasetId);b.useEffect(()=>{i(!0),Cw.getAll().then(n).catch(console.error).finally(()=>i(!1))},[]);const c=u=>{const d=u.target.value,f=r.find(h=>String(h.id)===d);t({...e,datasetId:d,datasetName:f==null?void 0:f.name})};return l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),a?l.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):l.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:c,children:[l.jsx("option",{value:"",children:"-- Select --"}),r.map(u=>l.jsx("option",{value:u.id,children:u.name},u.id))]})]}),e.datasetId&&l.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[l.jsx(S9,{size:14}),l.jsx("span",{children:"Dataset Schema"})]}),o?l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-xs text-left",children:[l.jsx("thead",{className:"bg-muted/20 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-2 font-medium border-b",children:"Column"}),l.jsx("th",{className:"p-2 font-medium border-b",children:"Type"}),l.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Missing"}),l.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Unique"})]})}),l.jsx("tbody",{children:Object.values(s.columns).map(u=>l.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[l.jsx("td",{className:"p-2 font-mono font-medium",children:u.name}),l.jsx("td",{className:"p-2 text-muted-foreground",children:u.dtype}),l.jsx("td",{className:"p-2 text-right text-muted-foreground",children:u.missing_count}),l.jsx("td",{className:"p-2 text-right text-muted-foreground",children:u.unique_count})]},u.name))})]})}),l.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):l.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},Roe=({data:e})=>{const[t,r]=b.useState(void 0);b.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&Cw.getById(e.datasetId).then(a=>r(a.name)).catch(()=>r(e.datasetId))},[e.datasetId,e.datasetName,t]);const n=e.datasetName||t||e.datasetId;return l.jsx("div",{className:"text-xs",children:e.datasetId?l.jsx("div",{className:"font-medium truncate max-w-[150px]",title:n,children:n||"Loading..."}):l.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},Loe={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:au,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:Doe,component:Roe,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},n3=(e,t,r,n=new Set)=>{var i;if(n.has(e.id))return;if(n.add(e.id),(i=e.data)!=null&&i.datasetId)return e.data.datasetId;const a=xi(e,t,r);for(const s of a){const o=n3(s,t,r,n);if(o)return o}},at=e=>{const t=ge(i=>i.nodes),r=ge(i=>i.edges),n=t.find(i=>i.id===e);return n?xi(n,t,r).map(i=>{const s=n3(i,t,r);return s&&!i.data.datasetId?{...i.data,datasetId:s}:i.data}):[]},ll=(e,t={})=>{var i;const n=(i=at(e).find(s=>s.datasetId))==null?void 0:i.datasetId,a=ge(s=>s.executionResult);return b.useMemo(()=>!n||!(a!=null&&a.recommendations)?[]:a.recommendations.filter(s=>{var o,c;if(t.types||t.suggestedNodeTypes){const u=(o=t.types)==null?void 0:o.includes(s.type),d=(c=t.suggestedNodeTypes)==null?void 0:c.includes(s.suggested_node_type);if(!u&&!d)return!1}return!(t.scope==="column"&&(!s.target_columns||s.target_columns.length===0))}),[a,n,t.types,t.suggestedNodeTypes,t.scope])},Ss=({recommendations:e,onApply:t,className:r=""})=>!e||e.length===0?null:l.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${r}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[l.jsx(aO,{className:"w-4 h-4"}),l.jsx("span",{children:"Recommendations"})]}),l.jsx("div",{className:"space-y-2",children:e.map(n=>l.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:n.type.replace("_"," ").toUpperCase()}),l.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:n.description}),n.reasoning&&l.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",n.reasoning]})]}),t&&l.jsx("button",{onClick:()=>t(n),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:l.jsx(Ec,{className:"w-5 h-5"})})]})},n.rule_id))})]}),$oe=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=at(r||"").find(_=>_.datasetId))==null?void 0:k.datasetId,{data:i,isLoading:s}=Qe(a),o=i?Object.values(i.columns).map(_=>_.name):[],c=ge(_=>_.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=b.useRef(null),[h,m]=b.useState(!1);b.useEffect(()=>{if(!f.current)return;const _=new ResizeObserver(N=>{for(const S of N)m(S.contentRect.width>450)});return _.observe(f.current),()=>_.disconnect()},[]);const p=ll(r||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),y=_=>{if(_.target_columns&&_.target_columns.length>0){const N=Array.from(new Set([...e.columns,..._.target_columns]));t({...e,columns:N})}},[v,g]=b.useState(""),x=b.useMemo(()=>o.filter(_=>_.toLowerCase().includes(v.toLowerCase())),[o,v]),w=()=>{t({...e,columns:x})},j=()=>{const _=e.columns.filter(N=>!x.includes(N));t({...e,columns:_})};return l.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&l.jsx("div",{className:"shrink-0",children:l.jsx(Ss,{recommendations:p,onApply:y})}),l.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),l.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),l.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),l.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:_=>t({...e,missing_threshold:parseInt(_.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),d&&d.dropped_columns_count!==void 0&&l.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(Qr,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),l.jsx("span",{className:"font-medium text-destructive",children:d.dropped_columns_count})]}),d.dropped_columns&&Array.isArray(d.dropped_columns)&&d.dropped_columns.length>0&&l.jsxs("div",{className:"pt-1 border-t mt-1",children:[l.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:d.dropped_columns.map(_=>l.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:_},_))})]})]})]})]}),l.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${h?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[l.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),l.jsx("div",{className:"relative group",children:l.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:v,onChange:_=>g(_.target.value)})}),l.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[l.jsx("button",{onClick:w,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),l.jsx("span",{className:"text-border",children:"|"}),l.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:o.length>0?x.length>0?l.jsx("div",{className:"space-y-0.5",children:x.map(_=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(_),onChange:N=>{const S=N.target.checked?[...e.columns,_]:e.columns.filter(E=>E!==_);t({...e,columns:S})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),l.jsx("span",{className:"truncate font-mono text-xs",title:_,children:_})]},_))}):l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',v,'"']}):l.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},zoe={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:ks,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:$oe,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},Foe=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=at(r||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:i,isLoading:s}=Qe(a),o=i?Object.values(i.columns).map(N=>N.name):[],c=ge(N=>N.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=b.useRef(null),[h,m]=b.useState(!1);b.useEffect(()=>{if(!f.current)return;const N=new ResizeObserver(S=>{for(const E of S)m(E.contentRect.width>450)});return N.observe(f.current),()=>N.disconnect()},[]);const p=ll(r||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),y=N=>{if(N.target_columns&&N.target_columns.length>0){const S=Array.from(new Set([...e.columns,...N.target_columns]));t({...e,columns:S})}},[v,g]=b.useState(""),x=b.useMemo(()=>o.filter(N=>N.toLowerCase().includes(v.toLowerCase())),[o,v]),w=()=>{t({...e,columns:x})},j=()=>{const N=e.columns.filter(S=>!x.includes(S));t({...e,columns:N})},k=()=>d?l.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),d.fill_values&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.fill_values).map(([N,S])=>l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),l.jsx("span",{className:"font-mono",children:typeof S=="number"?S.toFixed(4):String(S)})]},N))})]}),d.missing_counts&&l.jsxs("div",{className:"space-y-1 mt-2",children:[l.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.missing_counts).map(([N,S])=>l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),l.jsx("span",{className:"font-mono",children:String(S)})]},N))}),d.total_missing!==void 0&&l.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",l.jsx("span",{className:"font-mono font-medium",children:d.total_missing})]})]}),!d.fill_values&&!d.missing_counts&&(u==null?void 0:u.status)==="success"&&l.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return l.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&l.jsx("div",{className:"shrink-0",children:l.jsx(Ss,{recommendations:p,onApply:y})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:N=>t({...e,method:N.target.value}),children:[l.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),l.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),l.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:N=>t({...e,strategy:N.target.value}),children:[l.jsx("option",{value:"mean",children:"Mean (Average)"}),l.jsx("option",{value:"median",children:"Median (Middle Value)"}),l.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),l.jsx("option",{value:"constant",children:"Constant Value"})]}),l.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:N=>t({...e,fill_value:N.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),l.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:N=>t({...e,n_neighbors:parseInt(N.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:N=>t({...e,weights:N.target.value}),children:[l.jsx("option",{value:"uniform",children:"Uniform"}),l.jsx("option",{value:"distance",children:"Distance"})]}),l.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),l.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:N=>t({...e,max_iter:parseInt(N.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:N=>t({...e,estimator:N.target.value}),children:[l.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),l.jsx("option",{value:"decision_tree",children:"Decision Tree"}),l.jsx("option",{value:"extra_trees",children:"Extra Trees"}),l.jsx("option",{value:"knn",children:"KNN"})]}),l.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:N=>t({...e,random_state:parseInt(N.target.value)})})]})]}),h&&l.jsx(k,{})]}),l.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${h?"":"shrink-0"}`,children:[l.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:w,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),l.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),l.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:v,onChange:N=>g(N.target.value)})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:x.length>0?x.map(N=>l.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:S=>{const E=S.target.checked?[...e.columns,N]:e.columns.filter(T=>T!==N);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),l.jsx("span",{className:"truncate",title:N,children:N})]}),(d==null?void 0:d.missing_counts)&&d.missing_counts[N]!==void 0&&l.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${d.missing_counts[N]} missing values filled`,children:d.missing_counts[N]})]},N)):l.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:o.length===0?"No columns available":"No matches found"})})]}),!h&&l.jsx(k,{})]})]})},Boe={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:p9,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Foe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:(e.method==="simple"||!e.method)&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},Uoe=({config:e,onChange:t,nodeId:r})=>{var w;const a=(w=at(r||"").find(j=>j.datasetId))==null?void 0:w.datasetId,{data:i,isLoading:s}=Qe(a),o=ge(j=>j.executionResult),c=r?o==null?void 0:o.node_results[r]:null,u=b.useRef(null),[d,f]=b.useState(!1),[h,m]=b.useState("");b.useEffect(()=>{if(!u.current)return;const j=new ResizeObserver(k=>{for(const _ of k)f(_.contentRect.width>450)});return j.observe(u.current),()=>j.disconnect()},[]);const p=i?Object.values(i.columns).filter(j=>["int","float","number"].some(k=>{var _;return(_=j.dtype)==null?void 0:_.toLowerCase().includes(k)})).map(j=>j.name):[],y=p.filter(j=>j.toLowerCase().includes(h.toLowerCase())),v=()=>{t({...e,columns:y})},g=()=>{const j=e.columns.filter(k=>!y.includes(k));t({...e,columns:j})},x=()=>{if(!c||!c.metrics)return null;const j=c.metrics,k=j.columns;if(!k)return null;const _=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return l.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),l.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:_()})]}),l.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:k.map((N,S)=>{var T,O,C,L,P,D,I;let E="";if(e.method==="standard"){const R=(T=j.mean)==null?void 0:T[S],A=(O=j.scale)==null?void 0:O[S];typeof R=="number"&&(E=`=${R.toFixed(2)}, =${typeof A=="number"?A.toFixed(2):"-"}`)}else if(e.method==="minmax"){const R=(C=j.data_min)==null?void 0:C[S],A=(L=j.data_max)==null?void 0:L[S];typeof R=="number"&&(E=`Min=${R.toFixed(2)}, Max=${typeof A=="number"?A.toFixed(2):"-"}`)}else if(e.method==="robust"){const R=(P=j.center)==null?void 0:P[S],A=(D=j.scale)==null?void 0:D[S];typeof R=="number"&&(E=`Med=${R.toFixed(2)}, IQR=${typeof A=="number"?A.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const R=(I=j.max_abs)==null?void 0:I[S];typeof R=="number"&&(E=`MaxAbs=${R.toFixed(2)}`)}return l.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[l.jsx("span",{className:"truncate max-w-[100px] font-medium",title:N,children:N}),l.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:E})]},N)})})]})};return l.jsxs("div",{ref:u,className:`flex flex-col h-full w-full bg-background ${d?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${d?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${d?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:j=>t({...e,method:j.target.value}),children:[l.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),l.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),l.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),l.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),l.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&l.jsxs("div",{className:"space-y-2 border-t pt-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:j=>t({...e,with_mean:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{children:"Center Data (with_mean)"})]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:j=>t({...e,with_std:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&l.jsxs("div",{className:"space-y-2 border-t pt-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:j=>t({...e,feature_range_min:parseFloat(j.target.value)})}),l.jsx("span",{className:"text-muted-foreground",children:"-"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:j=>t({...e,feature_range_max:parseFloat(j.target.value)})})]})]}),e.method==="robust"&&l.jsxs("div",{className:"space-y-2 border-t pt-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:j=>t({...e,quantile_range_min:parseFloat(j.target.value)})}),l.jsx("span",{className:"text-muted-foreground",children:"-"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:j=>t({...e,quantile_range_max:parseFloat(j.target.value)})})]}),l.jsxs("div",{className:"space-y-2 mt-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:j=>t({...e,with_centering:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{children:"Center Data (Median)"})]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:j=>t({...e,with_scaling:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),d&&l.jsx(x,{})]}),l.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${d?"":"shrink-0"}`,children:[l.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:v,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),l.jsx("button",{onClick:g,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),l.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:h,onChange:j=>m(j.target.value)})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:y.length>0?y.map(j=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(j),onChange:k=>{const _=k.target.checked?[...e.columns,j]:e.columns.filter(N=>N!==j);t({...e,columns:_})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"truncate",title:j,children:j})]},j)):l.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:s?"Loading schema...":p.length===0?"No numeric columns found":"No matches found"})})]}),!d&&l.jsx(x,{})]})]})},Voe={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:w9,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:Uoe,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})};function a3(){const[e,t]=b.useState(null),[r,n]=b.useState({width:0,height:0}),a=b.useCallback(i=>{if(!i||i.length===0)return;const{width:s,height:o}=i[0].contentRect;n({width:s,height:o})},[]);return b.useEffect(()=>{if(!e)return;const i=new ResizeObserver(a);return i.observe(e),()=>i.disconnect()},[e,a]),[t,r]}const Hoe=({text:e})=>l.jsxs("div",{className:"group relative flex items-center",children:[l.jsx(rO,{className:"w-3 h-3 text-gray-400 cursor-help"}),l.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,l.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),Woe=({isOpen:e,onClose:t,modelType:r,onSelect:n})=>{const[a,i]=b.useState(r),[s,o]=b.useState([]),[c,u]=b.useState(!1),[d,f]=b.useState(null);b.useEffect(()=>{e&&i(r)},[e,r]);const h=b.useCallback(()=>{a&&(u(!0),f(null),kr.getTuningJobsForModel(a).then(m=>{o(m||[])}).catch(m=>{console.error("Failed to fetch jobs",m),f("Failed to load history.")}).finally(()=>u(!1)))},[a]);return b.useEffect(()=>{e&&h()},[e,h]),e?l.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),l.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:l.jsx(Qr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Select parameters for:"}),l.jsxs("select",{value:a,onChange:m=>i(m.target.value),className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-blue-500 outline-none",children:[l.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),l.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),l.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),l.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:l.jsx(pm,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),l.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:l.jsx(zn,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:c?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[l.jsx(Zi,{className:"w-8 h-8 animate-spin mb-2 text-blue-500"}),l.jsx("p",{className:"text-sm",children:"Loading history..."})]}):d?l.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[l.jsx(fi,{className:"w-8 h-8 mx-auto mb-2"}),l.jsx("p",{className:"text-sm",children:d}),l.jsx("button",{onClick:h,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):s.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[l.jsx(au,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),l.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):s.map(m=>{var p;return l.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-800 transition-all",children:l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",m.job_id.slice(0,8)]}),l.jsx("span",{className:"text-xs text-gray-400",children:m.end_time?new Date(m.end_time).toLocaleString():"Unknown Date"})]}),l.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[((p=m.result)==null?void 0:p.best_score)!==void 0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),l.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:m.result.best_score.toFixed(4)})]}),l.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[l.jsx(Wf,{className:"w-3 h-3"})," Model Ready"]})]})]}),l.jsxs("button",{onClick:()=>{var y;(y=m.result)!=null&&y.best_params&&(n({params:m.result.best_params,modelType:a}),t())},className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors flex items-center gap-1 shadow-sm shadow-blue-500/20",children:[l.jsx(Wf,{className:"w-3 h-3"}),"Apply"]})]})},m.job_id)})})]})]}):null},Koe=({value:e,type:t,onChange:r,step:n,min:a,max:i})=>{const[s,o]=b.useState("");b.useEffect(()=>{o(e===null?"None":(e==null?void 0:e.toString())??"")},[e]);const c=()=>{const u=s.trim();if(u.toLowerCase()==="none"){r(null);return}if(t==="number"){if(u==="")return;const d=Number(u);isNaN(d)?o(e===null?"None":(e==null?void 0:e.toString())??""):r(d)}else t==="boolean"?u.toLowerCase()==="true"?r(!0):u.toLowerCase()==="false"?r(!1):o((e==null?void 0:e.toString())??""):r(u)};return l.jsx("input",{type:"text",value:s,onChange:u=>o(u.target.value),onBlur:c,placeholder:e===null?"None":"",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",...t==="number"?{step:n,min:a,max:i}:{}})},qoe=({config:e,onChange:t,nodeId:r})=>{const[n,a]=b.useState([]),[i,s]=b.useState(!1),[o,c]=b.useState(!1),[u,d]=b.useState(()=>!sessionStorage.getItem("hide_info_model_training")),{toggleDrawer:f,setTab:h}=Zo(),m=at(r||""),p=ge(P=>P.nodes),y=ge(P=>P.edges),g=(P=>{var R,A,M,z;const D=new Set,I=[P];for(;I.length>0;){const V=I.shift();if(D.has(V))continue;D.add(V);const B=p.find(q=>q.id===V);if(!B)continue;if(V!==P){if((R=B.data)!=null&&R.datasetId)return B.data.datasetId;if((A=B.data)!=null&&A.dataset_id)return B.data.dataset_id;if((M=B.data)!=null&&M.config){const q=B.data.config;if(q.datasetId)return q.datasetId;if(q.dataset_id)return q.dataset_id}if((z=B.data)!=null&&z.params){const q=B.data.params;if(q.datasetId)return q.datasetId;if(q.dataset_id)return q.dataset_id}}const X=xi(B,p,y);for(const q of X)I.push(q.id)}})(r||""),{data:x}=Qe(g),w=x?Object.values(x.columns):[],[j,{width:k}]=a3(),_=k>450,[N,S]=b.useState("model"),[E,T]=b.useState(!1);b.useEffect(()=>{e.model_type&&(c(!0),kr.getHyperparameters(e.model_type).then(a).catch(console.error).finally(()=>c(!1)))},[e.model_type]),b.useEffect(()=>{var D;const P=(D=m.find(I=>I.target_column))==null?void 0:D.target_column;P&&e.target_column!==P&&t({...e,target_column:P})},[m,e.target_column]);const O=async()=>{if(r)try{const P=Cx(p,y);await kr.runPipeline({...P,target_node_id:r,job_type:"training"}),alert("Training job submitted successfully!"),h("training"),f(!0)}catch(P){console.error("Failed to submit training job:",P),alert("Failed to submit training job. Check console for details.")}},C=l.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:e.model_type,onChange:P=>t({...e,model_type:P.target.value,hyperparameters:{}}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[l.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),l.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),l.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),l.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]}),l.jsx(Gt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),w.length===0&&l.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[l.jsx(Nx,{className:"w-3 h-3"}),l.jsx("span",{children:"Connect a dataset node to see available columns"})]}),l.jsxs("div",{className:"relative",children:[w.length>0?l.jsxs("select",{value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[l.jsx("option",{value:"",children:"Select target..."}),w.map(P=>l.jsx("option",{value:P.name,children:P.name},P.name))]}):l.jsx("input",{type:"text",value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),w.length>0&&l.jsx(Gt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),l.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),l.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[l.jsxs("button",{onClick:()=>T(!E),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hm,{className:"w-4 h-4 text-blue-500"}),l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),l.jsx(fs,{className:`w-4 h-4 text-gray-400 transition-transform ${E?"rotate-90":""}`})]}),E&&l.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:P=>t({...e,cv_enabled:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&l.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),l.jsx("input",{type:"number",value:e.cv_folds??5,onChange:P=>t({...e,cv_folds:Number(P.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),l.jsxs("select",{value:e.cv_type??"k_fold",onChange:P=>t({...e,cv_type:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[l.jsx("option",{value:"k_fold",children:"K-Fold"}),l.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),l.jsx("option",{value:"time_series_split",children:"Time Series"}),l.jsx("option",{value:"shuffle_split",children:"Shuffle Split"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:P=>t({...e,cv_shuffle:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),L=()=>{const P=Object.keys(e.hyperparameters).length>0,D=I=>{if(I){const R={};n.forEach(A=>{R[A.name]=A.default}),t({...e,hyperparameters:R})}else t({...e,hyperparameters:{}})};return l.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[l.jsx(kx,{className:"w-4 h-4 text-blue-500"}),"Hyperparameters"]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("label",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2 cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",checked:P,onChange:I=>D(I.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Customize"]})})]}),P?l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex justify-end mb-2",children:l.jsxs("button",{onClick:()=>s(!0),className:"text-xs flex items-center gap-1.5 px-2 py-1 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:[l.jsx(ck,{className:"w-3 h-3"}),"Load Best"]})}),o?l.jsx("div",{className:"flex justify-center py-4",children:l.jsx(Zi,{className:"w-5 h-5 animate-spin text-blue-500"})}):n.map(I=>{var R;return l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:I.label}),I.description&&l.jsx(Hoe,{text:I.description})]}),I.type==="select"?l.jsx("select",{value:e.hyperparameters[I.name]??I.default,onChange:A=>t({...e,hyperparameters:{...e.hyperparameters,[I.name]:A.target.value}}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:(R=I.options)==null?void 0:R.map(A=>l.jsx("option",{value:A.value,children:A.label},A.value))}):l.jsx(Koe,{type:I.type,value:e.hyperparameters[I.name]??I.default,onChange:A=>t({...e,hyperparameters:{...e.hyperparameters,[I.name]:A}}),step:I.step,min:I.min,max:I.max})]},I.name)}),n.length===0&&!o&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic text-center py-4",children:"No parameters available."})]}):l.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-dashed border-gray-200 dark:border-gray-700",children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Using default hyperparameters."}),l.jsxs("button",{onClick:()=>s(!0),className:"mt-3 text-xs flex items-center gap-1.5 px-3 py-1.5 mx-auto bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded-md border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors shadow-sm",children:[l.jsx(ck,{className:"w-3 h-3"}),"Load Best Params"]})]})]})};return l.jsxs("div",{className:"flex flex-col h-full",ref:j,children:[u&&l.jsxs("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded text-xs text-blue-700 dark:text-blue-300 flex justify-between items-start gap-2",children:[l.jsx("span",{children:"Train a model using fixed parameters or defaults."}),l.jsx("button",{onClick:()=>{d(!1),sessionStorage.setItem("hide_info_model_training","true")},className:"text-blue-400 hover:text-blue-600 dark:hover:text-blue-200",children:l.jsx(zn,{className:"w-3 h-3"})})]}),l.jsx(Woe,{isOpen:i,onClose:()=>s(!1),modelType:e.model_type,onSelect:P=>{P.modelType&&P.modelType!==e.model_type?t({...e,model_type:P.modelType,hyperparameters:P.params}):t({...e,hyperparameters:P.params})}}),!_&&l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[l.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${N==="model"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>S("model"),children:"Configuration"}),l.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${N==="params"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>S("params"),children:"Hyperparameters"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:_?l.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[l.jsx("div",{className:"overflow-y-auto pr-2",children:C}),l.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:l.jsx(L,{})})]}):l.jsxs(l.Fragment,{children:[N==="model"&&C,N==="params"&&l.jsx(L,{})]})}),l.jsx("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:l.jsxs("button",{onClick:O,className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg shadow-purple-500/20 transition-all hover:shadow-purple-500/30 hover:-translate-y-0.5 active:translate-y-0",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)"},children:[l.jsx(mm,{className:"w-4 h-4 fill-current"}),l.jsx("span",{className:"text-sm font-semibold",children:"Start Training"})]})})]})},Yoe={type:"model_training",label:"Standard Training",category:"Modeling",description:"Train a model with fixed or default parameters.",icon:q7,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:qoe,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",hyperparameters:{},cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42})},Xoe=({text:e})=>l.jsxs("div",{className:"group relative flex items-center",children:[l.jsx(rO,{className:"w-3 h-3 text-gray-400 cursor-help"}),l.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,l.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),Goe=({def:e,value:t,onChange:r})=>{const[n,a]=b.useState(""),[i,s]=b.useState(null);b.useEffect(()=>{a(Array.isArray(t)?t.map(u=>u===null?"None":u).join(", "):"")},[t]);const o=u=>{if(!u.trim())return[];const d=u.split(",").map(h=>h.trim()).filter(h=>h!==""),f=[];for(const h of d){if(h.toLowerCase()==="none"){f.push(null);continue}if(e.type==="number"){const m=Number(h);if(isNaN(m))throw new Error(`"${h}" is not a valid number`);f.push(m)}else if(e.type==="boolean"){const m=h.toLowerCase();if(m==="true")f.push(!0);else if(m==="false")f.push(!1);else throw new Error(`"${h}" must be true or false`)}else f.push(h)}return f},c=()=>{try{const u=o(n);s(null),JSON.stringify(u)!==JSON.stringify(t)&&r(u)}catch(u){s(u.message)}};return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[e.label,e.description&&l.jsx(Xoe,{text:e.description})]}),l.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:e.type})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",className:`w-full border rounded px-2 py-1.5 text-sm font-mono bg-white dark:bg-gray-900 dark:text-gray-100 outline-none transition-all ${i?"border-red-500 focus:ring-2 focus:ring-red-500/20":"border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500"}`,placeholder:e.type==="select"?"e.g. lbfgs, liblinear":"e.g. 10, 50, 100",value:n,onChange:u=>{a(u.target.value),s(null)},onBlur:c}),e.type==="select"&&e.options&&l.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.options.map(u=>l.jsx("button",{onClick:()=>{const d=o(n),h=d.includes(u.value)?d.filter(m=>m!==u.value):[...d,u.value];r(h)},className:`text-[10px] px-1.5 py-0.5 rounded border transition-colors ${t.includes(u.value)?"bg-purple-100 border-purple-200 text-purple-700 dark:bg-purple-900/30 dark:border-purple-800 dark:text-purple-300":"bg-gray-50 border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:u.label},u.value))})]}),i&&l.jsxs("p",{className:"text-[10px] text-red-500 flex items-center gap-1",children:[l.jsx(fi,{className:"w-3 h-3"}),i]})]})},Qoe=({isOpen:e,onClose:t,modelType:r})=>{const[n,a]=b.useState(r),[i,s]=b.useState([]),[o,c]=b.useState(!1),[u,d]=b.useState(null);b.useEffect(()=>{e&&a(r)},[e,r]);const f=b.useCallback(()=>{n&&(c(!0),d(null),kr.getTuningJobsForModel(n).then(h=>{console.log("Fetched jobs for",n,h),s(h||[])}).catch(h=>{console.error("Failed to fetch jobs",h),d("Failed to load history.")}).finally(()=>c(!1)))},[n]);return b.useEffect(()=>{e&&f()},[e,f]),e?l.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),l.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:l.jsx(Qr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View parameters for:"}),l.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-purple-500 outline-none",children:[l.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),l.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),l.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),l.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:l.jsx(pm,{className:`w-4 h-4 ${o?"animate-spin":""}`})}),l.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:l.jsx(zn,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:o?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[l.jsx(Zi,{className:"w-8 h-8 animate-spin mb-2 text-purple-500"}),l.jsx("p",{className:"text-sm",children:"Loading history..."})]}):u?l.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[l.jsx(fi,{className:"w-8 h-8 mx-auto mb-2"}),l.jsx("p",{className:"text-sm",children:u}),l.jsx("button",{onClick:f,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):i.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[l.jsx(au,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),l.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):i.map(h=>{var m;return l.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-purple-200 dark:hover:border-purple-800 transition-all",children:l.jsx("div",{className:"flex justify-between items-start mb-3",children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",h.job_id.slice(0,8)]}),l.jsx("span",{className:"text-xs text-gray-400",children:h.end_time?new Date(h.end_time).toLocaleString():"Unknown Date"})]}),l.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[((m=h.result)==null?void 0:m.best_score)!==void 0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),l.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:h.result.best_score.toFixed(4)})]}),l.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[l.jsx(Wf,{className:"w-3 h-3"})," Model Ready"]})]})]})})},h.job_id)})})]})]}):null},Zoe=({config:e,onChange:t,nodeId:r})=>{const[n,a]=b.useState([]),[i,s]=b.useState(!1),[o,c]=b.useState(!1),[u,d]=b.useState("config"),[f,h]=b.useState(!1),[m,p]=b.useState(()=>!sessionStorage.getItem("hide_info_model_optimizer")),[y,{width:v}]=a3(),g=v>450,{toggleDrawer:x,setTab:w}=Zo(),j=at(r||""),k=ge(D=>D.nodes),_=ge(D=>D.edges),S=(D=>{var A,M,z,V;const I=new Set,R=[D];for(;R.length>0;){const B=R.shift();if(I.has(B))continue;I.add(B);const X=k.find(J=>J.id===B);if(!X)continue;if(B!==D){if((A=X.data)!=null&&A.datasetId)return X.data.datasetId;if((M=X.data)!=null&&M.dataset_id)return X.data.dataset_id;const J=X.data;if((z=J==null?void 0:J.config)!=null&&z.datasetId)return J.config.datasetId;if((V=J==null?void 0:J.config)!=null&&V.dataset_id)return J.config.dataset_id}const q=xi(X,k,_);for(const J of q)R.push(J.id)}})(r||""),{data:E}=Qe(S),T=E?Object.values(E.columns):[];b.useEffect(()=>{var I;const D=(I=j.find(R=>R.target_column))==null?void 0:I.target_column;D&&e.target_column!==D&&t({...e,target_column:D})},[j,e.target_column]);const O=b.useRef(null);b.useEffect(()=>{(async()=>{const I=e.model_type;if(!I)return;const R=I!==O.current;if(!(!R&&n.length>0)){s(!0);try{const A=await kr.getHyperparameters(I);if(a(A),R||Object.keys(e.search_space||{}).length===0){const M=await kr.getDefaultSearchSpace(I);t({...e,search_space:M||{}}),O.current=I}}catch(A){console.error("Failed to load model hyperparameters:",A)}finally{s(!1)}}})()},[e.model_type]);const C=async()=>{if(r)try{const D=Cx(k,_);await kr.runPipeline({...D,target_node_id:r,job_type:"tuning"}),alert("Tuning job submitted successfully!"),w("tuning"),x(!0)}catch(D){console.error("Failed to submit tuning job:",D),alert("Failed to submit tuning job.")}},L=l.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:e.model_type,onChange:D=>{O.current=null,t({...e,model_type:D.target.value,search_space:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[l.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),l.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),l.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),l.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]}),l.jsx(Gt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),T.length===0&&l.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[l.jsx(Nx,{className:"w-3 h-3"}),l.jsx("span",{children:"Connect a dataset node to see available columns"})]}),l.jsxs("div",{className:"relative",children:[T.length>0?l.jsxs("select",{value:e.target_column,onChange:D=>t({...e,target_column:D.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[l.jsx("option",{value:"",children:"Select target..."}),T.map(D=>l.jsx("option",{value:D.name,children:D.name},D.name))]}):l.jsx("input",{type:"text",value:e.target_column,onChange:D=>t({...e,target_column:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),T.length>0&&l.jsx(Gt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),l.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tuning Strategy"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Search Method"}),l.jsxs("select",{value:e.search_strategy??"random",onChange:D=>t({...e,search_strategy:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[l.jsx("option",{value:"random",children:"Random Search"}),l.jsx("option",{value:"grid",children:"Grid Search"}),l.jsx("option",{value:"halving_grid",children:"Successive Halving (Grid)"}),l.jsx("option",{value:"halving_random",children:"Successive Halving (Randomized)"}),l.jsx("option",{value:"optuna",children:"Optuna Search"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Metric"}),l.jsxs("select",{value:e.metric,onChange:D=>t({...e,metric:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[l.jsx("option",{value:"accuracy",children:"Accuracy"}),l.jsx("option",{value:"f1",children:"F1 Score"}),l.jsx("option",{value:"roc_auc",children:"ROC AUC"}),l.jsx("option",{value:"mse",children:"MSE"}),l.jsx("option",{value:"r2",children:"R2 Score"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Trials"}),l.jsx("input",{type:"number",value:e.n_trials,onChange:D=>t({...e,n_trials:Number(D.target.value)}),disabled:["grid","halving_grid"].includes(e.search_strategy),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 disabled:opacity-50",min:1})]})]})]}),l.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[l.jsxs("button",{onClick:()=>h(!f),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hm,{className:"w-4 h-4 text-purple-500"}),l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),l.jsx(fs,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-90":""}`})]}),f&&l.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:D=>t({...e,cv_enabled:D.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&l.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),l.jsx("input",{type:"number",value:e.cv_folds??5,onChange:D=>t({...e,cv_folds:Number(D.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),l.jsxs("select",{value:e.cv_type??"k_fold",onChange:D=>t({...e,cv_type:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[l.jsx("option",{value:"k_fold",children:"K-Fold"}),l.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),l.jsx("option",{value:"time_series_split",children:"Time Series"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:D=>t({...e,cv_shuffle:D.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),P=l.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[l.jsx(kx,{className:"w-4 h-4 text-purple-500"}),"Hyperparameters"]})}),i?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(Zi,{className:"w-6 h-6 animate-spin text-purple-500"})}):l.jsxs("div",{className:"space-y-3",children:[n.map(D=>{var I;return l.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:l.jsx(Goe,{def:D,value:((I=e.search_space)==null?void 0:I[D.name])||[],onChange:R=>{t({...e,search_space:{...e.search_space,[D.name]:R}})}})},`${e.model_type}-${D.name}`)}),n.length===0&&l.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hyperparameters available for this model."})]})]});return l.jsxs("div",{className:"flex flex-col h-full",ref:y,children:[m&&l.jsxs("div",{className:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded text-xs text-purple-700 dark:text-purple-300 flex justify-between items-start gap-2",children:[l.jsx("span",{children:"Automatically explore configurations to find the best performing model."}),l.jsx("button",{onClick:()=>{p(!1),sessionStorage.setItem("hide_info_model_optimizer","true")},className:"text-purple-400 hover:text-purple-600 dark:hover:text-purple-200",children:l.jsx(zn,{className:"w-3 h-3"})})]}),!g&&l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[l.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="config"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>d("config"),children:"Configuration"}),l.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="search_space"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>d("search_space"),children:"Search Space"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:g?l.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[l.jsx("div",{className:"overflow-y-auto pr-2",children:L}),l.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:P})]}):l.jsxs(l.Fragment,{children:[u==="config"&&L,u==="search_space"&&P]})}),l.jsxs("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:[l.jsxs("button",{onClick:C,className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg shadow-purple-500/20 transition-all hover:shadow-purple-500/30 hover:-translate-y-0.5 active:translate-y-0",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)"},children:[l.jsx(mm,{className:"w-4 h-4 fill-current"}),l.jsx("span",{className:"text-sm font-semibold",children:"Start Optimization"})]}),l.jsxs("button",{onClick:()=>c(!0),className:"text-xs text-gray-500 hover:text-purple-600 dark:text-gray-400 dark:hover:text-purple-400 flex items-center gap-1.5 transition-colors px-3 py-1 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800",children:[l.jsx(Qr,{className:"w-3.5 h-3.5"}),"View Best Parameters History"]})]}),l.jsx(Qoe,{isOpen:o,onClose:()=>c(!1),modelType:e.model_type})]})},Joe={type:"hyperparameter_tuning",label:"Train Model and Optimize",category:"Modeling",description:"Automatically optimize model performance.",icon:k9,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Best Model",type:"model"}],settings:Zoe,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",n_trials:10,metric:"accuracy",search_strategy:"random",cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42,random_state:42,search_space:{}})},ele=({config:e,onChange:t})=>{const r=["train","validation","test"],n=["accuracy","precision","recall","f1","roc_auc","mse","rmse","r2"],a=s=>{const o=e.splits.includes(s)?e.splits.filter(c=>c!==s):[...e.splits,s];t({...e,splits:o})},i=s=>{const o=e.metrics.includes(s)?e.metrics.filter(c=>c!==s):[...e.metrics,s];t({...e,metrics:o})};return l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Evaluation Splits"}),l.jsx("div",{className:"space-y-2",children:r.map(s=>l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.splits.includes(s),onChange:()=>a(s),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsxs("span",{className:"capitalize",children:[s," Set"]})]},s))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metrics to Track"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(s=>l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.metrics.includes(s),onChange:()=>i(s),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"uppercase",children:s.replace("_"," ")})]},s))})]})]})},tle={type:"model_evaluation",label:"Model Evaluation",category:"Evaluation",description:"Evaluate model performance on specific splits.",icon:hm,inputs:[{id:"model",label:"Trained Model",type:"model"}],outputs:[{id:"report",label:"Evaluation Report",type:"report"}],settings:ele,validate:e=>({isValid:e.splits.length>0,message:e.splits.length===0?"Select at least one split to evaluate":void 0}),getDefaultConfig:()=>({splits:["validation"],metrics:["accuracy","f1"]})},rle=({config:e,onChange:t,nodeId:r})=>{var j;const n=at(r||""),a=ge(k=>k.nodes),i=ge(k=>k.edges),s=ge(k=>k.executionResult),c=(k=>{var S;const _=new Set,N=[k];for(;N.length>0;){const E=N.shift();if(_.has(E))continue;_.add(E);const T=a.find(C=>C.id===E);if(!T)continue;if(E!==k&&((S=T.data)!=null&&S.datasetId))return T.data.datasetId;const O=xi(T,a,i);for(const C of O)N.push(C.id)}})(r||""),u=(j=n.find(k=>k.target_column))==null?void 0:j.target_column;b.useEffect(()=>{const k={};c&&e.datasetId!==c&&(k.datasetId=c),u&&e.target_column!==u&&(k.target_column=u),Object.keys(k).length>0&&t({...e,...k})},[c,u,e.datasetId,e.target_column,t]);const{data:d,isLoading:f}=Qe(c||e.datasetId),h=d?Object.values(d.columns).map(k=>k.name):[],m=b.useRef(null),[p,y]=b.useState(!1);b.useEffect(()=>{if(!m.current)return;const k=new ResizeObserver(_=>{for(const N of _)y(N.contentRect.width>450)});return k.observe(m.current),()=>k.disconnect()},[]);const v=()=>{const k=e.problem_type||"auto";return k==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:k==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},g=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),x=["select_from_model","rfe"].includes(e.method),w=()=>{const k=s==null?void 0:s.node_results[r||""];if(!k)return null;const _=k.metrics||{},N=_.dropped_columns,S=_.feature_scores,E=_.p_values,T=_.feature_importances,O=_.variances,C=_.ranking;return l.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[l.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),k.error&&l.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:k.error}),N&&N.length>0?l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:l.jsxs("span",{children:["Dropped Columns (",N.length,")"]})}),l.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:N.map(L=>{const P=S==null?void 0:S[L],D=E==null?void 0:E[L],I=T==null?void 0:T[L],R=O==null?void 0:O[L],A=C==null?void 0:C[L];return l.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[l.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:L,children:L}),l.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[P!==void 0&&l.jsxs("span",{children:["Score: ",P.toFixed(4)]}),D!==void 0&&l.jsxs("span",{children:["p-val: ",D.toExponential(2)]}),I!==void 0&&l.jsxs("span",{children:["Imp: ",I.toFixed(4)]}),R!==void 0&&l.jsxs("span",{children:["Var: ",R.toFixed(4)]}),A!==void 0&&l.jsxs("span",{children:["Rank: ",A]})]})]},L)})})]}):k.status==="success"&&l.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[l.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&l.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&l.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&l.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(S||T)&&l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),l.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(S||T||{}).sort(([,L],[,P])=>P-L).slice(0,5).map(([L,P])=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"truncate max-w-[120px]",title:L,children:L}),l.jsx("span",{className:"font-mono text-[10px]",children:P.toFixed(4)})]},L))})]})]})};return l.jsxs("div",{ref:m,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!c&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),f&&!!c&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:k=>t({...e,method:k.target.value}),children:[l.jsxs("optgroup",{label:"Simple",children:[l.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),l.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),l.jsxs("optgroup",{label:"Univariate",children:[l.jsx("option",{value:"select_k_best",children:"Select K Best"}),l.jsx("option",{value:"select_percentile",children:"Select Percentile"}),l.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),l.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),l.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),l.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),l.jsxs("optgroup",{label:"Model Based",children:[l.jsx("option",{value:"select_from_model",children:"Select From Model"}),l.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),u?l.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[u," ",l.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:k=>t({...e,target_column:k.target.value}),children:[l.jsx("option",{value:"",children:"Select Target..."}),h.map(k=>l.jsx("option",{value:k,children:k},k))]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(g||x)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:k=>t({...e,problem_type:k.target.value}),children:[l.jsx("option",{value:"auto",children:"Auto-detect"}),l.jsx("option",{value:"classification",children:"Classification"}),l.jsx("option",{value:"regression",children:"Regression"})]})]}),p&&l.jsx(w,{})]}),l.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[l.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),l.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),l.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:k=>t({...e,correlation_method:k.target.value}),children:[l.jsx("option",{value:"pearson",children:"Pearson"}),l.jsx("option",{value:"spearman",children:"Spearman"}),l.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),g&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:k=>t({...e,score_func:k.target.value}),children:[l.jsx("option",{value:"",children:"Auto (Default)"}),v().map(k=>l.jsx("option",{value:k.value,children:k.label},k.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:k=>t({...e,k:parseInt(k.target.value)})})]}),e.method==="select_percentile"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:k=>t({...e,percentile:parseInt(k.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),l.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:k=>t({...e,alpha:parseFloat(k.target.value)})})]}),e.method==="generic_univariate_select"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Mode"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:k=>t({...e,mode:k.target.value}),children:[l.jsx("option",{value:"k_best",children:"K Best"}),l.jsx("option",{value:"percentile",children:"Percentile"}),l.jsx("option",{value:"fpr",children:"FPR"}),l.jsx("option",{value:"fdr",children:"FDR"}),l.jsx("option",{value:"fwe",children:"FWE"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),l.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:k=>t({...e,param:parseFloat(k.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),x&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:k=>t({...e,estimator:k.target.value}),children:[l.jsx("option",{value:"auto",children:"Auto"}),l.jsx("option",{value:"RandomForest",children:"Random Forest"}),l.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),l.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:k=>t({...e,threshold:k.target.value})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Step"}),l.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:k=>t({...e,step:parseInt(k.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),l.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[l.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:k=>t({...e,drop_columns:k.target.checked})}),l.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!p&&l.jsx(w,{})]})]})]})},nle={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:nO,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:rle,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},ale=({config:e,onChange:t,nodeId:r})=>{var g;const n=at(r||""),a=ge(x=>x.nodes),i=ge(x=>x.edges),o=(x=>{var k;const w=new Set,j=[x];for(;j.length>0;){const _=j.shift();if(w.has(_))continue;w.add(_);const N=a.find(E=>E.id===_);if(!N)continue;if(_!==x&&((k=N.data)!=null&&k.datasetId))return N.data.datasetId;const S=xi(N,a,i);for(const E of S)j.push(E.id)}})(r||""),c=(g=n.find(x=>x.target_column))==null?void 0:g.target_column;fn.useEffect(()=>{const x={};o&&e.datasetId!==o&&(x.datasetId=o),c&&e.target_column!==c&&(x.target_column=c),Object.keys(x).length>0&&t({...e,...x})},[o,c,e.datasetId,e.target_column,t]);const{data:u,isLoading:d}=Qe(o||e.datasetId),f=u?Object.values(u.columns).map(x=>x.name):[],h=e.validation_size||0,m=1-e.test_size-h,p=fn.useRef(null),[y,v]=fn.useState(!1);return fn.useEffect(()=>{if(!p.current)return;const x=new ResizeObserver(w=>{for(const j of w)v(j.contentRect.width>450)});return x.observe(p.current),()=>x.disconnect()},[]),l.jsxs("div",{ref:p,className:`flex flex-col h-full w-full bg-background ${y?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!o&&!e.datasetId&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),d&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${y?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),l.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:x=>t({...e,test_size:parseFloat(x.target.value)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),l.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:h,onChange:x=>t({...e,validation_size:parseFloat(x.target.value)})}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(m*100),"% Training, ",Math.round(h*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),m<=0&&l.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Random State"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:x=>t({...e,random_state:parseInt(x.target.value)})})]})]}),l.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:x=>t({...e,shuffle:x.target.checked})}),l.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:x=>t({...e,stratify:x.target.checked})}),l.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),l.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[l.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:x=>t({...e,target_column:x.target.value}),disabled:!e.stratify,children:[l.jsx("option",{value:"",children:"-- Select Target --"}),f.map(x=>l.jsx("option",{value:x,children:x},x))]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},ile={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:sO,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:ale,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},sle=({config:e,onChange:t,nodeId:r})=>{const n=ge(u=>u.nodes),a=ge(u=>u.edges),s=(u=>{var h;const d=new Set,f=[u];for(;f.length>0;){const m=f.shift();if(d.has(m))continue;d.add(m);const p=n.find(v=>v.id===m);if(!p)continue;if(m!==u&&((h=p.data)!=null&&h.datasetId))return p.data.datasetId;const y=xi(p,n,a);for(const v of y)f.push(v.id)}})(r||"");fn.useEffect(()=>{s&&e.datasetId!==s&&t({...e,datasetId:s})},[s,e.datasetId,t]);const{data:o}=Qe(s||e.datasetId),c=o?Object.values(o.columns).map(u=>u.name):[];return l.jsx("div",{className:"p-4 space-y-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:u=>t({...e,target_column:u.target.value}),children:[l.jsx("option",{value:"",children:"-- Select Target --"}),c.map(u=>l.jsx("option",{value:u,children:u},u))]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},ole={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:sO,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:sle,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},lle=({config:e,onChange:t,nodeId:r})=>{var u;const a=(u=at(r||"").find(d=>d.datasetId))==null?void 0:u.datasetId,{isLoading:i}=Qe(a),s=ge(d=>d.executionResult),o=r?s==null?void 0:s.node_results[r]:null,c=o==null?void 0:o.metrics;return l.jsxs("div",{className:"p-4 space-y-4",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:d=>t({...e,drop_if_any_missing:d.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),l.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[l.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:d=>t({...e,missing_threshold:parseInt(d.target.value)}),className:"flex-1"}),l.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),c&&c.DropMissingRows_rows_removed!==void 0&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(Qr,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),l.jsx("span",{className:"font-medium text-destructive",children:c.DropMissingRows_rows_removed})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),l.jsx("span",{className:"font-medium",children:c.DropMissingRows_rows_remaining})]}),l.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),l.jsx("span",{className:"font-medium",children:c.DropMissingRows_rows_total})]})]})]})]})},cle={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:n9,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:lle,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},ule=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=at(r||"").find(g=>g.datasetId))==null?void 0:v.datasetId,{data:i,isLoading:s}=Qe(a),o=i?Object.values(i.columns).map(g=>g.name):[],c=ge(g=>g.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,[f,h]=b.useState(""),m=b.useMemo(()=>o.filter(g=>g.toLowerCase().includes(f.toLowerCase())),[o,f]),p=()=>{t({...e,subset:m})},y=()=>{const g=e.subset.filter(x=>!m.includes(x));t({...e,subset:g})};return l.jsxs("div",{className:"p-4 space-y-4",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:g=>t({...e,keep:g.target.value}),children:[l.jsx("option",{value:"first",children:"Keep First Occurrence"}),l.jsx("option",{value:"last",children:"Keep Last Occurrence"}),l.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),l.jsxs("div",{className:"space-y-2 mb-2",children:[l.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:g=>h(g.target.value)}),l.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[l.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),l.jsx("span",{className:"text-border",children:"|"}),l.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),o.length>0?l.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[m.map(g=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(g),onChange:x=>{const w=x.target.checked?[...e.subset,g]:e.subset.filter(j=>j!==g);t({...e,subset:w})}}),g]},g)),m.length===0&&l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):l.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.Deduplicate_rows_removed!==void 0&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(Qr,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),l.jsx("span",{className:"font-medium text-destructive",children:d.Deduplicate_rows_removed})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),l.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_remaining})]}),l.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),l.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_total})]})]})]})]})},dle={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:J7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:ule,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},fle=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],hle=({config:e,onChange:t,nodeId:r})=>{var x;const a=(x=at(r||"").find(w=>w.datasetId))==null?void 0:x.datasetId,{data:i,isLoading:s}=Qe(a),o=i?Object.values(i.columns).map(w=>w.name):[],c=ge(w=>w.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=b.useRef(null),[h,m]=b.useState(!1);b.useEffect(()=>{if(!f.current)return;const w=new ResizeObserver(j=>{for(const k of j)m(k.contentRect.width>450)});return w.observe(f.current),()=>w.disconnect()},[]);const p=()=>{if(o.length===0)return;const w=o.find(j=>!e.column_types[j])||o[0];t({...e,column_types:{...e.column_types,[w]:"float"}})},y=w=>{const j={...e.column_types};delete j[w],t({...e,column_types:j})},v=(w,j)=>{if(w===j)return;const k=e.column_types[w],_={...e.column_types};delete _[w],_[j]=k,t({...e,column_types:_})},g=(w,j)=>{t({...e,column_types:{...e.column_types,[w]:j}})};return l.jsxs("div",{ref:f,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),l.jsx("button",{onClick:p,disabled:!a||o.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:l.jsx(su,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:`space-y-2 ${h?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([w,j])=>l.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[l.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[l.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:w,onChange:k=>v(w,k.target.value),children:o.map(k=>l.jsx("option",{value:k,disabled:k!==w&&!!e.column_types[k],children:k},k))}),l.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:j,onChange:k=>g(w,k.target.value),children:fle.map(k=>l.jsx("option",{value:k.value,children:k.label},k.value))})]}),l.jsx("button",{onClick:()=>y(w),className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:l.jsx(ks,{className:"w-4 h-4"})})]},w)),Object.keys(e.column_types).length===0&&l.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${h?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),d&&(d.cast_errors!==void 0||d.casted_columns_count!==void 0)&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(Qr,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[d.casted_columns_count!==void 0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),l.jsx("span",{className:"font-medium",children:d.casted_columns_count})]}),d.cast_errors!==void 0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),l.jsx("span",{className:"font-medium text-destructive",children:d.cast_errors})]})]})]})]})},mle={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:r9,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:hle,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},ple=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=at(r||"").find(g=>g.datasetId))==null?void 0:v.datasetId,{data:i,isLoading:s}=Qe(a),o=i?Object.values(i.columns).map(g=>g.name):[],c=ge(g=>g.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,[f,h]=b.useState(""),m=b.useMemo(()=>o.filter(g=>g.toLowerCase().includes(f.toLowerCase())),[o,f]),p=()=>{t({...e,columns:m})},y=()=>{const g=e.columns.filter(x=>!m.includes(x));t({...e,columns:g})};return l.jsxs("div",{className:"p-4 space-y-4",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:g=>t({...e,flag_suffix:g.target.value}),placeholder:"_was_missing"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),l.jsxs("div",{className:"space-y-2 mb-2",children:[l.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:g=>h(g.target.value)}),l.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[l.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),l.jsx("span",{className:"text-border",children:"|"}),l.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),o.length>0?l.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[m.map(g=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(g),onChange:x=>{const w=x.target.checked?[...e.columns,g]:e.columns.filter(j=>j!==g);t({...e,columns:w})}}),g]},g)),m.length===0&&l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):l.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.missing_indicators_created!==void 0&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(Qr,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),l.jsx("span",{className:"font-medium text-primary",children:d.missing_indicators_created})]}),d.missing_indicators_columns&&Array.isArray(d.missing_indicators_columns)&&d.missing_indicators_columns.length>0&&l.jsxs("div",{className:"pt-1 border-t mt-1",children:[l.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:d.missing_indicators_columns.map(g=>l.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:g},g))})]})]})]})]})},gle={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:a9,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:ple,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},yle=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=at(r||"").find(_=>_.datasetId))==null?void 0:k.datasetId,{data:i,isLoading:s}=Qe(a),[o,c]=b.useState(""),u=b.useRef(null),[d,f]=b.useState(!1),h=ge(_=>_.executionResult),m=r?h==null?void 0:h.node_results[r]:null,p=m==null?void 0:m.metrics,v=((h==null?void 0:h.recommendations)||[]).filter(_=>_.suggested_node_type==="encoding"||_.type.includes("encoding")||_.type.includes("cardinality"));b.useEffect(()=>{if(!u.current)return;const _=new ResizeObserver(N=>{for(const S of N)f(S.contentRect.width>400)});return _.observe(u.current),()=>_.disconnect()},[]);const g=i?Object.values(i.columns).filter(_=>["object","string","category","bool"].some(N=>{var S;return(S=_.dtype)==null?void 0:S.toLowerCase().includes(N)})).map(_=>_.name):[],x=g.filter(_=>_.toLowerCase().includes(o.toLowerCase())),w=()=>{t({...e,columns:[...g]})},j=()=>{t({...e,columns:[]})};return l.jsxs("div",{ref:u,className:"p-4 space-y-4",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{className:`grid gap-4 ${d?"grid-cols-2":"grid-cols-1"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:_=>t({...e,method:_.target.value}),children:[l.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),l.jsx("option",{value:"dummy",children:"Dummy Encoding"}),l.jsx("option",{value:"label",children:"Label Encoding"}),l.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),l.jsx("option",{value:"target",children:"Target Encoding"}),l.jsx("option",{value:"hash",children:"Hash Encoding"})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]}),l.jsxs("div",{className:"pt-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:e.drop_original!==!1,onChange:_=>t({...e,drop_original:_.target.checked}),className:"rounded border-gray-300"}),"Drop Original Column"]}),l.jsx("p",{className:"text-[10px] text-muted-foreground ml-5",children:"If unchecked, keeps the original column alongside encoded features."})]})]}),l.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:_=>t({...e,drop_first:_.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),l.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:_=>t({...e,handle_unknown:_.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[l.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),l.jsx("option",{value:"error",children:"Raise Error"})]}),l.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:_=>t({...e,target_column:_.target.value}),children:[l.jsx("option",{value:"",children:"Select a target column..."}),i&&Object.values(i.columns).map(_=>l.jsxs("option",{value:_.name,children:[_.name," (",_.dtype,")"]},_.name))]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),l.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:_=>t({...e,n_features:parseInt(_.target.value)})})]}),e.method==="ordinal"&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:_=>t({...e,unknown_value:parseInt(_.target.value)}),title:"Integer to assign for unknown categories."}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:_=>t({...e,missing_code:parseInt(_.target.value)}),title:"Integer to assign for missing or unknown categories."}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),l.jsxs("div",{className:"space-y-2 mb-2",children:[l.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:o,onChange:_=>c(_.target.value)}),l.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[l.jsx("button",{onClick:w,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),l.jsx("span",{className:"text-border",children:"|"}),l.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),g.length>0?l.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[x.map(_=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(_),onChange:N=>{const S=N.target.checked?[...e.columns,_]:e.columns.filter(E=>E!==_);t({...e,columns:S})}}),_]},_)),x.length===0&&l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',o,'"']})]}):l.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),v.length>0&&l.jsx(Ss,{recommendations:v}),p&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(Qr,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[p.encoded_columns_count!==void 0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),l.jsx("span",{className:"font-medium",children:p.encoded_columns_count})]}),p.new_features_count!==void 0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),l.jsx("span",{className:"font-medium text-primary",children:p.new_features_count})]}),p.categories_count&&l.jsxs("div",{className:"mt-2 border-t pt-2",children:[l.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(p.categories_count).map(([_,N])=>l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),l.jsx("span",{className:"font-mono",children:N})]},_))})]}),p.classes_count&&l.jsxs("div",{className:"mt-2 border-t pt-2",children:[l.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(p.classes_count).map(([_,N])=>l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),l.jsx("span",{className:"font-mono",children:N})]},_))})]})]})]})]})},vle={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:l9,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:yle,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},xle=({config:e,onChange:t,nodeId:r})=>{const n=ge(N=>N.nodes),a=ge(N=>N.edges),s=(N=>{var T;const S=new Set,E=[N];for(;E.length>0;){const O=E.shift();if(S.has(O))continue;S.add(O);const C=n.find(P=>P.id===O);if(!C)continue;if(O!==N&&((T=C.data)!=null&&T.datasetId))return C.data.datasetId;const L=xi(C,n,a);for(const P of L)E.push(P.id)}})(r||""),{data:o,isLoading:c}=Qe(s),u=ll(r||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),d=ge(N=>N.executionResult),f=r?d==null?void 0:d.node_results[r]:null,h=b.useRef(null),[m,p]=b.useState(!1),[y,v]=b.useState("");b.useEffect(()=>{if(!h.current)return;const N=new ResizeObserver(S=>{for(const E of S)p(E.contentRect.width>450)});return N.observe(h.current),()=>N.disconnect()},[]);const g=o?Object.values(o.columns).filter(N=>["int","float","number"].some(S=>{var E;return(E=N.dtype)==null?void 0:E.toLowerCase().includes(S)})).map(N=>N.name):[],x=g.filter(N=>N.toLowerCase().includes(y.toLowerCase())),w=()=>{t({...e,columns:x})},j=()=>{const N=e.columns.filter(S=>!x.includes(S));t({...e,columns:N})},k=()=>{if(!f||!f.metrics)return null;const N=f.metrics,S=N.rows_removed,E=N.rows_remaining,T=N.rows_total??(S??0)+(E??0),O=N.bounds,C=N.stats,L=N.contamination,P=N.warnings,D=N.values_clipped;if(S===void 0&&!O&&!C&&L===void 0&&!P&&D===void 0)return null;const I=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return l.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),l.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:I()})]}),P&&P.length>0&&l.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[l.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),l.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:P.map((R,A)=>l.jsx("li",{className:"truncate",title:R,children:R},A))})]}),e.method==="winsorize"?l.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[l.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"font-mono font-medium text-blue-600",children:D??0}),l.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):(S!==void 0||T!==void 0)&&l.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[l.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsx("span",{className:"font-mono font-medium text-destructive",children:S??0}),T>0&&l.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((S??0)/T*100).toFixed(1),"%)"]})]}),E!==void 0&&l.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[E," remaining"]})]})]}),L!==void 0&&l.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[l.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),l.jsxs("span",{className:"font-mono font-medium",children:[(L*100).toFixed(1),"%"]})]}),O&&l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),l.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(O).map(([R,A])=>l.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[l.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),l.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",A.lower.toFixed(2),", ",A.upper.toFixed(2),"]"]})]},R))})]}),C&&l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),l.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(C).map(([R,A])=>l.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[l.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),l.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",A.mean.toFixed(2),", =",A.std.toFixed(2)]})]},R))})]})]})},_=()=>{const N=[];if(f&&f.metrics){const E=f.metrics,T=E.rows_removed,C=E.rows_total??E[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if(T!==void 0&&C!==void 0&&C>0){const L=T/C;L>.2?N.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):L===0&&e.method!=="winsorize"&&N.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&N.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const S=[...u,...N];return S.length===0?null:l.jsx("div",{className:"mt-4",children:l.jsx(Ss,{recommendations:S})})};return l.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${m?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!s&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${m?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${m?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:N=>t({...e,method:N.target.value}),children:[l.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),l.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),l.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),l.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),l.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),l.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:N=>t({...e,multiplier:parseFloat(N.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),l.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:N=>t({...e,threshold:parseFloat(N.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:N=>t({...e,lower_percentile:parseFloat(N.target.value)})})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:N=>t({...e,upper_percentile:parseFloat(N.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),l.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:N=>t({...e,contamination:parseFloat(N.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),m&&l.jsxs(l.Fragment,{children:[l.jsx(k,{}),l.jsx(_,{})]})]}),l.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${m?"":"shrink-0"}`,children:[l.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:w,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),l.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),l.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:y,onChange:N=>v(N.target.value)})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:x.length>0?x.map(N=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:S=>{const E=S.target.checked?[...e.columns,N]:e.columns.filter(T=>T!==N);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"truncate",title:N,children:N})]},N)):l.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:c?"Loading schema...":g.length===0?"No numeric columns found":"No matches found"})})]}),!m&&l.jsxs(l.Fragment,{children:[l.jsx(k,{}),l.jsx(_,{})]})]})]})},ble={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:j9,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:xle,validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},Tg={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},wle=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",jle=({allColumns:e,selectedColumns:t,onChange:r})=>{const[n,a]=b.useState(""),i=b.useMemo(()=>e.filter(u=>u.toLowerCase().includes(n.toLowerCase())),[e,n]),s=()=>{const u=Array.from(new Set([...t,...i]));r(u)},o=()=>{const u=t.filter(d=>!i.includes(d));r(u)},c=u=>{t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return l.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[l.jsx("div",{className:"flex gap-2 items-center",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(js,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),l.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:n,onChange:u=>a(u.target.value)})]})}),l.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[l.jsx("button",{onClick:s,className:"text-primary hover:underline font-medium",children:"Select All"}),l.jsx("span",{className:"text-muted-foreground",children:"|"}),l.jsx("button",{onClick:o,className:"text-muted-foreground hover:underline",children:"None"}),l.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),l.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:i.length===0?l.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',n,'"']}):i.map(u=>l.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[l.jsx("input",{type:"checkbox",checked:t.includes(u),onChange:()=>c(u),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"truncate",title:u,children:u})]},u))})]})},kle=({config:e,onChange:t,nodeId:r})=>{var j;const n=b.useMemo(()=>e||{transformations:[]},[e]),a=b.useMemo(()=>Array.isArray(n.transformations)?n.transformations:[],[n.transformations]),[i,s]=b.useState([]),o=b.useRef(null),[c,u]=b.useState(!1);b.useEffect(()=>{if(!o.current)return;const k=new ResizeObserver(_=>{for(const N of _)u(N.contentRect.width>450)});return k.observe(o.current),()=>k.disconnect()},[]);const f=(j=at(r||"").find(k=>k.datasetId))==null?void 0:j.datasetId,{data:h}=Qe(f),m=b.useMemo(()=>h!=null&&h.columns?Object.values(h.columns).filter(k=>["int","float","number"].some(_=>{var N;return(N=k.dtype)==null?void 0:N.toLowerCase().includes(_)})).map(k=>k.name):[],[h]),p=()=>{const k=a.length;s(_=>[..._,k]),t({transformations:[...a,{columns:[],method:"log",params:{}}]})},y=(k,_)=>{const N=[...a];N[k]={...N[k],..._},t({transformations:N})},v=k=>{const _=[...a];_.splice(k,1),t({transformations:_}),s(N=>N.filter(S=>S!==k).map(S=>S>k?S-1:S))},g=k=>{s(_=>_.includes(k)?_.filter(N=>N!==k):[..._,k])},x=(k,_)=>{const N=Tg[_].methods[0].value;y(k,{method:N})},w=ll(r||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return l.jsxs("div",{ref:o,className:"p-4 space-y-6 h-full overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),l.jsxs("button",{onClick:p,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[l.jsx(su,{size:12})," Add Rule"]})]}),l.jsxs("div",{className:"space-y-4",children:[a.map((k,_)=>{var T,O,C;const N=wle(k.method),S=i.includes(_),E=((T=Tg[N].methods.find(L=>L.value===k.method))==null?void 0:T.label)||k.method;return l.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>g(_),children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[S?l.jsx(Gt,{size:16,className:"text-muted-foreground flex-shrink-0"}):l.jsx(fs,{size:16,className:"text-muted-foreground flex-shrink-0"}),l.jsxs("div",{className:"flex flex-col overflow-hidden",children:[l.jsx("span",{className:"text-sm font-medium truncate",children:E}),l.jsx("span",{className:"text-xs text-muted-foreground truncate",children:k.columns.length===0?"No columns selected":`${k.columns.length} columns`})]})]}),l.jsx("button",{onClick:L=>{L.stopPropagation(),v(_)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:l.jsx(ks,{size:14})})]}),S&&l.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${c?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),l.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:N,onChange:L=>x(_,L.target.value),onClick:L=>L.stopPropagation(),children:[l.jsx("option",{value:"simple",children:"Simple Math"}),l.jsx("option",{value:"power",children:"Power Transform"})]}),l.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:k.method,onChange:L=>y(_,{method:L.target.value}),onClick:L=>L.stopPropagation(),children:Tg[N].methods.map(L=>l.jsx("option",{value:L.value,children:L.label},L.value))})]}),(k.method==="yeo-johnson"||k.method==="box-cox")&&l.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:L=>L.stopPropagation(),children:[l.jsx("input",{type:"checkbox",id:`std-${_}`,checked:((O=k.params)==null?void 0:O.standardize)!==!1,onChange:L=>y(_,{params:{...k.params,standardize:L.target.checked}})}),l.jsx("label",{htmlFor:`std-${_}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),k.method==="exponential"&&l.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:L=>L.stopPropagation(),children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),l.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((C=k.params)==null?void 0:C.clip_threshold)||700,onChange:L=>y(_,{params:{...k.params,clip_threshold:parseFloat(L.target.value)}})})]})]}),l.jsxs("div",{className:"space-y-1 min-w-0",onClick:L=>L.stopPropagation(),children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),l.jsx(jle,{allColumns:m,selectedColumns:k.columns||[],onChange:L=>y(_,{columns:L})})]})]})]},_)}),a.length===0&&l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",l.jsx("br",{}),'Click "Add Rule" to start.']})]}),l.jsx(Ss,{recommendations:w||[],onApply:k=>{var E,T;const _=k,N=((E=_.suggested_params)==null?void 0:E.method)||((T=_.params)==null?void 0:T.method)||"log",S=_.target_columns||[];if(S.length>0){const O=a.length;s(C=>[...C,O]),t({transformations:[...a,{columns:S,method:N,params:{}}]})}}})]})},Nle={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:oO,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(!(e!=null&&e.transformations)||e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(!t.columns||t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:kle,getDefaultConfig:()=>({transformations:[]})},_le=({value:e,onChange:t})=>{const[r,n]=b.useState((e==null?void 0:e.join(", "))||""),a=b.useRef(e);b.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(a.current)&&(n((e==null?void 0:e.join(", "))||""),a.current=e)},[e]);const i=()=>{const s=r.split(",").map(o=>parseFloat(o.trim())).filter(o=>!isNaN(o)).sort((o,c)=>o-c);t(s)};return l.jsx("input",{type:"text",className:"w-full p-1 text-xs border rounded bg-background text-foreground",placeholder:"0, 10, 20, 100...",value:r,onChange:s=>n(s.target.value),onBlur:i})},Sle=({config:e,onChange:t,nodeId:r})=>{var g;const a=(g=at(r||"").find(x=>x.datasetId))==null?void 0:g.datasetId,{data:i,isLoading:s}=Qe(a),o=b.useRef(null),[c,u]=b.useState(!1),[d,f]=b.useState("");b.useEffect(()=>{if(!o.current)return;const x=new ResizeObserver(w=>{for(const j of w)u(j.contentRect.width>450)});return x.observe(o.current),()=>x.disconnect()},[]);const h=i?Object.values(i.columns).filter(x=>["int","float","number"].some(w=>{var j;return(j=x.dtype)==null?void 0:j.toLowerCase().includes(w)})).map(x=>x.name):[],m=h.filter(x=>x.toLowerCase().includes(d.toLowerCase())),p=()=>{t({...e,columns:m})},y=()=>{const x=e.columns.filter(w=>!m.includes(w));t({...e,columns:x})},v=x=>{e.columns.includes(x)?t({...e,columns:e.columns.filter(w=>w!==x)}):t({...e,columns:[...e.columns,x]})};return l.jsxs("div",{ref:o,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),l.jsxs("div",{className:`grid gap-4 ${c?"grid-cols-2":"grid-cols-1"}`,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Binning Strategy"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.strategy,onChange:x=>t({...e,strategy:x.target.value}),children:[l.jsx("option",{value:"equal_width",children:"Equal Width (Uniform)"}),l.jsx("option",{value:"equal_frequency",children:"Equal Frequency (Quantile)"}),l.jsx("option",{value:"kmeans",children:"K-Means Clustering"}),l.jsx("option",{value:"custom",children:"Custom Edges"})]}),l.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[e.strategy==="equal_width"&&"Bins have equal width ranges.",e.strategy==="equal_frequency"&&"Bins have equal number of records.",e.strategy==="kmeans"&&"Bins based on K-Means clustering centers.",e.strategy==="custom"&&"Define specific bin edges for each column."]})]}),e.strategy!=="custom"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Number of Bins"}),l.jsx("input",{type:"number",min:2,max:100,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.n_bins,onChange:x=>t({...e,n_bins:parseInt(x.target.value)||5})})]}),e.strategy==="custom"&&l.jsxs("div",{className:"space-y-2 border rounded p-2 bg-muted/10",children:[l.jsx("label",{className:"block text-xs font-medium",children:"Custom Edges"}),e.columns.length===0?l.jsx("div",{className:"text-xs text-muted-foreground",children:"Select columns first."}):l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.columns.map(x=>{var w;return l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-medium",children:x}),l.jsx(_le,{value:(w=e.custom_bins)==null?void 0:w[x],onChange:j=>t({...e,custom_bins:{...e.custom_bins,[x]:j}})})]},x)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Label Format"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.label_format,onChange:x=>t({...e,label_format:x.target.value}),children:[l.jsx("option",{value:"ordinal",children:"Ordinal (0, 1, 2...)"}),l.jsx("option",{value:"range",children:"Range Intervals ([0-10], [10-20]...)"}),l.jsx("option",{value:"bin_index",children:"Bin Index"})]})]}),e.label_format==="range"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Precision (Decimals)"}),l.jsx("input",{type:"number",min:0,max:10,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.precision??3,onChange:x=>t({...e,precision:parseInt(x.target.value)||0})}),l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Number of decimal places to show in interval labels (e.g. 2 gives [0.00, 10.00])."})]}),l.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"drop_original",checked:e.drop_original,onChange:x=>t({...e,drop_original:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("label",{htmlFor:"drop_original",className:"text-sm",children:"Drop Original Columns"})]}),!e.drop_original&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Suffix"}),l.jsx("input",{type:"text",className:"w-full p-1.5 border rounded text-xs",placeholder:"_binned",value:e.output_suffix||"",onChange:x=>t({...e,output_suffix:x.target.value})})]})]})]}),l.jsxs("div",{className:"space-y-2 flex flex-col h-full min-h-[200px]",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Target Columns"}),l.jsx("div",{className:"flex gap-2",children:l.jsx("input",{className:"w-full px-2 py-1 text-xs border rounded bg-background text-foreground",placeholder:"Search columns...",value:d,onChange:x=>f(x.target.value)})}),l.jsxs("div",{className:"flex gap-2 text-xs border-b pb-1",children:[l.jsx("button",{onClick:p,className:"text-primary hover:underline",children:"Select All"}),l.jsx("span",{className:"text-muted-foreground",children:"|"}),l.jsx("button",{onClick:y,className:"text-muted-foreground hover:underline",children:"None"}),l.jsxs("span",{className:"ml-auto text-muted-foreground",children:[e.columns.length," selected"]})]}),l.jsx("div",{className:"flex-1 border rounded bg-background overflow-y-auto p-2 max-h-[300px]",children:s?l.jsx("div",{className:"text-xs text-muted-foreground p-2",children:"Loading columns..."}):m.length===0?l.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:h.length===0?"No numeric columns found.":`No columns match "${d}"`}):l.jsx("div",{className:"space-y-1",children:m.map(x=>l.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(x),onChange:()=>v(x),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"truncate",title:x,children:x})]},x))})})]})]})]})},Ele={type:"BinningNode",label:"Binning / Discretization",description:"Convert continuous variables into discrete bins.",icon:hm,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Binned"}],validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column to bin."}:e.n_bins<2?{isValid:!1,message:"Number of bins must be at least 2."}:{isValid:!0},settings:Sle,getDefaultConfig:()=>({columns:[],strategy:"equal_width",n_bins:5,label_format:"ordinal",output_suffix:"_binned",drop_original:!1})},Ple=({nodeId:e})=>{const t=ge(a=>a.executionResult),r=e?t==null?void 0:t.node_results[e]:null;if(!r)return null;const n=a=>a?l.jsx("div",{className:"space-y-1",children:Object.entries(a).map(([i,s])=>typeof s=="object"&&s!==null?l.jsxs("div",{className:"mt-1",children:[l.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[i.replace(/_/g," "),":"]}),l.jsx("div",{className:"pl-2 border-l-2 border-gray-200 dark:border-gray-700 ml-1",children:n(s)})]},i):l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[i.replace(/_/g," "),":"]}),l.jsx("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:String(s)})]},i))}):null;return l.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[l.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Last Run Results"}),l.jsxs("div",{className:"text-xs space-y-1 text-gray-600 dark:text-gray-300",children:[r.metrics&&l.jsx("div",{className:"mt-2",children:n(r.metrics)}),r.error&&l.jsxs("div",{className:"mt-2 text-red-500 break-words",children:["Error: ",r.error]}),!r.metrics&&!r.error&&l.jsx("div",{className:"italic text-gray-500",children:"No metrics available"})]})]})},Cle=({config:e,onChange:t,nodeId:r})=>{var y,v;const n=b.useRef(null),[a,i]=b.useState(!1),[s,o]=b.useState(!0),c=at(r||""),u=(y=c.find(g=>g.datasetId))==null?void 0:y.datasetId,{data:d}=Qe(u),f=(v=c.find(g=>{var x;return(x=g.config)==null?void 0:x.target_column}))==null?void 0:v.config.target_column;b.useEffect(()=>{if(!e.target_column){if(f)t({...e,target_column:f});else if(d!=null&&d.columns){const g=Object.values(d.columns).find(x=>x.name.toLowerCase()==="target"||x.name.toLowerCase()==="class"||x.column_type==="target");g&&t({...e,target_column:g.name})}}},[d,f,e.target_column]),b.useEffect(()=>{if(!n.current)return;const g=new ResizeObserver(x=>{for(const w of x)i(w.contentRect.width>400)});return g.observe(n.current),()=>g.disconnect()},[]);const h=ll(r||"",{types:["resampling"],suggestedNodeTypes:["ResamplingNode"]}),m=g=>{g.suggested_params&&t({...e,...g.suggested_params})},p=(g,x)=>{const w={...e,[g]:x};g==="type"&&(x==="oversampling"?w.method="smote":w.method="random_under_sampling"),t(w)};return l.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resampling Type"}),l.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.type,onChange:g=>p("type",g.target.value),children:[l.jsx("option",{value:"oversampling",children:"Oversampling (Minority)"}),l.jsx("option",{value:"undersampling",children:"Undersampling (Majority)"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Method"}),l.jsx("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.method,onChange:g=>p("method",g.target.value),children:e.type==="oversampling"?l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"smote",children:"SMOTE"}),l.jsx("option",{value:"adasyn",children:"ADASYN"}),l.jsx("option",{value:"borderline_smote",children:"Borderline SMOTE"}),l.jsx("option",{value:"svm_smote",children:"SVM SMOTE"}),l.jsx("option",{value:"kmeans_smote",children:"KMeans SMOTE"}),l.jsx("option",{value:"smote_tomek",children:"SMOTE + Tomek"})]}):l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"random_under_sampling",children:"Random Under Sampling"}),l.jsx("option",{value:"nearmiss",children:"NearMiss"}),l.jsx("option",{value:"tomek_links",children:"Tomek Links"}),l.jsx("option",{value:"edited_nearest_neighbours",children:"Edited Nearest Neighbours"})]})}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.type==="oversampling"?"Generate synthetic samples for the minority class.":"Remove samples from the majority class."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Column"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"e.g., target",value:e.target_column,onChange:g=>p("target_column",g.target.value),list:"target-column-suggestions"}),(d==null?void 0:d.columns)&&l.jsx("datalist",{id:"target-column-suggestions",children:Object.values(d.columns).map(g=>l.jsx("option",{value:g.name},g.name))})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f?"Auto-detected from upstream node.":"The column containing the class labels."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sampling Strategy"}),l.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.sampling_strategy,onChange:g=>p("sampling_strategy",g.target.value),children:[l.jsx("option",{value:"auto",children:"Auto (Resample all classes but majority)"}),l.jsx("option",{value:"minority",children:"Minority (Resample only minority class)"}),l.jsx("option",{value:"not minority",children:"Not Minority (Resample all but minority)"}),l.jsx("option",{value:"not majority",children:"Not Majority (Resample all but majority)"}),l.jsx("option",{value:"all",children:"All (Resample all classes)"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Defines which classes to resample."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Random State"}),l.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.random_state,onChange:g=>p("random_state",parseInt(g.target.value))})]})]}),l.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[e.type==="oversampling"&&l.jsxs(l.Fragment,{children:[["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"k Neighbors"}),l.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.k_neighbors??5,onChange:g=>p("k_neighbors",parseInt(g.target.value))})]}),["borderline_smote","svm_smote"].includes(e.method)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"m Neighbors"}),l.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.m_neighbors??10,onChange:g=>p("m_neighbors",parseInt(g.target.value))})]}),e.method==="borderline_smote"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kind"}),l.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind??"borderline-1",onChange:g=>p("kind",g.target.value),children:[l.jsx("option",{value:"borderline-1",children:"Borderline-1"}),l.jsx("option",{value:"borderline-2",children:"Borderline-2"})]})]}),e.method==="svm_smote"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Out Step"}),l.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.out_step??.5,onChange:g=>p("out_step",parseFloat(g.target.value))})]}),e.method==="kmeans_smote"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cluster Balance Threshold"}),l.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.cluster_balance_threshold??.1,onChange:g=>p("cluster_balance_threshold",parseFloat(g.target.value))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Density Exponent"}),l.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.density_exponent??"auto",onChange:g=>p("density_exponent",g.target.value)})]})]})]}),e.type==="undersampling"&&e.method==="random_under_sampling"&&l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Replacement"}),l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sample with replacement"})]}),l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:e.replacement??!1,onChange:g=>p("replacement",g.target.checked)})]}),e.type==="undersampling"&&e.method==="nearmiss"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Version"}),l.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.version??1,onChange:g=>p("version",parseInt(g.target.value)),children:[l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"})]})]}),e.type==="undersampling"&&e.method==="edited_nearest_neighbours"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"n Neighbors"}),l.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.n_neighbors??3,onChange:g=>p("n_neighbors",parseInt(g.target.value))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selection Kind"}),l.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind_sel??"all",onChange:g=>p("kind_sel",g.target.value),children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"mode",children:"Mode"})]})]})]}),h.length>0&&l.jsxs("div",{className:"mt-0 border rounded-md overflow-hidden border-gray-200 dark:border-gray-700",children:[l.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>o(!s),children:[l.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Recommendations (",h.length,")"]}),s?l.jsx(Xo,{size:16}):l.jsx(Gt,{size:16})]}),s&&l.jsx("div",{className:"p-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:l.jsx(Ss,{recommendations:h,onApply:m})})]}),r&&l.jsx(Ple,{nodeId:r})]})]})})},Ole=e=>e.target_column?e.type==="oversampling"&&["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&(e.k_neighbors??5)<1?{isValid:!1,message:"k_neighbors must be at least 1."}:{isValid:!0}:{isValid:!1,message:"Target column is required for resampling."},Ale={type:"ResamplingNode",label:"Resampling",category:"Preprocessing",description:"Balance dataset classes using oversampling or undersampling techniques.",icon:Qr,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Balanced Data",type:"dataset"}],settings:Cle,validate:Ole,getDefaultConfig:()=>({type:"oversampling",method:"smote",target_column:"",sampling_strategy:"auto",random_state:42,k_neighbors:5,replacement:!1,version:1,n_neighbors:3,kind_sel:"all"})},Tle=[{value:"arithmetic",label:"Arithmetic",icon:jx},{value:"datetime_extract",label:"Date Extraction",icon:X7},{value:"ratio",label:"Ratio",icon:y9},{value:"similarity",label:"Similarity",icon:o9},{value:"polynomial",label:"Polynomial",icon:O9},{value:"group_agg",label:"Group Agg",icon:oO}],Mle=["add","subtract","multiply","divide"],Ile=["year","month","day","weekday","hour","quarter","is_weekend"],Dle=["ratio","token_sort_ratio","token_set_ratio"],Rle=["mean","sum","count","min","max","std","median"],En=({columns:e,selected:t,onChange:r,label:n,single:a})=>{const[i,s]=b.useState(""),o=e.filter(u=>u.toLowerCase().includes(i.toLowerCase())),c=u=>{a?r([u]):t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return l.jsxs("div",{className:"space-y-1.5",children:[n&&l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),l.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[l.jsx(js,{size:12,className:"text-muted-foreground mr-1.5"}),l.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:i,onChange:u=>s(u.target.value)})]}),l.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:o.length>0?o.map(u=>{const d=t.includes(u);return l.jsxs("div",{onClick:()=>c(u),className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${d?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[l.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:d&&l.jsx(Wf,{size:8,strokeWidth:4})}),l.jsx("span",{className:"truncate",children:u})]},u)}):l.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center italic",children:"No columns found"})})]})]})},Lle=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=at(r||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:i}=Qe(a),s=ge(N=>N.executionResult),o=r?s==null?void 0:s.node_results[r]:null,c=o==null?void 0:o.metrics,[u,d]=b.useState(!1),f=i?Object.values(i.columns).map(N=>N.name):[],h=i?Object.values(i.columns).filter(N=>["int","float","number"].some(S=>{var E;return(E=N.dtype)==null?void 0:E.toLowerCase().includes(S)})).map(N=>N.name):[],m=i?Object.values(i.columns).filter(N=>["date","time"].some(S=>{var E;return(E=N.dtype)==null?void 0:E.toLowerCase().includes(S)})).map(N=>N.name):[],p=i?Object.values(i.columns).filter(N=>["string","object","text"].some(S=>{var E;return(E=N.dtype)==null?void 0:E.toLowerCase().includes(S)})).map(N=>N.name):[],y=ll(r||"",{types:["feature_generation"],suggestedNodeTypes:["FeatureGenerationNode"],scope:"column"}),v=N=>{console.log("Applying recommendation:",N)},g=N=>{const S={operation_type:N,method:N==="arithmetic"?"add":N==="similarity"?"ratio":N==="group_agg"?"mean":N==="polynomial"?"poly":"year",input_columns:[],output_column:"",datetime_features:N==="datetime_extract"?["year"]:void 0,degree:N==="polynomial"?2:void 0,interaction_only:N==="polynomial"?!1:void 0,isExpanded:!0};t({operations:[...e.operations||[],S]})},x=(N,S)=>{const E=[...e.operations||[]];E[N]={...E[N],...S},t({operations:E})},w=(N,S)=>{S.stopPropagation();const E=[...e.operations||[]];E.splice(N,1),t({operations:E})},j=N=>{const S=[...e.operations||[]];S[N]={...S[N],isExpanded:!S[N].isExpanded},t({operations:S})},k=(N,S)=>`${N.operation_type}_${S}`;return l.jsxs("div",{className:"flex h-full",children:[l.jsxs("div",{className:"w-20 border-r bg-muted/10 flex flex-col items-center py-4 gap-2 overflow-y-auto shrink-0",children:[l.jsx("span",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider",children:"Add"}),Tle.map(N=>l.jsxs("button",{onClick:()=>g(N.value),className:"flex flex-col items-center justify-center gap-1 p-1.5 rounded-md border bg-card hover:bg-accent hover:border-primary/50 transition-all group w-16 h-14 shadow-sm",title:N.label,children:[l.jsx(N.icon,{size:18,className:"text-muted-foreground group-hover:text-primary"}),l.jsx("span",{className:"text-[9px] font-medium text-muted-foreground group-hover:text-foreground text-center leading-tight line-clamp-2",children:N.label.replace(" ",`
`)})]},N.value))]}),l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:[y.length>0&&l.jsxs("div",{className:"border-b bg-muted/10",children:[l.jsxs("button",{onClick:()=>d(!u),className:"w-full flex items-center justify-between px-4 py-2 text-xs font-medium text-muted-foreground hover:text-primary hover:bg-muted/20 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(aO,{size:14,className:y.length>0?"text-yellow-500":""}),l.jsxs("span",{children:["Recommendations (",y.length,")"]})]}),u?l.jsx(Gt,{size:14}):l.jsx(fs,{size:14})]}),u&&l.jsx("div",{className:"p-4 bg-muted/5 border-t",children:l.jsx(Ss,{recommendations:y,onApply:v,className:"mb-0"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[(e.operations||[]).map((N,S)=>{var E,T,O;return l.jsxs("div",{className:"border rounded-lg bg-card shadow-sm overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>j(S),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[N.isExpanded?l.jsx(Gt,{size:14,className:"text-muted-foreground"}):l.jsx(fs,{size:14,className:"text-muted-foreground"}),l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:N.operation_type==="datetime_extract"?"Date":N.operation_type.replace("_"," ")}),["arithmetic","similarity","group_agg"].includes(N.operation_type)&&l.jsx("select",{className:"text-sm border-none bg-transparent font-semibold focus:ring-0 cursor-pointer hover:text-primary",value:N.method,onClick:C=>C.stopPropagation(),onChange:C=>x(S,{method:C.target.value}),children:(N.operation_type==="arithmetic"?Mle:N.operation_type==="similarity"?Dle:N.operation_type==="group_agg"?Rle:[]).map(C=>l.jsx("option",{value:C,children:C.replace("_"," ")},C))})]}),l.jsx("button",{onClick:C=>w(S,C),className:"text-muted-foreground hover:text-destructive transition-colors p-1 rounded-full hover:bg-destructive/10",children:l.jsx(ks,{size:14})})]}),N.isExpanded&&l.jsxs("div",{className:"p-3 space-y-4",children:[N.operation_type==="arithmetic"&&l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:N.method==="divide"?"Performs row-by-row division (Col A / Col B) for each record.":"Performs row-by-row arithmetic between two columns."}),l.jsx(En,{label:"Column A (Left Operand)",columns:h,selected:N.input_columns.slice(0,1),onChange:C=>x(S,{input_columns:C}),single:!0}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-px bg-border flex-1"}),l.jsx("span",{className:"text-lg font-bold text-muted-foreground bg-muted/20 w-8 h-8 rounded flex items-center justify-center",children:N.method==="add"?"+":N.method==="subtract"?"-":N.method==="multiply"?"":""}),l.jsx("div",{className:"h-px bg-border flex-1"})]}),l.jsx(En,{label:"Column B (Right Operand)",columns:h,selected:((E=N.secondary_columns)==null?void 0:E.slice(0,1))||[],onChange:C=>x(S,{secondary_columns:C}),single:!0})]}),N.operation_type==="ratio"&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:["Calculates aggregate ratio: ",l.jsx("strong",{children:"Sum(Numerator) / Sum(Denominator)"}),"."]}),l.jsx(En,{label:"Numerator (Sum)",columns:h,selected:N.input_columns,onChange:C=>x(S,{input_columns:C})}),l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-dashed"})}),l.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Divided By"})]}),l.jsx(En,{label:"Denominator (Sum)",columns:h,selected:N.secondary_columns||[],onChange:C=>x(S,{secondary_columns:C})})]}),N.operation_type==="similarity"&&l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20 space-y-1",children:[l.jsx("p",{children:"Calculates string similarity score (0-100) between two text columns."}),l.jsxs("ul",{className:"list-disc pl-3 space-y-0.5 opacity-80",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Ratio:"}),' Strict character matching (Levenshtein). "apple banana" != "banana apple".']}),l.jsxs("li",{children:[l.jsx("strong",{children:"Token Sort:"}),' Sorts words alphabetically then compares. "apple banana" == "banana apple".']}),l.jsxs("li",{children:[l.jsx("strong",{children:"Token Set:"})," Compares intersection of words. Handles duplicates/subsets well."]})]})]}),l.jsx(En,{label:"String A",columns:p,selected:N.input_columns.slice(0,1),onChange:C=>x(S,{input_columns:C}),single:!0}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-px bg-border flex-1"}),l.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted/20 px-2 py-1 rounded",children:"vs"}),l.jsx("div",{className:"h-px bg-border flex-1"})]}),l.jsx(En,{label:"String B",columns:p,selected:((T=N.secondary_columns)==null?void 0:T.slice(0,1))||[],onChange:C=>x(S,{secondary_columns:C}),single:!0})]}),N.operation_type==="polynomial"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Generates polynomial and interaction features (e.g., A, AB)."}),l.jsx(En,{label:"Input Columns",columns:h,selected:N.input_columns,onChange:C=>x(S,{input_columns:C})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Degree"}),l.jsx("input",{type:"number",min:"2",max:"5",className:"w-full text-xs border rounded p-1.5",value:N.degree||2,onChange:C=>x(S,{degree:parseInt(C.target.value)})})]}),l.jsx("div",{className:"space-y-1 pt-5",children:l.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:N.interaction_only||!1,onChange:C=>x(S,{interaction_only:C.target.checked})}),"Interaction Only"]})})]})]}),N.operation_type==="group_agg"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Calculates aggregate statistics (e.g., Mean Salary) grouped by a categorical column (e.g., Department) and assigns it back to each row."}),l.jsx(En,{label:"Group By (Categorical)",columns:p.length>0?p:f,selected:N.input_columns.slice(0,1),onChange:C=>x(S,{input_columns:C}),single:!0}),l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-dashed"})}),l.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Target Column"})]}),l.jsx(En,{label:"Target (Numeric)",columns:h,selected:((O=N.secondary_columns)==null?void 0:O.slice(0,1))||[],onChange:C=>x(S,{secondary_columns:C}),single:!0})]}),N.operation_type==="datetime_extract"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx(En,{label:"Date Column",columns:m.length>0?m:f,selected:N.input_columns.slice(0,1),onChange:C=>x(S,{input_columns:C}),single:!0}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Features to Extract"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ile.map(C=>l.jsxs("label",{className:"flex items-center gap-2 text-xs p-1.5 border rounded hover:bg-accent cursor-pointer transition-colors",children:[l.jsx("input",{type:"checkbox",className:"rounded border-muted-foreground/40 text-primary focus:ring-0",checked:(N.datetime_features||[]).includes(C),onChange:L=>{const P=N.datetime_features||[],D=L.target.checked?[...P,C]:P.filter(I=>I!==C);x(S,{datetime_features:D})}}),l.jsx("span",{className:"capitalize",children:C.replace("_"," ")})]},C))})]})]}),l.jsxs("div",{className:"pt-2",children:[l.jsx("label",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider mb-1 block",children:"Output Column Name"}),l.jsx("input",{type:"text",className:"w-full text-xs border rounded px-2 py-1.5 bg-background focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:k(N,S),value:N.output_column||"",onChange:C=>x(S,{output_column:C.target.value})})]})]})]},S)}),(!e.operations||e.operations.length===0)&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed rounded-lg bg-muted/5 text-muted-foreground",children:[l.jsx(jx,{size:32,className:"mb-2 opacity-20"}),l.jsx("p",{className:"text-xs font-medium",children:"No operations added"}),l.jsx("p",{className:"text-[10px] opacity-70",children:"Select a type above to start"})]}),c&&l.jsxs("div",{className:"border rounded-lg bg-muted/10 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold text-primary",children:[l.jsx(Qr,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsx("div",{className:"space-y-2 text-xs",children:c.generated_features&&c.generated_features.length>0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),l.jsx("span",{className:"font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:c.generated_features.length})]}),l.jsxs("div",{className:"pt-2",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-semibold mb-1.5 block",children:"Generated Columns"}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.generated_features.map(N=>l.jsx("span",{className:"px-2 py-1 bg-background border rounded text-[10px] font-mono text-foreground shadow-sm",children:N},N))})]})]}):l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[l.jsx(iu,{size:12}),l.jsx("span",{children:"No features generated in last run."})]})})]})]})]})]})},$le={type:"FeatureGenerationNode",label:"Feature Generation",description:"Create new features via math, stats, or date extraction.",icon:jx,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Enhanced"}],validate:e=>{var t,r,n;if(!e.operations||e.operations.length===0)return{isValid:!1,message:"Add at least one operation."};for(const a of e.operations){if(a.operation_type==="arithmetic"&&(a.input_columns.length===0||!((t=a.secondary_columns)!=null&&t.length)&&!((r=a.constants)!=null&&r.length)))return{isValid:!1,message:"Arithmetic requires two operands."};if(a.operation_type==="datetime_extract"&&a.input_columns.length===0)return{isValid:!1,message:"Select a date column."};if(a.operation_type==="polynomial"&&a.input_columns.length===0)return{isValid:!1,message:"Select input columns for polynomial features."};if(a.operation_type==="group_agg"&&(a.input_columns.length===0||!((n=a.secondary_columns)!=null&&n.length)))return{isValid:!1,message:"Select both Group By and Target columns."}}return{isValid:!0}},settings:Lle,getDefaultConfig:()=>({operations:[]})},zle=({columns:e,selected:t,onChange:r})=>{const[n,a]=b.useState(""),i=e.filter(o=>o.toLowerCase().includes(n.toLowerCase())),s=o=>{t.includes(o)?r(t.filter(c=>c!==o)):r([...t,o])};return l.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[l.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[l.jsx(js,{size:12,className:"text-muted-foreground mr-1.5"}),l.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:o=>a(o.target.value)})]}),l.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(o=>{const c=t.includes(o);return l.jsxs("div",{onClick:()=>s(o),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[l.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&l.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),l.jsx("span",{className:"truncate",children:o})]},o)}):l.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Fle=({operation:e,onChange:t,onDelete:r})=>l.jsxs("div",{className:"p-3 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("select",{className:"text-xs font-medium bg-transparent border-none focus:ring-0 p-0 text-gray-900 dark:text-gray-100",value:e.op,onChange:n=>{const a=n.target.value;let i="both";a==="case"&&(i="lower"),a==="remove_special"&&(i="keep_alphanumeric"),a==="regex"&&(i="custom"),t({...e,op:a,mode:i})},children:[l.jsx("option",{value:"trim",children:"Trim Whitespace"}),l.jsx("option",{value:"case",children:"Change Case"}),l.jsx("option",{value:"remove_special",children:"Remove Special Chars"}),l.jsx("option",{value:"regex",children:"Regex Replace"})]}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors",children:l.jsx(ks,{size:14})})]}),l.jsxs("div",{className:"space-y-2",children:[e.op==="trim"&&l.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[l.jsx("option",{value:"both",children:"Both Ends"}),l.jsx("option",{value:"leading",children:"Leading Only"}),l.jsx("option",{value:"trailing",children:"Trailing Only"})]}),e.op==="case"&&l.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[l.jsx("option",{value:"lower",children:"Lower Case"}),l.jsx("option",{value:"upper",children:"Upper Case"}),l.jsx("option",{value:"title",children:"Title Case"}),l.jsx("option",{value:"sentence",children:"Sentence Case"})]}),e.op==="remove_special"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[l.jsx("option",{value:"keep_alphanumeric",children:"Keep Alphanumeric"}),l.jsx("option",{value:"keep_alphanumeric_space",children:"Keep Alphanumeric & Space"}),l.jsx("option",{value:"letters_only",children:"Letters Only"}),l.jsx("option",{value:"digits_only",children:"Digits Only"})]}),l.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement (optional)",value:e.replacement||"",onChange:n=>t({...e,replacement:n.target.value})})]}),e.op==="regex"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[l.jsx("option",{value:"custom",children:"Custom Pattern"}),l.jsx("option",{value:"collapse_whitespace",children:"Collapse Whitespace"}),l.jsx("option",{value:"extract_digits",children:"Extract Digits"}),l.jsx("option",{value:"normalize_slash_dates",children:"Normalize Dates (MM/DD/YYYY)"})]}),e.mode==="custom"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5 font-mono",placeholder:"Regex Pattern",value:e.pattern||"",onChange:n=>t({...e,pattern:n.target.value})}),l.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",title:"Generate regex from literal text",onClick:()=>{const n=prompt("Enter the exact text you want to match (it will be escaped):");if(n){const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t({...e,pattern:a})}},children:l.jsx(C9,{size:14})})]}),l.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement",value:e.repl||"",onChange:n=>t({...e,repl:n.target.value})})]})]})]})]}),Ble=({config:e,onChange:t,nodeId:r})=>{var y;const n=b.useRef(null),[a,i]=b.useState(!1),[s,o]=b.useState(!0),u=(y=at(r||"").find(v=>v.datasetId))==null?void 0:y.datasetId,{data:d}=Qe(u),f=d?Object.values(d.columns).filter(v=>v.dtype==="object"||v.dtype==="string"||v.dtype==="category").map(v=>v.name):[];b.useEffect(()=>{if(!n.current)return;const v=new ResizeObserver(g=>{for(const x of g)i(x.contentRect.width>400)});return v.observe(n.current),()=>v.disconnect()},[]);const h=()=>{t({...e,operations:[...e.operations,{op:"trim",mode:"both"}]})},m=(v,g)=>{const x=[...e.operations];x[v]=g,t({...e,operations:x})},p=v=>{const g=e.operations.filter((x,w)=>w!==v);t({...e,operations:g})};return l.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),l.jsx(zle,{columns:f,selected:e.columns,onChange:v=>t({...e,columns:v})}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),l.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[l.jsxs("button",{onClick:()=>o(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[l.jsx(iu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),l.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Text Cleaning"}),s?l.jsx(Xo,{size:14,className:"text-blue-600 dark:text-blue-400"}):l.jsx(Gt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&l.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:l.jsx("p",{children:"Clean and standardize text columns by trimming whitespace, changing case, removing special characters, or applying custom regex patterns."})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cleaning Operations"}),l.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[l.jsx(su,{size:14}),"Add Step"]})]}),l.jsx("div",{className:"space-y-3",children:e.operations.length===0?l.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"No operations added."}),l.jsx("button",{onClick:h,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first cleaning step"})]}):e.operations.map((v,g)=>l.jsx(Fle,{operation:v,onChange:x=>m(g,x),onDelete:()=>p(g)},g))})]})]})})},Ule={type:"TextCleaning",label:"Text Cleaning",category:"Preprocessing",description:"Clean and standardize text columns.",icon:e9,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Ble,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.operations.length===0?{isValid:!1,message:"Add at least one operation."}:{isValid:!0},getDefaultConfig:()=>({columns:[],operations:[{op:"trim",mode:"both"}]})},Vle=({columns:e,selected:t,onChange:r})=>{const[n,a]=b.useState(""),i=e.filter(o=>o.toLowerCase().includes(n.toLowerCase())),s=o=>{t.includes(o)?r(t.filter(c=>c!==o)):r([...t,o])};return l.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[l.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[l.jsx(js,{size:12,className:"text-muted-foreground mr-1.5"}),l.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:o=>a(o.target.value)})]}),l.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(o=>{const c=t.includes(o);return l.jsxs("div",{onClick:()=>s(o),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[l.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&l.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),l.jsx("span",{className:"truncate",children:o})]},o)}):l.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},SS=({value:e,type:t,onChange:r,placeholder:n})=>{const a=s=>{let o=e;s==="number"&&(o=Number(e)||0),s==="boolean"&&(o=!!e),s==="string"&&(o=String(e)),s==="null"&&(o=null),s==="nan"&&(o="NaN"),r(o,s)},i=s=>{let o=s.target.value;t==="number"&&(o=parseFloat(o)),r(o,t)};return l.jsxs("div",{className:"flex gap-1",children:[l.jsxs("select",{className:"w-20 text-[10px] rounded border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 px-1",value:t,onChange:s=>a(s.target.value),children:[l.jsx("option",{value:"string",children:"Text"}),l.jsx("option",{value:"number",children:"Num"}),l.jsx("option",{value:"boolean",children:"Bool"}),l.jsx("option",{value:"null",children:"Null"})]}),t==="string"&&l.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:i,placeholder:n}),t==="number"&&l.jsx("input",{type:"number",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e,onChange:i,placeholder:n}),t==="boolean"&&l.jsxs("select",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:String(e),onChange:s=>r(s.target.value==="true","boolean"),children:[l.jsx("option",{value:"true",children:"True"}),l.jsx("option",{value:"false",children:"False"})]}),(t==="null"||t==="nan")&&l.jsx("div",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 italic flex items-center",children:t==="null"?"None / Null":"NaN"})]})},Hle=({item:e,onChange:t,onDelete:r})=>l.jsxs("div",{className:"p-2 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Find"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:l.jsx(ks,{size:14})})]}),l.jsx(SS,{value:e.old,type:e.oldType,onChange:(n,a)=>t({...e,old:n,oldType:a}),placeholder:"Value to find"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-gray-400",children:l.jsx(H7,{size:14,className:"rotate-90"})}),l.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Replace With"})]}),l.jsx(SS,{value:e.new,type:e.newType,onChange:(n,a)=>t({...e,new:n,newType:a}),placeholder:"New value"})]}),Wle=({config:e,onChange:t,nodeId:r})=>{var y;const n=b.useRef(null),[a,i]=b.useState(!1),[s,o]=b.useState(!0),u=(y=at(r||"").find(v=>v.datasetId))==null?void 0:y.datasetId,{data:d}=Qe(u),f=d?Object.values(d.columns).map(v=>v.name):[];b.useEffect(()=>{if(!n.current)return;const v=new ResizeObserver(g=>{for(const x of g)i(x.contentRect.width>400)});return v.observe(n.current),()=>v.disconnect()},[]);const h=()=>{t({...e,replacements:[...e.replacements,{old:"",new:"",oldType:"string",newType:"string"}]})},m=(v,g)=>{const x=[...e.replacements];x[v]=g,t({...e,replacements:x})},p=v=>{const g=e.replacements.filter((x,w)=>w!==v);t({...e,replacements:g})};return l.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),l.jsx(Vle,{columns:f,selected:e.columns,onChange:v=>t({...e,columns:v})})]})}),l.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[l.jsxs("button",{onClick:()=>o(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[l.jsx(iu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),l.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Value Replacement"}),s?l.jsx(Xo,{size:14,className:"text-blue-600 dark:text-blue-400"}):l.jsx(Gt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&l.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:l.jsx("p",{children:'Replace specific values with new ones. Useful for fixing typos, recoding categories (e.g., "Yes" to 1), or handling specific placeholders.'})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Value Mappings"}),l.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[l.jsx(su,{size:14}),"Add Mapping"]})]}),l.jsx("div",{className:"space-y-3",children:e.replacements.length===0?l.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"No replacements defined."}),l.jsx("button",{onClick:h,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first replacement"})]}):e.replacements.map((v,g)=>l.jsx(Hle,{item:v,onChange:x=>m(g,x),onDelete:()=>p(g)},g))})]})]})})},Kle={type:"ValueReplacement",label:"Value Replacement",category:"Preprocessing",description:"Replace specific values in columns.",icon:x9,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Processed Data",type:"dataset"}],settings:Wle,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.replacements.length===0?{isValid:!1,message:"Add at least one replacement."}:{isValid:!0},getDefaultConfig:()=>({columns:[],replacements:[{old:"",new:"",oldType:"string",newType:"string"}]})},qle=({columns:e,selected:t,onChange:r})=>{const[n,a]=b.useState(""),i=e.filter(o=>o.toLowerCase().includes(n.toLowerCase())),s=o=>{t.includes(o)?r(t.filter(c=>c!==o)):r([...t,o])};return l.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[l.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[l.jsx(js,{size:12,className:"text-muted-foreground mr-1.5"}),l.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:o=>a(o.target.value)})]}),l.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(o=>{const c=t.includes(o);return l.jsxs("div",{onClick:()=>s(o),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[l.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&l.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),l.jsx("span",{className:"truncate",children:o})]},o)}):l.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Yle=({pairs:e,onChange:t})=>{const[r,n]=b.useState(""),[a,i]=b.useState(""),s=()=>{r&&a&&(t({...e,[r]:a}),n(""),i(""))},o=c=>{const u={...e};delete u[c],t(u)};return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex gap-2 items-end",children:[l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Alias (Old)"}),l.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. NY",value:r,onChange:c=>n(c.target.value)})]}),l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Canonical (New)"}),l.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. New York",value:a,onChange:c=>i(c.target.value),onKeyDown:c=>c.key==="Enter"&&s()})]}),l.jsx("button",{onClick:s,disabled:!r||!a,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(su,{size:16})})]}),l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2 bg-gray-50 dark:bg-gray-800/50",children:Object.entries(e).length===0?l.jsx("div",{className:"text-center text-xs text-gray-500 py-2",children:"No custom aliases defined."}):Object.entries(e).map(([c,u])=>l.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[l.jsx("span",{className:"font-medium text-red-600 truncate max-w-[80px]",children:c}),l.jsx(tO,{size:12,className:"text-gray-400 shrink-0"}),l.jsx("span",{className:"font-medium text-green-600 truncate max-w-[80px]",children:u})]}),l.jsx("button",{onClick:()=>o(c),className:"text-gray-400 hover:text-red-500",children:l.jsx(ks,{size:14})})]},c))})]})},Xle=({config:e,onChange:t,nodeId:r})=>{var h;const n=b.useRef(null),[a,i]=b.useState(!1),[s,o]=b.useState(!0),u=(h=at(r||"").find(m=>m.datasetId))==null?void 0:h.datasetId,{data:d}=Qe(u),f=d?Object.values(d.columns).filter(m=>m.dtype==="object"||m.dtype==="string"||m.dtype==="category").map(m=>m.name):[];return b.useEffect(()=>{if(!n.current)return;const m=new ResizeObserver(p=>{for(const y of p)i(y.contentRect.width>400)});return m.observe(n.current),()=>m.disconnect()},[]),l.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),l.jsx(qle,{columns:f,selected:e.columns,onChange:m=>t({...e,columns:m})}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),l.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[l.jsxs("button",{onClick:()=>o(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[l.jsx(iu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),l.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Alias Replacement"}),s?l.jsx(Xo,{size:14,className:"text-blue-600 dark:text-blue-400"}):l.jsx(Gt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&l.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:l.jsx("p",{children:"Standardize data by mapping multiple variations (aliases) to a single canonical value. Useful for country codes, boolean strings, or custom synonyms."})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),l.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:m=>t({...e,mode:m.target.value}),children:[l.jsx("option",{value:"custom",children:"Custom Mapping"}),l.jsx("option",{value:"canonicalize_country_codes",children:"Canonicalize Country Codes"}),l.jsx("option",{value:"normalize_boolean",children:"Normalize Booleans (yes/no -> True/False)"}),l.jsx("option",{value:"punctuation",children:"Remove Punctuation"})]}),l.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="custom"&&"Define your own alias mappings below.",e.mode==="canonicalize_country_codes"&&"Standardizes country codes (e.g. 'USA', 'U.S.A.' -> 'US').",e.mode==="normalize_boolean"&&"Converts 'yes', 'y', '1' to True and 'no', 'n', '0' to False.",e.mode==="punctuation"&&"Removes common punctuation characters from text."]})]}),e.mode==="custom"&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Custom Aliases"}),l.jsx(Yle,{pairs:e.custom_pairs,onChange:m=>t({...e,custom_pairs:m})})]})]})]})})},Gle={type:"AliasReplacement",label:"Alias Replacement",category:"Preprocessing",description:"Standardize values by mapping aliases to canonical forms.",icon:tO,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Standardized Data",type:"dataset"}],settings:Xle,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom"&&Object.keys(e.custom_pairs).length===0?{isValid:!1,message:"Add at least one alias pair for custom mode."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"custom",custom_pairs:{}})},Qle=({columns:e,selected:t,onChange:r})=>{const[n,a]=b.useState(""),i=e.filter(o=>o.toLowerCase().includes(n.toLowerCase())),s=o=>{t.includes(o)?r(t.filter(c=>c!==o)):r([...t,o])};return l.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[l.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[l.jsx(js,{size:12,className:"text-muted-foreground mr-1.5"}),l.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:o=>a(o.target.value)})]}),l.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(o=>{const c=t.includes(o);return l.jsxs("div",{onClick:()=>s(o),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[l.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&l.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),l.jsx("span",{className:"truncate",children:o})]},o)}):l.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Zle=({config:e,onChange:t,nodeId:r})=>{var h;const n=b.useRef(null),[a,i]=b.useState(!1),[s,o]=b.useState(!0),u=(h=at(r||"").find(m=>m.datasetId))==null?void 0:h.datasetId,{data:d}=Qe(u),f=d?Object.values(d.columns).filter(m=>["int","float","number"].some(p=>{var y;return(y=m.dtype)==null?void 0:y.toLowerCase().includes(p)})).map(m=>m.name):[];return b.useEffect(()=>{if(!n.current)return;const m=new ResizeObserver(p=>{for(const y of p)i(y.contentRect.width>400)});return m.observe(n.current),()=>m.disconnect()},[]),l.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),l.jsx(Qle,{columns:f,selected:e.columns,onChange:m=>t({...e,columns:m})}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only numeric columns are shown."})]})}),l.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[l.jsxs("button",{onClick:()=>o(!s),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[l.jsx(iu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),l.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Invalid Value Replacement"}),s?l.jsx(Xo,{size:14,className:"text-blue-600 dark:text-blue-400"}):l.jsx(Gt,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),s&&l.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:l.jsx("p",{children:"Use this node to handle data quality issues by replacing invalid numeric values (like negative ages or out-of-bounds sensor readings) with NaN (Missing)."})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),l.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:m=>t({...e,mode:m.target.value}),children:[l.jsx("option",{value:"negative_to_nan",children:"Negative to NaN"}),l.jsx("option",{value:"zero_to_nan",children:"Zero to NaN"}),l.jsx("option",{value:"percentage_bounds",children:"Percentage Bounds (0-100)"}),l.jsx("option",{value:"age_bounds",children:"Age Bounds (0-120)"}),l.jsx("option",{value:"custom_range",children:"Custom Range"})]}),l.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="negative_to_nan"&&"Replaces all negative values (< 0) with NaN.",e.mode==="zero_to_nan"&&"Replaces all zero values (== 0) with NaN.",e.mode==="percentage_bounds"&&"Replaces values outside 0-100 range with NaN.",e.mode==="age_bounds"&&"Replaces values outside 0-120 range with NaN.",e.mode==="custom_range"&&"Replaces values outside the specified Min/Max range with NaN."]})]}),(e.mode==="custom_range"||e.mode==="percentage_bounds"||e.mode==="age_bounds")&&l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Min Value"}),l.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"0":"Min",value:e.min_value??"",onChange:m=>t({...e,min_value:m.target.value?parseFloat(m.target.value):void 0})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Max Value"}),l.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"100":"Max",value:e.max_value??"",onChange:m=>t({...e,max_value:m.target.value?parseFloat(m.target.value):void 0})})]}),l.jsx("p",{className:"col-span-2 text-[10px] text-gray-500",children:"Values outside this range will be replaced with NaN."})]})]})]})})},Jle={type:"InvalidValueReplacement",label:"Invalid Value Replacement",category:"Preprocessing",description:"Replace invalid or out-of-range values with NaN.",icon:Nx,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Zle,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom_range"&&e.min_value===void 0&&e.max_value===void 0?{isValid:!1,message:"Specify at least a min or max value for custom range."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"negative_to_nan"})},ece=()=>{ke.register(Ioe),ke.register(Loe),ke.register(zoe),ke.register(Boe),ke.register(Voe),ke.register(ble),ke.register(Nle),ke.register(Ele),ke.register(Ale),ke.register($le),ke.register(Ule),ke.register(Kle),ke.register(Gle),ke.register(Jle),ke.register(vle),ke.register(nle),ke.register(ile),ke.register(ole),ke.register(cle),ke.register(dle),ke.register(mle),ke.register(gle),ke.register(Yoe),ke.register(Joe),ke.register(tle),console.log("[Registry] Initialization complete. Total nodes:",ke.getAll().length)};ece();const tce=new sL;Mg.createRoot(document.getElementById("root")).render(l.jsx(fn.StrictMode,{children:l.jsx(lL,{client:tce,children:l.jsx(Toe,{})})}));
